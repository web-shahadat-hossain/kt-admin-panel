var V4=Object.defineProperty;var vO=e=>{throw TypeError(e)};var z4=(e,t,n)=>t in e?V4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ww=(e,t,n)=>z4(e,typeof t!="symbol"?t+"":t,n),Hw=(e,t,n)=>t.has(e)||vO("Cannot "+n);var je=(e,t,n)=>(Hw(e,t,"read from private field"),n?n.call(e):t.get(e)),Kn=(e,t,n)=>t.has(e)?vO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),bn=(e,t,n,r)=>(Hw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ro=(e,t,n)=>(Hw(e,t,"access private method"),n);var U0=(e,t,n,r)=>({set _(i){bn(e,t,i,n)},get _(){return je(e,t,r)}});var gae=W4((_s,ws)=>{function H4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fA={exports:{}},GS={},hA={exports:{}},En={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=Symbol.for("react.element"),G4=Symbol.for("react.portal"),q4=Symbol.for("react.fragment"),K4=Symbol.for("react.strict_mode"),Y4=Symbol.for("react.profiler"),Q4=Symbol.for("react.provider"),X4=Symbol.for("react.context"),J4=Symbol.for("react.forward_ref"),Z4=Symbol.for("react.suspense"),e3=Symbol.for("react.memo"),t3=Symbol.for("react.lazy"),yO=Symbol.iterator;function n3(e){return e===null||typeof e!="object"?null:(e=yO&&e[yO]||e["@@iterator"],typeof e=="function"?e:null)}var pA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA=Object.assign,gA={};function lm(e,t,n){this.props=e,this.context=t,this.refs=gA,this.updater=n||pA}lm.prototype.isReactComponent={};lm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vA(){}vA.prototype=lm.prototype;function T1(e,t,n){this.props=e,this.context=t,this.refs=gA,this.updater=n||pA}var R1=T1.prototype=new vA;R1.constructor=T1;mA(R1,lm.prototype);R1.isPureReactComponent=!0;var bO=Array.isArray,yA=Object.prototype.hasOwnProperty,k1={current:null},bA={key:!0,ref:!0,__self:!0,__source:!0};function xA(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)yA.call(t,r)&&!bA.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uy,type:e,key:o,ref:s,props:i,_owner:k1.current}}function r3(e,t){return{$$typeof:uy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O1(e){return typeof e=="object"&&e!==null&&e.$$typeof===uy}function i3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xO=/\/+/g;function Gw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i3(""+e.key):t.toString(36)}function mb(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case uy:case G4:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Gw(s,0):r,bO(i)?(n="",e!=null&&(n=e.replace(xO,"$&/")+"/"),mb(i,t,n,"",function(l){return l})):i!=null&&(O1(i)&&(i=r3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xO,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bO(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Gw(o,a);s+=mb(o,t,n,c,i)}else if(c=n3(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Gw(o,a++),s+=mb(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function B0(e,t,n){if(e==null)return e;var r=[],i=0;return mb(e,r,"","",function(o){return t.call(n,o,i++)}),r}function o3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jo={current:null},gb={transition:null},s3={ReactCurrentDispatcher:jo,ReactCurrentBatchConfig:gb,ReactCurrentOwner:k1};function SA(){throw Error("act(...) is not supported in production builds of React.")}En.Children={map:B0,forEach:function(e,t,n){B0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return B0(e,function(){t++}),t},toArray:function(e){return B0(e,function(t){return t})||[]},only:function(e){if(!O1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};En.Component=lm;En.Fragment=q4;En.Profiler=Y4;En.PureComponent=T1;En.StrictMode=K4;En.Suspense=Z4;En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s3;En.act=SA;En.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mA({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=k1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)yA.call(t,c)&&!bA.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:uy,type:e.type,key:i,ref:o,props:r,_owner:s}};En.createContext=function(e){return e={$$typeof:X4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q4,_context:e},e.Consumer=e};En.createElement=xA;En.createFactory=function(e){var t=xA.bind(null,e);return t.type=e,t};En.createRef=function(){return{current:null}};En.forwardRef=function(e){return{$$typeof:J4,render:e}};En.isValidElement=O1;En.lazy=function(e){return{$$typeof:t3,_payload:{_status:-1,_result:e},_init:o3}};En.memo=function(e,t){return{$$typeof:e3,type:e,compare:t===void 0?null:t}};En.startTransition=function(e){var t=gb.transition;gb.transition={};try{e()}finally{gb.transition=t}};En.unstable_act=SA;En.useCallback=function(e,t){return jo.current.useCallback(e,t)};En.useContext=function(e){return jo.current.useContext(e)};En.useDebugValue=function(){};En.useDeferredValue=function(e){return jo.current.useDeferredValue(e)};En.useEffect=function(e,t){return jo.current.useEffect(e,t)};En.useId=function(){return jo.current.useId()};En.useImperativeHandle=function(e,t,n){return jo.current.useImperativeHandle(e,t,n)};En.useInsertionEffect=function(e,t){return jo.current.useInsertionEffect(e,t)};En.useLayoutEffect=function(e,t){return jo.current.useLayoutEffect(e,t)};En.useMemo=function(e,t){return jo.current.useMemo(e,t)};En.useReducer=function(e,t,n){return jo.current.useReducer(e,t,n)};En.useRef=function(e){return jo.current.useRef(e)};En.useState=function(e){return jo.current.useState(e)};En.useSyncExternalStore=function(e,t,n){return jo.current.useSyncExternalStore(e,t,n)};En.useTransition=function(){return jo.current.useTransition()};En.version="18.3.1";hA.exports=En;var P=hA.exports;const ht=Qf(P),_A=H4({__proto__:null,default:ht},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3=P,c3=Symbol.for("react.element"),l3=Symbol.for("react.fragment"),u3=Object.prototype.hasOwnProperty,d3=a3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f3={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)u3.call(t,r)&&!f3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:c3,type:e,key:o,ref:s,props:i,_owner:d3.current}}GS.Fragment=l3;GS.jsx=wA;GS.jsxs=wA;fA.exports=GS;var u=fA.exports,EA={exports:{}},Ns={},CA={exports:{}},TA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,Q){var ne=Y.length;Y.push(Q);e:for(;0<ne;){var fe=ne-1>>>1,Te=Y[fe];if(0<i(Te,Q))Y[fe]=Q,Y[ne]=Te,ne=fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],ne=Y.pop();if(ne!==Q){Y[0]=ne;e:for(var fe=0,Te=Y.length,He=Te>>>1;fe<He;){var Le=2*(fe+1)-1,bt=Y[Le],Gt=Le+1,Ye=Y[Gt];if(0>i(bt,ne))Gt<Te&&0>i(Ye,bt)?(Y[fe]=Ye,Y[Gt]=ne,fe=Gt):(Y[fe]=bt,Y[Le]=ne,fe=Le);else if(Gt<Te&&0>i(Ye,ne))Y[fe]=Ye,Y[Gt]=ne,fe=Gt;else break e}}return Q}function i(Y,Q){var ne=Y.sortIndex-Q.sortIndex;return ne!==0?ne:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],l=[],h=1,p=null,m=3,E=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var Q=n(l);Q!==null;){if(Q.callback===null)r(l);else if(Q.startTime<=Y)r(l),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(l)}}function I(Y){if(y=!1,C(Y),!x)if(n(c)!==null)x=!0,Se(j);else{var Q=n(l);Q!==null&&ve(I,Q.startTime-Y)}}function j(Y,Q){x=!1,y&&(y=!1,R(z),z=-1),E=!0;var ne=m;try{for(C(Q),p=n(c);p!==null&&(!(p.expirationTime>Q)||Y&&!J());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,m=p.priorityLevel;var Te=fe(p.expirationTime<=Q);Q=e.unstable_now(),typeof Te=="function"?p.callback=Te:p===n(c)&&r(c),C(Q)}else r(c);p=n(c)}if(p!==null)var He=!0;else{var Le=n(l);Le!==null&&ve(I,Le.startTime-Q),He=!1}return He}finally{p=null,m=ne,E=!1}}var U=!1,$=null,z=-1,q=5,X=-1;function J(){return!(e.unstable_now()-X<q)}function G(){if($!==null){var Y=e.unstable_now();X=Y;var Q=!0;try{Q=$(!0,Y)}finally{Q?ee():(U=!1,$=null)}}else U=!1}var ee;if(typeof _=="function")ee=function(){_(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,xe=ce.port2;ce.port1.onmessage=G,ee=function(){xe.postMessage(null)}}else ee=function(){w(G,0)};function Se(Y){$=Y,U||(U=!0,ee())}function ve(Y,Q){z=w(function(){Y(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||E||(x=!0,Se(j))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var ne=m;m=Q;try{return Y()}finally{m=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=m;m=Y;try{return Q()}finally{m=ne}},e.unstable_scheduleCallback=function(Y,Q,ne){var fe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,Y){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,Y={id:h++,callback:Q,priorityLevel:Y,startTime:ne,expirationTime:Te,sortIndex:-1},ne>fe?(Y.sortIndex=ne,t(l,Y),n(c)===null&&Y===n(l)&&(y?(R(z),z=-1):y=!0,ve(I,ne-fe))):(Y.sortIndex=Te,t(c,Y),x||E||(x=!0,Se(j))),Y},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(Y){var Q=m;return function(){var ne=m;m=Q;try{return Y.apply(this,arguments)}finally{m=ne}}}})(TA);CA.exports=TA;var h3=CA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3=P,Rs=h3;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RA=new Set,Cv={};function Xf(e,t){zp(e,t),zp(e+"Capture",t)}function zp(e,t){for(Cv[e]=t,e=0;e<t.length;e++)RA.add(t[e])}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_C=Object.prototype.hasOwnProperty,m3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SO={},_O={};function g3(e){return _C.call(_O,e)?!0:_C.call(SO,e)?!1:m3.test(e)?_O[e]=!0:(SO[e]=!0,!1)}function v3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y3(e,t,n,r){if(t===null||typeof t>"u"||v3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Do(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ki[e]=new Do(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ki[t]=new Do(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ki[e]=new Do(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ki[e]=new Do(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ki[e]=new Do(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ki[e]=new Do(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ki[e]=new Do(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ki[e]=new Do(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ki[e]=new Do(e,5,!1,e.toLowerCase(),null,!1,!1)});var P1=/[\-:]([a-z])/g;function N1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P1,N1);Ki[t]=new Do(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P1,N1);Ki[t]=new Do(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P1,N1);Ki[t]=new Do(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ki[e]=new Do(e,1,!1,e.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new Do("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ki[e]=new Do(e,1,!1,e.toLowerCase(),null,!0,!0)});function I1(e,t,n,r){var i=Ki.hasOwnProperty(t)?Ki[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y3(t,n,i,r)&&(n=null),r||i===null?g3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xl=p3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$0=Symbol.for("react.element"),cp=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),OA=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),pu=Symbol.for("react.lazy"),PA=Symbol.for("react.offscreen"),wO=Symbol.iterator;function jg(e){return e===null||typeof e!="object"?null:(e=wO&&e[wO]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,qw;function Qg(e){if(qw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qw=t&&t[1]||""}return`
`+qw+e}var Kw=!1;function Yw(e,t){if(!e||Kw)return"";Kw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{Kw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qg(e):""}function b3(e){switch(e.tag){case 5:return Qg(e.type);case 16:return Qg("Lazy");case 13:return Qg("Suspense");case 19:return Qg("SuspenseList");case 0:case 2:case 15:return e=Yw(e.type,!1),e;case 11:return e=Yw(e.type.render,!1),e;case 1:return e=Yw(e.type,!0),e;default:return""}}function TC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lp:return"Fragment";case cp:return"Portal";case wC:return"Profiler";case A1:return"StrictMode";case EC:return"Suspense";case CC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OA:return(e.displayName||"Context")+".Consumer";case kA:return(e._context.displayName||"Context")+".Provider";case j1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D1:return t=e.displayName||null,t!==null?t:TC(e.type)||"Memo";case pu:t=e._payload,e=e._init;try{return TC(e(t))}catch{}}return null}function x3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TC(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S3(e){var t=NA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V0(e){e._valueTracker||(e._valueTracker=S3(e))}function IA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=NA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function RC(e,t){var n=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function EO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AA(e,t){t=t.checked,t!=null&&I1(e,"checked",t,!1)}function kC(e,t){AA(e,t);var n=qu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?OC(e,t.type,n):t.hasOwnProperty("defaultValue")&&OC(e,t.type,qu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function OC(e,t,n){(t!=="number"||kx(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xg=Array.isArray;function Sp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Xg(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qu(n)}}function jA(e,t){var n=qu(t.value),r=qu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function RO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z0,MA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z0=z0||document.createElement("div"),z0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var av={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_3=["Webkit","ms","Moz","O"];Object.keys(av).forEach(function(e){_3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),av[t]=av[e]})});function LA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||av.hasOwnProperty(e)&&av[e]?(""+t).trim():t+"px"}function FA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var w3=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IC(e,t){if(t){if(w3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function AC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jC=null;function M1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var DC=null,_p=null,wp=null;function kO(e){if(e=hy(e)){if(typeof DC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=XS(t),DC(e.stateNode,e.type,t))}}function UA(e){_p?wp?wp.push(e):wp=[e]:_p=e}function BA(){if(_p){var e=_p,t=wp;if(wp=_p=null,kO(e),t)for(e=0;e<t.length;e++)kO(t[e])}}function $A(e,t){return e(t)}function VA(){}var Qw=!1;function zA(e,t,n){if(Qw)return e(t,n);Qw=!0;try{return $A(e,t,n)}finally{Qw=!1,(_p!==null||wp!==null)&&(VA(),BA())}}function Rv(e,t){var n=e.stateNode;if(n===null)return null;var r=XS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var MC=!1;if(ul)try{var Dg={};Object.defineProperty(Dg,"passive",{get:function(){MC=!0}}),window.addEventListener("test",Dg,Dg),window.removeEventListener("test",Dg,Dg)}catch{MC=!1}function E3(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(h){this.onError(h)}}var cv=!1,Ox=null,Px=!1,LC=null,C3={onError:function(e){cv=!0,Ox=e}};function T3(e,t,n,r,i,o,s,a,c){cv=!1,Ox=null,E3.apply(C3,arguments)}function R3(e,t,n,r,i,o,s,a,c){if(T3.apply(this,arguments),cv){if(cv){var l=Ox;cv=!1,Ox=null}else throw Error(Ue(198));Px||(Px=!0,LC=l)}}function Jf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OO(e){if(Jf(e)!==e)throw Error(Ue(188))}function k3(e){var t=e.alternate;if(!t){if(t=Jf(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return OO(i),e;if(o===r)return OO(i),t;o=o.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function HA(e){return e=k3(e),e!==null?GA(e):null}function GA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GA(e);if(t!==null)return t;e=e.sibling}return null}var qA=Rs.unstable_scheduleCallback,PO=Rs.unstable_cancelCallback,O3=Rs.unstable_shouldYield,P3=Rs.unstable_requestPaint,ii=Rs.unstable_now,N3=Rs.unstable_getCurrentPriorityLevel,L1=Rs.unstable_ImmediatePriority,KA=Rs.unstable_UserBlockingPriority,Nx=Rs.unstable_NormalPriority,I3=Rs.unstable_LowPriority,YA=Rs.unstable_IdlePriority,qS=null,mc=null;function A3(e){if(mc&&typeof mc.onCommitFiberRoot=="function")try{mc.onCommitFiberRoot(qS,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:M3,j3=Math.log,D3=Math.LN2;function M3(e){return e>>>=0,e===0?32:31-(j3(e)/D3|0)|0}var W0=64,H0=4194304;function Jg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ix(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Jg(a):(o&=s,o!==0&&(r=Jg(o)))}else s=n&~i,s!==0?r=Jg(s):o!==0&&(r=Jg(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Na(t),i=1<<n,r|=e[n],t&=~i;return r}function L3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Na(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=L3(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function FC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QA(){var e=W0;return W0<<=1,!(W0&4194240)&&(W0=64),e}function Xw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dy(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=n}function U3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Na(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function F1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Na(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var nr=0;function XA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JA,U1,ZA,ej,tj,UC=!1,G0=[],Nu=null,Iu=null,Au=null,kv=new Map,Ov=new Map,vu=[],B3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NO(e,t){switch(e){case"focusin":case"focusout":Nu=null;break;case"dragenter":case"dragleave":Iu=null;break;case"mouseover":case"mouseout":Au=null;break;case"pointerover":case"pointerout":kv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ov.delete(t.pointerId)}}function Mg(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=hy(t),t!==null&&U1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $3(e,t,n,r,i){switch(t){case"focusin":return Nu=Mg(Nu,e,t,n,r,i),!0;case"dragenter":return Iu=Mg(Iu,e,t,n,r,i),!0;case"mouseover":return Au=Mg(Au,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return kv.set(o,Mg(kv.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ov.set(o,Mg(Ov.get(o)||null,e,t,n,r,i)),!0}return!1}function nj(e){var t=pf(e.target);if(t!==null){var n=Jf(t);if(n!==null){if(t=n.tag,t===13){if(t=WA(n),t!==null){e.blockedOn=t,tj(e.priority,function(){ZA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=BC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jC=r,n.target.dispatchEvent(r),jC=null}else return t=hy(n),t!==null&&U1(t),e.blockedOn=n,!1;t.shift()}return!0}function IO(e,t,n){vb(e)&&n.delete(t)}function V3(){UC=!1,Nu!==null&&vb(Nu)&&(Nu=null),Iu!==null&&vb(Iu)&&(Iu=null),Au!==null&&vb(Au)&&(Au=null),kv.forEach(IO),Ov.forEach(IO)}function Lg(e,t){e.blockedOn===t&&(e.blockedOn=null,UC||(UC=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,V3)))}function Pv(e){function t(i){return Lg(i,e)}if(0<G0.length){Lg(G0[0],e);for(var n=1;n<G0.length;n++){var r=G0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nu!==null&&Lg(Nu,e),Iu!==null&&Lg(Iu,e),Au!==null&&Lg(Au,e),kv.forEach(t),Ov.forEach(t),n=0;n<vu.length;n++)r=vu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vu.length&&(n=vu[0],n.blockedOn===null);)nj(n),n.blockedOn===null&&vu.shift()}var Ep=xl.ReactCurrentBatchConfig,Ax=!0;function z3(e,t,n,r){var i=nr,o=Ep.transition;Ep.transition=null;try{nr=1,B1(e,t,n,r)}finally{nr=i,Ep.transition=o}}function W3(e,t,n,r){var i=nr,o=Ep.transition;Ep.transition=null;try{nr=4,B1(e,t,n,r)}finally{nr=i,Ep.transition=o}}function B1(e,t,n,r){if(Ax){var i=BC(e,t,n,r);if(i===null)aE(e,t,r,jx,n),NO(e,r);else if($3(i,e,t,n,r))r.stopPropagation();else if(NO(e,r),t&4&&-1<B3.indexOf(e)){for(;i!==null;){var o=hy(i);if(o!==null&&JA(o),o=BC(e,t,n,r),o===null&&aE(e,t,r,jx,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else aE(e,t,r,null,n)}}var jx=null;function BC(e,t,n,r){if(jx=null,e=M1(r),e=pf(e),e!==null)if(t=Jf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=WA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jx=e,null}function rj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N3()){case L1:return 1;case KA:return 4;case Nx:case I3:return 16;case YA:return 536870912;default:return 16}default:return 16}}var Cu=null,$1=null,yb=null;function ij(){if(yb)return yb;var e,t=$1,n=t.length,r,i="value"in Cu?Cu.value:Cu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return yb=i.slice(e,1<r?1-r:void 0)}function bb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q0(){return!0}function AO(){return!1}function Is(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?q0:AO,this.isPropagationStopped=AO,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),t}var um={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V1=Is(um),fy=zr({},um,{view:0,detail:0}),H3=Is(fy),Jw,Zw,Fg,KS=zr({},fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fg&&(Fg&&e.type==="mousemove"?(Jw=e.screenX-Fg.screenX,Zw=e.screenY-Fg.screenY):Zw=Jw=0,Fg=e),Jw)},movementY:function(e){return"movementY"in e?e.movementY:Zw}}),jO=Is(KS),G3=zr({},KS,{dataTransfer:0}),q3=Is(G3),K3=zr({},fy,{relatedTarget:0}),eE=Is(K3),Y3=zr({},um,{animationName:0,elapsedTime:0,pseudoElement:0}),Q3=Is(Y3),X3=zr({},um,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J3=Is(X3),Z3=zr({},um,{data:0}),DO=Is(Z3),e$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n$[e])?!!t[e]:!1}function z1(){return r$}var i$=zr({},fy,{key:function(e){if(e.key){var t=e$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(e){return e.type==="keypress"?bb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o$=Is(i$),s$=zr({},KS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MO=Is(s$),a$=zr({},fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),c$=Is(a$),l$=zr({},um,{propertyName:0,elapsedTime:0,pseudoElement:0}),u$=Is(l$),d$=zr({},KS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f$=Is(d$),h$=[9,13,27,32],W1=ul&&"CompositionEvent"in window,lv=null;ul&&"documentMode"in document&&(lv=document.documentMode);var p$=ul&&"TextEvent"in window&&!lv,oj=ul&&(!W1||lv&&8<lv&&11>=lv),LO=" ",FO=!1;function sj(e,t){switch(e){case"keyup":return h$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var up=!1;function m$(e,t){switch(e){case"compositionend":return aj(t);case"keypress":return t.which!==32?null:(FO=!0,LO);case"textInput":return e=t.data,e===LO&&FO?null:e;default:return null}}function g$(e,t){if(up)return e==="compositionend"||!W1&&sj(e,t)?(e=ij(),yb=$1=Cu=null,up=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oj&&t.locale!=="ko"?null:t.data;default:return null}}var v$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v$[e.type]:t==="textarea"}function cj(e,t,n,r){UA(r),t=Dx(t,"onChange"),0<t.length&&(n=new V1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var uv=null,Nv=null;function y$(e){bj(e,0)}function YS(e){var t=hp(e);if(IA(t))return e}function b$(e,t){if(e==="change")return t}var lj=!1;if(ul){var tE;if(ul){var nE="oninput"in document;if(!nE){var BO=document.createElement("div");BO.setAttribute("oninput","return;"),nE=typeof BO.oninput=="function"}tE=nE}else tE=!1;lj=tE&&(!document.documentMode||9<document.documentMode)}function $O(){uv&&(uv.detachEvent("onpropertychange",uj),Nv=uv=null)}function uj(e){if(e.propertyName==="value"&&YS(Nv)){var t=[];cj(t,Nv,e,M1(e)),zA(y$,t)}}function x$(e,t,n){e==="focusin"?($O(),uv=t,Nv=n,uv.attachEvent("onpropertychange",uj)):e==="focusout"&&$O()}function S$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return YS(Nv)}function _$(e,t){if(e==="click")return YS(t)}function w$(e,t){if(e==="input"||e==="change")return YS(t)}function E$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Aa=typeof Object.is=="function"?Object.is:E$;function Iv(e,t){if(Aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_C.call(t,i)||!Aa(e[i],t[i]))return!1}return!0}function VO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zO(e,t){var n=VO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VO(n)}}function dj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fj(){for(var e=window,t=kx();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kx(e.document)}return t}function H1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C$(e){var t=fj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dj(n.ownerDocument.documentElement,n)){if(r!==null&&H1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=zO(n,o);var s=zO(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T$=ul&&"documentMode"in document&&11>=document.documentMode,dp=null,$C=null,dv=null,VC=!1;function WO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;VC||dp==null||dp!==kx(r)||(r=dp,"selectionStart"in r&&H1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dv&&Iv(dv,r)||(dv=r,r=Dx($C,"onSelect"),0<r.length&&(t=new V1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dp)))}function K0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fp={animationend:K0("Animation","AnimationEnd"),animationiteration:K0("Animation","AnimationIteration"),animationstart:K0("Animation","AnimationStart"),transitionend:K0("Transition","TransitionEnd")},rE={},hj={};ul&&(hj=document.createElement("div").style,"AnimationEvent"in window||(delete fp.animationend.animation,delete fp.animationiteration.animation,delete fp.animationstart.animation),"TransitionEvent"in window||delete fp.transitionend.transition);function QS(e){if(rE[e])return rE[e];if(!fp[e])return e;var t=fp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hj)return rE[e]=t[n];return e}var pj=QS("animationend"),mj=QS("animationiteration"),gj=QS("animationstart"),vj=QS("transitionend"),yj=new Map,HO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function id(e,t){yj.set(e,t),Xf(t,[e])}for(var iE=0;iE<HO.length;iE++){var oE=HO[iE],R$=oE.toLowerCase(),k$=oE[0].toUpperCase()+oE.slice(1);id(R$,"on"+k$)}id(pj,"onAnimationEnd");id(mj,"onAnimationIteration");id(gj,"onAnimationStart");id("dblclick","onDoubleClick");id("focusin","onFocus");id("focusout","onBlur");id(vj,"onTransitionEnd");zp("onMouseEnter",["mouseout","mouseover"]);zp("onMouseLeave",["mouseout","mouseover"]);zp("onPointerEnter",["pointerout","pointerover"]);zp("onPointerLeave",["pointerout","pointerover"]);Xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zg));function GO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,R3(r,t,void 0,e),e.currentTarget=null}function bj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;GO(i,a,l),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;GO(i,a,l),o=c}}}if(Px)throw e=LC,Px=!1,LC=null,e}function Tr(e,t){var n=t[qC];n===void 0&&(n=t[qC]=new Set);var r=e+"__bubble";n.has(r)||(xj(t,e,2,!1),n.add(r))}function sE(e,t,n){var r=0;t&&(r|=4),xj(n,e,r,t)}var Y0="_reactListening"+Math.random().toString(36).slice(2);function Av(e){if(!e[Y0]){e[Y0]=!0,RA.forEach(function(n){n!=="selectionchange"&&(O$.has(n)||sE(n,!1,e),sE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Y0]||(t[Y0]=!0,sE("selectionchange",!1,t))}}function xj(e,t,n,r){switch(rj(t)){case 1:var i=z3;break;case 4:i=W3;break;default:i=B1}n=i.bind(null,t,n,e),i=void 0,!MC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function aE(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=pf(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}zA(function(){var l=o,h=M1(n),p=[];e:{var m=yj.get(e);if(m!==void 0){var E=V1,x=e;switch(e){case"keypress":if(bb(n)===0)break e;case"keydown":case"keyup":E=o$;break;case"focusin":x="focus",E=eE;break;case"focusout":x="blur",E=eE;break;case"beforeblur":case"afterblur":E=eE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=jO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=c$;break;case pj:case mj:case gj:E=Q3;break;case vj:E=u$;break;case"scroll":E=H3;break;case"wheel":E=f$;break;case"copy":case"cut":case"paste":E=J3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=MO}var y=(t&4)!==0,w=!y&&e==="scroll",R=y?m!==null?m+"Capture":null:m;y=[];for(var _=l,C;_!==null;){C=_;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,R!==null&&(I=Rv(_,R),I!=null&&y.push(jv(_,I,C)))),w)break;_=_.return}0<y.length&&(m=new E(m,x,null,n,h),p.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",m&&n!==jC&&(x=n.relatedTarget||n.fromElement)&&(pf(x)||x[dl]))break e;if((E||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,E?(x=n.relatedTarget||n.toElement,E=l,x=x?pf(x):null,x!==null&&(w=Jf(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(E=null,x=l),E!==x)){if(y=jO,I="onMouseLeave",R="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(y=MO,I="onPointerLeave",R="onPointerEnter",_="pointer"),w=E==null?m:hp(E),C=x==null?m:hp(x),m=new y(I,_+"leave",E,n,h),m.target=w,m.relatedTarget=C,I=null,pf(h)===l&&(y=new y(R,_+"enter",x,n,h),y.target=C,y.relatedTarget=w,I=y),w=I,E&&x)t:{for(y=E,R=x,_=0,C=y;C;C=ep(C))_++;for(C=0,I=R;I;I=ep(I))C++;for(;0<_-C;)y=ep(y),_--;for(;0<C-_;)R=ep(R),C--;for(;_--;){if(y===R||R!==null&&y===R.alternate)break t;y=ep(y),R=ep(R)}y=null}else y=null;E!==null&&qO(p,m,E,y,!1),x!==null&&w!==null&&qO(p,w,x,y,!0)}}e:{if(m=l?hp(l):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var j=b$;else if(UO(m))if(lj)j=w$;else{j=S$;var U=x$}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=_$);if(j&&(j=j(e,l))){cj(p,j,n,h);break e}U&&U(e,m,l),e==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&OC(m,"number",m.value)}switch(U=l?hp(l):window,e){case"focusin":(UO(U)||U.contentEditable==="true")&&(dp=U,$C=l,dv=null);break;case"focusout":dv=$C=dp=null;break;case"mousedown":VC=!0;break;case"contextmenu":case"mouseup":case"dragend":VC=!1,WO(p,n,h);break;case"selectionchange":if(T$)break;case"keydown":case"keyup":WO(p,n,h)}var $;if(W1)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else up?sj(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(oj&&n.locale!=="ko"&&(up||z!=="onCompositionStart"?z==="onCompositionEnd"&&up&&($=ij()):(Cu=h,$1="value"in Cu?Cu.value:Cu.textContent,up=!0)),U=Dx(l,z),0<U.length&&(z=new DO(z,e,null,n,h),p.push({event:z,listeners:U}),$?z.data=$:($=aj(n),$!==null&&(z.data=$)))),($=p$?m$(e,n):g$(e,n))&&(l=Dx(l,"onBeforeInput"),0<l.length&&(h=new DO("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:l}),h.data=$))}bj(p,t)})}function jv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dx(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rv(e,n),o!=null&&r.unshift(jv(e,o,i)),o=Rv(e,t),o!=null&&r.push(jv(e,o,i))),e=e.return}return r}function ep(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qO(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Rv(n,o),c!=null&&s.unshift(jv(n,c,a))):i||(c=Rv(n,o),c!=null&&s.push(jv(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var P$=/\r\n?/g,N$=/\u0000|\uFFFD/g;function KO(e){return(typeof e=="string"?e:""+e).replace(P$,`
`).replace(N$,"")}function Q0(e,t,n){if(t=KO(t),KO(e)!==t&&n)throw Error(Ue(425))}function Mx(){}var zC=null,WC=null;function HC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GC=typeof setTimeout=="function"?setTimeout:void 0,I$=typeof clearTimeout=="function"?clearTimeout:void 0,YO=typeof Promise=="function"?Promise:void 0,A$=typeof queueMicrotask=="function"?queueMicrotask:typeof YO<"u"?function(e){return YO.resolve(null).then(e).catch(j$)}:GC;function j$(e){setTimeout(function(){throw e})}function cE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Pv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pv(t)}function ju(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dm=Math.random().toString(36).slice(2),dc="__reactFiber$"+dm,Dv="__reactProps$"+dm,dl="__reactContainer$"+dm,qC="__reactEvents$"+dm,D$="__reactListeners$"+dm,M$="__reactHandles$"+dm;function pf(e){var t=e[dc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dl]||n[dc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=QO(e);e!==null;){if(n=e[dc])return n;e=QO(e)}return t}e=n,n=e.parentNode}return null}function hy(e){return e=e[dc]||e[dl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function XS(e){return e[Dv]||null}var KC=[],pp=-1;function od(e){return{current:e}}function kr(e){0>pp||(e.current=KC[pp],KC[pp]=null,pp--)}function xr(e,t){pp++,KC[pp]=e.current,e.current=t}var Ku={},lo=od(Ku),Xo=od(!1),jf=Ku;function Wp(e,t){var n=e.type.contextTypes;if(!n)return Ku;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jo(e){return e=e.childContextTypes,e!=null}function Lx(){kr(Xo),kr(lo)}function XO(e,t,n){if(lo.current!==Ku)throw Error(Ue(168));xr(lo,t),xr(Xo,n)}function Sj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ue(108,x3(e)||"Unknown",i));return zr({},n,r)}function Fx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ku,jf=lo.current,xr(lo,e),xr(Xo,Xo.current),!0}function JO(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=Sj(e,t,jf),r.__reactInternalMemoizedMergedChildContext=e,kr(Xo),kr(lo),xr(lo,e)):kr(Xo),xr(Xo,n)}var Jc=null,JS=!1,lE=!1;function _j(e){Jc===null?Jc=[e]:Jc.push(e)}function L$(e){JS=!0,_j(e)}function sd(){if(!lE&&Jc!==null){lE=!0;var e=0,t=nr;try{var n=Jc;for(nr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jc=null,JS=!1}catch(i){throw Jc!==null&&(Jc=Jc.slice(e+1)),qA(L1,sd),i}finally{nr=t,lE=!1}}return null}var mp=[],gp=0,Ux=null,Bx=0,Xs=[],Js=0,Df=null,el=1,tl="";function lf(e,t){mp[gp++]=Bx,mp[gp++]=Ux,Ux=e,Bx=t}function wj(e,t,n){Xs[Js++]=el,Xs[Js++]=tl,Xs[Js++]=Df,Df=e;var r=el;e=tl;var i=32-Na(r)-1;r&=~(1<<i),n+=1;var o=32-Na(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,el=1<<32-Na(t)+i|n<<i|r,tl=o+e}else el=1<<o|n<<i|r,tl=e}function G1(e){e.return!==null&&(lf(e,1),wj(e,1,0))}function q1(e){for(;e===Ux;)Ux=mp[--gp],mp[gp]=null,Bx=mp[--gp],mp[gp]=null;for(;e===Df;)Df=Xs[--Js],Xs[Js]=null,tl=Xs[--Js],Xs[Js]=null,el=Xs[--Js],Xs[Js]=null}var Es=null,Ss=null,Ir=!1,Oa=null;function Ej(e,t){var n=ea(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ZO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ss=ju(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Df!==null?{id:el,overflow:tl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ea(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Es=e,Ss=null,!0):!1;default:return!1}}function YC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QC(e){if(Ir){var t=Ss;if(t){var n=t;if(!ZO(e,t)){if(YC(e))throw Error(Ue(418));t=ju(n.nextSibling);var r=Es;t&&ZO(e,t)?Ej(r,n):(e.flags=e.flags&-4097|2,Ir=!1,Es=e)}}else{if(YC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Ir=!1,Es=e}}}function eP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function X0(e){if(e!==Es)return!1;if(!Ir)return eP(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HC(e.type,e.memoizedProps)),t&&(t=Ss)){if(YC(e))throw Cj(),Error(Ue(418));for(;t;)Ej(e,t),t=ju(t.nextSibling)}if(eP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ss=ju(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ss=null}}else Ss=Es?ju(e.stateNode.nextSibling):null;return!0}function Cj(){for(var e=Ss;e;)e=ju(e.nextSibling)}function Hp(){Ss=Es=null,Ir=!1}function K1(e){Oa===null?Oa=[e]:Oa.push(e)}var F$=xl.ReactCurrentBatchConfig;function Ug(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function J0(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tP(e){var t=e._init;return t(e._payload)}function Tj(e){function t(R,_){if(e){var C=R.deletions;C===null?(R.deletions=[_],R.flags|=16):C.push(_)}}function n(R,_){if(!e)return null;for(;_!==null;)t(R,_),_=_.sibling;return null}function r(R,_){for(R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function i(R,_){return R=Fu(R,_),R.index=0,R.sibling=null,R}function o(R,_,C){return R.index=C,e?(C=R.alternate,C!==null?(C=C.index,C<_?(R.flags|=2,_):C):(R.flags|=2,_)):(R.flags|=1048576,_)}function s(R){return e&&R.alternate===null&&(R.flags|=2),R}function a(R,_,C,I){return _===null||_.tag!==6?(_=gE(C,R.mode,I),_.return=R,_):(_=i(_,C),_.return=R,_)}function c(R,_,C,I){var j=C.type;return j===lp?h(R,_,C.props.children,I,C.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pu&&tP(j)===_.type)?(I=i(_,C.props),I.ref=Ug(R,_,C),I.return=R,I):(I=Tb(C.type,C.key,C.props,null,R.mode,I),I.ref=Ug(R,_,C),I.return=R,I)}function l(R,_,C,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=vE(C,R.mode,I),_.return=R,_):(_=i(_,C.children||[]),_.return=R,_)}function h(R,_,C,I,j){return _===null||_.tag!==7?(_=Rf(C,R.mode,I,j),_.return=R,_):(_=i(_,C),_.return=R,_)}function p(R,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=gE(""+_,R.mode,C),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $0:return C=Tb(_.type,_.key,_.props,null,R.mode,C),C.ref=Ug(R,null,_),C.return=R,C;case cp:return _=vE(_,R.mode,C),_.return=R,_;case pu:var I=_._init;return p(R,I(_._payload),C)}if(Xg(_)||jg(_))return _=Rf(_,R.mode,C,null),_.return=R,_;J0(R,_)}return null}function m(R,_,C,I){var j=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return j!==null?null:a(R,_,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $0:return C.key===j?c(R,_,C,I):null;case cp:return C.key===j?l(R,_,C,I):null;case pu:return j=C._init,m(R,_,j(C._payload),I)}if(Xg(C)||jg(C))return j!==null?null:h(R,_,C,I,null);J0(R,C)}return null}function E(R,_,C,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return R=R.get(C)||null,a(_,R,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $0:return R=R.get(I.key===null?C:I.key)||null,c(_,R,I,j);case cp:return R=R.get(I.key===null?C:I.key)||null,l(_,R,I,j);case pu:var U=I._init;return E(R,_,C,U(I._payload),j)}if(Xg(I)||jg(I))return R=R.get(C)||null,h(_,R,I,j,null);J0(_,I)}return null}function x(R,_,C,I){for(var j=null,U=null,$=_,z=_=0,q=null;$!==null&&z<C.length;z++){$.index>z?(q=$,$=null):q=$.sibling;var X=m(R,$,C[z],I);if(X===null){$===null&&($=q);break}e&&$&&X.alternate===null&&t(R,$),_=o(X,_,z),U===null?j=X:U.sibling=X,U=X,$=q}if(z===C.length)return n(R,$),Ir&&lf(R,z),j;if($===null){for(;z<C.length;z++)$=p(R,C[z],I),$!==null&&(_=o($,_,z),U===null?j=$:U.sibling=$,U=$);return Ir&&lf(R,z),j}for($=r(R,$);z<C.length;z++)q=E($,R,z,C[z],I),q!==null&&(e&&q.alternate!==null&&$.delete(q.key===null?z:q.key),_=o(q,_,z),U===null?j=q:U.sibling=q,U=q);return e&&$.forEach(function(J){return t(R,J)}),Ir&&lf(R,z),j}function y(R,_,C,I){var j=jg(C);if(typeof j!="function")throw Error(Ue(150));if(C=j.call(C),C==null)throw Error(Ue(151));for(var U=j=null,$=_,z=_=0,q=null,X=C.next();$!==null&&!X.done;z++,X=C.next()){$.index>z?(q=$,$=null):q=$.sibling;var J=m(R,$,X.value,I);if(J===null){$===null&&($=q);break}e&&$&&J.alternate===null&&t(R,$),_=o(J,_,z),U===null?j=J:U.sibling=J,U=J,$=q}if(X.done)return n(R,$),Ir&&lf(R,z),j;if($===null){for(;!X.done;z++,X=C.next())X=p(R,X.value,I),X!==null&&(_=o(X,_,z),U===null?j=X:U.sibling=X,U=X);return Ir&&lf(R,z),j}for($=r(R,$);!X.done;z++,X=C.next())X=E($,R,z,X.value,I),X!==null&&(e&&X.alternate!==null&&$.delete(X.key===null?z:X.key),_=o(X,_,z),U===null?j=X:U.sibling=X,U=X);return e&&$.forEach(function(G){return t(R,G)}),Ir&&lf(R,z),j}function w(R,_,C,I){if(typeof C=="object"&&C!==null&&C.type===lp&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $0:e:{for(var j=C.key,U=_;U!==null;){if(U.key===j){if(j=C.type,j===lp){if(U.tag===7){n(R,U.sibling),_=i(U,C.props.children),_.return=R,R=_;break e}}else if(U.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pu&&tP(j)===U.type){n(R,U.sibling),_=i(U,C.props),_.ref=Ug(R,U,C),_.return=R,R=_;break e}n(R,U);break}else t(R,U);U=U.sibling}C.type===lp?(_=Rf(C.props.children,R.mode,I,C.key),_.return=R,R=_):(I=Tb(C.type,C.key,C.props,null,R.mode,I),I.ref=Ug(R,_,C),I.return=R,R=I)}return s(R);case cp:e:{for(U=C.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(R,_.sibling),_=i(_,C.children||[]),_.return=R,R=_;break e}else{n(R,_);break}else t(R,_);_=_.sibling}_=vE(C,R.mode,I),_.return=R,R=_}return s(R);case pu:return U=C._init,w(R,_,U(C._payload),I)}if(Xg(C))return x(R,_,C,I);if(jg(C))return y(R,_,C,I);J0(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(R,_.sibling),_=i(_,C),_.return=R,R=_):(n(R,_),_=gE(C,R.mode,I),_.return=R,R=_),s(R)):n(R,_)}return w}var Gp=Tj(!0),Rj=Tj(!1),$x=od(null),Vx=null,vp=null,Y1=null;function Q1(){Y1=vp=Vx=null}function X1(e){var t=$x.current;kr($x),e._currentValue=t}function XC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cp(e,t){Vx=e,Y1=vp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qo=!0),e.firstContext=null)}function ia(e){var t=e._currentValue;if(Y1!==e)if(e={context:e,memoizedValue:t,next:null},vp===null){if(Vx===null)throw Error(Ue(308));vp=e,Vx.dependencies={lanes:0,firstContext:e}}else vp=vp.next=e;return t}var mf=null;function J1(e){mf===null?mf=[e]:mf.push(e)}function kj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,J1(t)):(n.next=i.next,i.next=n),t.interleaved=n,fl(e,r)}function fl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mu=!1;function Z1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function il(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Du(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ln&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fl(e,n)}return i=r.interleaved,i===null?(t.next=t,J1(r)):(t.next=i.next,i.next=t),r.interleaved=t,fl(e,n)}function xb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}function nP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zx(e,t,n,r){var i=e.updateQueue;mu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?o=l:s.next=l,s=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,h=l=c=null,a=o;do{var m=a.lane,E=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(m=t,E=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(E,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(E,p,m):x,m==null)break e;p=zr({},p,m);break e;case 2:mu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(l=h=E,c=p):h=h.next=E,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Lf|=s,e.lanes=s,e.memoizedState=p}}function rP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var py={},gc=od(py),Mv=od(py),Lv=od(py);function gf(e){if(e===py)throw Error(Ue(174));return e}function eR(e,t){switch(xr(Lv,t),xr(Mv,e),xr(gc,py),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:NC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=NC(t,e)}kr(gc),xr(gc,t)}function qp(){kr(gc),kr(Mv),kr(Lv)}function Pj(e){gf(Lv.current);var t=gf(gc.current),n=NC(t,e.type);t!==n&&(xr(Mv,e),xr(gc,n))}function tR(e){Mv.current===e&&(kr(gc),kr(Mv))}var Br=od(0);function Wx(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uE=[];function nR(){for(var e=0;e<uE.length;e++)uE[e]._workInProgressVersionPrimary=null;uE.length=0}var Sb=xl.ReactCurrentDispatcher,dE=xl.ReactCurrentBatchConfig,Mf=0,Vr=null,vi=null,Ii=null,Hx=!1,fv=!1,Fv=0,U$=0;function io(){throw Error(Ue(321))}function rR(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Aa(e[n],t[n]))return!1;return!0}function iR(e,t,n,r,i,o){if(Mf=o,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sb.current=e===null||e.memoizedState===null?z$:W$,e=n(r,i),fv){o=0;do{if(fv=!1,Fv=0,25<=o)throw Error(Ue(301));o+=1,Ii=vi=null,t.updateQueue=null,Sb.current=H$,e=n(r,i)}while(fv)}if(Sb.current=Gx,t=vi!==null&&vi.next!==null,Mf=0,Ii=vi=Vr=null,Hx=!1,t)throw Error(Ue(300));return e}function oR(){var e=Fv!==0;return Fv=0,e}function sc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?Vr.memoizedState=Ii=e:Ii=Ii.next=e,Ii}function oa(){if(vi===null){var e=Vr.alternate;e=e!==null?e.memoizedState:null}else e=vi.next;var t=Ii===null?Vr.memoizedState:Ii.next;if(t!==null)Ii=t,vi=e;else{if(e===null)throw Error(Ue(310));vi=e,e={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ii===null?Vr.memoizedState=Ii=e:Ii=Ii.next=e}return Ii}function Uv(e,t){return typeof t=="function"?t(e):t}function fE(e){var t=oa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=vi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,l=o;do{var h=l.lane;if((Mf&h)===h)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var p={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=p,s=r):c=c.next=p,Vr.lanes|=h,Lf|=h}l=l.next}while(l!==null&&l!==o);c===null?s=r:c.next=a,Aa(r,t.memoizedState)||(qo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Vr.lanes|=o,Lf|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hE(e){var t=oa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Aa(o,t.memoizedState)||(qo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nj(){}function Ij(e,t){var n=Vr,r=oa(),i=t(),o=!Aa(r.memoizedState,i);if(o&&(r.memoizedState=i,qo=!0),r=r.queue,sR(Dj.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ii!==null&&Ii.memoizedState.tag&1){if(n.flags|=2048,Bv(9,jj.bind(null,n,r,i,t),void 0,null),ji===null)throw Error(Ue(349));Mf&30||Aj(n,t,i)}return i}function Aj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jj(e,t,n,r){t.value=n,t.getSnapshot=r,Mj(t)&&Lj(e)}function Dj(e,t,n){return n(function(){Mj(t)&&Lj(e)})}function Mj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Aa(e,n)}catch{return!0}}function Lj(e){var t=fl(e,1);t!==null&&Ia(t,e,1,-1)}function iP(e){var t=sc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uv,lastRenderedState:e},t.queue=e,e=e.dispatch=V$.bind(null,Vr,e),[t.memoizedState,e]}function Bv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fj(){return oa().memoizedState}function _b(e,t,n,r){var i=sc();Vr.flags|=e,i.memoizedState=Bv(1|t,n,void 0,r===void 0?null:r)}function ZS(e,t,n,r){var i=oa();r=r===void 0?null:r;var o=void 0;if(vi!==null){var s=vi.memoizedState;if(o=s.destroy,r!==null&&rR(r,s.deps)){i.memoizedState=Bv(t,n,o,r);return}}Vr.flags|=e,i.memoizedState=Bv(1|t,n,o,r)}function oP(e,t){return _b(8390656,8,e,t)}function sR(e,t){return ZS(2048,8,e,t)}function Uj(e,t){return ZS(4,2,e,t)}function Bj(e,t){return ZS(4,4,e,t)}function $j(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,n){return n=n!=null?n.concat([e]):null,ZS(4,4,$j.bind(null,t,e),n)}function aR(){}function zj(e,t){var n=oa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rR(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wj(e,t){var n=oa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rR(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hj(e,t,n){return Mf&21?(Aa(n,t)||(n=QA(),Vr.lanes|=n,Lf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qo=!0),e.memoizedState=n)}function B$(e,t){var n=nr;nr=n!==0&&4>n?n:4,e(!0);var r=dE.transition;dE.transition={};try{e(!1),t()}finally{nr=n,dE.transition=r}}function Gj(){return oa().memoizedState}function $$(e,t,n){var r=Lu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qj(e))Kj(t,n);else if(n=kj(e,t,n,r),n!==null){var i=Io();Ia(n,e,r,i),Yj(n,t,r)}}function V$(e,t,n){var r=Lu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qj(e))Kj(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Aa(a,s)){var c=t.interleaved;c===null?(i.next=i,J1(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=kj(e,t,i,r),n!==null&&(i=Io(),Ia(n,e,r,i),Yj(n,t,r))}}function qj(e){var t=e.alternate;return e===Vr||t!==null&&t===Vr}function Kj(e,t){fv=Hx=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}var Gx={readContext:ia,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},z$={readContext:ia,useCallback:function(e,t){return sc().memoizedState=[e,t===void 0?null:t],e},useContext:ia,useEffect:oP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_b(4194308,4,$j.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _b(4194308,4,e,t)},useInsertionEffect:function(e,t){return _b(4,2,e,t)},useMemo:function(e,t){var n=sc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$$.bind(null,Vr,e),[r.memoizedState,e]},useRef:function(e){var t=sc();return e={current:e},t.memoizedState=e},useState:iP,useDebugValue:aR,useDeferredValue:function(e){return sc().memoizedState=e},useTransition:function(){var e=iP(!1),t=e[0];return e=B$.bind(null,e[1]),sc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vr,i=sc();if(Ir){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ji===null)throw Error(Ue(349));Mf&30||Aj(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,oP(Dj.bind(null,r,o,e),[e]),r.flags|=2048,Bv(9,jj.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=sc(),t=ji.identifierPrefix;if(Ir){var n=tl,r=el;n=(r&~(1<<32-Na(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=U$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W$={readContext:ia,useCallback:zj,useContext:ia,useEffect:sR,useImperativeHandle:Vj,useInsertionEffect:Uj,useLayoutEffect:Bj,useMemo:Wj,useReducer:fE,useRef:Fj,useState:function(){return fE(Uv)},useDebugValue:aR,useDeferredValue:function(e){var t=oa();return Hj(t,vi.memoizedState,e)},useTransition:function(){var e=fE(Uv)[0],t=oa().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Ij,useId:Gj,unstable_isNewReconciler:!1},H$={readContext:ia,useCallback:zj,useContext:ia,useEffect:sR,useImperativeHandle:Vj,useInsertionEffect:Uj,useLayoutEffect:Bj,useMemo:Wj,useReducer:hE,useRef:Fj,useState:function(){return hE(Uv)},useDebugValue:aR,useDeferredValue:function(e){var t=oa();return vi===null?t.memoizedState=e:Hj(t,vi.memoizedState,e)},useTransition:function(){var e=hE(Uv)[0],t=oa().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Ij,useId:Gj,unstable_isNewReconciler:!1};function Ca(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function JC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:zr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var e_={isMounted:function(e){return(e=e._reactInternals)?Jf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Io(),i=Lu(e),o=il(r,i);o.payload=t,n!=null&&(o.callback=n),t=Du(e,o,i),t!==null&&(Ia(t,e,i,r),xb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Io(),i=Lu(e),o=il(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Du(e,o,i),t!==null&&(Ia(t,e,i,r),xb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Io(),r=Lu(e),i=il(n,r);i.tag=2,t!=null&&(i.callback=t),t=Du(e,i,r),t!==null&&(Ia(t,e,r,n),xb(t,e,r))}};function sP(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Iv(n,r)||!Iv(i,o):!0}function Qj(e,t,n){var r=!1,i=Ku,o=t.contextType;return typeof o=="object"&&o!==null?o=ia(o):(i=Jo(t)?jf:lo.current,r=t.contextTypes,o=(r=r!=null)?Wp(e,i):Ku),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=e_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&e_.enqueueReplaceState(t,t.state,null)}function ZC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Z1(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ia(o):(o=Jo(t)?jf:lo.current,i.context=Wp(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(JC(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&e_.enqueueReplaceState(i,i.state,null),zx(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kp(e,t){try{var n="",r=t;do n+=b3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function pE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G$=typeof WeakMap=="function"?WeakMap:Map;function Xj(e,t,n){n=il(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kx||(Kx=!0,uT=r),eT(e,t)},n}function Jj(e,t,n){n=il(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eT(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eT(e,t),typeof r!="function"&&(Mu===null?Mu=new Set([this]):Mu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s5.bind(null,e,t,n),t.then(e,e))}function lP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=il(-1,1),t.tag=2,Du(n,t,1))),n.lanes|=1),e)}var q$=xl.ReactCurrentOwner,qo=!1;function ko(e,t,n,r){t.child=e===null?Rj(t,null,n,r):Gp(t,e.child,n,r)}function dP(e,t,n,r,i){n=n.render;var o=t.ref;return Cp(t,i),r=iR(e,t,n,r,o,i),n=oR(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hl(e,t,i)):(Ir&&n&&G1(t),t.flags|=1,ko(e,t,r,i),t.child)}function fP(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!mR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Zj(e,t,o,r,i)):(e=Tb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Iv,n(s,r)&&e.ref===t.ref)return hl(e,t,i)}return t.flags|=1,e=Fu(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zj(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Iv(o,r)&&e.ref===t.ref)if(qo=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(qo=!0);else return t.lanes=e.lanes,hl(e,t,i)}return tT(e,t,n,r,i)}function eD(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(bp,bs),bs|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xr(bp,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xr(bp,bs),bs|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xr(bp,bs),bs|=r;return ko(e,t,i,n),t.child}function tD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tT(e,t,n,r,i){var o=Jo(n)?jf:lo.current;return o=Wp(t,o),Cp(t,i),n=iR(e,t,n,r,o,i),r=oR(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hl(e,t,i)):(Ir&&r&&G1(t),t.flags|=1,ko(e,t,n,i),t.child)}function hP(e,t,n,r,i){if(Jo(n)){var o=!0;Fx(t)}else o=!1;if(Cp(t,i),t.stateNode===null)wb(e,t),Qj(t,n,r),ZC(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=ia(l):(l=Jo(n)?jf:lo.current,l=Wp(t,l));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==l)&&aP(t,s,r,l),mu=!1;var m=t.memoizedState;s.state=m,zx(t,r,s,i),c=t.memoizedState,a!==r||m!==c||Xo.current||mu?(typeof h=="function"&&(JC(t,n,h,r),c=t.memoizedState),(a=mu||sP(t,n,a,r,m,c,l))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oj(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Ca(t.type,a),s.props=l,p=t.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=ia(c):(c=Jo(n)?jf:lo.current,c=Wp(t,c));var E=n.getDerivedStateFromProps;(h=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==c)&&aP(t,s,r,c),mu=!1,m=t.memoizedState,s.state=m,zx(t,r,s,i);var x=t.memoizedState;a!==p||m!==x||Xo.current||mu?(typeof E=="function"&&(JC(t,n,E,r),x=t.memoizedState),(l=mu||sP(t,n,l,r,m,x,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return nT(e,t,n,r,o,i)}function nT(e,t,n,r,i,o){tD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&JO(t,n,!1),hl(e,t,o);r=t.stateNode,q$.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Gp(t,e.child,null,o),t.child=Gp(t,null,a,o)):ko(e,t,a,o),t.memoizedState=r.state,i&&JO(t,n,!0),t.child}function nD(e){var t=e.stateNode;t.pendingContext?XO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&XO(e,t.context,!1),eR(e,t.containerInfo)}function pP(e,t,n,r,i){return Hp(),K1(i),t.flags|=256,ko(e,t,n,r),t.child}var rT={dehydrated:null,treeContext:null,retryLane:0};function iT(e){return{baseLanes:e,cachePool:null,transitions:null}}function rD(e,t,n){var r=t.pendingProps,i=Br.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xr(Br,i&1),e===null)return QC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=r_(s,r,0,null),e=Rf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=iT(n),t.memoizedState=rT,e):cR(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return K$(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Fu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fu(a,o):(o=Rf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?iT(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=rT,r}return o=e.child,e=o.sibling,r=Fu(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cR(e,t){return t=r_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Z0(e,t,n,r){return r!==null&&K1(r),Gp(t,e.child,null,n),e=cR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K$(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=pE(Error(Ue(422))),Z0(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=r_({mode:"visible",children:r.children},i,0,null),o=Rf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Gp(t,e.child,null,s),t.child.memoizedState=iT(s),t.memoizedState=rT,o);if(!(t.mode&1))return Z0(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ue(419)),r=pE(o,r,void 0),Z0(e,t,s,r)}if(a=(s&e.childLanes)!==0,qo||a){if(r=ji,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fl(e,i),Ia(r,e,i,-1))}return pR(),r=pE(Error(Ue(421))),Z0(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=a5.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ss=ju(i.nextSibling),Es=t,Ir=!0,Oa=null,e!==null&&(Xs[Js++]=el,Xs[Js++]=tl,Xs[Js++]=Df,el=e.id,tl=e.overflow,Df=t),t=cR(t,r.children),t.flags|=4096,t)}function mP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),XC(e.return,t,n)}function mE(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function iD(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ko(e,t,r.children,n),r=Br.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mP(e,n,t);else if(e.tag===19)mP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xr(Br,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wx(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mE(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wx(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mE(t,!0,n,null,o);break;case"together":mE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=Fu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y$(e,t,n){switch(t.tag){case 3:nD(t),Hp();break;case 5:Pj(t);break;case 1:Jo(t.type)&&Fx(t);break;case 4:eR(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xr($x,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xr(Br,Br.current&1),t.flags|=128,null):n&t.child.childLanes?rD(e,t,n):(xr(Br,Br.current&1),e=hl(e,t,n),e!==null?e.sibling:null);xr(Br,Br.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xr(Br,Br.current),r)break;return null;case 22:case 23:return t.lanes=0,eD(e,t,n)}return hl(e,t,n)}var oD,oT,sD,aD;oD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oT=function(){};sD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gf(gc.current);var o=null;switch(n){case"input":i=RC(e,i),r=RC(e,r),o=[];break;case"select":i=zr({},i,{value:void 0}),r=zr({},r,{value:void 0}),o=[];break;case"textarea":i=PC(e,i),r=PC(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mx)}IC(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Cv.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Cv.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Tr("scroll",e),o||a===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};aD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bg(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q$(e,t,n){var r=t.pendingProps;switch(q1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(t),null;case 1:return Jo(t.type)&&Lx(),oo(t),null;case 3:return r=t.stateNode,qp(),kr(Xo),kr(lo),nR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(X0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oa!==null&&(hT(Oa),Oa=null))),oT(e,t),oo(t),null;case 5:tR(t);var i=gf(Lv.current);if(n=t.type,e!==null&&t.stateNode!=null)sD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return oo(t),null}if(e=gf(gc.current),X0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[dc]=t,r[Dv]=o,e=(t.mode&1)!==0,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(i=0;i<Zg.length;i++)Tr(Zg[i],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":EO(r,o),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tr("invalid",r);break;case"textarea":TO(r,o),Tr("invalid",r)}IC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Q0(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Q0(r.textContent,a,e),i=["children",""+a]):Cv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Tr("scroll",r)}switch(n){case"input":V0(r),CO(r,o,!0);break;case"textarea":V0(r),RO(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mx)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[dc]=t,e[Dv]=r,oD(e,t,!1,!1),t.stateNode=e;e:{switch(s=AC(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),i=r;break;case"iframe":case"object":case"embed":Tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zg.length;i++)Tr(Zg[i],e);i=r;break;case"source":Tr("error",e),i=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),i=r;break;case"details":Tr("toggle",e),i=r;break;case"input":EO(e,r),i=RC(e,r),Tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=zr({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":TO(e,r),i=PC(e,r),Tr("invalid",e);break;default:i=r}IC(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?FA(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MA(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tv(e,c):typeof c=="number"&&Tv(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cv.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Tr("scroll",e):c!=null&&I1(e,o,c,s))}switch(n){case"input":V0(e),CO(e,r,!1);break;case"textarea":V0(e),RO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qu(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Sp(e,!!r.multiple,o,!1):r.defaultValue!=null&&Sp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return oo(t),null;case 6:if(e&&t.stateNode!=null)aD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=gf(Lv.current),gf(gc.current),X0(t)){if(r=t.stateNode,n=t.memoizedProps,r[dc]=t,(o=r.nodeValue!==n)&&(e=Es,e!==null))switch(e.tag){case 3:Q0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Q0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dc]=t,t.stateNode=r}return oo(t),null;case 13:if(kr(Br),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&Ss!==null&&t.mode&1&&!(t.flags&128))Cj(),Hp(),t.flags|=98560,o=!1;else if(o=X0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ue(317));o[dc]=t}else Hp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oo(t),o=!1}else Oa!==null&&(hT(Oa),Oa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Br.current&1?yi===0&&(yi=3):pR())),t.updateQueue!==null&&(t.flags|=4),oo(t),null);case 4:return qp(),oT(e,t),e===null&&Av(t.stateNode.containerInfo),oo(t),null;case 10:return X1(t.type._context),oo(t),null;case 17:return Jo(t.type)&&Lx(),oo(t),null;case 19:if(kr(Br),o=t.memoizedState,o===null)return oo(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Bg(o,!1);else{if(yi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Wx(e),s!==null){for(t.flags|=128,Bg(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xr(Br,Br.current&1|2),t.child}e=e.sibling}o.tail!==null&&ii()>Yp&&(t.flags|=128,r=!0,Bg(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wx(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ir)return oo(t),null}else 2*ii()-o.renderingStartTime>Yp&&n!==1073741824&&(t.flags|=128,r=!0,Bg(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ii(),t.sibling=null,n=Br.current,xr(Br,r?n&1|2:n&1),t):(oo(t),null);case 22:case 23:return hR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bs&1073741824&&(oo(t),t.subtreeFlags&6&&(t.flags|=8192)):oo(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function X$(e,t){switch(q1(t),t.tag){case 1:return Jo(t.type)&&Lx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qp(),kr(Xo),kr(lo),nR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tR(t),null;case 13:if(kr(Br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Hp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kr(Br),null;case 4:return qp(),null;case 10:return X1(t.type._context),null;case 22:case 23:return hR(),null;case 24:return null;default:return null}}var eb=!1,ao=!1,J$=typeof WeakSet=="function"?WeakSet:Set,ct=null;function yp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yr(e,t,r)}else n.current=null}function sT(e,t,n){try{n()}catch(r){Yr(e,t,r)}}var gP=!1;function Z$(e,t){if(zC=Ax,e=fj(),H1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,l=0,h=0,p=e,m=null;t:for(;;){for(var E;p!==n||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(E=p.firstChild)!==null;)m=p,p=E;for(;;){if(p===e)break t;if(m===n&&++l===i&&(a=s),m===o&&++h===r&&(c=s),(E=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(WC={focusedElem:e,selectionRange:n},Ax=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){t=ct;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,R=t.stateNode,_=R.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ca(t.type,y),w);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(I){Yr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}return x=gP,gP=!1,x}function hv(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sT(t,n,o)}i=i.next}while(i!==r)}}function t_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aT(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cD(e){var t=e.alternate;t!==null&&(e.alternate=null,cD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dc],delete t[Dv],delete t[qC],delete t[D$],delete t[M$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lD(e){return e.tag===5||e.tag===3||e.tag===4}function vP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mx));else if(r!==4&&(e=e.child,e!==null))for(cT(e,t,n),e=e.sibling;e!==null;)cT(e,t,n),e=e.sibling}function lT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lT(e,t,n),e=e.sibling;e!==null;)lT(e,t,n),e=e.sibling}var Wi=null,ka=!1;function au(e,t,n){for(n=n.child;n!==null;)uD(e,t,n),n=n.sibling}function uD(e,t,n){if(mc&&typeof mc.onCommitFiberUnmount=="function")try{mc.onCommitFiberUnmount(qS,n)}catch{}switch(n.tag){case 5:ao||yp(n,t);case 6:var r=Wi,i=ka;Wi=null,au(e,t,n),Wi=r,ka=i,Wi!==null&&(ka?(e=Wi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wi.removeChild(n.stateNode));break;case 18:Wi!==null&&(ka?(e=Wi,n=n.stateNode,e.nodeType===8?cE(e.parentNode,n):e.nodeType===1&&cE(e,n),Pv(e)):cE(Wi,n.stateNode));break;case 4:r=Wi,i=ka,Wi=n.stateNode.containerInfo,ka=!0,au(e,t,n),Wi=r,ka=i;break;case 0:case 11:case 14:case 15:if(!ao&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sT(n,t,s),i=i.next}while(i!==r)}au(e,t,n);break;case 1:if(!ao&&(yp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yr(n,t,a)}au(e,t,n);break;case 21:au(e,t,n);break;case 22:n.mode&1?(ao=(r=ao)||n.memoizedState!==null,au(e,t,n),ao=r):au(e,t,n);break;default:au(e,t,n)}}function yP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J$),t.forEach(function(r){var i=c5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wi=a.stateNode,ka=!1;break e;case 3:Wi=a.stateNode.containerInfo,ka=!0;break e;case 4:Wi=a.stateNode.containerInfo,ka=!0;break e}a=a.return}if(Wi===null)throw Error(Ue(160));uD(o,s,i),Wi=null,ka=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Yr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dD(t,e),t=t.sibling}function dD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(t,e),ic(e),r&4){try{hv(3,e,e.return),t_(3,e)}catch(y){Yr(e,e.return,y)}try{hv(5,e,e.return)}catch(y){Yr(e,e.return,y)}}break;case 1:wa(t,e),ic(e),r&512&&n!==null&&yp(n,n.return);break;case 5:if(wa(t,e),ic(e),r&512&&n!==null&&yp(n,n.return),e.flags&32){var i=e.stateNode;try{Tv(i,"")}catch(y){Yr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&AA(i,o),AC(a,s);var l=AC(a,o);for(s=0;s<c.length;s+=2){var h=c[s],p=c[s+1];h==="style"?FA(i,p):h==="dangerouslySetInnerHTML"?MA(i,p):h==="children"?Tv(i,p):I1(i,h,p,l)}switch(a){case"input":kC(i,o);break;case"textarea":jA(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Sp(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?Sp(i,!!o.multiple,o.defaultValue,!0):Sp(i,!!o.multiple,o.multiple?[]:"",!1))}i[Dv]=o}catch(y){Yr(e,e.return,y)}}break;case 6:if(wa(t,e),ic(e),r&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Yr(e,e.return,y)}}break;case 3:if(wa(t,e),ic(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pv(t.containerInfo)}catch(y){Yr(e,e.return,y)}break;case 4:wa(t,e),ic(e);break;case 13:wa(t,e),ic(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dR=ii())),r&4&&yP(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ao=(l=ao)||h,wa(t,e),ao=l):wa(t,e),ic(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!h&&e.mode&1)for(ct=e,h=e.child;h!==null;){for(p=ct=h;ct!==null;){switch(m=ct,E=m.child,m.tag){case 0:case 11:case 14:case 15:hv(4,m,m.return);break;case 1:yp(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Yr(r,n,y)}}break;case 5:yp(m,m.return);break;case 22:if(m.memoizedState!==null){xP(p);continue}}E!==null?(E.return=m,ct=E):xP(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=LA("display",s))}catch(y){Yr(e,e.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(y){Yr(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wa(t,e),ic(e),r&4&&yP(e);break;case 21:break;default:wa(t,e),ic(e)}}function ic(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lD(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tv(i,""),r.flags&=-33);var o=vP(e);lT(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=vP(e);cT(e,a,s);break;default:throw Error(Ue(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e5(e,t,n){ct=e,fD(e)}function fD(e,t,n){for(var r=(e.mode&1)!==0;ct!==null;){var i=ct,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||eb;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||ao;a=eb;var l=ao;if(eb=s,(ao=c)&&!l)for(ct=i;ct!==null;)s=ct,c=s.child,s.tag===22&&s.memoizedState!==null?SP(i):c!==null?(c.return=s,ct=c):SP(i);for(;o!==null;)ct=o,fD(o),o=o.sibling;ct=i,eb=a,ao=l}bP(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ct=o):bP(e)}}function bP(e){for(;ct!==null;){var t=ct;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ao||t_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ao)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ca(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&rP(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rP(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Pv(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ao||t.flags&512&&aT(t)}catch(m){Yr(t,t.return,m)}}if(t===e){ct=null;break}if(n=t.sibling,n!==null){n.return=t.return,ct=n;break}ct=t.return}}function xP(e){for(;ct!==null;){var t=ct;if(t===e){ct=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ct=n;break}ct=t.return}}function SP(e){for(;ct!==null;){var t=ct;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{t_(4,t)}catch(c){Yr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Yr(t,i,c)}}var o=t.return;try{aT(t)}catch(c){Yr(t,o,c)}break;case 5:var s=t.return;try{aT(t)}catch(c){Yr(t,s,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){ct=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ct=a;break}ct=t.return}}var t5=Math.ceil,qx=xl.ReactCurrentDispatcher,lR=xl.ReactCurrentOwner,ta=xl.ReactCurrentBatchConfig,Ln=0,ji=null,di=null,qi=0,bs=0,bp=od(0),yi=0,$v=null,Lf=0,n_=0,uR=0,pv=null,Ho=null,dR=0,Yp=1/0,Xc=null,Kx=!1,uT=null,Mu=null,tb=!1,Tu=null,Yx=0,mv=0,dT=null,Eb=-1,Cb=0;function Io(){return Ln&6?ii():Eb!==-1?Eb:Eb=ii()}function Lu(e){return e.mode&1?Ln&2&&qi!==0?qi&-qi:F$.transition!==null?(Cb===0&&(Cb=QA()),Cb):(e=nr,e!==0||(e=window.event,e=e===void 0?16:rj(e.type)),e):1}function Ia(e,t,n,r){if(50<mv)throw mv=0,dT=null,Error(Ue(185));dy(e,n,r),(!(Ln&2)||e!==ji)&&(e===ji&&(!(Ln&2)&&(n_|=n),yi===4&&yu(e,qi)),Zo(e,r),n===1&&Ln===0&&!(t.mode&1)&&(Yp=ii()+500,JS&&sd()))}function Zo(e,t){var n=e.callbackNode;F3(e,t);var r=Ix(e,e===ji?qi:0);if(r===0)n!==null&&PO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&PO(n),t===1)e.tag===0?L$(_P.bind(null,e)):_j(_P.bind(null,e)),A$(function(){!(Ln&6)&&sd()}),n=null;else{switch(XA(r)){case 1:n=L1;break;case 4:n=KA;break;case 16:n=Nx;break;case 536870912:n=YA;break;default:n=Nx}n=xD(n,hD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hD(e,t){if(Eb=-1,Cb=0,Ln&6)throw Error(Ue(327));var n=e.callbackNode;if(Tp()&&e.callbackNode!==n)return null;var r=Ix(e,e===ji?qi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qx(e,r);else{t=r;var i=Ln;Ln|=2;var o=mD();(ji!==e||qi!==t)&&(Xc=null,Yp=ii()+500,Tf(e,t));do try{i5();break}catch(a){pD(e,a)}while(!0);Q1(),qx.current=o,Ln=i,di!==null?t=0:(ji=null,qi=0,t=yi)}if(t!==0){if(t===2&&(i=FC(e),i!==0&&(r=i,t=fT(e,i))),t===1)throw n=$v,Tf(e,0),yu(e,r),Zo(e,ii()),n;if(t===6)yu(e,r);else{if(i=e.current.alternate,!(r&30)&&!n5(i)&&(t=Qx(e,r),t===2&&(o=FC(e),o!==0&&(r=o,t=fT(e,o))),t===1))throw n=$v,Tf(e,0),yu(e,r),Zo(e,ii()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:uf(e,Ho,Xc);break;case 3:if(yu(e,r),(r&130023424)===r&&(t=dR+500-ii(),10<t)){if(Ix(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Io(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=GC(uf.bind(null,e,Ho,Xc),t);break}uf(e,Ho,Xc);break;case 4:if(yu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Na(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ii()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t5(r/1960))-r,10<r){e.timeoutHandle=GC(uf.bind(null,e,Ho,Xc),r);break}uf(e,Ho,Xc);break;case 5:uf(e,Ho,Xc);break;default:throw Error(Ue(329))}}}return Zo(e,ii()),e.callbackNode===n?hD.bind(null,e):null}function fT(e,t){var n=pv;return e.current.memoizedState.isDehydrated&&(Tf(e,t).flags|=256),e=Qx(e,t),e!==2&&(t=Ho,Ho=n,t!==null&&hT(t)),e}function hT(e){Ho===null?Ho=e:Ho.push.apply(Ho,e)}function n5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Aa(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t){for(t&=~uR,t&=~n_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Na(t),r=1<<n;e[n]=-1,t&=~r}}function _P(e){if(Ln&6)throw Error(Ue(327));Tp();var t=Ix(e,0);if(!(t&1))return Zo(e,ii()),null;var n=Qx(e,t);if(e.tag!==0&&n===2){var r=FC(e);r!==0&&(t=r,n=fT(e,r))}if(n===1)throw n=$v,Tf(e,0),yu(e,t),Zo(e,ii()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uf(e,Ho,Xc),Zo(e,ii()),null}function fR(e,t){var n=Ln;Ln|=1;try{return e(t)}finally{Ln=n,Ln===0&&(Yp=ii()+500,JS&&sd())}}function Ff(e){Tu!==null&&Tu.tag===0&&!(Ln&6)&&Tp();var t=Ln;Ln|=1;var n=ta.transition,r=nr;try{if(ta.transition=null,nr=1,e)return e()}finally{nr=r,ta.transition=n,Ln=t,!(Ln&6)&&sd()}}function hR(){bs=bp.current,kr(bp)}function Tf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,I$(n)),di!==null)for(n=di.return;n!==null;){var r=n;switch(q1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lx();break;case 3:qp(),kr(Xo),kr(lo),nR();break;case 5:tR(r);break;case 4:qp();break;case 13:kr(Br);break;case 19:kr(Br);break;case 10:X1(r.type._context);break;case 22:case 23:hR()}n=n.return}if(ji=e,di=e=Fu(e.current,null),qi=bs=t,yi=0,$v=null,uR=n_=Lf=0,Ho=pv=null,mf!==null){for(t=0;t<mf.length;t++)if(n=mf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}mf=null}return e}function pD(e,t){do{var n=di;try{if(Q1(),Sb.current=Gx,Hx){for(var r=Vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hx=!1}if(Mf=0,Ii=vi=Vr=null,fv=!1,Fv=0,lR.current=null,n===null||n.return===null){yi=1,$v=t,di=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=qi,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var E=lP(s);if(E!==null){E.flags&=-257,uP(E,s,a,o,t),E.mode&1&&cP(o,l,t),t=E,c=l;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){cP(o,l,t),pR();break e}c=Error(Ue(426))}}else if(Ir&&a.mode&1){var w=lP(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uP(w,s,a,o,t),K1(Kp(c,a));break e}}o=c=Kp(c,a),yi!==4&&(yi=2),pv===null?pv=[o]:pv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var R=Xj(o,c,t);nP(o,R);break e;case 1:a=c;var _=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mu===null||!Mu.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Jj(o,a,t);nP(o,I);break e}}o=o.return}while(o!==null)}vD(n)}catch(j){t=j,di===n&&n!==null&&(di=n=n.return);continue}break}while(!0)}function mD(){var e=qx.current;return qx.current=Gx,e===null?Gx:e}function pR(){(yi===0||yi===3||yi===2)&&(yi=4),ji===null||!(Lf&268435455)&&!(n_&268435455)||yu(ji,qi)}function Qx(e,t){var n=Ln;Ln|=2;var r=mD();(ji!==e||qi!==t)&&(Xc=null,Tf(e,t));do try{r5();break}catch(i){pD(e,i)}while(!0);if(Q1(),Ln=n,qx.current=r,di!==null)throw Error(Ue(261));return ji=null,qi=0,yi}function r5(){for(;di!==null;)gD(di)}function i5(){for(;di!==null&&!O3();)gD(di)}function gD(e){var t=bD(e.alternate,e,bs);e.memoizedProps=e.pendingProps,t===null?vD(e):di=t,lR.current=null}function vD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=X$(n,t),n!==null){n.flags&=32767,di=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yi=6,di=null;return}}else if(n=Q$(n,t,bs),n!==null){di=n;return}if(t=t.sibling,t!==null){di=t;return}di=t=e}while(t!==null);yi===0&&(yi=5)}function uf(e,t,n){var r=nr,i=ta.transition;try{ta.transition=null,nr=1,o5(e,t,n,r)}finally{ta.transition=i,nr=r}return null}function o5(e,t,n,r){do Tp();while(Tu!==null);if(Ln&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(U3(e,o),e===ji&&(di=ji=null,qi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tb||(tb=!0,xD(Nx,function(){return Tp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ta.transition,ta.transition=null;var s=nr;nr=1;var a=Ln;Ln|=4,lR.current=null,Z$(e,n),dD(n,e),C$(WC),Ax=!!zC,WC=zC=null,e.current=n,e5(n),P3(),Ln=a,nr=s,ta.transition=o}else e.current=n;if(tb&&(tb=!1,Tu=e,Yx=i),o=e.pendingLanes,o===0&&(Mu=null),A3(n.stateNode),Zo(e,ii()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kx)throw Kx=!1,e=uT,uT=null,e;return Yx&1&&e.tag!==0&&Tp(),o=e.pendingLanes,o&1?e===dT?mv++:(mv=0,dT=e):mv=0,sd(),null}function Tp(){if(Tu!==null){var e=XA(Yx),t=ta.transition,n=nr;try{if(ta.transition=null,nr=16>e?16:e,Tu===null)var r=!1;else{if(e=Tu,Tu=null,Yx=0,Ln&6)throw Error(Ue(331));var i=Ln;for(Ln|=4,ct=e.current;ct!==null;){var o=ct,s=o.child;if(ct.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ct=l;ct!==null;){var h=ct;switch(h.tag){case 0:case 11:case 15:hv(8,h,o)}var p=h.child;if(p!==null)p.return=h,ct=p;else for(;ct!==null;){h=ct;var m=h.sibling,E=h.return;if(cD(h),h===l){ct=null;break}if(m!==null){m.return=E,ct=m;break}ct=E}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ct=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ct=s;else e:for(;ct!==null;){if(o=ct,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hv(9,o,o.return)}var R=o.sibling;if(R!==null){R.return=o.return,ct=R;break e}ct=o.return}}var _=e.current;for(ct=_;ct!==null;){s=ct;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ct=C;else e:for(s=_;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:t_(9,a)}}catch(j){Yr(a,a.return,j)}if(a===s){ct=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ct=I;break e}ct=a.return}}if(Ln=i,sd(),mc&&typeof mc.onPostCommitFiberRoot=="function")try{mc.onPostCommitFiberRoot(qS,e)}catch{}r=!0}return r}finally{nr=n,ta.transition=t}}return!1}function wP(e,t,n){t=Kp(n,t),t=Xj(e,t,1),e=Du(e,t,1),t=Io(),e!==null&&(dy(e,1,t),Zo(e,t))}function Yr(e,t,n){if(e.tag===3)wP(e,e,n);else for(;t!==null;){if(t.tag===3){wP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mu===null||!Mu.has(r))){e=Kp(n,e),e=Jj(t,e,1),t=Du(t,e,1),e=Io(),t!==null&&(dy(t,1,e),Zo(t,e));break}}t=t.return}}function s5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Io(),e.pingedLanes|=e.suspendedLanes&n,ji===e&&(qi&n)===n&&(yi===4||yi===3&&(qi&130023424)===qi&&500>ii()-dR?Tf(e,0):uR|=n),Zo(e,t)}function yD(e,t){t===0&&(e.mode&1?(t=H0,H0<<=1,!(H0&130023424)&&(H0=4194304)):t=1);var n=Io();e=fl(e,t),e!==null&&(dy(e,t,n),Zo(e,n))}function a5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yD(e,n)}function c5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),yD(e,n)}var bD;bD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xo.current)qo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qo=!1,Y$(e,t,n);qo=!!(e.flags&131072)}else qo=!1,Ir&&t.flags&1048576&&wj(t,Bx,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wb(e,t),e=t.pendingProps;var i=Wp(t,lo.current);Cp(t,n),i=iR(null,t,r,e,i,n);var o=oR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jo(r)?(o=!0,Fx(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z1(t),i.updater=e_,t.stateNode=i,i._reactInternals=t,ZC(t,r,e,n),t=nT(null,t,r,!0,o,n)):(t.tag=0,Ir&&o&&G1(t),ko(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=u5(r),e=Ca(r,e),i){case 0:t=tT(null,t,r,e,n);break e;case 1:t=hP(null,t,r,e,n);break e;case 11:t=dP(null,t,r,e,n);break e;case 14:t=fP(null,t,r,Ca(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),tT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),hP(e,t,r,i,n);case 3:e:{if(nD(t),e===null)throw Error(Ue(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Oj(e,t),zx(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Kp(Error(Ue(423)),t),t=pP(e,t,r,n,i);break e}else if(r!==i){i=Kp(Error(Ue(424)),t),t=pP(e,t,r,n,i);break e}else for(Ss=ju(t.stateNode.containerInfo.firstChild),Es=t,Ir=!0,Oa=null,n=Rj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hp(),r===i){t=hl(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return Pj(t),e===null&&QC(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,HC(r,i)?s=null:o!==null&&HC(r,o)&&(t.flags|=32),tD(e,t),ko(e,t,s,n),t.child;case 6:return e===null&&QC(t),null;case 13:return rD(e,t,n);case 4:return eR(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gp(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),dP(e,t,r,i,n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:return ko(e,t,t.pendingProps.children,n),t.child;case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xr($x,r._currentValue),r._currentValue=s,o!==null)if(Aa(o.value,s)){if(o.children===i.children&&!Xo.current){t=hl(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=il(-1,n&-n),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),XC(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),XC(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ko(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cp(t,n),i=ia(i),r=r(i),t.flags|=1,ko(e,t,r,n),t.child;case 14:return r=t.type,i=Ca(r,t.pendingProps),i=Ca(r.type,i),fP(e,t,r,i,n);case 15:return Zj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),wb(e,t),t.tag=1,Jo(r)?(e=!0,Fx(t)):e=!1,Cp(t,n),Qj(t,r,i),ZC(t,r,i,n),nT(null,t,r,!0,e,n);case 19:return iD(e,t,n);case 22:return eD(e,t,n)}throw Error(Ue(156,t.tag))};function xD(e,t){return qA(e,t)}function l5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,n,r){return new l5(e,t,n,r)}function mR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u5(e){if(typeof e=="function")return mR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j1)return 11;if(e===D1)return 14}return 2}function Fu(e,t){var n=e.alternate;return n===null?(n=ea(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tb(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")mR(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case lp:return Rf(n.children,i,o,t);case A1:s=8,i|=8;break;case wC:return e=ea(12,n,t,i|2),e.elementType=wC,e.lanes=o,e;case EC:return e=ea(13,n,t,i),e.elementType=EC,e.lanes=o,e;case CC:return e=ea(19,n,t,i),e.elementType=CC,e.lanes=o,e;case PA:return r_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kA:s=10;break e;case OA:s=9;break e;case j1:s=11;break e;case D1:s=14;break e;case pu:s=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=ea(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Rf(e,t,n,r){return e=ea(7,e,r,t),e.lanes=n,e}function r_(e,t,n,r){return e=ea(22,e,r,t),e.elementType=PA,e.lanes=n,e.stateNode={isHidden:!1},e}function gE(e,t,n){return e=ea(6,e,null,t),e.lanes=n,e}function vE(e,t,n){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xw(0),this.expirationTimes=Xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gR(e,t,n,r,i,o,s,a,c){return e=new d5(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ea(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z1(o),e}function f5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SD(e){if(!e)return Ku;e=e._reactInternals;e:{if(Jf(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Jo(n))return Sj(e,n,t)}return t}function _D(e,t,n,r,i,o,s,a,c){return e=gR(n,r,!0,e,i,o,s,a,c),e.context=SD(null),n=e.current,r=Io(),i=Lu(n),o=il(r,i),o.callback=t??null,Du(n,o,i),e.current.lanes=i,dy(e,i,r),Zo(e,r),e}function i_(e,t,n,r){var i=t.current,o=Io(),s=Lu(i);return n=SD(n),t.context===null?t.context=n:t.pendingContext=n,t=il(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Du(i,t,s),e!==null&&(Ia(e,i,s,o),xb(e,i,s)),s}function Xx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vR(e,t){EP(e,t),(e=e.alternate)&&EP(e,t)}function h5(){return null}var wD=typeof reportError=="function"?reportError:function(e){console.error(e)};function yR(e){this._internalRoot=e}o_.prototype.render=yR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));i_(e,t,null,null)};o_.prototype.unmount=yR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ff(function(){i_(null,e,null,null)}),t[dl]=null}};function o_(e){this._internalRoot=e}o_.prototype.unstable_scheduleHydration=function(e){if(e){var t=ej();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vu.length&&t!==0&&t<vu[n].priority;n++);vu.splice(n,0,e),n===0&&nj(e)}};function bR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CP(){}function p5(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Xx(s);o.call(l)}}var s=_D(t,r,e,0,null,!1,!1,"",CP);return e._reactRootContainer=s,e[dl]=s.current,Av(e.nodeType===8?e.parentNode:e),Ff(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Xx(c);a.call(l)}}var c=gR(e,0,!1,null,null,!1,!1,"",CP);return e._reactRootContainer=c,e[dl]=c.current,Av(e.nodeType===8?e.parentNode:e),Ff(function(){i_(t,c,n,r)}),c}function a_(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=Xx(s);a.call(c)}}i_(t,s,e,i)}else s=p5(n,t,e,i,r);return Xx(s)}JA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jg(t.pendingLanes);n!==0&&(F1(t,n|1),Zo(t,ii()),!(Ln&6)&&(Yp=ii()+500,sd()))}break;case 13:Ff(function(){var r=fl(e,1);if(r!==null){var i=Io();Ia(r,e,1,i)}}),vR(e,1)}};U1=function(e){if(e.tag===13){var t=fl(e,134217728);if(t!==null){var n=Io();Ia(t,e,134217728,n)}vR(e,134217728)}};ZA=function(e){if(e.tag===13){var t=Lu(e),n=fl(e,t);if(n!==null){var r=Io();Ia(n,e,t,r)}vR(e,t)}};ej=function(){return nr};tj=function(e,t){var n=nr;try{return nr=e,t()}finally{nr=n}};DC=function(e,t,n){switch(t){case"input":if(kC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=XS(r);if(!i)throw Error(Ue(90));IA(r),kC(r,i)}}}break;case"textarea":jA(e,n);break;case"select":t=n.value,t!=null&&Sp(e,!!n.multiple,t,!1)}};$A=fR;VA=Ff;var m5={usingClientEntryPoint:!1,Events:[hy,hp,XS,UA,BA,fR]},$g={findFiberByHostInstance:pf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g5={bundleType:$g.bundleType,version:$g.version,rendererPackageName:$g.rendererPackageName,rendererConfig:$g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HA(e),e===null?null:e.stateNode},findFiberByHostInstance:$g.findFiberByHostInstance||h5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nb.isDisabled&&nb.supportsFiber)try{qS=nb.inject(g5),mc=nb}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;Ns.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bR(t))throw Error(Ue(200));return f5(e,t,null,n)};Ns.createRoot=function(e,t){if(!bR(e))throw Error(Ue(299));var n=!1,r="",i=wD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gR(e,1,!1,null,null,n,!1,r,i),e[dl]=t.current,Av(e.nodeType===8?e.parentNode:e),new yR(t)};Ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=HA(t),e=e===null?null:e.stateNode,e};Ns.flushSync=function(e){return Ff(e)};Ns.hydrate=function(e,t,n){if(!s_(t))throw Error(Ue(200));return a_(null,e,t,!0,n)};Ns.hydrateRoot=function(e,t,n){if(!bR(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=wD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=_D(t,null,e,1,n??null,i,!1,o,s),e[dl]=t.current,Av(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new o_(t)};Ns.render=function(e,t,n){if(!s_(t))throw Error(Ue(200));return a_(null,e,t,!1,n)};Ns.unmountComponentAtNode=function(e){if(!s_(e))throw Error(Ue(40));return e._reactRootContainer?(Ff(function(){a_(null,null,e,!1,function(){e._reactRootContainer=null,e[dl]=null})}),!0):!1};Ns.unstable_batchedUpdates=fR;Ns.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!s_(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return a_(e,t,n,!1,r)};Ns.version="18.3.1-next-f1338f8080-20240426";function ED(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ED)}catch(e){console.error(e)}}ED(),EA.exports=Ns;var Zf=EA.exports;const v5=Qf(Zf);var CD,TP=Zf;CD=TP.createRoot,TP.hydrateRoot;var c_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},l_=typeof window>"u"||"Deno"in globalThis;function Ta(){}function y5(e,t){return typeof e=="function"?e(t):e}function b5(e){return typeof e=="number"&&e>=0&&e!==1/0}function x5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function RP(e,t){return typeof e=="function"?e(t):e}function S5(e,t){return typeof e=="function"?e(t):e}function kP(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==xR(s,t.options))return!1}else if(!zv(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function OP(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Vv(t.options.mutationKey)!==Vv(o))return!1}else if(!zv(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function xR(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vv)(e)}function Vv(e){return JSON.stringify(e,(t,n)=>pT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!zv(e[n],t[n])):!1}function TD(e,t){if(e===t)return e;const n=PP(e)&&PP(t);if(n||pT(e)&&pT(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let c=0;for(let l=0;l<s;l++){const h=n?l:o[l];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=TD(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return i===s&&c===i?e:a}return t}function PP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pT(e){if(!NP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!NP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NP(e){return Object.prototype.toString.call(e)==="[object Object]"}function _5(e){return new Promise(t=>{setTimeout(t,e)})}function w5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?TD(e,t):t}function E5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function C5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var SR=Symbol();function RD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===SR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _f,xu,jp,iA,T5=(iA=class extends c_{constructor(){super();Kn(this,_f);Kn(this,xu);Kn(this,jp);bn(this,jp,t=>{if(!l_&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){je(this,xu)||this.setEventListener(je(this,jp))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,xu))==null||t.call(this),bn(this,xu,void 0))}setEventListener(t){var n;bn(this,jp,t),(n=je(this,xu))==null||n.call(this),bn(this,xu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){je(this,_f)!==t&&(bn(this,_f,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof je(this,_f)=="boolean"?je(this,_f):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_f=new WeakMap,xu=new WeakMap,jp=new WeakMap,iA),kD=new T5,Dp,Su,Mp,oA,R5=(oA=class extends c_{constructor(){super();Kn(this,Dp,!0);Kn(this,Su);Kn(this,Mp);bn(this,Mp,t=>{if(!l_&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){je(this,Su)||this.setEventListener(je(this,Mp))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,Su))==null||t.call(this),bn(this,Su,void 0))}setEventListener(t){var n;bn(this,Mp,t),(n=je(this,Su))==null||n.call(this),bn(this,Su,t(this.setOnline.bind(this)))}setOnline(t){je(this,Dp)!==t&&(bn(this,Dp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return je(this,Dp)}},Dp=new WeakMap,Su=new WeakMap,Mp=new WeakMap,oA),Jx=new R5;function k5(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function O5(e){return Math.min(1e3*2**e,3e4)}function OD(e){return(e??"online")==="online"?Jx.isOnline():!0}var PD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yE(e){return e instanceof PD}function ND(e){let t=!1,n=0,r=!1,i;const o=k5(),s=y=>{var w;r||(m(new PD(y)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},c=()=>{t=!1},l=()=>kD.isFocused()&&(e.networkMode==="always"||Jx.isOnline())&&e.canRun(),h=()=>OD(e.networkMode)&&e.canRun(),p=y=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,y),i==null||i(),o.resolve(y))},m=y=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,y),i==null||i(),o.reject(y))},E=()=>new Promise(y=>{var w;i=R=>{(r||l())&&y(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(R){y=Promise.reject(R)}Promise.resolve(y).then(p).catch(R=>{var U;if(r)return;const _=e.retry??(l_?0:3),C=e.retryDelay??O5,I=typeof C=="function"?C(n,R):C,j=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,R);if(t||!j){m(R);return}n++,(U=e.onFail)==null||U.call(e,n,R),_5(I).then(()=>l()?void 0:E()).then(()=>{t?m(R):x()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?x():E().then(x),o)}}function P5(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{t?e.push(a):i(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var No=P5(),wf,sA,ID=(sA=class{constructor(){Kn(this,wf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b5(this.gcTime)&&bn(this,wf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(l_?1/0:5*60*1e3))}clearGcTimeout(){je(this,wf)&&(clearTimeout(je(this,wf)),bn(this,wf,void 0))}},wf=new WeakMap,sA),Lp,Fp,Ys,so,cy,Ef,Ra,Yc,aA,N5=(aA=class extends ID{constructor(t){super();Kn(this,Ra);Kn(this,Lp);Kn(this,Fp);Kn(this,Ys);Kn(this,so);Kn(this,cy);Kn(this,Ef);bn(this,Ef,!1),bn(this,cy,t.defaultOptions),this.setOptions(t.options),this.observers=[],bn(this,Ys,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,bn(this,Lp,A5(this.options)),this.state=t.state??je(this,Lp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=je(this,so))==null?void 0:t.promise}setOptions(t){this.options={...je(this,cy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&je(this,Ys).remove(this)}setData(t,n){const r=w5(this.state.data,t,this.options);return ro(this,Ra,Yc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ro(this,Ra,Yc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=je(this,so))==null?void 0:r.promise;return(i=je(this,so))==null||i.cancel(t),n?n.then(Ta).catch(Ta):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(je(this,Lp))}isActive(){return this.observers.some(t=>S5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===SR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!x5(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=je(this,so))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=je(this,so))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),je(this,Ys).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(je(this,so)&&(je(this,Ef)?je(this,so).cancel({revert:!0}):je(this,so).cancelRetry()),this.scheduleGc()),je(this,Ys).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ro(this,Ra,Yc).call(this,{type:"invalidate"})}fetch(t,n){var c,l,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(je(this,so))return je(this,so).continueRetry(),je(this,so).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(bn(this,Ef,!0),r.signal)})},o=()=>{const p=RD(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),bn(this,Ef,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(c=this.options.behavior)==null||c.onFetch(s,this),bn(this,Fp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=s.fetchOptions)==null?void 0:l.meta))&&ro(this,Ra,Yc).call(this,{type:"fetch",meta:(h=s.fetchOptions)==null?void 0:h.meta});const a=p=>{var m,E,x,y;yE(p)&&p.silent||ro(this,Ra,Yc).call(this,{type:"error",error:p}),yE(p)||((E=(m=je(this,Ys).config).onError)==null||E.call(m,p,this),(y=(x=je(this,Ys).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return bn(this,so,ND({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,E,x,y;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){a(w);return}(E=(m=je(this,Ys).config).onSuccess)==null||E.call(m,p,this),(y=(x=je(this,Ys).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,m)=>{ro(this,Ra,Yc).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ro(this,Ra,Yc).call(this,{type:"pause"})},onContinue:()=>{ro(this,Ra,Yc).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),je(this,so).start()}},Lp=new WeakMap,Fp=new WeakMap,Ys=new WeakMap,so=new WeakMap,cy=new WeakMap,Ef=new WeakMap,Ra=new WeakSet,Yc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...I5(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return yE(i)&&i.revert&&je(this,Fp)?{...je(this,Fp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),No.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),je(this,Ys).notify({query:this,type:"updated",action:t})})},aA);function I5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function A5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cc,cA,j5=(cA=class extends c_{constructor(t={}){super();Kn(this,cc);this.config=t,bn(this,cc,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??xR(i,n);let s=this.get(o);return s||(s=new N5({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){je(this,cc).has(t.queryHash)||(je(this,cc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=je(this,cc).get(t.queryHash);n&&(t.destroy(),n===t&&je(this,cc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){No.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return je(this,cc).get(t)}getAll(){return[...je(this,cc).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>kP(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>kP(t,r)):n}notify(t){No.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){No.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){No.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cc=new WeakMap,cA),lc,To,Cf,uc,fu,lA,D5=(lA=class extends ID{constructor(t){super();Kn(this,uc);Kn(this,lc);Kn(this,To);Kn(this,Cf);this.mutationId=t.mutationId,bn(this,To,t.mutationCache),bn(this,lc,[]),this.state=t.state||M5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){je(this,lc).includes(t)||(je(this,lc).push(t),this.clearGcTimeout(),je(this,To).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){bn(this,lc,je(this,lc).filter(n=>n!==t)),this.scheduleGc(),je(this,To).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){je(this,lc).length||(this.state.status==="pending"?this.scheduleGc():je(this,To).remove(this))}continue(){var t;return((t=je(this,Cf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,c,l,h,p,m,E,x,y,w,R,_,C,I,j,U,$;bn(this,Cf,ND({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,q)=>{ro(this,uc,fu).call(this,{type:"failed",failureCount:z,error:q})},onPause:()=>{ro(this,uc,fu).call(this,{type:"pause"})},onContinue:()=>{ro(this,uc,fu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>je(this,To).canRun(this)}));const n=this.state.status==="pending",r=!je(this,Cf).canStart();try{if(!n){ro(this,uc,fu).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=je(this,To).config).onMutate)==null?void 0:o.call(i,t,this));const q=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));q!==this.state.context&&ro(this,uc,fu).call(this,{type:"pending",context:q,variables:t,isPaused:r})}const z=await je(this,Cf).start();return await((l=(c=je(this,To).config).onSuccess)==null?void 0:l.call(c,z,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,z,t,this.state.context)),await((E=(m=je(this,To).config).onSettled)==null?void 0:E.call(m,z,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,z,null,t,this.state.context)),ro(this,uc,fu).call(this,{type:"success",data:z}),z}catch(z){try{throw await((R=(w=je(this,To).config).onError)==null?void 0:R.call(w,z,t,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,z,t,this.state.context)),await((j=(I=je(this,To).config).onSettled)==null?void 0:j.call(I,void 0,z,this.state.variables,this.state.context,this)),await(($=(U=this.options).onSettled)==null?void 0:$.call(U,void 0,z,t,this.state.context)),z}finally{ro(this,uc,fu).call(this,{type:"error",error:z})}}finally{je(this,To).runNext(this)}}},lc=new WeakMap,To=new WeakMap,Cf=new WeakMap,uc=new WeakSet,fu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),No.batch(()=>{je(this,lc).forEach(r=>{r.onMutationUpdate(t)}),je(this,To).notify({mutation:this,type:"updated",action:t})})},lA);function M5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ys,ly,uA,L5=(uA=class extends c_{constructor(t={}){super();Kn(this,ys);Kn(this,ly);this.config=t,bn(this,ys,new Map),bn(this,ly,Date.now())}build(t,n,r){const i=new D5({mutationCache:this,mutationId:++U0(this,ly)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=rb(t),r=je(this,ys).get(n)??[];r.push(t),je(this,ys).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=rb(t);if(je(this,ys).has(n)){const i=(r=je(this,ys).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?je(this,ys).delete(n):je(this,ys).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=je(this,ys).get(rb(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=je(this,ys).get(rb(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){No.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...je(this,ys).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OP(n,r))}findAll(t={}){return this.getAll().filter(n=>OP(t,n))}notify(t){No.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return No.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ta))))}},ys=new WeakMap,ly=new WeakMap,uA);function rb(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function IP(e){return{onFetch:(t,n)=>{var h,p,m,E,x;const r=t.options,i=(m=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,o=((E=t.state.data)==null?void 0:E.pages)||[],s=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let y=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},R=RD(t.options,t.fetchOptions),_=async(C,I,j)=>{if(y)return Promise.reject();if(I==null&&C.pages.length)return Promise.resolve(C);const U={queryKey:t.queryKey,pageParam:I,direction:j?"backward":"forward",meta:t.options.meta};w(U);const $=await R(U),{maxPages:z}=t.options,q=j?C5:E5;return{pages:q(C.pages,$,z),pageParams:q(C.pageParams,I,z)}};if(i&&o.length){const C=i==="backward",I=C?F5:AP,j={pages:o,pageParams:s},U=I(r,j);a=await _(j,U,C)}else{const C=e??o.length;do{const I=c===0?s[0]??r.initialPageParam:AP(r,a);if(c>0&&I==null)break;a=await _(a,I),c++}while(c<C)}return a};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,l,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function AP(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function F5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var qr,_u,wu,Up,Bp,Eu,$p,Vp,dA,U5=(dA=class{constructor(e={}){Kn(this,qr);Kn(this,_u);Kn(this,wu);Kn(this,Up);Kn(this,Bp);Kn(this,Eu);Kn(this,$p);Kn(this,Vp);bn(this,qr,e.queryCache||new j5),bn(this,_u,e.mutationCache||new L5),bn(this,wu,e.defaultOptions||{}),bn(this,Up,new Map),bn(this,Bp,new Map),bn(this,Eu,0)}mount(){U0(this,Eu)._++,je(this,Eu)===1&&(bn(this,$p,kD.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,qr).onFocus())})),bn(this,Vp,Jx.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,qr).onOnline())})))}unmount(){var e,t;U0(this,Eu)._--,je(this,Eu)===0&&((e=je(this,$p))==null||e.call(this),bn(this,$p,void 0),(t=je(this,Vp))==null||t.call(this),bn(this,Vp,void 0))}isFetching(e){return je(this,qr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return je(this,_u).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=je(this,qr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=je(this,qr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(RP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return je(this,qr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=je(this,qr).get(r.queryHash),o=i==null?void 0:i.state.data,s=y5(t,o);if(s!==void 0)return je(this,qr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return No.batch(()=>je(this,qr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=je(this,qr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=je(this,qr);No.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=je(this,qr),r={type:"active",...e};return No.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=No.batch(()=>je(this,qr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ta).catch(Ta)}invalidateQueries(e={},t={}){return No.batch(()=>{if(je(this,qr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=No.batch(()=>je(this,qr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ta)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ta)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=je(this,qr).build(this,t);return n.isStaleByTime(RP(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ta).catch(Ta)}fetchInfiniteQuery(e){return e.behavior=IP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ta).catch(Ta)}ensureInfiniteQueryData(e){return e.behavior=IP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jx.isOnline()?je(this,_u).resumePausedMutations():Promise.resolve()}getQueryCache(){return je(this,qr)}getMutationCache(){return je(this,_u)}getDefaultOptions(){return je(this,wu)}setDefaultOptions(e){bn(this,wu,e)}setQueryDefaults(e,t){je(this,Up).set(Vv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...je(this,Up).values()];let n={};return t.forEach(r=>{zv(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){je(this,Bp).set(Vv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...je(this,Bp).values()];let n={};return t.forEach(r=>{zv(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...je(this,wu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===SR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...je(this,wu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){je(this,qr).clear(),je(this,_u).clear()}},qr=new WeakMap,_u=new WeakMap,wu=new WeakMap,Up=new WeakMap,Bp=new WeakMap,Eu=new WeakMap,$p=new WeakMap,Vp=new WeakMap,dA),B5=P.createContext(void 0),$5=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(B5.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(this,arguments)}var Ru;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ru||(Ru={}));const jP="popstate";function V5(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return mT("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zx(i)}return W5(t,n,null,e)}function oi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z5(){return Math.random().toString(36).substr(2,8)}function DP(e,t){return{usr:e.state,key:e.key,idx:t}}function mT(e,t,n,r){return n===void 0&&(n=null),Wv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fm(t):t,{state:n,key:t&&t.key||r||z5()})}function Zx(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W5(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ru.Pop,c=null,l=h();l==null&&(l=0,s.replaceState(Wv({},s.state,{idx:l}),""));function h(){return(s.state||{idx:null}).idx}function p(){a=Ru.Pop;let w=h(),R=w==null?null:w-l;l=w,c&&c({action:a,location:y.location,delta:R})}function m(w,R){a=Ru.Push;let _=mT(y.location,w,R);l=h()+1;let C=DP(_,l),I=y.createHref(_);try{s.pushState(C,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(I)}o&&c&&c({action:a,location:y.location,delta:1})}function E(w,R){a=Ru.Replace;let _=mT(y.location,w,R);l=h();let C=DP(_,l),I=y.createHref(_);s.replaceState(C,"",I),o&&c&&c({action:a,location:y.location,delta:0})}function x(w){let R=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:Zx(w);return _=_.replace(/ $/,"%20"),oi(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let y={get action(){return a},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(jP,p),c=w,()=>{i.removeEventListener(jP,p),c=null}},createHref(w){return t(i,w)},createURL:x,encodeLocation(w){let R=x(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:m,replace:E,go(w){return s.go(w)}};return y}var MP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(MP||(MP={}));function H5(e,t,n){return n===void 0&&(n="/"),G5(e,t,n,!1)}function G5(e,t,n,r){let i=typeof t=="string"?fm(t):t,o=_R(i.pathname||"/",n);if(o==null)return null;let s=jD(e);q5(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let l=iV(o);a=nV(s[c],l,r)}return a}function jD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(oi(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Uu([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(oi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),jD(o.children,t,h,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:eV(l,o.index),routesMeta:h})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let c of DD(o.path))i(o,s,c)}),t}function DD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=DD(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function q5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tV(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K5=/^:[\w-]+$/,Y5=3,Q5=2,X5=1,J5=10,Z5=-2,LP=e=>e==="*";function eV(e,t){let n=e.split("/"),r=n.length;return n.some(LP)&&(r+=Z5),t&&(r+=Q5),n.filter(i=>!LP(i)).reduce((i,o)=>i+(K5.test(o)?Y5:o===""?X5:J5),r)}function tV(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nV(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",p=FP({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},h),m=c.route;if(!p&&l&&n&&!r[r.length-1].route.index&&(p=FP({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Uu([o,p.pathname]),pathnameBase:cV(Uu([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Uu([o,p.pathnameBase]))}return s}function FP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rV(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,h,p)=>{let{paramName:m,isOptional:E}=h;if(m==="*"){let y=a[p]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[p];return E&&!x?l[m]=void 0:l[m]=(x||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function rV(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),AD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _R(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function oV(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fm(e):e;return{pathname:n?n.startsWith("/")?n:sV(n,t):t,search:lV(r),hash:uV(i)}}function sV(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wR(e,t){let n=aV(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ER(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fm(e):(i=Wv({},e),oi(!i.pathname||!i.pathname.includes("?"),bE("?","pathname","search",i)),oi(!i.pathname||!i.pathname.includes("#"),bE("#","pathname","hash",i)),oi(!i.search||!i.search.includes("#"),bE("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?t[p]:"/"}let c=oV(i,a),l=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||h)&&(c.pathname+="/"),c}const Uu=e=>e.join("/").replace(/\/\/+/g,"/"),cV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MD=["post","put","patch","delete"];new Set(MD);const fV=["get",...MD];new Set(fV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(this,arguments)}const CR=P.createContext(null),hV=P.createContext(null),ad=P.createContext(null),u_=P.createContext(null),Cc=P.createContext({outlet:null,matches:[],isDataRoute:!1}),LD=P.createContext(null);function pV(e,t){let{relative:n}=t===void 0?{}:t;hm()||oi(!1);let{basename:r,navigator:i}=P.useContext(ad),{hash:o,pathname:s,search:a}=BD(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:Uu([r,s])),i.createHref({pathname:c,search:a,hash:o})}function hm(){return P.useContext(u_)!=null}function Yu(){return hm()||oi(!1),P.useContext(u_).location}function FD(e){P.useContext(ad).static||P.useLayoutEffect(e)}function Sl(){let{isDataRoute:e}=P.useContext(Cc);return e?OV():mV()}function mV(){hm()||oi(!1);let e=P.useContext(CR),{basename:t,future:n,navigator:r}=P.useContext(ad),{matches:i}=P.useContext(Cc),{pathname:o}=Yu(),s=JSON.stringify(wR(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return FD(()=>{a.current=!0}),P.useCallback(function(l,h){if(h===void 0&&(h={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let p=ER(l,JSON.parse(s),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Uu([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,s,o,e])}const gV=P.createContext(null);function vV(e){let t=P.useContext(Cc).outlet;return t&&P.createElement(gV.Provider,{value:e},t)}function UD(){let{matches:e}=P.useContext(Cc),t=e[e.length-1];return t?t.params:{}}function BD(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=P.useContext(ad),{matches:i}=P.useContext(Cc),{pathname:o}=Yu(),s=JSON.stringify(wR(i,r.v7_relativeSplatPath));return P.useMemo(()=>ER(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function yV(e,t){return bV(e,t)}function bV(e,t,n,r){hm()||oi(!1);let{navigator:i}=P.useContext(ad),{matches:o}=P.useContext(Cc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let l=Yu(),h;if(t){var p;let w=typeof t=="string"?fm(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||oi(!1),h=w}else h=l;let m=h.pathname||"/",E=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=H5(e,{pathname:E}),y=EV(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Uu([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Uu([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&y?P.createElement(u_.Provider,{value:{location:Hv({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ru.Pop}},y):y}function xV(){let e=kV(),t=dV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,null)}const SV=P.createElement(xV,null);class _V extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?P.createElement(Cc.Provider,{value:this.props.routeContext},P.createElement(LD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wV(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(CR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Cc.Provider,{value:t},r)}function EV(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||oi(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=h),p.route.id){let{loaderData:m,errors:E}=n,x=p.route.loader&&m[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||x){c=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let E,x=!1,y=null,w=null;n&&(E=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||SV,c&&(l<0&&m===0?(x=!0,w=null):l===m&&(x=!0,w=p.route.hydrateFallbackElement||null)));let R=t.concat(s.slice(0,m+1)),_=()=>{let C;return E?C=y:x?C=w:p.route.Component?C=P.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,P.createElement(wV,{match:p,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?P.createElement(_V,{location:n.location,revalidation:n.revalidation,component:y,error:E,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var $D=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($D||{}),eS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eS||{});function CV(e){let t=P.useContext(CR);return t||oi(!1),t}function TV(e){let t=P.useContext(hV);return t||oi(!1),t}function RV(e){let t=P.useContext(Cc);return t||oi(!1),t}function VD(e){let t=RV(),n=t.matches[t.matches.length-1];return n.route.id||oi(!1),n.route.id}function kV(){var e;let t=P.useContext(LD),n=TV(eS.UseRouteError),r=VD(eS.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function OV(){let{router:e}=CV($D.UseNavigateStable),t=VD(eS.UseNavigateStable),n=P.useRef(!1);return FD(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Hv({fromRouteId:t},o)))},[e,t])}function gT(e){let{to:t,replace:n,state:r,relative:i}=e;hm()||oi(!1);let{future:o,static:s}=P.useContext(ad),{matches:a}=P.useContext(Cc),{pathname:c}=Yu(),l=Sl(),h=ER(t,wR(a,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return P.useEffect(()=>l(JSON.parse(p),{replace:n,state:r,relative:i}),[l,p,i,n,r]),null}function PV(e){return vV(e.context)}function Gr(e){oi(!1)}function NV(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ru.Pop,navigator:o,static:s=!1,future:a}=e;hm()&&oi(!1);let c=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:c,navigator:o,static:s,future:Hv({v7_relativeSplatPath:!1},a)}),[c,a,o,s]);typeof r=="string"&&(r=fm(r));let{pathname:h="/",search:p="",hash:m="",state:E=null,key:x="default"}=r,y=P.useMemo(()=>{let w=_R(h,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:E,key:x},navigationType:i}},[c,h,p,m,E,x,i]);return y==null?null:P.createElement(ad.Provider,{value:l},P.createElement(u_.Provider,{children:n,value:y}))}function IV(e){let{children:t,location:n}=e;return yV(vT(t),n)}new Promise(()=>{});function vT(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let o=[...t,i];if(r.type===P.Fragment){n.push.apply(n,vT(r.props.children,o));return}r.type!==Gr&&oi(!1),!r.props.index||!r.props.children||oi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vT(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yT(){return yT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yT.apply(this,arguments)}function AV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DV(e,t){return e.button===0&&(!t||t==="_self")&&!jV(e)}function bT(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function MV(e,t){let n=bT(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const LV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FV="6";try{window.__reactRouterVersion=FV}catch{}const UV="startTransition",UP=_A[UV];function BV(e){let{basename:t,children:n,future:r,window:i}=e,o=P.useRef();o.current==null&&(o.current=V5({window:i,v5Compat:!0}));let s=o.current,[a,c]=P.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},h=P.useCallback(p=>{l&&UP?UP(()=>c(p)):c(p)},[c,l]);return P.useLayoutEffect(()=>s.listen(h),[s,h]),P.createElement(NV,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const $V=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BP=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:c,to:l,preventScrollReset:h,viewTransition:p}=t,m=AV(t,LV),{basename:E}=P.useContext(ad),x,y=!1;if(typeof l=="string"&&VV.test(l)&&(x=l,$V))try{let C=new URL(window.location.href),I=l.startsWith("//")?new URL(C.protocol+l):new URL(l),j=_R(I.pathname,E);I.origin===C.origin&&j!=null?l=j+I.search+I.hash:y=!0}catch{}let w=pV(l,{relative:i}),R=zV(l,{replace:s,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:p});function _(C){r&&r(C),C.defaultPrevented||R(C)}return P.createElement("a",yT({},m,{href:x||w,onClick:y||o?r:_,ref:n,target:c}))});var $P;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($P||($P={}));var VP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(VP||(VP={}));function zV(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,c=Sl(),l=Yu(),h=BD(e,{relative:s});return P.useCallback(p=>{if(DV(p,n)){p.preventDefault();let m=r!==void 0?r:Zx(l)===Zx(h);c(e,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[l,c,h,r,i,n,e,o,s,a])}function WV(e){let t=P.useRef(bT(e)),n=P.useRef(!1),r=Yu(),i=P.useMemo(()=>MV(r.search,n.current?null:t.current),[r.search]),o=Sl(),s=P.useCallback((a,c)=>{const l=bT(typeof a=="function"?a(i):a);n.current=!0,o("?"+l,c)},[o,i]);return[i,s]}const HV=1,GV=1e6;let xE=0;function qV(){return xE=(xE+1)%Number.MAX_SAFE_INTEGER,xE.toString()}const SE=new Map,zP=e=>{if(SE.has(e))return;const t=setTimeout(()=>{SE.delete(e),gv({type:"REMOVE_TOAST",toastId:e})},GV);SE.set(e,t)},KV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?zP(n):e.toasts.forEach(r=>{zP(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Rb=[];let kb={toasts:[]};function gv(e){kb=KV(kb,e),Rb.forEach(t=>{t(kb)})}function Bu({...e}){const t=qV(),n=i=>gv({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>gv({type:"DISMISS_TOAST",toastId:t});return gv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function _l(){const[e,t]=P.useState(kb);return P.useEffect(()=>(Rb.push(t),()=>{const n=Rb.indexOf(t);n>-1&&Rb.splice(n,1)}),[e]),{...e,toast:Bu,dismiss:n=>gv({type:"DISMISS_TOAST",toastId:n})}}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function YV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function d_(...e){return t=>e.forEach(n=>YV(n,t))}function xn(...e){return P.useCallback(d_(...e),e)}function QV(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function h(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,h]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,XV(i,...t)]}function XV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var xc=P.forwardRef((e,t)=>{const{children:n,...r}=e,i=P.Children.toArray(n),o=i.find(ZV);if(o){const s=o.props.children,a=i.map(c=>c===o?P.Children.count(s)>1?P.Children.only(null):P.isValidElement(s)?s.props.children:null:c);return u.jsx(xT,{...r,ref:t,children:P.isValidElement(s)?P.cloneElement(s,void 0,a):null})}return u.jsx(xT,{...r,ref:t,children:n})});xc.displayName="Slot";var xT=P.forwardRef((e,t)=>{const{children:n,...r}=e;if(P.isValidElement(n)){const i=tz(n);return P.cloneElement(n,{...ez(r,n.props),ref:t?d_(t,i):i})}return P.Children.count(n)>1?P.Children.only(null):null});xT.displayName="SlotClone";var JV=({children:e})=>u.jsx(u.Fragment,{children:e});function ZV(e){return P.isValidElement(e)&&e.type===JV}function ez(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function tz(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function f_(e){const t=e+"CollectionProvider",[n,r]=QV(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=E=>{const{scope:x,children:y}=E,w=ht.useRef(null),R=ht.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:R,collectionRef:w,children:y})};s.displayName=t;const a=e+"CollectionSlot",c=ht.forwardRef((E,x)=>{const{scope:y,children:w}=E,R=o(a,y),_=xn(x,R.collectionRef);return u.jsx(xc,{ref:_,children:w})});c.displayName=a;const l=e+"CollectionItemSlot",h="data-radix-collection-item",p=ht.forwardRef((E,x)=>{const{scope:y,children:w,...R}=E,_=ht.useRef(null),C=xn(x,_),I=o(l,y);return ht.useEffect(()=>(I.itemMap.set(_,{ref:_,...R}),()=>void I.itemMap.delete(_))),u.jsx(xc,{[h]:"",ref:C,children:w})});p.displayName=l;function m(E){const x=o(e+"CollectionConsumer",E);return ht.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const R=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((I,j)=>R.indexOf(I.ref.current)-R.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},m,r]}function nz(e,t){const n=P.createContext(t),r=o=>{const{children:s,...a}=o,c=P.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function i(o){const s=P.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Tc(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];const l=p=>{var R;const{scope:m,children:E,...x}=p,y=((R=m==null?void 0:m[e])==null?void 0:R[c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})};l.displayName=o+"Provider";function h(p,m){var y;const E=((y=m==null?void 0:m[e])==null?void 0:y[c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[l,h]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,rz(i,...t)]}function rz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var iz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=iz.reduce((e,t)=>{const n=P.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?xc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TR(e,t){e&&Zf.flushSync(()=>e.dispatchEvent(t))}function $r(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function oz(e,t=globalThis==null?void 0:globalThis.document){const n=$r(e);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var sz="DismissableLayer",ST="dismissableLayer.update",az="dismissableLayer.pointerDownOutside",cz="dismissableLayer.focusOutside",WP,zD=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pm=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...c}=e,l=P.useContext(zD),[h,p]=P.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=P.useState({}),x=xn(t,$=>p($)),y=Array.from(l.layers),[w]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),R=y.indexOf(w),_=h?y.indexOf(h):-1,C=l.layersWithOutsidePointerEventsDisabled.size>0,I=_>=R,j=uz($=>{const z=$.target,q=[...l.branches].some(X=>X.contains(z));!I||q||(i==null||i($),s==null||s($),$.defaultPrevented||a==null||a())},m),U=dz($=>{const z=$.target;[...l.branches].some(X=>X.contains(z))||(o==null||o($),s==null||s($),$.defaultPrevented||a==null||a())},m);return oz($=>{_===l.layers.size-1&&(r==null||r($),!$.defaultPrevented&&a&&($.preventDefault(),a()))},m),P.useEffect(()=>{if(h)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(WP=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(h)),l.layers.add(h),HP(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=WP)}},[h,m,n,l]),P.useEffect(()=>()=>{h&&(l.layers.delete(h),l.layersWithOutsidePointerEventsDisabled.delete(h),HP())},[h,l]),P.useEffect(()=>{const $=()=>E({});return document.addEventListener(ST,$),()=>document.removeEventListener(ST,$)},[]),u.jsx(Pt.div,{...c,ref:x,style:{pointerEvents:C?I?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,U.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,j.onPointerDownCapture)})});pm.displayName=sz;var lz="DismissableLayerBranch",WD=P.forwardRef((e,t)=>{const n=P.useContext(zD),r=P.useRef(null),i=xn(t,r);return P.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Pt.div,{...e,ref:i})});WD.displayName=lz;function uz(e,t=globalThis==null?void 0:globalThis.document){const n=$r(e),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){HD(az,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dz(e,t=globalThis==null?void 0:globalThis.document){const n=$r(e),r=P.useRef(!1);return P.useEffect(()=>{const i=o=>{o.target&&!r.current&&HD(cz,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HP(){const e=new CustomEvent(ST);document.dispatchEvent(e)}function HD(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?TR(i,o):i.dispatchEvent(o)}var fz=pm,hz=WD,Yi=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},pz="Portal",mm=P.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,o]=P.useState(!1);Yi(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?v5.createPortal(u.jsx(Pt.div,{...r,ref:t}),s):null});mm.displayName=pz;function mz(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var uo=e=>{const{present:t,children:n}=e,r=gz(t),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),o=xn(r.ref,vz(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:o}):null};uo.displayName="Presence";function gz(e){const[t,n]=P.useState(),r=P.useRef({}),i=P.useRef(e),o=P.useRef("none"),s=e?"mounted":"unmounted",[a,c]=mz(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const l=ib(r.current);o.current=a==="mounted"?l:"none"},[a]),Yi(()=>{const l=r.current,h=i.current;if(h!==e){const m=o.current,E=ib(l);e?c("MOUNT"):E==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(h&&m!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Yi(()=>{if(t){let l;const h=t.ownerDocument.defaultView??window,p=E=>{const y=ib(r.current).includes(E.animationName);if(E.target===t&&y&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",l=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=E=>{E.target===t&&(o.current=ib(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(l),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function ib(e){return(e==null?void 0:e.animationName)||"none"}function vz(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=yz({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=$r(n),c=P.useCallback(l=>{if(o){const p=typeof l=="function"?l(e):l;p!==e&&a(p)}else i(l)},[o,e,i,a]);return[s,c]}function yz({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,i=P.useRef(r),o=$r(t);return P.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var bz="VisuallyHidden",h_=P.forwardRef((e,t)=>u.jsx(Pt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));h_.displayName=bz;var RR="ToastProvider",[kR,xz,Sz]=f_("Toast"),[GD,yae]=Tc("Toast",[Sz]),[_z,p_]=GD(RR),qD=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,c]=P.useState(null),[l,h]=P.useState(0),p=P.useRef(!1),m=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${RR}\`. Expected non-empty \`string\`.`),u.jsx(kR.Provider,{scope:t,children:u.jsx(_z,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:l,viewport:a,onViewportChange:c,onToastAdd:P.useCallback(()=>h(E=>E+1),[]),onToastRemove:P.useCallback(()=>h(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:s})})};qD.displayName=RR;var KD="ToastViewport",wz=["F8"],_T="toast.viewportPause",wT="toast.viewportResume",YD=P.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=wz,label:i="Notifications ({hotkey})",...o}=e,s=p_(KD,n),a=xz(n),c=P.useRef(null),l=P.useRef(null),h=P.useRef(null),p=P.useRef(null),m=xn(t,p,s.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;P.useEffect(()=>{const w=R=>{var C;r.length!==0&&r.every(I=>R[I]||R.code===I)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),P.useEffect(()=>{const w=c.current,R=p.current;if(x&&w&&R){const _=()=>{if(!s.isClosePausedRef.current){const U=new CustomEvent(_T);R.dispatchEvent(U),s.isClosePausedRef.current=!0}},C=()=>{if(s.isClosePausedRef.current){const U=new CustomEvent(wT);R.dispatchEvent(U),s.isClosePausedRef.current=!1}},I=U=>{!w.contains(U.relatedTarget)&&C()},j=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",_),w.addEventListener("focusout",I),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",j),window.addEventListener("blur",_),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",I),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",_),window.removeEventListener("focus",C)}}},[x,s.isClosePausedRef]);const y=P.useCallback(({tabbingDirection:w})=>{const _=a().map(C=>{const I=C.ref.current,j=[I,...Mz(I)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return P.useEffect(()=>{const w=p.current;if(w){const R=_=>{var j,U,$;const C=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!C){const z=document.activeElement,q=_.shiftKey;if(_.target===w&&q){(j=l.current)==null||j.focus();return}const G=y({tabbingDirection:q?"backwards":"forwards"}),ee=G.findIndex(ce=>ce===z);_E(G.slice(ee+1))?_.preventDefault():q?(U=l.current)==null||U.focus():($=h.current)==null||$.focus()}};return w.addEventListener("keydown",R),()=>w.removeEventListener("keydown",R)}},[a,y]),u.jsxs(hz,{ref:c,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(ET,{ref:l,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});_E(w)}}),u.jsx(kR.Slot,{scope:n,children:u.jsx(Pt.ol,{tabIndex:-1,...o,ref:m})}),x&&u.jsx(ET,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});_E(w)}})]})});YD.displayName=KD;var QD="ToastFocusProxy",ET=P.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=p_(QD,n);return u.jsx(h_,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var l;const a=s.relatedTarget;!((l=o.viewport)!=null&&l.contains(a))&&r()}})});ET.displayName=QD;var m_="Toast",Ez="toast.swipeStart",Cz="toast.swipeMove",Tz="toast.swipeCancel",Rz="toast.swipeEnd",XD=P.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[a=!0,c]=pl({prop:r,defaultProp:i,onChange:o});return u.jsx(uo,{present:n||a,children:u.jsx(Pz,{open:a,...s,ref:t,onClose:()=>c(!1),onPause:$r(e.onPause),onResume:$r(e.onResume),onSwipeStart:Ke(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,l=>{const{x:h,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,l=>{const{x:h,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});XD.displayName=m_;var[kz,Oz]=GD(m_,{onClose(){}}),Pz=P.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:c,onResume:l,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:E,...x}=e,y=p_(m_,n),[w,R]=P.useState(null),_=xn(t,ce=>R(ce)),C=P.useRef(null),I=P.useRef(null),j=i||y.duration,U=P.useRef(0),$=P.useRef(j),z=P.useRef(0),{onToastAdd:q,onToastRemove:X}=y,J=$r(()=>{var xe;(w==null?void 0:w.contains(document.activeElement))&&((xe=y.viewport)==null||xe.focus()),s()}),G=P.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(z.current),U.current=new Date().getTime(),z.current=window.setTimeout(J,ce))},[J]);P.useEffect(()=>{const ce=y.viewport;if(ce){const xe=()=>{G($.current),l==null||l()},Se=()=>{const ve=new Date().getTime()-U.current;$.current=$.current-ve,window.clearTimeout(z.current),c==null||c()};return ce.addEventListener(_T,Se),ce.addEventListener(wT,xe),()=>{ce.removeEventListener(_T,Se),ce.removeEventListener(wT,xe)}}},[y.viewport,j,c,l,G]),P.useEffect(()=>{o&&!y.isClosePausedRef.current&&G(j)},[o,j,y.isClosePausedRef,G]),P.useEffect(()=>(q(),()=>X()),[q,X]);const ee=P.useMemo(()=>w?iM(w):null,[w]);return y.viewport?u.jsxs(u.Fragment,{children:[ee&&u.jsx(Nz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),u.jsx(kz,{scope:n,onClose:J,children:Zf.createPortal(u.jsx(kR.ItemSlot,{scope:n,children:u.jsx(fz,{asChild:!0,onEscapeKeyDown:Ke(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||J(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,ce=>{ce.key==="Escape"&&(a==null||a(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ke(e.onPointerDown,ce=>{ce.button===0&&(C.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:Ke(e.onPointerMove,ce=>{if(!C.current)return;const xe=ce.clientX-C.current.x,Se=ce.clientY-C.current.y,ve=!!I.current,Y=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=Y?Q(0,xe):0,fe=Y?0:Q(0,Se),Te=ce.pointerType==="touch"?10:2,He={x:ne,y:fe},Le={originalEvent:ce,delta:He};ve?(I.current=He,ob(Cz,p,Le,{discrete:!1})):GP(He,y.swipeDirection,Te)?(I.current=He,ob(Ez,h,Le,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(xe)>Te||Math.abs(Se)>Te)&&(C.current=null)}),onPointerUp:Ke(e.onPointerUp,ce=>{const xe=I.current,Se=ce.target;if(Se.hasPointerCapture(ce.pointerId)&&Se.releasePointerCapture(ce.pointerId),I.current=null,C.current=null,xe){const ve=ce.currentTarget,Y={originalEvent:ce,delta:xe};GP(xe,y.swipeDirection,y.swipeThreshold)?ob(Rz,E,Y,{discrete:!0}):ob(Tz,m,Y,{discrete:!0}),ve.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Nz=e=>{const{__scopeToast:t,children:n,...r}=e,i=p_(m_,t),[o,s]=P.useState(!1),[a,c]=P.useState(!1);return jz(()=>s(!0)),P.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:u.jsx(mm,{asChild:!0,children:u.jsx(h_,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},Iz="ToastTitle",JD=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});JD.displayName=Iz;var Az="ToastDescription",ZD=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});ZD.displayName=Az;var eM="ToastAction",tM=P.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(rM,{altText:n,asChild:!0,children:u.jsx(OR,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${eM}\`. Expected non-empty \`string\`.`),null)});tM.displayName=eM;var nM="ToastClose",OR=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=Oz(nM,n);return u.jsx(rM,{asChild:!0,children:u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,i.onClose)})})});OR.displayName=nM;var rM=P.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return u.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function iM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Dz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...iM(r))}}),t}function ob(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?TR(i,o):i.dispatchEvent(o)}var GP=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function jz(e=()=>{}){const t=$r(e);Yi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Dz(e){return e.nodeType===e.ELEMENT_NODE}function Mz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _E(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Lz=qD,oM=YD,sM=XD,aM=JD,cM=ZD,lM=tM,uM=OR;function dM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=dM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fM(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=dM(e))&&(r&&(r+=" "),r+=t);return r}const qP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KP=fM,g_=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return KP(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(l=>{const h=n==null?void 0:n[l],p=o==null?void 0:o[l];if(h===null)return null;const m=qP(h)||qP(p);return i[l][m]}),a=n&&Object.entries(n).reduce((l,h)=>{let[p,m]=h;return m===void 0||(l[p]=m),l},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,h)=>{let{class:p,className:m,...E}=h;return Object.entries(E).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...o,...a}[y]):{...o,...a}[y]===w})?[...l,p,m]:l},[]);return KP(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>P.createElement("svg",{ref:c,...Uz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:hM("lucide",i),...a},[...s.map(([l,h])=>P.createElement(l,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(e,t)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(Bz,{ref:o,iconNode:t,className:hM(`lucide-${Fz(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=Rn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=Rn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=Rn("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=Rn("BookOpenText",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Rn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Rn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=Rn("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=Rn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=Rn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Rn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=Rn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=Rn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Rn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Rn("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=Rn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=Rn("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=Rn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Rn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Rn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Rn("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Rn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Rn("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Rn("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Rn("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Rn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Rn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Rn("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Rn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Rn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Rn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IR="-",l6=e=>{const t=d6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(IR);return a[0]===""&&a.length!==1&&a.shift(),bM(a,t)||u6(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},bM=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?bM(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(IR);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},YP=/^\[(.+)\]$/,u6=e=>{if(YP.test(e)){const t=YP.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},d6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return h6(Object.entries(e.classGroups),n).forEach(([o,s])=>{RT(s,r,o,t)}),r},RT=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:QP(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(f6(i)){RT(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{RT(s,QP(t,o),n,r)})})},QP=(e,t)=>{let n=e;return t.split(IR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f6=e=>e.isThemeGetter,h6=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,p6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},xM="!",m6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const c=[];let l=0,h=0,p;for(let w=0;w<a.length;w++){let R=a[w];if(l===0){if(R===i&&(r||a.slice(w,w+o)===t)){c.push(a.slice(h,w)),h=w+o;continue}if(R==="/"){p=w;continue}}R==="["?l++:R==="]"&&l--}const m=c.length===0?a:a.substring(h),E=m.startsWith(xM),x=E?m.substring(1):m,y=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:E,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:s}):s},g6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},v6=e=>({cache:p6(e.cacheSize),parseClassName:m6(e),...l6(e)}),y6=/\s+/,b6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(y6);let a="";for(let c=s.length-1;c>=0;c-=1){const l=s[c],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:E}=n(l);let x=!!E,y=r(x?m.substring(0,E):m);if(!y){if(!x){a=l+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=l+(a.length>0?" "+a:a);continue}x=!1}const w=g6(h).join(":"),R=p?w+xM:w,_=R+y;if(o.includes(_))continue;o.push(_);const C=i(y,x);for(let I=0;I<C.length;++I){const j=C[I];o.push(R+j)}a=l+(a.length>0?" "+a:a)}return a};function x6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=SM(t))&&(r&&(r+=" "),r+=n);return r}const SM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=SM(e[r]))&&(n&&(n+=" "),n+=t);return n};function S6(e,...t){let n,r,i,o=s;function s(c){const l=t.reduce((h,p)=>p(h),e());return n=v6(l),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const h=b6(c,n);return i(c,h),h}return function(){return o(x6.apply(null,arguments))}}const Cr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},_M=/^\[(?:([a-z-]+):)?(.+)\]$/i,_6=/^\d+\/\d+$/,w6=new Set(["px","full","screen"]),E6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,R6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hc=e=>Rp(e)||w6.has(e)||_6.test(e),cu=e=>gm(e,"length",M6),Rp=e=>!!e&&!Number.isNaN(Number(e)),wE=e=>gm(e,"number",Rp),Vg=e=>!!e&&Number.isInteger(Number(e)),O6=e=>e.endsWith("%")&&Rp(e.slice(0,-1)),gn=e=>_M.test(e),lu=e=>E6.test(e),P6=new Set(["length","size","percentage"]),N6=e=>gm(e,P6,wM),I6=e=>gm(e,"position",wM),A6=new Set(["image","url"]),j6=e=>gm(e,A6,F6),D6=e=>gm(e,"",L6),zg=()=>!0,gm=(e,t,n)=>{const r=_M.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},M6=e=>C6.test(e)&&!T6.test(e),wM=()=>!1,L6=e=>R6.test(e),F6=e=>k6.test(e),U6=()=>{const e=Cr("colors"),t=Cr("spacing"),n=Cr("blur"),r=Cr("brightness"),i=Cr("borderColor"),o=Cr("borderRadius"),s=Cr("borderSpacing"),a=Cr("borderWidth"),c=Cr("contrast"),l=Cr("grayscale"),h=Cr("hueRotate"),p=Cr("invert"),m=Cr("gap"),E=Cr("gradientColorStops"),x=Cr("gradientColorStopPositions"),y=Cr("inset"),w=Cr("margin"),R=Cr("opacity"),_=Cr("padding"),C=Cr("saturate"),I=Cr("scale"),j=Cr("sepia"),U=Cr("skew"),$=Cr("space"),z=Cr("translate"),q=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",gn,t],G=()=>[gn,t],ee=()=>["",Hc,cu],ce=()=>["auto",Rp,gn],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Se=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",gn],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Rp,gn];return{cacheSize:500,separator:":",theme:{colors:[zg],spacing:[Hc,cu],blur:["none","",lu,gn],brightness:fe(),borderColor:[e],borderRadius:["none","","full",lu,gn],borderSpacing:G(),borderWidth:ee(),contrast:fe(),grayscale:Q(),hueRotate:fe(),invert:Q(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[O6,cu],inset:J(),margin:J(),opacity:fe(),padding:G(),saturate:fe(),scale:fe(),sepia:Q(),skew:fe(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",gn]}],container:["container"],columns:[{columns:[lu]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),gn]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vg,gn]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gn]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Vg,gn]}],"grid-cols":[{"grid-cols":[zg]}],"col-start-end":[{col:["auto",{span:["full",Vg,gn]},gn]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[zg]}],"row-start-end":[{row:["auto",{span:[Vg,gn]},gn]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gn,t]}],"min-w":[{"min-w":[gn,t,"min","max","fit"]}],"max-w":[{"max-w":[gn,t,"none","full","min","max","fit","prose",{screen:[lu]},lu]}],h:[{h:[gn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lu,cu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wE]}],"font-family":[{font:[zg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gn]}],"line-clamp":[{"line-clamp":["none",Rp,wE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hc,gn]}],"list-image":[{"list-image":["none",gn]}],"list-style-type":[{list:["none","disc","decimal",gn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hc,cu]}],"underline-offset":[{"underline-offset":["auto",Hc,gn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),I6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...Se(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:Se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Se()]}],"outline-offset":[{"outline-offset":[Hc,gn]}],"outline-w":[{outline:[Hc,cu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Hc,cu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lu,D6]}],"shadow-color":[{shadow:[zg]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lu,gn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gn]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",gn]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",gn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Vg,gn]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hc,cu,wE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},B6=S6(U6);function it(...e){return B6(fM(e))}const $6=Lz,EM=P.forwardRef(({className:e,...t},n)=>u.jsx(oM,{ref:n,className:it("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));EM.displayName=oM.displayName;const V6=g_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CM=P.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(sM,{ref:r,className:it(V6({variant:t}),e),...n}));CM.displayName=sM.displayName;const z6=P.forwardRef(({className:e,...t},n)=>u.jsx(lM,{ref:n,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z6.displayName=lM.displayName;const TM=P.forwardRef(({className:e,...t},n)=>u.jsx(uM,{ref:n,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(cd,{className:"h-4 w-4"})}));TM.displayName=uM.displayName;const RM=P.forwardRef(({className:e,...t},n)=>u.jsx(aM,{ref:n,className:it("text-sm font-semibold",e),...t}));RM.displayName=aM.displayName;const kM=P.forwardRef(({className:e,...t},n)=>u.jsx(cM,{ref:n,className:it("text-sm opacity-90",e),...t}));kM.displayName=cM.displayName;function W6(){const{toasts:e}=_l();return u.jsxs($6,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return u.jsxs(CM,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(RM,{children:n}),r&&u.jsx(kM,{children:r})]}),i,u.jsx(TM,{})]},t)}),u.jsx(EM,{})]})}const kp="http://13.233.246.47/api/v1/admin",kT="http://13.233.246.47/api/v1",H6="/login",G6="/standard/createstandard",q6="/standard/getstandard/:id",K6="/standard/getallstandards",Y6="/standard/updatestandard/:id",Q6="/standard/standardtoggle",X6="/subject/subjectcreate",J6="/subject/idsubject/:id",Z6="/subject/allsubjects",e8="/subject/updatesubject/:id",t8="/subject/togglesubject",n8="/board/createboard",r8="/board/getbyidboard/:id",i8="/board/allboard",o8="/board/updateboard/:id",s8="/board/toggleboard",a8="/activity/createactivity",c8="/activity/idactivity/:id",l8="/activity/allactivity",u8="/activity/updateactivity/:id",d8="/activity/toggleactivity",f8="/course/createcourse",h8="/course/getallcourses",p8="/course/updatecourse",m8="/course/coursetoggle",g8="/quiz/create",v8="/quiz",y8="/quiz/all",b8="/quiz/",x8="/quiz/activeToggle",S8="/quiz/results",_8="/lesson/create",w8="/lesson/alllesson",E8="/lesson/updatelesson",C8="/lesson/togglelesson",T8="/mentor/creatementors",R8="/mentor/fetchmentors",k8="/mentor/",O8="/mentor/mentorstoggle",P8="/getCheckoutDetails",N8="/verifyPayment",I8="/user/all",A8="/user/toggleBlockUser",j8="/user/updateUserDetails",OM="/payment/all",D8="/payment/allTransactions",M8="/getProfile",L8="/quiz/getUserQuizResults",F8="/course/getUserCoursesTrack",U8="/user/getUserDetails",B8="/offer",$8="/offer",V8=e=>`/offer/${e}`,z8=e=>`/offer/${e}`,W8=e=>`/offer/${e}`,H8="/quiz/getEligibleOfrQuizzes",G8="/course/getEligibleOfrCourses",q8="/stream",K8="/stream/create-stream",Y8=e=>`/stream/start-stream/${e}`,Q8="/stream/stop-stream/";function PM(e,t){return function(){return e.apply(t,arguments)}}const{toString:X8}=Object.prototype,{getPrototypeOf:AR}=Object,y_=(e=>t=>{const n=X8.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),t=>y_(t)===e),b_=e=>t=>typeof t===e,{isArray:vm}=Array,Gv=b_("undefined");function J8(e){return e!==null&&!Gv(e)&&e.constructor!==null&&!Gv(e.constructor)&&Cs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const NM=Fa("ArrayBuffer");function Z8(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&NM(e.buffer),t}const eW=b_("string"),Cs=b_("function"),IM=b_("number"),x_=e=>e!==null&&typeof e=="object",tW=e=>e===!0||e===!1,Ob=e=>{if(y_(e)!=="object")return!1;const t=AR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nW=Fa("Date"),rW=Fa("File"),iW=Fa("Blob"),oW=Fa("FileList"),sW=e=>x_(e)&&Cs(e.pipe),aW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cs(e.append)&&((t=y_(e))==="formdata"||t==="object"&&Cs(e.toString)&&e.toString()==="[object FormData]"))},cW=Fa("URLSearchParams"),[lW,uW,dW,fW]=["ReadableStream","Request","Response","Headers"].map(Fa),hW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gy(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),vm(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function AM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const vf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jM=e=>!Gv(e)&&e!==vf;function OT(){const{caseless:e}=jM(this)&&this||{},t={},n=(r,i)=>{const o=e&&AM(t,i)||i;Ob(t[o])&&Ob(r)?t[o]=OT(t[o],r):Ob(r)?t[o]=OT({},r):vm(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gy(arguments[r],n);return t}const pW=(e,t,n,{allOwnKeys:r}={})=>(gy(t,(i,o)=>{n&&Cs(i)?e[o]=PM(i,n):e[o]=i},{allOwnKeys:r}),e),mW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gW=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vW=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&AR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},yW=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bW=e=>{if(!e)return null;if(vm(e))return e;let t=e.length;if(!IM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&AR(Uint8Array)),SW=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},_W=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},wW=Fa("HTMLFormElement"),EW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),XP=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),CW=Fa("RegExp"),DM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gy(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},TW=e=>{DM(e,(t,n)=>{if(Cs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Cs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RW=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return vm(e)?r(e):r(String(e).split(t)),n},kW=()=>{},OW=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,EE="abcdefghijklmnopqrstuvwxyz",JP="0123456789",MM={DIGIT:JP,ALPHA:EE,ALPHA_DIGIT:EE+EE.toUpperCase()+JP},PW=(e=16,t=MM.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function NW(e){return!!(e&&Cs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const IW=e=>{const t=new Array(10),n=(r,i)=>{if(x_(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=vm(r)?[]:{};return gy(r,(s,a)=>{const c=n(s,i+1);!Gv(c)&&(o[a]=c)}),t[i]=void 0,o}}return r};return n(e,0)},AW=Fa("AsyncFunction"),jW=e=>e&&(x_(e)||Cs(e))&&Cs(e.then)&&Cs(e.catch),LM=((e,t)=>e?setImmediate:t?((n,r)=>(vf.addEventListener("message",({source:i,data:o})=>{i===vf&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),vf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cs(vf.postMessage)),DW=typeof queueMicrotask<"u"?queueMicrotask.bind(vf):typeof process<"u"&&process.nextTick||LM,Ee={isArray:vm,isArrayBuffer:NM,isBuffer:J8,isFormData:aW,isArrayBufferView:Z8,isString:eW,isNumber:IM,isBoolean:tW,isObject:x_,isPlainObject:Ob,isReadableStream:lW,isRequest:uW,isResponse:dW,isHeaders:fW,isUndefined:Gv,isDate:nW,isFile:rW,isBlob:iW,isRegExp:CW,isFunction:Cs,isStream:sW,isURLSearchParams:cW,isTypedArray:xW,isFileList:oW,forEach:gy,merge:OT,extend:pW,trim:hW,stripBOM:mW,inherits:gW,toFlatObject:vW,kindOf:y_,kindOfTest:Fa,endsWith:yW,toArray:bW,forEachEntry:SW,matchAll:_W,isHTMLForm:wW,hasOwnProperty:XP,hasOwnProp:XP,reduceDescriptors:DM,freezeMethods:TW,toObjectSet:RW,toCamelCase:EW,noop:kW,toFiniteNumber:OW,findKey:AM,global:vf,isContextDefined:jM,ALPHABET:MM,generateString:PW,isSpecCompliantForm:NW,toJSONObject:IW,isAsyncFn:AW,isThenable:jW,setImmediate:LM,asap:DW};function hn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const FM=hn.prototype,UM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{UM[e]={value:e}});Object.defineProperties(hn,UM);Object.defineProperty(FM,"isAxiosError",{value:!0});hn.from=(e,t,n,r,i,o)=>{const s=Object.create(FM);return Ee.toFlatObject(e,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),hn.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const MW=null;function PT(e){return Ee.isPlainObject(e)||Ee.isArray(e)}function BM(e){return Ee.endsWith(e,"[]")?e.slice(0,-2):e}function ZP(e,t,n){return e?e.concat(t).map(function(i,o){return i=BM(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function LW(e){return Ee.isArray(e)&&!e.some(PT)}const FW=Ee.toFlatObject(Ee,{},null,function(t){return/^is[A-Z]/.test(t)});function S_(e,t,n){if(!Ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!Ee.isUndefined(w[y])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(t);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(Ee.isDate(x))return x.toISOString();if(!c&&Ee.isBlob(x))throw new hn("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(x)||Ee.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,y,w){let R=x;if(x&&!w&&typeof x=="object"){if(Ee.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(Ee.isArray(x)&&LW(x)||(Ee.isFileList(x)||Ee.endsWith(y,"[]"))&&(R=Ee.toArray(x)))return y=BM(y),R.forEach(function(C,I){!(Ee.isUndefined(C)||C===null)&&t.append(s===!0?ZP([y],I,o):s===null?y:y+"[]",l(C))}),!1}return PT(x)?!0:(t.append(ZP(w,y,o),l(x)),!1)}const p=[],m=Object.assign(FW,{defaultVisitor:h,convertValue:l,isVisitable:PT});function E(x,y){if(!Ee.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(x),Ee.forEach(x,function(R,_){(!(Ee.isUndefined(R)||R===null)&&i.call(t,R,Ee.isString(_)?_.trim():_,y,m))===!0&&E(R,y?y.concat(_):[_])}),p.pop()}}if(!Ee.isObject(e))throw new TypeError("data must be an object");return E(e),t}function eN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jR(e,t){this._pairs=[],e&&S_(e,this,t)}const $M=jR.prototype;$M.append=function(t,n){this._pairs.push([t,n])};$M.toString=function(t){const n=t?function(r){return t.call(this,r,eN)}:eN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function UW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VM(e,t,n){if(!t)return e;const r=n&&n.encode||UW;Ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=Ee.isURLSearchParams(t)?t.toString():new jR(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class tN{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BW=typeof URLSearchParams<"u"?URLSearchParams:jR,$W=typeof FormData<"u"?FormData:null,VW=typeof Blob<"u"?Blob:null,zW={isBrowser:!0,classes:{URLSearchParams:BW,FormData:$W,Blob:VW},protocols:["http","https","file","blob","url","data"]},DR=typeof window<"u"&&typeof document<"u",NT=typeof navigator=="object"&&navigator||void 0,WW=DR&&(!NT||["ReactNative","NativeScript","NS"].indexOf(NT.product)<0),HW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GW=DR&&window.location.href||"http://localhost",qW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:DR,hasStandardBrowserEnv:WW,hasStandardBrowserWebWorkerEnv:HW,navigator:NT,origin:GW},Symbol.toStringTag,{value:"Module"})),co={...qW,...zW};function KW(e,t){return S_(e,new co.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return co.isNode&&Ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function YW(e){return Ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QW(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function WM(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=o>=n.length;return s=!s&&Ee.isArray(i)?i.length:s,c?(Ee.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Ee.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Ee.isArray(i[s])&&(i[s]=QW(i[s])),!a)}if(Ee.isFormData(e)&&Ee.isFunction(e.entries)){const n={};return Ee.forEachEntry(e,(r,i)=>{t(YW(r),i,n,0)}),n}return null}function XW(e,t,n){if(Ee.isString(e))try{return(t||JSON.parse)(e),Ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const vy={transitional:zM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ee.isObject(t);if(o&&Ee.isHTMLForm(t)&&(t=new FormData(t)),Ee.isFormData(t))return i?JSON.stringify(WM(t)):t;if(Ee.isArrayBuffer(t)||Ee.isBuffer(t)||Ee.isStream(t)||Ee.isFile(t)||Ee.isBlob(t)||Ee.isReadableStream(t))return t;if(Ee.isArrayBufferView(t))return t.buffer;if(Ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KW(t,this.formSerializer).toString();if((a=Ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return S_(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),XW(t)):t}],transformResponse:[function(t){const n=this.transitional||vy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(t)||Ee.isReadableStream(t))return t;if(t&&Ee.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?hn.from(a,hn.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:co.classes.FormData,Blob:co.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],e=>{vy.headers[e]={}});const JW=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZW=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&JW[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},nN=Symbol("internals");function Wg(e){return e&&String(e).trim().toLowerCase()}function Pb(e){return e===!1||e==null?e:Ee.isArray(e)?e.map(Pb):String(e)}function e9(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const t9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function CE(e,t,n,r,i){if(Ee.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Ee.isString(t)){if(Ee.isString(r))return t.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(t)}}function n9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function r9(e,t){const n=Ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class es{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,c,l){const h=Wg(c);if(!h)throw new Error("header name must be a non-empty string");const p=Ee.findKey(i,h);(!p||i[p]===void 0||l===!0||l===void 0&&i[p]!==!1)&&(i[p||c]=Pb(a))}const s=(a,c)=>Ee.forEach(a,(l,h)=>o(l,h,c));if(Ee.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Ee.isString(t)&&(t=t.trim())&&!t9(t))s(ZW(t),n);else if(Ee.isHeaders(t))for(const[a,c]of t.entries())o(c,a,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Wg(t),t){const r=Ee.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return e9(i);if(Ee.isFunction(n))return n.call(this,i,r);if(Ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Wg(t),t){const r=Ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||CE(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=Wg(s),s){const a=Ee.findKey(r,s);a&&(!n||CE(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ee.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||CE(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Ee.forEach(this,(i,o)=>{const s=Ee.findKey(r,o);if(s){n[s]=Pb(i),delete n[o];return}const a=t?n9(o):String(o).trim();a!==o&&delete n[o],n[a]=Pb(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[nN]=this[nN]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Wg(s);r[a]||(r9(i,s),r[a]=!0)}return Ee.isArray(t)?t.forEach(o):o(t),this}}es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(es.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ee.freezeMethods(es);function TE(e,t){const n=this||vy,r=t||n,i=es.from(r.headers);let o=r.data;return Ee.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function HM(e){return!!(e&&e.__CANCEL__)}function ym(e,t,n){hn.call(this,e??"canceled",hn.ERR_CANCELED,t,n),this.name="CanceledError"}Ee.inherits(ym,hn,{__CANCEL__:!0});function GM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new hn("Request failed with status code "+n.status,[hn.ERR_BAD_REQUEST,hn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function i9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function o9(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),h=r[o];s||(s=l),n[i]=c,r[i]=l;let p=o,m=0;for(;p!==i;)m+=n[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const E=h&&l-h;return E?Math.round(m*1e3/E):void 0}}function s9(e,t){let n=0,r=1e3/t,i,o;const s=(l,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),e.apply(null,l)};return[(...l)=>{const h=Date.now(),p=h-n;p>=r?s(l,h):(i=l,o||(o=setTimeout(()=>{o=null,s(i)},r-p)))},()=>i&&s(i)]}const tS=(e,t,n=3)=>{let r=0;const i=o9(50,250);return s9(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,l=i(c),h=s<=a;r=s;const p={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&h?(a-s)/l:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(p)},n)},rN=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},iN=e=>(...t)=>Ee.asap(()=>e(...t)),a9=co.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,co.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(co.origin),co.navigator&&/(msie|trident)/i.test(co.navigator.userAgent)):()=>!0,c9=co.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Ee.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ee.isString(r)&&s.push("path="+r),Ee.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function l9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function u9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qM(e,t){return e&&!l9(t)?u9(e,t):t}const oN=e=>e instanceof es?{...e}:e;function Uf(e,t){t=t||{};const n={};function r(l,h,p,m){return Ee.isPlainObject(l)&&Ee.isPlainObject(h)?Ee.merge.call({caseless:m},l,h):Ee.isPlainObject(h)?Ee.merge({},h):Ee.isArray(h)?h.slice():h}function i(l,h,p,m){if(Ee.isUndefined(h)){if(!Ee.isUndefined(l))return r(void 0,l,p,m)}else return r(l,h,p,m)}function o(l,h){if(!Ee.isUndefined(h))return r(void 0,h)}function s(l,h){if(Ee.isUndefined(h)){if(!Ee.isUndefined(l))return r(void 0,l)}else return r(void 0,h)}function a(l,h,p){if(p in t)return r(l,h);if(p in e)return r(void 0,l)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,h,p)=>i(oN(l),oN(h),p,!0)};return Ee.forEach(Object.keys(Object.assign({},e,t)),function(h){const p=c[h]||i,m=p(e[h],t[h],h);Ee.isUndefined(m)&&p!==a||(n[h]=m)}),n}const KM=e=>{const t=Uf({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=es.from(s),t.url=VM(qM(t.baseURL,t.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Ee.isFormData(n)){if(co.hasStandardBrowserEnv||co.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...h]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...h].join("; "))}}if(co.hasStandardBrowserEnv&&(r&&Ee.isFunction(r)&&(r=r(t)),r||r!==!1&&a9(t.url))){const l=i&&o&&c9.read(o);l&&s.set(i,l)}return t},d9=typeof XMLHttpRequest<"u",f9=d9&&function(e){return new Promise(function(n,r){const i=KM(e);let o=i.data;const s=es.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=i,h,p,m,E,x;function y(){E&&E(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function R(){if(!w)return;const C=es.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};GM(function($){n($),y()},function($){r($),y()},j),w=null}"onloadend"in w?w.onloadend=R:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(R)},w.onabort=function(){w&&(r(new hn("Request aborted",hn.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new hn("Network Error",hn.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||zM;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new hn(I,j.clarifyTimeoutError?hn.ETIMEDOUT:hn.ECONNABORTED,e,w)),w=null},o===void 0&&s.setContentType(null),"setRequestHeader"in w&&Ee.forEach(s.toJSON(),function(I,j){w.setRequestHeader(j,I)}),Ee.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),l&&([m,x]=tS(l,!0),w.addEventListener("progress",m)),c&&w.upload&&([p,E]=tS(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(h=C=>{w&&(r(!C||C.type?new ym(null,e,w):C),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const _=i9(i.url);if(_&&co.protocols.indexOf(_)===-1){r(new hn("Unsupported protocol "+_+":",hn.ERR_BAD_REQUEST,e));return}w.send(o||null)})},h9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(l){if(!i){i=!0,a();const h=l instanceof Error?l:this.reason;r.abort(h instanceof hn?h:new ym(h instanceof Error?h.message:h))}};let s=t&&setTimeout(()=>{s=null,o(new hn(`timeout ${t} of ms exceeded`,hn.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),e=null)};e.forEach(l=>l.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>Ee.asap(a),c}},p9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},m9=async function*(e,t){for await(const n of g9(e))yield*p9(n,t)},g9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sN=(e,t,n,r)=>{const i=m9(e,t);let o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:h}=await i.next();if(l){a(),c.close();return}let p=h.byteLength;if(n){let m=o+=p;n(m)}c.enqueue(new Uint8Array(h))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},__=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",YM=__&&typeof ReadableStream=="function",v9=__&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),QM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},y9=YM&&QM(()=>{let e=!1;const t=new Request(co.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),aN=64*1024,IT=YM&&QM(()=>Ee.isReadableStream(new Response("").body)),nS={stream:IT&&(e=>e.body)};__&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!nS[t]&&(nS[t]=Ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new hn(`Response type '${t}' is not supported`,hn.ERR_NOT_SUPPORT,r)})})})(new Response);const b9=async e=>{if(e==null)return 0;if(Ee.isBlob(e))return e.size;if(Ee.isSpecCompliantForm(e))return(await new Request(co.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(e)||Ee.isArrayBuffer(e))return e.byteLength;if(Ee.isURLSearchParams(e)&&(e=e+""),Ee.isString(e))return(await v9(e)).byteLength},x9=async(e,t)=>{const n=Ee.toFiniteNumber(e.getContentLength());return n??b9(t)},S9=__&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:h,withCredentials:p="same-origin",fetchOptions:m}=KM(e);l=l?(l+"").toLowerCase():"text";let E=h9([i,o&&o.toAbortSignal()],s),x;const y=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let w;try{if(c&&y9&&n!=="get"&&n!=="head"&&(w=await x9(h,r))!==0){let j=new Request(t,{method:"POST",body:r,duplex:"half"}),U;if(Ee.isFormData(r)&&(U=j.headers.get("content-type"))&&h.setContentType(U),j.body){const[$,z]=rN(w,tS(iN(c)));r=sN(j.body,aN,$,z)}}Ee.isString(p)||(p=p?"include":"omit");const R="credentials"in Request.prototype;x=new Request(t,{...m,signal:E,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:R?p:void 0});let _=await fetch(x);const C=IT&&(l==="stream"||l==="response");if(IT&&(a||C&&y)){const j={};["status","statusText","headers"].forEach(q=>{j[q]=_[q]});const U=Ee.toFiniteNumber(_.headers.get("content-length")),[$,z]=a&&rN(U,tS(iN(a),!0))||[];_=new Response(sN(_.body,aN,$,()=>{z&&z(),y&&y()}),j)}l=l||"text";let I=await nS[Ee.findKey(nS,l)||"text"](_,e);return!C&&y&&y(),await new Promise((j,U)=>{GM(j,U,{data:I,headers:es.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:x})})}catch(R){throw y&&y(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new hn("Network Error",hn.ERR_NETWORK,e,x),{cause:R.cause||R}):hn.from(R,R&&R.code,e,x)}}),AT={http:MW,xhr:f9,fetch:S9};Ee.forEach(AT,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cN=e=>`- ${e}`,_9=e=>Ee.isFunction(e)||e===null||e===!1,XM={getAdapter:e=>{e=Ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!_9(n)&&(r=AT[(s=String(n)).toLowerCase()],r===void 0))throw new hn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(cN).join(`
`):" "+cN(o[0]):"as no adapter specified";throw new hn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:AT};function RE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ym(null,e)}function lN(e){return RE(e),e.headers=es.from(e.headers),e.data=TE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XM.getAdapter(e.adapter||vy.adapter)(e).then(function(r){return RE(e),r.data=TE.call(e,e.transformResponse,r),r.headers=es.from(r.headers),r},function(r){return HM(r)||(RE(e),r&&r.response&&(r.response.data=TE.call(e,e.transformResponse,r.response),r.response.headers=es.from(r.response.headers))),Promise.reject(r)})}const JM="1.7.9",w_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{w_[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const uN={};w_.transitional=function(t,n,r){function i(o,s){return"[Axios v"+JM+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new hn(i(s," has been removed"+(n?" in "+n:"")),hn.ERR_DEPRECATED);return n&&!uN[s]&&(uN[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};w_.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function w9(e,t,n){if(typeof e!="object")throw new hn("options must be an object",hn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new hn("option "+o+" must be "+c,hn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new hn("Unknown option "+o,hn.ERR_BAD_OPTION)}}const Nb={assertOptions:w9,validators:w_},oc=Nb.validators;class kf{constructor(t){this.defaults=t,this.interceptors={request:new tN,response:new tN}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Uf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Nb.assertOptions(r,{silentJSONParsing:oc.transitional(oc.boolean),forcedJSONParsing:oc.transitional(oc.boolean),clarifyTimeoutError:oc.transitional(oc.boolean)},!1),i!=null&&(Ee.isFunction(i)?n.paramsSerializer={serialize:i}:Nb.assertOptions(i,{encode:oc.function,serialize:oc.function},!0)),Nb.assertOptions(n,{baseUrl:oc.spelling("baseURL"),withXsrfToken:oc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ee.merge(o.common,o[n.method]);o&&Ee.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=es.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let h,p=0,m;if(!c){const x=[lN.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,l),m=x.length,h=Promise.resolve(n);p<m;)h=h.then(x[p++],x[p++]);return h}m=a.length;let E=n;for(p=0;p<m;){const x=a[p++],y=a[p++];try{E=x(E)}catch(w){y.call(this,w);break}}try{h=lN.call(this,E)}catch(x){return Promise.reject(x)}for(p=0,m=l.length;p<m;)h=h.then(l[p++],l[p++]);return h}getUri(t){t=Uf(this.defaults,t);const n=qM(t.baseURL,t.url);return VM(n,t.params,t.paramsSerializer)}}Ee.forEach(["delete","get","head","options"],function(t){kf.prototype[t]=function(n,r){return this.request(Uf(r||{},{method:t,url:n,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(Uf(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}kf.prototype[t]=n(),kf.prototype[t+"Form"]=n(!0)});class MR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new ym(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new MR(function(i){t=i}),cancel:t}}}function E9(e){return function(n){return e.apply(null,n)}}function C9(e){return Ee.isObject(e)&&e.isAxiosError===!0}const jT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jT).forEach(([e,t])=>{jT[t]=e});function ZM(e){const t=new kf(e),n=PM(kf.prototype.request,t);return Ee.extend(n,kf.prototype,t,{allOwnKeys:!0}),Ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return ZM(Uf(e,i))},n}const or=ZM(vy);or.Axios=kf;or.CanceledError=ym;or.CancelToken=MR;or.isCancel=HM;or.VERSION=JM;or.toFormData=S_;or.AxiosError=hn;or.Cancel=or.CanceledError;or.all=function(t){return Promise.all(t)};or.spread=E9;or.isAxiosError=C9;or.mergeConfig=Uf;or.AxiosHeaders=es;or.formToJSON=e=>WM(Ee.isHTMLForm(e)?new FormData(e):e);or.getAdapter=XM.getAdapter;or.HttpStatusCode=jT;or.default=or;/*! js-cookie v3.0.5 | MIT */function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var T9={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function DT(e,t){function n(i,o,s){if(!(typeof document>"u")){s=sb({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var c=o[a].split("="),l=c.slice(1).join("=");try{var h=decodeURIComponent(c[0]);if(s[h]=e.read(l,h),i===h)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",sb({},o,{expires:-1}))},withAttributes:function(i){return DT(this.converter,sb({},this.attributes,i))},withConverter:function(i){return DT(sb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Gi=DT(T9,{path:"/"});const mt=or.create({baseURL:kp,timeout:6e4,headers:{"Content-Type":"application/json"}});mt.interceptors.request.use(e=>{var n;const t=Gi.get("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`Request: ${(n=e.method)==null?void 0:n.toUpperCase()} ${e.url}`),e.params&&console.log("Params:",e.params),e.data&&console.log("Data:",e.data),e},e=>Promise.reject(e));mt.interceptors.response.use(e=>(console.log("Response:",e.data),e.data),async e=>{console.error("API Error:",e.response);const t=e.config;if(e.response.status===401){if(t._retry)return Gi.set("accessToken",""),Gi.set("refreshToken",""),window.location.href="/login",Promise.reject(e);t._retry=!0;try{const n=Gi.get("refreshToken"),r=await or.post(`${kT}/refreshToken`,{refreshToken:n}),{accessToken:i}=r.data;return Gi.set("accessToken",i),mt.defaults.headers.common.Authorization=`Bearer ${i}`,t.headers.Authorization=`Bearer ${i}`,mt(t)}catch(n){return Gi.set("accessToken",""),Gi.set("refreshToken",""),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});function zi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R9=typeof Symbol=="function"&&Symbol.observable||"@@observable",dN=R9,kE=()=>Math.random().toString(36).substring(7).split("").join("."),k9={INIT:`@@redux/INIT${kE()}`,REPLACE:`@@redux/REPLACE${kE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kE()}`},rS=k9;function LR(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eL(e,t,n){if(typeof e!="function")throw new Error(zi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zi(1));return n(eL)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,c=!1;function l(){s===o&&(s=new Map,o.forEach((w,R)=>{s.set(R,w)}))}function h(){if(c)throw new Error(zi(3));return i}function p(w){if(typeof w!="function")throw new Error(zi(4));if(c)throw new Error(zi(5));let R=!0;l();const _=a++;return s.set(_,w),function(){if(R){if(c)throw new Error(zi(6));R=!1,l(),s.delete(_),o=null}}}function m(w){if(!LR(w))throw new Error(zi(7));if(typeof w.type>"u")throw new Error(zi(8));if(typeof w.type!="string")throw new Error(zi(17));if(c)throw new Error(zi(9));try{c=!0,i=r(i,w)}finally{c=!1}return(o=s).forEach(_=>{_()}),w}function E(w){if(typeof w!="function")throw new Error(zi(10));r=w,m({type:rS.REPLACE})}function x(){const w=p;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(zi(11));function _(){const I=R;I.next&&I.next(h())}return _(),{unsubscribe:w(_)}},[dN](){return this}}}return m({type:rS.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:E,[dN]:x}}function O9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:rS.INIT})>"u")throw new Error(zi(12));if(typeof n(void 0,{type:rS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zi(13))})}function P9(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{O9(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let c=!1;const l={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],E=s[p],x=m(E,a);if(typeof x>"u")throw a&&a.type,new Error(zi(14));l[p]=x,c=c||x!==E}return c=c||r.length!==Object.keys(s).length,c?l:s}}function iS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function N9(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(zi(15))};const s={getState:i.getState,dispatch:(c,...l)=>o(c,...l)},a=e.map(c=>c(s));return o=iS(...a)(i.dispatch),{...i,dispatch:o}}}function I9(e){return LR(e)&&"type"in e&&typeof e.type=="string"}var tL=Symbol.for("immer-nothing"),fN=Symbol.for("immer-draftable"),ks=Symbol.for("immer-state");function Pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xp=Object.getPrototypeOf;function Bf(e){return!!e&&!!e[ks]}function ml(e){var t;return e?nL(e)||Array.isArray(e)||!!e[fN]||!!((t=e.constructor)!=null&&t[fN])||C_(e)||T_(e):!1}var A9=Object.prototype.constructor.toString();function nL(e){if(!e||typeof e!="object")return!1;const t=Xp(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===A9}function oS(e,t){E_(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function E_(e){const t=e[ks];return t?t.type_:Array.isArray(e)?1:C_(e)?2:T_(e)?3:0}function MT(e,t){return E_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rL(e,t,n){const r=E_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function j9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function C_(e){return e instanceof Map}function T_(e){return e instanceof Set}function df(e){return e.copy_||e.base_}function LT(e,t){if(C_(e))return new Map(e);if(T_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=nL(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ks];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Xp(e),r)}else{const r=Xp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function FR(e,t=!1){return R_(e)||Bf(e)||!ml(e)||(E_(e)>1&&(e.set=e.add=e.clear=e.delete=D9),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>FR(r,!0))),e}function D9(){Pa(2)}function R_(e){return Object.isFrozen(e)}var M9={};function $f(e){const t=M9[e];return t||Pa(0,e),t}var qv;function iL(){return qv}function L9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hN(e,t){t&&($f("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function FT(e){UT(e),e.drafts_.forEach(F9),e.drafts_=null}function UT(e){e===qv&&(qv=e.parent_)}function pN(e){return qv=L9(qv,e)}function F9(e){const t=e[ks];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ks].modified_&&(FT(t),Pa(4)),ml(e)&&(e=sS(t,e),t.parent_||aS(t,e)),t.patches_&&$f("Patches").generateReplacementPatches_(n[ks].base_,e,t.patches_,t.inversePatches_)):e=sS(t,n,[]),FT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tL?e:void 0}function sS(e,t,n){if(R_(t))return t;const r=t[ks];if(!r)return oS(t,(i,o)=>gN(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return aS(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),oS(o,(a,c)=>gN(e,r,i,a,c,n,s)),aS(e,i,!1),n&&e.patches_&&$f("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function gN(e,t,n,r,i,o,s){if(Bf(i)){const a=o&&t&&t.type_!==3&&!MT(t.assigned_,r)?o.concat(r):void 0,c=sS(e,i,a);if(rL(n,r,c),Bf(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(ml(i)&&!R_(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sS(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&aS(e,i)}}function aS(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FR(t,n)}function U9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=UR;n&&(i=[r],o=Kv);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var UR={get(e,t){if(t===ks)return e;const n=df(e);if(!MT(n,t))return B9(e,n,t);const r=n[t];return e.finalized_||!ml(r)?r:r===OE(e.base_,t)?(PE(e),e.copy_[t]=$T(r,e)):r},has(e,t){return t in df(e)},ownKeys(e){return Reflect.ownKeys(df(e))},set(e,t,n){const r=oL(df(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=OE(df(e),t),o=i==null?void 0:i[ks];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(j9(n,i)&&(n!==void 0||MT(e.base_,t)))return!0;PE(e),BT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return OE(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,PE(e),BT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=df(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Pa(11)},getPrototypeOf(e){return Xp(e.base_)},setPrototypeOf(){Pa(12)}},Kv={};oS(UR,(e,t)=>{Kv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Kv.deleteProperty=function(e,t){return Kv.set.call(this,e,t,void 0)};Kv.set=function(e,t,n){return UR.set.call(this,e[0],t,n,e[0])};function OE(e,t){const n=e[ks];return(n?df(n):e)[t]}function B9(e,t,n){var i;const r=oL(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function oL(e,t){if(!(t in e))return;let n=Xp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Xp(n)}}function BT(e){e.modified_||(e.modified_=!0,e.parent_&&BT(e.parent_))}function PE(e){e.copy_||(e.copy_=LT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(c=o,...l){return s.produce(c,h=>n.call(this,h,...l))}}typeof n!="function"&&Pa(6),r!==void 0&&typeof r!="function"&&Pa(7);let i;if(ml(t)){const o=pN(this),s=$T(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?FT(o):UT(o)}return hN(o,r),mN(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===tL&&(i=void 0),this.autoFreeze_&&FR(i,!0),r){const o=[],s=[];$f("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Pa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ml(e)||Pa(8),Bf(e)&&(e=V9(e));const t=pN(this),n=$T(e,void 0);return n[ks].isManual_=!0,UT(t),n}finishDraft(e,t){const n=e&&e[ks];(!n||!n.isManual_)&&Pa(9);const{scope_:r}=n;return hN(r,t),mN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=$f("Patches").applyPatches_;return Bf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function $T(e,t){const n=C_(e)?$f("MapSet").proxyMap_(e,t):T_(e)?$f("MapSet").proxySet_(e,t):U9(e,t);return(t?t.scope_:iL()).drafts_.push(n),n}function V9(e){return Bf(e)||Pa(10,e),sL(e)}function sL(e){if(!ml(e)||R_(e))return e;const t=e[ks];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=LT(e,t.scope_.immer_.useStrictShallowCopy_)}else n=LT(e,!0);return oS(n,(r,i)=>{rL(n,r,sL(i))}),t&&(t.finalized_=!1),n}var Os=new $9,aL=Os.produce;Os.produceWithPatches.bind(Os);Os.setAutoFreeze.bind(Os);Os.setUseStrictShallowCopy.bind(Os);Os.applyPatches.bind(Os);Os.createDraft.bind(Os);Os.finishDraft.bind(Os);function cL(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var z9=cL(),W9=cL,H9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iS:iS.apply(null,arguments)},G9=e=>e&&typeof e.match=="function";function vv(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ol(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>I9(r)&&r.type===e,n}var lL=class ev extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ev.prototype)}static get[Symbol.species](){return ev}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ev(...t[0].concat(this)):new ev(...t.concat(this))}};function vN(e){return ml(e)?aL(e,()=>{}):e}function yN(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function q9(e){return typeof e=="boolean"}var K9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new lL;return n&&(q9(n)?s.push(z9):s.push(W9(n.extraArgument))),s},Y9="RTK_autoBatch",bN=e=>t=>{setTimeout(t,e)},Q9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bN(10):e.type==="callback"?e.queueNotification:bN(e.timeout),l=()=>{s=!1,o&&(o=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return a.add(h),()=>{m(),a.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[Y9]),o=!i,o&&(s||(s=!0,c(l))),r.dispatch(h)}finally{i=!0}}})},X9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new lL(e);return r&&i.push(Q9(typeof r=="object"?r:void 0)),i};function J9(e){const t=K9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(LR(n))a=P9(n);else throw new Error(ol(1));let c;typeof r=="function"?c=r(t):c=t();let l=iS;i&&(l=H9({trace:!1,...typeof i=="object"&&i}));const h=N9(...c),p=X9(h);let m=typeof s=="function"?s(p):p();const E=l(...m);return eL(a,o,E)}function uL(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(ol(28));if(a in t)throw new Error(ol(29));return t[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Z9(e){return typeof e=="function"}function eH(e,t){let[n,r,i]=uL(t),o;if(Z9(e))o=()=>vN(e());else{const a=vN(e);o=()=>a}function s(a=o(),c){let l=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return l.filter(h=>!!h).length===0&&(l=[i]),l.reduce((h,p)=>{if(p)if(Bf(h)){const E=p(h,c);return E===void 0?h:E}else{if(ml(h))return aL(h,m=>p(m,c));{const m=p(h,c);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},a)}return s.getInitialState=o,s}var tH=(e,t)=>G9(e)?e.match(t):e(t);function nH(...e){return t=>e.some(n=>tH(n,t))}var rH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iH=(e=21)=>{let t="",n=e;for(;n--;)t+=rH[Math.random()*64|0];return t},oH=["name","message","stack","code"],NE=class{constructor(e,t){Ww(this,"_type");this.payload=e,this.meta=t}},xN=class{constructor(e,t){Ww(this,"_type");this.payload=e,this.meta=t}},sH=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of oH)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},wt=(()=>{function e(t,n,r){const i=vv(t+"/fulfilled",(c,l,h,p)=>({payload:c,meta:{...p||{},arg:h,requestId:l,requestStatus:"fulfilled"}})),o=vv(t+"/pending",(c,l,h)=>({payload:void 0,meta:{...h||{},arg:l,requestId:c,requestStatus:"pending"}})),s=vv(t+"/rejected",(c,l,h,p,m)=>({payload:p,error:(r&&r.serializeError||sH)(c||"Rejected"),meta:{...m||{},arg:h,requestId:l,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,h,p)=>{const m=r!=null&&r.idGenerator?r.idGenerator(c):iH(),E=new AbortController;let x,y;function w(_){y=_,E.abort()}const R=async function(){var I,j;let _;try{let U=(I=r==null?void 0:r.condition)==null?void 0:I.call(r,c,{getState:h,extra:p});if(cH(U)&&(U=await U),U===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const $=new Promise((z,q)=>{x=()=>{q({name:"AbortError",message:y||"Aborted"})},E.signal.addEventListener("abort",x)});l(o(m,c,(j=r==null?void 0:r.getPendingMeta)==null?void 0:j.call(r,{requestId:m,arg:c},{getState:h,extra:p}))),_=await Promise.race([$,Promise.resolve(n(c,{dispatch:l,getState:h,extra:p,requestId:m,signal:E.signal,abort:w,rejectWithValue:(z,q)=>new NE(z,q),fulfillWithValue:(z,q)=>new xN(z,q)})).then(z=>{if(z instanceof NE)throw z;return z instanceof xN?i(z.payload,m,c,z.meta):i(z,m,c)})])}catch(U){_=U instanceof NE?s(null,m,c,U.payload,U.meta):s(U,m,c)}finally{x&&E.signal.removeEventListener("abort",x)}return r&&!r.dispatchConditionRejection&&s.match(_)&&_.meta.condition||l(_),_}();return Object.assign(R,{abort:w,requestId:m,arg:c,unwrap(){return R.then(aH)}})}}return Object.assign(a,{pending:o,rejected:s,fulfilled:i,settled:nH(s,i),typePrefix:t})}return e.withTypes=()=>e,e})();function aH(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function cH(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var lH=Symbol.for("rtk-slice-createasyncthunk");function uH(e,t){return`${e}/${t}`}function dH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[lH];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(ol(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(hH()):i.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,I){const j=typeof C=="string"?C:C.type;if(!j)throw new Error(ol(12));if(j in l.sliceCaseReducersByType)throw new Error(ol(13));return l.sliceCaseReducersByType[j]=I,h},addMatcher(C,I){return l.sliceMatchers.push({matcher:C,reducer:I}),h},exposeAction(C,I){return l.actionCreators[C]=I,h},exposeCaseReducer(C,I){return l.sliceCaseReducersByName[C]=I,h}};c.forEach(C=>{const I=a[C],j={reducerName:C,type:uH(o,C),createNotation:typeof i.reducers=="function"};mH(I)?vH(j,I,h,t):pH(j,I,h)});function p(){const[C={},I=[],j=void 0]=typeof i.extraReducers=="function"?uL(i.extraReducers):[i.extraReducers],U={...C,...l.sliceCaseReducersByType};return eH(i.initialState,$=>{for(let z in U)$.addCase(z,U[z]);for(let z of l.sliceMatchers)$.addMatcher(z.matcher,z.reducer);for(let z of I)$.addMatcher(z.matcher,z.reducer);j&&$.addDefaultCase(j)})}const m=C=>C,E=new Map;let x;function y(C,I){return x||(x=p()),x(C,I)}function w(){return x||(x=p()),x.getInitialState()}function R(C,I=!1){function j($){let z=$[C];return typeof z>"u"&&I&&(z=w()),z}function U($=m){const z=yN(E,I,()=>new WeakMap);return yN(z,$,()=>{const q={};for(const[X,J]of Object.entries(i.selectors??{}))q[X]=fH(J,$,w,I);return q})}return{reducerPath:C,getSelectors:U,get selectors(){return U(j)},selectSlice:j}}const _={name:o,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...R(s),injectInto(C,{reducerPath:I,...j}={}){const U=I??s;return C.inject({reducerPath:U,reducer:y},j),{..._,...R(U,!0)}}};return _}}function fH(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var is=dH();function hH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function pH({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!gH(r))throw new Error(ol(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?vv(e,s):vv(e))}function mH(e){return e._reducerDefinitionType==="asyncThunk"}function gH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ol(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:c,settled:l,options:h}=n,p=i(e,o,h);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),a&&r.addCase(p.pending,a),c&&r.addCase(p.rejected,c),l&&r.addMatcher(p.settled,l),r.exposeCaseReducer(t,{fulfilled:s||ab,pending:a||ab,rejected:c||ab,settled:l||ab})}function ab(){}function ol(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const yH={isAuthenticated:!1,loading:!1,error:null,email:null,activeQuiz:0,payment:0,totalUser:0},Ib=wt("auth/loginUser",async(e,{rejectWithValue:t})=>{var n,r;try{const i=await mt.post(H6,e),{accessToken:o,refreshToken:s}=i.data;return Gi.set("accessToken",o),Gi.set("refreshToken",s),i.data}catch(i){return t(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.message)||"An error occurred")}}),Ab=wt("getProfile",async(e,{rejectWithValue:t})=>{try{return(await mt.get(M8)).data}catch(n){return t(n.response.data)}}),dL=is({name:"auth",initialState:yH,reducers:{logout:e=>{console.log("logout :>> "),Gi.set("accessToken",""),Gi.set("refreshToken","")}},extraReducers:e=>{e.addCase(Ib.pending,(t,n)=>{t.loading=!0,t.error=null}).addCase(Ib.fulfilled,(t,n)=>{t.loading=!1,t.isAuthenticated=!0,t.email=n.payload.email}).addCase(Ib.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"An unknown error occurred"}).addCase(Ab.pending,(t,n)=>{t.loading=!0,t.error=null}).addCase(Ab.fulfilled,(t,n)=>{t.loading=!1,t.email=n.payload.email,t.payment=n.payload.totalSum,t.activeQuiz=n.payload.activeQuiz,t.totalUser=n.payload.totalUser}).addCase(Ab.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"An unknown error occurred"})}}),{logout:bH}=dL.actions,xH=dL.reducer,VT=g_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ot=P.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?xc:"button";return u.jsx(s,{className:it(VT({variant:t,size:n,className:e})),ref:o,...i})});Ot.displayName="Button";const sn=P.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:it("flex h-10 w-full rounded-md border border-input bg-background px-2 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ",e),ref:r,...n}));sn.displayName="Input";var SH="Label",fL=P.forwardRef((e,t)=>u.jsx(Pt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fL.displayName=SH;var hL=fL;const _H=g_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ai=P.forwardRef(({className:e,...t},n)=>u.jsx(hL,{ref:n,className:it(_H(),e),...t}));Ai.displayName=hL.displayName;var pL={exports:{}},mL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=P;function wH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EH=typeof Object.is=="function"?Object.is:wH,CH=yy.useSyncExternalStore,TH=yy.useRef,RH=yy.useEffect,kH=yy.useMemo,OH=yy.useDebugValue;mL.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=TH(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=kH(function(){function c(E){if(!l){if(l=!0,h=E,E=r(E),i!==void 0&&s.hasValue){var x=s.value;if(i(x,E))return p=x}return p=E}if(x=p,EH(h,E))return x;var y=r(E);return i!==void 0&&i(x,y)?(h=E,x):(h=E,p=y)}var l=!1,h,p,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var a=CH(e,o[0],o[1]);return RH(function(){s.hasValue=!0,s.value=a},[a]),OH(a),a};pL.exports=mL;var PH=pL.exports;function NH(e){e()}function IH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SN={notify(){},get:()=>[]};function AH(e,t){let n,r=SN,i=0,o=!1;function s(y){h();const w=r.subscribe(y);let R=!1;return()=>{R||(R=!0,w(),p())}}function a(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function l(){return o}function h(){i++,n||(n=e.subscribe(c),r=IH())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SN)}function m(){o||(o=!0,h())}function E(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:m,tryUnsubscribe:E,getListeners:()=>r};return x}var jH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DH=jH(),MH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LH=MH(),FH=()=>DH||LH?P.useLayoutEffect:P.useEffect,UH=FH(),IE=Symbol.for("react-redux-context"),AE=typeof globalThis<"u"?globalThis:{};function BH(){if(!P.createContext)return{};const e=AE[IE]??(AE[IE]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var Xu=BH();function $H(e){const{children:t,context:n,serverState:r,store:i}=e,o=P.useMemo(()=>{const c=AH(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);UH(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const a=n||Xu;return P.createElement(a.Provider,{value:o},t)}var VH=$H;function BR(e=Xu){return function(){return P.useContext(e)}}var gL=BR();function vL(e=Xu){const t=e===Xu?gL:BR(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var zH=vL();function WH(e=Xu){const t=e===Xu?zH:vL(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Yn=WH(),HH=(e,t)=>e===t;function GH(e=Xu){const t=e===Xu?gL:BR(e),n=(r,i={})=>{const{equalityFn:o=HH}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:c,getServerState:l}=s;P.useRef(!0);const h=P.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=PH.useSyncExternalStoreWithSelector(c.addNestedSub,a.getState,l||a.getState,h,o);return P.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var Nn=GH();const qH=()=>{const[e,t]=P.useState(""),[n,r]=P.useState(""),i=Yn(),{loading:o}=Nn(l=>l.auth),s=Sl(),{toast:a}=_l(),c=async l=>{l.preventDefault(),i(Ib({email:e,password:n})).unwrap().then(h=>{s("/dashboard"),a({title:"Success",description:"Welcome back!"})}).catch(h=>{a({variant:"destructive",title:"Error",description:"Invalid credentials"})})};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsx("div",{children:u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[u.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ai,{htmlFor:"email",children:"Email address"}),u.jsx(sn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Ai,{htmlFor:"password",children:"Password"}),u.jsx(sn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:l=>r(l.target.value),className:"mt-1"})]})]}),u.jsx("div",{children:u.jsx(Ot,{type:"submit",className:"w-full",disabled:o,children:o?"Signing in...":"Sign in"})})]})]})})};var KH=P.createContext(void 0);function by(e){const t=P.useContext(KH);return e||t||"ltr"}var jE=0;function k_(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_N()),document.body.insertAdjacentElement("beforeend",e[1]??_N()),jE++,()=>{jE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jE--}},[])}function _N(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var DE="focusScope.autoFocusOnMount",ME="focusScope.autoFocusOnUnmount",wN={bubbles:!1,cancelable:!0},YH="FocusScope",xy=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,c]=P.useState(null),l=$r(i),h=$r(o),p=P.useRef(null),m=xn(t,y=>c(y)),E=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let y=function(C){if(E.paused||!a)return;const I=C.target;a.contains(I)?p.current=I:hu(p.current,{select:!0})},w=function(C){if(E.paused||!a)return;const I=C.relatedTarget;I!==null&&(a.contains(I)||hu(p.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const j of C)j.removedNodes.length>0&&hu(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const _=new MutationObserver(R);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,E.paused]),P.useEffect(()=>{if(a){CN.add(E);const y=document.activeElement;if(!a.contains(y)){const R=new CustomEvent(DE,wN);a.addEventListener(DE,l),a.dispatchEvent(R),R.defaultPrevented||(QH(tG(yL(a)),{select:!0}),document.activeElement===y&&hu(a))}return()=>{a.removeEventListener(DE,l),setTimeout(()=>{const R=new CustomEvent(ME,wN);a.addEventListener(ME,h),a.dispatchEvent(R),R.defaultPrevented||hu(y??document.body,{select:!0}),a.removeEventListener(ME,h),CN.remove(E)},0)}}},[a,l,h,E]);const x=P.useCallback(y=>{if(!n&&!r||E.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,R=document.activeElement;if(w&&R){const _=y.currentTarget,[C,I]=XH(_);C&&I?!y.shiftKey&&R===I?(y.preventDefault(),n&&hu(C,{select:!0})):y.shiftKey&&R===C&&(y.preventDefault(),n&&hu(I,{select:!0})):R===_&&y.preventDefault()}},[n,r,E.paused]);return u.jsx(Pt.div,{tabIndex:-1,...s,ref:m,onKeyDown:x})});xy.displayName=YH;function QH(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(hu(r,{select:t}),document.activeElement!==n)return}function XH(e){const t=yL(e),n=EN(t,e),r=EN(t.reverse(),e);return[n,r]}function yL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function EN(e,t){for(const n of e)if(!JH(n,{upTo:t}))return n}function JH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZH(e){return e instanceof HTMLInputElement&&"select"in e}function hu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZH(e)&&t&&e.select()}}var CN=eG();function eG(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=TN(e,t),e.unshift(t)},remove(t){var n;e=TN(e,t),(n=e[0])==null||n.resume()}}}function TN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function tG(e){return e.filter(t=>t.tagName!=="A")}var nG=_A.useId||(()=>{}),rG=0;function vc(e){const[t,n]=P.useState(nG());return Yi(()=>{n(r=>r??String(rG++))},[e]),t?`radix-${t}`:""}const iG=["top","right","bottom","left"],Ju=Math.min,xs=Math.max,cS=Math.round,cb=Math.floor,Zu=e=>({x:e,y:e}),oG={left:"right",right:"left",bottom:"top",top:"bottom"},sG={start:"end",end:"start"};function zT(e,t,n){return xs(e,Ju(t,n))}function gl(e,t){return typeof e=="function"?e(t):e}function vl(e){return e.split("-")[0]}function bm(e){return e.split("-")[1]}function $R(e){return e==="x"?"y":"x"}function VR(e){return e==="y"?"height":"width"}function ed(e){return["top","bottom"].includes(vl(e))?"y":"x"}function zR(e){return $R(ed(e))}function aG(e,t,n){n===void 0&&(n=!1);const r=bm(e),i=zR(e),o=VR(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=lS(s)),[s,lS(s)]}function cG(e){const t=lS(e);return[WT(e),t,WT(t)]}function WT(e){return e.replace(/start|end/g,t=>sG[t])}function lG(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function uG(e,t,n,r){const i=bm(e);let o=lG(vl(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(WT)))),o}function lS(e){return e.replace(/left|right|bottom|top/g,t=>oG[t])}function dG(e){return{top:0,right:0,bottom:0,left:0,...e}}function bL(e){return typeof e!="number"?dG(e):{top:e,right:e,bottom:e,left:e}}function uS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function RN(e,t,n){let{reference:r,floating:i}=e;const o=ed(t),s=zR(t),a=VR(s),c=vl(t),l=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let E;switch(c){case"top":E={x:h,y:r.y-i.height};break;case"bottom":E={x:h,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:p};break;case"left":E={x:r.x-i.width,y:p};break;default:E={x:r.x,y:r.y}}switch(bm(t)){case"start":E[s]-=m*(n&&l?-1:1);break;case"end":E[s]+=m*(n&&l?-1:1);break}return E}const fG=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=RN(l,r,c),m=r,E={},x=0;for(let y=0;y<a.length;y++){const{name:w,fn:R}=a[y],{x:_,y:C,data:I,reset:j}=await R({x:h,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:E,rects:l,platform:s,elements:{reference:e,floating:t}});h=_??h,p=C??p,E={...E,[w]:{...E[w],...I}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(l=j.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:h,y:p}=RN(l,m,c)),y=-1)}return{x:h,y:p,placement:m,strategy:i,middlewareData:E}};async function Yv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:E=0}=gl(t,e),x=bL(E),w=a[m?p==="floating"?"reference":"floating":p],R=uS(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:h,strategy:c})),_=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),I=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},j=uS(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:c}):_);return{top:(R.top-j.top+x.top)/I.y,bottom:(j.bottom-R.bottom+x.bottom)/I.y,left:(R.left-j.left+x.left)/I.x,right:(j.right-R.right+x.right)/I.x}}const hG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=t,{element:l,padding:h=0}=gl(e,t)||{};if(l==null)return{};const p=bL(h),m={x:n,y:r},E=zR(i),x=VR(E),y=await s.getDimensions(l),w=E==="y",R=w?"top":"left",_=w?"bottom":"right",C=w?"clientHeight":"clientWidth",I=o.reference[x]+o.reference[E]-m[E]-o.floating[x],j=m[E]-o.reference[E],U=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let $=U?U[C]:0;(!$||!await(s.isElement==null?void 0:s.isElement(U)))&&($=a.floating[C]||o.floating[x]);const z=I/2-j/2,q=$/2-y[x]/2-1,X=Ju(p[R],q),J=Ju(p[_],q),G=X,ee=$-y[x]-J,ce=$/2-y[x]/2+z,xe=zT(G,ce,ee),Se=!c.arrow&&bm(i)!=null&&ce!==xe&&o.reference[x]/2-(ce<G?X:J)-y[x]/2<0,ve=Se?ce<G?ce-G:ce-ee:0;return{[E]:m[E]+ve,data:{[E]:xe,centerOffset:ce-xe-ve,...Se&&{alignmentOffset:ve}},reset:Se}}}),pG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=gl(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=vl(i),_=ed(a),C=vl(a)===a,I=await(c.isRTL==null?void 0:c.isRTL(l.floating)),j=m||(C||!y?[lS(a)]:cG(a)),U=x!=="none";!m&&U&&j.push(...uG(a,y,x,I));const $=[a,...j],z=await Yv(t,w),q=[];let X=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&q.push(z[R]),p){const ce=aG(i,s,I);q.push(z[ce[0]],z[ce[1]])}if(X=[...X,{placement:i,overflows:q}],!q.every(ce=>ce<=0)){var J,G;const ce=(((J=o.flip)==null?void 0:J.index)||0)+1,xe=$[ce];if(xe)return{data:{index:ce,overflows:X},reset:{placement:xe}};let Se=(G=X.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:G.placement;if(!Se)switch(E){case"bestFit":{var ee;const ve=(ee=X.filter(Y=>{if(U){const Q=ed(Y.placement);return Q===_||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:ee[0];ve&&(Se=ve);break}case"initialPlacement":Se=a;break}if(i!==Se)return{reset:{placement:Se}}}return{}}}};function kN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ON(e){return iG.some(t=>e[t]>=0)}const mG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=gl(e,t);switch(r){case"referenceHidden":{const o=await Yv(t,{...i,elementContext:"reference"}),s=kN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:ON(s)}}}case"escaped":{const o=await Yv(t,{...i,altBoundary:!0}),s=kN(o,n.floating);return{data:{escapedOffsets:s,escaped:ON(s)}}}default:return{}}}}};async function gG(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=vl(n),a=bm(n),c=ed(n)==="y",l=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,p=gl(t,e);let{mainAxis:m,crossAxis:E,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(E=a==="end"?x*-1:x),c?{x:E*h,y:m*l}:{x:m*l,y:E*h}}const vG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,c=await gG(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},yG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:R,y:_}=w;return{x:R,y:_}}},...c}=gl(e,t),l={x:n,y:r},h=await Yv(t,c),p=ed(vl(i)),m=$R(p);let E=l[m],x=l[p];if(o){const w=m==="y"?"top":"left",R=m==="y"?"bottom":"right",_=E+h[w],C=E-h[R];E=zT(_,E,C)}if(s){const w=p==="y"?"top":"left",R=p==="y"?"bottom":"right",_=x+h[w],C=x-h[R];x=zT(_,x,C)}const y=a.fn({...t,[m]:E,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[p]:s}}}}}},bG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=gl(e,t),h={x:n,y:r},p=ed(i),m=$R(p);let E=h[m],x=h[p];const y=gl(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=m==="y"?"height":"width",I=o.reference[m]-o.floating[C]+w.mainAxis,j=o.reference[m]+o.reference[C]-w.mainAxis;E<I?E=I:E>j&&(E=j)}if(l){var R,_;const C=m==="y"?"width":"height",I=["top","left"].includes(vl(i)),j=o.reference[p]-o.floating[C]+(I&&((R=s.offset)==null?void 0:R[p])||0)+(I?0:w.crossAxis),U=o.reference[p]+o.reference[C]+(I?0:((_=s.offset)==null?void 0:_[p])||0)-(I?w.crossAxis:0);x<j?x=j:x>U&&(x=U)}return{[m]:E,[p]:x}}}},xG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:c=()=>{},...l}=gl(e,t),h=await Yv(t,l),p=vl(i),m=bm(i),E=ed(i)==="y",{width:x,height:y}=o.floating;let w,R;p==="top"||p==="bottom"?(w=p,R=m===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(R=p,w=m==="end"?"top":"bottom");const _=y-h.top-h.bottom,C=x-h.left-h.right,I=Ju(y-h[w],_),j=Ju(x-h[R],C),U=!t.middlewareData.shift;let $=I,z=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&($=_),U&&!m){const X=xs(h.left,0),J=xs(h.right,0),G=xs(h.top,0),ee=xs(h.bottom,0);E?z=x-2*(X!==0||J!==0?X+J:xs(h.left,h.right)):$=y-2*(G!==0||ee!==0?G+ee:xs(h.top,h.bottom))}await c({...t,availableWidth:z,availableHeight:$});const q=await s.getDimensions(a.floating);return x!==q.width||y!==q.height?{reset:{rects:!0}}:{}}}};function O_(){return typeof window<"u"}function xm(e){return xL(e)?(e.nodeName||"").toLowerCase():"#document"}function Ts(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rc(e){var t;return(t=(xL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xL(e){return O_()?e instanceof Node||e instanceof Ts(e).Node:!1}function ja(e){return O_()?e instanceof Element||e instanceof Ts(e).Element:!1}function Sc(e){return O_()?e instanceof HTMLElement||e instanceof Ts(e).HTMLElement:!1}function PN(e){return!O_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ts(e).ShadowRoot}function Sy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Da(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function SG(e){return["table","td","th"].includes(xm(e))}function P_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function WR(e){const t=HR(),n=ja(e)?Da(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _G(e){let t=td(e);for(;Sc(t)&&!Jp(t);){if(WR(t))return t;if(P_(t))return null;t=td(t)}return null}function HR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jp(e){return["html","body","#document"].includes(xm(e))}function Da(e){return Ts(e).getComputedStyle(e)}function N_(e){return ja(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function td(e){if(xm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PN(e)&&e.host||Rc(e);return PN(t)?t.host:t}function SL(e){const t=td(e);return Jp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sc(t)&&Sy(t)?t:SL(t)}function Qv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=SL(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ts(i);if(o){const a=HT(s);return t.concat(s,s.visualViewport||[],Sy(i)?i:[],a&&n?Qv(a):[])}return t.concat(i,Qv(i,[],n))}function HT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _L(e){const t=Da(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Sc(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=cS(n)!==o||cS(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function GR(e){return ja(e)?e:e.contextElement}function Op(e){const t=GR(e);if(!Sc(t))return Zu(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=_L(t);let s=(o?cS(n.width):n.width)/r,a=(o?cS(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const wG=Zu(0);function wL(e){const t=Ts(e);return!HR()||!t.visualViewport?wG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EG(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ts(e)?!1:t}function Vf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=GR(e);let s=Zu(1);t&&(r?ja(r)&&(s=Op(r)):s=Op(e));const a=EG(o,n,r)?wL(o):Zu(0);let c=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,h=i.width/s.x,p=i.height/s.y;if(o){const m=Ts(o),E=r&&ja(r)?Ts(r):r;let x=m,y=HT(x);for(;y&&r&&E!==x;){const w=Op(y),R=y.getBoundingClientRect(),_=Da(y),C=R.left+(y.clientLeft+parseFloat(_.paddingLeft))*w.x,I=R.top+(y.clientTop+parseFloat(_.paddingTop))*w.y;c*=w.x,l*=w.y,h*=w.x,p*=w.y,c+=C,l+=I,x=Ts(y),y=HT(x)}}return uS({width:h,height:p,x:c,y:l})}function CG(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Rc(r),a=t?P_(t.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=Zu(1);const h=Zu(0),p=Sc(r);if((p||!p&&!o)&&((xm(r)!=="body"||Sy(s))&&(c=N_(r)),Sc(r))){const m=Vf(r);l=Op(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+h.x,y:n.y*l.y-c.scrollTop*l.y+h.y}}function TG(e){return Array.from(e.getClientRects())}function GT(e,t){const n=N_(e).scrollLeft;return t?t.left+n:Vf(Rc(e)).left+n}function RG(e){const t=Rc(e),n=N_(e),r=e.ownerDocument.body,i=xs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+GT(e);const a=-n.scrollTop;return Da(r).direction==="rtl"&&(s+=xs(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function kG(e,t){const n=Ts(e),r=Rc(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const l=HR();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function OG(e,t){const n=Vf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Sc(e)?Op(e):Zu(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,l=r*o.y;return{width:s,height:a,x:c,y:l}}function NN(e,t,n){let r;if(t==="viewport")r=kG(e,n);else if(t==="document")r=RG(Rc(e));else if(ja(t))r=OG(t,n);else{const i=wL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return uS(r)}function EL(e,t){const n=td(e);return n===t||!ja(n)||Jp(n)?!1:Da(n).position==="fixed"||EL(n,t)}function PG(e,t){const n=t.get(e);if(n)return n;let r=Qv(e,[],!1).filter(a=>ja(a)&&xm(a)!=="body"),i=null;const o=Da(e).position==="fixed";let s=o?td(e):e;for(;ja(s)&&!Jp(s);){const a=Da(s),c=WR(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sy(s)&&!c&&EL(e,s))?r=r.filter(h=>h!==s):i=a,s=td(s)}return t.set(e,r),r}function NG(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?P_(t)?[]:PG(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,h)=>{const p=NN(t,h,i);return l.top=xs(p.top,l.top),l.right=Ju(p.right,l.right),l.bottom=Ju(p.bottom,l.bottom),l.left=xs(p.left,l.left),l},NN(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IG(e){const{width:t,height:n}=_L(e);return{width:t,height:n}}function AG(e,t,n){const r=Sc(t),i=Rc(t),o=n==="fixed",s=Vf(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Zu(0);if(r||!r&&!o)if((xm(t)!=="body"||Sy(i))&&(a=N_(t)),r){const E=Vf(t,!0,o,t);c.x=E.x+t.clientLeft,c.y=E.y+t.clientTop}else i&&(c.x=GT(i));let l=0,h=0;if(i&&!r&&!o){const E=i.getBoundingClientRect();h=E.top+a.scrollTop,l=E.left+a.scrollLeft-GT(i,E)}const p=s.left+a.scrollLeft-c.x-l,m=s.top+a.scrollTop-c.y-h;return{x:p,y:m,width:s.width,height:s.height}}function LE(e){return Da(e).position==="static"}function IN(e,t){if(!Sc(e)||Da(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Rc(e)===n&&(n=n.ownerDocument.body),n}function CL(e,t){const n=Ts(e);if(P_(e))return n;if(!Sc(e)){let i=td(e);for(;i&&!Jp(i);){if(ja(i)&&!LE(i))return i;i=td(i)}return n}let r=IN(e,t);for(;r&&SG(r)&&LE(r);)r=IN(r,t);return r&&Jp(r)&&LE(r)&&!WR(r)?n:r||_G(e)||n}const jG=async function(e){const t=this.getOffsetParent||CL,n=this.getDimensions,r=await n(e.floating);return{reference:AG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DG(e){return Da(e).direction==="rtl"}const MG={convertOffsetParentRelativeRectToViewportRelativeRect:CG,getDocumentElement:Rc,getClippingRect:NG,getOffsetParent:CL,getElementRects:jG,getClientRects:TG,getDimensions:IG,getScale:Op,isElement:ja,isRTL:DG};function LG(e,t){let n=null,r;const i=Rc(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:l,top:h,width:p,height:m}=e.getBoundingClientRect();if(a||t(),!p||!m)return;const E=cb(h),x=cb(i.clientWidth-(l+p)),y=cb(i.clientHeight-(h+m)),w=cb(l),_={rootMargin:-E+"px "+-x+"px "+-y+"px "+-w+"px",threshold:xs(0,Ju(1,c))||1};let C=!0;function I(j){const U=j[0].intersectionRatio;if(U!==c){if(!C)return s();U?s(!1,U):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(I,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(e)}return s(!0),o}function FG(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=GR(e),h=i||o?[...l?Qv(l):[],...Qv(t)]:[];h.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const p=l&&a?LG(l,n):null;let m=-1,E=null;s&&(E=new ResizeObserver(R=>{let[_]=R;_&&_.target===l&&E&&(E.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=E)==null||C.observe(t)})),n()}),l&&!c&&E.observe(l),E.observe(t));let x,y=c?Vf(e):null;c&&w();function w(){const R=Vf(e);y&&(R.x!==y.x||R.y!==y.y||R.width!==y.width||R.height!==y.height)&&n(),y=R,x=requestAnimationFrame(w)}return n(),()=>{var R;h.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),p==null||p(),(R=E)==null||R.disconnect(),E=null,c&&cancelAnimationFrame(x)}}const UG=vG,BG=yG,$G=pG,VG=xG,zG=mG,AN=hG,WG=bG,HG=(e,t,n)=>{const r=new Map,i={platform:MG,...n},o={...i.platform,_c:r};return fG(e,t,{...i,platform:o})};var jb=typeof document<"u"?P.useLayoutEffect:P.useEffect;function dS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!dS(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function TL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jN(e,t){const n=TL(e);return Math.round(t*n)/n}function FE(e){const t=P.useRef(e);return jb(()=>{t.current=e}),t}function GG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[h,p]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,E]=P.useState(r);dS(m,r)||E(r);const[x,y]=P.useState(null),[w,R]=P.useState(null),_=P.useCallback(Y=>{Y!==U.current&&(U.current=Y,y(Y))},[]),C=P.useCallback(Y=>{Y!==$.current&&($.current=Y,R(Y))},[]),I=o||x,j=s||w,U=P.useRef(null),$=P.useRef(null),z=P.useRef(h),q=c!=null,X=FE(c),J=FE(i),G=FE(l),ee=P.useCallback(()=>{if(!U.current||!$.current)return;const Y={placement:t,strategy:n,middleware:m};J.current&&(Y.platform=J.current),HG(U.current,$.current,Y).then(Q=>{const ne={...Q,isPositioned:G.current!==!1};ce.current&&!dS(z.current,ne)&&(z.current=ne,Zf.flushSync(()=>{p(ne)}))})},[m,t,n,J,G]);jb(()=>{l===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[l]);const ce=P.useRef(!1);jb(()=>(ce.current=!0,()=>{ce.current=!1}),[]),jb(()=>{if(I&&(U.current=I),j&&($.current=j),I&&j){if(X.current)return X.current(I,j,ee);ee()}},[I,j,ee,X,q]);const xe=P.useMemo(()=>({reference:U,floating:$,setReference:_,setFloating:C}),[_,C]),Se=P.useMemo(()=>({reference:I,floating:j}),[I,j]),ve=P.useMemo(()=>{const Y={position:n,left:0,top:0};if(!Se.floating)return Y;const Q=jN(Se.floating,h.x),ne=jN(Se.floating,h.y);return a?{...Y,transform:"translate("+Q+"px, "+ne+"px)",...TL(Se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ne}},[n,a,Se.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:ee,refs:xe,elements:Se,floatingStyles:ve}),[h,ee,xe,Se,ve])}const qG=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?AN({element:r.current,padding:i}).fn(n):{}:r?AN({element:r,padding:i}).fn(n):{}}}},KG=(e,t)=>({...UG(e),options:[e,t]}),YG=(e,t)=>({...BG(e),options:[e,t]}),QG=(e,t)=>({...WG(e),options:[e,t]}),XG=(e,t)=>({...$G(e),options:[e,t]}),JG=(e,t)=>({...VG(e),options:[e,t]}),ZG=(e,t)=>({...zG(e),options:[e,t]}),e7=(e,t)=>({...qG(e),options:[e,t]});var t7="Arrow",RL=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return u.jsx(Pt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});RL.displayName=t7;var n7=RL;function r7(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function h(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,h]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,i7(i,...t)]}function i7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function qR(e){const[t,n]=P.useState(void 0);return Yi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,a=l.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var KR="Popper",[kL,Sm]=r7(KR),[o7,OL]=kL(KR),PL=e=>{const{__scopePopper:t,children:n}=e,[r,i]=P.useState(null);return u.jsx(o7,{scope:t,anchor:r,onAnchorChange:i,children:n})};PL.displayName=KR;var NL="PopperAnchor",IL=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=OL(NL,n),s=P.useRef(null),a=xn(t,s);return P.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Pt.div,{...i,ref:a})});IL.displayName=NL;var YR="PopperContent",[s7,a7]=kL(YR),AL=P.forwardRef((e,t)=>{var Ye,lt,Ut,Jt,Bt,qt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:E="optimized",onPlaced:x,...y}=e,w=OL(YR,n),[R,_]=P.useState(null),C=xn(t,Un=>_(Un)),[I,j]=P.useState(null),U=qR(I),$=(U==null?void 0:U.width)??0,z=(U==null?void 0:U.height)??0,q=r+(o!=="center"?"-"+o:""),X=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},J=Array.isArray(l)?l:[l],G=J.length>0,ee={padding:X,boundary:J.filter(l7),altBoundary:G},{refs:ce,floatingStyles:xe,placement:Se,isPositioned:ve,middlewareData:Y}=GG({strategy:"fixed",placement:q,whileElementsMounted:(...Un)=>FG(...Un,{animationFrame:E==="always"}),elements:{reference:w.anchor},middleware:[KG({mainAxis:i+z,alignmentAxis:s}),c&&YG({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?QG():void 0,...ee}),c&&XG({...ee}),JG({...ee,apply:({elements:Un,rects:Qn,availableWidth:ut,availableHeight:Ar})=>{const{width:Mi,height:Z}=Qn.reference,pe=Un.floating.style;pe.setProperty("--radix-popper-available-width",`${ut}px`),pe.setProperty("--radix-popper-available-height",`${Ar}px`),pe.setProperty("--radix-popper-anchor-width",`${Mi}px`),pe.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),I&&e7({element:I,padding:a}),u7({arrowWidth:$,arrowHeight:z}),m&&ZG({strategy:"referenceHidden",...ee})]}),[Q,ne]=ML(Se),fe=$r(x);Yi(()=>{ve&&(fe==null||fe())},[ve,fe]);const Te=(Ye=Y.arrow)==null?void 0:Ye.x,He=(lt=Y.arrow)==null?void 0:lt.y,Le=((Ut=Y.arrow)==null?void 0:Ut.centerOffset)!==0,[bt,Gt]=P.useState();return Yi(()=>{R&&Gt(window.getComputedStyle(R).zIndex)},[R]),u.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ve?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:bt,"--radix-popper-transform-origin":[(Jt=Y.transformOrigin)==null?void 0:Jt.x,(Bt=Y.transformOrigin)==null?void 0:Bt.y].join(" "),...((qt=Y.hide)==null?void 0:qt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(s7,{scope:n,placedSide:Q,onArrowChange:j,arrowX:Te,arrowY:He,shouldHideArrow:Le,children:u.jsx(Pt.div,{"data-side":Q,"data-align":ne,...y,ref:C,style:{...y.style,animation:ve?void 0:"none"}})})})});AL.displayName=YR;var jL="PopperArrow",c7={top:"bottom",right:"left",bottom:"top",left:"right"},DL=P.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=a7(jL,r),s=c7[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(n7,{...i,ref:n,style:{...i.style,display:"block"}})})});DL.displayName=jL;function l7(e){return e!==null}var u7=e=>({name:"transformOrigin",options:e,fn(t){var w,R,_;const{placement:n,rects:r,middlewareData:i}=t,s=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[l,h]=ML(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((R=i.arrow)==null?void 0:R.x)??0)+a/2,E=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let x="",y="";return l==="bottom"?(x=s?p:`${m}px`,y=`${-c}px`):l==="top"?(x=s?p:`${m}px`,y=`${r.floating.height+c}px`):l==="right"?(x=`${-c}px`,y=s?p:`${E}px`):l==="left"&&(x=`${r.floating.width+c}px`,y=s?p:`${E}px`),{data:{x,y}}}});function ML(e){const[t,n="center"]=e.split("-");return[t,n]}var QR=PL,I_=IL,XR=AL,JR=DL;function d7(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function h(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,h]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,f7(i,...t)]}function f7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var UE="rovingFocusGroup.onEntryFocus",h7={bubbles:!1,cancelable:!0},A_="RovingFocusGroup",[qT,LL,p7]=f_(A_),[m7,j_]=d7(A_,[p7]),[g7,v7]=m7(A_),FL=P.forwardRef((e,t)=>u.jsx(qT.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(qT.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(y7,{...e,ref:t})})}));FL.displayName=A_;var y7=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:h=!1,...p}=e,m=P.useRef(null),E=xn(t,m),x=by(o),[y=null,w]=pl({prop:s,defaultProp:a,onChange:c}),[R,_]=P.useState(!1),C=$r(l),I=LL(n),j=P.useRef(!1),[U,$]=P.useState(0);return P.useEffect(()=>{const z=m.current;if(z)return z.addEventListener(UE,C),()=>z.removeEventListener(UE,C)},[C]),u.jsx(g7,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:P.useCallback(z=>w(z),[w]),onItemShiftTab:P.useCallback(()=>_(!0),[]),onFocusableItemAdd:P.useCallback(()=>$(z=>z+1),[]),onFocusableItemRemove:P.useCallback(()=>$(z=>z-1),[]),children:u.jsx(Pt.div,{tabIndex:R||U===0?-1:0,"data-orientation":r,...p,ref:E,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{j.current=!0}),onFocus:Ke(e.onFocus,z=>{const q=!j.current;if(z.target===z.currentTarget&&q&&!R){const X=new CustomEvent(UE,h7);if(z.currentTarget.dispatchEvent(X),!X.defaultPrevented){const J=I().filter(Se=>Se.focusable),G=J.find(Se=>Se.active),ee=J.find(Se=>Se.id===y),xe=[G,ee,...J].filter(Boolean).map(Se=>Se.ref.current);$L(xe,h)}}j.current=!1}),onBlur:Ke(e.onBlur,()=>_(!1))})})}),UL="RovingFocusGroupItem",BL=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=e,a=vc(),c=o||a,l=v7(UL,n),h=l.currentTabStopId===c,p=LL(n),{onFocusableItemAdd:m,onFocusableItemRemove:E}=l;return P.useEffect(()=>{if(r)return m(),()=>E()},[r,m,E]),u.jsx(qT.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:u.jsx(Pt.span,{tabIndex:h?0:-1,"data-orientation":l.orientation,...s,ref:t,onMouseDown:Ke(e.onMouseDown,x=>{r?l.onItemFocus(c):x.preventDefault()}),onFocus:Ke(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ke(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){l.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=S7(x,l.orientation,l.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let R=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")R.reverse();else if(y==="prev"||y==="next"){y==="prev"&&R.reverse();const _=R.indexOf(x.currentTarget);R=l.loop?_7(R,_+1):R.slice(_+1)}setTimeout(()=>$L(R))}})})})});BL.displayName=UL;var b7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S7(e,t,n){const r=x7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return b7[r]}function $L(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var VL=FL,zL=BL,w7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tp=new WeakMap,lb=new WeakMap,ub={},BE=0,WL=function(e){return e&&(e.host||WL(e.parentNode))},E7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},C7=function(e,t,n,r){var i=E7(t,Array.isArray(e)?e:[e]);ub[n]||(ub[n]=new WeakMap);var o=ub[n],s=[],a=new Set,c=new Set(i),l=function(p){!p||a.has(p)||(a.add(p),l(p.parentNode))};i.forEach(l);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))h(m);else try{var E=m.getAttribute(r),x=E!==null&&E!=="false",y=(tp.get(m)||0)+1,w=(o.get(m)||0)+1;tp.set(m,y),o.set(m,w),s.push(m),y===1&&x&&lb.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",m,R)}})};return h(t),a.clear(),BE++,function(){s.forEach(function(p){var m=tp.get(p)-1,E=o.get(p)-1;tp.set(p,m),o.set(p,E),m||(lb.has(p)||p.removeAttribute(r),lb.delete(p)),E||p.removeAttribute(n)}),BE--,BE||(tp=new WeakMap,tp=new WeakMap,lb=new WeakMap,ub={})}},D_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=w7(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),C7(r,i,n,"aria-hidden")):function(){return null}},fc=function(){return fc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fc.apply(this,arguments)};function HL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function T7(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Db="right-scroll-bar-position",Mb="width-before-scroll-bar",R7="with-scroll-bars-hidden",k7="--removed-body-scroll-bar-size";function $E(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O7(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var P7=typeof window<"u"?P.useLayoutEffect:P.useEffect,DN=new WeakMap;function N7(e,t){var n=O7(null,function(r){return e.forEach(function(i){return $E(i,r)})});return P7(function(){var r=DN.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||$E(a,null)}),o.forEach(function(a){i.has(a)||$E(a,s)})}DN.set(n,e)},[e]),n}function I7(e){return e}function A7(e,t){t===void 0&&(t=I7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var h=s;s=[],h.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(h){s.push(h),l()},filter:function(h){return s=s.filter(h),n}}}};return i}function j7(e){e===void 0&&(e={});var t=A7(null);return t.options=fc({async:!0,ssr:!1},e),t}var GL=function(e){var t=e.sideCar,n=HL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,fc({},n))};GL.isSideCarExport=!0;function D7(e,t){return e.useMedium(t),GL}var qL=j7(),VE=function(){},M_=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:VE,onWheelCapture:VE,onTouchMoveCapture:VE}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,h=e.enabled,p=e.shards,m=e.sideCar,E=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,_=e.gapMode,C=HL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,j=N7([n,t]),U=fc(fc({},C),i);return P.createElement(P.Fragment,null,h&&P.createElement(I,{sideCar:qL,removeScrollBar:l,shards:p,noIsolation:E,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:_}),s?P.cloneElement(P.Children.only(a),fc(fc({},U),{ref:j})):P.createElement(R,fc({},U,{className:c,ref:j}),a))});M_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M_.classNames={fullWidth:Mb,zeroRight:Db};var M7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M7();return t&&e.setAttribute("nonce",t),e}function F7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=L7())&&(F7(t,n),U7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$7=function(){var e=B7();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},KL=function(){var e=$7(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},V7={left:0,top:0,right:0,gap:0},zE=function(e){return parseInt(e||"",10)||0},z7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[zE(n),zE(r),zE(i)]},W7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V7;var t=z7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},H7=KL(),Pp="data-scroll-locked",G7=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(R7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Pp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Db,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mb,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Db," .").concat(Db,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mb," .").concat(Mb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pp,`] {
    `).concat(k7,": ").concat(a,`px;
  }
`)},MN=function(){var e=parseInt(document.body.getAttribute(Pp)||"0",10);return isFinite(e)?e:0},q7=function(){P.useEffect(function(){return document.body.setAttribute(Pp,(MN()+1).toString()),function(){var e=MN()-1;e<=0?document.body.removeAttribute(Pp):document.body.setAttribute(Pp,e.toString())}},[])},K7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;q7();var o=P.useMemo(function(){return W7(i)},[i]);return P.createElement(H7,{styles:G7(o,!t,i,n?"":"!important")})},KT=!1;if(typeof window<"u")try{var db=Object.defineProperty({},"passive",{get:function(){return KT=!0,!0}});window.addEventListener("test",db,db),window.removeEventListener("test",db,db)}catch{KT=!1}var np=KT?{passive:!1}:!1,Y7=function(e){return e.tagName==="TEXTAREA"},YL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y7(e)&&n[t]==="visible")},Q7=function(e){return YL(e,"overflowY")},X7=function(e){return YL(e,"overflowX")},LN=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=QL(e,r);if(i){var o=XL(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Z7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},QL=function(e,t){return e==="v"?Q7(t):X7(t)},XL=function(e,t){return e==="v"?J7(t):Z7(t)},eq=function(e,t){return e==="h"&&t==="rtl"?-1:1},tq=function(e,t,n,r,i){var o=eq(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,c=t.contains(a),l=!1,h=s>0,p=0,m=0;do{var E=XL(e,a),x=E[0],y=E[1],w=E[2],R=y-w-o*x;(x||R)&&QL(e,a)&&(p+=R,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(h&&(Math.abs(p)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(l=!0),l},fb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FN=function(e){return[e.deltaX,e.deltaY]},UN=function(e){return e&&"current"in e?e.current:e},nq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iq=0,rp=[];function oq(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(iq++)[0],o=P.useState(KL)[0],s=P.useRef(e);P.useEffect(function(){s.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=T7([e.lockRef.current],(e.shards||[]).map(UN),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=P.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var R=fb(y),_=n.current,C="deltaX"in y?y.deltaX:_[0]-R[0],I="deltaY"in y?y.deltaY:_[1]-R[1],j,U=y.target,$=Math.abs(C)>Math.abs(I)?"h":"v";if("touches"in y&&$==="h"&&U.type==="range")return!1;var z=LN($,U);if(!z)return!0;if(z?j=$:(j=$==="v"?"h":"v",z=LN($,U)),!z)return!1;if(!r.current&&"changedTouches"in y&&(C||I)&&(r.current=j),!j)return!0;var q=r.current||j;return tq(q,w,y,q==="h"?C:I,!0)},[]),c=P.useCallback(function(y){var w=y;if(!(!rp.length||rp[rp.length-1]!==o)){var R="deltaY"in w?FN(w):fb(w),_=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&nq(j.delta,R)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var C=(s.current.shards||[]).map(UN).filter(Boolean).filter(function(j){return j.contains(w.target)}),I=C.length>0?a(w,C[0]):!s.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),l=P.useCallback(function(y,w,R,_){var C={name:y,delta:w,target:R,should:_,shadowParent:sq(R)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(I){return I!==C})},1)},[]),h=P.useCallback(function(y){n.current=fb(y),r.current=void 0},[]),p=P.useCallback(function(y){l(y.type,FN(y),y.target,a(y,e.lockRef.current))},[]),m=P.useCallback(function(y){l(y.type,fb(y),y.target,a(y,e.lockRef.current))},[]);P.useEffect(function(){return rp.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,np),document.addEventListener("touchmove",c,np),document.addEventListener("touchstart",h,np),function(){rp=rp.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,np),document.removeEventListener("touchmove",c,np),document.removeEventListener("touchstart",h,np)}},[]);var E=e.removeScrollBar,x=e.inert;return P.createElement(P.Fragment,null,x?P.createElement(o,{styles:rq(i)}):null,E?P.createElement(K7,{gapMode:e.gapMode}):null)}function sq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aq=D7(qL,oq);var _y=P.forwardRef(function(e,t){return P.createElement(M_,fc({},e,{ref:t,sideCar:aq}))});_y.classNames=M_.classNames;var YT=["Enter"," "],cq=["ArrowDown","PageUp","Home"],JL=["ArrowUp","PageDown","End"],lq=[...cq,...JL],uq={ltr:[...YT,"ArrowRight"],rtl:[...YT,"ArrowLeft"]},dq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wy="Menu",[Xv,fq,hq]=f_(wy),[eh,ZL]=Tc(wy,[hq,Sm,j_]),L_=Sm(),e2=j_(),[pq,th]=eh(wy),[mq,Ey]=eh(wy),t2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=e,a=L_(t),[c,l]=P.useState(null),h=P.useRef(!1),p=$r(o),m=by(i);return P.useEffect(()=>{const E=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),u.jsx(QR,{...a,children:u.jsx(pq,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:l,children:u.jsx(mq,{scope:t,onClose:P.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:m,modal:s,children:r})})})};t2.displayName=wy;var gq="MenuAnchor",ZR=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L_(n);return u.jsx(I_,{...i,...r,ref:t})});ZR.displayName=gq;var ek="MenuPortal",[vq,n2]=eh(ek,{forceMount:void 0}),r2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=th(ek,t);return u.jsx(vq,{scope:t,forceMount:n,children:u.jsx(uo,{present:n||o.open,children:u.jsx(mm,{asChild:!0,container:i,children:r})})})};r2.displayName=ek;var na="MenuContent",[yq,tk]=eh(na),i2=P.forwardRef((e,t)=>{const n=n2(na,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=th(na,e.__scopeMenu),s=Ey(na,e.__scopeMenu);return u.jsx(Xv.Provider,{scope:e.__scopeMenu,children:u.jsx(uo,{present:r||o.open,children:u.jsx(Xv.Slot,{scope:e.__scopeMenu,children:s.modal?u.jsx(bq,{...i,ref:t}):u.jsx(xq,{...i,ref:t})})})})}),bq=P.forwardRef((e,t)=>{const n=th(na,e.__scopeMenu),r=P.useRef(null),i=xn(t,r);return P.useEffect(()=>{const o=r.current;if(o)return D_(o)},[]),u.jsx(nk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xq=P.forwardRef((e,t)=>{const n=th(na,e.__scopeMenu);return u.jsx(nk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nk=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:E,disableOutsideScroll:x,...y}=e,w=th(na,n),R=Ey(na,n),_=L_(n),C=e2(n),I=fq(n),[j,U]=P.useState(null),$=P.useRef(null),z=xn(t,$,w.onContentChange),q=P.useRef(0),X=P.useRef(""),J=P.useRef(0),G=P.useRef(null),ee=P.useRef("right"),ce=P.useRef(0),xe=x?_y:P.Fragment,Se=x?{as:xc,allowPinchZoom:!0}:void 0,ve=Q=>{var Ye,lt;const ne=X.current+Q,fe=I().filter(Ut=>!Ut.disabled),Te=document.activeElement,He=(Ye=fe.find(Ut=>Ut.ref.current===Te))==null?void 0:Ye.textValue,Le=fe.map(Ut=>Ut.textValue),bt=Iq(Le,ne,He),Gt=(lt=fe.find(Ut=>Ut.textValue===bt))==null?void 0:lt.ref.current;(function Ut(Jt){X.current=Jt,window.clearTimeout(q.current),Jt!==""&&(q.current=window.setTimeout(()=>Ut(""),1e3))})(ne),Gt&&setTimeout(()=>Gt.focus())};P.useEffect(()=>()=>window.clearTimeout(q.current),[]),k_();const Y=P.useCallback(Q=>{var fe,Te;return ee.current===((fe=G.current)==null?void 0:fe.side)&&jq(Q,(Te=G.current)==null?void 0:Te.area)},[]);return u.jsx(yq,{scope:n,searchRef:X,onItemEnter:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),onItemLeave:P.useCallback(Q=>{var ne;Y(Q)||((ne=$.current)==null||ne.focus(),U(null))},[Y]),onTriggerLeave:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),pointerGraceTimerRef:J,onPointerGraceIntentChange:P.useCallback(Q=>{G.current=Q},[]),children:u.jsx(xe,{...Se,children:u.jsx(xy,{asChild:!0,trapped:i,onMountAutoFocus:Ke(o,Q=>{var ne;Q.preventDefault(),(ne=$.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(pm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:m,onDismiss:E,children:u.jsx(VL,{asChild:!0,...C,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:U,onEntryFocus:Ke(c,Q=>{R.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(XR,{role:"menu","aria-orientation":"vertical","data-state":x2(w.open),"data-radix-menu-content":"",dir:R.dir,..._,...y,ref:z,style:{outline:"none",...y.style},onKeyDown:Ke(y.onKeyDown,Q=>{const fe=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Te=Q.ctrlKey||Q.altKey||Q.metaKey,He=Q.key.length===1;fe&&(Q.key==="Tab"&&Q.preventDefault(),!Te&&He&&ve(Q.key));const Le=$.current;if(Q.target!==Le||!lq.includes(Q.key))return;Q.preventDefault();const Gt=I().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);JL.includes(Q.key)&&Gt.reverse(),Pq(Gt)}),onBlur:Ke(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(q.current),X.current="")}),onPointerMove:Ke(e.onPointerMove,Jv(Q=>{const ne=Q.target,fe=ce.current!==Q.clientX;if(Q.currentTarget.contains(ne)&&fe){const Te=Q.clientX>ce.current?"right":"left";ee.current=Te,ce.current=Q.clientX}}))})})})})})})});i2.displayName=na;var Sq="MenuGroup",rk=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{role:"group",...r,ref:t})});rk.displayName=Sq;var _q="MenuLabel",o2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});o2.displayName=_q;var fS="MenuItem",BN="menu.itemSelect",F_=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=P.useRef(null),s=Ey(fS,e.__scopeMenu),a=tk(fS,e.__scopeMenu),c=xn(t,o),l=P.useRef(!1),h=()=>{const p=o.current;if(!n&&p){const m=new CustomEvent(BN,{bubbles:!0,cancelable:!0});p.addEventListener(BN,E=>r==null?void 0:r(E),{once:!0}),TR(p,m),m.defaultPrevented?l.current=!1:s.onClose()}};return u.jsx(s2,{...i,ref:c,disabled:n,onClick:Ke(e.onClick,h),onPointerDown:p=>{var m;(m=e.onPointerDown)==null||m.call(e,p),l.current=!0},onPointerUp:Ke(e.onPointerUp,p=>{var m;l.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:Ke(e.onKeyDown,p=>{const m=a.searchRef.current!=="";n||m&&p.key===" "||YT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});F_.displayName=fS;var s2=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,s=tk(fS,n),a=e2(n),c=P.useRef(null),l=xn(t,c),[h,p]=P.useState(!1),[m,E]=P.useState("");return P.useEffect(()=>{const x=c.current;x&&E((x.textContent??"").trim())},[o.children]),u.jsx(Xv.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:u.jsx(zL,{asChild:!0,...a,focusable:!r,children:u.jsx(Pt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:l,onPointerMove:Ke(e.onPointerMove,Jv(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,Jv(x=>s.onItemLeave(x))),onFocus:Ke(e.onFocus,()=>p(!0)),onBlur:Ke(e.onBlur,()=>p(!1))})})})}),wq="MenuCheckboxItem",a2=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return u.jsx(f2,{scope:e.__scopeMenu,checked:n,children:u.jsx(F_,{role:"menuitemcheckbox","aria-checked":hS(n)?"mixed":n,...i,ref:t,"data-state":ok(n),onSelect:Ke(i.onSelect,()=>r==null?void 0:r(hS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});a2.displayName=wq;var c2="MenuRadioGroup",[Eq,Cq]=eh(c2,{value:void 0,onValueChange:()=>{}}),l2=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=$r(r);return u.jsx(Eq,{scope:e.__scopeMenu,value:n,onValueChange:o,children:u.jsx(rk,{...i,ref:t})})});l2.displayName=c2;var u2="MenuRadioItem",d2=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=Cq(u2,e.__scopeMenu),o=n===i.value;return u.jsx(f2,{scope:e.__scopeMenu,checked:o,children:u.jsx(F_,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":ok(o),onSelect:Ke(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});d2.displayName=u2;var ik="MenuItemIndicator",[f2,Tq]=eh(ik,{checked:!1}),h2=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=Tq(ik,n);return u.jsx(uo,{present:r||hS(o.checked)||o.checked===!0,children:u.jsx(Pt.span,{...i,ref:t,"data-state":ok(o.checked)})})});h2.displayName=ik;var Rq="MenuSeparator",p2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});p2.displayName=Rq;var kq="MenuArrow",m2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L_(n);return u.jsx(JR,{...i,...r,ref:t})});m2.displayName=kq;var Oq="MenuSub",[bae,g2]=eh(Oq),tv="MenuSubTrigger",v2=P.forwardRef((e,t)=>{const n=th(tv,e.__scopeMenu),r=Ey(tv,e.__scopeMenu),i=g2(tv,e.__scopeMenu),o=tk(tv,e.__scopeMenu),s=P.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,l={__scopeMenu:e.__scopeMenu},h=P.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return P.useEffect(()=>h,[h]),P.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),u.jsx(ZR,{asChild:!0,...l,children:u.jsx(s2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":x2(n.open),...e,ref:d_(t,i.onTriggerChange),onClick:p=>{var m;(m=e.onClick)==null||m.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,Jv(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Ke(e.onPointerLeave,Jv(p=>{var E,x;h();const m=(E=n.content)==null?void 0:E.getBoundingClientRect();if(m){const y=(x=n.content)==null?void 0:x.dataset.side,w=y==="right",R=w?-5:5,_=m[w?"left":"right"],C=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+R,y:p.clientY},{x:_,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:_,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,p=>{var E;const m=o.searchRef.current!=="";e.disabled||m&&p.key===" "||uq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),p.preventDefault())})})})});v2.displayName=tv;var y2="MenuSubContent",b2=P.forwardRef((e,t)=>{const n=n2(na,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=th(na,e.__scopeMenu),s=Ey(na,e.__scopeMenu),a=g2(y2,e.__scopeMenu),c=P.useRef(null),l=xn(t,c);return u.jsx(Xv.Provider,{scope:e.__scopeMenu,children:u.jsx(uo,{present:r||o.open,children:u.jsx(Xv.Slot,{scope:e.__scopeMenu,children:u.jsx(nk,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:l,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;s.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,h=>{h.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,h=>{s.onClose(),h.preventDefault()}),onKeyDown:Ke(e.onKeyDown,h=>{var E;const p=h.currentTarget.contains(h.target),m=dq[s.dir].includes(h.key);p&&m&&(o.onOpenChange(!1),(E=a.trigger)==null||E.focus(),h.preventDefault())})})})})})});b2.displayName=y2;function x2(e){return e?"open":"closed"}function hS(e){return e==="indeterminate"}function ok(e){return hS(e)?"indeterminate":e?"checked":"unchecked"}function Pq(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Nq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Iq(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=Nq(e,Math.max(o,0));i.length===1&&(s=s.filter(l=>l!==n));const c=s.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Aq(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,c=t[o].y,l=t[s].x,h=t[s].y;c>r!=h>r&&n<(l-a)*(r-c)/(h-c)+a&&(i=!i)}return i}function jq(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Aq(n,t)}function Jv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Dq=t2,Mq=ZR,Lq=r2,Fq=i2,Uq=rk,Bq=o2,$q=F_,Vq=a2,zq=l2,Wq=d2,Hq=h2,Gq=p2,qq=m2,Kq=v2,Yq=b2,sk="DropdownMenu",[Qq,xae]=Tc(sk,[ZL]),Mo=ZL(),[Xq,S2]=Qq(sk),_2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,c=Mo(t),l=P.useRef(null),[h=!1,p]=pl({prop:i,defaultProp:o,onChange:s});return u.jsx(Xq,{scope:t,triggerId:vc(),triggerRef:l,contentId:vc(),open:h,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:a,children:u.jsx(Dq,{...c,open:h,onOpenChange:p,dir:r,modal:a,children:n})})};_2.displayName=sk;var w2="DropdownMenuTrigger",E2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=S2(w2,n),s=Mo(n);return u.jsx(Mq,{asChild:!0,...s,children:u.jsx(Pt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:d_(t,o.triggerRef),onPointerDown:Ke(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Ke(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});E2.displayName=w2;var Jq="DropdownMenuPortal",C2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Mo(t);return u.jsx(Lq,{...r,...n})};C2.displayName=Jq;var T2="DropdownMenuContent",R2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=S2(T2,n),o=Mo(n),s=P.useRef(!1);return u.jsx(Fq,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,h=c.button===2||l;(!i.modal||h)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=T2;var Zq="DropdownMenuGroup",eK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Uq,{...i,...r,ref:t})});eK.displayName=Zq;var tK="DropdownMenuLabel",k2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Bq,{...i,...r,ref:t})});k2.displayName=tK;var nK="DropdownMenuItem",O2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx($q,{...i,...r,ref:t})});O2.displayName=nK;var rK="DropdownMenuCheckboxItem",P2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Vq,{...i,...r,ref:t})});P2.displayName=rK;var iK="DropdownMenuRadioGroup",oK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(zq,{...i,...r,ref:t})});oK.displayName=iK;var sK="DropdownMenuRadioItem",N2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Wq,{...i,...r,ref:t})});N2.displayName=sK;var aK="DropdownMenuItemIndicator",I2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Hq,{...i,...r,ref:t})});I2.displayName=aK;var cK="DropdownMenuSeparator",A2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Gq,{...i,...r,ref:t})});A2.displayName=cK;var lK="DropdownMenuArrow",uK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(qq,{...i,...r,ref:t})});uK.displayName=lK;var dK="DropdownMenuSubTrigger",j2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Kq,{...i,...r,ref:t})});j2.displayName=dK;var fK="DropdownMenuSubContent",D2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Yq,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D2.displayName=fK;var hK=_2,pK=E2,mK=C2,M2=R2,L2=k2,F2=O2,U2=P2,B2=N2,$2=I2,V2=A2,z2=j2,W2=D2;const ak=hK,ck=pK,gK=P.forwardRef(({className:e,inset:t,children:n,...r},i)=>u.jsxs(z2,{ref:i,className:it("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(PR,{className:"ml-auto h-4 w-4"})]}));gK.displayName=z2.displayName;const vK=P.forwardRef(({className:e,...t},n)=>u.jsx(W2,{ref:n,className:it("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));vK.displayName=W2.displayName;const U_=P.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(mK,{children:u.jsx(M2,{ref:r,sideOffset:t,className:it("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));U_.displayName=M2.displayName;const lk=P.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(F2,{ref:r,className:it("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));lk.displayName=F2.displayName;const H2=P.forwardRef(({className:e,children:t,checked:n,...r},i)=>u.jsxs(U2,{ref:i,className:it("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx($2,{children:u.jsx(my,{className:"h-4 w-4"})})}),t]}));H2.displayName=U2.displayName;const yK=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(B2,{ref:r,className:it("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx($2,{children:u.jsx(pM,{className:"h-2 w-2 fill-current"})})}),t]}));yK.displayName=B2.displayName;const bK=P.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(L2,{ref:r,className:it("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bK.displayName=L2.displayName;const xK=P.forwardRef(({className:e,...t},n)=>u.jsx(V2,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));xK.displayName=V2.displayName;const SK=()=>{const[e,t]=P.useState(!0),n=Sl(),{email:r}=Nn(a=>a.auth),i=Yn();P.useEffect(()=>{i(Ab())},[]);const o=()=>{i(bH()),n("/login")},s=[{icon:Xz,label:"Dashboard",path:"/dashboard"},{icon:yM,label:"Users",path:"/dashboard/users"},{icon:zz,label:"Student Corner",submenu:[{icon:$z,label:"Activity",path:"/dashboard/activity"},{icon:vM,label:"Standard",path:"/dashboard/standard"},{icon:CT,label:"Subject",path:"/dashboard/subject"},{icon:Jz,label:"Board",path:"/dashboard/board"}]},{icon:Qz,label:"Course Manage",submenu:[{icon:s6,label:"Mentor",path:"/dashboard/mentor"},{icon:Wz,label:"Course",path:"/dashboard/course"},{icon:r6,label:"Lesson",path:"/dashboard/lesson"}]},{icon:CT,label:"Quiz Management",path:"/dashboard/quiz"},{icon:Kz,label:"Payments",path:"/dashboard/payments"},{icon:mM,label:"Transactions",path:"/dashboard/transaction"},{icon:n6,label:"Manage Offers",path:"/dashboard/offer"},{icon:c6,label:"Upcoming Live",path:"/dashboard/upcomingLive"}];return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:u.jsx("h1",{className:"text-xl font-bold",children:"Admin Panel"})}),u.jsx("nav",{className:"flex-1 p-4 space-y-1",children:s.map(a=>a.submenu?u.jsxs(ak,{children:[u.jsxs(ck,{className:"flex items-center w-full px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[u.jsx(a.icon,{className:"w-5 h-5 mr-3"}),a.label,u.jsx(v_,{className:"w-4 h-4 ml-auto"})]}),u.jsx(U_,{className:"w-56 ml-2",children:a.submenu.map(c=>u.jsx(lk,{asChild:!0,children:u.jsxs(BP,{to:c.path,className:"flex items-center px-2 py-2",children:[u.jsx(c.icon,{className:"w-4 h-4 mr-2"}),c.label,u.jsx(PR,{className:"w-4 h-4 ml-auto"})]})},c.path))})]},a.label):u.jsxs(BP,{to:a.path,className:"flex items-center px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[u.jsx(a.icon,{className:"w-5 h-5 mr-3"}),a.label]},a.path))}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs(Ot,{variant:"ghost",className:"w-full justify-start",onClick:o,children:[u.jsx(Zz,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),u.jsxs("div",{className:`lg:ml-64 min-h-screen transition-all duration-200 ${e?"ml-64":"ml-0"}`,children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[u.jsx(Ot,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!e),children:u.jsx(e6,{className:"w-5 h-5"})}),u.jsx("div",{className:"ml-auto flex items-center space-x-4",children:u.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",r]})})]})}),u.jsx("main",{className:"p-6",children:u.jsx(PV,{})})]})]})},_K={users:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Lb=wt("fetchAllUser",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(I8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Fb=wt("toggleUserBlock",async(e,{rejectWithValue:t})=>{try{return(await mt.post(A8,{userId:e})).data}catch(n){return t(n.response.data)}}),Ub=wt("updateUser",async(e,{rejectWithValue:t})=>{try{return(await mt.post(j8,e)).data}catch(n){return t(n.response.data)}}),wK=is({name:"user",initialState:_K,reducers:{},extraReducers:e=>{e.addCase(Lb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Lb.fulfilled,(t,n)=>{t.isLoading=!1,t.users=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Lb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Ub.pending,t=>{t.error=null}).addCase(Ub.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.users.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.users[r]=n.payload)}).addCase(Ub.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Bu({title:"Error",description:n.payload.message})}).addCase(Fb.pending,t=>{t.error=null}).addCase(Fb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.users.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.users[r].isBlocked=!t.users[r].isBlocked)}).addCase(Fb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),EK=wK.reducer,sa=({currentPage:e,totalPages:t,onPageChange:n})=>{const r=i=>{i!==e&&n(i)};return u.jsx("div",{className:"flex justify-center mt-4",children:u.jsx("nav",{children:u.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:`px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 ${e===1?"pointer-events-none opacity-50":""}`,children:"Previous"})}),Array.from({length:t},(i,o)=>o+1).map(i=>u.jsx("li",{children:u.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 leading-tight ${e===i?"text-blue-600 bg-blue-50 border border-blue-300":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"}`,children:i})},i)),u.jsx("li",{children:u.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:`px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 ${e===t?"pointer-events-none opacity-50":""}`,children:"Next"})})]})})})};var Cy=e=>e.type==="checkbox",yf=e=>e instanceof Date,Oo=e=>e==null;const G2=e=>typeof e=="object";var si=e=>!Oo(e)&&!Array.isArray(e)&&G2(e)&&!yf(e),q2=e=>si(e)&&e.target?Cy(e.target)?e.target.checked:e.target.value:e,CK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,K2=(e,t)=>e.has(CK(t)),TK=e=>{const t=e.constructor&&e.constructor.prototype;return si(t)&&t.hasOwnProperty("isPrototypeOf")},uk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gi(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(uk&&(e instanceof Blob||e instanceof FileList))&&(n||si(e)))if(t=n?[]:{},!n&&!TK(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=gi(e[r]));else return e;return t}var Ty=e=>Array.isArray(e)?e.filter(Boolean):[],br=e=>e===void 0,Ve=(e,t,n)=>{if(!t||!si(e))return n;const r=Ty(t.split(/[,[\].]+?/)).reduce((i,o)=>Oo(i)?i:i[o],e);return br(r)||r===e?br(e[t])?n:e[t]:r},Qs=e=>typeof e=="boolean",dk=e=>/^\w*$/.test(e),Y2=e=>Ty(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Hn=(e,t,n)=>{let r=-1;const i=dk(t)?[t]:Y2(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let c=n;if(r!==s){const l=e[a];c=si(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;e[a]=c,e=e[a]}return e};const pS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Q2=ht.createContext(null),Ry=()=>ht.useContext(Q2),RK=e=>{const{children:t,...n}=e;return ht.createElement(Q2.Provider,{value:n},t)};var X2=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==Zs.all&&(t._proxyFormState[s]=!r||Zs.all),n&&(n[s]=!0),e[s]}});return i},Ro=e=>si(e)&&!Object.keys(e).length,J2=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ro(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||Zs.all))},Ko=e=>Array.isArray(e)?e:[e],Z2=(e,t,n)=>!e||!t||e===t||Ko(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function B_(e){const t=ht.useRef(e);t.current=e,ht.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function kK(e){const t=Ry(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=ht.useState(n._formState),c=ht.useRef(!0),l=ht.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=ht.useRef(i);return h.current=i,B_({disabled:r,next:p=>c.current&&Z2(h.current,p.name,o)&&J2(p,l.current,n._updateFormState)&&a({...n._formState,...p}),subject:n._subjects.state}),ht.useEffect(()=>(c.current=!0,l.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),X2(s,n,l.current,!1)}var hc=e=>typeof e=="string",eF=(e,t,n,r,i)=>hc(e)?(r&&t.watch.add(e),Ve(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Ve(n,o))):(r&&(t.watchAll=!0),n);function OK(e){const t=Ry(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=ht.useRef(r);a.current=r,B_({disabled:o,subject:n._subjects.values,next:h=>{Z2(a.current,h.name,s)&&l(gi(eF(a.current,n._names,h.values||n._formValues,!1,i)))}});const[c,l]=ht.useState(n._getWatch(r,i));return ht.useEffect(()=>n._removeUnmounted()),c}function fk(e){const t=Ry(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=K2(i._names.array,n),a=OK({control:i,name:n,defaultValue:Ve(i._formValues,n,Ve(i._defaultValues,n,e.defaultValue)),exact:!0}),c=kK({control:i,name:n,exact:!0}),l=ht.useRef(i.register(n,{...e.rules,value:a,...Qs(e.disabled)?{disabled:e.disabled}:{}}));return ht.useEffect(()=>{const h=i._options.shouldUnregister||o,p=(m,E)=>{const x=Ve(i._fields,m);x&&x._f&&(x._f.mount=E)};if(p(n,!0),h){const m=gi(Ve(i._options.defaultValues,n));Hn(i._defaultValues,n,m),br(Ve(i._formValues,n))&&Hn(i._formValues,n,m)}return()=>{(s?h&&!i._state.action:h)?i.unregister(n):p(n,!1)}},[n,i,s,o]),ht.useEffect(()=>{Ve(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Ve(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Qs(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:ht.useCallback(h=>l.current.onChange({target:{value:q2(h),name:n},type:pS.CHANGE}),[n]),onBlur:ht.useCallback(()=>l.current.onBlur({target:{value:Ve(i._formValues,n),name:n},type:pS.BLUR}),[n,i]),ref:ht.useCallback(h=>{const p=Ve(i._fields,n);p&&h&&(p._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:m=>h.setCustomValidity(m),reportValidity:()=>h.reportValidity()})},[i._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ve(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ve(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ve(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ve(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ve(c.errors,n)}})}}const hk=e=>e.render(fk(e));var tF=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},uu=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},WE=(e,t,n={})=>n.shouldFocus||br(n.shouldFocus)?n.focusName||`${e}.${br(n.focusIndex)?t:n.focusIndex}.`:"",yv=e=>({isOnSubmit:!e||e===Zs.onSubmit,isOnBlur:e===Zs.onBlur,isOnChange:e===Zs.onChange,isOnAll:e===Zs.all,isOnTouch:e===Zs.onTouched}),QT=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Np=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Ve(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(Np(a,t))break}else if(si(a)&&Np(a,t))break}}};var nF=(e,t,n)=>{const r=Ko(Ve(e,n));return Hn(r,"root",t[n]),Hn(e,n,r),e},pk=e=>e.type==="file",nl=e=>typeof e=="function",mS=e=>{if(!uk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Bb=e=>hc(e),mk=e=>e.type==="radio",gS=e=>e instanceof RegExp;const $N={value:!1,isValid:!1},VN={value:!0,isValid:!0};var rF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!br(e[0].attributes.value)?br(e[0].value)||e[0].value===""?VN:{value:e[0].value,isValid:!0}:VN:$N}return $N};const zN={isValid:!1,value:null};var iF=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,zN):zN;function WN(e,t,n="validate"){if(Bb(e)||Array.isArray(e)&&e.every(Bb)||Qs(e)&&!e)return{type:n,message:Bb(e)?e:"",ref:t}}var ip=e=>si(e)&&!gS(e)?e:{value:e,message:""},XT=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:c,minLength:l,min:h,max:p,pattern:m,validate:E,name:x,valueAsNumber:y,mount:w,disabled:R}=e._f,_=Ve(t,x);if(!w||R)return{};const C=s?s[0]:o,I=G=>{r&&C.reportValidity&&(C.setCustomValidity(Qs(G)?"":G||""),C.reportValidity())},j={},U=mk(o),$=Cy(o),z=U||$,q=(y||pk(o))&&br(o.value)&&br(_)||mS(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,X=tF.bind(null,x,n,j),J=(G,ee,ce,xe=Gc.maxLength,Se=Gc.minLength)=>{const ve=G?ee:ce;j[x]={type:G?xe:Se,message:ve,ref:o,...X(G?xe:Se,ve)}};if(i?!Array.isArray(_)||!_.length:a&&(!z&&(q||Oo(_))||Qs(_)&&!_||$&&!rF(s).isValid||U&&!iF(s).isValid)){const{value:G,message:ee}=Bb(a)?{value:!!a,message:a}:ip(a);if(G&&(j[x]={type:Gc.required,message:ee,ref:C,...X(Gc.required,ee)},!n))return I(ee),j}if(!q&&(!Oo(h)||!Oo(p))){let G,ee;const ce=ip(p),xe=ip(h);if(!Oo(_)&&!isNaN(_)){const Se=o.valueAsNumber||_&&+_;Oo(ce.value)||(G=Se>ce.value),Oo(xe.value)||(ee=Se<xe.value)}else{const Se=o.valueAsDate||new Date(_),ve=ne=>new Date(new Date().toDateString()+" "+ne),Y=o.type=="time",Q=o.type=="week";hc(ce.value)&&_&&(G=Y?ve(_)>ve(ce.value):Q?_>ce.value:Se>new Date(ce.value)),hc(xe.value)&&_&&(ee=Y?ve(_)<ve(xe.value):Q?_<xe.value:Se<new Date(xe.value))}if((G||ee)&&(J(!!G,ce.message,xe.message,Gc.max,Gc.min),!n))return I(j[x].message),j}if((c||l)&&!q&&(hc(_)||i&&Array.isArray(_))){const G=ip(c),ee=ip(l),ce=!Oo(G.value)&&_.length>+G.value,xe=!Oo(ee.value)&&_.length<+ee.value;if((ce||xe)&&(J(ce,G.message,ee.message),!n))return I(j[x].message),j}if(m&&!q&&hc(_)){const{value:G,message:ee}=ip(m);if(gS(G)&&!_.match(G)&&(j[x]={type:Gc.pattern,message:ee,ref:o,...X(Gc.pattern,ee)},!n))return I(ee),j}if(E){if(nl(E)){const G=await E(_,t),ee=WN(G,C);if(ee&&(j[x]={...ee,...X(Gc.validate,ee.message)},!n))return I(ee.message),j}else if(si(E)){let G={};for(const ee in E){if(!Ro(G)&&!n)break;const ce=WN(await E[ee](_,t),C,ee);ce&&(G={...ce,...X(ee,ce.message)},I(ce.message),n&&(j[x]=G))}if(!Ro(G)&&(j[x]={ref:C,...G},!n))return j}}return I(!0),j},HE=(e,t)=>[...e,...Ko(t)],GE=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qE(e,t,n){return[...e.slice(0,t),...Ko(n),...e.slice(t)]}var KE=(e,t,n)=>Array.isArray(e)?(br(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],YE=(e,t)=>[...Ko(t),...Ko(e)];function PK(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return Ty(r).length?r:[]}var QE=(e,t)=>br(t)?[]:PK(e,Ko(t).sort((n,r)=>n-r)),XE=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function NK(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=br(e)?r++:e[t[r++]];return e}function IK(e){for(const t in e)if(e.hasOwnProperty(t)&&!br(e[t]))return!1;return!0}function ui(e,t){const n=Array.isArray(t)?t:dk(t)?[t]:Y2(t),r=n.length===1?e:NK(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(si(r)&&Ro(r)||Array.isArray(r)&&IK(r))&&ui(e,n.slice(0,-1)),e}var HN=(e,t,n)=>(e[t]=n,e);function GN(e){const t=Ry(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o}=e,[s,a]=ht.useState(n._getFieldArray(r)),c=ht.useRef(n._getFieldArray(r).map(uu)),l=ht.useRef(s),h=ht.useRef(r),p=ht.useRef(!1);h.current=r,l.current=s,n._names.array.add(r),e.rules&&n.register(r,e.rules),B_({next:({values:j,name:U})=>{if(U===h.current||!U){const $=Ve(j,h.current);Array.isArray($)&&(a($),c.current=$.map(uu))}},subject:n._subjects.array});const m=ht.useCallback(j=>{p.current=!0,n._updateFieldArray(r,j)},[n,r]),E=(j,U)=>{const $=Ko(gi(j)),z=HE(n._getFieldArray(r),$);n._names.focus=WE(r,z.length-1,U),c.current=HE(c.current,$.map(uu)),m(z),a(z),n._updateFieldArray(r,z,HE,{argA:GE(j)})},x=(j,U)=>{const $=Ko(gi(j)),z=YE(n._getFieldArray(r),$);n._names.focus=WE(r,0,U),c.current=YE(c.current,$.map(uu)),m(z),a(z),n._updateFieldArray(r,z,YE,{argA:GE(j)})},y=j=>{const U=QE(n._getFieldArray(r),j);c.current=QE(c.current,j),m(U),a(U),n._updateFieldArray(r,U,QE,{argA:j})},w=(j,U,$)=>{const z=Ko(gi(U)),q=qE(n._getFieldArray(r),j,z);n._names.focus=WE(r,j,$),c.current=qE(c.current,j,z.map(uu)),m(q),a(q),n._updateFieldArray(r,q,qE,{argA:j,argB:GE(U)})},R=(j,U)=>{const $=n._getFieldArray(r);XE($,j,U),XE(c.current,j,U),m($),a($),n._updateFieldArray(r,$,XE,{argA:j,argB:U},!1)},_=(j,U)=>{const $=n._getFieldArray(r);KE($,j,U),KE(c.current,j,U),m($),a($),n._updateFieldArray(r,$,KE,{argA:j,argB:U},!1)},C=(j,U)=>{const $=gi(U),z=HN(n._getFieldArray(r),j,$);c.current=[...z].map((q,X)=>!q||X===j?uu():c.current[X]),m(z),a([...z]),n._updateFieldArray(r,z,HN,{argA:j,argB:$},!0,!1)},I=j=>{const U=Ko(gi(j));c.current=U.map(uu),m([...U]),a([...U]),n._updateFieldArray(r,[...U],$=>$,{},!0,!1)};return ht.useEffect(()=>{if(n._state.action=!1,QT(r,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!yv(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(j=>{const U=Ve(j.errors,r),$=Ve(n._formState.errors,r);($?!U&&$.type||U&&($.type!==U.type||$.message!==U.message):U&&U.type)&&(U?Hn(n._formState.errors,r,U):ui(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const j=Ve(n._fields,r);j&&j._f&&!(yv(n._options.reValidateMode).isOnSubmit&&yv(n._options.mode).isOnSubmit)&&XT(j,n._formValues,n._options.criteriaMode===Zs.all,n._options.shouldUseNativeValidation,!0).then(U=>!Ro(U)&&n._subjects.state.next({errors:nF(n._formState.errors,U,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Np(n._fields,(j,U)=>{if(n._names.focus&&U.startsWith(n._names.focus)&&j.focus)return j.focus(),1}),n._names.focus="",n._updateValid(),p.current=!1},[s,r,n]),ht.useEffect(()=>(!Ve(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,i,o]),{swap:ht.useCallback(R,[m,r,n]),move:ht.useCallback(_,[m,r,n]),prepend:ht.useCallback(x,[m,r,n]),append:ht.useCallback(E,[m,r,n]),remove:ht.useCallback(y,[m,r,n]),insert:ht.useCallback(w,[m,r,n]),update:ht.useCallback(C,[m,r,n]),replace:ht.useCallback(I,[m,r,n]),fields:ht.useMemo(()=>s.map((j,U)=>({...j,[i]:c.current[U]||uu()})),[s,i])}}var JE=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},JT=e=>Oo(e)||!G2(e);function bu(e,t){if(JT(e)||JT(t))return e===t;if(yf(e)&&yf(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(yf(o)&&yf(s)||si(o)&&si(s)||Array.isArray(o)&&Array.isArray(s)?!bu(o,s):o!==s)return!1}}return!0}var oF=e=>e.type==="select-multiple",AK=e=>mk(e)||Cy(e),ZE=e=>mS(e)&&e.isConnected,sF=e=>{for(const t in e)if(nl(e[t]))return!0;return!1};function vS(e,t={}){const n=Array.isArray(e);if(si(e)||n)for(const r in e)Array.isArray(e[r])||si(e[r])&&!sF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},vS(e[r],t[r])):Oo(e[r])||(t[r]=!0);return t}function aF(e,t,n){const r=Array.isArray(e);if(si(e)||r)for(const i in e)Array.isArray(e[i])||si(e[i])&&!sF(e[i])?br(t)||JT(n[i])?n[i]=Array.isArray(e[i])?vS(e[i],[]):{...vS(e[i])}:aF(e[i],Oo(t)?{}:t[i],n[i]):n[i]=!bu(e[i],t[i]);return n}var Hg=(e,t)=>aF(e,t,vS(t)),cF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>br(e)?e:t?e===""?NaN:e&&+e:n&&hc(e)?new Date(e):r?r(e):e;function eC(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return pk(t)?t.files:mk(t)?iF(e.refs).value:oF(t)?[...t.selectedOptions].map(({value:n})=>n):Cy(t)?rF(e.refs).value:cF(br(t.value)?e.ref.value:t.value,e)}var jK=(e,t,n,r)=>{const i={};for(const o of e){const s=Ve(t,o);s&&Hn(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Gg=e=>br(e)?e:gS(e)?e.source:si(e)?gS(e.value)?e.value.source:e.value:e;const qN="AsyncFunction";var DK=e=>(!e||!e.validate)&&!!(nl(e.validate)&&e.validate.constructor.name===qN||si(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===qN)),MK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function KN(e,t,n){const r=Ve(e,n);if(r||dk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=Ve(t,o),a=Ve(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var LK=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,FK=(e,t)=>!Ty(Ve(e,t)).length&&ui(e,t);const UK={mode:Zs.onSubmit,reValidateMode:Zs.onChange,shouldFocusError:!0};function BK(e={}){let t={...UK,...e},n={submitCount:0,isDirty:!1,isLoading:nl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=si(t.defaultValues)||si(t.values)?gi(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:gi(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:JE(),array:JE(),state:JE()},m=yv(t.mode),E=yv(t.reValidateMode),x=t.criteriaMode===Zs.all,y=Z=>pe=>{clearTimeout(l),l=setTimeout(Z,pe)},w=async Z=>{if(!e.disabled&&(h.isValid||Z)){const pe=t.resolver?Ro((await z()).errors):await X(r,!0);pe!==n.isValid&&p.state.next({isValid:pe})}},R=(Z,pe)=>{!e.disabled&&(h.isValidating||h.validatingFields)&&((Z||Array.from(a.mount)).forEach(Ce=>{Ce&&(pe?Hn(n.validatingFields,Ce,pe):ui(n.validatingFields,Ce))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ro(n.validatingFields)}))},_=(Z,pe=[],Ce,Qe,re=!0,de=!0)=>{if(Qe&&Ce&&!e.disabled){if(s.action=!0,de&&Array.isArray(Ve(r,Z))){const Re=Ce(Ve(r,Z),Qe.argA,Qe.argB);re&&Hn(r,Z,Re)}if(de&&Array.isArray(Ve(n.errors,Z))){const Re=Ce(Ve(n.errors,Z),Qe.argA,Qe.argB);re&&Hn(n.errors,Z,Re),FK(n.errors,Z)}if(h.touchedFields&&de&&Array.isArray(Ve(n.touchedFields,Z))){const Re=Ce(Ve(n.touchedFields,Z),Qe.argA,Qe.argB);re&&Hn(n.touchedFields,Z,Re)}h.dirtyFields&&(n.dirtyFields=Hg(i,o)),p.state.next({name:Z,isDirty:G(Z,pe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Hn(o,Z,pe)},C=(Z,pe)=>{Hn(n.errors,Z,pe),p.state.next({errors:n.errors})},I=Z=>{n.errors=Z,p.state.next({errors:n.errors,isValid:!1})},j=(Z,pe,Ce,Qe)=>{const re=Ve(r,Z);if(re){const de=Ve(o,Z,br(Ce)?Ve(i,Z):Ce);br(de)||Qe&&Qe.defaultChecked||pe?Hn(o,Z,pe?de:eC(re._f)):xe(Z,de),s.mount&&w()}},U=(Z,pe,Ce,Qe,re)=>{let de=!1,Re=!1;const De={name:Z};if(!e.disabled){const nt=!!(Ve(r,Z)&&Ve(r,Z)._f&&Ve(r,Z)._f.disabled);if(!Ce||Qe){h.isDirty&&(Re=n.isDirty,n.isDirty=De.isDirty=G(),de=Re!==De.isDirty);const St=nt||bu(Ve(i,Z),pe);Re=!!(!nt&&Ve(n.dirtyFields,Z)),St||nt?ui(n.dirtyFields,Z):Hn(n.dirtyFields,Z,!0),De.dirtyFields=n.dirtyFields,de=de||h.dirtyFields&&Re!==!St}if(Ce){const St=Ve(n.touchedFields,Z);St||(Hn(n.touchedFields,Z,Ce),De.touchedFields=n.touchedFields,de=de||h.touchedFields&&St!==Ce)}de&&re&&p.state.next(De)}return de?De:{}},$=(Z,pe,Ce,Qe)=>{const re=Ve(n.errors,Z),de=h.isValid&&Qs(pe)&&n.isValid!==pe;if(e.delayError&&Ce?(c=y(()=>C(Z,Ce)),c(e.delayError)):(clearTimeout(l),c=null,Ce?Hn(n.errors,Z,Ce):ui(n.errors,Z)),(Ce?!bu(re,Ce):re)||!Ro(Qe)||de){const Re={...Qe,...de&&Qs(pe)?{isValid:pe}:{},errors:n.errors,name:Z};n={...n,...Re},p.state.next(Re)}},z=async Z=>{R(Z,!0);const pe=await t.resolver(o,t.context,jK(Z||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return R(Z),pe},q=async Z=>{const{errors:pe}=await z(Z);if(Z)for(const Ce of Z){const Qe=Ve(pe,Ce);Qe?Hn(n.errors,Ce,Qe):ui(n.errors,Ce)}else n.errors=pe;return pe},X=async(Z,pe,Ce={valid:!0})=>{for(const Qe in Z){const re=Z[Qe];if(re){const{_f:de,...Re}=re;if(de){const De=a.array.has(de.name),nt=re._f&&DK(re._f);nt&&h.validatingFields&&R([Qe],!0);const St=await XT(re,o,x,t.shouldUseNativeValidation&&!pe,De);if(nt&&h.validatingFields&&R([Qe]),St[de.name]&&(Ce.valid=!1,pe))break;!pe&&(Ve(St,de.name)?De?nF(n.errors,St,de.name):Hn(n.errors,de.name,St[de.name]):ui(n.errors,de.name))}!Ro(Re)&&await X(Re,pe,Ce)}}return Ce.valid},J=()=>{for(const Z of a.unMount){const pe=Ve(r,Z);pe&&(pe._f.refs?pe._f.refs.every(Ce=>!ZE(Ce)):!ZE(pe._f.ref))&&Gt(Z)}a.unMount=new Set},G=(Z,pe)=>!e.disabled&&(Z&&pe&&Hn(o,Z,pe),!bu(fe(),i)),ee=(Z,pe,Ce)=>eF(Z,a,{...s.mount?o:br(pe)?i:hc(Z)?{[Z]:pe}:pe},Ce,pe),ce=Z=>Ty(Ve(s.mount?o:i,Z,e.shouldUnregister?Ve(i,Z,[]):[])),xe=(Z,pe,Ce={})=>{const Qe=Ve(r,Z);let re=pe;if(Qe){const de=Qe._f;de&&(!de.disabled&&Hn(o,Z,cF(pe,de)),re=mS(de.ref)&&Oo(pe)?"":pe,oF(de.ref)?[...de.ref.options].forEach(Re=>Re.selected=re.includes(Re.value)):de.refs?Cy(de.ref)?de.refs.length>1?de.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(re)?!!re.find(De=>De===Re.value):re===Re.value)):de.refs[0]&&(de.refs[0].checked=!!re):de.refs.forEach(Re=>Re.checked=Re.value===re):pk(de.ref)?de.ref.value="":(de.ref.value=re,de.ref.type||p.values.next({name:Z,values:{...o}})))}(Ce.shouldDirty||Ce.shouldTouch)&&U(Z,re,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&ne(Z)},Se=(Z,pe,Ce)=>{for(const Qe in pe){const re=pe[Qe],de=`${Z}.${Qe}`,Re=Ve(r,de);(a.array.has(Z)||si(re)||Re&&!Re._f)&&!yf(re)?Se(de,re,Ce):xe(de,re,Ce)}},ve=(Z,pe,Ce={})=>{const Qe=Ve(r,Z),re=a.array.has(Z),de=gi(pe);Hn(o,Z,de),re?(p.array.next({name:Z,values:{...o}}),(h.isDirty||h.dirtyFields)&&Ce.shouldDirty&&p.state.next({name:Z,dirtyFields:Hg(i,o),isDirty:G(Z,de)})):Qe&&!Qe._f&&!Oo(de)?Se(Z,de,Ce):xe(Z,de,Ce),QT(Z,a)&&p.state.next({...n}),p.values.next({name:s.mount?Z:void 0,values:{...o}})},Y=async Z=>{s.mount=!0;const pe=Z.target;let Ce=pe.name,Qe=!0;const re=Ve(r,Ce),de=()=>pe.type?eC(re._f):q2(Z),Re=De=>{Qe=Number.isNaN(De)||yf(De)&&isNaN(De.getTime())||bu(De,Ve(o,Ce,De))};if(re){let De,nt;const St=de(),Sn=Z.type===pS.BLUR||Z.type===pS.FOCUS_OUT,Qr=!MK(re._f)&&!t.resolver&&!Ve(n.errors,Ce)&&!re._f.deps||LK(Sn,Ve(n.touchedFields,Ce),n.isSubmitted,E,m),fi=QT(Ce,a,Sn);Hn(o,Ce,St),Sn?(re._f.onBlur&&re._f.onBlur(Z),c&&c(0)):re._f.onChange&&re._f.onChange(Z);const fo=U(Ce,St,Sn,!1),Cn=!Ro(fo)||fi;if(!Sn&&p.values.next({name:Ce,type:Z.type,values:{...o}}),Qr)return h.isValid&&(e.mode==="onBlur"?Sn&&w():w()),Cn&&p.state.next({name:Ce,...fi?{}:fo});if(!Sn&&fi&&p.state.next({...n}),t.resolver){const{errors:kn}=await z([Ce]);if(Re(St),Qe){const Ls=KN(n.errors,r,Ce),Ba=KN(kn,r,Ls.name||Ce);De=Ba.error,Ce=Ba.name,nt=Ro(kn)}}else R([Ce],!0),De=(await XT(re,o,x,t.shouldUseNativeValidation))[Ce],R([Ce]),Re(St),Qe&&(De?nt=!1:h.isValid&&(nt=await X(r,!0)));Qe&&(re._f.deps&&ne(re._f.deps),$(Ce,nt,De,fo))}},Q=(Z,pe)=>{if(Ve(n.errors,pe)&&Z.focus)return Z.focus(),1},ne=async(Z,pe={})=>{let Ce,Qe;const re=Ko(Z);if(t.resolver){const de=await q(br(Z)?Z:re);Ce=Ro(de),Qe=Z?!re.some(Re=>Ve(de,Re)):Ce}else Z?(Qe=(await Promise.all(re.map(async de=>{const Re=Ve(r,de);return await X(Re&&Re._f?{[de]:Re}:Re)}))).every(Boolean),!(!Qe&&!n.isValid)&&w()):Qe=Ce=await X(r);return p.state.next({...!hc(Z)||h.isValid&&Ce!==n.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:Ce}:{},errors:n.errors}),pe.shouldFocus&&!Qe&&Np(r,Q,Z?re:a.mount),Qe},fe=Z=>{const pe={...s.mount?o:i};return br(Z)?pe:hc(Z)?Ve(pe,Z):Z.map(Ce=>Ve(pe,Ce))},Te=(Z,pe)=>({invalid:!!Ve((pe||n).errors,Z),isDirty:!!Ve((pe||n).dirtyFields,Z),error:Ve((pe||n).errors,Z),isValidating:!!Ve(n.validatingFields,Z),isTouched:!!Ve((pe||n).touchedFields,Z)}),He=Z=>{Z&&Ko(Z).forEach(pe=>ui(n.errors,pe)),p.state.next({errors:Z?n.errors:{}})},Le=(Z,pe,Ce)=>{const Qe=(Ve(r,Z,{_f:{}})._f||{}).ref,re=Ve(n.errors,Z)||{},{ref:de,message:Re,type:De,...nt}=re;Hn(n.errors,Z,{...nt,...pe,ref:Qe}),p.state.next({name:Z,errors:n.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},bt=(Z,pe)=>nl(Z)?p.values.subscribe({next:Ce=>Z(ee(void 0,pe),Ce)}):ee(Z,pe,!0),Gt=(Z,pe={})=>{for(const Ce of Z?Ko(Z):a.mount)a.mount.delete(Ce),a.array.delete(Ce),pe.keepValue||(ui(r,Ce),ui(o,Ce)),!pe.keepError&&ui(n.errors,Ce),!pe.keepDirty&&ui(n.dirtyFields,Ce),!pe.keepTouched&&ui(n.touchedFields,Ce),!pe.keepIsValidating&&ui(n.validatingFields,Ce),!t.shouldUnregister&&!pe.keepDefaultValue&&ui(i,Ce);p.values.next({values:{...o}}),p.state.next({...n,...pe.keepDirty?{isDirty:G()}:{}}),!pe.keepIsValid&&w()},Ye=({disabled:Z,name:pe,field:Ce,fields:Qe,value:re})=>{if(Qs(Z)&&s.mount||Z){const de=Z?void 0:br(re)?eC(Ce?Ce._f:Ve(Qe,pe)._f):re;Hn(o,pe,de),U(pe,de,!1,!1,!0)}},lt=(Z,pe={})=>{let Ce=Ve(r,Z);const Qe=Qs(pe.disabled)||Qs(e.disabled);return Hn(r,Z,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:Z}},name:Z,mount:!0,...pe}}),a.mount.add(Z),Ce?Ye({field:Ce,disabled:Qs(pe.disabled)?pe.disabled:e.disabled,name:Z,value:pe.value}):j(Z,!0,pe.value),{...Qe?{disabled:pe.disabled||e.disabled}:{},...t.progressive?{required:!!pe.required,min:Gg(pe.min),max:Gg(pe.max),minLength:Gg(pe.minLength),maxLength:Gg(pe.maxLength),pattern:Gg(pe.pattern)}:{},name:Z,onChange:Y,onBlur:Y,ref:re=>{if(re){lt(Z,pe),Ce=Ve(r,Z);const de=br(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Re=AK(de),De=Ce._f.refs||[];if(Re?De.find(nt=>nt===de):de===Ce._f.ref)return;Hn(r,Z,{_f:{...Ce._f,...Re?{refs:[...De.filter(ZE),de,...Array.isArray(Ve(i,Z))?[{}]:[]],ref:{type:de.type,name:Z}}:{ref:de}}}),j(Z,!1,void 0,de)}else Ce=Ve(r,Z,{}),Ce._f&&(Ce._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(K2(a.array,Z)&&s.action)&&a.unMount.add(Z)}}},Ut=()=>t.shouldFocusError&&Np(r,Q,a.mount),Jt=Z=>{Qs(Z)&&(p.state.next({disabled:Z}),Np(r,(pe,Ce)=>{const Qe=Ve(r,Ce);Qe&&(pe.disabled=Qe._f.disabled||Z,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(re=>{re.disabled=Qe._f.disabled||Z}))},0,!1))},Bt=(Z,pe)=>async Ce=>{let Qe;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let re=gi(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:Re}=await z();n.errors=de,re=Re}else await X(r);if(ui(n.errors,"root"),Ro(n.errors)){p.state.next({errors:{}});try{await Z(re,Ce)}catch(de){Qe=de}}else pe&&await pe({...n.errors},Ce),Ut(),setTimeout(Ut);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ro(n.errors)&&!Qe,submitCount:n.submitCount+1,errors:n.errors}),Qe)throw Qe},qt=(Z,pe={})=>{Ve(r,Z)&&(br(pe.defaultValue)?ve(Z,gi(Ve(i,Z))):(ve(Z,pe.defaultValue),Hn(i,Z,gi(pe.defaultValue))),pe.keepTouched||ui(n.touchedFields,Z),pe.keepDirty||(ui(n.dirtyFields,Z),n.isDirty=pe.defaultValue?G(Z,gi(Ve(i,Z))):G()),pe.keepError||(ui(n.errors,Z),h.isValid&&w()),p.state.next({...n}))},Un=(Z,pe={})=>{const Ce=Z?gi(Z):i,Qe=gi(Ce),re=Ro(Z),de=re?i:Qe;if(pe.keepDefaultValues||(i=Ce),!pe.keepValues){if(pe.keepDirtyValues){const Re=new Set([...a.mount,...Object.keys(Hg(i,o))]);for(const De of Array.from(Re))Ve(n.dirtyFields,De)?Hn(de,De,Ve(o,De)):ve(De,Ve(de,De))}else{if(uk&&br(Z))for(const Re of a.mount){const De=Ve(r,Re);if(De&&De._f){const nt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(mS(nt)){const St=nt.closest("form");if(St){St.reset();break}}}}r={}}o=e.shouldUnregister?pe.keepDefaultValues?gi(i):{}:gi(de),p.array.next({values:{...de}}),p.values.next({values:{...de}})}a={mount:pe.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!h.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,s.watch=!!e.shouldUnregister,p.state.next({submitCount:pe.keepSubmitCount?n.submitCount:0,isDirty:re?!1:pe.keepDirty?n.isDirty:!!(pe.keepDefaultValues&&!bu(Z,i)),isSubmitted:pe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:pe.keepDirtyValues?pe.keepDefaultValues&&o?Hg(i,o):n.dirtyFields:pe.keepDefaultValues&&Z?Hg(i,Z):pe.keepDirty?n.dirtyFields:{},touchedFields:pe.keepTouched?n.touchedFields:{},errors:pe.keepErrors?n.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qn=(Z,pe)=>Un(nl(Z)?Z(o):Z,pe);return{control:{register:lt,unregister:Gt,getFieldState:Te,handleSubmit:Bt,setError:Le,_executeSchema:z,_getWatch:ee,_getDirty:G,_updateValid:w,_removeUnmounted:J,_updateFieldArray:_,_updateDisabledField:Ye,_getFieldArray:ce,_reset:Un,_resetDefaultValues:()=>nl(t.defaultValues)&&t.defaultValues().then(Z=>{Qn(Z,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:Z=>{n={...n,...Z}},_disableForm:Jt,_subjects:p,_proxyFormState:h,_setErrors:I,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(Z){s=Z},get _defaultValues(){return i},get _names(){return a},set _names(Z){a=Z},get _formState(){return n},set _formState(Z){n=Z},get _options(){return t},set _options(Z){t={...t,...Z}}},trigger:ne,register:lt,handleSubmit:Bt,watch:bt,setValue:ve,getValues:fe,reset:Qn,resetField:qt,clearErrors:He,unregister:Gt,setError:Le,setFocus:(Z,pe={})=>{const Ce=Ve(r,Z),Qe=Ce&&Ce._f;if(Qe){const re=Qe.refs?Qe.refs[0]:Qe.ref;re.focus&&(re.focus(),pe.shouldSelect&&re.select())}},getFieldState:Te}}function nh(e={}){const t=ht.useRef(),n=ht.useRef(),[r,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:nl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:nl(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...BK(e),formState:r});const o=t.current.control;return o._options=e,B_({subject:o._subjects.state,next:s=>{J2(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ht.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ht.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ht.useEffect(()=>{e.values&&!bu(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[e.values,o]),ht.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ht.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ht.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),ht.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=X2(r,o),t.current}function Fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ps(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Po(e,t){const n=Fn(e);return isNaN(t)?Ps(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ma(e,t){const n=Fn(e);if(isNaN(t))return Ps(e,NaN);if(!t)return n;const r=n.getDate(),i=Ps(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const gk=6048e5,$K=864e5;let VK={};function ky(){return VK}function _c(e,t){var a,c,l,h;const n=ky(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(l=n.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??0,i=Fn(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function zf(e){return _c(e,{weekStartsOn:1})}function lF(e){const t=Fn(e),n=t.getFullYear(),r=Ps(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=zf(r),o=Ps(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=zf(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Zp(e){const t=Fn(e);return t.setHours(0,0,0,0),t}function yS(e){const t=Fn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pc(e,t){const n=Zp(e),r=Zp(t),i=+n-yS(n),o=+r-yS(r);return Math.round((i-o)/$K)}function zK(e){const t=lF(e),n=Ps(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),zf(n)}function ZT(e,t){const n=t*7;return Po(e,n)}function WK(e,t){return Ma(e,t*12)}function HK(e){let t;return e.forEach(function(n){const r=Fn(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function GK(e){let t;return e.forEach(n=>{const r=Fn(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Yo(e,t){const n=Zp(e),r=Zp(t);return+n==+r}function vk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qK(e){if(!vk(e)&&typeof e!="number")return!1;const t=Fn(e);return!isNaN(Number(t))}function Zv(e,t){const n=Fn(e),r=Fn(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function KK(e,t,n){const r=_c(e,n),i=_c(t,n),o=+r-yS(r),s=+i-yS(i);return Math.round((o-s)/gk)}function yk(e){const t=Fn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ts(e){const t=Fn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function uF(e){const t=Fn(e),n=Ps(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bk(e,t){var a,c,l,h;const n=ky(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(l=n.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??0,i=Fn(e),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function dF(e){return bk(e,{weekStartsOn:1})}const YK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QK=(e,t,n)=>{let r;const i=YK[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const XK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eY={date:tC({formats:XK,defaultWidth:"full"}),time:tC({formats:JK,defaultWidth:"full"}),dateTime:tC({formats:ZK,defaultWidth:"full"})},tY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nY=(e,t,n,r)=>tY[e];function qg(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const rY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lY=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uY={ordinalNumber:lY,era:qg({values:rY,defaultWidth:"wide"}),quarter:qg({values:iY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qg({values:oY,defaultWidth:"wide"}),day:qg({values:sY,defaultWidth:"wide"}),dayPeriod:qg({values:aY,defaultWidth:"wide",formattingValues:cY,defaultFormattingWidth:"wide"})};function Kg(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?fY(a,p=>p.test(s)):dY(a,p=>p.test(s));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const h=t.slice(s.length);return{value:l,rest:h}}}function dY(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function fY(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function hY(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const pY=/^(\d+)(th|st|nd|rd)?/i,mY=/\d+/i,gY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vY={any:[/^b/i,/^(a|c)/i]},yY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bY={any:[/1/i,/2/i,/3/i,/4/i]},xY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Y={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TY={ordinalNumber:hY({matchPattern:pY,parsePattern:mY,valueCallback:e=>parseInt(e,10)}),era:Kg({matchPatterns:gY,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any"}),quarter:Kg({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kg({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:SY,defaultParseWidth:"any"}),day:Kg({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:wY,defaultParseWidth:"any"}),dayPeriod:Kg({matchPatterns:EY,defaultMatchWidth:"any",parsePatterns:CY,defaultParseWidth:"any"})},fF={code:"en-US",formatDistance:QK,formatLong:eY,formatRelative:nY,localize:uY,match:TY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RY(e){const t=Fn(e);return pc(t,uF(t))+1}function hF(e){const t=Fn(e),n=+zf(t)-+zK(t);return Math.round(n/gk)+1}function pF(e,t){var h,p,m,E;const n=Fn(e),r=n.getFullYear(),i=ky(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(m=i.locale)==null?void 0:m.options)==null?void 0:E.firstWeekContainsDate)??1,s=Ps(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=_c(s,t),c=Ps(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const l=_c(c,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function kY(e,t){var a,c,l,h;const n=ky(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(l=n.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??1,i=pF(e,t),o=Ps(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),_c(o,t)}function mF(e,t){const n=Fn(e),r=+_c(n,t)-+kY(n,t);return Math.round(r/gk)+1}function er(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const du={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return er(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):er(n+1,2)},d(e,t){return er(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return er(e.getHours()%12||12,t.length)},H(e,t){return er(e.getHours(),t.length)},m(e,t){return er(e.getMinutes(),t.length)},s(e,t){return er(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return er(i,t.length)}},op={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YN={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return du.y(e,t)},Y:function(e,t,n,r){const i=pF(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return er(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):er(o,t.length)},R:function(e,t){const n=lF(e);return er(n,t.length)},u:function(e,t){const n=e.getFullYear();return er(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return er(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return er(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return du.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return er(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=mF(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):er(i,t.length)},I:function(e,t,n){const r=hF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):er(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):du.d(e,t)},D:function(e,t,n){const r=RY(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):er(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return er(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return er(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return er(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=op.noon:r===0?i=op.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=op.evening:r>=12?i=op.afternoon:r>=4?i=op.morning:i=op.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return du.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):du.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):er(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):er(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):du.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):du.s(e,t)},S:function(e,t){return du.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return XN(r);case"XXXX":case"XX":return ff(r);case"XXXXX":case"XXX":default:return ff(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return XN(r);case"xxxx":case"xx":return ff(r);case"xxxxx":case"xxx":default:return ff(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QN(r,":");case"OOOO":default:return"GMT"+ff(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QN(r,":");case"zzzz":default:return"GMT"+ff(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return er(r,t.length)},T:function(e,t,n){const r=e.getTime();return er(r,t.length)}};function QN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+er(o,2)}function XN(e,t){return e%60===0?(e>0?"-":"+")+er(Math.abs(e)/60,2):ff(e,t)}function ff(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=er(Math.trunc(r/60),2),o=er(r%60,2);return n+i+t+o}const JN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OY=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return JN(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",JN(r,t)).replace("{{time}}",gF(i,t))},PY={p:gF,P:OY},NY=/^D+$/,IY=/^Y+$/,AY=["D","DD","YY","YYYY"];function jY(e){return NY.test(e)}function DY(e){return IY.test(e)}function MY(e,t,n){const r=LY(e,t,n);if(console.warn(r),AY.includes(e))throw new RangeError(r)}function LY(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BY=/^'([^]*?)'?$/,$Y=/''/g,VY=/[a-zA-Z]/;function ns(e,t,n){var h,p,m,E,x,y,w,R;const r=ky(),i=(n==null?void 0:n.locale)??r.locale??fF,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(m=r.locale)==null?void 0:m.options)==null?void 0:E.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((R=(w=r.locale)==null?void 0:w.options)==null?void 0:R.weekStartsOn)??0,a=Fn(e);if(!qK(a))throw new RangeError("Invalid time value");let c=t.match(UY).map(_=>{const C=_[0];if(C==="p"||C==="P"){const I=PY[C];return I(_,i.formatLong)}return _}).join("").match(FY).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const C=_[0];if(C==="'")return{isToken:!1,value:zY(_)};if(YN[C])return{isToken:!0,value:_};if(C.match(VY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const C=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&DY(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jY(C))&&MY(C,t,String(e));const I=YN[C[0]];return I(a,C,i.localize,l)}).join("")}function zY(e){const t=e.match(BY);return t?t[1].replace($Y,"'"):e}function WY(e){const t=Fn(e),n=t.getFullYear(),r=t.getMonth(),i=Ps(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function HY(e){return Math.trunc(+Fn(e)/1e3)}function GY(e){const t=Fn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function qY(e,t){return KK(GY(e),ts(e),t)+1}function e1(e,t){const n=Fn(e),r=Fn(t);return n.getTime()>r.getTime()}function vF(e,t){const n=Fn(e),r=Fn(t);return+n<+r}function xk(e,t){const n=Fn(e),r=Fn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function KY(e,t){const n=Fn(e),r=Fn(t);return n.getFullYear()===r.getFullYear()}function nC(e,t){return Po(e,-t)}function rC(e,t){const n=Fn(e),r=n.getFullYear(),i=n.getDate(),o=Ps(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const s=WY(o);return n.setMonth(t,Math.min(i,s)),n}function ZN(e,t){const n=Fn(e);return isNaN(+n)?Ps(e,NaN):(n.setFullYear(t),n)}const rh=RK,yF=P.createContext({}),Xt=({...e})=>u.jsx(yF.Provider,{value:{name:e.name},children:u.jsx(hk,{...e})}),$_=()=>{const e=P.useContext(yF),t=P.useContext(bF),{getFieldState:n,formState:r}=Ry(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},bF=P.createContext({}),Mt=P.forwardRef(({className:e,...t},n)=>{const r=P.useId();return u.jsx(bF.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:it("space-y-2",e),...t})})});Mt.displayName="FormItem";const Lt=P.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=$_();return u.jsx(Ai,{ref:n,className:it(r&&"text-destructive",e),htmlFor:i,...t})});Lt.displayName="FormLabel";const vn=P.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=$_();return u.jsx(xc,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});vn.displayName="FormControl";const YY=P.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=$_();return u.jsx("p",{ref:n,id:r,className:it("text-sm text-muted-foreground",e),...t})});YY.displayName="FormDescription";const Ft=P.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=$_(),s=i?String(i==null?void 0:i.message):t;return s?u.jsx("p",{ref:r,id:o,className:it("text-sm font-medium text-destructive",e),...n,children:s}):null});Ft.displayName="FormMessage";var Sk="Popover",[xF,Sae]=Tc(Sk,[Sm]),Oy=Sm(),[QY,ld]=xF(Sk),SF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=Oy(t),c=P.useRef(null),[l,h]=P.useState(!1),[p=!1,m]=pl({prop:r,defaultProp:i,onChange:o});return u.jsx(QR,{...a,children:u.jsx(QY,{scope:t,contentId:vc(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(E=>!E),[m]),hasCustomAnchor:l,onCustomAnchorAdd:P.useCallback(()=>h(!0),[]),onCustomAnchorRemove:P.useCallback(()=>h(!1),[]),modal:s,children:n})})};SF.displayName=Sk;var _F="PopoverAnchor",XY=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ld(_F,n),o=Oy(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return P.useEffect(()=>(s(),()=>a()),[s,a]),u.jsx(I_,{...o,...r,ref:t})});XY.displayName=_F;var wF="PopoverTrigger",EF=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ld(wF,n),o=Oy(n),s=xn(t,i.triggerRef),a=u.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":OF(i.open),...r,ref:s,onClick:Ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:u.jsx(I_,{asChild:!0,...o,children:a})});EF.displayName=wF;var _k="PopoverPortal",[JY,ZY]=xF(_k,{forceMount:void 0}),CF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=ld(_k,t);return u.jsx(JY,{scope:t,forceMount:n,children:u.jsx(uo,{present:n||o.open,children:u.jsx(mm,{asChild:!0,container:i,children:r})})})};CF.displayName=_k;var em="PopoverContent",TF=P.forwardRef((e,t)=>{const n=ZY(em,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=ld(em,e.__scopePopover);return u.jsx(uo,{present:r||o.open,children:o.modal?u.jsx(eQ,{...i,ref:t}):u.jsx(tQ,{...i,ref:t})})});TF.displayName=em;var eQ=P.forwardRef((e,t)=>{const n=ld(em,e.__scopePopover),r=P.useRef(null),i=xn(t,r),o=P.useRef(!1);return P.useEffect(()=>{const s=r.current;if(s)return D_(s)},[]),u.jsx(_y,{as:xc,allowPinchZoom:!0,children:u.jsx(RF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,l=a.button===2||c;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),tQ=P.forwardRef((e,t)=>{const n=ld(em,e.__scopePopover),r=P.useRef(!1),i=P.useRef(!1);return u.jsx(RF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),RF=P.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:h,...p}=e,m=ld(em,n),E=Oy(n);return k_(),u.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(pm,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(XR,{"data-state":OF(m.open),role:"dialog",id:m.contentId,...E,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kF="PopoverClose",nQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ld(kF,n);return u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});nQ.displayName=kF;var rQ="PopoverArrow",iQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Oy(n);return u.jsx(JR,{...i,...r,ref:t})});iQ.displayName=rQ;function OF(e){return e?"open":"closed"}var oQ=SF,sQ=EF,aQ=CF,PF=TF;const ey=oQ,ty=sQ,tm=P.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>u.jsx(aQ,{children:u.jsx(PF,{ref:i,align:t,sideOffset:n,className:it("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));tm.displayName=PF.displayName;var Wt=function(){return Wt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wt.apply(this,arguments)};function cQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function NF(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Py(e){return e.mode==="multiple"}function Ny(e){return e.mode==="range"}function V_(e){return e.mode==="single"}var lQ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function uQ(e,t){return ns(e,"LLLL y",t)}function dQ(e,t){return ns(e,"d",t)}function fQ(e,t){return ns(e,"LLLL",t)}function hQ(e){return"".concat(e)}function pQ(e,t){return ns(e,"cccccc",t)}function mQ(e,t){return ns(e,"yyyy",t)}var gQ=Object.freeze({__proto__:null,formatCaption:uQ,formatDay:dQ,formatMonthCaption:fQ,formatWeekNumber:hQ,formatWeekdayName:pQ,formatYearCaption:mQ}),vQ=function(e,t,n){return ns(e,"do MMMM (EEEE)",n)},yQ=function(){return"Month: "},bQ=function(){return"Go to next month"},xQ=function(){return"Go to previous month"},SQ=function(e,t){return ns(e,"cccc",t)},_Q=function(e){return"Week n. ".concat(e)},wQ=function(){return"Year: "},EQ=Object.freeze({__proto__:null,labelDay:vQ,labelMonthDropdown:yQ,labelNext:bQ,labelPrevious:xQ,labelWeekNumber:_Q,labelWeekday:SQ,labelYearDropdown:wQ});function CQ(){var e="buttons",t=lQ,n=fF,r={},i={},o=1,s={},a=new Date;return{captionLayout:e,classNames:t,formatters:gQ,labels:EQ,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function TQ(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,s=e.toDate;return r?o=ts(r):t&&(o=new Date(t,0,1)),i?s=yk(i):n&&(s=new Date(n,11,31)),{fromDate:o?Zp(o):void 0,toDate:s?Zp(s):void 0}}var IF=P.createContext(void 0);function RQ(e){var t,n=e.initialProps,r=CQ(),i=TQ(n),o=i.fromDate,s=i.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var c;(V_(n)||Py(n)||Ny(n))&&(c=n.onSelect);var l=Wt(Wt(Wt({},r),n),{captionLayout:a,classNames:Wt(Wt({},r.classNames),n.classNames),components:Wt({},n.components),formatters:Wt(Wt({},r.formatters),n.formatters),fromDate:o,labels:Wt(Wt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Wt(Wt({},r.modifiers),n.modifiers),modifiersClassNames:Wt(Wt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Wt(Wt({},r.styles),n.styles),toDate:s});return u.jsx(IF.Provider,{value:l,children:e.children})}function Sr(){var e=P.useContext(IF);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AF(e){var t=Sr(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function kQ(e){return u.jsx("svg",Wt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jF(e){var t,n,r=e.onChange,i=e.value,o=e.children,s=e.caption,a=e.className,c=e.style,l=Sr(),h=(n=(t=l.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:kQ;return u.jsxs("div",{className:a,style:c,children:[u.jsx("span",{className:l.classNames.vhidden,children:e["aria-label"]}),u.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:i,onChange:r,children:o}),u.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[s,u.jsx(h,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function OQ(e){var t,n=Sr(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,l=n.components,h=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var p=[];if(KY(r,i))for(var m=ts(r),E=r.getMonth();E<=i.getMonth();E++)p.push(rC(m,E));else for(var m=ts(new Date),E=0;E<=11;E++)p.push(rC(m,E));var x=function(w){var R=Number(w.target.value),_=rC(ts(e.displayMonth),R);e.onChange(_)},y=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:jF;return u.jsx(y,{name:"months","aria-label":h(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:s}),children:p.map(function(w){return u.jsx("option",{value:w.getMonth(),children:a(w,{locale:s})},w.getMonth())})})}function PQ(e){var t,n=e.displayMonth,r=Sr(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,c=r.classNames,l=r.components,h=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,m=[];if(!i)return u.jsx(u.Fragment,{});if(!o)return u.jsx(u.Fragment,{});for(var E=i.getFullYear(),x=o.getFullYear(),y=E;y<=x;y++)m.push(ZN(uF(new Date),y));var w=function(_){var C=ZN(ts(n),Number(_.target.value));e.onChange(C)},R=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:jF;return u.jsx(R,{name:"years","aria-label":p(),className:c.dropdown_year,style:a.dropdown_year,onChange:w,value:n.getFullYear(),caption:h(n,{locale:s}),children:m.map(function(_){return u.jsx("option",{value:_.getFullYear(),children:h(_,{locale:s})},_.getFullYear())})})}function NQ(e,t){var n=P.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function IQ(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,s=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&Zv(o,i)<0){var l=-1*(c-1);i=Ma(o,l)}return s&&Zv(i,s)<0&&(i=s),ts(i)}function AQ(){var e=Sr(),t=IQ(e),n=NQ(t,e.month),r=n[0],i=n[1],o=function(s){var a;if(!e.disableNavigation){var c=ts(s);i(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,o]}function jQ(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=ts(e),o=ts(Ma(i,r)),s=Zv(o,i),a=[],c=0;c<s;c++){var l=Ma(i,c);a.push(l)}return n&&(a=a.reverse()),a}function DQ(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=ts(e);if(!n)return Ma(a,s);var c=Zv(n,e);if(!(c<o))return Ma(a,s)}}function MQ(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=ts(e);if(!n)return Ma(a,-s);var c=Zv(a,n);if(!(c<=0))return Ma(a,-s)}}var DF=P.createContext(void 0);function LQ(e){var t=Sr(),n=AQ(),r=n[0],i=n[1],o=jQ(r,t),s=DQ(r,t),a=MQ(r,t),c=function(p){return o.some(function(m){return xk(p,m)})},l=function(p,m){c(p)||(m&&vF(p,m)?i(Ma(p,1+t.numberOfMonths*-1)):i(p))},h={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:l,previousMonth:a,nextMonth:s,isDateDisplayed:c};return u.jsx(DF.Provider,{value:h,children:e.children})}function Iy(){var e=P.useContext(DF);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function eI(e){var t,n=Sr(),r=n.classNames,i=n.styles,o=n.components,s=Iy().goToMonth,a=function(h){s(Ma(h,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:AF,l=u.jsx(c,{id:e.id,displayMonth:e.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:l}),u.jsx(OQ,{onChange:a,displayMonth:e.displayMonth}),u.jsx(PQ,{onChange:a,displayMonth:e.displayMonth})]})}function FQ(e){return u.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UQ(e){return u.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var bS=P.forwardRef(function(e,t){var n=Sr(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var s=o.join(" "),a=Wt(Wt({},i.button_reset),i.button);return e.style&&Object.assign(a,e.style),u.jsx("button",Wt({},e,{ref:t,type:"button",className:s,style:a}))});function BQ(e){var t,n,r=Sr(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,c=r.labels,l=c.labelPrevious,h=c.labelNext,p=r.components;if(!e.nextMonth&&!e.previousMonth)return u.jsx(u.Fragment,{});var m=l(e.previousMonth,{locale:o}),E=[s.nav_button,s.nav_button_previous].join(" "),x=h(e.nextMonth,{locale:o}),y=[s.nav_button,s.nav_button_next].join(" "),w=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:UQ,R=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:FQ;return u.jsxs("div",{className:s.nav,style:a.nav,children:[!e.hidePrevious&&u.jsx(bS,{name:"previous-month","aria-label":m,className:E,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?u.jsx(w,{className:s.nav_icon,style:a.nav_icon}):u.jsx(R,{className:s.nav_icon,style:a.nav_icon})}),!e.hideNext&&u.jsx(bS,{name:"next-month","aria-label":x,className:y,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?u.jsx(R,{className:s.nav_icon,style:a.nav_icon}):u.jsx(w,{className:s.nav_icon,style:a.nav_icon})})]})}function tI(e){var t=Sr().numberOfMonths,n=Iy(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(x){return xk(e.displayMonth,x)}),c=a===0,l=a===s.length-1,h=t>1&&(c||!l),p=t>1&&(l||!c),m=function(){r&&o(r)},E=function(){i&&o(i)};return u.jsx(BQ,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:p,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:E})}function $Q(e){var t,n=Sr(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:AF,l;return i?l=u.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?l=u.jsx(eI,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?l=u.jsxs(u.Fragment,{children:[u.jsx(eI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),u.jsx(tI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):l=u.jsxs(u.Fragment,{children:[u.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),u.jsx(tI,{displayMonth:e.displayMonth,id:e.id})]}),u.jsx("div",{className:r.caption,style:o.caption,children:l})}function VQ(e){var t=Sr(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function zQ(e,t,n){for(var r=n?zf(new Date):_c(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var s=Po(r,o);i.push(s)}return i}function WQ(){var e=Sr(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,s=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,l=zQ(i,o,s);return u.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:t.head_cell}),l.map(function(h,p){return u.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(h,{locale:i}),children:a(h,{locale:i})},p)})]})}function HQ(){var e,t=Sr(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:WQ;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(o,{})})}function GQ(e){var t=Sr(),n=t.locale,r=t.formatters.formatDay;return u.jsx(u.Fragment,{children:r(e.date,{locale:n})})}var wk=P.createContext(void 0);function qQ(e){if(!Py(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return u.jsx(wk.Provider,{value:t,children:e.children})}return u.jsx(KQ,{initialProps:e.initialProps,children:e.children})}function KQ(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,s=function(l,h,p){var m,E;(m=t.onDayClick)===null||m===void 0||m.call(t,l,h,p);var x=!!(h.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var y=!!(!h.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var w=r?NF([],r):[];if(h.selected){var R=w.findIndex(function(_){return Yo(l,_)});w.splice(R,1)}else w.push(l);(E=t.onSelect)===null||E===void 0||E.call(t,w,l,h,p)}}},a={disabled:[]};r&&a.disabled.push(function(l){var h=o&&r.length>o-1,p=r.some(function(m){return Yo(m,l)});return!!(h&&!p)});var c={selected:r,onDayClick:s,modifiers:a};return u.jsx(wk.Provider,{value:c,children:n})}function Ek(){var e=P.useContext(wk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function YQ(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Yo(i,e)&&Yo(r,e)?void 0:Yo(i,e)?{from:i,to:void 0}:Yo(r,e)?void 0:e1(r,e)?{from:e,to:i}:{from:r,to:e}:i?e1(e,i)?{from:i,to:e}:{from:e,to:i}:r?vF(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Ck=P.createContext(void 0);function QQ(e){if(!Ny(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(Ck.Provider,{value:t,children:e.children})}return u.jsx(XQ,{initialProps:e.initialProps,children:e.children})}function XQ(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,s=i.to,a=t.min,c=t.max,l=function(E,x,y){var w,R;(w=t.onDayClick)===null||w===void 0||w.call(t,E,x,y);var _=YQ(E,r);(R=t.onSelect)===null||R===void 0||R.call(t,_,E,x,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],s?(h.range_end=[s],Yo(o,s)||(h.range_middle=[{after:o,before:s}])):h.range_end=[o]):s&&(h.range_start=[s],h.range_end=[s]),a&&(o&&!s&&h.disabled.push({after:nC(o,a-1),before:Po(o,a-1)}),o&&s&&h.disabled.push({after:o,before:Po(o,a-1)}),!o&&s&&h.disabled.push({after:nC(s,a-1),before:Po(s,a-1)})),c){if(o&&!s&&(h.disabled.push({before:Po(o,-c+1)}),h.disabled.push({after:Po(o,c-1)})),o&&s){var p=pc(s,o)+1,m=c-p;h.disabled.push({before:nC(o,m)}),h.disabled.push({after:Po(s,m)})}!o&&s&&(h.disabled.push({before:Po(s,-c+1)}),h.disabled.push({after:Po(s,c-1)}))}return u.jsx(Ck.Provider,{value:{selected:r,onDayClick:l,modifiers:h},children:n})}function Tk(){var e=P.useContext(Ck);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $b(e){return Array.isArray(e)?NF([],e):e!==void 0?[e]:[]}function JQ(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=$b(i)}),t}var La;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(La||(La={}));var ZQ=La.Selected,qc=La.Disabled,eX=La.Hidden,tX=La.Today,iC=La.RangeEnd,oC=La.RangeMiddle,sC=La.RangeStart,nX=La.Outside;function rX(e,t,n){var r,i=(r={},r[ZQ]=$b(e.selected),r[qc]=$b(e.disabled),r[eX]=$b(e.hidden),r[tX]=[e.today],r[iC]=[],r[oC]=[],r[sC]=[],r[nX]=[],r);return e.fromDate&&i[qc].push({before:e.fromDate}),e.toDate&&i[qc].push({after:e.toDate}),Py(e)?i[qc]=i[qc].concat(t.modifiers[qc]):Ny(e)&&(i[qc]=i[qc].concat(n.modifiers[qc]),i[sC]=n.modifiers[sC],i[oC]=n.modifiers[oC],i[iC]=n.modifiers[iC]),i}var MF=P.createContext(void 0);function iX(e){var t=Sr(),n=Ek(),r=Tk(),i=rX(t,n,r),o=JQ(t.modifiers),s=Wt(Wt({},i),o);return u.jsx(MF.Provider,{value:s,children:e.children})}function LF(){var e=P.useContext(MF);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function oX(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function sX(e){return!!(e&&typeof e=="object"&&"from"in e)}function aX(e){return!!(e&&typeof e=="object"&&"after"in e)}function cX(e){return!!(e&&typeof e=="object"&&"before"in e)}function lX(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function uX(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=pc(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=pc(e,r)>=0&&pc(i,e)>=0;return s}return i?Yo(i,e):r?Yo(r,e):!1}function dX(e){return vk(e)}function fX(e){return Array.isArray(e)&&e.every(vk)}function hX(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(dX(n))return Yo(e,n);if(fX(n))return n.includes(e);if(sX(n))return uX(e,n);if(lX(n))return n.dayOfWeek.includes(e.getDay());if(oX(n)){var r=pc(n.before,e),i=pc(n.after,e),o=r>0,s=i<0,a=e1(n.before,n.after);return a?s&&o:o||s}return aX(n)?pc(e,n.after)>0:cX(n)?pc(n.before,e)>0:typeof n=="function"?n(e):!1})}function Rk(e,t,n){var r=Object.keys(t).reduce(function(o,s){var a=t[s];return hX(e,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!xk(e,n)&&(i.outside=!0),i}function pX(e,t){for(var n=ts(e[0]),r=yk(e[e.length-1]),i,o,s=n;s<=r;){var a=Rk(s,t),c=!a.disabled&&!a.hidden;if(!c){s=Po(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Po(s,1)}return o||i}var mX=365;function FF(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,s=t.retry,a=s===void 0?{count:0,lastFocused:e}:s,c=i.weekStartsOn,l=i.fromDate,h=i.toDate,p=i.locale,m={day:Po,week:ZT,month:Ma,year:WK,startOfWeek:function(w){return i.ISOWeek?zf(w):_c(w,{locale:p,weekStartsOn:c})},endOfWeek:function(w){return i.ISOWeek?dF(w):bk(w,{locale:p,weekStartsOn:c})}},E=m[n](e,r==="after"?1:-1);r==="before"&&l?E=HK([l,E]):r==="after"&&h&&(E=GK([h,E]));var x=!0;if(o){var y=Rk(E,o);x=!y.disabled&&!y.hidden}return x?E:a.count>mX?a.lastFocused:FF(E,{moveBy:n,direction:r,context:i,modifiers:o,retry:Wt(Wt({},a),{count:a.count+1})})}var UF=P.createContext(void 0);function gX(e){var t=Iy(),n=LF(),r=P.useState(),i=r[0],o=r[1],s=P.useState(),a=s[0],c=s[1],l=pX(t.displayMonths,n),h=i??(a&&t.isDateDisplayed(a))?a:l,p=function(){c(i),o(void 0)},m=function(w){o(w)},E=Sr(),x=function(w,R){if(i){var _=FF(i,{moveBy:w,direction:R,context:E,modifiers:n});Yo(i,_)||(t.goToDate(_,i),m(_))}},y={focusedDay:i,focusTarget:h,blur:p,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return u.jsx(UF.Provider,{value:y,children:e.children})}function kk(){var e=P.useContext(UF);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function vX(e,t){var n=LF(),r=Rk(e,n,t);return r}var Ok=P.createContext(void 0);function yX(e){if(!V_(e.initialProps)){var t={selected:void 0};return u.jsx(Ok.Provider,{value:t,children:e.children})}return u.jsx(bX,{initialProps:e.initialProps,children:e.children})}function bX(e){var t=e.initialProps,n=e.children,r=function(o,s,a){var c,l,h;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,s,a),s.selected&&!t.required){(l=t.onSelect)===null||l===void 0||l.call(t,void 0,o,s,a);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,s,a)},i={selected:t.selected,onDayClick:r};return u.jsx(Ok.Provider,{value:i,children:n})}function BF(){var e=P.useContext(Ok);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function xX(e,t){var n=Sr(),r=BF(),i=Ek(),o=Tk(),s=kk(),a=s.focusDayAfter,c=s.focusDayBefore,l=s.focusWeekAfter,h=s.focusWeekBefore,p=s.blur,m=s.focus,E=s.focusMonthBefore,x=s.focusMonthAfter,y=s.focusYearBefore,w=s.focusYearAfter,R=s.focusStartOfWeek,_=s.focusEndOfWeek,C=function(ve){var Y,Q,ne,fe;V_(n)?(Y=r.onDayClick)===null||Y===void 0||Y.call(r,e,t,ve):Py(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,ve):Ny(n)?(ne=o.onDayClick)===null||ne===void 0||ne.call(o,e,t,ve):(fe=n.onDayClick)===null||fe===void 0||fe.call(n,e,t,ve)},I=function(ve){var Y;m(e),(Y=n.onDayFocus)===null||Y===void 0||Y.call(n,e,t,ve)},j=function(ve){var Y;p(),(Y=n.onDayBlur)===null||Y===void 0||Y.call(n,e,t,ve)},U=function(ve){var Y;(Y=n.onDayMouseEnter)===null||Y===void 0||Y.call(n,e,t,ve)},$=function(ve){var Y;(Y=n.onDayMouseLeave)===null||Y===void 0||Y.call(n,e,t,ve)},z=function(ve){var Y;(Y=n.onDayPointerEnter)===null||Y===void 0||Y.call(n,e,t,ve)},q=function(ve){var Y;(Y=n.onDayPointerLeave)===null||Y===void 0||Y.call(n,e,t,ve)},X=function(ve){var Y;(Y=n.onDayTouchCancel)===null||Y===void 0||Y.call(n,e,t,ve)},J=function(ve){var Y;(Y=n.onDayTouchEnd)===null||Y===void 0||Y.call(n,e,t,ve)},G=function(ve){var Y;(Y=n.onDayTouchMove)===null||Y===void 0||Y.call(n,e,t,ve)},ee=function(ve){var Y;(Y=n.onDayTouchStart)===null||Y===void 0||Y.call(n,e,t,ve)},ce=function(ve){var Y;(Y=n.onDayKeyUp)===null||Y===void 0||Y.call(n,e,t,ve)},xe=function(ve){var Y;switch(ve.key){case"ArrowLeft":ve.preventDefault(),ve.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":ve.preventDefault(),ve.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":ve.preventDefault(),ve.stopPropagation(),l();break;case"ArrowUp":ve.preventDefault(),ve.stopPropagation(),h();break;case"PageUp":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?y():E();break;case"PageDown":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?w():x();break;case"Home":ve.preventDefault(),ve.stopPropagation(),R();break;case"End":ve.preventDefault(),ve.stopPropagation(),_();break}(Y=n.onDayKeyDown)===null||Y===void 0||Y.call(n,e,t,ve)},Se={onClick:C,onFocus:I,onBlur:j,onKeyDown:xe,onKeyUp:ce,onMouseEnter:U,onMouseLeave:$,onPointerEnter:z,onPointerLeave:q,onTouchCancel:X,onTouchEnd:J,onTouchMove:G,onTouchStart:ee};return Se}function SX(){var e=Sr(),t=BF(),n=Ek(),r=Tk(),i=V_(e)?t.selected:Py(e)?n.selected:Ny(e)?r.selected:void 0;return i}function _X(e){return Object.values(La).includes(e)}function wX(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(_X(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function EX(e,t){var n=Wt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Wt(Wt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function CX(e,t,n){var r,i,o,s=Sr(),a=kk(),c=vX(e,t),l=xX(e,c),h=SX(),p=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var U;c.outside||a.focusedDay&&p&&Yo(a.focusedDay,e)&&((U=n.current)===null||U===void 0||U.focus())},[a.focusedDay,e,n,p,c.outside]);var m=wX(s,c).join(" "),E=EX(s,c),x=!!(c.outside&&!s.showOutsideDays||c.hidden),y=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:GQ,w=u.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),R={style:E,className:m,children:w,role:"gridcell"},_=a.focusTarget&&Yo(a.focusTarget,e)&&!c.outside,C=a.focusedDay&&Yo(a.focusedDay,e),I=Wt(Wt(Wt({},R),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=C||_?0:-1,r)),l),j={isButton:p,isHidden:x,activeModifiers:c,selectedDays:h,buttonProps:I,divProps:R};return j}function TX(e){var t=P.useRef(null),n=CX(e.date,e.displayMonth,t);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(bS,Wt({name:"day",ref:t},n.buttonProps)):u.jsx("div",Wt({},n.divProps))}function RX(e){var t=e.number,n=e.dates,r=Sr(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,l=r.formatters.formatWeekNumber,h=l(Number(t),{locale:a});if(!i)return u.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:h});var p=c(Number(t),{locale:a}),m=function(E){i(t,n,E)};return u.jsx(bS,{name:"week-number","aria-label":p,className:s.weeknumber,style:o.weeknumber,onClick:m,children:h})}function kX(e){var t,n,r=Sr(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:TX,l=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:RX,h;return s&&(h=u.jsx("td",{className:o.cell,style:i.cell,children:u.jsx(l,{number:e.weekNumber,dates:e.dates})})),u.jsxs("tr",{className:o.row,style:i.row,children:[h,e.dates.map(function(p){return u.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:u.jsx(c,{displayMonth:e.displayMonth,date:p})},HY(p))})]})}function nI(e,t,n){for(var r=n!=null&&n.ISOWeek?dF(t):bk(t,n),i=n!=null&&n.ISOWeek?zf(e):_c(e,n),o=pc(r,i),s=[],a=0;a<=o;a++)s.push(Po(i,a));var c=s.reduce(function(l,h){var p=n!=null&&n.ISOWeek?hF(h):mF(h,n),m=l.find(function(E){return E.weekNumber===p});return m?(m.dates.push(h),l):(l.push({weekNumber:p,dates:[h]}),l)},[]);return c}function OX(e,t){var n=nI(ts(e),yk(e),t);if(t!=null&&t.useFixedWeeks){var r=qY(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=ZT(o,6-r),a=nI(ZT(o,1),s,t);n.push.apply(n,a)}}return n}function PX(e){var t,n,r,i=Sr(),o=i.locale,s=i.classNames,a=i.styles,c=i.hideHead,l=i.fixedWeeks,h=i.components,p=i.weekStartsOn,m=i.firstWeekContainsDate,E=i.ISOWeek,x=OX(e.displayMonth,{useFixedWeeks:!!l,ISOWeek:E,locale:o,weekStartsOn:p,firstWeekContainsDate:m}),y=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:HQ,w=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:kX,R=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:VQ;return u.jsxs("table",{id:e.id,className:s.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&u.jsx(y,{}),u.jsx("tbody",{className:s.tbody,style:a.tbody,children:x.map(function(_){return u.jsx(w,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),u.jsx(R,{displayMonth:e.displayMonth})]})}function NX(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var IX=NX()?P.useLayoutEffect:P.useEffect,aC=!1,AX=0;function rI(){return"react-day-picker-".concat(++AX)}function jX(e){var t,n=e??(aC?rI():null),r=P.useState(n),i=r[0],o=r[1];return IX(function(){i===null&&o(rI())},[]),P.useEffect(function(){aC===!1&&(aC=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function DX(e){var t,n,r=Sr(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,c=Iy().displayMonths,l=jX(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,p=[o.month],m=s.month,E=e.displayIndex===0,x=e.displayIndex===c.length-1,y=!E&&!x;i==="rtl"&&(t=[E,x],x=t[0],E=t[1]),E&&(p.push(o.caption_start),m=Wt(Wt({},m),s.caption_start)),x&&(p.push(o.caption_end),m=Wt(Wt({},m),s.caption_end)),y&&(p.push(o.caption_between),m=Wt(Wt({},m),s.caption_between));var w=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:$Q;return u.jsxs("div",{className:p.join(" "),style:m,children:[u.jsx(w,{id:l,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),u.jsx(PX,{id:h,"aria-labelledby":l,displayMonth:e.displayMonth})]},e.displayIndex)}function MX(e){var t=Sr(),n=t.classNames,r=t.styles;return u.jsx("div",{className:n.months,style:r.months,children:e.children})}function LX(e){var t,n,r=e.initialProps,i=Sr(),o=kk(),s=Iy(),a=P.useState(!1),c=a[0],l=a[1];P.useEffect(function(){i.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),l(!0)))},[i.initialFocus,c,o.focus,o.focusTarget,o]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var p=Wt(Wt({},i.styles.root),i.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var w;return Wt(Wt({},x),(w={},w[y]=r[y],w))},{}),E=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:MX;return u.jsx("div",Wt({className:h.join(" "),style:p,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:u.jsx(E,{children:s.displayMonths.map(function(x,y){return u.jsx(DX,{displayIndex:y,displayMonth:x},y)})})}))}function FX(e){var t=e.children,n=cQ(e,["children"]);return u.jsx(RQ,{initialProps:n,children:u.jsx(LQ,{children:u.jsx(yX,{initialProps:n,children:u.jsx(qQ,{initialProps:n,children:u.jsx(QQ,{initialProps:n,children:u.jsx(iX,{children:u.jsx(gX,{children:t})})})})})})})}function UX(e){return u.jsx(FX,Wt({},e,{children:u.jsx(LX,{initialProps:e})}))}function nm({className:e,classNames:t,showOutsideDays:n=!0,...r}){return u.jsx(UX,{showOutsideDays:n,className:it("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:it(VT({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:it(VT({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>u.jsx(Gz,{className:"h-4 w-4"}),IconRight:({...i})=>u.jsx(PR,{className:"h-4 w-4"})},...r})}nm.displayName="Calendar";var Pk="Dialog",[$F,_ae]=Tc(Pk),[BX,Ua]=$F(Pk),VF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=P.useRef(null),c=P.useRef(null),[l=!1,h]=pl({prop:r,defaultProp:i,onChange:o});return u.jsx(BX,{scope:t,triggerRef:a,contentRef:c,contentId:vc(),titleId:vc(),descriptionId:vc(),open:l,onOpenChange:h,onOpenToggle:P.useCallback(()=>h(p=>!p),[h]),modal:s,children:n})};VF.displayName=Pk;var zF="DialogTrigger",$X=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(zF,n),o=xn(t,i.triggerRef);return u.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ak(i.open),...r,ref:o,onClick:Ke(e.onClick,i.onOpenToggle)})});$X.displayName=zF;var Nk="DialogPortal",[VX,WF]=$F(Nk,{forceMount:void 0}),HF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Ua(Nk,t);return u.jsx(VX,{scope:t,forceMount:n,children:P.Children.map(r,s=>u.jsx(uo,{present:n||o.open,children:u.jsx(mm,{asChild:!0,container:i,children:s})}))})};HF.displayName=Nk;var xS="DialogOverlay",GF=P.forwardRef((e,t)=>{const n=WF(xS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ua(xS,e.__scopeDialog);return o.modal?u.jsx(uo,{present:r||o.open,children:u.jsx(zX,{...i,ref:t})}):null});GF.displayName=xS;var zX=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(xS,n);return u.jsx(_y,{as:xc,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Pt.div,{"data-state":Ak(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Wf="DialogContent",qF=P.forwardRef((e,t)=>{const n=WF(Wf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ua(Wf,e.__scopeDialog);return u.jsx(uo,{present:r||o.open,children:o.modal?u.jsx(WX,{...i,ref:t}):u.jsx(HX,{...i,ref:t})})});qF.displayName=Wf;var WX=P.forwardRef((e,t)=>{const n=Ua(Wf,e.__scopeDialog),r=P.useRef(null),i=xn(t,n.contentRef,r);return P.useEffect(()=>{const o=r.current;if(o)return D_(o)},[]),u.jsx(KF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault())})}),HX=P.forwardRef((e,t)=>{const n=Ua(Wf,e.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return u.jsx(KF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),KF=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=Ua(Wf,n),c=P.useRef(null),l=xn(t,c);return k_(),u.jsxs(u.Fragment,{children:[u.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(pm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ak(a.open),...s,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(GX,{titleId:a.titleId}),u.jsx(KX,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Ik="DialogTitle",YF=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(Ik,n);return u.jsx(Pt.h2,{id:i.titleId,...r,ref:t})});YF.displayName=Ik;var QF="DialogDescription",XF=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(QF,n);return u.jsx(Pt.p,{id:i.descriptionId,...r,ref:t})});XF.displayName=QF;var JF="DialogClose",ZF=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(JF,n);return u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});ZF.displayName=JF;function Ak(e){return e?"open":"closed"}var eU="DialogTitleWarning",[wae,tU]=nz(eU,{contentName:Wf,titleName:Ik,docsSlug:"dialog"}),GX=({titleId:e})=>{const t=tU(eU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qX="DialogDescriptionWarning",KX=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tU(qX).contentName}}.`;return P.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},YX=VF,QX=HF,nU=GF,rU=qF,iU=YF,oU=XF,sU=ZF;const ud=YX,XX=QX,JX=sU,aU=P.forwardRef(({className:e,...t},n)=>u.jsx(nU,{ref:n,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aU.displayName=nU.displayName;const wl=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(XX,{children:[u.jsx(aU,{}),u.jsxs(rU,{ref:r,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(sU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(cd,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wl.displayName=rU.displayName;const El=({className:e,...t})=>u.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});El.displayName="DialogHeader";const Cl=P.forwardRef(({className:e,...t},n)=>u.jsx(iU,{ref:n,className:it("text-lg font-semibold leading-none tracking-tight",e),...t}));Cl.displayName=iU.displayName;const ZX=P.forwardRef(({className:e,...t},n)=>u.jsx(oU,{ref:n,className:it("text-sm text-muted-foreground",e),...t}));ZX.displayName=oU.displayName;const eJ=({defaultValues:e,onSubmit:t,onCancel:n})=>{const r=nh({defaultValues:e});return u.jsx(rh,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-4",children:[u.jsx(Xt,{control:r.control,name:"mobile",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Mobile"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter mobile",...i,readOnly:!0})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"dob",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Date of Birth"}),u.jsx(vn,{children:u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!i.value&&"text-muted-foreground"),children:[i.value?ns(i.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(Qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(tm,{className:"w-auto p-0",align:"start",children:u.jsx(nm,{mode:"single",selected:i.value,onSelect:i.onChange,initialFocus:!0})})]})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"balance",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Balance"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"0",...i,onChange:o=>i.onChange(Number(o.target.value))})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:i=>{i.preventDefault(),r.reset(),n()},children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Update"})]})]})})},tJ=({open:e,setOpen:t,defaultValues:n,onUpdate:r})=>{const i=()=>{t(!1)};return u.jsx(ud,{open:e,onOpenChange:t,children:u.jsxs(wl,{children:[u.jsx(El,{children:u.jsx(Cl,{children:"Edit User"})}),u.jsx(eJ,{defaultValues:n,onSubmit:r,onCancel:i})]})})},As=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:it("w-full caption-bottom text-sm",e),...t})}));As.displayName="Table";const js=P.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:it("[&_tr]:border-b",e),...t}));js.displayName="TableHeader";const Ds=P.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:it("[&_tr:last-child]:border-0",e),...t}));Ds.displayName="TableBody";const nJ=P.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:it("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nJ.displayName="TableFooter";const Tn=P.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:it("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Tn.displayName="TableRow";const qe=P.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:it("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qe.displayName="TableHead";const Fe=P.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:it("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableCell";const rJ=P.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:it("mt-4 text-sm text-muted-foreground",e),...t}));rJ.displayName="TableCaption";const iJ=({users:e,isLoading:t,handleEdit:n,handleToggleStatus:r})=>{const i=Sl();return u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Role"}),u.jsx(qe,{children:"Date of Birth"}),u.jsx(qe,{children:"Language"}),u.jsx(qe,{children:" Point"}),u.jsx(qe,{children:"Balance"}),u.jsx(qe,{children:"Refer Code"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Last Login"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:t?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):e.map(o=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:o.mobile}),u.jsx(Fe,{children:o.userRole}),u.jsx(Fe,{children:o.dob?new Date(o.dob).toLocaleDateString():"-"}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o.lang})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o==null?void 0:o.points})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o==null?void 0:o.balance})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o.referralCode})}),u.jsxs(Fe,{children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.isVerified?"Verified":"Not Verified"}),o.isBlocked&&u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 ms-2",children:"Blocked"})]}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(o.lastLoginAt).toLocaleDateString()}),u.jsx("span",{children:new Date(o.lastLoginAt).toLocaleTimeString()})]})}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>n(o),children:u.jsx(NR,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>r(o._id),children:u.jsx(Vz,{className:"h-4 w-4 text-red-600"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{i(`/dashboard/userDetails/${o._id}`)},children:u.jsx(Yz,{className:"h-4 w-4"})})]})})]},o._id))})]})})},oJ=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),[i,o]=P.useState(""),{users:s,isLoading:a,currentPage:c,totalPages:l}=Nn(y=>y.user),h=Yn();P.useEffect(()=>{p(1)},[i]);const p=y=>{h(Lb({page:y,search:i}))},m=y=>{h(Fb(y))},E=y=>{r(y),t(!0)},x=y=>{h(Ub({mobile:y.mobile,dob:y.dob,balance:y.balance})).then(w=>{w.type==="updateUser/fulfilled"&&(t(!1),Bu({title:"User updated successfully",description:"User details has been updated successfully"}))})};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Users Management"})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search user by mobile",value:i,onChange:y=>{o(y.target.value)},className:"max-w-sm"})}),u.jsx(tJ,{open:e,setOpen:t,defaultValues:n,onUpdate:x}),u.jsx(iJ,{users:s,isLoading:a,handleEdit:E,handleToggleStatus:m}),l>=1&&u.jsx(sa,{currentPage:c,totalPages:l,onPageChange:p})]})},iI=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ve(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},cU=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?iI(r.ref,n,e):r.refs&&r.refs.forEach(i=>iI(i,n,e))}},sJ=(e,t)=>{t.shouldUseNativeValidation&&cU(e,t);const n={};for(const r in e){const i=Ve(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(aJ(t.names||Object.keys(e),r)){const s=Object.assign({},Ve(n,r));Hn(s,"root",o),Hn(n,r,s)}else Hn(n,r,o)}return n},aJ=(e,t)=>e.some(n=>n.startsWith(t+"."));var cJ=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return e.push(p)})}),t){var c=n[s].types,l=c&&c[r.code];n[s]=tF(s,t,n,i,l?[].concat(l,r.message):r.message)}e.shift()}return n},Ay=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return o.shouldUseNativeValidation&&cU({},o),{errors:{},values:n.raw?r:l}})}catch(l){return a(l)}return c&&c.then?c.then(void 0,a):c}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:sJ(cJ(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}};const ih=P.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ih.displayName="Textarea";function lJ({form:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Xt,{control:e.control,name:"title",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter quiz title",...t})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"description",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Description"}),u.jsx(vn,{children:u.jsx(ih,{placeholder:"Enter quiz description",...t})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"bonusPercent",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Refer Percentage"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Enter refer bonus percentage",...t,onChange:n=>t.onChange(Number(n.target.value))})}),u.jsx(Ft,{})]})})]})}function uJ({form:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:e.control,name:"startDate",render:({field:t})=>u.jsxs(Mt,{className:"flex flex-col",children:[u.jsx(Lt,{children:"Start Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(Qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(tm,{className:"w-auto p-0",align:"start",children:u.jsx(nm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date||n<new Date("1900-01-01"),initialFocus:!0})})]}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"endDate",render:({field:t})=>u.jsxs(Mt,{className:"flex flex-col",children:[u.jsx(Lt,{children:"End Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(Qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(tm,{className:"w-auto p-0",align:"start",children:u.jsx(nm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date||n<new Date("1900-01-01"),initialFocus:!0})})]}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:e.control,name:"duration",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Duration (minutes)"}),u.jsx(vn,{children:u.jsx(sn,{min:0,step:1,type:"number",placeholder:"0",...t,onChange:n=>t.onChange(parseInt(n.target.value))})}),u.jsx(Ft,{})]})})]})}function jk(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Dk="Radio",[dJ,lU]=Tc(Dk),[fJ,hJ]=dJ(Dk),uU=P.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:c,form:l,...h}=e,[p,m]=P.useState(null),E=xn(t,w=>m(w)),x=P.useRef(!1),y=p?l||!!p.closest("form"):!0;return u.jsxs(fJ,{scope:n,checked:i,disabled:s,children:[u.jsx(Pt.button,{type:"button",role:"radio","aria-checked":i,"data-state":hU(i),"data-disabled":s?"":void 0,disabled:s,value:a,...h,ref:E,onClick:Ke(e.onClick,w=>{i||c==null||c(),y&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),y&&u.jsx(pJ,{control:p,bubbles:!x.current,name:r,value:a,checked:i,required:o,disabled:s,form:l,style:{transform:"translateX(-100%)"}})]})});uU.displayName=Dk;var dU="RadioIndicator",fU=P.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=hJ(dU,n);return u.jsx(uo,{present:r||o.checked,children:u.jsx(Pt.span,{"data-state":hU(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});fU.displayName=dU;var pJ=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=P.useRef(null),s=jk(n),a=qR(t);return P.useEffect(()=>{const c=o.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[s,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hU(e){return e?"checked":"unchecked"}var mJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mk="RadioGroup",[gJ,Eae]=Tc(Mk,[j_,lU]),pU=j_(),mU=lU(),[vJ,yJ]=gJ(Mk),gU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:c,dir:l,loop:h=!0,onValueChange:p,...m}=e,E=pU(n),x=by(l),[y,w]=pl({prop:o,defaultProp:i,onChange:p});return u.jsx(vJ,{scope:n,name:r,required:s,disabled:a,value:y,onValueChange:w,children:u.jsx(VL,{asChild:!0,...E,orientation:c,dir:x,loop:h,children:u.jsx(Pt.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":a?"":void 0,dir:x,...m,ref:t})})})});gU.displayName=Mk;var vU="RadioGroupItem",yU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=yJ(vU,n),s=o.disabled||r,a=pU(n),c=mU(n),l=P.useRef(null),h=xn(t,l),p=o.value===i.value,m=P.useRef(!1);return P.useEffect(()=>{const E=y=>{mJ.includes(y.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",x)}},[]),u.jsx(zL,{asChild:!0,...a,focusable:!s,active:p,children:u.jsx(uU,{disabled:s,required:o.required,checked:p,...c,...i,name:o.name,ref:h,onCheck:()=>o.onValueChange(i.value),onKeyDown:Ke(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:Ke(i.onFocus,()=>{var E;m.current&&((E=l.current)==null||E.click())})})})});yU.displayName=vU;var bJ="RadioGroupIndicator",bU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=mU(n);return u.jsx(fU,{...i,...r,ref:t})});bU.displayName=bJ;var xU=gU,SU=yU,xJ=bU;const _U=P.forwardRef(({className:e,...t},n)=>u.jsx(xU,{className:it("grid gap-2",e),...t,ref:n}));_U.displayName=xU.displayName;const wU=P.forwardRef(({className:e,...t},n)=>u.jsx(SU,{ref:n,className:it("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(xJ,{className:"flex items-center justify-center",children:u.jsx(pM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wU.displayName=SU.displayName;function SJ({form:e}){const t=e.watch("questions")||[],n=()=>{const a=e.getValues("questions")||[];e.setValue("questions",[...a,{question:"",options:[{option:"",isCorrect:!0},{option:"",isCorrect:!1}]}])},r=a=>{const l=[...e.getValues("questions")];l[a].options.push({option:"",isCorrect:!1}),e.setValue("questions",l)},i=a=>{const l=e.getValues("questions").filter((h,p)=>p!==a);e.setValue("questions",l)},o=(a,c)=>{const h=[...e.getValues("questions")];h[a].options=h[a].options.filter((p,m)=>m!==c),e.setValue("questions",h)},s=(a,c)=>{const h=[...e.getValues("questions")];h[a].options=h[a].options.map((p,m)=>({...p,isCorrect:m===c})),e.setValue("questions",h)};return u.jsxs("div",{className:"space-y-6",children:[t.map((a,c)=>{var l,h;return u.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:"font-medium",children:["Question ",c+1]}),u.jsx(Ot,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(c),children:u.jsx(TT,{className:"h-4 w-4"})})]}),u.jsx(Xt,{control:e.control,name:`questions.${c}.question`,render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Question Text"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter question",...p})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Lt,{children:"Options"}),u.jsx(_U,{onValueChange:p=>s(c,parseInt(p)),value:(l=a==null?void 0:a.options)==null?void 0:l.findIndex(p=>p.isCorrect).toString(),children:(h=a==null?void 0:a.options)==null?void 0:h.map((p,m)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(wU,{value:m.toString(),id:`q${c}-opt${m}`}),u.jsx(Xt,{control:e.control,name:`questions.${c}.options.${m}.option`,render:({field:E})=>u.jsxs(Mt,{className:"flex-1",children:[u.jsx(vn,{children:u.jsx(sn,{placeholder:`Option ${m+1}`,...E})}),u.jsx(Ft,{})]})}),a.options.length>2&&u.jsx(Ot,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(c,m),children:u.jsx(TT,{className:"h-4 w-4"})})]},m))}),u.jsxs(Ot,{type:"button",variant:"outline",size:"sm",onClick:()=>r(c),children:[u.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]},c)}),u.jsxs(Ot,{type:"button",variant:"outline",onClick:n,children:[u.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})}var Mn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Mn||(Mn={}));var oI;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(oI||(oI={}));const tt=Mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hf=e=>{switch(typeof e){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return isNaN(e)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(e)?tt.array:e===null?tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tt.promise:typeof Map<"u"&&e instanceof Map?tt.map:typeof Set<"u"&&e instanceof Set?tt.set:typeof Date<"u"&&e instanceof Date?tt.date:tt.object;default:return tt.unknown}},Be=Mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ra extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,c=0;for(;c<s.path.length;){const l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}static assert(t){if(!(t instanceof ra))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ra.create=e=>new ra(e);const ny=(e,t)=>{let n;switch(e.code){case Be.invalid_type:e.received===tt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Mn.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Mn.joinValues(e.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Mn.joinValues(e.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Mn.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Mn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=t.defaultError,Mn.assertNever(e)}return{message:n}};let _J=ny;function t1(){return _J}const n1=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function et(e,t){const n=t1(),r=n1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ny?void 0:ny].filter(i=>!!i)});e.common.issues.push(r)}class Ao{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return rn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ao.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return rn;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const rn=Object.freeze({status:"aborted"}),nv=e=>({status:"dirty",value:e}),rs=e=>({status:"valid",value:e}),sI=e=>e.status==="aborted",aI=e=>e.status==="dirty",SS=e=>e.status==="valid",_S=e=>typeof Promise<"u"&&e instanceof Promise;function wS(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function EU(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));var rv,iv;class wc{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cI=(e,t)=>{if(SS(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ra(e.common.issues);return this._error=n,this._error}}};function pn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{var c,l;const{message:h}=e;return s.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(l=h??n)!==null&&l!==void 0?l:a.defaultError}},description:i}}class wn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return hf(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:hf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ao,ctx:{common:t.parent.common,data:t.data,parsedType:hf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(_S(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hf(t)},o=this._parseSync({data:t,path:i.path,parent:i});return cI(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hf(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(_S(i)?i:Promise.resolve(i));return cI(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new bl({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return sl.create(this,this._def)}nullable(){return Gf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yc.create(this,this._def)}promise(){return iy.create(this,this._def)}or(t){return TS.create([this,t],this._def)}and(t){return RS.create(this,t,this._def)}transform(t){return new bl({...pn(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new IS({...pn(this._def),innerType:this,defaultValue:n,typeName:Ht.ZodDefault})}brand(){return new kU({typeName:Ht.ZodBranded,type:this,...pn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new AS({...pn(this._def),innerType:this,catchValue:n,typeName:Ht.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return z_.create(this,t)}readonly(){return jS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wJ=/^c[^\s-]{8,}$/i,EJ=/^[0-9a-z]+$/,CJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,TJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RJ=/^[a-z0-9_-]{21}$/i,kJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cC;const NJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IJ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,AJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jJ=new RegExp(`^${CU}$`);function TU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function DJ(e){return new RegExp(`^${TU(e)}$`)}function MJ(e){let t=`${CU}T${TU(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function LJ(e,t){return!!((t==="v4"||!t)&&NJ.test(e)||(t==="v6"||!t)&&IJ.test(e))}class rl extends wn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tt.string){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.string,received:o.parsedType}),rn}const r=new Ao;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?et(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&et(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")OJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"email",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")cC||(cC=new RegExp(PJ,"u")),cC.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"emoji",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")TJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"uuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")RJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"nanoid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")wJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"cuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")EJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"cuid2",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")CJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"ulid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),et(i,{validation:"url",code:Be.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"regex",code:Be.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?MJ(o).test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?jJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?DJ(o).test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?kJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"duration",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?LJ(t.data,o.version)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"ip",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?AJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"base64",code:Be.invalid_string,message:o.message}),r.dirty()):Mn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Be.invalid_string,...xt.errToObj(r)})}_addCheck(t){return new rl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xt.errToObj(n)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new rl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}rl.create=e=>{var t;return new rl({checks:[],typeName:Ht.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pn(e)})};function FJ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class rm extends wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tt.number){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.number,received:o.parsedType}),rn}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="int"?Mn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),et(r,{code:Be.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?FJ(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_finite,message:o.message}),i.dirty()):Mn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xt.toString(n))}setLimit(t,n,r,i){return new rm({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xt.toString(i)}]})}_addCheck(t){return new rm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Mn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}rm.create=e=>new rm({checks:[],typeName:Ht.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pn(e)});class im extends wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==tt.bigint){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.bigint,received:o.parsedType}),rn}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Mn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xt.toString(n))}setLimit(t,n,r,i){return new im({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xt.toString(i)}]})}_addCheck(t){return new im({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}im.create=e=>{var t;return new im({checks:[],typeName:Ht.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pn(e)})};class r1 extends wn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tt.boolean){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.boolean,received:r.parsedType}),rn}return rs(t.data)}}r1.create=e=>new r1({typeName:Ht.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pn(e)});class ry extends wn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tt.date){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.date,received:o.parsedType}),rn}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_date}),rn}const r=new Ao;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Mn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ry({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ry.create=e=>new ry({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ht.ZodDate,...pn(e)});class i1 extends wn{_parse(t){if(this._getType(t)!==tt.symbol){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.symbol,received:r.parsedType}),rn}return rs(t.data)}}i1.create=e=>new i1({typeName:Ht.ZodSymbol,...pn(e)});class ES extends wn{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.undefined,received:r.parsedType}),rn}return rs(t.data)}}ES.create=e=>new ES({typeName:Ht.ZodUndefined,...pn(e)});class CS extends wn{_parse(t){if(this._getType(t)!==tt.null){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.null,received:r.parsedType}),rn}return rs(t.data)}}CS.create=e=>new CS({typeName:Ht.ZodNull,...pn(e)});class o1 extends wn{constructor(){super(...arguments),this._any=!0}_parse(t){return rs(t.data)}}o1.create=e=>new o1({typeName:Ht.ZodAny,...pn(e)});class Ip extends wn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rs(t.data)}}Ip.create=e=>new Ip({typeName:Ht.ZodUnknown,...pn(e)});class nd extends wn{_parse(t){const n=this._getOrReturnCtx(t);return et(n,{code:Be.invalid_type,expected:tt.never,received:n.parsedType}),rn}}nd.create=e=>new nd({typeName:Ht.ZodNever,...pn(e)});class s1 extends wn{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.void,received:r.parsedType}),rn}return rs(t.data)}}s1.create=e=>new s1({typeName:Ht.ZodVoid,...pn(e)});class yc extends wn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==tt.array)return et(n,{code:Be.invalid_type,expected:tt.array,received:n.parsedType}),rn;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(et(n,{code:s?Be.too_big:Be.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(et(n,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(et(n,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new wc(n,s,n.path,a)))).then(s=>Ao.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new wc(n,s,n.path,a)));return Ao.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new yc({...this._def,minLength:{value:t,message:xt.toString(n)}})}max(t,n){return new yc({...this._def,maxLength:{value:t,message:xt.toString(n)}})}length(t,n){return new yc({...this._def,exactLength:{value:t,message:xt.toString(n)}})}nonempty(t){return this.min(1,t)}}yc.create=(e,t)=>new yc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...pn(t)});function ap(e){if(e instanceof Kr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=sl.create(ap(r))}return new Kr({...e._def,shape:()=>t})}else return e instanceof yc?new yc({...e._def,type:ap(e.element)}):e instanceof sl?sl.create(ap(e.unwrap())):e instanceof Gf?Gf.create(ap(e.unwrap())):e instanceof yl?yl.create(e.items.map(t=>ap(t))):e}class Kr extends wn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Mn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==tt.object){const l=this._getOrReturnCtx(t);return et(l,{code:Be.invalid_type,expected:tt.object,received:l.parsedType}),rn}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof nd&&this._def.unknownKeys==="strip"))for(const l in i.data)s.includes(l)||a.push(l);const c=[];for(const l of s){const h=o[l],p=i.data[l];c.push({key:{status:"valid",value:l},value:h._parse(new wc(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof nd){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of a)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(l==="strict")a.length>0&&(et(i,{code:Be.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of a){const p=i.data[h];c.push({key:{status:"valid",value:h},value:l._parse(new wc(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of c){const p=await h.key,m=await h.value;l.push({key:p,value:m,alwaysSet:h.alwaysSet})}return l}).then(l=>Ao.mergeObjectSync(r,l)):Ao.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=xt.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ht.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const n={};return Mn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Kr({...this._def,shape:()=>n})}omit(t){const n={};return Mn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Kr({...this._def,shape:()=>n})}deepPartial(){return ap(this)}partial(t){const n={};return Mn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Kr({...this._def,shape:()=>n})}required(t){const n={};return Mn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof sl;)o=o._def.innerType;n[r]=o}}),new Kr({...this._def,shape:()=>n})}keyof(){return RU(Mn.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:nd.create(),typeName:Ht.ZodObject,...pn(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:nd.create(),typeName:Ht.ZodObject,...pn(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:nd.create(),typeName:Ht.ZodObject,...pn(t)});class TS extends wn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new ra(a.ctx.common.issues));return et(n,{code:Be.invalid_union,unionErrors:s}),rn}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(c=>new ra(c));return et(n,{code:Be.invalid_union,unionErrors:a}),rn}}get options(){return this._def.options}}TS.create=(e,t)=>new TS({options:e,typeName:Ht.ZodUnion,...pn(t)});const Qc=e=>e instanceof OS?Qc(e.schema):e instanceof bl?Qc(e.innerType()):e instanceof PS?[e.value]:e instanceof Hf?e.options:e instanceof NS?Mn.objectValues(e.enum):e instanceof IS?Qc(e._def.innerType):e instanceof ES?[void 0]:e instanceof CS?[null]:e instanceof sl?[void 0,...Qc(e.unwrap())]:e instanceof Gf?[null,...Qc(e.unwrap())]:e instanceof kU||e instanceof jS?Qc(e.unwrap()):e instanceof AS?Qc(e._def.innerType):[];class Lk extends wn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.object)return et(n,{code:Be.invalid_type,expected:tt.object,received:n.parsedType}),rn;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(et(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=Qc(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new Lk({typeName:Ht.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...pn(r)})}}function a1(e,t){const n=hf(e),r=hf(t);if(e===t)return{valid:!0,data:e};if(n===tt.object&&r===tt.object){const i=Mn.objectKeys(t),o=Mn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const c=a1(e[a],t[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(n===tt.array&&r===tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],c=a1(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===tt.date&&r===tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class RS extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(sI(o)||sI(s))return rn;const a=a1(o.value,s.value);return a.valid?((aI(o)||aI(s))&&n.dirty(),{status:n.value,value:a.data}):(et(r,{code:Be.invalid_intersection_types}),rn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}RS.create=(e,t,n)=>new RS({left:e,right:t,typeName:Ht.ZodIntersection,...pn(n)});class yl extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.array)return et(r,{code:Be.invalid_type,expected:tt.array,received:r.parsedType}),rn;if(r.data.length<this._def.items.length)return et(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rn;!this._def.rest&&r.data.length>this._def.items.length&&(et(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new wc(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ao.mergeArray(n,s)):Ao.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new yl({...this._def,rest:t})}}yl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yl({items:e,typeName:Ht.ZodTuple,rest:null,...pn(t)})};class kS extends wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.object)return et(r,{code:Be.invalid_type,expected:tt.object,received:r.parsedType}),rn;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new wc(r,a,r.path,a)),value:s._parse(new wc(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ao.mergeObjectAsync(n,i):Ao.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof wn?new kS({keyType:t,valueType:n,typeName:Ht.ZodRecord,...pn(r)}):new kS({keyType:rl.create(),valueType:t,typeName:Ht.ZodRecord,...pn(n)})}}class c1 extends wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.map)return et(r,{code:Be.invalid_type,expected:tt.map,received:r.parsedType}),rn;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new wc(r,a,r.path,[l,"key"])),value:o._parse(new wc(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of s){const l=await c.key,h=await c.value;if(l.status==="aborted"||h.status==="aborted")return rn;(l.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(l.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of s){const l=c.key,h=c.value;if(l.status==="aborted"||h.status==="aborted")return rn;(l.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(l.value,h.value)}return{status:n.value,value:a}}}}c1.create=(e,t,n)=>new c1({valueType:t,keyType:e,typeName:Ht.ZodMap,...pn(n)});class om extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.set)return et(r,{code:Be.invalid_type,expected:tt.set,received:r.parsedType}),rn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(et(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(et(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(c){const l=new Set;for(const h of c){if(h.status==="aborted")return rn;h.status==="dirty"&&n.dirty(),l.add(h.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>o._parse(new wc(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(t,n){return new om({...this._def,minSize:{value:t,message:xt.toString(n)}})}max(t,n){return new om({...this._def,maxSize:{value:t,message:xt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}om.create=(e,t)=>new om({valueType:e,minSize:null,maxSize:null,typeName:Ht.ZodSet,...pn(t)});class bv extends wn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.function)return et(n,{code:Be.invalid_type,expected:tt.function,received:n.parsedType}),rn;function r(a,c){return n1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t1(),ny].filter(l=>!!l),issueData:{code:Be.invalid_arguments,argumentsError:c}})}function i(a,c){return n1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t1(),ny].filter(l=>!!l),issueData:{code:Be.invalid_return_type,returnTypeError:c}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof iy){const a=this;return rs(async function(...c){const l=new ra([]),h=await a._def.args.parseAsync(c,o).catch(E=>{throw l.addIssue(r(c,E)),l}),p=await Reflect.apply(s,this,h);return await a._def.returns._def.type.parseAsync(p,o).catch(E=>{throw l.addIssue(i(p,E)),l})})}else{const a=this;return rs(function(...c){const l=a._def.args.safeParse(c,o);if(!l.success)throw new ra([r(c,l.error)]);const h=Reflect.apply(s,this,l.data),p=a._def.returns.safeParse(h,o);if(!p.success)throw new ra([i(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new bv({...this._def,args:yl.create(t).rest(Ip.create())})}returns(t){return new bv({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new bv({args:t||yl.create([]).rest(Ip.create()),returns:n||Ip.create(),typeName:Ht.ZodFunction,...pn(r)})}}class OS extends wn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}OS.create=(e,t)=>new OS({getter:e,typeName:Ht.ZodLazy,...pn(t)});class PS extends wn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return et(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),rn}return{status:"valid",value:t.data}}get value(){return this._def.value}}PS.create=(e,t)=>new PS({value:e,typeName:Ht.ZodLiteral,...pn(t)});function RU(e,t){return new Hf({values:e,typeName:Ht.ZodEnum,...pn(t)})}class Hf extends wn{constructor(){super(...arguments),rv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return et(n,{expected:Mn.joinValues(r),received:n.parsedType,code:Be.invalid_type}),rn}if(wS(this,rv)||EU(this,rv,new Set(this._def.values)),!wS(this,rv).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return et(n,{received:n.data,code:Be.invalid_enum_value,options:r}),rn}return rs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Hf.create(t,{...this._def,...n})}exclude(t,n=this._def){return Hf.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}rv=new WeakMap;Hf.create=RU;class NS extends wn{constructor(){super(...arguments),iv.set(this,void 0)}_parse(t){const n=Mn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==tt.string&&r.parsedType!==tt.number){const i=Mn.objectValues(n);return et(r,{expected:Mn.joinValues(i),received:r.parsedType,code:Be.invalid_type}),rn}if(wS(this,iv)||EU(this,iv,new Set(Mn.getValidEnumValues(this._def.values))),!wS(this,iv).has(t.data)){const i=Mn.objectValues(n);return et(r,{received:r.data,code:Be.invalid_enum_value,options:i}),rn}return rs(t.data)}get enum(){return this._def.values}}iv=new WeakMap;NS.create=(e,t)=>new NS({values:e,typeName:Ht.ZodNativeEnum,...pn(t)});class iy extends wn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.promise&&n.common.async===!1)return et(n,{code:Be.invalid_type,expected:tt.promise,received:n.parsedType}),rn;const r=n.parsedType===tt.promise?n.data:Promise.resolve(n.data);return rs(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}iy.create=(e,t)=>new iy({type:e,typeName:Ht.ZodPromise,...pn(t)});class bl extends wn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{et(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return rn;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?rn:c.status==="dirty"||n.value==="dirty"?nv(c.value):c});{if(n.value==="aborted")return rn;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?rn:a.status==="dirty"||n.value==="dirty"?nv(a.value):a}}if(i.type==="refinement"){const s=a=>{const c=i.refinement(a,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?rn:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?rn:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!SS(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>SS(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);Mn.assertNever(i)}}bl.create=(e,t,n)=>new bl({schema:e,typeName:Ht.ZodEffects,effect:t,...pn(n)});bl.createWithPreprocess=(e,t,n)=>new bl({schema:t,effect:{type:"preprocess",transform:e},typeName:Ht.ZodEffects,...pn(n)});class sl extends wn{_parse(t){return this._getType(t)===tt.undefined?rs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}sl.create=(e,t)=>new sl({innerType:e,typeName:Ht.ZodOptional,...pn(t)});class Gf extends wn{_parse(t){return this._getType(t)===tt.null?rs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gf.create=(e,t)=>new Gf({innerType:e,typeName:Ht.ZodNullable,...pn(t)});class IS extends wn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===tt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}IS.create=(e,t)=>new IS({innerType:e,typeName:Ht.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pn(t)});class AS extends wn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _S(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ra(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ra(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}AS.create=(e,t)=>new AS({innerType:e,typeName:Ht.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pn(t)});class l1 extends wn{_parse(t){if(this._getType(t)!==tt.nan){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.nan,received:r.parsedType}),rn}return{status:"valid",value:t.data}}}l1.create=e=>new l1({typeName:Ht.ZodNaN,...pn(e)});class kU extends wn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class z_ extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?rn:o.status==="dirty"?(n.dirty(),nv(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new z_({in:t,out:n,typeName:Ht.ZodPipeline})}}class jS extends wn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(SS(i)&&(i.value=Object.freeze(i.value)),i);return _S(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}jS.create=(e,t)=>new jS({innerType:e,typeName:Ht.ZodReadonly,...pn(t)});Kr.lazycreate;var Ht;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const Dn=rl.create,Of=rm.create;l1.create;im.create;const DS=r1.create,MS=ry.create;i1.create;ES.create;CS.create;o1.create;Ip.create;nd.create;s1.create;const $u=yc.create,Pf=Kr.create;Kr.strictCreate;TS.create;Lk.create;RS.create;yl.create;kS.create;c1.create;om.create;bv.create;OS.create;PS.create;const UJ=Hf.create;NS.create;iy.create;bl.create;sl.create;Gf.create;bl.createWithPreprocess;z_.create;const BJ=Pf({title:Dn().min(1,"Title is required").max(100,"Title is too long"),description:Dn().min(1,"Description is required").max(500,"Description is too long"),standard:Dn().min(null,"Standard is required").optional().nullable().default(null),subject:Dn().min(null,"Subject is required").optional().nullable().default(null),startDate:MS({required_error:"Start date is required"}),endDate:MS({required_error:"End date is required"}),duration:Of().min(0,"Duration is not less then 0.").max(480,"Duration cannot exceed 8 hours").default(0).optional(),ageGroup:Dn().min(0,"Age group is required").optional(),price:Of().min(0,"Price cannot be negative").default(0),bonusPercent:Of().min(0,"Refer bonus cannot be negative").optional(),isActive:DS().default(!0),questions:$u(Pf({question:Dn().min(1,"Question text is required"),options:$u(Pf({option:Dn().min(1,"Option text is required"),isCorrect:DS()})).min(2,"At least two options are required")})).min(1,"At least one question is required")}),Vb=wt("create",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.post(G6,e)).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),al=wt("fetchAll",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.get(K6)).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),lC=wt("fetchStandardById",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.get(q6.replace(":id",e))).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),zb=wt("updateStandard",async({id:e,data:t},{rejectWithValue:n})=>{var r;try{return(await mt.put(Y6.replace(":id",e),t)).data}catch(i){return n(((r=i.response)==null?void 0:r.data)||"Unknown error")}}),Wb=wt("toggleStandardStatus",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.post(Q6,{stdId:e})).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),$J=is({name:"standard",initialState:{standards:[],currentStandard:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Vb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Vb.fulfilled,(t,n)=>{t.isLoading=!1,t.standards.push(n.payload)}).addCase(Vb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to create standard."}).addCase(al.pending,t=>{t.isLoading=!0,t.error=null}).addCase(al.fulfilled,(t,n)=>{t.isLoading=!1,t.standards=n.payload}).addCase(al.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to fetch standards."}).addCase(lC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(lC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentStandard=n.payload}).addCase(lC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to fetch standard by ID."}).addCase(zb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(zb.fulfilled,(t,n)=>{t.isLoading=!1,t.standards=t.standards.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(zb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to update standard."}).addCase(Wb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Wb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.standards.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.standards[r].isActive=!t.standards[r].isActive)}).addCase(Wb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to toggle standard status."})}}),VJ=$J.reducer,zJ={subjects:[],currentsubject:null,isLoading:null,error:null},Hb=wt("createsubject",async(e,{rejectWithValue:t})=>{try{return(await mt.post(X6,e)).data}catch(n){return t(n.response.data)}}),Nf=wt("getAllsubject",async(e,{rejectWithValue:t})=>{try{return(await mt.get(Z6,{params:{standard:e}})).data}catch(n){return t(n.response.data)}}),uC=wt("subjectById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(J6.replace(":id",e))).data}catch(n){return t(n.response.data)}}),Gb=wt("updatasubject",async({id:e,data:t},{rejectWithValue:n})=>{try{return(await mt.put(e8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),qb=wt("togglesubject",async(e,{rejectWithValue:t})=>{try{return(await mt.post(t8,{subjectId:e})).data}catch(n){return t(n.response.data)}}),WJ=is({name:"subject",initialState:zJ,reducers:{},extraReducers:e=>{e.addCase(Hb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Hb.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects.unshift(n.payload)}).addCase(Hb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Nf.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Nf.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects=n.payload}).addCase(Nf.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(uC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(uC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentsubject=n.payload}).addCase(uC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Gb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Gb.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects=t.subjects.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(Gb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(qb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(qb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.subjects.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.subjects[r].isActive=!t.subjects[r].isActive)}).addCase(qb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),HJ=WJ.reducer,cl=({placeholder:e,name:t,control:n,onSearch:r,listing:i,onItemSelect:o,canLocalSearch:s=!0})=>{var x;const[a,c]=P.useState(""),{field:{value:l,onChange:h}}=fk({name:t,control:n}),p=y=>{h(y),o(y)},m=y=>{y.stopPropagation(),h(null),s?c(""):r(""),o("")},E=i==null?void 0:i.filter(y=>{var w;return(w=y==null?void 0:y.label)==null?void 0:w.toLowerCase().includes(a.toLowerCase())});return u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs(ak,{children:[u.jsx(ck,{asChild:!0,children:u.jsx(Ot,{variant:"outline",className:"w-full justify-between",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsx("span",{className:"font-normal",children:l?(x=i.find(y=>y.id===l))==null?void 0:x.label:e}),!l&&u.jsx(v_,{className:"h-4 w-4 ml-2 text-gray-500"})]})})}),u.jsxs(U_,{className:"w-64 max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"sticky top-0 bg-white p-2 z-10",children:u.jsx(sn,{placeholder:"Search...",value:a,onChange:y=>{s?c(y.target.value):r(y.target.value)},className:"mb-2"})}),E==null?void 0:E.map(y=>u.jsx(lk,{onSelect:()=>p(y.id),className:`flex items-center space-x-2 ${l===y.id?"bg-gray-200":""}`,children:u.jsx("span",{children:y.label})},y.id))]})]}),l&&u.jsx(Ot,{variant:"ghost",size:"icon",className:"absolute right-0",onClick:m,children:u.jsx(cd,{className:"h-4 w-4 text-gray-500"})})]})};function GJ({form:e}){const{standards:t,isLoading:n}=Nn(c=>c.standard),{subjects:r,isLoading:i}=Nn(c=>c.subject),o=Yn();P.useEffect(()=>{s(),a("")},[]);const s=()=>{o(al())},a=c=>{o(Nf(c))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:e.control,name:"standard",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),n?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select standard",name:"standard",control:e.control,onSearch:()=>{},listing:t.map(l=>({id:l._id,label:l.std})),onItemSelect:l=>a(l)}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"subject",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Subject"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select subject",name:"subject",control:e.control,onSearch:()=>{},listing:r.map(l=>{var h;return{id:l._id,label:l.standard?l.subject+" - "+((h=l.standard)==null?void 0:h.std):l.subject}}),onItemSelect:l=>{}}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:e.control,name:"ageGroup",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Age Group"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"e.g., 8-12 years",...c})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"price",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Price"}),u.jsx(vn,{children:u.jsx(sn,{min:0,step:1,type:"number",placeholder:"0",...c,onChange:l=>c.onChange(Number(l.target.value))})}),u.jsx(Ft,{})]})})]})}const Kb=wt("quiz/createQuiz",async(e,{rejectWithValue:t})=>{try{return(await mt.post(g8,e)).data}catch(n){return t(n.response.data)}}),xv=wt("quiz/fetchQuizzes",async({page:e,search:t=""},{rejectWithValue:n})=>{try{return(await mt.get(y8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Yb=wt("quiz/fetchQuizById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(`${v8}/${e}`)).data}catch(n){return t(n.response.data)}}),Qb=wt("quiz/updateQuiz",async({id:e,quizData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${b8}/${e}`,t)).data}catch(r){return n(r.response.data)}}),Xb=wt("quiz/toggleQuiz",async(e,{rejectWithValue:t})=>{try{return(await mt.post(x8,{quizId:e})).data}catch(n){return t(n.response.data)}}),Jb=wt("quiz/getQuizResult",async({quizId:e,page:t},{rejectWithValue:n})=>{try{return(await mt.post(S8,{quizId:e,page:t})).data}catch(r){return n(r.response.data)}}),qJ={quizzes:[],currentQuiz:null,isLoading:!1,currentPage:1,totalPages:1,error:null,quizResult:[],isQuizResultLoading:!1,qrCurrentPage:1,qrTotalPages:1},OU=is({name:"quiz",initialState:qJ,reducers:{setCurrentQuiz:(e,t)=>{e.currentQuiz=t.payload,console.log("currentQuiz :>> ",t.payload)}},extraReducers:e=>{e.addCase(xv.pending,t=>{t.isLoading=!0}).addCase(xv.fulfilled,(t,n)=>{t.isLoading=!1,t.quizzes=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(xv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.message||"Something went wrong"}).addCase(Kb.pending,t=>{t.isLoading=!0}).addCase(Kb.fulfilled,(t,n)=>{t.isLoading=!1,t.quizzes.push(n.payload),t.quizzes.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(Kb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.message||"Something went wrong"}).addCase(Qb.pending,t=>{t.isLoading=!0}).addCase(Qb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.quizzes.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.quizzes[r]=n.payload)}).addCase(Qb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Yb.pending,t=>{t.isLoading=!0}).addCase(Yb.fulfilled,(t,n)=>{t.isLoading=!1,t.currentQuiz=n.payload}).addCase(Yb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Xb.pending,t=>{t.isLoading=!0}).addCase(Xb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.quizzes.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.quizzes[r].isActive=!t.quizzes[r].isActive)}).addCase(Xb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Jb.pending,t=>{t.isQuizResultLoading=!0,t.error=null}).addCase(Jb.fulfilled,(t,n)=>{t.isQuizResultLoading=!1,t.error=null,t.quizResult=n.payload.docs,t.qrCurrentPage=n.payload.currentPage,t.qrTotalPages=n.payload.totalPages}).addCase(Jb.rejected,(t,n)=>{t.isQuizResultLoading=!1,t.error=n.payload.message||"Something went wrong"})}}),{setCurrentQuiz:KJ}=OU.actions,YJ=OU.reducer;function QJ({open:e,onOpenChange:t,editQuiz:n}){const{toast:r}=_l(),{isLoading:i}=Nn(l=>l.quiz),o=Yn(),s=nh({resolver:Ay(BJ),defaultValues:{title:"",description:"",startDate:new Date(new Date().setDate(new Date().getDate()+1)),endDate:new Date(new Date().setDate(new Date().getDate()+2)),duration:0,ageGroup:"",standard:"",subject:"",price:0,isActive:!0,questions:[],bonusPercent:0}});P.useEffect(()=>{n?(s.setValue("title",n.title),s.setValue("description",n.description),s.setValue("startDate",new Date(n.startDate)),s.setValue("endDate",new Date(n.endDate)),s.setValue("duration",n.duration),s.setValue("ageGroup",n.ageGroup),s.setValue("standard",n.standard),s.setValue("subject",n.subject),s.setValue("price",n.price),s.setValue("bonusPercent",n==null?void 0:n.bonusPercent),s.setValue("isActive",n.isActive),s.setValue("questions",n.questions)):s.reset()},[n,s]);const a=l=>{const h={...l,subject:l.subject===""?null:l.subject,standard:l.standard===""?null:l.standard};n?o(Qb({id:n._id,quizData:h})).then(p=>{p.type=="quiz/updateQuiz/fulfilled"&&(r({title:"Quiz Updated",description:"The quiz has been successfully updated."}),c(),t(!1))}).catch(p=>{}):o(Kb(h)).then(p=>{p.type=="quiz/createQuiz/fulfilled"&&(r({title:"Quiz Created",description:"The quiz has been successfully created."}),c(),t(!1))}).catch(p=>{})},c=()=>{s.clearErrors(),s.reset()};return u.jsx(ud,{open:e,onOpenChange:l=>{c(),t(l)},children:u.jsxs(wl,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:l=>l.preventDefault(),children:[u.jsx(El,{children:u.jsx(Cl,{children:"Add New Quiz"})}),u.jsx(rh,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-6",children:[u.jsx(lJ,{form:s}),u.jsx(GJ,{form:s}),u.jsx(uJ,{form:s}),u.jsx(SJ,{form:s}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{type:"reset",variant:"outline",onClick:()=>{c(),t(!1)},children:"Cancel"}),u.jsx(Ot,{type:"submit",disabled:i,children:i?"Submitting ....":n?"Update Quiz":"Add Quiz"})]})]})})]})})}const XJ=({quizId:e})=>{const{quizResult:t,isQuizResultLoading:n,qrCurrentPage:r,qrTotalPages:i}=Nn(a=>a.quiz),o=Yn(),s=a=>{o(Jb({quizId:e,page:a}))};return P.useEffect(()=>{s(1)},[]),u.jsxs("div",{className:"bg-white rounded-md border",children:[n?u.jsx("div",{className:"text-center",children:"Loading..."}):u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Participant Name"}),u.jsx(qe,{children:"Participant Mobile"}),u.jsx(qe,{children:"Score"}),u.jsx(qe,{children:"Time Taken"}),u.jsx(qe,{children:"Started At"}),u.jsx(qe,{children:"Submitted At"})]})}),u.jsx(Ds,{children:t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center",children:"No Quiz Results Available."})}):t.map(a=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:a.userId.name}),u.jsx(Fe,{children:a.userId.mobile}),u.jsx(Fe,{children:a.score}),u.jsxs(Fe,{children:[Math.floor(a.timeTaken/36e5)>0&&`${Math.floor(a.timeTaken/36e5)} hours `,Math.floor(a.timeTaken%36e5/6e4)," minutes"," ",(a.timeTaken%6e4/1e3).toFixed(0)," seconds"]}),u.jsx(Fe,{children:a.startedAt?`${new Date(a.startedAt).toLocaleString()}`:"-"}),u.jsx(Fe,{children:a.submittedAt?`${new Date(a.submittedAt).toLocaleString()}`:"-"})]},a._id))})]}),i>=1&&u.jsx(sa,{currentPage:r,totalPages:i,onPageChange:s})]})},JJ=()=>{const[e,t]=P.useState(""),{quizzes:n,isLoading:r,error:i,currentPage:o,totalPages:s}=Nn(y=>y.quiz),[a,c]=P.useState(!1),[l,h]=P.useState(""),p=Yn();P.useEffect(()=>{x(1)},[e]);const m=y=>{p(Xb(y))},E=y=>{p(Yb(y._id))},x=y=>{p(xv({page:y,search:e}))};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search quizzes by title",value:e,onChange:y=>{t(y.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"border rounded-lg bg-white",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Start Date"}),u.jsx(qe,{children:"End Date"}),u.jsx(qe,{children:"Duration (mins)"}),u.jsx(qe,{children:"Price ()"}),u.jsx(qe,{children:"Refer Bonus"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:Array.isArray(n)&&n.map((y,w)=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:y.title}),u.jsx(Fe,{children:new Date(y.startDate).toLocaleDateString()}),u.jsx(Fe,{children:new Date(y.endDate).toLocaleDateString()}),u.jsx(Fe,{children:y.duration}),u.jsx(Fe,{children:y.price?`${y.price}`:"Free"}),u.jsx(Fe,{children:y==null?void 0:y.bonusPercent}),u.jsxs(Fe,{children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${y.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.isActive?"Active":"InActive"}),new Date>new Date(y.endDate)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-80 ms-2",children:"Complete"}):new Date>=new Date(y.startDate)&&new Date<=new Date(y.endDate)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800 ms-2",children:"Running"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800 ms-2",children:"Upcoming"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(y),children:u.jsx(i6,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",className:y.isActive?"text-red-500":"text-green-500",onClick:()=>m(y._id),children:y.isActive?u.jsx(cd,{className:"h-4 w-4"}):u.jsx(my,{className:"h-4 w-4"})})]}),new Date>=new Date(y.startDate)&&u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{c(!0),h(y._id)},children:u.jsx(Hz,{className:"h-4 w-4"})})]})]},y._id))})]})}),s>=1&&u.jsx(sa,{currentPage:o,totalPages:s,onPageChange:x}),u.jsx(ud,{open:a,onOpenChange:c,children:u.jsxs(wl,{className:"lg:max-w-[1300px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(El,{children:[u.jsx(Cl,{children:"Quiz Results"}),u.jsx(JX,{})]}),u.jsx(XJ,{quizId:l})]})})]})},ZJ=()=>{const[e,t]=P.useState(!1),n=Yn(),{currentQuiz:r}=Nn(o=>o.quiz);P.useEffect(()=>{n(xv({page:1,search:""}))},[]);const i=()=>{n(KJ(null))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Quiz Management"}),u.jsxs(Ot,{onClick:()=>t(!0),children:[u.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Add Quiz"]})]}),u.jsx(JJ,{}),u.jsx(QJ,{open:e||!!r,onOpenChange:o=>{i(),t(o)},editQuiz:r})]})},eZ={payments:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Zb=wt("fetchAllPayment",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(OM,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),tZ=is({name:"payment",initialState:eZ,reducers:{},extraReducers:e=>{e.addCase(Zb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Zb.fulfilled,(t,n)=>{t.isLoading=!1,t.payments=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Zb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),nZ=tZ.reducer,rZ=()=>{const[e,t]=P.useState(""),{payments:n,currentPage:r,totalPages:i,isLoading:o}=Nn(c=>c.payment),s=Yn(),a=c=>{s(Zb({page:c,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&a(1)},[e]),u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"space-y-1",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Payment Records"})})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search user by mobile",value:e,onChange:c=>{t(c.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Label"}),u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Amount"}),u.jsx(qe,{children:"Purchase Date"}),u.jsx(qe,{children:"Status"})]})}),u.jsx(Ds,{children:n.map(c=>{var l,h;return u.jsxs(Tn,{children:[u.jsx(Fe,{children:c.quizId?c.quizId.title:(l=c==null?void 0:c.courseId)==null?void 0:l.title}),u.jsx(Fe,{children:c.quizId?"Quiz":"Course"}),u.jsx(Fe,{children:(h=c==null?void 0:c.userId)==null?void 0:h.mobile}),u.jsxs(Fe,{children:["",(c==null?void 0:c.amount)/100]}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(c.paymentDate).toLocaleDateString()}),u.jsx("span",{children:new Date(c.paymentDate).toLocaleTimeString()})]})}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${c.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":c.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:c==null?void 0:c.paymentStatus})})]},c._id)})})]})}),i>=1&&u.jsx(sa,{currentPage:r,totalPages:i,onPageChange:a})]})},Vu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vu.displayName="Card";const zu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("flex flex-col space-y-1.5 p-6",e),...t}));zu.displayName="CardHeader";const Wu=P.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:it("text-2xl font-semibold leading-none tracking-tight",e),...t}));Wu.displayName="CardTitle";const iZ=P.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:it("text-sm text-muted-foreground",e),...t}));iZ.displayName="CardDescription";const Hu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("p-6 pt-0",e),...t}));Hu.displayName="CardContent";const oZ=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("flex items-center p-6 pt-0",e),...t}));oZ.displayName="CardFooter";const sZ=()=>{const{totalUser:e,activeQuiz:t,payment:n}=Nn(r=>r.auth);return u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Wu,{className:"text-sm font-medium",children:"Total Revenue"}),u.jsx(mM,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Hu,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:["",n/100]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue from quiz and course purchases"})]})]}),u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Wu,{className:"text-sm font-medium",children:"Total Users"}),u.jsx(yM,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Hu,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Wu,{className:"text-sm font-medium",children:"Active Quizzes"}),u.jsx(CT,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Hu,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Published quizzes"})]})]})]})},aZ={lessons:[],isLoading:!1,error:null,totalPages:1,currentPage:1},ex=wt("lesson/fetchlesson",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(w8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),Sv=wt("lesson/addlesson",async({courseId:e,lessons:t},{rejectWithValue:n})=>{try{return(await mt.post(_8,{courseId:e,lessons:t})).data}catch(r){return n(r)}}),_v=wt("lesson/updatelesson",async({id:e,courseData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${E8}/${e}`,t)).data}catch(r){return n(r)}}),tx=wt("lesson/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await mt.post(C8,{lessonId:e})).data}catch(n){return t(n)}}),cZ=is({name:"lesson",initialState:aZ,reducers:{},extraReducers:e=>{e.addCase(ex.pending,t=>{t.isLoading=!0}).addCase(ex.fulfilled,(t,n)=>{t.isLoading=!1,t.lessons=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(ex.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message||"Failed to fetch courses"}).addCase(Sv.pending,(t,n)=>{t.isLoading=!0}).addCase(Sv.fulfilled,(t,n)=>{t.isLoading=!1,t.lessons.push(...n.payload),t.lessons.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(Sv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(_v.pending,(t,n)=>{t.isLoading=!0}).addCase(_v.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(_v.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.lessons.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.lessons[r]=n.payload)}).addCase(tx.pending,(t,n)=>{}).addCase(tx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(tx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.lessons.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.lessons[r].isActive=!t.lessons[r].isActive)})}}),lZ=cZ.reducer;function u1(e,[t,n]){return Math.min(n,Math.max(t,e))}var uZ=[" ","Enter","ArrowUp","ArrowDown"],dZ=[" ","Enter"],jy="Select",[W_,H_,fZ]=f_(jy),[_m,Cae]=Tc(jy,[fZ,Sm]),G_=Sm(),[hZ,dd]=_m(jy),[pZ,mZ]=_m(jy),PU=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:l,name:h,autoComplete:p,disabled:m,required:E,form:x}=e,y=G_(t),[w,R]=P.useState(null),[_,C]=P.useState(null),[I,j]=P.useState(!1),U=by(l),[$=!1,z]=pl({prop:r,defaultProp:i,onChange:o}),[q,X]=pl({prop:s,defaultProp:a,onChange:c}),J=P.useRef(null),G=w?x||!!w.closest("form"):!0,[ee,ce]=P.useState(new Set),xe=Array.from(ee).map(Se=>Se.props.value).join(";");return u.jsx(QR,{...y,children:u.jsxs(hZ,{required:E,scope:t,trigger:w,onTriggerChange:R,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:I,onValueNodeHasChildrenChange:j,contentId:vc(),value:q,onValueChange:X,open:$,onOpenChange:z,dir:U,triggerPointerDownPosRef:J,disabled:m,children:[u.jsx(W_.Provider,{scope:t,children:u.jsx(pZ,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(Se=>{ce(ve=>new Set(ve).add(Se))},[]),onNativeOptionRemove:P.useCallback(Se=>{ce(ve=>{const Y=new Set(ve);return Y.delete(Se),Y})},[]),children:n})}),G?u.jsxs(tB,{"aria-hidden":!0,required:E,tabIndex:-1,name:h,autoComplete:p,value:q,onChange:Se=>X(Se.target.value),disabled:m,form:x,children:[q===void 0?u.jsx("option",{value:""}):null,Array.from(ee)]},xe):null]})})};PU.displayName=jy;var NU="SelectTrigger",IU=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=G_(n),s=dd(NU,n),a=s.disabled||r,c=xn(t,s.onTriggerChange),l=H_(n),h=P.useRef("touch"),[p,m,E]=nB(y=>{const w=l().filter(C=>!C.disabled),R=w.find(C=>C.value===s.value),_=rB(w,y,R);_!==void 0&&s.onValueChange(_.value)}),x=y=>{a||(s.onOpenChange(!0),E()),y&&(s.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(I_,{asChild:!0,...o,children:u.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":eB(s.value)?"":void 0,...i,ref:c,onClick:Ke(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&x(y)}),onPointerDown:Ke(i.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Ke(i.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&uZ.includes(y.key)&&(x(),y.preventDefault())})})})});IU.displayName=NU;var AU="SelectValue",jU=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,c=dd(AU,n),{onValueNodeHasChildrenChange:l}=c,h=o!==void 0,p=xn(t,c.onValueNodeChange);return Yi(()=>{l(h)},[l,h]),u.jsx(Pt.span,{...a,ref:p,style:{pointerEvents:"none"},children:eB(c.value)?u.jsx(u.Fragment,{children:s}):o})});jU.displayName=AU;var gZ="SelectIcon",DU=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return u.jsx(Pt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});DU.displayName=gZ;var vZ="SelectPortal",MU=e=>u.jsx(mm,{asChild:!0,...e});MU.displayName=vZ;var qf="SelectContent",LU=P.forwardRef((e,t)=>{const n=dd(qf,e.__scopeSelect),[r,i]=P.useState();if(Yi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Zf.createPortal(u.jsx(FU,{scope:e.__scopeSelect,children:u.jsx(W_.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(UU,{...e,ref:t})});LU.displayName=qf;var Ea=10,[FU,fd]=_m(qf),yZ="SelectContentImpl",UU=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:l,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:E,sticky:x,hideWhenDetached:y,avoidCollisions:w,...R}=e,_=dd(qf,n),[C,I]=P.useState(null),[j,U]=P.useState(null),$=xn(t,Ye=>I(Ye)),[z,q]=P.useState(null),[X,J]=P.useState(null),G=H_(n),[ee,ce]=P.useState(!1),xe=P.useRef(!1);P.useEffect(()=>{if(C)return D_(C)},[C]),k_();const Se=P.useCallback(Ye=>{const[lt,...Ut]=G().map(qt=>qt.ref.current),[Jt]=Ut.slice(-1),Bt=document.activeElement;for(const qt of Ye)if(qt===Bt||(qt==null||qt.scrollIntoView({block:"nearest"}),qt===lt&&j&&(j.scrollTop=0),qt===Jt&&j&&(j.scrollTop=j.scrollHeight),qt==null||qt.focus(),document.activeElement!==Bt))return},[G,j]),ve=P.useCallback(()=>Se([z,C]),[Se,z,C]);P.useEffect(()=>{ee&&ve()},[ee,ve]);const{onOpenChange:Y,triggerPointerDownPosRef:Q}=_;P.useEffect(()=>{if(C){let Ye={x:0,y:0};const lt=Jt=>{var Bt,qt;Ye={x:Math.abs(Math.round(Jt.pageX)-(((Bt=Q.current)==null?void 0:Bt.x)??0)),y:Math.abs(Math.round(Jt.pageY)-(((qt=Q.current)==null?void 0:qt.y)??0))}},Ut=Jt=>{Ye.x<=10&&Ye.y<=10?Jt.preventDefault():C.contains(Jt.target)||Y(!1),document.removeEventListener("pointermove",lt),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",lt),document.addEventListener("pointerup",Ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",lt),document.removeEventListener("pointerup",Ut,{capture:!0})}}},[C,Y,Q]),P.useEffect(()=>{const Ye=()=>Y(!1);return window.addEventListener("blur",Ye),window.addEventListener("resize",Ye),()=>{window.removeEventListener("blur",Ye),window.removeEventListener("resize",Ye)}},[Y]);const[ne,fe]=nB(Ye=>{const lt=G().filter(Bt=>!Bt.disabled),Ut=lt.find(Bt=>Bt.ref.current===document.activeElement),Jt=rB(lt,Ye,Ut);Jt&&setTimeout(()=>Jt.ref.current.focus())}),Te=P.useCallback((Ye,lt,Ut)=>{const Jt=!xe.current&&!Ut;(_.value!==void 0&&_.value===lt||Jt)&&(q(Ye),Jt&&(xe.current=!0))},[_.value]),He=P.useCallback(()=>C==null?void 0:C.focus(),[C]),Le=P.useCallback((Ye,lt,Ut)=>{const Jt=!xe.current&&!Ut;(_.value!==void 0&&_.value===lt||Jt)&&J(Ye)},[_.value]),bt=r==="popper"?d1:BU,Gt=bt===d1?{side:a,sideOffset:c,align:l,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:E,sticky:x,hideWhenDetached:y,avoidCollisions:w}:{};return u.jsx(FU,{scope:n,content:C,viewport:j,onViewportChange:U,itemRefCallback:Te,selectedItem:z,onItemLeave:He,itemTextRefCallback:Le,focusSelectedItem:ve,selectedItemText:X,position:r,isPositioned:ee,searchRef:ne,children:u.jsx(_y,{as:xc,allowPinchZoom:!0,children:u.jsx(xy,{asChild:!0,trapped:_.open,onMountAutoFocus:Ye=>{Ye.preventDefault()},onUnmountAutoFocus:Ke(i,Ye=>{var lt;(lt=_.trigger)==null||lt.focus({preventScroll:!0}),Ye.preventDefault()}),children:u.jsx(pm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Ye=>Ye.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(bt,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ye=>Ye.preventDefault(),...R,...Gt,onPlaced:()=>ce(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ke(R.onKeyDown,Ye=>{const lt=Ye.ctrlKey||Ye.altKey||Ye.metaKey;if(Ye.key==="Tab"&&Ye.preventDefault(),!lt&&Ye.key.length===1&&fe(Ye.key),["ArrowUp","ArrowDown","Home","End"].includes(Ye.key)){let Jt=G().filter(Bt=>!Bt.disabled).map(Bt=>Bt.ref.current);if(["ArrowUp","End"].includes(Ye.key)&&(Jt=Jt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ye.key)){const Bt=Ye.target,qt=Jt.indexOf(Bt);Jt=Jt.slice(qt+1)}setTimeout(()=>Se(Jt)),Ye.preventDefault()}})})})})})})});UU.displayName=yZ;var bZ="SelectItemAlignedPosition",BU=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=dd(qf,n),s=fd(qf,n),[a,c]=P.useState(null),[l,h]=P.useState(null),p=xn(t,$=>h($)),m=H_(n),E=P.useRef(!1),x=P.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:R,focusSelectedItem:_}=s,C=P.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&l&&y&&w&&R){const $=o.trigger.getBoundingClientRect(),z=l.getBoundingClientRect(),q=o.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(o.dir!=="rtl"){const Bt=X.left-z.left,qt=q.left-Bt,Un=$.left-qt,Qn=$.width+Un,ut=Math.max(Qn,z.width),Ar=window.innerWidth-Ea,Mi=u1(qt,[Ea,Math.max(Ea,Ar-ut)]);a.style.minWidth=Qn+"px",a.style.left=Mi+"px"}else{const Bt=z.right-X.right,qt=window.innerWidth-q.right-Bt,Un=window.innerWidth-$.right-qt,Qn=$.width+Un,ut=Math.max(Qn,z.width),Ar=window.innerWidth-Ea,Mi=u1(qt,[Ea,Math.max(Ea,Ar-ut)]);a.style.minWidth=Qn+"px",a.style.right=Mi+"px"}const J=m(),G=window.innerHeight-Ea*2,ee=y.scrollHeight,ce=window.getComputedStyle(l),xe=parseInt(ce.borderTopWidth,10),Se=parseInt(ce.paddingTop,10),ve=parseInt(ce.borderBottomWidth,10),Y=parseInt(ce.paddingBottom,10),Q=xe+Se+ee+Y+ve,ne=Math.min(w.offsetHeight*5,Q),fe=window.getComputedStyle(y),Te=parseInt(fe.paddingTop,10),He=parseInt(fe.paddingBottom,10),Le=$.top+$.height/2-Ea,bt=G-Le,Gt=w.offsetHeight/2,Ye=w.offsetTop+Gt,lt=xe+Se+Ye,Ut=Q-lt;if(lt<=Le){const Bt=J.length>0&&w===J[J.length-1].ref.current;a.style.bottom="0px";const qt=l.clientHeight-y.offsetTop-y.offsetHeight,Un=Math.max(bt,Gt+(Bt?He:0)+qt+ve),Qn=lt+Un;a.style.height=Qn+"px"}else{const Bt=J.length>0&&w===J[0].ref.current;a.style.top="0px";const Un=Math.max(Le,xe+y.offsetTop+(Bt?Te:0)+Gt)+Ut;a.style.height=Un+"px",y.scrollTop=lt-Le+y.offsetTop}a.style.margin=`${Ea}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[m,o.trigger,o.valueNode,a,l,y,w,R,o.dir,r]);Yi(()=>C(),[C]);const[I,j]=P.useState();Yi(()=>{l&&j(window.getComputedStyle(l).zIndex)},[l]);const U=P.useCallback($=>{$&&x.current===!0&&(C(),_==null||_(),x.current=!1)},[C,_]);return u.jsx(SZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:E,onScrollButtonChange:U,children:u.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(Pt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});BU.displayName=bZ;var xZ="SelectPopperPosition",d1=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ea,...o}=e,s=G_(n);return u.jsx(XR,{...s,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d1.displayName=xZ;var[SZ,Fk]=_m(qf,{}),f1="SelectViewport",$U=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=fd(f1,n),s=Fk(f1,n),a=xn(t,o.onViewportChange),c=P.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(W_.Slot,{scope:n,children:u.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,l=>{const h=l.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&p){const E=Math.abs(c.current-h.scrollTop);if(E>0){const x=window.innerHeight-Ea*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),R=Math.max(y,w);if(R<x){const _=R+E,C=Math.min(x,_),I=_-C;p.style.height=C+"px",p.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});$U.displayName=f1;var VU="SelectGroup",[_Z,wZ]=_m(VU),EZ=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=vc();return u.jsx(_Z,{scope:n,id:i,children:u.jsx(Pt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});EZ.displayName=VU;var zU="SelectLabel",WU=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=wZ(zU,n);return u.jsx(Pt.div,{id:i.id,...r,ref:t})});WU.displayName=zU;var LS="SelectItem",[CZ,HU]=_m(LS),GU=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=dd(LS,n),c=fd(LS,n),l=a.value===r,[h,p]=P.useState(o??""),[m,E]=P.useState(!1),x=xn(t,_=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,_,r,i)}),y=vc(),w=P.useRef("touch"),R=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(CZ,{scope:n,value:r,disabled:i,textId:y,isSelected:l,onItemTextChange:P.useCallback(_=>{p(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(W_.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:u.jsx(Pt.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":l&&m,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:Ke(s.onFocus,()=>E(!0)),onBlur:Ke(s.onBlur,()=>E(!1)),onClick:Ke(s.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:Ke(s.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:Ke(s.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Ke(s.onPointerMove,_=>{var C;w.current=_.pointerType,i?(C=c.onItemLeave)==null||C.call(c):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(s.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:Ke(s.onKeyDown,_=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(dZ.includes(_.key)&&R(),_.key===" "&&_.preventDefault())})})})})});GU.displayName=LS;var ov="SelectItemText",qU=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=dd(ov,n),a=fd(ov,n),c=HU(ov,n),l=mZ(ov,n),[h,p]=P.useState(null),m=xn(t,R=>p(R),c.onItemTextChange,R=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,R,c.value,c.disabled)}),E=h==null?void 0:h.textContent,x=P.useMemo(()=>u.jsx("option",{value:c.value,disabled:c.disabled,children:E},c.value),[c.disabled,c.value,E]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=l;return Yi(()=>(y(x),()=>w(x)),[y,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(Pt.span,{id:c.textId,...o,ref:m}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Zf.createPortal(o.children,s.valueNode):null]})});qU.displayName=ov;var KU="SelectItemIndicator",YU=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return HU(KU,n).isSelected?u.jsx(Pt.span,{"aria-hidden":!0,...r,ref:t}):null});YU.displayName=KU;var h1="SelectScrollUpButton",QU=P.forwardRef((e,t)=>{const n=fd(h1,e.__scopeSelect),r=Fk(h1,e.__scopeSelect),[i,o]=P.useState(!1),s=xn(t,r.onScrollButtonChange);return Yi(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollTop>0;o(l)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(JU,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});QU.displayName=h1;var p1="SelectScrollDownButton",XU=P.forwardRef((e,t)=>{const n=fd(p1,e.__scopeSelect),r=Fk(p1,e.__scopeSelect),[i,o]=P.useState(!1),s=xn(t,r.onScrollButtonChange);return Yi(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<l;o(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(JU,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});XU.displayName=p1;var JU=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=fd("SelectScrollButton",n),s=P.useRef(null),a=H_(n),c=P.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),Yi(()=>{var h;const l=a().find(p=>p.ref.current===document.activeElement);(h=l==null?void 0:l.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(Pt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{c()})})}),TZ="SelectSeparator",ZU=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Pt.div,{"aria-hidden":!0,...r,ref:t})});ZU.displayName=TZ;var m1="SelectArrow",RZ=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=G_(n),o=dd(m1,n),s=fd(m1,n);return o.open&&s.position==="popper"?u.jsx(JR,{...i,...r,ref:t}):null});RZ.displayName=m1;function eB(e){return e===""||e===void 0}var tB=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=P.useRef(null),o=xn(t,i),s=jk(n);return P.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[s,n]),u.jsx(h_,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});tB.displayName="BubbleSelect";function nB(e){const t=$r(e),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(s=>{const a=n.current+s;t(a),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function rB(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=kZ(e,Math.max(o,0));i.length===1&&(s=s.filter(l=>l!==n));const c=s.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function kZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var OZ=PU,iB=IU,PZ=jU,NZ=DU,IZ=MU,oB=LU,AZ=$U,sB=WU,aB=GU,jZ=qU,DZ=YU,cB=QU,lB=XU,uB=ZU;const bf=OZ,xf=PZ,ku=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(iB,{ref:r,className:it("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(NZ,{asChild:!0,children:u.jsx(v_,{className:"h-4 w-4 opacity-50"})})]}));ku.displayName=iB.displayName;const dB=P.forwardRef(({className:e,...t},n)=>u.jsx(cB,{ref:n,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(qz,{className:"h-4 w-4"})}));dB.displayName=cB.displayName;const fB=P.forwardRef(({className:e,...t},n)=>u.jsx(lB,{ref:n,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(v_,{className:"h-4 w-4"})}));fB.displayName=lB.displayName;const Ou=P.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>u.jsx(IZ,{children:u.jsxs(oB,{ref:i,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(dB,{}),u.jsx(AZ,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(fB,{})]})}));Ou.displayName=oB.displayName;const MZ=P.forwardRef(({className:e,...t},n)=>u.jsx(sB,{ref:n,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));MZ.displayName=sB.displayName;const Qo=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(aB,{ref:r,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(DZ,{children:u.jsx(my,{className:"h-4 w-4"})})}),u.jsx(jZ,{children:t})]}));Qo.displayName=aB.displayName;const LZ=P.forwardRef(({className:e,...t},n)=>u.jsx(uB,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));LZ.displayName=uB.displayName;const FZ=g_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hB({className:e,variant:t,...n}){return u.jsx("div",{className:it(FZ({variant:t}),e),...n})}function UZ(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var Uk="ScrollArea",[pB,Tae]=Tc(Uk),[BZ,aa]=pB(Uk),mB=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,c]=P.useState(null),[l,h]=P.useState(null),[p,m]=P.useState(null),[E,x]=P.useState(null),[y,w]=P.useState(null),[R,_]=P.useState(0),[C,I]=P.useState(0),[j,U]=P.useState(!1),[$,z]=P.useState(!1),q=xn(t,J=>c(J)),X=by(i);return u.jsx(BZ,{scope:n,type:r,dir:X,scrollHideDelay:o,scrollArea:a,viewport:l,onViewportChange:h,content:p,onContentChange:m,scrollbarX:E,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:U,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:$,onScrollbarYEnabledChange:z,onCornerWidthChange:_,onCornerHeightChange:I,children:u.jsx(Pt.div,{dir:X,...s,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});mB.displayName=Uk;var gB="ScrollAreaViewport",vB=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:o,...s}=e,a=aa(gB,n),c=P.useRef(null),l=xn(t,c,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),u.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:QZ({asChild:i,children:r},h=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});vB.displayName=gB;var kc="ScrollAreaScrollbar",Bk=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=aa(kc,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return P.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx($Z,{...r,ref:t,forceMount:n}):i.type==="scroll"?u.jsx(VZ,{...r,ref:t,forceMount:n}):i.type==="auto"?u.jsx(yB,{...r,ref:t,forceMount:n}):i.type==="always"?u.jsx($k,{...r,ref:t}):null});Bk.displayName=kc;var $Z=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=aa(kc,e.__scopeScrollArea),[o,s]=P.useState(!1);return P.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const l=()=>{window.clearTimeout(c),s(!0)},h=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(uo,{present:n||o,children:u.jsx(yB,{"data-state":o?"visible":"hidden",...r,ref:t})})}),VZ=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=aa(kc,e.__scopeScrollArea),o=e.orientation==="horizontal",s=K_(()=>c("SCROLL_END"),100),[a,c]=UZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,c]),P.useEffect(()=>{const l=i.viewport,h=o?"scrollLeft":"scrollTop";if(l){let p=l[h];const m=()=>{const E=l[h];p!==E&&(c("SCROLL"),s()),p=E};return l.addEventListener("scroll",m),()=>l.removeEventListener("scroll",m)}},[i.viewport,o,c,s]),u.jsx(uo,{present:n||a!=="hidden",children:u.jsx($k,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ke(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ke(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yB=P.forwardRef((e,t)=>{const n=aa(kc,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=P.useState(!1),a=e.orientation==="horizontal",c=K_(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?l:h)}},10);return sm(n.viewport,c),sm(n.content,c),u.jsx(uo,{present:r||o,children:u.jsx($k,{"data-state":o?"visible":"hidden",...i,ref:t})})}),$k=P.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=aa(kc,e.__scopeScrollArea),o=P.useRef(null),s=P.useRef(0),[a,c]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=wB(a.viewport,a.content),h={...r,sizes:a,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function p(m,E){return KZ(m,s.current,a,E)}return n==="horizontal"?u.jsx(zZ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollLeft,E=lI(m,a,i.dir);o.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=p(m,i.dir))}}):n==="vertical"?u.jsx(WZ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollTop,E=lI(m,a);o.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=p(m))}}):null}),zZ=P.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=aa(kc,e.__scopeScrollArea),[s,a]=P.useState(),c=P.useRef(null),l=xn(t,c,o.onScrollbarXChange);return P.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),u.jsx(xB,{"data-orientation":"horizontal",...i,ref:l,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":q_(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(o.viewport){const m=o.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),CB(m,p)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:US(s.paddingLeft),paddingEnd:US(s.paddingRight)}})}})}),WZ=P.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=aa(kc,e.__scopeScrollArea),[s,a]=P.useState(),c=P.useRef(null),l=xn(t,c,o.onScrollbarYChange);return P.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),u.jsx(xB,{"data-orientation":"vertical",...i,ref:l,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":q_(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(o.viewport){const m=o.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),CB(m,p)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:US(s.paddingTop),paddingEnd:US(s.paddingBottom)}})}})}),[HZ,bB]=pB(kc),xB=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:h,onResize:p,...m}=e,E=aa(kc,n),[x,y]=P.useState(null),w=xn(t,q=>y(q)),R=P.useRef(null),_=P.useRef(""),C=E.viewport,I=r.content-r.viewport,j=$r(h),U=$r(c),$=K_(p,10);function z(q){if(R.current){const X=q.clientX-R.current.left,J=q.clientY-R.current.top;l({x:X,y:J})}}return P.useEffect(()=>{const q=X=>{const J=X.target;(x==null?void 0:x.contains(J))&&j(X,I)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[C,x,I,j]),P.useEffect(U,[r,U]),sm(x,$),sm(E.content,$),u.jsx(HZ,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:$r(o),onThumbPointerUp:$r(s),onThumbPositionChange:U,onThumbPointerDown:$r(a),children:u.jsx(Pt.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Ke(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),R.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),z(q))}),onPointerMove:Ke(e.onPointerMove,z),onPointerUp:Ke(e.onPointerUp,q=>{const X=q.target;X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=_.current,E.viewport&&(E.viewport.style.scrollBehavior=""),R.current=null})})})}),FS="ScrollAreaThumb",SB=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=bB(FS,e.__scopeScrollArea);return u.jsx(uo,{present:n||i.hasThumb,children:u.jsx(GZ,{ref:t,...r})})}),GZ=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=aa(FS,n),s=bB(FS,n),{onThumbPositionChange:a}=s,c=xn(t,p=>s.onThumbChange(p)),l=P.useRef(),h=K_(()=>{l.current&&(l.current(),l.current=void 0)},100);return P.useEffect(()=>{const p=o.viewport;if(p){const m=()=>{if(h(),!l.current){const E=YZ(p,a);l.current=E,a()}};return a(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[o.viewport,h,a]),u.jsx(Pt.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ke(e.onPointerDownCapture,p=>{const E=p.target.getBoundingClientRect(),x=p.clientX-E.left,y=p.clientY-E.top;s.onThumbPointerDown({x,y})}),onPointerUp:Ke(e.onPointerUp,s.onThumbPointerUp)})});SB.displayName=FS;var Vk="ScrollAreaCorner",_B=P.forwardRef((e,t)=>{const n=aa(Vk,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(qZ,{...e,ref:t}):null});_B.displayName=Vk;var qZ=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=aa(Vk,n),[o,s]=P.useState(0),[a,c]=P.useState(0),l=!!(o&&a);return sm(i.scrollbarX,()=>{var p;const h=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),sm(i.scrollbarY,()=>{var p;const h=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(h),s(h)}),l?u.jsx(Pt.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function US(e){return e?parseInt(e,10):0}function wB(e,t){const n=e/t;return isNaN(n)?0:n}function q_(e){const t=wB(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function KZ(e,t,n,r="ltr"){const i=q_(n),o=i/2,s=t||o,a=i-s,c=n.scrollbar.paddingStart+s,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return EB([c,l],p)(e)}function lI(e,t,n="ltr"){const r=q_(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,s]:[s*-1,0],l=u1(e,c);return EB([0,s],[0,a])(l)}function EB(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function CB(e,t){return e>0&&e<t}var YZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function K_(e,t){const n=$r(e),r=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),P.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function sm(e,t){const n=$r(t);Yi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}function QZ(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const i=P.Children.only(r);return P.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var TB=mB,XZ=vB,JZ=_B;const RB=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(TB,{ref:r,className:it("relative overflow-hidden",e),...n,children:[u.jsx(XZ,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(kB,{}),u.jsx(JZ,{})]}));RB.displayName=TB.displayName;const kB=P.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(Bk,{ref:r,orientation:t,className:it("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(SB,{className:"relative flex-1 rounded-full bg-border"})}));kB.displayName=Bk.displayName;const ZZ=({lessons:e,currentIndex:t,setCurrentIndex:n,removeLesson:r})=>u.jsx(RB,{className:"h-[60px] w-full ",children:u.jsx("div",{className:"flex gap-2 p-1  flex-wrap",children:e.map((i,o)=>u.jsxs(hB,{variant:t===o?"default":"secondary",className:"cursor-pointer whitespace-nowrap flex items-center ",onClick:()=>n(o),children:[i.title||`Lesson ${o+1}`,e.length>1&&u.jsx(cd,{className:"h-3 w-3 ml-1 inline-block",onClick:s=>{s.stopPropagation(),r(o)}})]},o))})});var zk="Switch",[eee,Rae]=Tc(zk),[tee,nee]=eee(zk),OB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:l,form:h,...p}=e,[m,E]=P.useState(null),x=xn(t,C=>E(C)),y=P.useRef(!1),w=m?h||!!m.closest("form"):!0,[R=!1,_]=pl({prop:i,defaultProp:o,onChange:l});return u.jsxs(tee,{scope:n,checked:R,disabled:a,children:[u.jsx(Pt.button,{type:"button",role:"switch","aria-checked":R,"aria-required":s,"data-state":IB(R),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:x,onClick:Ke(e.onClick,C=>{_(I=>!I),w&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),w&&u.jsx(ree,{control:m,bubbles:!y.current,name:r,value:c,checked:R,required:s,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});OB.displayName=zk;var PB="SwitchThumb",NB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=nee(PB,n);return u.jsx(Pt.span,{"data-state":IB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});NB.displayName=PB;var ree=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=P.useRef(null),s=jk(n),a=qR(t);return P.useEffect(()=>{const c=o.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function IB(e){return e?"checked":"unchecked"}var AB=OB,iee=NB;const hd=P.forwardRef(({className:e,...t},n)=>u.jsx(AB,{className:it("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:u.jsx(iee,{className:it("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hd.displayName=AB.displayName;const oee=({lesson:e,updateLesson:t})=>u.jsxs("div",{className:"space-y-4 px-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"title",children:"Title"}),u.jsx(sn,{id:"title",value:e.title,onChange:n=>t({title:n.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"description",children:"Description"}),u.jsx(ih,{id:"description",value:e.description,onChange:n=>t({description:n.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialType",children:"Material Type"}),u.jsxs(bf,{value:e.materialType,onValueChange:n=>t({materialType:n}),children:[u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select material type"})}),u.jsxs(Ou,{children:[u.jsx(Qo,{value:"none",children:"None"}),u.jsx(Qo,{value:"pdf",children:"PDF"}),u.jsx(Qo,{value:"video",children:"Video"})]})]})]}),e.materialType!=="none"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialUrl",children:"Material URL"}),u.jsx(sn,{id:"materialUrl",value:e.materialUrl,onChange:n=>t({materialUrl:n.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hd,{id:"isMaterial",checked:e.isMaterial,onCheckedChange:n=>t({isMaterial:n})}),u.jsx(Ai,{htmlFor:"isMaterial",children:"Has Material"})]})]}),see={courses:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Ap=wt("courses/fetchCourses",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(h8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),nx=wt("courses/addCourse",async(e,{rejectWithValue:t})=>{try{return(await mt.post(f8,e)).data}catch(n){return t(n)}}),rx=wt("courses/updateCourse",async({id:e,courseData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${p8}/${e}`,t)).data}catch(r){return n(r)}}),ix=wt("courses/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await mt.post(m8,{courseId:e})).data}catch(n){return t(n)}}),aee=is({name:"courses",initialState:see,reducers:{},extraReducers:e=>{e.addCase(Ap.pending,t=>{t.isLoading=!0}).addCase(Ap.fulfilled,(t,n)=>{t.isLoading=!1,t.courses=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(Ap.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message||"Failed to fetch courses"}).addCase(nx.pending,(t,n)=>{t.isLoading=!0}).addCase(nx.fulfilled,(t,n)=>{t.isLoading=!1,t.courses.push(n.payload),t.courses.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(nx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(rx.pending,(t,n)=>{t.isLoading=!0}).addCase(rx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(rx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.courses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.courses[r]=n.payload)}).addCase(ix.pending,(t,n)=>{}).addCase(ix.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(ix.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.courses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.courses[r].isActive=!t.courses[r].isActive)})}}),cee=aee.reducer,lee={board:[],currentboard:null,isLoading:!1,error:null},ox=wt("createboard",async(e,{rejectWithValue:t})=>{try{return(await mt.post(n8,e)).data}catch(n){return t(n.response.data)}}),If=wt("getAllboard",async(e,{rejectWithValue:t})=>{try{return(await mt.get(i8)).data}catch(n){return t(n.response.data)}}),dC=wt("boardById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(r8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),sx=wt("updataboard",async({_id:e,data:t},{rejectWithValue:n})=>{try{return(await mt.put(o8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),ax=wt("toggleboard",async(e,{rejectWithValue:t})=>{try{return(await mt.post(s8,e)).data}catch(n){return t(n.response.data)}}),uee=is({name:"board",initialState:lee,reducers:{},extraReducers:e=>{e.addCase(ox.pending,t=>{t.isLoading=!0}).addCase(ox.fulfilled,(t,n)=>{t.isLoading=!1,t.board.push(n.payload),t.board.sort((r,i)=>r.createdAt<i.createdAt?-1:1)}).addCase(ox.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(If.pending,t=>{t.isLoading=!0}).addCase(If.fulfilled,(t,n)=>{t.isLoading=!1,t.board=n.payload}).addCase(If.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(dC.pending,t=>{t.isLoading=!0}).addCase(dC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentboard=n.payload}).addCase(dC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(sx.pending,t=>{t.isLoading=!0}).addCase(sx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.board.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.board[r]=n.payload)}).addCase(sx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(ax.pending,t=>{t.isLoading=!0}).addCase(ax.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.board.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.board[r].isActive=!t.board[r].isActive)}).addCase(ax.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),dee=uee.reducer,fee=({isOpen:e,onClose:t})=>{const[n,r]=P.useState([{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]);console.log(n);const[i,o]=P.useState(0),[s,a]=P.useState(""),{toast:c}=_l(),l=Yn();P.useEffect(()=>{e&&(l(Ap({page:1,search:""})),l(al()),l(Nf()),l(If()))},[e,l]);const{courses:h,standards:p,subjects:m}=Nn(C=>({courses:C.course.courses,standards:C.standard.standards,subjects:C.subject.subjects})),{board:E,isLoading:x}=Nn(C=>C.board),y=async C=>{C.preventDefault();try{const I=await l(Sv({courseId:s,lessons:n}));if(Sv.fulfilled.match(I))c({title:"Success",description:"Lessons added successfully"}),t();else throw new Error("Failed to save lessons")}catch(I){c({title:"Error",description:I.message||"Failed to save lessons",variant:"destructive"})}},w=()=>{r([...n,{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]),o(n.length)},R=C=>{const I=n.filter((j,U)=>U!==C);r(I),i>=C&&i>0&&o(i-1)},_=(C,I)=>{const j=n.map((U,$)=>$===C?{...U,...I}:U);r(j)};return u.jsx(ud,{open:e,onOpenChange:t,children:u.jsxs(wl,{className:"sm:max-w-[600px] max-h-[90vh] flex flex-col",children:[u.jsx(El,{children:u.jsx(Cl,{children:"Add New Lessons"})}),u.jsxs("div",{className:"space-y-4 mb-4 px-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"course",children:"Select Course"}),u.jsxs(bf,{value:n[i].courseId||"",onValueChange:C=>_(i,{courseId:C}),children:[u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select a course"})}),u.jsx(Ou,{children:h.map(C=>u.jsx(Qo,{value:C._id,children:C.title},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"standard",children:"Select Standard"}),u.jsxs(bf,{value:n[i].standard||"",onValueChange:C=>_(i,{standard:C}),children:[u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select a standard"})}),u.jsx(Ou,{children:p.map(C=>u.jsx(Qo,{value:C._id,children:C.std},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"subject",children:"Select Subject"}),u.jsxs(bf,{value:n[i].subject||"",onValueChange:C=>_(i,{subject:C}),children:[u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select a subject"})}),u.jsx(Ou,{children:m.map(C=>u.jsx(Qo,{value:C._id,children:C.subject},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"board",children:"Select Board"}),u.jsxs(bf,{value:n[i].boardId||"",onValueChange:C=>_(i,{boardId:C}),children:[u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select a board"})}),u.jsx(Ou,{children:E==null?void 0:E.map(C=>u.jsx(Qo,{value:C._id,children:C.boardname},C._id))})]})]})]}),u.jsxs("div",{className:"flex gap-4 mb-4 px-2",children:[u.jsx(ZZ,{lessons:n,currentIndex:i,setCurrentIndex:o,removeLesson:R}),u.jsx(Ot,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:u.jsx(Qu,{className:"h-4 w-4"})})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4 flex-1 overflow-y-auto",children:[u.jsx(oee,{lesson:n[i],updateLesson:C=>_(i,C)}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:t,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Add Lessons"})]})]})]})})},hee=({isOpen:e,onClose:t,lesson:n})=>{const[r,i]=P.useState({title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:""});P.useEffect(()=>{n&&i({title:n.title,description:n.description,materialType:n.materialType,materialUrl:n.materialUrl,isMaterial:n.isMaterial,courseId:n.courseId})},[n]);const{toast:o}=_l(),s=Yn(),a=c=>{c.preventDefault(),console.log(r,"edit data"),t();try{const l=s(_v({id:n._id,courseData:r}));_v.fulfilled.match(l)&&o({title:"Success",description:"Lesson updated successfully"})}catch(l){o({title:"Error",description:l.message||"Failed to update lesson",variant:"destructive"})}};return n?u.jsx(ud,{open:e,onOpenChange:t,children:u.jsxs(wl,{className:"sm:max-w-[425px]",children:[u.jsx(El,{children:u.jsx(Cl,{children:"Edit Lesson"})}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"title",children:"Title"}),u.jsx(sn,{id:"title",value:r.title,onChange:c=>i({...r,title:c.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"description",children:"Description"}),u.jsx(ih,{id:"description",value:r.description,onChange:c=>i({...r,description:c.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialType",children:"Material Type"}),u.jsxs(bf,{value:r.materialType,onValueChange:c=>i({...r,materialType:c}),children:[u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select material type"})}),u.jsxs(Ou,{children:[u.jsx(Qo,{value:"none",children:"None"}),u.jsx(Qo,{value:"pdf",children:"PDF"}),u.jsx(Qo,{value:"video",children:"Video"})]})]})]}),r.materialType!=="none"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialUrl",children:"Material URL"}),u.jsx(sn,{id:"materialUrl",value:r.materialUrl,onChange:c=>i({...r,materialUrl:c.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hd,{id:"isMaterial",checked:r.isMaterial,onCheckedChange:c=>i({...r,isMaterial:c})}),u.jsx(Ai,{htmlFor:"isMaterial",children:"Has Material"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:t,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Save Changes"})]})]})]})}):null},pee=({lessons:e,onEdit:t})=>{const n=Yn(),r=i=>{n(tx(i))};return u.jsx("div",{className:"relative overflow-x-auto",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Material Type"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Created At"}),u.jsx(qe,{className:"text-right",children:"Actions"})]})}),u.jsx(Ds,{children:e.map(i=>u.jsxs(Tn,{children:[u.jsx(Fe,{className:"font-medium",children:i.title}),u.jsx(Fe,{children:u.jsx(hB,{variant:i.materialType==="none"?"secondary":"default",children:i.materialType})}),u.jsx(Fe,{children:u.jsx(hd,{checked:i.isActive,onCheckedChange:()=>{r(i._id)},className:"data-[state=checked]:bg-green-500"})}),u.jsx(Fe,{children:new Date(i.createdAt).toLocaleDateString()}),u.jsx(Fe,{className:"text-right",children:u.jsx(Ot,{variant:"ghost",size:"sm",onClick:()=>t(i),className:"hover:bg-gray-100",children:u.jsx(NR,{className:"h-4 w-4"})})})]},i._id))})]})})},mee=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(!1),[i,o]=P.useState(null),[s,a]=P.useState(""),c=Yn(),{lessons:l,isLoading:h,currentPage:p,totalPages:m}=Nn(y=>y.lesson);P.useEffect(()=>{E(1)},[s]);const E=y=>{c(ex({page:y,search:s}))},x=y=>{o(y),r(!0)};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lessons"}),u.jsxs(Ot,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[u.jsx(Qu,{className:"h-4 w-4"}),"Add Lesson"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search lesson by title",value:s,onChange:y=>{a(y.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsx(pee,{lessons:l,onEdit:x})}),u.jsx(fee,{isOpen:e,onClose:()=>t(!1)}),u.jsx(hee,{isOpen:n,onClose:()=>r(!1),lesson:i}),m>=1&&u.jsx(sa,{currentPage:p,totalPages:m,onPageChange:E})]})},gee=Pf({title:Dn().min(1,"Title is required"),description:Dn().min(10,"Description must be at least 10 characters"),price:Of().min(0,"Price must be 0 or greater"),duration:Dn().min(1,"Duration is required"),features:$u(Dn().min(1,"Feature cannot be empty")),thumbnail:Dn().url("Must be a valid URL"),standard:Dn().min(1,"Standard is required"),subject:Dn().min(1,"Subject is required"),boardId:Dn().min(1,"Board is required"),skillLevel:UJ(["Beginner","Intermediate","Advanced"]),lessons:$u(Dn()),isActive:DS(),bookPDF:$u(Dn().url("Must be a valid URL")).optional(),bonusPercent:Of().min(0,"Price must be 0 or greater").optional()});function vee({initialData:e,onSubmit:t,onCancel:n}){const{standards:r,isLoading:i}=Nn(_=>_.standard),{subjects:o,isLoading:s}=Nn(_=>_.subject),{board:a,isLoading:c}=Nn(_=>_.board),l=Yn();P.useEffect(()=>{l(al()),l(If()),h("")},[]);const h=_=>{l(Nf(_))},p=nh({resolver:Ay(gee),defaultValues:{title:"",description:"",price:0,duration:"",features:[""],thumbnail:"",standard:"",subject:"",boardId:"",skillLevel:"Beginner",lessons:[],isActive:!0,bookPDF:[],bonusPercent:0}}),{fields:m,append:E,remove:x}=GN({control:p.control,name:"features"}),{fields:y,append:w,remove:R}=GN({control:p.control,name:"bookPDF"});return P.useEffect(()=>{e?Object.keys(e).forEach(_=>{_==="standard"||_==="subject"?p.setValue(_,e[_]._id):_==="bookPDF"?p.setValue(_,e[_]||[]):p.setValue(_,e[_])}):(p.clearErrors(),p.reset())},[e,p]),u.jsx(rh,{...p,children:u.jsxs("form",{onSubmit:p.handleSubmit(t),className:"space-y-6",children:[u.jsx(Xt,{control:p.control,name:"title",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Course title",..._})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"description",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Description"}),u.jsx(vn,{children:u.jsx(ih,{placeholder:"Course description",..._})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:p.control,name:"price",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Price"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"0",..._,onChange:C=>_.onChange(Number(C.target.value))})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"duration",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Duration"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"e.g., 2 months",..._})}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:p.control,name:"thumbnail",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Thumbnail URL"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"https://...",..._})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:p.control,name:"standard",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select standard",name:"standard",control:p.control,onSearch:()=>{},listing:r.map(C=>({id:C._id,label:C.std})),onItemSelect:C=>h(C)}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"subject",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Subject"}),s?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select subject",name:"subject",control:p.control,onSearch:()=>{},listing:o.map(C=>{var I;return{id:C._id,label:C.standard?C.subject+" - "+((I=C.standard)==null?void 0:I.std):C.subject}}),onItemSelect:C=>{}}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:p.control,name:"boardId",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Board"}),c?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select board",name:"boardId",control:p.control,onSearch:()=>{},listing:a.map(C=>({id:C._id,label:C.boardname})),onItemSelect:C=>{console.log("Selected board ID:",C)}}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"bonusPercent",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Refer Bonus Percentage"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Enter refer bonus percentage",..._,onChange:C=>_.onChange(Number(C.target.value))})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"skillLevel",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Skill Level"}),u.jsxs(bf,{onValueChange:_.onChange,defaultValue:_.value,children:[u.jsx(vn,{children:u.jsx(ku,{children:u.jsx(xf,{placeholder:"Select skill level"})})}),u.jsxs(Ou,{children:[u.jsx(Qo,{value:"Beginner",children:"Beginner"}),u.jsx(Qo,{value:"Intermediate",children:"Intermediate"}),u.jsx(Qo,{value:"Advanced",children:"Advanced"})]})]}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"features",render:()=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Features"}),m.map((_,C)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vn,{children:u.jsx(sn,{...p.register(`features.${C}`),placeholder:"Feature"})}),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>x(C),children:"Remove"})]},_.id)),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>E(""),className:"mt-2",children:"Add Feature"}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"bookPDF",render:()=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Book PDF Links (Optional)"}),y.map((_,C)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vn,{children:u.jsx(sn,{...p.register(`bookPDF.${C}`),placeholder:"PDF Link"})}),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>R(C),children:"Remove"})]},_.id)),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>w(""),className:"mt-2",children:"Add PDF Link"}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(Ot,{variant:"outline",onClick:n,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:e?"Update Course":"Add Course"})]})]})})}function yee({open:e,onClose:t,course:n,onSubmit:r}){return u.jsx(ud,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(wl,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[u.jsx(El,{children:u.jsx(Cl,{children:n?"Edit Course":"Add New Course"})}),u.jsx(vee,{initialData:n,onSubmit:r,onCancel:t})]})})}const bee=()=>{const e=Yn(),{toast:t}=_l(),[n,r]=P.useState(!1),[i,o]=P.useState(),[s,a]=P.useState(""),{courses:c,isLoading:l,currentPage:h,totalPages:p}=Nn(_=>_.course);P.useEffect(()=>{R(1)},[s]);const m=()=>{o(void 0),r(!0)},E=_=>{o(_),r(!0)},x=()=>{r(!1),o(void 0)},y=_=>{i?e(rx({id:i._id,courseData:_})).then(C=>{C.type=="courses/updateCourse/fulfilled"&&(t({title:"Success",description:"Course updated successfully."}),x())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})}):e(nx(_)).then(C=>{C.type=="courses/addCourse/fulfilled"&&(t({title:"Success",description:"Course added successfully"}),x())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})})},w=_=>{e(ix(_._id))},R=_=>{e(Ap({page:_,search:s}))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Courses"}),u.jsxs(Ot,{onClick:m,children:[u.jsx(Qu,{className:"mr-2 h-4 w-4"})," Add Course"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search courses by title",value:s,onChange:_=>{a(_.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Subject"}),u.jsx(qe,{children:"Standard"}),u.jsx(qe,{children:"Price ()"}),u.jsx(qe,{children:"Refer Bonus"}),u.jsx(qe,{children:"Skill Level"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{className:"text-right",children:"Actions"})]})}),u.jsx(Ds,{children:l?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):c.length===0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"No courses found"})}):c.map(_=>u.jsxs(Tn,{children:[u.jsx(Fe,{className:"font-medium",children:_.title}),u.jsx(Fe,{children:_.subject?_.subject.subject:"-"}),u.jsx(Fe,{children:_.standard?_.standard.std:"-"}),u.jsx(Fe,{children:_.price===0?"Free":`${_.price}`}),u.jsx(Fe,{children:_==null?void 0:_.bonusPercent}),u.jsx(Fe,{children:_.skillLevel}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),u.jsxs(Fe,{className:"text-right",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(_),children:u.jsx(gM,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.isActive?u.jsx(cd,{className:"h-4 w-4"}):u.jsx(my,{className:"h-4 w-4"})})]})]},_._id))})]})}),p>=1&&u.jsx(sa,{currentPage:h,totalPages:p,onPageChange:R}),u.jsx(yee,{open:n,onClose:x,course:i,onSubmit:y})]})};var xee=function(t){return See(t)&&!_ee(t)};function See(e){return!!e&&typeof e=="object"}function _ee(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Cee(e)}var wee=typeof Symbol=="function"&&Symbol.for,Eee=wee?Symbol.for("react.element"):60103;function Cee(e){return e.$$typeof===Eee}function Tee(e){return Array.isArray(e)?[]:{}}function BS(e,t){return t.clone!==!1&&t.isMergeableObject(e)?oy(Tee(e),e,t):e}function Ree(e,t,n){return e.concat(t).map(function(r){return BS(r,n)})}function kee(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=BS(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=BS(t[i],n):r[i]=oy(e[i],t[i],n)}),r}function oy(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ree,n.isMergeableObject=n.isMergeableObject||xee;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):kee(e,t,n):BS(t,n)}oy.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return oy(r,i,n)},{})};var g1=oy,jB=typeof global=="object"&&global&&global.Object===Object&&global,Oee=typeof self=="object"&&self&&self.Object===Object&&self,Oc=jB||Oee||Function("return this")(),rd=Oc.Symbol,DB=Object.prototype,Pee=DB.hasOwnProperty,Nee=DB.toString,Yg=rd?rd.toStringTag:void 0;function Iee(e){var t=Pee.call(e,Yg),n=e[Yg];try{e[Yg]=void 0;var r=!0}catch{}var i=Nee.call(e);return r&&(t?e[Yg]=n:delete e[Yg]),i}var Aee=Object.prototype,jee=Aee.toString;function Dee(e){return jee.call(e)}var Mee="[object Null]",Lee="[object Undefined]",uI=rd?rd.toStringTag:void 0;function oh(e){return e==null?e===void 0?Lee:Mee:uI&&uI in Object(e)?Iee(e):Dee(e)}function MB(e,t){return function(n){return e(t(n))}}var Wk=MB(Object.getPrototypeOf,Object);function sh(e){return e!=null&&typeof e=="object"}var Fee="[object Object]",Uee=Function.prototype,Bee=Object.prototype,LB=Uee.toString,$ee=Bee.hasOwnProperty,Vee=LB.call(Object);function dI(e){if(!sh(e)||oh(e)!=Fee)return!1;var t=Wk(e);if(t===null)return!0;var n=$ee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&LB.call(n)==Vee}function zee(){this.__data__=[],this.size=0}function FB(e,t){return e===t||e!==e&&t!==t}function Y_(e,t){for(var n=e.length;n--;)if(FB(e[n][0],t))return n;return-1}var Wee=Array.prototype,Hee=Wee.splice;function Gee(e){var t=this.__data__,n=Y_(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Hee.call(t,n,1),--this.size,!0}function qee(e){var t=this.__data__,n=Y_(t,e);return n<0?void 0:t[n][1]}function Kee(e){return Y_(this.__data__,e)>-1}function Yee(e,t){var n=this.__data__,r=Y_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Tl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tl.prototype.clear=zee;Tl.prototype.delete=Gee;Tl.prototype.get=qee;Tl.prototype.has=Kee;Tl.prototype.set=Yee;function Qee(){this.__data__=new Tl,this.size=0}function Xee(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Jee(e){return this.__data__.get(e)}function Zee(e){return this.__data__.has(e)}function Dy(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ete="[object AsyncFunction]",tte="[object Function]",nte="[object GeneratorFunction]",rte="[object Proxy]";function UB(e){if(!Dy(e))return!1;var t=oh(e);return t==tte||t==nte||t==ete||t==rte}var fC=Oc["__core-js_shared__"],fI=function(){var e=/[^.]+$/.exec(fC&&fC.keys&&fC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ite(e){return!!fI&&fI in e}var ote=Function.prototype,ste=ote.toString;function ah(e){if(e!=null){try{return ste.call(e)}catch{}try{return e+""}catch{}}return""}var ate=/[\\^$.*+?()[\]{}|]/g,cte=/^\[object .+?Constructor\]$/,lte=Function.prototype,ute=Object.prototype,dte=lte.toString,fte=ute.hasOwnProperty,hte=RegExp("^"+dte.call(fte).replace(ate,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pte(e){if(!Dy(e)||ite(e))return!1;var t=UB(e)?hte:cte;return t.test(ah(e))}function mte(e,t){return e==null?void 0:e[t]}function ch(e,t){var n=mte(e,t);return pte(n)?n:void 0}var sy=ch(Oc,"Map"),ay=ch(Object,"create");function gte(){this.__data__=ay?ay(null):{},this.size=0}function vte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yte="__lodash_hash_undefined__",bte=Object.prototype,xte=bte.hasOwnProperty;function Ste(e){var t=this.__data__;if(ay){var n=t[e];return n===yte?void 0:n}return xte.call(t,e)?t[e]:void 0}var _te=Object.prototype,wte=_te.hasOwnProperty;function Ete(e){var t=this.__data__;return ay?t[e]!==void 0:wte.call(t,e)}var Cte="__lodash_hash_undefined__";function Tte(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ay&&t===void 0?Cte:t,this}function Kf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kf.prototype.clear=gte;Kf.prototype.delete=vte;Kf.prototype.get=Ste;Kf.prototype.has=Ete;Kf.prototype.set=Tte;function Rte(){this.size=0,this.__data__={hash:new Kf,map:new(sy||Tl),string:new Kf}}function kte(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Q_(e,t){var n=e.__data__;return kte(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ote(e){var t=Q_(this,e).delete(e);return this.size-=t?1:0,t}function Pte(e){return Q_(this,e).get(e)}function Nte(e){return Q_(this,e).has(e)}function Ite(e,t){var n=Q_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function pd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pd.prototype.clear=Rte;pd.prototype.delete=Ote;pd.prototype.get=Pte;pd.prototype.has=Nte;pd.prototype.set=Ite;var Ate=200;function jte(e,t){var n=this.__data__;if(n instanceof Tl){var r=n.__data__;if(!sy||r.length<Ate-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new pd(r)}return n.set(e,t),this.size=n.size,this}function wm(e){var t=this.__data__=new Tl(e);this.size=t.size}wm.prototype.clear=Qee;wm.prototype.delete=Xee;wm.prototype.get=Jee;wm.prototype.has=Zee;wm.prototype.set=jte;function Dte(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var hI=function(){try{var e=ch(Object,"defineProperty");return e({},"",{}),e}catch{}}();function BB(e,t,n){t=="__proto__"&&hI?hI(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Mte=Object.prototype,Lte=Mte.hasOwnProperty;function $B(e,t,n){var r=e[t];(!(Lte.call(e,t)&&FB(r,n))||n===void 0&&!(t in e))&&BB(e,t,n)}function X_(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;c===void 0&&(c=e[a]),i?BB(n,a,c):$B(n,a,c)}return n}function Fte(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Ute="[object Arguments]";function pI(e){return sh(e)&&oh(e)==Ute}var VB=Object.prototype,Bte=VB.hasOwnProperty,$te=VB.propertyIsEnumerable,Vte=pI(function(){return arguments}())?pI:function(e){return sh(e)&&Bte.call(e,"callee")&&!$te.call(e,"callee")},My=Array.isArray;function zte(){return!1}var zB=typeof _s=="object"&&_s&&!_s.nodeType&&_s,mI=zB&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Wte=mI&&mI.exports===zB,gI=Wte?Oc.Buffer:void 0,Hte=gI?gI.isBuffer:void 0,WB=Hte||zte,Gte=9007199254740991,qte=/^(?:0|[1-9]\d*)$/;function Kte(e,t){var n=typeof e;return t=t??Gte,!!t&&(n=="number"||n!="symbol"&&qte.test(e))&&e>-1&&e%1==0&&e<t}var Yte=9007199254740991;function HB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yte}var Qte="[object Arguments]",Xte="[object Array]",Jte="[object Boolean]",Zte="[object Date]",ene="[object Error]",tne="[object Function]",nne="[object Map]",rne="[object Number]",ine="[object Object]",one="[object RegExp]",sne="[object Set]",ane="[object String]",cne="[object WeakMap]",lne="[object ArrayBuffer]",une="[object DataView]",dne="[object Float32Array]",fne="[object Float64Array]",hne="[object Int8Array]",pne="[object Int16Array]",mne="[object Int32Array]",gne="[object Uint8Array]",vne="[object Uint8ClampedArray]",yne="[object Uint16Array]",bne="[object Uint32Array]",Rr={};Rr[dne]=Rr[fne]=Rr[hne]=Rr[pne]=Rr[mne]=Rr[gne]=Rr[vne]=Rr[yne]=Rr[bne]=!0;Rr[Qte]=Rr[Xte]=Rr[lne]=Rr[Jte]=Rr[une]=Rr[Zte]=Rr[ene]=Rr[tne]=Rr[nne]=Rr[rne]=Rr[ine]=Rr[one]=Rr[sne]=Rr[ane]=Rr[cne]=!1;function xne(e){return sh(e)&&HB(e.length)&&!!Rr[oh(e)]}function Hk(e){return function(t){return e(t)}}var GB=typeof _s=="object"&&_s&&!_s.nodeType&&_s,wv=GB&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Sne=wv&&wv.exports===GB,hC=Sne&&jB.process,am=function(){try{var e=wv&&wv.require&&wv.require("util").types;return e||hC&&hC.binding&&hC.binding("util")}catch{}}(),vI=am&&am.isTypedArray,_ne=vI?Hk(vI):xne,wne=Object.prototype,Ene=wne.hasOwnProperty;function qB(e,t){var n=My(e),r=!n&&Vte(e),i=!n&&!r&&WB(e),o=!n&&!r&&!i&&_ne(e),s=n||r||i||o,a=s?Fte(e.length,String):[],c=a.length;for(var l in e)(t||Ene.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Kte(l,c)))&&a.push(l);return a}var Cne=Object.prototype;function Gk(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Cne;return e===n}var Tne=MB(Object.keys,Object),Rne=Object.prototype,kne=Rne.hasOwnProperty;function One(e){if(!Gk(e))return Tne(e);var t=[];for(var n in Object(e))kne.call(e,n)&&n!="constructor"&&t.push(n);return t}function KB(e){return e!=null&&HB(e.length)&&!UB(e)}function qk(e){return KB(e)?qB(e):One(e)}function Pne(e,t){return e&&X_(t,qk(t),e)}function Nne(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ine=Object.prototype,Ane=Ine.hasOwnProperty;function jne(e){if(!Dy(e))return Nne(e);var t=Gk(e),n=[];for(var r in e)r=="constructor"&&(t||!Ane.call(e,r))||n.push(r);return n}function Kk(e){return KB(e)?qB(e,!0):jne(e)}function Dne(e,t){return e&&X_(t,Kk(t),e)}var YB=typeof _s=="object"&&_s&&!_s.nodeType&&_s,yI=YB&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Mne=yI&&yI.exports===YB,bI=Mne?Oc.Buffer:void 0,xI=bI?bI.allocUnsafe:void 0;function Lne(e,t){if(t)return e.slice();var n=e.length,r=xI?xI(n):new e.constructor(n);return e.copy(r),r}function QB(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Fne(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function XB(){return[]}var Une=Object.prototype,Bne=Une.propertyIsEnumerable,SI=Object.getOwnPropertySymbols,Yk=SI?function(e){return e==null?[]:(e=Object(e),Fne(SI(e),function(t){return Bne.call(e,t)}))}:XB;function $ne(e,t){return X_(e,Yk(e),t)}function JB(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Vne=Object.getOwnPropertySymbols,ZB=Vne?function(e){for(var t=[];e;)JB(t,Yk(e)),e=Wk(e);return t}:XB;function zne(e,t){return X_(e,ZB(e),t)}function e4(e,t,n){var r=t(e);return My(e)?r:JB(r,n(e))}function Wne(e){return e4(e,qk,Yk)}function Hne(e){return e4(e,Kk,ZB)}var v1=ch(Oc,"DataView"),y1=ch(Oc,"Promise"),b1=ch(Oc,"Set"),x1=ch(Oc,"WeakMap"),_I="[object Map]",Gne="[object Object]",wI="[object Promise]",EI="[object Set]",CI="[object WeakMap]",TI="[object DataView]",qne=ah(v1),Kne=ah(sy),Yne=ah(y1),Qne=ah(b1),Xne=ah(x1),Zc=oh;(v1&&Zc(new v1(new ArrayBuffer(1)))!=TI||sy&&Zc(new sy)!=_I||y1&&Zc(y1.resolve())!=wI||b1&&Zc(new b1)!=EI||x1&&Zc(new x1)!=CI)&&(Zc=function(e){var t=oh(e),n=t==Gne?e.constructor:void 0,r=n?ah(n):"";if(r)switch(r){case qne:return TI;case Kne:return _I;case Yne:return wI;case Qne:return EI;case Xne:return CI}return t});var Jne=Object.prototype,Zne=Jne.hasOwnProperty;function ere(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Zne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var RI=Oc.Uint8Array;function Qk(e){var t=new e.constructor(e.byteLength);return new RI(t).set(new RI(e)),t}function tre(e,t){var n=t?Qk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var nre=/\w*$/;function rre(e){var t=new e.constructor(e.source,nre.exec(e));return t.lastIndex=e.lastIndex,t}var kI=rd?rd.prototype:void 0,OI=kI?kI.valueOf:void 0;function ire(e){return OI?Object(OI.call(e)):{}}function ore(e,t){var n=t?Qk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var sre="[object Boolean]",are="[object Date]",cre="[object Map]",lre="[object Number]",ure="[object RegExp]",dre="[object Set]",fre="[object String]",hre="[object Symbol]",pre="[object ArrayBuffer]",mre="[object DataView]",gre="[object Float32Array]",vre="[object Float64Array]",yre="[object Int8Array]",bre="[object Int16Array]",xre="[object Int32Array]",Sre="[object Uint8Array]",_re="[object Uint8ClampedArray]",wre="[object Uint16Array]",Ere="[object Uint32Array]";function Cre(e,t,n){var r=e.constructor;switch(t){case pre:return Qk(e);case sre:case are:return new r(+e);case mre:return tre(e,n);case gre:case vre:case yre:case bre:case xre:case Sre:case _re:case wre:case Ere:return ore(e,n);case cre:return new r;case lre:case fre:return new r(e);case ure:return rre(e);case dre:return new r;case hre:return ire(e)}}var PI=Object.create,Tre=function(){function e(){}return function(t){if(!Dy(t))return{};if(PI)return PI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Rre(e){return typeof e.constructor=="function"&&!Gk(e)?Tre(Wk(e)):{}}var kre="[object Map]";function Ore(e){return sh(e)&&Zc(e)==kre}var NI=am&&am.isMap,Pre=NI?Hk(NI):Ore,Nre="[object Set]";function Ire(e){return sh(e)&&Zc(e)==Nre}var II=am&&am.isSet,Are=II?Hk(II):Ire,jre=1,Dre=2,Mre=4,t4="[object Arguments]",Lre="[object Array]",Fre="[object Boolean]",Ure="[object Date]",Bre="[object Error]",n4="[object Function]",$re="[object GeneratorFunction]",Vre="[object Map]",zre="[object Number]",r4="[object Object]",Wre="[object RegExp]",Hre="[object Set]",Gre="[object String]",qre="[object Symbol]",Kre="[object WeakMap]",Yre="[object ArrayBuffer]",Qre="[object DataView]",Xre="[object Float32Array]",Jre="[object Float64Array]",Zre="[object Int8Array]",eie="[object Int16Array]",tie="[object Int32Array]",nie="[object Uint8Array]",rie="[object Uint8ClampedArray]",iie="[object Uint16Array]",oie="[object Uint32Array]",yr={};yr[t4]=yr[Lre]=yr[Yre]=yr[Qre]=yr[Fre]=yr[Ure]=yr[Xre]=yr[Jre]=yr[Zre]=yr[eie]=yr[tie]=yr[Vre]=yr[zre]=yr[r4]=yr[Wre]=yr[Hre]=yr[Gre]=yr[qre]=yr[nie]=yr[rie]=yr[iie]=yr[oie]=!0;yr[Bre]=yr[n4]=yr[Kre]=!1;function Ev(e,t,n,r,i,o){var s,a=t&jre,c=t&Dre,l=t&Mre;if(s!==void 0)return s;if(!Dy(e))return e;var h=My(e);if(h){if(s=ere(e),!a)return QB(e,s)}else{var p=Zc(e),m=p==n4||p==$re;if(WB(e))return Lne(e,a);if(p==r4||p==t4||m&&!i){if(s=c||m?{}:Rre(e),!a)return c?zne(e,Dne(s,e)):$ne(e,Pne(s,e))}else{if(!yr[p])return i?e:{};s=Cre(e,p,a)}}o||(o=new wm);var E=o.get(e);if(E)return E;o.set(e,s),Are(e)?e.forEach(function(w){s.add(Ev(w,t,n,w,e,o))}):Pre(e)&&e.forEach(function(w,R){s.set(R,Ev(w,t,n,R,e,o))});var x=l?c?Hne:Wne:c?Kk:qk,y=h?void 0:x(e);return Dte(y||e,function(w,R){y&&(R=w,w=e[R]),$B(s,R,Ev(w,t,n,R,e,o))}),s}var sie=1,aie=4;function sv(e){return Ev(e,sie|aie)}var AI=Array.isArray,jI=Object.keys,cie=Object.prototype.hasOwnProperty,lie=typeof Element<"u";function S1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=AI(e),r=AI(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!S1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,c=t instanceof Date;if(a!=c)return!1;if(a&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,h=t instanceof RegExp;if(l!=h)return!1;if(l&&h)return e.toString()==t.toString();var p=jI(e);if(o=p.length,o!==jI(t).length)return!1;for(i=o;i--!==0;)if(!cie.call(t,p[i]))return!1;if(lie&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=p[i],!(s==="_owner"&&e.$$typeof)&&!S1(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var uie=function(t,n){try{return S1(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const gu=Qf(uie);var die=4;function DI(e){return Ev(e,die)}function i4(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var fie="[object Symbol]";function Xk(e){return typeof e=="symbol"||sh(e)&&oh(e)==fie}var hie="Expected a function";function Jk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Jk.Cache||pd),n}Jk.Cache=pd;var pie=500;function mie(e){var t=Jk(e,function(r){return n.size===pie&&n.clear(),r}),n=t.cache;return t}var gie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vie=/\\(\\)?/g,yie=mie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gie,function(n,r,i,o){t.push(i?o.replace(vie,"$1"):r||n)}),t}),bie=1/0;function xie(e){if(typeof e=="string"||Xk(e))return e;var t=e+"";return t=="0"&&1/e==-bie?"-0":t}var Sie=1/0,MI=rd?rd.prototype:void 0,LI=MI?MI.toString:void 0;function o4(e){if(typeof e=="string")return e;if(My(e))return i4(e,o4)+"";if(Xk(e))return LI?LI.call(e):"";var t=e+"";return t=="0"&&1/e==-Sie?"-0":t}function _ie(e){return e==null?"":o4(e)}function s4(e){return My(e)?i4(e,xie):Xk(e)?[e]:QB(yie(_ie(e)))}var a4={exports:{}},rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=typeof Symbol=="function"&&Symbol.for,Zk=Di?Symbol.for("react.element"):60103,eO=Di?Symbol.for("react.portal"):60106,J_=Di?Symbol.for("react.fragment"):60107,Z_=Di?Symbol.for("react.strict_mode"):60108,ew=Di?Symbol.for("react.profiler"):60114,tw=Di?Symbol.for("react.provider"):60109,nw=Di?Symbol.for("react.context"):60110,tO=Di?Symbol.for("react.async_mode"):60111,rw=Di?Symbol.for("react.concurrent_mode"):60111,iw=Di?Symbol.for("react.forward_ref"):60112,ow=Di?Symbol.for("react.suspense"):60113,wie=Di?Symbol.for("react.suspense_list"):60120,sw=Di?Symbol.for("react.memo"):60115,aw=Di?Symbol.for("react.lazy"):60116,Eie=Di?Symbol.for("react.block"):60121,Cie=Di?Symbol.for("react.fundamental"):60117,Tie=Di?Symbol.for("react.responder"):60118,Rie=Di?Symbol.for("react.scope"):60119;function Ms(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zk:switch(e=e.type,e){case tO:case rw:case J_:case ew:case Z_:case ow:return e;default:switch(e=e&&e.$$typeof,e){case nw:case iw:case aw:case sw:case tw:return e;default:return t}}case eO:return t}}}function c4(e){return Ms(e)===rw}rr.AsyncMode=tO;rr.ConcurrentMode=rw;rr.ContextConsumer=nw;rr.ContextProvider=tw;rr.Element=Zk;rr.ForwardRef=iw;rr.Fragment=J_;rr.Lazy=aw;rr.Memo=sw;rr.Portal=eO;rr.Profiler=ew;rr.StrictMode=Z_;rr.Suspense=ow;rr.isAsyncMode=function(e){return c4(e)||Ms(e)===tO};rr.isConcurrentMode=c4;rr.isContextConsumer=function(e){return Ms(e)===nw};rr.isContextProvider=function(e){return Ms(e)===tw};rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zk};rr.isForwardRef=function(e){return Ms(e)===iw};rr.isFragment=function(e){return Ms(e)===J_};rr.isLazy=function(e){return Ms(e)===aw};rr.isMemo=function(e){return Ms(e)===sw};rr.isPortal=function(e){return Ms(e)===eO};rr.isProfiler=function(e){return Ms(e)===ew};rr.isStrictMode=function(e){return Ms(e)===Z_};rr.isSuspense=function(e){return Ms(e)===ow};rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===J_||e===rw||e===ew||e===Z_||e===ow||e===wie||typeof e=="object"&&e!==null&&(e.$$typeof===aw||e.$$typeof===sw||e.$$typeof===tw||e.$$typeof===nw||e.$$typeof===iw||e.$$typeof===Cie||e.$$typeof===Tie||e.$$typeof===Rie||e.$$typeof===Eie)};rr.typeOf=Ms;a4.exports=rr;var kie=a4.exports,nO=kie,Oie={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Nie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rO={};rO[nO.ForwardRef]=Nie;rO[nO.Memo]=l4;function FI(e){return nO.isMemo(e)?l4:rO[e.$$typeof]||Oie}var Iie=Object.defineProperty,Aie=Object.getOwnPropertyNames,UI=Object.getOwnPropertySymbols,jie=Object.getOwnPropertyDescriptor,Die=Object.getPrototypeOf,BI=Object.prototype;function u4(e,t,n){if(typeof t!="string"){if(BI){var r=Die(t);r&&r!==BI&&u4(e,r,n)}var i=Aie(t);UI&&(i=i.concat(UI(t)));for(var o=FI(e),s=FI(t),a=0;a<i.length;++a){var c=i[a];if(!Pie[c]&&!(n&&n[c])&&!(s&&s[c])&&!(o&&o[c])){var l=jie(t,c);try{Iie(e,c,l)}catch{}}}}return e}var Mie=u4;const Lie=Qf(Mie);function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}function d4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Pu(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cw=P.createContext(void 0);cw.displayName="FormikContext";var Fie=cw.Provider,Uie=cw.Consumer;function f4(){var e=P.useContext(cw);return e}var VI=function(t){return Array.isArray(t)&&t.length===0},Hi=function(t){return typeof t=="function"},Ly=function(t){return t!==null&&typeof t=="object"},Bie=function(t){return String(Math.floor(Number(t)))===t},pC=function(t){return Object.prototype.toString.call(t)==="[object String]"},h4=function(t){return P.Children.count(t)===0},mC=function(t){return Ly(t)&&Hi(t.then)};function Nr(e,t,n,r){r===void 0&&(r=0);for(var i=s4(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function bc(e,t,n){for(var r=DI(e),i=r,o=0,s=s4(t);o<s.length-1;o++){var a=s[o],c=Nr(e,s.slice(0,o+1));if(c&&(Ly(c)||Array.isArray(c)))i=i[a]=DI(c);else{var l=s[o+1];i=i[a]=Bie(l)&&Number(l)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function p4(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];Ly(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},p4(a,t,n,r[s])):r[s]=t}return r}function $ie(e,t){switch(t.type){case"SET_VALUES":return tr({},e,{values:t.payload});case"SET_TOUCHED":return tr({},e,{touched:t.payload});case"SET_ERRORS":return gu(e.errors,t.payload)?e:tr({},e,{errors:t.payload});case"SET_STATUS":return tr({},e,{status:t.payload});case"SET_ISSUBMITTING":return tr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return tr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return tr({},e,{values:bc(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return tr({},e,{touched:bc(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return tr({},e,{errors:bc(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return tr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return tr({},e,{touched:p4(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return tr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return tr({},e,{isSubmitting:!1});default:return e}}var cf={},hb={};function Vie(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,c=e.enableReinitialize,l=c===void 0?!1:c,h=e.onSubmit,p=Pu(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=tr({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:h},p),E=P.useRef(m.initialValues),x=P.useRef(m.initialErrors||cf),y=P.useRef(m.initialTouched||hb),w=P.useRef(m.initialStatus),R=P.useRef(!1),_=P.useRef({});P.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var C=P.useState(0),I=C[1],j=P.useRef({values:sv(m.initialValues),errors:sv(m.initialErrors)||cf,touched:sv(m.initialTouched)||hb,status:sv(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),U=j.current,$=P.useCallback(function(re){var de=j.current;j.current=$ie(de,re),de!==j.current&&I(function(Re){return Re+1})},[]),z=P.useCallback(function(re,de){return new Promise(function(Re,De){var nt=m.validate(re,de);nt==null?Re(cf):mC(nt)?nt.then(function(St){Re(St||cf)},function(St){De(St)}):Re(nt)})},[m.validate]),q=P.useCallback(function(re,de){var Re=m.validationSchema,De=Hi(Re)?Re(de):Re,nt=de&&De.validateAt?De.validateAt(de,re):Hie(re,De);return new Promise(function(St,Sn){nt.then(function(){St(cf)},function(Qr){Qr.name==="ValidationError"?St(Wie(Qr)):Sn(Qr)})})},[m.validationSchema]),X=P.useCallback(function(re,de){return new Promise(function(Re){return Re(_.current[re].validate(de))})},[]),J=P.useCallback(function(re){var de=Object.keys(_.current).filter(function(De){return Hi(_.current[De].validate)}),Re=de.length>0?de.map(function(De){return X(De,Nr(re,De))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Re).then(function(De){return De.reduce(function(nt,St,Sn){return St==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||St&&(nt=bc(nt,de[Sn],St)),nt},{})})},[X]),G=P.useCallback(function(re){return Promise.all([J(re),m.validationSchema?q(re):{},m.validate?z(re):{}]).then(function(de){var Re=de[0],De=de[1],nt=de[2],St=g1.all([Re,De,nt],{arrayMerge:Gie});return St})},[m.validate,m.validationSchema,J,z,q]),ee=Ks(function(re){return re===void 0&&(re=U.values),$({type:"SET_ISVALIDATING",payload:!0}),G(re).then(function(de){return R.current&&($({type:"SET_ISVALIDATING",payload:!1}),$({type:"SET_ERRORS",payload:de})),de})});P.useEffect(function(){s&&R.current===!0&&gu(E.current,m.initialValues)&&ee(E.current)},[s,ee]);var ce=P.useCallback(function(re){var de=re&&re.values?re.values:E.current,Re=re&&re.errors?re.errors:x.current?x.current:m.initialErrors||{},De=re&&re.touched?re.touched:y.current?y.current:m.initialTouched||{},nt=re&&re.status?re.status:w.current?w.current:m.initialStatus;E.current=de,x.current=Re,y.current=De,w.current=nt;var St=function(){$({type:"RESET_FORM",payload:{isSubmitting:!!re&&!!re.isSubmitting,errors:Re,touched:De,status:nt,values:de,isValidating:!!re&&!!re.isValidating,submitCount:re&&re.submitCount&&typeof re.submitCount=="number"?re.submitCount:0}})};if(m.onReset){var Sn=m.onReset(U.values,Un);mC(Sn)?Sn.then(St):St()}else St()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);P.useEffect(function(){R.current===!0&&!gu(E.current,m.initialValues)&&l&&(E.current=m.initialValues,ce(),s&&ee(E.current))},[l,m.initialValues,ce,s,ee]),P.useEffect(function(){l&&R.current===!0&&!gu(x.current,m.initialErrors)&&(x.current=m.initialErrors||cf,$({type:"SET_ERRORS",payload:m.initialErrors||cf}))},[l,m.initialErrors]),P.useEffect(function(){l&&R.current===!0&&!gu(y.current,m.initialTouched)&&(y.current=m.initialTouched||hb,$({type:"SET_TOUCHED",payload:m.initialTouched||hb}))},[l,m.initialTouched]),P.useEffect(function(){l&&R.current===!0&&!gu(w.current,m.initialStatus)&&(w.current=m.initialStatus,$({type:"SET_STATUS",payload:m.initialStatus}))},[l,m.initialStatus,m.initialTouched]);var xe=Ks(function(re){if(_.current[re]&&Hi(_.current[re].validate)){var de=Nr(U.values,re),Re=_.current[re].validate(de);return mC(Re)?($({type:"SET_ISVALIDATING",payload:!0}),Re.then(function(De){return De}).then(function(De){$({type:"SET_FIELD_ERROR",payload:{field:re,value:De}}),$({type:"SET_ISVALIDATING",payload:!1})})):($({type:"SET_FIELD_ERROR",payload:{field:re,value:Re}}),Promise.resolve(Re))}else if(m.validationSchema)return $({type:"SET_ISVALIDATING",payload:!0}),q(U.values,re).then(function(De){return De}).then(function(De){$({type:"SET_FIELD_ERROR",payload:{field:re,value:Nr(De,re)}}),$({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Se=P.useCallback(function(re,de){var Re=de.validate;_.current[re]={validate:Re}},[]),ve=P.useCallback(function(re){delete _.current[re]},[]),Y=Ks(function(re,de){$({type:"SET_TOUCHED",payload:re});var Re=de===void 0?i:de;return Re?ee(U.values):Promise.resolve()}),Q=P.useCallback(function(re){$({type:"SET_ERRORS",payload:re})},[]),ne=Ks(function(re,de){var Re=Hi(re)?re(U.values):re;$({type:"SET_VALUES",payload:Re});var De=de===void 0?n:de;return De?ee(Re):Promise.resolve()}),fe=P.useCallback(function(re,de){$({type:"SET_FIELD_ERROR",payload:{field:re,value:de}})},[]),Te=Ks(function(re,de,Re){$({type:"SET_FIELD_VALUE",payload:{field:re,value:de}});var De=Re===void 0?n:Re;return De?ee(bc(U.values,re,de)):Promise.resolve()}),He=P.useCallback(function(re,de){var Re=de,De=re,nt;if(!pC(re)){re.persist&&re.persist();var St=re.target?re.target:re.currentTarget,Sn=St.type,Qr=St.name,fi=St.id,fo=St.value,Cn=St.checked,kn=St.outerHTML,Ls=St.options,Ba=St.multiple;Re=de||Qr||fi,De=/number|range/.test(Sn)?(nt=parseFloat(fo),isNaN(nt)?"":nt):/checkbox/.test(Sn)?Kie(Nr(U.values,Re),Cn,fo):Ls&&Ba?qie(Ls):fo}Re&&Te(Re,De)},[Te,U.values]),Le=Ks(function(re){if(pC(re))return function(de){return He(de,re)};He(re)}),bt=Ks(function(re,de,Re){de===void 0&&(de=!0),$({type:"SET_FIELD_TOUCHED",payload:{field:re,value:de}});var De=Re===void 0?i:Re;return De?ee(U.values):Promise.resolve()}),Gt=P.useCallback(function(re,de){re.persist&&re.persist();var Re=re.target,De=Re.name,nt=Re.id,St=Re.outerHTML,Sn=de||De||nt;bt(Sn,!0)},[bt]),Ye=Ks(function(re){if(pC(re))return function(de){return Gt(de,re)};Gt(re)}),lt=P.useCallback(function(re){Hi(re)?$({type:"SET_FORMIK_STATE",payload:re}):$({type:"SET_FORMIK_STATE",payload:function(){return re}})},[]),Ut=P.useCallback(function(re){$({type:"SET_STATUS",payload:re})},[]),Jt=P.useCallback(function(re){$({type:"SET_ISSUBMITTING",payload:re})},[]),Bt=Ks(function(){return $({type:"SUBMIT_ATTEMPT"}),ee().then(function(re){var de=re instanceof Error,Re=!de&&Object.keys(re).length===0;if(Re){var De;try{if(De=Qn(),De===void 0)return}catch(nt){throw nt}return Promise.resolve(De).then(function(nt){return R.current&&$({type:"SUBMIT_SUCCESS"}),nt}).catch(function(nt){if(R.current)throw $({type:"SUBMIT_FAILURE"}),nt})}else if(R.current&&($({type:"SUBMIT_FAILURE"}),de))throw re})}),qt=Ks(function(re){re&&re.preventDefault&&Hi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Hi(re.stopPropagation)&&re.stopPropagation(),Bt().catch(function(de){console.warn("Warning: An unhandled error was caught from submitForm()",de)})}),Un={resetForm:ce,validateForm:ee,validateField:xe,setErrors:Q,setFieldError:fe,setFieldTouched:bt,setFieldValue:Te,setStatus:Ut,setSubmitting:Jt,setTouched:Y,setValues:ne,setFormikState:lt,submitForm:Bt},Qn=Ks(function(){return h(U.values,Un)}),ut=Ks(function(re){re&&re.preventDefault&&Hi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Hi(re.stopPropagation)&&re.stopPropagation(),ce()}),Ar=P.useCallback(function(re){return{value:Nr(U.values,re),error:Nr(U.errors,re),touched:!!Nr(U.touched,re),initialValue:Nr(E.current,re),initialTouched:!!Nr(y.current,re),initialError:Nr(x.current,re)}},[U.errors,U.touched,U.values]),Mi=P.useCallback(function(re){return{setValue:function(Re,De){return Te(re,Re,De)},setTouched:function(Re,De){return bt(re,Re,De)},setError:function(Re){return fe(re,Re)}}},[Te,bt,fe]),Z=P.useCallback(function(re){var de=Ly(re),Re=de?re.name:re,De=Nr(U.values,Re),nt={name:Re,value:De,onChange:Le,onBlur:Ye};if(de){var St=re.type,Sn=re.value,Qr=re.as,fi=re.multiple;St==="checkbox"?Sn===void 0?nt.checked=!!De:(nt.checked=!!(Array.isArray(De)&&~De.indexOf(Sn)),nt.value=Sn):St==="radio"?(nt.checked=De===Sn,nt.value=Sn):Qr==="select"&&fi&&(nt.value=nt.value||[],nt.multiple=!0)}return nt},[Ye,Le,U.values]),pe=P.useMemo(function(){return!gu(E.current,U.values)},[E.current,U.values]),Ce=P.useMemo(function(){return typeof a<"u"?pe?U.errors&&Object.keys(U.errors).length===0:a!==!1&&Hi(a)?a(m):a:U.errors&&Object.keys(U.errors).length===0},[a,pe,U.errors,m]),Qe=tr({},U,{initialValues:E.current,initialErrors:x.current,initialTouched:y.current,initialStatus:w.current,handleBlur:Ye,handleChange:Le,handleReset:ut,handleSubmit:qt,resetForm:ce,setErrors:Q,setFormikState:lt,setFieldTouched:bt,setFieldValue:Te,setFieldError:fe,setStatus:Ut,setSubmitting:Jt,setTouched:Y,setValues:ne,submitForm:Bt,validateForm:ee,validateField:xe,isValid:Ce,dirty:pe,unregisterField:ve,registerField:Se,getFieldProps:Z,getFieldMeta:Ar,getFieldHelpers:Mi,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Qe}function zie(e){var t=Vie(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return P.useImperativeHandle(o,function(){return t}),P.createElement(Fie,{value:t},n?P.createElement(n,t):i?i(t):r?Hi(r)?r(t):h4(r)?null:P.Children.only(r):null)}function Wie(e){var t={};if(e.inner){if(e.inner.length===0)return bc(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Nr(t,s.path)||(t=bc(t,s.path,s.message))}}return t}function Hie(e,t,n,r){n===void 0&&(n=!1);var i=_1(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function _1(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||dI(i)?_1(i):i!==""?i:void 0}):dI(e[r])?t[r]=_1(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function Gie(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(o);r[s]=c?g1(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=g1(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function qie(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Kie(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var Yie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function Ks(e){var t=P.useRef(e);return Yie(function(){t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function zI(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=e.className,c=Pu(e,["validate","name","render","children","as","component","className"]),l=f4(),h=Pu(l,["validate","validationSchema"]),p=h.registerField,m=h.unregisterField;P.useEffect(function(){return p(n,{validate:t}),function(){m(n)}},[p,m,n,t]);var E=h.getFieldProps(tr({name:n},c)),x=h.getFieldMeta(n),y={field:E,form:h};if(r)return r(tr({},y,{meta:x}));if(Hi(i))return i(tr({},y,{meta:x}));if(s){if(typeof s=="string"){var w=c.innerRef,R=Pu(c,["innerRef"]);return P.createElement(s,tr({ref:w},E,R,{className:a}),i)}return P.createElement(s,tr({field:E,form:h},c,{className:a}),i)}var _=o||"input";if(typeof _=="string"){var C=c.innerRef,I=Pu(c,["innerRef"]);return P.createElement(_,tr({ref:C},E,I,{className:a}),i)}return P.createElement(_,tr({},E,c,{className:a}),i)}var m4=P.forwardRef(function(e,t){var n=e.action,r=Pu(e,["action"]),i=n??"#",o=f4(),s=o.handleReset,a=o.handleSubmit;return P.createElement("form",tr({onSubmit:a,ref:t,onReset:s,action:i},r))});m4.displayName="Form";function Qie(e){var t=function(i){return P.createElement(Uie,null,function(o){return P.createElement(e,tr({},i,{formik:o}))})},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",Lie(t,e)}var Xie=function(t,n,r){var i=Yf(t),o=i[n];return i.splice(n,1),i.splice(r,0,o),i},Jie=function(t,n,r){var i=Yf(t),o=i[n];return i[n]=i[r],i[r]=o,i},gC=function(t,n,r){var i=Yf(t);return i.splice(n,0,r),i},Zie=function(t,n,r){var i=Yf(t);return i[n]=r,i},Yf=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(tr({},t,{length:n+1}))}else return[]},WI=function(t,n){var r=typeof t=="function"?t:n;return function(i){if(Array.isArray(i)||Ly(i)){var o=Yf(i);return r(o)}return i}},eoe=function(e){d4(t,e);function t(r){var i;return i=e.call(this,r)||this,i.updateArrayField=function(o,s,a){var c=i.props,l=c.name,h=c.formik.setFormikState;h(function(p){var m=WI(a,o),E=WI(s,o),x=bc(p.values,l,o(Nr(p.values,l))),y=a?m(Nr(p.errors,l)):void 0,w=s?E(Nr(p.touched,l)):void 0;return VI(y)&&(y=void 0),VI(w)&&(w=void 0),tr({},p,{values:x,errors:a?bc(p.errors,l,y):p.errors,touched:s?bc(p.touched,l,w):p.touched})})},i.push=function(o){return i.updateArrayField(function(s){return[].concat(Yf(s),[sv(o)])},!1,!1)},i.handlePush=function(o){return function(){return i.push(o)}},i.swap=function(o,s){return i.updateArrayField(function(a){return Jie(a,o,s)},!0,!0)},i.handleSwap=function(o,s){return function(){return i.swap(o,s)}},i.move=function(o,s){return i.updateArrayField(function(a){return Xie(a,o,s)},!0,!0)},i.handleMove=function(o,s){return function(){return i.move(o,s)}},i.insert=function(o,s){return i.updateArrayField(function(a){return gC(a,o,s)},function(a){return gC(a,o,null)},function(a){return gC(a,o,null)})},i.handleInsert=function(o,s){return function(){return i.insert(o,s)}},i.replace=function(o,s){return i.updateArrayField(function(a){return Zie(a,o,s)},!1,!1)},i.handleReplace=function(o,s){return function(){return i.replace(o,s)}},i.unshift=function(o){var s=-1;return i.updateArrayField(function(a){var c=a?[o].concat(a):[o];return s=c.length,c},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),s},i.handleUnshift=function(o){return function(){return i.unshift(o)}},i.handleRemove=function(o){return function(){return i.remove(o)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind($I(i)),i.pop=i.pop.bind($I(i)),i}var n=t.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!gu(Nr(i.formik.values,i.name),Nr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var o;return this.updateArrayField(function(s){var a=s?Yf(s):[];return o||(o=a[i]),Hi(a.splice)&&a.splice(i,1),Hi(a.every)&&a.every(function(c){return c===void 0})?[]:a},!0,!0),o},n.pop=function(){var i;return this.updateArrayField(function(o){var s=o.slice();return i||(i=s&&s.pop&&s.pop()),s},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,s=o.component,a=o.render,c=o.children,l=o.name,h=o.formik,p=Pu(h,["validate","validationSchema"]),m=tr({},i,{form:p,name:l});return s?P.createElement(s,m):a?a(m):c?typeof c=="function"?c(m):h4(c)?null:P.Children.only(c):null},t}(P.Component);eoe.defaultProps={validateOnChange:!0};var toe=function(e){d4(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(i){return Nr(this.props.formik.errors,this.props.name)!==Nr(i.formik.errors,this.props.name)||Nr(this.props.formik.touched,this.props.name)!==Nr(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,o=i.component,s=i.formik,a=i.render,c=i.children,l=i.name,h=Pu(i,["component","formik","render","children","name"]),p=Nr(s.touched,l),m=Nr(s.errors,l);return p&&m?a?Hi(a)?a(m):null:c?Hi(c)?c(m):null:o?P.createElement(o,h,m):m:null},t}(P.Component),noe=Qie(toe);function lh(e){this._maxSize=e,this.clear()}lh.prototype.clear=function(){this._size=0,this._values=Object.create(null)};lh.prototype.get=function(e){return this._values[e]};lh.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var roe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,g4=/^\d+$/,ioe=/^\d/,ooe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,soe=/^\s*(['"]?)(.*?)(\1)\s*$/,iO=512,HI=new lh(iO),GI=new lh(iO),qI=new lh(iO),Af={Cache:lh,split:w1,normalizePath:vC,setter:function(e){var t=vC(e);return GI.get(e)||GI.set(e,function(r,i){for(var o=0,s=t.length,a=r;o<s-1;){var c=t[o];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[t[o++]]}a[t[o]]=i})},getter:function(e,t){var n=vC(e);return qI.get(e)||qI.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(oO(n)||g4.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){aoe(Array.isArray(e)?e:w1(e),t,n)}};function vC(e){return HI.get(e)||HI.set(e,w1(e).map(function(t){return t.replace(soe,"$2")}))}function w1(e){return e.match(roe)||[""]}function aoe(e,t,n){var r=e.length,i,o,s,a;for(o=0;o<r;o++)i=e[o],i&&(uoe(i)&&(i='"'+i+'"'),a=oO(i),s=!a&&/^\d+$/.test(i),t.call(n,i,a,s,o,e))}function oO(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function coe(e){return e.match(ioe)&&!e.match(g4)}function loe(e){return ooe.test(e)}function uoe(e){return!oO(e)&&(coe(e)||loe(e))}const doe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,lw=e=>e.match(doe)||[],uw=e=>e[0].toUpperCase()+e.slice(1),sO=(e,t)=>lw(e).join(t).toLowerCase(),v4=e=>lw(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),foe=e=>uw(v4(e)),hoe=e=>sO(e,"_"),poe=e=>sO(e,"-"),moe=e=>uw(sO(e," ")),goe=e=>lw(e).map(uw).join(" ");var yC={words:lw,upperFirst:uw,camelCase:v4,pascalCase:foe,snakeCase:hoe,kebabCase:poe,sentenceCase:moe,titleCase:goe},aO={exports:{}};aO.exports=function(e){return y4(voe(e),e)};aO.exports.array=y4;function y4(e,t){var n=e.length,r=new Array(n),i={},o=n,s=yoe(t),a=boe(e);for(t.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||c(e[o],o,new Set);return r;function c(l,h,p){if(p.has(l)){var m;try{m=", node was:"+JSON.stringify(l)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[h]){i[h]=!0;var E=s.get(l)||new Set;if(E=Array.from(E),h=E.length){p.add(l);do{var x=E[--h];c(x,a.get(x),p)}while(h);p.delete(l)}r[--n]=l}}}function voe(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function yoe(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function boe(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var xoe=aO.exports;const Soe=Qf(xoe),_oe=Object.prototype.toString,woe=Error.prototype.toString,Eoe=RegExp.prototype.toString,Coe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Toe=/^Symbol\((.*)\)(.*)$/;function Roe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function KI(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return Roe(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return Coe.call(e).replace(Toe,"Symbol($1)");const r=_oe.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+woe.call(e)+"]":r==="RegExp"?Eoe.call(e):null}function Gu(e,t){let n=KI(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=KI(this[r],t);return o!==null?o:i},2)}function b4(e){return e==null?[]:[].concat(e)}let x4,S4,_4,koe=/\$\{\s*(\w+)\s*\}/g;x4=Symbol.toStringTag;class YI{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[x4]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],b4(t).forEach(o=>{if(Go.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}S4=Symbol.hasInstance;_4=Symbol.toStringTag;class Go extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(koe,(i,o)=>Gu(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new YI(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_4]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Go)}static[S4](t){return YI[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ac={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Gu(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Gu(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Gu(n,!0)}\``+i}},Wo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ooe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},E1={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Poe={isValue:"${path} field must be ${value}"},cx={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Noe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ioe={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Gu(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Gu(n,!0)}\``}return Go.formatError(ac.notType,e)}};Object.assign(Object.create(null),{mixed:ac,string:Wo,number:Ooe,date:E1,object:cx,array:Noe,boolean:Poe,tuple:Ioe});const cO=e=>e&&e.__isYupSchema__;class $S{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new $S(t,(a,c)=>{var l;let h=s(...a)?i:o;return(l=h==null?void 0:h(c))!=null?l:c})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!cO(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const pb={context:"$",value:"."};class uh{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===pb.context,this.isValue=this.key[0]===pb.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?pb.context:this.isValue?pb.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Af.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}uh.prototype.__isYupRef=!0;const Sf=e=>e==null;function sp(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},a,c){const{name:l,test:h,params:p,message:m,skipAbsent:E}=e;let{parent:x,context:y,abortEarly:w=s.spec.abortEarly,disableStackTrace:R=s.spec.disableStackTrace}=i;function _(J){return uh.isRef(J)?J.getValue(n,x,y):J}function C(J={}){const G=Object.assign({value:n,originalValue:o,label:s.spec.label,path:J.path||r,spec:s.spec,disableStackTrace:J.disableStackTrace||R},p,J.params);for(const ce of Object.keys(G))G[ce]=_(G[ce]);const ee=new Go(Go.formatError(J.message||m,G),n,G.path,J.type||l,G.disableStackTrace);return ee.params=G,ee}const I=w?a:c;let j={path:r,parent:x,type:l,from:i.from,createError:C,resolve:_,options:i,originalValue:o,schema:s};const U=J=>{Go.isError(J)?I(J):J?c(null):I(C())},$=J=>{Go.isError(J)?I(J):a(J)};if(E&&Sf(n))return U(!0);let q;try{var X;if(q=h.call(j,n,j),typeof((X=q)==null?void 0:X.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(q).then(U,$)}}catch(J){$(J);return}U(q)}return t.OPTIONS=e,t}function Aoe(e,t,n,r=n){let i,o,s;return t?(Af.forEach(t,(a,c,l)=>{let h=c?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let p=e.type==="tuple",m=l?parseInt(h,10):0;if(e.innerType||p){if(p&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[m],e=p?e.spec.types[m]:e.innerType}if(!l){if(!e.fields||!e.fields[h])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[h],e=e.fields[h]}o=h,s=c?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class VS extends Set{describe(){const t=[];for(const n of this.values())t.push(uh.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new VS(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function xp(e,t=new Map){if(cO(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=xp(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,xp(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(xp(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=xp(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Ec{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new VS,this._blacklist=new VS,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ac.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=xp(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Sf(o))return o;let s=Gu(t),a=Gu(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:a=this.spec.strict}=n,c=t;a||(c=this._cast(c,Object.assign({assert:!1},n)));let l=[];for(let h of Object.values(this.internalTests))h&&l.push(h);this.runTests({path:o,value:c,originalValue:s,options:n,tests:l},r,h=>{if(h.length)return i(h,c);this.runTests({path:o,value:c,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:c,options:l}=t,h=y=>{i||(i=!0,n(y,s))},p=y=>{i||(i=!0,r(y,s))},m=o.length,E=[];if(!m)return p([]);let x={value:s,originalValue:a,path:c,options:l,schema:this};for(let y=0;y<o.length;y++){const w=o[y];w(x,h,function(_){_&&(Array.isArray(_)?E.push(..._):E.push(_)),--m<=0&&p(E)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const h=Object.assign({},s,{strict:!0,parent:r,value:l,originalValue:o[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(p,m,E)=>this.resolve(h)._validate(l,h,m,E)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(t,n,(c,l)=>{Go.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new Go(c,l,void 0,void 0,o)):s(l)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(a,c)=>{throw Go.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new Go(a,t,void 0,void 0,s);o=c}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Go.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Go.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):xp(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=sp({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=sp({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=ac.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ac.notNull){return this.nullability(!1,t)}required(t=ac.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=ac.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=sp(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=b4(t).map(o=>new uh(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new $S(i,n):$S.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=sp({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=ac.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=sp({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=ac.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=sp({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,h)=>h.findIndex(p=>p.name===c.name)===l)}}}Ec.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Ec.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=Aoe(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Ec.prototype[e]=Ec.prototype.oneOf;for(const e of["not","nope"])Ec.prototype[e]=Ec.prototype.notOneOf;const joe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Doe(e){const t=C1(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function C1(e){var t,n;const r=joe.exec(e);return r?{year:Kc(r[1]),month:Kc(r[2],1)-1,day:Kc(r[3],1),hour:Kc(r[4]),minute:Kc(r[5]),second:Kc(r[6]),millisecond:r[7]?Kc(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Kc(r[10]),minuteOffset:Kc(r[11])}:null}function Kc(e,t=0){return Number(e)||t}let Moe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Loe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Foe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Uoe="^\\d{4}-\\d{2}-\\d{2}",Boe="\\d{2}:\\d{2}:\\d{2}",$oe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Voe=new RegExp(`${Uoe}T${Boe}(\\.\\d+)?${$oe}$`),zoe=e=>Sf(e)||e===e.trim(),Woe={}.toString();function cm(){return new w4}class w4 extends Ec{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===Woe?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||ac.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Wo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Wo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Wo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Wo.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=Wo.email){return this.matches(Moe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Wo.url){return this.matches(Loe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Wo.uuid){return this.matches(Foe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(Voe,{name:"datetime",message:n||Wo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Wo.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=C1(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||Wo.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=C1(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Wo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:zoe})}lowercase(t=Wo.lowercase){return this.transform(n=>Sf(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Sf(n)||n===n.toLowerCase()})}uppercase(t=Wo.uppercase){return this.transform(n=>Sf(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Sf(n)||n===n.toUpperCase()})}}cm.prototype=w4.prototype;let Hoe=new Date(""),Goe=e=>Object.prototype.toString.call(e)==="[object Date]";class dw extends Ec{constructor(){super({type:"date",check(t){return Goe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=Doe(t),isNaN(t)?dw.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(uh.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=E1.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=E1.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}dw.INVALID_DATE=Hoe;dw.prototype;function qoe(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let c=Af.split(s)[0];r.add(c),i.has(`${a}-${c}`)||n.push([a,c])}for(const s of Object.keys(e)){let a=e[s];r.add(s),uh.isRef(a)&&a.isSibling?o(a.path,s):cO(a)&&"deps"in a&&a.deps.forEach(c=>o(c,s))}return Soe.array(Array.from(r),n).reverse()}function QI(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function E4(e){return(t,n)=>QI(e,t)-QI(e,n)}const Koe=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function lx(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=lx(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=lx(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(lx)}):"optional"in e?e.optional():e}const Yoe=(e,t)=>{const n=[...Af.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Af.getter(Af.join(n),!0)(e);return!!(i&&r in i)};let XI=e=>Object.prototype.toString.call(e)==="[object Object]";function JI(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Qoe=E4([]);function C4(e){return new T4(e)}class T4 extends Ec{constructor(t){super({type:"object",check(n){return XI(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Qoe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),c={},l=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),h=!1;for(const p of a){let m=o[p],E=p in i;if(m){let x,y=i[p];l.path=(n.path?`${n.path}.`:"")+p,m=m.resolve({value:y,context:n.context,parent:c});let w=m instanceof Ec?m.spec:void 0,R=w==null?void 0:w.strict;if(w!=null&&w.strip){h=h||p in i;continue}x=!n.__validating||!R?m.cast(i[p],l):i[p],x!==void 0&&(c[p]=x)}else E&&!s&&(c[p]=i[p]);(E!==p in c||c[p]!==i[p])&&(h=!0)}return h?c:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(c,l)=>{if(!a||!XI(l)){i(c,l);return}s=s||l;let h=[];for(let p of this._nodes){let m=this.fields[p];!m||uh.isRef(m)||h.push(m.asNestedTest({options:n,key:p,parent:l,parentPath:n.path,originalParent:s}))}this.runTests({tests:h,value:l,originalValue:s,options:n},r,p=>{i(p.sort(this._sortErrors).concat(c),l)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=qoe(t,n),r._sortErrors=E4(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return lx(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=Af.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return Yoe(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(Koe)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||cx.exact,test(n){if(n==null)return!0;const r=JI(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=cx.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=JI(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=cx.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(yC.camelCase)}snakeCase(){return this.transformKeys(yC.snakeCase)}constantCase(){return this.transformKeys(t=>yC.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}C4.prototype=T4.prototype;const lO=({formFields:e,onSubmit:t,initialValues:n})=>{const r=C4(e.reduce((i,o)=>(o.validation&&(i[o.name]=o.validation),i),{}));return u.jsx(zie,{initialValues:n,validationSchema:r,onSubmit:t,children:()=>u.jsxs(m4,{children:[e.map(i=>{var o;return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:i.name,className:"block font-medium",children:i.label}),i.type==="select"?u.jsxs(zI,{as:"select",id:i.name,name:i.name,className:"w-full border rounded px-2 py-1",children:[u.jsxs("option",{value:"",children:["Select ",i.label]}),(o=i.options)==null?void 0:o.map(s=>u.jsx("option",{value:s.value,children:s.label},s.value))]}):u.jsx(zI,{id:i.name,name:i.name,type:i.type,placeholder:i.placeholder,className:"w-full border rounded px-2 py-1"}),u.jsx(noe,{name:i.name,component:"div",className:"text-red-500 text-sm"})]},i.name)}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]})})};var R4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ZI=ht.createContext&&ht.createContext(R4),Xoe=["attr","size","title"];function Joe(e,t){if(e==null)return{};var n=Zoe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zoe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ese(e,t,n){return t=tse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k4(e){return e&&e.map((t,n)=>ht.createElement(t.tag,WS({key:n},t.attr),k4(t.child)))}function O4(e){return t=>ht.createElement(rse,zS({attr:WS({},e.attr)},t),k4(e.child))}function rse(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=Joe(e,Xoe),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),ht.createElement("svg",zS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:WS(WS({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),e.children)};return ZI!==void 0?ht.createElement(ZI.Consumer,null,n=>t(n)):t(R4)}function fw(e){return O4({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function ise(e){return O4({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}const hw=({isOpen:e,onClose:t,children:n})=>e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:u.jsxs("div",{className:"bg-white rounded shadow-lg w-3/4 max-w-lg p-6 relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-black",onClick:t,children:u.jsx(ise,{})}),n]})}):null,ose=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{board:o,isLoading:s}=Nn(m=>m.board);P.useEffect(()=>{i(If())},[i]);const a=[{name:"boardname",label:"Board Name",type:"text",placeholder:"Enter Board Full Name",validation:cm().required("Board Name is required.")},{name:"boardshortname",label:"Board Short Name",type:"text",placeholder:"Enter Board Short Name",validation:cm().required("Board Short Name is required.")}],c=a.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{i(n?sx({_id:n._id,data:m}):ox(m)),t(!1),r(null)},h=m=>{i(ax({boardId:m}))},p=m=>{r(m),t(!0)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Boards"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Board"})]}),u.jsxs(hw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Board":"Add Board"}),u.jsx(lO,{formFields:a,initialValues:n||c,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Full Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Short Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.boardname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.boardshortname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(hd,{id:m._id,checked:m.isActive,onCheckedChange:()=>h(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(m),children:u.jsx(fw,{})})})]},m._id||E))})]})]})})},sse=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{standards:o,isLoading:s}=Nn(m=>m.standard);console.log(o,"standards"),P.useEffect(()=>{i(al())},[i]);const a=[{name:"std",label:"Standard Name",type:"text",placeholder:"Enter standard name",validation:cm().required("Standard Name is required.")}],c=a.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{console.log(m,"values"),i(n?zb({id:n._id,data:m}):Vb(m)),t(!1),r(null)},h=m=>{console.log(m,"update data"),r(m),t(!0)},p=m=>{console.log(m,"toggle"),i(Wb(m))};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Standards"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Standard"})]}),u.jsxs(hw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Standard":"Add Standard"}),u.jsx(lO,{formFields:a,initialValues:n||c,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.std}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(hd,{id:m._id,checked:m.isActive,onCheckedChange:()=>p(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>h(m),children:u.jsx(fw,{})})})]},m._id||E))})]})]})},ase={activitys:[],currentactivity:null,isLoading:!1,error:null},ux=wt("createactivity",async(e,{rejectWithValue:t})=>{try{return(await mt.post(a8,e)).data}catch(n){return t(n.response.data)}}),dx=wt("getAllactivity",async(e,{rejectWithValue:t})=>{try{return(await mt.get(l8)).data}catch(n){return t(n.response.data)}}),bC=wt("activityById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(c8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),fx=wt("updataactivity",async({id:e,data:t},{rejectWithValue:n})=>{try{return(await mt.put(u8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),hx=wt("toggleactivity",async(e,{rejectWithValue:t})=>{try{return(await mt.post(d8,{activityId:e})).data}catch(n){return t(n.response.data)}}),cse=is({name:"activity",initialState:ase,reducers:{},extraReducers:e=>{e.addCase(ux.pending,t=>{t.isLoading=!0,t.error=null}).addCase(ux.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys.push(n.payload)}).addCase(ux.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(dx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(dx.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys=n.payload}).addCase(dx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(bC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(bC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentactivity=n.payload}).addCase(bC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(fx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(fx.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys=t.activitys.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(fx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(hx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(hx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.activitys.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.activitys[r].isActive=!t.activitys[r].isActive)}).addCase(hx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),lse=cse.reducer,use=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{activitys:o,isLoading:s}=Nn(m=>m.activity);P.useEffect(()=>{i(dx())},[i]);const a=[{name:"activityname",label:"Activity Name",type:"text",placeholder:"Enter Activity name",validation:cm().required("Activity Name is required.")}],c=a.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{i(n?fx({id:n._id,data:m}):ux(m)),t(!1),r(null)},h=m=>{r(m),t(!0)},p=m=>{i(hx(m))};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Activity"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Standard"})]}),u.jsxs(hw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Standard":"Add Standard"}),u.jsx(lO,{formFields:a,initialValues:n||c,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Activity Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.activityname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(hd,{id:m._id,checked:m.isActive,onCheckedChange:()=>p(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>h(m),children:u.jsx(fw,{})})})]},m._id||E))})]})]})})};var uO={},dO={};Object.defineProperty(dO,"__esModule",{value:!0});class dse{constructor(t){this.instance=void 0,this.options=t,typeof window<"u"&&(this.instance=new window.Razorpay(this.options))}on(t,n){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(t,n)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}dO.default=dse;var fse=ll&&ll.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hse=ll&&ll.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pse=ll&&ll.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&fse(t,e,n);return hse(t,e),t},mse=ll&&ll.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uO,"__esModule",{value:!0});var P4=uO.useRazorpay=void 0;const xC=pse(P),gse=mse(dO),vse=()=>{const[e,t]=xC.useState(!1),[n,r]=xC.useState(),i=typeof window<"u",o=()=>!(!i||!("Razorpay"in window));function s(a){return new Promise((c,l)=>{const h=window.document.createElement("script");h.src=a,h.onload=function(){c()},h.onerror=function(p){l(p.toString())},document.body.appendChild(h)})}return xC.useEffect(()=>{i&&(t(!0),o()||s("https://checkout.razorpay.com/v1/checkout.js").then(()=>{r(void 0)}).catch(a=>{a instanceof Error?r(a.message):r("Unknown Error")}).finally(()=>t(!1)))},[]),{error:n,isLoading:e,Razorpay:gse.default}};P4=uO.useRazorpay=vse;var N4={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ll,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(o,s,a){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=8)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},r.default=r.CLASS_NAMES},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(o){var s="."+o;return document.querySelector(s)},r.stringToNode=function(o){var s=document.createElement("div");return s.innerHTML=o.trim(),s.firstChild},r.insertAfter=function(o,s){var a=s.nextSibling;s.parentNode.insertBefore(o,a)},r.removeNode=function(o){o.parentElement.removeChild(o)},r.throwErr=function(o){throw o=o.replace(/ +(?= )/g,""),"SweetAlert: "+(o=o.trim())},r.isPlainObject=function(o){if(Object.prototype.toString.call(o)!=="[object Object]")return!1;var s=Object.getPrototypeOf(o);return s===null||s===Object.prototype},r.ordinalSuffixOf=function(o){var s=o%10,a=o%100;return s===1&&a!==11?o+"st":s===2&&a!==12?o+"nd":s===3&&a!==13?o+"rd":o+"th"}},function(n,r,i){function o(m){for(var E in m)r.hasOwnProperty(E)||(r[E]=m[E])}Object.defineProperty(r,"__esModule",{value:!0}),o(i(25));var s=i(26);r.overlayMarkup=s.default,o(i(27)),o(i(28)),o(i(29));var a=i(0),c=a.default.MODAL_TITLE,l=a.default.MODAL_TEXT,h=a.default.ICON,p=a.default.FOOTER;r.iconMarkup=`
  <div class="`+h+'"></div>',r.titleMarkup=`
  <div class="`+c+`"></div>
`,r.textMarkup=`
  <div class="`+l+'"></div>',r.footerMarkup=`
  <div class="`+p+`"></div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var s={visible:!0,text:null,value:null,className:"",closeModal:!0},a=Object.assign({},s,{visible:!1,text:"Cancel",value:null}),c=Object.assign({},s,{text:"OK",value:!0});r.defaultButtonList={cancel:a,confirm:c};var l=function(E){switch(E){case r.CONFIRM_KEY:return c;case r.CANCEL_KEY:return a;default:var x=E.charAt(0).toUpperCase()+E.slice(1);return Object.assign({},s,{text:x,value:E})}},h=function(E,x){var y=l(E);return x===!0?Object.assign({},y,{visible:!0}):typeof x=="string"?Object.assign({},y,{visible:!0,text:x}):o.isPlainObject(x)?Object.assign({visible:!0},y,x):Object.assign({},y,{visible:!1})},p=function(E){for(var x={},y=0,w=Object.keys(E);y<w.length;y++){var R=w[y],_=E[R],C=h(R,_);x[R]=C}return x.cancel||(x.cancel=a),x},m=function(E){var x={};switch(E.length){case 1:x[r.CANCEL_KEY]=Object.assign({},a,{visible:!1});break;case 2:x[r.CANCEL_KEY]=h(r.CANCEL_KEY,E[0]),x[r.CONFIRM_KEY]=h(r.CONFIRM_KEY,E[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+E.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return x};r.getButtonListOpts=function(E){var x=r.defaultButtonList;return typeof E=="string"?x[r.CONFIRM_KEY]=h(r.CONFIRM_KEY,E):Array.isArray(E)?x=m(E):o.isPlainObject(E)?x=p(E):E===!0?x=m([!0,!0]):E===!1?x=m([!1,!1]):E===void 0&&(x=r.defaultButtonList),x}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),a=i(0),c=a.default.MODAL,l=a.default.OVERLAY,h=i(30),p=i(31),m=i(32),E=i(33);r.injectElIntoModal=function(R){var _=o.getNode(c),C=o.stringToNode(R);return _.appendChild(C),C};var x=function(R){R.className=c,R.textContent=""},y=function(R,_){x(R);var C=_.className;C&&R.classList.add(C)};r.initModalContent=function(R){var _=o.getNode(c);y(_,R),h.default(R.icon),p.initTitle(R.title),p.initText(R.text),E.default(R.content),m.default(R.buttons,R.dangerMode)};var w=function(){var R=o.getNode(l),_=o.stringToNode(s.modalMarkup);R.appendChild(_)};r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s={isOpen:!1,promise:null,actions:{},timer:null},a=Object.assign({},s);r.resetState=function(){a=Object.assign({},s)},r.setActionValue=function(l){if(typeof l=="string")return c(o.CONFIRM_KEY,l);for(var h in l)c(h,l[h])};var c=function(l,h){a.actions[l]||(a.actions[l]={}),Object.assign(a.actions[l],{value:h})};r.setActionOptionsFor=function(l,h){var p=(h===void 0?{}:h).closeModal,m=p===void 0||p;Object.assign(a.actions[l],{closeModal:m})},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),a=i(0),c=a.default.OVERLAY,l=a.default.SHOW_MODAL,h=a.default.BUTTON,p=a.default.BUTTON_LOADING,m=i(5);r.openModal=function(){o.getNode(c).classList.add(l),m.default.isOpen=!0};var E=function(){o.getNode(c).classList.remove(l),m.default.isOpen=!1};r.onAction=function(x){x===void 0&&(x=s.CANCEL_KEY);var y=m.default.actions[x],w=y.value;if(y.closeModal===!1){var R=h+"--"+x;o.getNode(R).classList.add(p)}else E();m.default.promise.resolve(w)},r.getState=function(){var x=Object.assign({},m.default);return delete x.promise,delete x.timer,x},r.stopLoading=function(){for(var x=document.querySelectorAll("."+h),y=0;y<x.length;y++)x[y].classList.remove(p)}},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){n.exports=o.sweetAlert=i(9)}).call(r,i(7))},function(n,r,i){(function(o){n.exports=o.swal=i(10)}).call(r,i(7))},function(n,r,i){typeof window<"u"&&i(11),i(16);var o=i(23).default;n.exports=o},function(n,r,i){var o=i(12);typeof o=="string"&&(o=[[n.i,o,""]]);var s={insertAt:"top"};s.transform=void 0,i(14)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){r=n.exports=i(13)(void 0),r.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,r){function i(s,a){var c=s[1]||"",l=s[3];if(!l)return c;if(a&&typeof btoa=="function"){var h=o(l);return[c].concat(l.sources.map(function(p){return"/*# sourceURL="+l.sourceRoot+p+" */"})).concat([h]).join(`
`)}return[c].join(`
`)}function o(s){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"}n.exports=function(s){var a=[];return a.toString=function(){return this.map(function(c){var l=i(c,s);return c[2]?"@media "+c[2]+"{"+l+"}":l}).join("")},a.i=function(c,l){typeof c=="string"&&(c=[[null,c,""]]);for(var h={},p=0;p<this.length;p++){var m=this[p][0];typeof m=="number"&&(h[m]=!0)}for(p=0;p<c.length;p++){var E=c[p];typeof E[0]=="number"&&h[E[0]]||(l&&!E[2]?E[2]=l:l&&(E[2]="("+E[2]+") and ("+l+")"),a.push(E))}},a}},function(n,r,i){function o(z,q){for(var X=0;X<z.length;X++){var J=z[X],G=w[J.id];if(G){G.refs++;for(var ee=0;ee<G.parts.length;ee++)G.parts[ee](J.parts[ee]);for(;ee<J.parts.length;ee++)G.parts.push(m(J.parts[ee],q))}else{for(var ce=[],ee=0;ee<J.parts.length;ee++)ce.push(m(J.parts[ee],q));w[J.id]={id:J.id,refs:1,parts:ce}}}}function s(z,q){for(var X=[],J={},G=0;G<z.length;G++){var ee=z[G],ce=q.base?ee[0]+q.base:ee[0],xe=ee[1],Se=ee[2],ve=ee[3],Y={css:xe,media:Se,sourceMap:ve};J[ce]?J[ce].parts.push(Y):X.push(J[ce]={id:ce,parts:[Y]})}return X}function a(z,q){var X=_(z.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var J=j[j.length-1];if(z.insertAt==="top")J?J.nextSibling?X.insertBefore(q,J.nextSibling):X.appendChild(q):X.insertBefore(q,X.firstChild),j.push(q);else{if(z.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");X.appendChild(q)}}function c(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z);var q=j.indexOf(z);q>=0&&j.splice(q,1)}function l(z){var q=document.createElement("style");return z.attrs.type="text/css",p(q,z.attrs),a(z,q),q}function h(z){var q=document.createElement("link");return z.attrs.type="text/css",z.attrs.rel="stylesheet",p(q,z.attrs),a(z,q),q}function p(z,q){Object.keys(q).forEach(function(X){z.setAttribute(X,q[X])})}function m(z,q){var X,J,G,ee;if(q.transform&&z.css){if(!(ee=q.transform(z.css)))return function(){};z.css=ee}if(q.singleton){var ce=I++;X=C||(C=l(q)),J=E.bind(null,X,ce,!1),G=E.bind(null,X,ce,!0)}else z.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=h(q),J=y.bind(null,X,q),G=function(){c(X),X.href&&URL.revokeObjectURL(X.href)}):(X=l(q),J=x.bind(null,X),G=function(){c(X)});return J(z),function(xe){if(xe){if(xe.css===z.css&&xe.media===z.media&&xe.sourceMap===z.sourceMap)return;J(z=xe)}else G()}}function E(z,q,X,J){var G=X?"":J.css;if(z.styleSheet)z.styleSheet.cssText=$(q,G);else{var ee=document.createTextNode(G),ce=z.childNodes;ce[q]&&z.removeChild(ce[q]),ce.length?z.insertBefore(ee,ce[q]):z.appendChild(ee)}}function x(z,q){var X=q.css,J=q.media;if(J&&z.setAttribute("media",J),z.styleSheet)z.styleSheet.cssText=X;else{for(;z.firstChild;)z.removeChild(z.firstChild);z.appendChild(document.createTextNode(X))}}function y(z,q,X){var J=X.css,G=X.sourceMap,ee=q.convertToAbsoluteUrls===void 0&&G;(q.convertToAbsoluteUrls||ee)&&(J=U(J)),G&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(G))))+" */");var ce=new Blob([J],{type:"text/css"}),xe=z.href;z.href=URL.createObjectURL(ce),xe&&URL.revokeObjectURL(xe)}var w={},R=function(z){var q;return function(){return q===void 0&&(q=z.apply(this,arguments)),q}}(function(){return window&&document&&document.all&&!window.atob}),_=function(z){var q={};return function(X){return q[X]===void 0&&(q[X]=z.call(this,X)),q[X]}}(function(z){return document.querySelector(z)}),C=null,I=0,j=[],U=i(15);n.exports=function(z,q){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");q=q||{},q.attrs=typeof q.attrs=="object"?q.attrs:{},q.singleton||(q.singleton=R()),q.insertInto||(q.insertInto="head"),q.insertAt||(q.insertAt="bottom");var X=s(z,q);return o(X,q),function(J){for(var G=[],ee=0;ee<X.length;ee++){var ce=X[ee],xe=w[ce.id];xe.refs--,G.push(xe)}J&&o(s(J,q),q);for(var ee=0;ee<G.length;ee++){var xe=G[ee];if(xe.refs===0){for(var Se=0;Se<xe.parts.length;Se++)xe.parts[Se]();delete w[xe.id]}}}};var $=function(){var z=[];return function(q,X){return z[q]=X,z.filter(Boolean).join(`
`)}}()},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,l){var h=l.trim().replace(/^"(.*)"$/,function(m,E){return E}).replace(/^'(.*)'$/,function(m,E){return E});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(h))return c;var p;return p=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:a+h.replace(/^\.\//,""),"url("+JSON.stringify(p)+")"})}},function(n,r,i){var o=i(17);typeof window>"u"||window.Promise||(window.Promise=o),i(21),String.prototype.includes||(String.prototype.includes=function(s,a){return typeof a!="number"&&(a=0),!(a+s.length>this.length)&&this.indexOf(s,a)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,a){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),l=c.length>>>0;if(l===0)return!1;for(var h=0|a,p=Math.max(h>=0?h:l-Math.abs(h),0);p<l;){if(function(m,E){return m===E||typeof m=="number"&&typeof E=="number"&&isNaN(m)&&isNaN(E)}(c[p],s))return!0;p++}return!1}}),typeof window<"u"&&function(s){s.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,r,i){(function(o){(function(s){function a(){}function c(R,_){return function(){R.apply(_,arguments)}}function l(R){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof R!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(R,this)}function h(R,_){for(;R._state===3;)R=R._value;if(R._state===0)return void R._deferreds.push(_);R._handled=!0,l._immediateFn(function(){var C=R._state===1?_.onFulfilled:_.onRejected;if(C===null)return void(R._state===1?p:m)(_.promise,R._value);var I;try{I=C(R._value)}catch(j){return void m(_.promise,j)}p(_.promise,I)})}function p(R,_){try{if(_===R)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var C=_.then;if(_ instanceof l)return R._state=3,R._value=_,void E(R);if(typeof C=="function")return void y(c(C,_),R)}R._state=1,R._value=_,E(R)}catch(I){m(R,I)}}function m(R,_){R._state=2,R._value=_,E(R)}function E(R){R._state===2&&R._deferreds.length===0&&l._immediateFn(function(){R._handled||l._unhandledRejectionFn(R._value)});for(var _=0,C=R._deferreds.length;_<C;_++)h(R,R._deferreds[_]);R._deferreds=null}function x(R,_,C){this.onFulfilled=typeof R=="function"?R:null,this.onRejected=typeof _=="function"?_:null,this.promise=C}function y(R,_){var C=!1;try{R(function(I){C||(C=!0,p(_,I))},function(I){C||(C=!0,m(_,I))})}catch(I){if(C)return;C=!0,m(_,I)}}var w=setTimeout;l.prototype.catch=function(R){return this.then(null,R)},l.prototype.then=function(R,_){var C=new this.constructor(a);return h(this,new x(R,_,C)),C},l.all=function(R){var _=Array.prototype.slice.call(R);return new l(function(C,I){function j(z,q){try{if(q&&(typeof q=="object"||typeof q=="function")){var X=q.then;if(typeof X=="function")return void X.call(q,function(J){j(z,J)},I)}_[z]=q,--U==0&&C(_)}catch(J){I(J)}}if(_.length===0)return C([]);for(var U=_.length,$=0;$<_.length;$++)j($,_[$])})},l.resolve=function(R){return R&&typeof R=="object"&&R.constructor===l?R:new l(function(_){_(R)})},l.reject=function(R){return new l(function(_,C){C(R)})},l.race=function(R){return new l(function(_,C){for(var I=0,j=R.length;I<j;I++)R[I].then(_,C)})},l._immediateFn=typeof o=="function"&&function(R){o(R)}||function(R){w(R,0)},l._unhandledRejectionFn=function(R){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",R)},l._setImmediateFn=function(R){l._immediateFn=R},l._setUnhandledRejectionFn=function(R){l._unhandledRejectionFn=R},n!==void 0&&n.exports?n.exports=l:s.Promise||(s.Promise=l)})(this)}).call(r,i(18).setImmediate)},function(n,r,i){function o(a,c){this._id=a,this._clearFn=c}var s=Function.prototype.apply;r.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(a){a&&a.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(a,c){clearTimeout(a._idleTimeoutId),a._idleTimeout=c},r.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},r._unrefActive=r.active=function(a){clearTimeout(a._idleTimeoutId);var c=a._idleTimeout;c>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},c))},i(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,i){(function(o,s){(function(a,c){function l(C){typeof C!="function"&&(C=new Function(""+C));for(var I=new Array(arguments.length-1),j=0;j<I.length;j++)I[j]=arguments[j+1];var U={callback:C,args:I};return y[x]=U,E(x),x++}function h(C){delete y[C]}function p(C){var I=C.callback,j=C.args;switch(j.length){case 0:I();break;case 1:I(j[0]);break;case 2:I(j[0],j[1]);break;case 3:I(j[0],j[1],j[2]);break;default:I.apply(c,j)}}function m(C){if(w)setTimeout(m,0,C);else{var I=y[C];if(I){w=!0;try{p(I)}finally{h(C),w=!1}}}}if(!a.setImmediate){var E,x=1,y={},w=!1,R=a.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,{}.toString.call(a.process)==="[object process]"?function(){E=function(C){s.nextTick(function(){m(C)})}}():function(){if(a.postMessage&&!a.importScripts){var C=!0,I=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=I,C}}()?function(){var C="setImmediate$"+Math.random()+"$",I=function(j){j.source===a&&typeof j.data=="string"&&j.data.indexOf(C)===0&&m(+j.data.slice(C.length))};a.addEventListener?a.addEventListener("message",I,!1):a.attachEvent("onmessage",I),E=function(j){a.postMessage(C+j,"*")}}():a.MessageChannel?function(){var C=new MessageChannel;C.port1.onmessage=function(I){m(I.data)},E=function(I){C.port2.postMessage(I)}}():R&&"onreadystatechange"in R.createElement("script")?function(){var C=R.documentElement;E=function(I){var j=R.createElement("script");j.onreadystatechange=function(){m(I),j.onreadystatechange=null,C.removeChild(j),j=null},C.appendChild(j)}}():function(){E=function(C){setTimeout(m,0,C)}}(),_.setImmediate=l,_.clearImmediate=h}})(typeof self>"u"?o===void 0?this:o:self)}).call(r,i(7),i(20))},function(n,r){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(C){if(m===setTimeout)return setTimeout(C,0);if((m===i||!m)&&setTimeout)return m=setTimeout,setTimeout(C,0);try{return m(C,0)}catch{try{return m.call(null,C,0)}catch{return m.call(this,C,0)}}}function a(C){if(E===clearTimeout)return clearTimeout(C);if((E===o||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(C);try{return E(C)}catch{try{return E.call(null,C)}catch{return E.call(this,C)}}}function c(){R&&y&&(R=!1,y.length?w=y.concat(w):_=-1,w.length&&l())}function l(){if(!R){var C=s(c);R=!0;for(var I=w.length;I;){for(y=w,w=[];++_<I;)y&&y[_].run();_=-1,I=w.length}y=null,R=!1,a(C)}}function h(C,I){this.fun=C,this.array=I}function p(){}var m,E,x=n.exports={};(function(){try{m=typeof setTimeout=="function"?setTimeout:i}catch{m=i}try{E=typeof clearTimeout=="function"?clearTimeout:o}catch{E=o}})();var y,w=[],R=!1,_=-1;x.nextTick=function(C){var I=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)I[j-1]=arguments[j];w.push(new h(C,I)),w.length!==1||R||s(l)},h.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=p,x.addListener=p,x.once=p,x.off=p,x.removeListener=p,x.removeAllListeners=p,x.emit=p,x.prependListener=p,x.prependOnceListener=p,x.listeners=function(C){return[]},x.binding=function(C){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(C){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(n,r,i){i(22).polyfill()},function(n,r,i){function o(a,c){if(a==null)throw new TypeError("Cannot convert first argument to object");for(var l=Object(a),h=1;h<arguments.length;h++){var p=arguments[h];if(p!=null)for(var m=Object.keys(Object(p)),E=0,x=m.length;E<x;E++){var y=m[E],w=Object.getOwnPropertyDescriptor(p,y);w!==void 0&&w.enumerable&&(l[y]=p[y])}}return l}function s(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}n.exports={assign:o,polyfill:s}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(24),s=i(6),a=i(5),c=i(36),l=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];if(typeof window<"u"){var m=c.getOpts.apply(void 0,h);return new Promise(function(E,x){a.default.promise={resolve:E,reject:x},o.default(m),setTimeout(function(){s.openModal()})})}};l.close=s.onAction,l.getState=s.getState,l.setActionValue=a.setActionValue,l.stopLoading=s.stopLoading,l.setDefaults=c.setDefaults,r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(0),a=s.default.MODAL,c=i(4),l=i(34),h=i(35),p=i(1);r.init=function(m){o.getNode(a)||(document.body||p.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),l.default(),c.default()),c.initModalContent(m),h.default(m)},r.default=r.init},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.MODAL;r.modalMarkup=`
  <div class="`+s+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.OVERLAY,a=`<div 
    class="`+s+`"
    tabIndex="-1">
  </div>`;r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.ICON;r.errorIconMarkup=function(){var a=s+"--error",c=a+"__line";return`
    <div class="`+a+`__x-mark">
      <span class="`+c+" "+c+`--left"></span>
      <span class="`+c+" "+c+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var a=s+"--warning";return`
    <span class="`+a+`__body">
      <span class="`+a+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var a=s+"--success";return`
    <span class="`+a+"__line "+a+`__line--long"></span>
    <span class="`+a+"__line "+a+`__line--tip"></span>

    <div class="`+a+`__ring"></div>
    <div class="`+a+`__hide-corners"></div>
  `}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.CONTENT;r.contentMarkup=`
  <div class="`+s+`">

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.BUTTON_CONTAINER,a=o.default.BUTTON,c=o.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+s+`">

    <button
      class="`+a+`"
    ></button>

    <div class="`+c+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=i(2),a=i(0),c=a.default.ICON,l=a.default.ICON_CUSTOM,h=["error","warning","success","info"],p={error:s.errorIconMarkup(),warning:s.warningIconMarkup(),success:s.successIconMarkup()},m=function(y,w){var R=c+"--"+y;w.classList.add(R);var _=p[y];_&&(w.innerHTML=_)},E=function(y,w){w.classList.add(l);var R=document.createElement("img");R.src=y,w.appendChild(R)},x=function(y){if(y){var w=o.injectElIntoModal(s.iconMarkup);h.includes(y)?m(y,w):E(y,w)}};r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),s=i(4),a=function(c){navigator.userAgent.includes("AppleWebKit")&&(c.style.display="none",c.offsetHeight,c.style.display="")};r.initTitle=function(c){if(c){var l=s.injectElIntoModal(o.titleMarkup);l.textContent=c,a(l)}},r.initText=function(c){if(c){var l=document.createDocumentFragment();c.split(`
`).forEach(function(p,m,E){l.appendChild(document.createTextNode(p)),m<E.length-1&&l.appendChild(document.createElement("br"))});var h=s.injectElIntoModal(o.textMarkup);h.appendChild(l),a(h)}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(4),a=i(0),c=a.default.BUTTON,l=a.default.DANGER_BUTTON,h=i(3),p=i(2),m=i(6),E=i(5),x=function(w,R,_){var C=R.text,I=R.value,j=R.className,U=R.closeModal,$=o.stringToNode(p.buttonMarkup),z=$.querySelector("."+c),q=c+"--"+w;z.classList.add(q),j&&(Array.isArray(j)?j:j.split(" ")).filter(function(J){return J.length>0}).forEach(function(J){z.classList.add(J)}),_&&w===h.CONFIRM_KEY&&z.classList.add(l),z.textContent=C;var X={};return X[w]=I,E.setActionValue(X),E.setActionOptionsFor(w,{closeModal:U}),z.addEventListener("click",function(){return m.onAction(w)}),$},y=function(w,R){var _=s.injectElIntoModal(p.footerMarkup);for(var C in w){var I=w[C],j=x(C,I,R);I.visible&&_.appendChild(j)}_.children.length===0&&_.remove()};r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s=i(4),a=i(2),c=i(5),l=i(6),h=i(0),p=h.default.CONTENT,m=function(y){y.addEventListener("input",function(w){var R=w.target,_=R.value;c.setActionValue(_)}),y.addEventListener("keyup",function(w){if(w.key==="Enter")return l.onAction(o.CONFIRM_KEY)}),setTimeout(function(){y.focus(),c.setActionValue("")},0)},E=function(y,w,R){var _=document.createElement(w),C=p+"__"+w;_.classList.add(C);for(var I in R){var j=R[I];_[I]=j}w==="input"&&m(_),y.appendChild(_)},x=function(y){if(y){var w=s.injectElIntoModal(a.contentMarkup),R=y.element,_=y.attributes;typeof R=="string"?E(w,R,_):w.appendChild(R)}};r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),a=function(){var c=o.stringToNode(s.overlayMarkup);document.body.appendChild(c)};r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(5),s=i(6),a=i(1),c=i(3),l=i(0),h=l.default.MODAL,p=l.default.BUTTON,m=l.default.OVERLAY,E=function(J){J.preventDefault(),_()},x=function(J){J.preventDefault(),C()},y=function(J){if(o.default.isOpen)switch(J.key){case"Escape":return s.onAction(c.CANCEL_KEY)}},w=function(J){if(o.default.isOpen)switch(J.key){case"Tab":return E(J)}},R=function(J){if(o.default.isOpen)return J.key==="Tab"&&J.shiftKey?x(J):void 0},_=function(){var J=a.getNode(p);J&&(J.tabIndex=0,J.focus())},C=function(){var J=a.getNode(h),G=J.querySelectorAll("."+p),ee=G.length-1,ce=G[ee];ce&&ce.focus()},I=function(J){J[J.length-1].addEventListener("keydown",w)},j=function(J){J[0].addEventListener("keydown",R)},U=function(){var J=a.getNode(h),G=J.querySelectorAll("."+p);G.length&&(I(G),j(G))},$=function(J){if(a.getNode(m)===J.target)return s.onAction(c.CANCEL_KEY)},z=function(J){var G=a.getNode(m);G.removeEventListener("click",$),J&&G.addEventListener("click",$)},q=function(J){o.default.timer&&clearTimeout(o.default.timer),J&&(o.default.timer=window.setTimeout(function(){return s.onAction(c.CANCEL_KEY)},J))},X=function(J){J.closeOnEsc?document.addEventListener("keyup",y):document.removeEventListener("keyup",y),J.dangerMode?_():C(),U(),z(J.closeOnClickOutside),q(J.timer)};r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),a=i(37),c=i(38),l={title:null,text:null,icon:null,buttons:s.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},h=Object.assign({},l);r.setDefaults=function(R){h=Object.assign({},l,R)};var p=function(R){var _=R&&R.button,C=R&&R.buttons;return _!==void 0&&C!==void 0&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),_!==void 0?{confirm:_}:C},m=function(R){return o.ordinalSuffixOf(R+1)},E=function(R,_){o.throwErr(m(_)+" argument ('"+R+"') is invalid")},x=function(R,_){var C=R+1,I=_[C];o.isPlainObject(I)||I===void 0||o.throwErr("Expected "+m(C)+" argument ('"+I+"') to be a plain object")},y=function(R,_){var C=R+1,I=_[C];I!==void 0&&o.throwErr("Unexpected "+m(C)+" argument ("+I+")")},w=function(R,_,C,I){var j=typeof _,U=j==="string",$=_ instanceof Element;if(U){if(C===0)return{text:_};if(C===1)return{text:_,title:I[0]};if(C===2)return x(C,I),{icon:_};E(_,C)}else{if($&&C===0)return x(C,I),{content:_};if(o.isPlainObject(_))return y(C,I),_;E(_,C)}};r.getOpts=function(){for(var R=[],_=0;_<arguments.length;_++)R[_]=arguments[_];var C={};R.forEach(function(U,$){var z=w(0,U,$,R);Object.assign(C,z)});var I=p(C);C.buttons=s.getButtonListOpts(I),delete C.button,C.content=a.getContentOpts(C.content);var j=Object.assign({},l,h,C);return Object.keys(j).forEach(function(U){c.DEPRECATED_OPTS[U]&&c.logDeprecation(U)}),j}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(a){var c={};return o.isPlainObject(a)?Object.assign(c,a):a instanceof Element?{element:a}:a==="input"?s:null}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(o){var s=r.DEPRECATED_OPTS[o],a=s.onlyRename,c=s.replacement,l=s.subOption,h=s.link,p=a?"renamed":"deprecated",m='SweetAlert warning: "'+o+'" option has been '+p+".";c&&(m+=" Please use"+(l?' "'+l+'" in ':" ")+'"'+c+'" instead.');var E="https://sweetalert.js.org";m+=h?" More details: "+E+h:" More details: "+E+"/guides/#upgrading-from-1x",console.warn(m)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(N4);var yse=N4.exports;const tA=Qf(yse),bse=()=>{const e=Sl(),[t,n]=P.useState(null),{error:r,isLoading:i,Razorpay:o}=P4(),[s]=WV(),a=s.get("receiptId");P.useEffect(()=>{a&&(async()=>{try{const h=await or.post(`${kT}${P8}`,{receiptId:a});n(h.data.data)}catch(h){console.error("Error fetching checkout data:",h),tA("Oops!",h.message,"error")}})()},[a]);const c=()=>{if(!t)return;const l={key:t.key,amount:t.amount,currency:"INR",name:t.name,description:t.description,order_id:t.orderId,prefill:{name:t.name,email:t.email,contact:t.contact},handler:async p=>{try{(await or.post(`${kT}${N8}`,{razorpay_order_id:p.razorpay_order_id,razorpay_payment_id:p.razorpay_payment_id,razorpay_signature:p.razorpay_signature})).data.status==="ok"?e(`/payment-status/success?orderId=${t.orderId}`):e(`/payment-status/failed?orderId=${t.orderId}`)}catch(m){console.error("Error verifying payment:",m),tA("Oops!",m.message,"error")}}};new o(l).open()};return t?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #E3F2FD, #BBDEFB)"},"aria-disabled":!i,children:u.jsxs("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"90%",padding:"20px",textAlign:"center",boxSizing:"border-box"},children:[u.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"10px",color:"#333"},children:"Secure Checkout"}),u.jsxs("div",{style:{textAlign:"left",marginBottom:"20px",fontSize:"0.95rem",color:"#555"},children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Order ID:"})," ",t.orderId]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Amount:"})," ",t.amount/100]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Currency:"})," ",t.currency]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Description:"})," ",t.description]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",t.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",t.email]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Contact:"})," ",t.contact]})]}),u.jsx("button",{onClick:c,style:{backgroundColor:"#387ADE",color:"#fff",fontSize:"1.1rem",padding:"12px 20px",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},children:"Proceed to Checkout"}),u.jsx("p",{children:r&&u.jsxs("p",{children:["Error loading Razorpay: ",r]})})]})}):u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:"Loading..."})},xse=()=>{const{status:e}=UD(),n=new URLSearchParams(window.location.search).get("orderId"),r=()=>{window.location.href=`kt://payment-${e}?orderId=${n}`},i=e==="success",o={margin:0,fontFamily:"Arial, sans-serif",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:i?"linear-gradient(135deg, #4caf50, #81c784)":"linear-gradient(135deg, #f44336, #e57373)",color:"#fff"},s={width:"100px",height:"100px",margin:"0 auto 20px",borderRadius:"50%",background:"#fff",display:"flex",justifyContent:"center",alignItems:"center",color:i?"#4caf50":"#f44336",fontSize:"50px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},a={background:"#fff",color:i?"#4caf50":"#f44336",border:"none",padding:"10px 20px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",textDecoration:"none",transition:"background 0.3s"};return u.jsx("div",{style:o,children:u.jsxs("div",{className:"container",style:{textAlign:"center",animation:"fadeIn 1s ease-in-out"},children:[u.jsx("div",{style:s,children:i?"":""}),u.jsx("h1",{children:i?"Payment Successful":"Payment Failed"}),u.jsx("p",{children:i?"Your payment has been processed successfully. Thank you!":"Unfortunately, your payment could not be processed. Please try again."}),u.jsx("button",{style:a,onClick:r,children:"Back to App"})]})})},Sse=Pf({name:Dn().min(1,"Name is required"),email:Dn().email("Invalid email format"),mobile:Dn().regex(/^\d+$/,"Mobile must be a valid number"),image:Dn().optional(),expertise:$u(Dn()).min(1,"At least one area of expertise is required"),experienceYears:Of().min(0,"Experience must be at least 0 years"),bio:Dn().optional(),isActive:DS().default(!0)});function _se({initialData:e,onSubmit:t,onCancel:n}){const r=nh({resolver:Ay(Sse),defaultValues:{name:"",email:"",mobile:"",image:"",expertise:[""],experienceYears:0,bio:"",isActive:!0}});return P.useEffect(()=>{e?Object.keys(e).forEach(i=>{r.setValue(i,e[i])}):(r.clearErrors(),r.reset())},[e,r]),u.jsx(rh,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-6",children:[u.jsx(Xt,{control:r.control,name:"name",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Name"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Mentore Name",...i})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"email",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Email"}),u.jsx(vn,{children:u.jsx(sn,{type:"email",placeholder:"Mentor Email",...i})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:r.control,name:"mobile",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Mobile"}),u.jsx(vn,{children:u.jsx(sn,{type:"tel",placeholder:"Mentore Mobile",...i,onChange:o=>{const s=o.target.value;/^\d*$/.test(s)&&i.onChange(s)}})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"experienceYears",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Experience Years"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Experience Years",...i,onChange:o=>i.onChange(Number(o.target.value))})}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:r.control,name:"image",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Image URL"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"https://...",...i})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"expertise",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Expertise"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Comma-separated expertise areas (e.g., Math, Science)",value:i.value.join(", "),onChange:o=>i.onChange(o.target.value.split(",").map(s=>s.trim()))})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"bio",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Bio"}),u.jsx(vn,{children:u.jsx(ih,{placeholder:"Short bio about the mentor",...i})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(Ot,{variant:"outline",onClick:n,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:e?"Update Mentore":"Add Mentore"})]})]})})}function wse({open:e,onClose:t,mentore:n,onSubmit:r}){return u.jsx(ud,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(wl,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[u.jsx(El,{children:u.jsx(Cl,{children:n?"Edit Mentore":"Add New Mentore"})}),u.jsx(_se,{initialData:n,onSubmit:r,onCancel:t})]})})}const Ese={mentors:[],isLoading:!1,error:null,totalPages:1,currentPage:1},px=wt("creatementore",async(e,{rejectWithValue:t})=>{try{return(await mt.post(T8,e)).data}catch(n){return t(n)}}),mx=wt("fetchmentore",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(R8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),gx=wt("updatementore",async({id:e,mentoreData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${k8}/${e}`,t)).data}catch(r){return n(r)}}),vx=wt("togglementoreStatus",async(e,{rejectWithValue:t})=>{try{return(await mt.post(O8,{mentorId:e})).data}catch(n){return t(n)}}),Cse=is({name:"mentors",initialState:Ese,reducers:{},extraReducers:e=>{e.addCase(px.pending,(t,n)=>{t.isLoading=!0}).addCase(px.fulfilled,(t,n)=>{t.isLoading=!1,t.mentors.push(n.payload),t.mentors.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(px.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Bu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(mx.pending,t=>{t.isLoading=!0}).addCase(mx.fulfilled,(t,n)=>{t.isLoading=!1,t.mentors=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(mx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Bu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(gx.pending,(t,n)=>{t.isLoading=!0}).addCase(gx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Bu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(gx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.mentors.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.mentors[r]=n.payload)}).addCase(vx.pending,(t,n)=>{}).addCase(vx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(vx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.mentors.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.mentors[r].isActive=!t.mentors[r].isActive)})}}),Tse=Cse.reducer,Rse=()=>{const e=Yn(),{toast:t}=_l(),[n,r]=P.useState(!1),[i,o]=P.useState(),[s,a]=P.useState(""),{mentors:c,isLoading:l,currentPage:h,totalPages:p}=Nn(_=>_.mentore);P.useEffect(()=>{R(1)},[s]);const m=()=>{o(void 0),r(!0)},E=_=>{o(_),r(!0)},x=()=>{r(!1),o(void 0)},y=_=>{console.log("creatementore :>> ",_),i?e(gx({id:i._id,mentoreData:_})).then(C=>{C.type=="updatementore/fulfilled"&&(t({title:"Success",description:"Mentore updated successfully."}),x())}):e(px(_)).then(C=>{C.type=="creatementore/fulfilled"&&(t({title:"Success",description:"Mentore added successfully"}),x())})},w=_=>{e(vx(_._id))},R=_=>{e(mx({page:_,search:s}))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Mentore"}),u.jsxs(Ot,{onClick:m,children:[u.jsx(Qu,{className:"mr-2 h-4 w-4"})," Add Mentore"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search mentor by name, mobile, email",value:s,onChange:_=>{a(_.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Name"}),u.jsx(qe,{children:"Profile"}),u.jsx(qe,{children:"Email"}),u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Expertise"}),u.jsx(qe,{children:"ExperienceYears"}),u.jsx(qe,{children:"Bio"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{className:"text-right",children:"Actions"})]})}),u.jsx(Ds,{children:l?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):c.length===0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"No Mentore found"})}):c.map(_=>u.jsxs(Tn,{children:[u.jsx(Fe,{className:"font-medium",children:_.name}),u.jsx(Fe,{children:u.jsx("img",{src:_.image?_.image:"../assets/images/placeholder.webp",alt:_.name,className:"h-13 w-12 rounded-full object-cover"})}),u.jsx(Fe,{children:_.email?_.email:"-"}),u.jsx(Fe,{children:_.mobile?_.mobile:"-"}),u.jsx(Fe,{children:_.expertise.join(", ")}),u.jsx(Fe,{children:_.experienceYears}),u.jsx(Fe,{children:_.bio}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),u.jsxs(Fe,{className:"text-right",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(_),children:u.jsx(gM,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.isActive?u.jsx(cd,{className:"h-4 w-4"}):u.jsx(my,{className:"h-4 w-4"})})]})]},_._id))})]})}),p>=1&&u.jsx(sa,{currentPage:h,totalPages:p,onPageChange:R}),u.jsx(wse,{open:n,onClose:x,mentore:i,onSubmit:y})]})},I4=({items:e,name:t,control:n,isLoading:r,search:i,onSearch:o})=>{const{field:{value:s,onChange:a}}=fk({name:t,control:n}),c=l=>{s.includes(l)?a(s.filter(h=>h!==l)):a([...s,l])};return u.jsxs(ak,{children:[u.jsx(ck,{asChild:!0,children:u.jsx(vn,{children:u.jsx(Ot,{variant:"outline",role:"combobox",className:it("w-full justify-between",!s.length&&"text-muted-foreground"),children:s&&s.length>0?`${s.length} ${t} selected`:`Select ${t}`})})}),u.jsxs(U_,{className:"w-[400px] p-0 max-h-[200px] overflow-auto",children:[u.jsx("div",{className:"p-2",children:u.jsx(sn,{placeholder:"Search...",value:i,onChange:l=>o(l.target.value.trim())})}),r?u.jsx("div",{className:"p-4 text-center",children:"Loading..."}):e.length===0?u.jsx("div",{className:"p-4 text-center",children:"No data available"}):e.map(l=>u.jsx(H2,{checked:s.includes(l.id),onCheckedChange:()=>c(l.id),className:"flex items-center space-x-2",children:l.label},l.id))]})]})},kse={offers:[],isLoading:!1,error:null,currentPage:1,totalPages:1,courses:[],isLoadingCourse:!1,quizzes:[],isLoadingQuiz:!1},yx=wt("fetchOffers",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(B8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),bx=wt("createOffer",async(e,{rejectWithValue:t})=>{try{return(await mt.post($8,e)).data}catch(n){return t(n.response.data)}}),SC=wt("fetchOfferDetails",async(e,{rejectWithValue:t})=>{try{return(await mt.get(V8(e))).data}catch(n){return t(n.response.data)}}),xx=wt("updateOffer",async({id:e,updatedData:t},{rejectWithValue:n})=>{try{return(await mt.put(z8(e),t)).data}catch(r){return n(r.response.data)}}),Sx=wt("deleteOffer",async(e,{rejectWithValue:t})=>{try{return{...(await mt.delete(W8(e))).data,id:e}}catch(n){return t(n.response.data)}}),_x=wt("searchEligibleQuizzes",async(e,{rejectWithValue:t})=>{try{return(await mt.post(H8,e)).data}catch(n){return t(n.response.data)}}),wx=wt("searchEligibleCourses",async(e,{rejectWithValue:t})=>{try{return(await mt.post(G8,e)).data}catch(n){return t(n.response.data)}}),Ose=is({name:"offer",initialState:kse,reducers:{},extraReducers:e=>{e.addCase(yx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(yx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers=n.payload.offers,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(yx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(bx.pending,t=>{t.error=null}).addCase(bx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers.push(n.payload)}).addCase(bx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Bu({title:"Error",description:n.payload.message,variant:"destructive"})}).addCase(SC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(SC.fulfilled,(t,n)=>{t.isLoading=!1,t.offers.findIndex(i=>i._id===n.payload._id)===-1&&t.offers.push(n.payload)}).addCase(SC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(xx.pending,t=>{t.error=null}).addCase(xx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.offers.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.offers[r]=n.payload)}).addCase(xx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Bu({title:"Error",description:n.payload.message,variant:"destructive"})}).addCase(Sx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Sx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers=t.offers.filter(r=>r._id!==n.payload.id)}).addCase(Sx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(wx.pending,t=>{t.isLoadingCourse=!0,t.error=null}).addCase(wx.fulfilled,(t,n)=>{t.isLoadingCourse=!1,t.courses=n.payload.courses}).addCase(wx.rejected,(t,n)=>{t.isLoadingCourse=!1,t.error=n.payload}).addCase(_x.pending,t=>{t.isLoadingQuiz=!0,t.error=null}).addCase(_x.fulfilled,(t,n)=>{t.isLoadingQuiz=!1,t.quizzes=n.payload.quizzes}).addCase(_x.rejected,(t,n)=>{t.isLoadingQuiz=!1,t.error=n.payload})}}),Pse=Ose.reducer,Nse=({courses:e,form:t,isLoading:n})=>{const r=e.map(c=>({id:c._id,label:c.title})),[i,o]=P.useState(""),s=Yn();P.useEffect(()=>{a(i)},[i]);const a=c=>{s(wx({search:c}))};return u.jsx(hk,{control:t.control,name:"courses",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Courses"}),u.jsx(I4,{items:r,name:"courses",control:t.control,isLoading:n,onSearch:o,search:i}),u.jsx(Ft,{})]})})},Ise=({quizzes:e,form:t,isLoading:n})=>{const r=e.map(c=>({id:c._id,label:c.title})),[i,o]=P.useState(""),s=Yn();P.useEffect(()=>{a(i)},[i]);const a=c=>{s(_x({search:c}))};return u.jsx(hk,{control:t.control,name:"quizzes",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Quizzes"}),u.jsx(I4,{items:r,name:"quizzes",control:t.control,isLoading:n,onSearch:o,search:i}),u.jsx(Ft,{})]})})};function Ase({form:e}){return u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Xt,{control:e.control,name:"startAt",render:({field:t})=>u.jsxs(Mt,{className:"flex-1",children:[u.jsx(Lt,{children:"Start Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(Qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(tm,{className:"w-auto p-0",align:"start",children:u.jsx(nm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date,initialFocus:!0})})]}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"endAt",render:({field:t})=>u.jsxs(Mt,{className:"flex-1",children:[u.jsx(Lt,{children:"End Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(Qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(tm,{className:"w-auto p-0",align:"start",children:u.jsx(nm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<e.getValues("startAt"),initialFocus:!0})})]}),u.jsx(Ft,{})]})})]})}const jse=Pf({title:Dn().min(1,"Title is required"),description:Dn().min(1,"Description is required"),image:Dn().min(1,"Image is required"),offrPer:Of().min(0).max(100),startAt:MS(),endAt:MS(),courses:$u(Dn()).default([]),quizzes:$u(Dn()).default([])});function Dse({initialData:e,onSubmit:t}){const{courses:n,quizzes:r,isLoadingCourse:i,isLoadingQuiz:o}=Nn(a=>a.offer);Yn();const s=nh({resolver:Ay(jse),defaultValues:{title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",image:(e==null?void 0:e.image)??"",offrPer:(e==null?void 0:e.offrPer)??0,startAt:e!=null&&e.startAt?new Date(e.startAt):new Date,endAt:e!=null&&e.endAt?new Date(e.endAt):new Date,courses:Array.isArray(e==null?void 0:e.courses)?e.courses:[],quizzes:Array.isArray(e==null?void 0:e.quizzes)?e.quizzes:[]}});return u.jsx(rh,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(t),className:"space-y-6",children:[u.jsx(Xt,{control:s.control,name:"title",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter offer title",...a})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:s.control,name:"description",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Description"}),u.jsx(vn,{children:u.jsx(ih,{placeholder:"Enter offer description",...a})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:s.control,name:"image",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Offer Image"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter offer image",...a})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:s.control,name:"offrPer",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Offer Percentage"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Enter offer percentage",...a,onChange:c=>a.onChange(Number(c.target.value))})}),u.jsx(Ft,{})]})}),u.jsx(Ase,{form:s}),u.jsx(Nse,{form:s,courses:n,isLoading:i}),u.jsx(Ise,{form:s,quizzes:r,isLoading:o}),u.jsx(Ot,{type:"submit",className:"w-full",children:e?"Update Offer":"Create Offer"})]})})}function Mse({isLoading:e,offers:t,onEdit:n,onDelete:r}){return u.jsx("div",{className:"bg-white rounded-md border",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Percentage"}),u.jsx(qe,{children:"Offer Applied"}),u.jsx(qe,{children:"Start Date"}),u.jsx(qe,{children:"End Date"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:e?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center",children:"Loading..."})}):t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center",children:"No Offer Available."})}):t.map(i=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:i.title}),u.jsxs(Fe,{children:[i.offrPer,"%"]}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{children:[i.courses.length," ",i.courses.length>1?"Courses":"Course"]}),u.jsxs("span",{children:[i.quizzes.length," ",i.quizzes.length>1?"Quizzes":"Quiz"]})]})}),u.jsx(Fe,{children:ns(new Date(i.startAt),"PPP")}),u.jsx(Fe,{children:ns(new Date(i.endAt),"PPP")}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ot,{variant:"outline",size:"icon",onClick:()=>n(i),children:u.jsx(NR,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"destructive",size:"icon",onClick:()=>r(i._id),children:u.jsx(TT,{className:"h-4 w-4"})})]})})]},i._id))})]})})}const Lse=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),{toast:i}=_l(),{currentPage:o,totalPages:s,isLoading:a,offers:c}=Nn(w=>w.offer),[l,h]=P.useState(""),p=Yn();P.useEffect(()=>{m(1)},[l]);const m=w=>{p(yx({page:w,search:l}))},E=w=>{n?p(xx({id:n._id,updatedData:w})).then(R=>{R.type=="updateOffer/fulfilled"&&(i({title:"Offer updated",description:"The offer has been successfully updated."}),t(!1),r(null))}):p(bx(w)).then(R=>{R.type=="createOffer/fulfilled"&&(i({title:"Offer created",description:"The new offer has been successfully created."}),t(!1),r(null))})},x=w=>{r(w),t(!0)},y=w=>{p(Sx(w)).then(R=>{R.type=="deleteOffer/fulfilled"&&i({title:"Offer deleted",description:"The offer has been successfully deleted.",variant:"destructive"})})};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Offers Management"}),u.jsxs(Ot,{onClick:()=>{r(null),t(!0)},children:[u.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Add New Offer"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search offer by title",value:l,onChange:w=>{h(w.target.value)},className:"max-w-sm"})}),u.jsx(ud,{open:e,onOpenChange:t,children:u.jsxs(wl,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(El,{children:u.jsx(Cl,{children:n?"Edit Offer":"Create New Offer"})}),u.jsx(Dse,{initialData:n||void 0,onSubmit:E})]})}),u.jsx(Mse,{isLoading:a,offers:c,onEdit:x,onDelete:y}),s>=1&&u.jsx(sa,{currentPage:o,totalPages:s,onPageChange:m})]})},Fse=({isOpen:e,onClose:t,initialValues:n,onSubmit:r,dropdownItems:i})=>{const o=nh({defaultValues:{subject:"",standard:""}}),s=i.map(c=>({label:c.std,id:c._id}));P.useEffect(()=>{var c;o.reset({subject:(n==null?void 0:n.subject)||"",standard:((c=n==null?void 0:n.standard)==null?void 0:c._id)||""})},[o,n]);const a=()=>{t()};return u.jsxs(hw,{isOpen:e,onClose:a,children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Subject":"Add Subject"}),u.jsx(rh,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(r),className:"space-y-4",children:[u.jsx(Xt,{control:o.control,name:"subject",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Subject Name"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter subject name",...c})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:o.control,name:"standard",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),u.jsx(cl,{placeholder:"Select items",name:"standard",control:o.control,onSearch:()=>{},listing:s,onItemSelect:l=>{}}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:a,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Submit"})]})]})})]})},Use=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{subjects:o,isLoading:s}=Nn(E=>E.subject),{standards:a,isLoading:c}=Nn(E=>E.standard);P.useEffect(()=>{i(Nf("")),i(al())},[i]),[{name:"subject",label:"Subject Name",type:"text",placeholder:"Enter subject name",validation:cm().required("Subject Name is required.")},{name:"standard",label:"Standard",type:"select",options:a.map(E=>({value:E._id,label:E.std}))}].reduce((E,x)=>(E[x.name]="",E),{});const h=E=>{i(n?Gb({id:n._id,data:E}):Hb(E)),t(!1),r(null)},p=E=>{r(E),t(!0)},m=E=>{i(qb(E))};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Subjects"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Subject"})]}),u.jsx(Fse,{isOpen:e,onClose:()=>t(!1),initialValues:n,onSubmit:h,dropdownItems:a}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Subject Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((E,x)=>{var y;return u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:x+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.subject}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.standard?(y=E.standard)==null?void 0:y.std:"-"}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(hd,{id:E._id,checked:E.isActive,onCheckedChange:()=>m(E._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(E),children:u.jsx(fw,{})})})]},E._id)})})]})]})})};function Bse(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function h(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,h]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,$se(i,...t)]}function $se(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var fO="Progress",hO=100,[Vse,kae]=Bse(fO),[zse,Wse]=Vse(fO),A4=P.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=Hse,...s}=e;(i||i===0)&&!nA(i)&&console.error(Gse(`${i}`,"Progress"));const a=nA(i)?i:hO;r!==null&&!rA(r,a)&&console.error(qse(`${r}`,"Progress"));const c=rA(r,a)?r:null,l=HS(c)?o(c,a):void 0;return u.jsx(zse,{scope:n,value:c,max:a,children:u.jsx(Pt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":HS(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":M4(c,a),"data-value":c??void 0,"data-max":a,...s,ref:t})})});A4.displayName=fO;var j4="ProgressIndicator",D4=P.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Wse(j4,n);return u.jsx(Pt.div,{"data-state":M4(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});D4.displayName=j4;function Hse(e,t){return`${Math.round(e/t*100)}%`}function M4(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function HS(e){return typeof e=="number"}function nA(e){return HS(e)&&!isNaN(e)&&e>0}function rA(e,t){return HS(e)&&!isNaN(e)&&e<=t&&e>=0}function Gse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hO}\`.`}function qse(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var L4=A4,Kse=D4;const F4=P.forwardRef(({className:e,value:t,...n},r)=>u.jsx(L4,{ref:r,className:it("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:u.jsx(Kse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));F4.displayName=L4.displayName;const Ex=wt("fetchAllPayment",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await mt.get(OM,{params:{page:e,userId:t}})).data}catch(r){return n(r.response.data)}}),Cx=wt("fetchUserQuizResult",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await mt.post(L8,{page:e,userId:t})).data}catch(r){return n(r)}}),Tx=wt("fetchUserCourseTracking",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await mt.post(F8,{page:e,userId:t})).data}catch(r){return n(r)}}),U4=wt("fetchUserDetails",async(e,{rejectWithValue:t})=>{try{return(await mt.post(U8,{userId:e})).data}catch(n){return t(n)}}),Yse={error:"",isLoading:!1,payments:[],pyCurrentPage:1,pyTotalPage:0,quizResult:[],qrCurrentPage:1,qrTotalPages:0,user:null,courseTracking:[],crCurrentPage:1,crTotalPage:0},Qse=is({name:"userDetail",initialState:Yse,reducers:{},extraReducers:e=>{e.addCase(U4.fulfilled,(t,n)=>{t.user=n.payload}).addCase(Tx.pending,(t,n)=>{}).addCase(Tx.fulfilled,(t,n)=>{t.courseTracking=n.payload.courseTracking}).addCase(Tx.rejected,(t,n)=>{}).addCase(Cx.pending,(t,n)=>{}).addCase(Cx.fulfilled,(t,n)=>{t.quizResult=n.payload.docs,t.qrCurrentPage=n.payload.currentPage,t.qrTotalPages=n.payload.totalPages}).addCase(Cx.rejected,(t,n)=>{}).addCase(Ex.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Ex.fulfilled,(t,n)=>{t.isLoading=!1,t.payments=n.payload.docs,t.pyCurrentPage=n.payload.currentPage,t.pyTotalPage=n.payload.totalPages}).addCase(Ex.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),Xse=Qse.reducer,Jse=({userId:e})=>{const{courseTracking:t,crCurrentPage:n,crTotalPage:r}=Nn(s=>s.userDetail),i=Yn(),o=s=>{i(Tx({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(Vu,{className:"pb-5",children:[u.jsx(zu,{children:u.jsx(Wu,{children:"Course Progress"})}),u.jsx(Hu,{className:"space-y-6",children:t.length==0?u.jsx("p",{className:"text-center",children:"No course progress found"}):t.map(s=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"font-medium",children:s.courseTitle}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.completionRate,"%"]})]}),u.jsx(F4,{value:s.completionRate,className:"h-2"})]},s._id))}),r>=1&&u.jsx(sa,{currentPage:n,totalPages:r,onPageChange:o})]})},Zse=({userId:e})=>{const{payments:t,pyCurrentPage:n,pyTotalPage:r}=Nn(s=>s.userDetail),i=Yn(),o=s=>{i(Ex({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(Vu,{className:"pb-5",children:[u.jsx(zu,{children:u.jsx(Wu,{children:"Payment History"})}),u.jsx(Hu,{children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Item"}),u.jsx(qe,{children:"Type"}),u.jsx(qe,{children:"Amount"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Date"})]})}),u.jsx(Ds,{children:t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:5,className:"text-center py-10",children:"No payment found"})}):t.map(s=>{var a;return u.jsxs(Tn,{children:[u.jsx(Fe,{children:s.courseId?"Course":s.quizId?"Quiz":"-"}),u.jsx(Fe,{children:s.quizId?s.quizId.title:(a=s==null?void 0:s.courseId)==null?void 0:a.title}),u.jsxs(Fe,{children:["$",s.amount/100]}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":s.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.paymentStatus})}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(s.paymentDate).toLocaleDateString()}),u.jsx("span",{children:new Date(s.paymentDate).toLocaleTimeString()})]})})]},s._id)})})]})}),r>=1&&u.jsx(sa,{currentPage:n,totalPages:r,onPageChange:o})]})},eae=({userId:e})=>{const{quizResult:t,qrCurrentPage:n,qrTotalPages:r}=Nn(s=>s.userDetail),i=Yn(),o=s=>{i(Cx({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(Vu,{className:"pb-5",children:[u.jsx(zu,{children:u.jsx(Wu,{children:"Quiz Results"})}),u.jsx(Hu,{children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Quiz Name"}),u.jsx(qe,{children:"Score"}),u.jsx(qe,{children:"Date"})]})}),u.jsx(Ds,{children:t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:3,className:"text-center py-10",children:"No quiz result found"})}):t.map(s=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:s.quizId.title}),u.jsx(Fe,{children:u.jsxs("span",{className:"font-medium",children:[s.score," / ",s.totalQuestions]})}),u.jsx(Fe,{children:s.submittedAt?new Date(s.submittedAt).toLocaleTimeString():"-"})]},s._id))})]})}),r>=1&&u.jsx(sa,{currentPage:n,totalPages:r,onPageChange:o})]})},tae=({userId:e})=>{var i,o;const{user:t}=Nn(s=>s.userDetail),n=Yn(),r=()=>{n(U4(e))};return P.useEffect(()=>{r()},[]),u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(a6,{className:"h-8 w-8 text-blue-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Wu,{children:t==null?void 0:t.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.mobile})]}),u.jsx("div",{className:"text-sm text-muted-foreground text-right",children:u.jsxs("p",{children:["Last Login: ",new Date(t==null?void 0:t.lastLoginAt).toLocaleDateString()," ",new Date(t==null?void 0:t.lastLoginAt).toLocaleTimeString()]})})]}),u.jsx(Hu,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(Qp,{className:"h-4 w-4"}),"Basic Information"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",new Date(t==null?void 0:t.dob).toLocaleDateString()]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Standard:"})," ",((i=t==null?void 0:t.stdId)==null?void 0:i.std)??""]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Board:"})," ",((o=t==null?void 0:t.boardId)==null?void 0:o.boardshortname)??""]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(vM,{className:"h-4 w-4"}),"Academic Details"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"School:"})," ",t==null?void 0:t.schoolName]}),u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subjects:"})," ",u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t==null?void 0:t.subject.map(s=>u.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs",children:s.subject},s._id))})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(t6,{className:"h-4 w-4"}),"Extra Activities"]}),u.jsx("div",{className:"space-y-2",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:t==null?void 0:t.activity.map(s=>u.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full text-xs",children:s.activityname},s._id))})})]}),u.jsxs("div",{className:"space-y-3 md:col-span-2 lg:col-span-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(o6,{className:"h-4 w-4"}),"Learning Progress"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCourses)??0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Enrolled Courses"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.completedQuizzes)??0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Quizzes"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:new Date(t==null?void 0:t.createdAt).toLocaleDateString()}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Member Since"})]})]})]})]})})]})},nae=()=>{const{id:e}=UD();return u.jsx("div",{className:"container mx-auto py-8 px-4",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx(tae,{userId:e}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsx(Jse,{userId:e}),u.jsx(eae,{userId:e})]}),u.jsx(Zse,{userId:e})]})})},rae={transactions:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Rx=wt("fetchAllTransactions",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(D8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),iae=is({name:"transaction",initialState:rae,reducers:{},extraReducers:e=>{e.addCase(Rx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Rx.fulfilled,(t,n)=>{t.isLoading=!1,t.transactions=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Rx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),oae=iae.reducer,sae=()=>{const[e,t]=P.useState(""),{transactions:n,currentPage:r,totalPages:i,isLoading:o}=Nn(c=>c.transaction),s=Yn(),a=c=>{s(Rx({page:c,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&a(1)},[e]),u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"space-y-1",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Transaction Records"})})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search user by mobile",value:e,onChange:c=>{t(c.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Referral Name"}),u.jsx(qe,{children:"Referral Mobile"}),u.jsx(qe,{children:"Name"}),u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Amount"}),u.jsx(qe,{children:"Points"}),u.jsx(qe,{children:"Transaction Type"}),u.jsx(qe,{children:"Transaction Date"})]})}),u.jsx(Ds,{children:n.map(c=>{var l,h,p,m;return console.log("=========================================",c),u.jsxs(Tn,{children:[u.jsx(Fe,{children:(l=c==null?void 0:c.referredBy)==null?void 0:l.name}),u.jsx(Fe,{children:(h=c==null?void 0:c.referredBy)==null?void 0:h.mobile}),u.jsx(Fe,{children:(p=c==null?void 0:c.referredTo)==null?void 0:p.name}),u.jsx(Fe,{children:(m=c==null?void 0:c.referredTo)==null?void 0:m.mobile}),u.jsxs(Fe,{children:["",(c==null?void 0:c.amount)/100||0]}),u.jsx(Fe,{children:c==null?void 0:c.points}),u.jsx(Fe,{children:(c==null?void 0:c.transactionType)==="C"?"Withdraw":"Deposit"}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(c==null?void 0:c.date).toLocaleDateString()}),u.jsx("span",{children:new Date(c==null?void 0:c.date).toLocaleTimeString()})]})})]},c==null?void 0:c._id)})})]})}),i>=1&&u.jsx(sa,{currentPage:r,totalPages:i,onPageChange:a})]})};var B4={exports:{}};/*! For license information please see amazon-ivs-web-broadcast.js.LICENSE.txt */(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={2505:(s,a,c)=>{s.exports=c(8015)},5592:(s,a,c)=>{var l=c(9516),h=c(7522),p=c(3948),m=c(9106),E=c(9615),x=c(2012),y=c(4202),w=c(4896),R=c(5845),_=c(8563),C=c(5656);s.exports=function(I){return new Promise(function(j,U){var $,z=I.data,q=I.headers,X=I.responseType;function J(){I.cancelToken&&I.cancelToken.unsubscribe($),I.signal&&I.signal.removeEventListener("abort",$)}l.isFormData(z)&&l.isStandardBrowserEnv()&&delete q["Content-Type"];var G=new XMLHttpRequest;if(I.auth){var ee=I.auth.username||"",ce=I.auth.password?unescape(encodeURIComponent(I.auth.password)):"";q.Authorization="Basic "+btoa(ee+":"+ce)}var xe=E(I.baseURL,I.url);function Se(){if(G){var Q="getAllResponseHeaders"in G?x(G.getAllResponseHeaders()):null,ne={data:X&&X!=="text"&&X!=="json"?G.response:G.responseText,status:G.status,statusText:G.statusText,headers:Q,config:I,request:G};h(function(fe){j(fe),J()},function(fe){U(fe),J()},ne),G=null}}if(G.open(I.method.toUpperCase(),m(xe,I.params,I.paramsSerializer),!0),G.timeout=I.timeout,"onloadend"in G?G.onloadend=Se:G.onreadystatechange=function(){G&&G.readyState===4&&(G.status!==0||G.responseURL&&G.responseURL.indexOf("file:")===0)&&setTimeout(Se)},G.onabort=function(){G&&(U(new R("Request aborted",R.ECONNABORTED,I,G)),G=null)},G.onerror=function(){U(new R("Network Error",R.ERR_NETWORK,I,G,G)),G=null},G.ontimeout=function(){var Q=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded",ne=I.transitional||w;I.timeoutErrorMessage&&(Q=I.timeoutErrorMessage),U(new R(Q,ne.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,I,G)),G=null},l.isStandardBrowserEnv()){var ve=(I.withCredentials||y(xe))&&I.xsrfCookieName?p.read(I.xsrfCookieName):void 0;ve&&(q[I.xsrfHeaderName]=ve)}"setRequestHeader"in G&&l.forEach(q,function(Q,ne){z===void 0&&ne.toLowerCase()==="content-type"?delete q[ne]:G.setRequestHeader(ne,Q)}),l.isUndefined(I.withCredentials)||(G.withCredentials=!!I.withCredentials),X&&X!=="json"&&(G.responseType=I.responseType),typeof I.onDownloadProgress=="function"&&G.addEventListener("progress",I.onDownloadProgress),typeof I.onUploadProgress=="function"&&G.upload&&G.upload.addEventListener("progress",I.onUploadProgress),(I.cancelToken||I.signal)&&($=function(Q){G&&(U(!Q||Q&&Q.type?new _:Q),G.abort(),G=null)},I.cancelToken&&I.cancelToken.subscribe($),I.signal&&(I.signal.aborted?$():I.signal.addEventListener("abort",$))),z||(z=null);var Y=C(xe);Y&&["http","https","file"].indexOf(Y)===-1?U(new R("Unsupported protocol "+Y+":",R.ERR_BAD_REQUEST,I)):G.send(z)})}},8015:(s,a,c)=>{var l=c(9516),h=c(9012),p=c(5155),m=c(5343),E=function x(y){var w=new p(y),R=h(p.prototype.request,w);return l.extend(R,p.prototype,w),l.extend(R,w),R.create=function(_){return x(m(y,_))},R}(c(7412));E.Axios=p,E.CanceledError=c(8563),E.CancelToken=c(3191),E.isCancel=c(3864),E.VERSION=c(9641).version,E.toFormData=c(6440),E.AxiosError=c(5845),E.Cancel=E.CanceledError,E.all=function(x){return Promise.all(x)},E.spread=c(7980),E.isAxiosError=c(5019),s.exports=E,s.exports.default=E},3191:(s,a,c)=>{var l=c(8563);function h(p){if(typeof p!="function")throw new TypeError("executor must be a function.");var m;this.promise=new Promise(function(x){m=x});var E=this;this.promise.then(function(x){if(E._listeners){var y,w=E._listeners.length;for(y=0;y<w;y++)E._listeners[y](x);E._listeners=null}}),this.promise.then=function(x){var y,w=new Promise(function(R){E.subscribe(R),y=R}).then(x);return w.cancel=function(){E.unsubscribe(y)},w},p(function(x){E.reason||(E.reason=new l(x),m(E.reason))})}h.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},h.prototype.subscribe=function(p){this.reason?p(this.reason):this._listeners?this._listeners.push(p):this._listeners=[p]},h.prototype.unsubscribe=function(p){if(this._listeners){var m=this._listeners.indexOf(p);m!==-1&&this._listeners.splice(m,1)}},h.source=function(){var p;return{token:new h(function(m){p=m}),cancel:p}},s.exports=h},8563:(s,a,c)=>{var l=c(5845);function h(p){l.call(this,p??"canceled",l.ERR_CANCELED),this.name="CanceledError"}c(9516).inherits(h,l,{__CANCEL__:!0}),s.exports=h},3864:s=>{s.exports=function(a){return!(!a||!a.__CANCEL__)}},5155:(s,a,c)=>{var l=c(9516),h=c(9106),p=c(3471),m=c(4490),E=c(5343),x=c(9615),y=c(4841),w=y.validators;function R(_){this.defaults=_,this.interceptors={request:new p,response:new p}}R.prototype.request=function(_,C){typeof _=="string"?(C=C||{}).url=_:C=_||{},(C=E(this.defaults,C)).method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var I=C.transitional;I!==void 0&&y.assertOptions(I,{silentJSONParsing:w.transitional(w.boolean),forcedJSONParsing:w.transitional(w.boolean),clarifyTimeoutError:w.transitional(w.boolean)},!1);var j=[],U=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(C)===!1||(U=U&&ee.synchronous,j.unshift(ee.fulfilled,ee.rejected))});var $,z=[];if(this.interceptors.response.forEach(function(ee){z.push(ee.fulfilled,ee.rejected)}),!U){var q=[m,void 0];for(Array.prototype.unshift.apply(q,j),q=q.concat(z),$=Promise.resolve(C);q.length;)$=$.then(q.shift(),q.shift());return $}for(var X=C;j.length;){var J=j.shift(),G=j.shift();try{X=J(X)}catch(ee){G(ee);break}}try{$=m(X)}catch(ee){return Promise.reject(ee)}for(;z.length;)$=$.then(z.shift(),z.shift());return $},R.prototype.getUri=function(_){_=E(this.defaults,_);var C=x(_.baseURL,_.url);return h(C,_.params,_.paramsSerializer)},l.forEach(["delete","get","head","options"],function(_){R.prototype[_]=function(C,I){return this.request(E(I||{},{method:_,url:C,data:(I||{}).data}))}}),l.forEach(["post","put","patch"],function(_){function C(I){return function(j,U,$){return this.request(E($||{},{method:_,headers:I?{"Content-Type":"multipart/form-data"}:{},url:j,data:U}))}}R.prototype[_]=C(),R.prototype[_+"Form"]=C(!0)}),s.exports=R},5845:(s,a,c)=>{var l=c(9516);function h(E,x,y,w,R){Error.call(this),this.message=E,this.name="AxiosError",x&&(this.code=x),y&&(this.config=y),w&&(this.request=w),R&&(this.response=R)}l.inherits(h,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var p=h.prototype,m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(E){m[E]={value:E}}),Object.defineProperties(h,m),Object.defineProperty(p,"isAxiosError",{value:!0}),h.from=function(E,x,y,w,R,_){var C=Object.create(p);return l.toFlatObject(E,C,function(I){return I!==Error.prototype}),h.call(C,E.message,x,y,w,R),C.name=E.name,_&&Object.assign(C,_),C},s.exports=h},3471:(s,a,c)=>{var l=c(9516);function h(){this.handlers=[]}h.prototype.use=function(p,m,E){return this.handlers.push({fulfilled:p,rejected:m,synchronous:!!E&&E.synchronous,runWhen:E?E.runWhen:null}),this.handlers.length-1},h.prototype.eject=function(p){this.handlers[p]&&(this.handlers[p]=null)},h.prototype.forEach=function(p){l.forEach(this.handlers,function(m){m!==null&&p(m)})},s.exports=h},9615:(s,a,c)=>{var l=c(9137),h=c(4680);s.exports=function(p,m){return p&&!l(m)?h(p,m):m}},4490:(s,a,c)=>{var l=c(9516),h=c(2881),p=c(3864),m=c(7412),E=c(8563);function x(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new E}s.exports=function(y){return x(y),y.headers=y.headers||{},y.data=h.call(y,y.data,y.headers,y.transformRequest),y.headers=l.merge(y.headers.common||{},y.headers[y.method]||{},y.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(w){delete y.headers[w]}),(y.adapter||m.adapter)(y).then(function(w){return x(y),w.data=h.call(y,w.data,w.headers,y.transformResponse),w},function(w){return p(w)||(x(y),w&&w.response&&(w.response.data=h.call(y,w.response.data,w.response.headers,y.transformResponse))),Promise.reject(w)})}},5343:(s,a,c)=>{var l=c(9516);s.exports=function(h,p){p=p||{};var m={};function E(C,I){return l.isPlainObject(C)&&l.isPlainObject(I)?l.merge(C,I):l.isPlainObject(I)?l.merge({},I):l.isArray(I)?I.slice():I}function x(C){return l.isUndefined(p[C])?l.isUndefined(h[C])?void 0:E(void 0,h[C]):E(h[C],p[C])}function y(C){if(!l.isUndefined(p[C]))return E(void 0,p[C])}function w(C){return l.isUndefined(p[C])?l.isUndefined(h[C])?void 0:E(void 0,h[C]):E(void 0,p[C])}function R(C){return C in p?E(h[C],p[C]):C in h?E(void 0,h[C]):void 0}var _={url:y,method:y,data:y,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:R};return l.forEach(Object.keys(h).concat(Object.keys(p)),function(C){var I=_[C]||x,j=I(C);l.isUndefined(j)&&I!==R||(m[C]=j)}),m}},7522:(s,a,c)=>{var l=c(5845);s.exports=function(h,p,m){var E=m.config.validateStatus;m.status&&E&&!E(m.status)?p(new l("Request failed with status code "+m.status,[l.ERR_BAD_REQUEST,l.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m)):h(m)}},2881:(s,a,c)=>{var l=c(9516),h=c(7412);s.exports=function(p,m,E){var x=this||h;return l.forEach(E,function(y){p=y.call(x,p,m)}),p}},7412:(s,a,c)=>{var l=c(9516),h=c(7018),p=c(5845),m=c(4896),E=c(6440),x={"Content-Type":"application/x-www-form-urlencoded"};function y(_,C){!l.isUndefined(_)&&l.isUndefined(_["Content-Type"])&&(_["Content-Type"]=C)}var w,R={transitional:m,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(w=c(5592)),w),transformRequest:[function(_,C){if(h(C,"Accept"),h(C,"Content-Type"),l.isFormData(_)||l.isArrayBuffer(_)||l.isBuffer(_)||l.isStream(_)||l.isFile(_)||l.isBlob(_))return _;if(l.isArrayBufferView(_))return _.buffer;if(l.isURLSearchParams(_))return y(C,"application/x-www-form-urlencoded;charset=utf-8"),_.toString();var I,j=l.isObject(_),U=C&&C["Content-Type"];if((I=l.isFileList(_))||j&&U==="multipart/form-data"){var $=this.env&&this.env.FormData;return E(I?{"files[]":_}:_,$&&new $)}return j||U==="application/json"?(y(C,"application/json"),function(z,q,X){if(l.isString(z))try{return(q||JSON.parse)(z),l.trim(z)}catch(J){if(J.name!=="SyntaxError")throw J}return(0,JSON.stringify)(z)}(_)):_}],transformResponse:[function(_){var C=this.transitional||R.transitional,I=C&&C.silentJSONParsing,j=C&&C.forcedJSONParsing,U=!I&&this.responseType==="json";if(U||j&&l.isString(_)&&_.length)try{return JSON.parse(_)}catch($){if(U)throw $.name==="SyntaxError"?p.from($,p.ERR_BAD_RESPONSE,this,null,this.response):$}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:c(1534)},validateStatus:function(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(_){R.headers[_]={}}),l.forEach(["post","put","patch"],function(_){R.headers[_]=l.merge(x)}),s.exports=R},4896:s=>{s.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9641:s=>{s.exports={version:"0.27.2"}},9012:s=>{s.exports=function(a,c){return function(){for(var l=new Array(arguments.length),h=0;h<l.length;h++)l[h]=arguments[h];return a.apply(c,l)}}},9106:(s,a,c)=>{var l=c(9516);function h(p){return encodeURIComponent(p).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}s.exports=function(p,m,E){if(!m)return p;var x;if(E)x=E(m);else if(l.isURLSearchParams(m))x=m.toString();else{var y=[];l.forEach(m,function(R,_){R!=null&&(l.isArray(R)?_+="[]":R=[R],l.forEach(R,function(C){l.isDate(C)?C=C.toISOString():l.isObject(C)&&(C=JSON.stringify(C)),y.push(h(_)+"="+h(C))}))}),x=y.join("&")}if(x){var w=p.indexOf("#");w!==-1&&(p=p.slice(0,w)),p+=(p.indexOf("?")===-1?"?":"&")+x}return p}},4680:s=>{s.exports=function(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}},3948:(s,a,c)=>{var l=c(9516);s.exports=l.isStandardBrowserEnv()?{write:function(h,p,m,E,x,y){var w=[];w.push(h+"="+encodeURIComponent(p)),l.isNumber(m)&&w.push("expires="+new Date(m).toGMTString()),l.isString(E)&&w.push("path="+E),l.isString(x)&&w.push("domain="+x),y===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(h){var p=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return p?decodeURIComponent(p[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:s=>{s.exports=function(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}},5019:(s,a,c)=>{var l=c(9516);s.exports=function(h){return l.isObject(h)&&h.isAxiosError===!0}},4202:(s,a,c)=>{var l=c(9516);s.exports=l.isStandardBrowserEnv()?function(){var h,p=/(msie|trident)/i.test(navigator.userAgent),m=document.createElement("a");function E(x){var y=x;return p&&(m.setAttribute("href",y),y=m.href),m.setAttribute("href",y),{href:m.href,protocol:m.protocol?m.protocol.replace(/:$/,""):"",host:m.host,search:m.search?m.search.replace(/^\?/,""):"",hash:m.hash?m.hash.replace(/^#/,""):"",hostname:m.hostname,port:m.port,pathname:m.pathname.charAt(0)==="/"?m.pathname:"/"+m.pathname}}return h=E(window.location.href),function(x){var y=l.isString(x)?E(x):x;return y.protocol===h.protocol&&y.host===h.host}}():function(){return!0}},7018:(s,a,c)=>{var l=c(9516);s.exports=function(h,p){l.forEach(h,function(m,E){E!==p&&E.toUpperCase()===p.toUpperCase()&&(h[p]=m,delete h[E])})}},1534:s=>{s.exports=null},2012:(s,a,c)=>{var l=c(9516),h=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];s.exports=function(p){var m,E,x,y={};return p&&l.forEach(p.split(`
`),function(w){if(x=w.indexOf(":"),m=l.trim(w.substr(0,x)).toLowerCase(),E=l.trim(w.substr(x+1)),m){if(y[m]&&h.indexOf(m)>=0)return;y[m]=m==="set-cookie"?(y[m]?y[m]:[]).concat([E]):y[m]?y[m]+", "+E:E}}),y}},5656:s=>{s.exports=function(a){var c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}},7980:s=>{s.exports=function(a){return function(c){return a.apply(null,c)}}},6440:(s,a,c)=>{var l=c(9516);s.exports=function(h,p){p=p||new FormData;var m=[];function E(x){return x===null?"":l.isDate(x)?x.toISOString():l.isArrayBuffer(x)||l.isTypedArray(x)?typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}return function x(y,w){if(l.isPlainObject(y)||l.isArray(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+w);m.push(y),l.forEach(y,function(R,_){if(!l.isUndefined(R)){var C,I=w?w+"."+_:_;if(R&&!w&&typeof R=="object"){if(l.endsWith(_,"{}"))R=JSON.stringify(R);else if(l.endsWith(_,"[]")&&(C=l.toArray(R)))return void C.forEach(function(j){!l.isUndefined(j)&&p.append(I,E(j))})}x(R,I)}}),m.pop()}else p.append(w,E(y))}(h),p}},4841:(s,a,c)=>{var l=c(9641).version,h=c(5845),p={};["object","boolean","number","function","string","symbol"].forEach(function(E,x){p[E]=function(y){return typeof y===E||"a"+(x<1?"n ":" ")+E}});var m={};p.transitional=function(E,x,y){function w(R,_){return"[Axios v"+l+"] Transitional option '"+R+"'"+_+(y?". "+y:"")}return function(R,_,C){if(E===!1)throw new h(w(_," has been removed"+(x?" in "+x:"")),h.ERR_DEPRECATED);return x&&!m[_]&&(m[_]=!0,console.warn(w(_," has been deprecated since v"+x+" and will be removed in the near future"))),!E||E(R,_,C)}},s.exports={assertOptions:function(E,x,y){if(typeof E!="object")throw new h("options must be an object",h.ERR_BAD_OPTION_VALUE);for(var w=Object.keys(E),R=w.length;R-- >0;){var _=w[R],C=x[_];if(C){var I=E[_],j=I===void 0||C(I,_,E);if(j!==!0)throw new h("option "+_+" must be "+j,h.ERR_BAD_OPTION_VALUE)}else if(y!==!0)throw new h("Unknown option "+_,h.ERR_BAD_OPTION)}},validators:p}},9516:(s,a,c)=>{var l,h=c(9012),p=Object.prototype.toString,m=(l=Object.create(null),function(G){var ee=p.call(G);return l[ee]||(l[ee]=ee.slice(8,-1).toLowerCase())});function E(G){return G=G.toLowerCase(),function(ee){return m(ee)===G}}function x(G){return Array.isArray(G)}function y(G){return G===void 0}var w=E("ArrayBuffer");function R(G){return G!==null&&typeof G=="object"}function _(G){if(m(G)!=="object")return!1;var ee=Object.getPrototypeOf(G);return ee===null||ee===Object.prototype}var C=E("Date"),I=E("File"),j=E("Blob"),U=E("FileList");function $(G){return p.call(G)==="[object Function]"}var z=E("URLSearchParams");function q(G,ee){if(G!=null)if(typeof G!="object"&&(G=[G]),x(G))for(var ce=0,xe=G.length;ce<xe;ce++)ee.call(null,G[ce],ce,G);else for(var Se in G)Object.prototype.hasOwnProperty.call(G,Se)&&ee.call(null,G[Se],Se,G)}var X,J=(X=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(G){return X&&G instanceof X});s.exports={isArray:x,isArrayBuffer:w,isBuffer:function(G){return G!==null&&!y(G)&&G.constructor!==null&&!y(G.constructor)&&typeof G.constructor.isBuffer=="function"&&G.constructor.isBuffer(G)},isFormData:function(G){var ee="[object FormData]";return G&&(typeof FormData=="function"&&G instanceof FormData||p.call(G)===ee||$(G.toString)&&G.toString()===ee)},isArrayBufferView:function(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):G&&G.buffer&&w(G.buffer)},isString:function(G){return typeof G=="string"},isNumber:function(G){return typeof G=="number"},isObject:R,isPlainObject:_,isUndefined:y,isDate:C,isFile:I,isBlob:j,isFunction:$,isStream:function(G){return R(G)&&$(G.pipe)},isURLSearchParams:z,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:q,merge:function G(){var ee={};function ce(ve,Y){_(ee[Y])&&_(ve)?ee[Y]=G(ee[Y],ve):_(ve)?ee[Y]=G({},ve):x(ve)?ee[Y]=ve.slice():ee[Y]=ve}for(var xe=0,Se=arguments.length;xe<Se;xe++)q(arguments[xe],ce);return ee},extend:function(G,ee,ce){return q(ee,function(xe,Se){G[Se]=ce&&typeof xe=="function"?h(xe,ce):xe}),G},trim:function(G){return G.trim?G.trim():G.replace(/^\s+|\s+$/g,"")},stripBOM:function(G){return G.charCodeAt(0)===65279&&(G=G.slice(1)),G},inherits:function(G,ee,ce,xe){G.prototype=Object.create(ee.prototype,xe),G.prototype.constructor=G,ce&&Object.assign(G.prototype,ce)},toFlatObject:function(G,ee,ce){var xe,Se,ve,Y={};ee=ee||{};do{for(Se=(xe=Object.getOwnPropertyNames(G)).length;Se-- >0;)Y[ve=xe[Se]]||(ee[ve]=G[ve],Y[ve]=!0);G=Object.getPrototypeOf(G)}while(G&&(!ce||ce(G,ee))&&G!==Object.prototype);return ee},kindOf:m,kindOfTest:E,endsWith:function(G,ee,ce){G=String(G),(ce===void 0||ce>G.length)&&(ce=G.length),ce-=ee.length;var xe=G.indexOf(ee,ce);return xe!==-1&&xe===ce},toArray:function(G){if(!G)return null;var ee=G.length;if(y(ee))return null;for(var ce=new Array(ee);ee-- >0;)ce[ee]=G[ee];return ce},isTypedArray:J,isFileList:U}},6880:function(s){s.exports=function(a){var c={};function l(h){if(c[h])return c[h].exports;var p=c[h]={i:h,l:!1,exports:{}};return a[h].call(p.exports,p,p.exports,l),p.l=!0,p.exports}return l.m=a,l.c=c,l.d=function(h,p,m){l.o(h,p)||Object.defineProperty(h,p,{enumerable:!0,get:m})},l.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,p){if(1&p&&(h=l(h)),8&p||4&p&&typeof h=="object"&&h&&h.__esModule)return h;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:h}),2&p&&typeof h!="string")for(var E in h)l.d(m,E,(function(x){return h[x]}).bind(null,E));return m},l.n=function(h){var p=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(p,"a",p),p},l.o=function(h,p){return Object.prototype.hasOwnProperty.call(h,p)},l.p="",l(l.s=90)}({17:function(a,c,l){c.__esModule=!0,c.default=void 0;var h=l(18),p=function(){function m(){}return m.getFirstMatch=function(E,x){var y=x.match(E);return y&&y.length>0&&y[1]||""},m.getSecondMatch=function(E,x){var y=x.match(E);return y&&y.length>1&&y[2]||""},m.matchAndReturnConst=function(E,x,y){if(E.test(x))return y},m.getWindowsVersionName=function(E){switch(E){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},m.getMacOSVersionName=function(E){var x=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(x.push(0),x[0]===10)switch(x[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},m.getAndroidVersionName=function(E){var x=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(x.push(0),!(x[0]===1&&x[1]<5))return x[0]===1&&x[1]<6?"Cupcake":x[0]===1&&x[1]>=6?"Donut":x[0]===2&&x[1]<2?"Eclair":x[0]===2&&x[1]===2?"Froyo":x[0]===2&&x[1]>2?"Gingerbread":x[0]===3?"Honeycomb":x[0]===4&&x[1]<1?"Ice Cream Sandwich":x[0]===4&&x[1]<4?"Jelly Bean":x[0]===4&&x[1]>=4?"KitKat":x[0]===5?"Lollipop":x[0]===6?"Marshmallow":x[0]===7?"Nougat":x[0]===8?"Oreo":x[0]===9?"Pie":void 0},m.getVersionPrecision=function(E){return E.split(".").length},m.compareVersions=function(E,x,y){y===void 0&&(y=!1);var w=m.getVersionPrecision(E),R=m.getVersionPrecision(x),_=Math.max(w,R),C=0,I=m.map([E,x],function(j){var U=_-m.getVersionPrecision(j),$=j+new Array(U+1).join(".0");return m.map($.split("."),function(z){return new Array(20-z.length).join("0")+z}).reverse()});for(y&&(C=_-Math.min(w,R)),_-=1;_>=C;){if(I[0][_]>I[1][_])return 1;if(I[0][_]===I[1][_]){if(_===C)return 0;_-=1}else if(I[0][_]<I[1][_])return-1}},m.map=function(E,x){var y,w=[];if(Array.prototype.map)return Array.prototype.map.call(E,x);for(y=0;y<E.length;y+=1)w.push(x(E[y]));return w},m.find=function(E,x){var y,w;if(Array.prototype.find)return Array.prototype.find.call(E,x);for(y=0,w=E.length;y<w;y+=1){var R=E[y];if(x(R,y))return R}},m.assign=function(E){for(var x,y,w=E,R=arguments.length,_=new Array(R>1?R-1:0),C=1;C<R;C++)_[C-1]=arguments[C];if(Object.assign)return Object.assign.apply(Object,[E].concat(_));var I=function(){var j=_[x];typeof j=="object"&&j!==null&&Object.keys(j).forEach(function(U){w[U]=j[U]})};for(x=0,y=_.length;x<y;x+=1)I();return E},m.getBrowserAlias=function(E){return h.BROWSER_ALIASES_MAP[E]},m.getBrowserTypeByAlias=function(E){return h.BROWSER_MAP[E]||""},m}();c.default=p,a.exports=c.default},18:function(a,c,l){c.__esModule=!0,c.ENGINE_MAP=c.OS_MAP=c.PLATFORMS_MAP=c.BROWSER_MAP=c.BROWSER_ALIASES_MAP=void 0,c.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},c.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},c.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},c.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},c.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(a,c,l){c.__esModule=!0,c.default=void 0;var h,p=(h=l(91))&&h.__esModule?h:{default:h},m=l(18);function E(y,w){for(var R=0;R<w.length;R++){var _=w[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}var x=function(){function y(){}var w,R,_;return y.getParser=function(C,I){if(I===void 0&&(I=!1),typeof C!="string")throw new Error("UserAgent should be a string");return new p.default(C,I)},y.parse=function(C){return new p.default(C).getResult()},w=y,_=[{key:"BROWSER_MAP",get:function(){return m.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return m.ENGINE_MAP}},{key:"OS_MAP",get:function(){return m.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return m.PLATFORMS_MAP}}],(R=null)&&E(w.prototype,R),_&&E(w,_),y}();c.default=x,a.exports=c.default},91:function(a,c,l){c.__esModule=!0,c.default=void 0;var h=y(l(92)),p=y(l(93)),m=y(l(94)),E=y(l(95)),x=y(l(17));function y(R){return R&&R.__esModule?R:{default:R}}var w=function(){function R(C,I){if(I===void 0&&(I=!1),C==null||C==="")throw new Error("UserAgent parameter can't be empty");this._ua=C,this.parsedResult={},I!==!0&&this.parse()}var _=R.prototype;return _.getUA=function(){return this._ua},_.test=function(C){return C.test(this._ua)},_.parseBrowser=function(){var C=this;this.parsedResult.browser={};var I=x.default.find(h.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.browser=I.describe(this.getUA())),this.parsedResult.browser},_.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},_.getBrowserName=function(C){return C?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},_.getBrowserVersion=function(){return this.getBrowser().version},_.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},_.parseOS=function(){var C=this;this.parsedResult.os={};var I=x.default.find(p.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.os=I.describe(this.getUA())),this.parsedResult.os},_.getOSName=function(C){var I=this.getOS().name;return C?String(I).toLowerCase()||"":I||""},_.getOSVersion=function(){return this.getOS().version},_.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},_.getPlatformType=function(C){C===void 0&&(C=!1);var I=this.getPlatform().type;return C?String(I).toLowerCase()||"":I||""},_.parsePlatform=function(){var C=this;this.parsedResult.platform={};var I=x.default.find(m.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.platform=I.describe(this.getUA())),this.parsedResult.platform},_.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},_.getEngineName=function(C){return C?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},_.parseEngine=function(){var C=this;this.parsedResult.engine={};var I=x.default.find(E.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.engine=I.describe(this.getUA())),this.parsedResult.engine},_.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},_.getResult=function(){return x.default.assign({},this.parsedResult)},_.satisfies=function(C){var I=this,j={},U=0,$={},z=0;if(Object.keys(C).forEach(function(Se){var ve=C[Se];typeof ve=="string"?($[Se]=ve,z+=1):typeof ve=="object"&&(j[Se]=ve,U+=1)}),U>0){var q=Object.keys(j),X=x.default.find(q,function(Se){return I.isOS(Se)});if(X){var J=this.satisfies(j[X]);if(J!==void 0)return J}var G=x.default.find(q,function(Se){return I.isPlatform(Se)});if(G){var ee=this.satisfies(j[G]);if(ee!==void 0)return ee}}if(z>0){var ce=Object.keys($),xe=x.default.find(ce,function(Se){return I.isBrowser(Se,!0)});if(xe!==void 0)return this.compareVersion($[xe])}},_.isBrowser=function(C,I){I===void 0&&(I=!1);var j=this.getBrowserName().toLowerCase(),U=C.toLowerCase(),$=x.default.getBrowserTypeByAlias(U);return I&&$&&(U=$.toLowerCase()),U===j},_.compareVersion=function(C){var I=[0],j=C,U=!1,$=this.getBrowserVersion();if(typeof $=="string")return C[0]===">"||C[0]==="<"?(j=C.substr(1),C[1]==="="?(U=!0,j=C.substr(2)):I=[],C[0]===">"?I.push(1):I.push(-1)):C[0]==="="?j=C.substr(1):C[0]==="~"&&(U=!0,j=C.substr(1)),I.indexOf(x.default.compareVersions($,j,U))>-1},_.isOS=function(C){return this.getOSName(!0)===String(C).toLowerCase()},_.isPlatform=function(C){return this.getPlatformType(!0)===String(C).toLowerCase()},_.isEngine=function(C){return this.getEngineName(!0)===String(C).toLowerCase()},_.is=function(C,I){return I===void 0&&(I=!1),this.isBrowser(C,I)||this.isOS(C)||this.isPlatform(C)},_.some=function(C){var I=this;return C===void 0&&(C=[]),C.some(function(j){return I.is(j)})},R}();c.default=w,a.exports=c.default},92:function(a,c,l){c.__esModule=!0,c.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},m=/version\/(\d+(\.?_?\d+)+)/i,E=[{test:[/googlebot/i],describe:function(x){var y={name:"Googlebot"},w=p.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/opera/i],describe:function(x){var y={name:"Opera"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/opr\/|opios/i],describe:function(x){var y={name:"Opera"},w=p.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/SamsungBrowser/i],describe:function(x){var y={name:"Samsung Internet for Android"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/Whale/i],describe:function(x){var y={name:"NAVER Whale Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/MZBrowser/i],describe:function(x){var y={name:"MZ Browser"},w=p.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/focus/i],describe:function(x){var y={name:"Focus"},w=p.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/swing/i],describe:function(x){var y={name:"Swing"},w=p.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/coast/i],describe:function(x){var y={name:"Opera Coast"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(x){var y={name:"Opera Touch"},w=p.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/yabrowser/i],describe:function(x){var y={name:"Yandex Browser"},w=p.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/ucbrowser/i],describe:function(x){var y={name:"UC Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/Maxthon|mxios/i],describe:function(x){var y={name:"Maxthon"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/epiphany/i],describe:function(x){var y={name:"Epiphany"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/puffin/i],describe:function(x){var y={name:"Puffin"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/sleipnir/i],describe:function(x){var y={name:"Sleipnir"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/k-meleon/i],describe:function(x){var y={name:"K-Meleon"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/micromessenger/i],describe:function(x){var y={name:"WeChat"},w=p.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/qqbrowser/i],describe:function(x){var y={name:/qqbrowserlite/i.test(x)?"QQ Browser Lite":"QQ Browser"},w=p.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/msie|trident/i],describe:function(x){var y={name:"Internet Explorer"},w=p.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/\sedg\//i],describe:function(x){var y={name:"Microsoft Edge"},w=p.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/edg([ea]|ios)/i],describe:function(x){var y={name:"Microsoft Edge"},w=p.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/vivaldi/i],describe:function(x){var y={name:"Vivaldi"},w=p.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/seamonkey/i],describe:function(x){var y={name:"SeaMonkey"},w=p.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/sailfish/i],describe:function(x){var y={name:"Sailfish"},w=p.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,x);return w&&(y.version=w),y}},{test:[/silk/i],describe:function(x){var y={name:"Amazon Silk"},w=p.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/phantom/i],describe:function(x){var y={name:"PhantomJS"},w=p.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/slimerjs/i],describe:function(x){var y={name:"SlimerJS"},w=p.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(x){var y={name:"BlackBerry"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/(web|hpw)[o0]s/i],describe:function(x){var y={name:"WebOS Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/bada/i],describe:function(x){var y={name:"Bada"},w=p.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/tizen/i],describe:function(x){var y={name:"Tizen"},w=p.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/qupzilla/i],describe:function(x){var y={name:"QupZilla"},w=p.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/firefox|iceweasel|fxios/i],describe:function(x){var y={name:"Firefox"},w=p.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/electron/i],describe:function(x){var y={name:"Electron"},w=p.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/MiuiBrowser/i],describe:function(x){var y={name:"Miui"},w=p.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/chromium/i],describe:function(x){var y={name:"Chromium"},w=p.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/chrome|crios|crmo/i],describe:function(x){var y={name:"Chrome"},w=p.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/GSA/i],describe:function(x){var y={name:"Google Search"},w=p.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){var y=!x.test(/like android/i),w=x.test(/android/i);return y&&w},describe:function(x){var y={name:"Android Browser"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/playstation 4/i],describe:function(x){var y={name:"PlayStation 4"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/safari|applewebkit/i],describe:function(x){var y={name:"Safari"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/.*/i],describe:function(x){var y=x.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:p.default.getFirstMatch(y,x),version:p.default.getSecondMatch(y,x)}}}];c.default=E,a.exports=c.default},93:function(a,c,l){c.__esModule=!0,c.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},m=l(18),E=[{test:[/Roku\/DVP/],describe:function(x){var y=p.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,x);return{name:m.OS_MAP.Roku,version:y}}},{test:[/windows phone/i],describe:function(x){var y=p.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.WindowsPhone,version:y}}},{test:[/windows /i],describe:function(x){var y=p.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,x),w=p.default.getWindowsVersionName(y);return{name:m.OS_MAP.Windows,version:y,versionName:w}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(x){var y={name:m.OS_MAP.iOS},w=p.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,x);return w&&(y.version=w),y}},{test:[/macintosh/i],describe:function(x){var y=p.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,x).replace(/[_\s]/g,"."),w=p.default.getMacOSVersionName(y),R={name:m.OS_MAP.MacOS,version:y};return w&&(R.versionName=w),R}},{test:[/(ipod|iphone|ipad)/i],describe:function(x){var y=p.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,x).replace(/[_\s]/g,".");return{name:m.OS_MAP.iOS,version:y}}},{test:function(x){var y=!x.test(/like android/i),w=x.test(/android/i);return y&&w},describe:function(x){var y=p.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,x),w=p.default.getAndroidVersionName(y),R={name:m.OS_MAP.Android,version:y};return w&&(R.versionName=w),R}},{test:[/(web|hpw)[o0]s/i],describe:function(x){var y=p.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,x),w={name:m.OS_MAP.WebOS};return y&&y.length&&(w.version=y),w}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(x){var y=p.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,x)||p.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,x)||p.default.getFirstMatch(/\bbb(\d+)/i,x);return{name:m.OS_MAP.BlackBerry,version:y}}},{test:[/bada/i],describe:function(x){var y=p.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.Bada,version:y}}},{test:[/tizen/i],describe:function(x){var y=p.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.Tizen,version:y}}},{test:[/linux/i],describe:function(){return{name:m.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:m.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(x){var y=p.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.PlayStation4,version:y}}}];c.default=E,a.exports=c.default},94:function(a,c,l){c.__esModule=!0,c.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},m=l(18),E=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(x){var y=p.default.getFirstMatch(/(can-l01)/i,x)&&"Nova",w={type:m.PLATFORMS_MAP.mobile,vendor:"Huawei"};return y&&(w.model=y),w}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(x){var y=x.test(/ipod|iphone/i),w=x.test(/like (ipod|iphone)/i);return y&&!w},describe:function(x){var y=p.default.getFirstMatch(/(ipod|iphone)/i,x);return{type:m.PLATFORMS_MAP.mobile,vendor:"Apple",model:y}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getBrowserName(!0)==="blackberry"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(x){return x.getBrowserName(!0)==="bada"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getBrowserName()==="windows phone"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(x){var y=Number(String(x.getOSVersion()).split(".")[0]);return x.getOSName(!0)==="android"&&y>=3},describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(x){return x.getOSName(!0)==="android"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getOSName(!0)==="macos"},describe:function(){return{type:m.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(x){return x.getOSName(!0)==="windows"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(x){return x.getOSName(!0)==="linux"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(x){return x.getOSName(!0)==="playstation 4"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}},{test:function(x){return x.getOSName(!0)==="roku"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}}];c.default=E,a.exports=c.default},95:function(a,c,l){c.__esModule=!0,c.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},m=l(18),E=[{test:function(x){return x.getBrowserName(!0)==="microsoft edge"},describe:function(x){if(/\sedg\//i.test(x))return{name:m.ENGINE_MAP.Blink};var y=p.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,x);return{name:m.ENGINE_MAP.EdgeHTML,version:y}}},{test:[/trident/i],describe:function(x){var y={name:m.ENGINE_MAP.Trident},w=p.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){return x.test(/presto/i)},describe:function(x){var y={name:m.ENGINE_MAP.Presto},w=p.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){var y=x.test(/gecko/i),w=x.test(/like gecko/i);return y&&!w},describe:function(x){var y={name:m.ENGINE_MAP.Gecko},w=p.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:m.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(x){var y={name:m.ENGINE_MAP.WebKit},w=p.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}}];c.default=E,a.exports=c.default}})},228:s=>{var a=Object.prototype.hasOwnProperty,c="~";function l(){}function h(x,y,w){this.fn=x,this.context=y,this.once=w||!1}function p(x,y,w,R,_){if(typeof w!="function")throw new TypeError("The listener must be a function");var C=new h(w,R||x,_),I=c?c+y:y;return x._events[I]?x._events[I].fn?x._events[I]=[x._events[I],C]:x._events[I].push(C):(x._events[I]=C,x._eventsCount++),x}function m(x,y){--x._eventsCount==0?x._events=new l:delete x._events[y]}function E(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(c=!1)),E.prototype.eventNames=function(){var x,y,w=[];if(this._eventsCount===0)return w;for(y in x=this._events)a.call(x,y)&&w.push(c?y.slice(1):y);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(x)):w},E.prototype.listeners=function(x){var y=c?c+x:x,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var R=0,_=w.length,C=new Array(_);R<_;R++)C[R]=w[R].fn;return C},E.prototype.listenerCount=function(x){var y=c?c+x:x,w=this._events[y];return w?w.fn?1:w.length:0},E.prototype.emit=function(x,y,w,R,_,C){var I=c?c+x:x;if(!this._events[I])return!1;var j,U,$=this._events[I],z=arguments.length;if($.fn){switch($.once&&this.removeListener(x,$.fn,void 0,!0),z){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,y),!0;case 3:return $.fn.call($.context,y,w),!0;case 4:return $.fn.call($.context,y,w,R),!0;case 5:return $.fn.call($.context,y,w,R,_),!0;case 6:return $.fn.call($.context,y,w,R,_,C),!0}for(U=1,j=new Array(z-1);U<z;U++)j[U-1]=arguments[U];$.fn.apply($.context,j)}else{var q,X=$.length;for(U=0;U<X;U++)switch($[U].once&&this.removeListener(x,$[U].fn,void 0,!0),z){case 1:$[U].fn.call($[U].context);break;case 2:$[U].fn.call($[U].context,y);break;case 3:$[U].fn.call($[U].context,y,w);break;case 4:$[U].fn.call($[U].context,y,w,R);break;default:if(!j)for(q=1,j=new Array(z-1);q<z;q++)j[q-1]=arguments[q];$[U].fn.apply($[U].context,j)}}return!0},E.prototype.on=function(x,y,w){return p(this,x,y,w,!1)},E.prototype.once=function(x,y,w){return p(this,x,y,w,!0)},E.prototype.removeListener=function(x,y,w,R){var _=c?c+x:x;if(!this._events[_])return this;if(!y)return m(this,_),this;var C=this._events[_];if(C.fn)C.fn!==y||R&&!C.once||w&&C.context!==w||m(this,_);else{for(var I=0,j=[],U=C.length;I<U;I++)(C[I].fn!==y||R&&!C[I].once||w&&C[I].context!==w)&&j.push(C[I]);j.length?this._events[_]=j.length===1?j[0]:j:m(this,_)}return this},E.prototype.removeAllListeners=function(x){var y;return x?(y=c?c+x:x,this._events[y]&&m(this,y)):(this._events=new l,this._eventsCount=0),this},E.prototype.off=E.prototype.removeListener,E.prototype.addListener=E.prototype.on,E.prefixed=c,E.EventEmitter=E,s.exports=E},8954:s=>{var a;a=()=>(()=>{var c={228:h=>{var p=Object.prototype.hasOwnProperty,m="~";function E(){}function x(_,C,I){this.fn=_,this.context=C,this.once=I||!1}function y(_,C,I,j,U){if(typeof I!="function")throw new TypeError("The listener must be a function");var $=new x(I,j||_,U),z=m?m+C:C;return _._events[z]?_._events[z].fn?_._events[z]=[_._events[z],$]:_._events[z].push($):(_._events[z]=$,_._eventsCount++),_}function w(_,C){--_._eventsCount==0?_._events=new E:delete _._events[C]}function R(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(m=!1)),R.prototype.eventNames=function(){var _,C,I=[];if(this._eventsCount===0)return I;for(C in _=this._events)p.call(_,C)&&I.push(m?C.slice(1):C);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(_)):I},R.prototype.listeners=function(_){var C=m?m+_:_,I=this._events[C];if(!I)return[];if(I.fn)return[I.fn];for(var j=0,U=I.length,$=new Array(U);j<U;j++)$[j]=I[j].fn;return $},R.prototype.listenerCount=function(_){var C=m?m+_:_,I=this._events[C];return I?I.fn?1:I.length:0},R.prototype.emit=function(_,C,I,j,U,$){var z=m?m+_:_;if(!this._events[z])return!1;var q,X,J=this._events[z],G=arguments.length;if(J.fn){switch(J.once&&this.removeListener(_,J.fn,void 0,!0),G){case 1:return J.fn.call(J.context),!0;case 2:return J.fn.call(J.context,C),!0;case 3:return J.fn.call(J.context,C,I),!0;case 4:return J.fn.call(J.context,C,I,j),!0;case 5:return J.fn.call(J.context,C,I,j,U),!0;case 6:return J.fn.call(J.context,C,I,j,U,$),!0}for(X=1,q=new Array(G-1);X<G;X++)q[X-1]=arguments[X];J.fn.apply(J.context,q)}else{var ee,ce=J.length;for(X=0;X<ce;X++)switch(J[X].once&&this.removeListener(_,J[X].fn,void 0,!0),G){case 1:J[X].fn.call(J[X].context);break;case 2:J[X].fn.call(J[X].context,C);break;case 3:J[X].fn.call(J[X].context,C,I);break;case 4:J[X].fn.call(J[X].context,C,I,j);break;default:if(!q)for(ee=1,q=new Array(G-1);ee<G;ee++)q[ee-1]=arguments[ee];J[X].fn.apply(J[X].context,q)}}return!0},R.prototype.on=function(_,C,I){return y(this,_,C,I,!1)},R.prototype.once=function(_,C,I){return y(this,_,C,I,!0)},R.prototype.removeListener=function(_,C,I,j){var U=m?m+_:_;if(!this._events[U])return this;if(!C)return w(this,U),this;var $=this._events[U];if($.fn)$.fn!==C||j&&!$.once||I&&$.context!==I||w(this,U);else{for(var z=0,q=[],X=$.length;z<X;z++)($[z].fn!==C||j&&!$[z].once||I&&$[z].context!==I)&&q.push($[z]);q.length?this._events[U]=q.length===1?q[0]:q:w(this,U)}return this},R.prototype.removeAllListeners=function(_){var C;return _?(C=m?m+_:_,this._events[C]&&w(this,C)):(this._events=new E,this._eventsCount=0),this},R.prototype.off=R.prototype.removeListener,R.prototype.addListener=R.prototype.on,R.prefixed=m,R.EventEmitter=R,h.exports=R},815:function(h,p){var m,E,x=this&&this.__extends||(m=function(Y,Q){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(ne[Te]=fe[Te])},m(Y,Q)},function(Y,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function ne(){this.constructor=Y}m(Y,Q),Y.prototype=Q===null?Object.create(Q):(ne.prototype=Q.prototype,new ne)});function y(Y){return 60*Y*60}function w(Y){return 60*Y*60*24}Object.defineProperty(p,"__esModule",{value:!0}),p.daysToSeconds=p.hoursToSeconds=p.ConfigurationHolder=p.ConfigurationManager=p.Env=void 0,function(Y){Y.BETA="beta",Y.PROD="prod",Y.CUSTOM="custom"}(E||(p.Env=E={})),p.hoursToSeconds=y,p.daysToSeconds=w;var R=function(Y){function Q(ne){return Y.call(this,ne)||this}return x(Q,Y),Q}(Error),_="data",C="metrics",I=y(1),j=w(3),U=y(2),$="base64",z=function(){function Y(Q,ne){var fe,Te,He,Le,bt,Gt,Ye,lt;if(!ne.fileKey)throw new Error("options.fileKey cannot be empty");var Ut=(fe=ne.clock)!==null&&fe!==void 0?fe:new xe,Jt=Ut.getMillis();switch(this.context=Q,this.fileKey=ne.fileKey,this.env=ne.standardEnv,ne.standardEnv){case E.BETA:this.fetchServer="beta.ivs-device-config-beta.live-video.net";break;case E.PROD:this.fetchServer="prod.ivs-device-config.live-video.net";break;case E.CUSTOM:if(!ne.customServer)throw new Error("Custom env requires options.customServer");this.fetchServer=ne.customServer;break;default:throw new Error("Invalid value for standardEnv: ".concat(ne.standardEnv))}this.trace=(Te=ne.trace)!==null&&Te!==void 0?Te:new G(this.env),this.fetch=(He=ne.fetch)!==null&&He!==void 0?He:new J(Q),this.storage=new ce("amazon_ivs_device_config_v1_"+ne.fileKey,Q.localStorage),this.state=new ve(this.storage,"state"),this.refresh={refreshIntervalSeconds:(Le=ne.refresh.refreshIntervalSeconds)!==null&&Le!==void 0?Le:I,retryCount:(bt=ne.refresh.retryCount)!==null&&bt!==void 0?bt:3,retryIntervalSeconds:(Gt=ne.refresh.retryIntervalSeconds)!==null&&Gt!==void 0?Gt:10,maxCacheAgeSeconds:(Ye=ne.refresh.maxCacheAgeSeconds)!==null&&Ye!==void 0?Ye:j,stopRefreshAfterSeconds:(lt=ne.refresh.stopRefreshAfterSeconds)!==null&&lt!==void 0?lt:U,canRefreshNow:ne.refresh.canRefreshNow},this.clock=Ut,this.isInitialRefreshDone=!1;var Bt=0,qt=this.state.getState();qt&&qt.fetchServer===this.fetchServer&&qt.lastFetchWhenMs&&(Bt=qt.lastFetchWhenMs);var Un=Ut.getMillis(),Qn=(Un-Bt)/1e3;if(Qn<=this.refresh.maxCacheAgeSeconds){var ut=this.storage.getJson(_);ut&&ut.fetchServer===this.fetchServer&&this.setData(ut.json)}if(this.lastUseMs=Un,Qn>=this.refresh.refreshIntervalSeconds||Bt==0)this.trace.onTrace("Will start refresh right now"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),0);else{var Ar=Math.round(this.refresh.refreshIntervalSeconds-Qn);this.trace.onTrace("Will start refresh in "+Ar+" seconds"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*Ar),this.isInitialRefreshDone=!0}var Mi=Ut.getMillis();this.initialLoadTime=Mi-Jt}return Y.getInstance=function(Q,ne){try{if(!(Q.fetch&&Q.setTimeout&&Q.clearTimeout&&Q.localStorage))return void console.log("Context needs to provide fetch, setTimeout, clearTimeout, localStorage")}catch(fe){return void console.error("Error checking for context properties "+fe)}if(this.gInstance){if(this.gInstance.fileKey!=ne.fileKey)throw new Error("Existing instance has file key ".concat(this.gInstance.fileKey,", now asking for ").concat(ne.fileKey));return this.gInstance}return this.gInstance=new Y(Q,ne),this.gInstance},Y.prototype.getConfigurationHolder=function(Q){var ne,fe=this,Te=this.clock.getMillis();this.lastUseMs=Te;var He=(ne=Q.analytics)!==null&&ne!==void 0?ne:new ee(this.env);this.context.setTimeout(function(){fe.emitMetrics(He)});var Le=0,bt=this.state.getState();return bt&&bt.fetchServer===this.fetchServer&&bt.lastFetchWhenMs&&(Le=bt.lastFetchWhenMs),(Te-Le)/1e3<=this.refresh.maxCacheAgeSeconds?new q(He,this.properties):new q(He,void 0)},Y.prototype.getFetchUrl=function(){var Q="https://".concat(this.fetchServer,"/").concat(this.fileKey,".json"),ne=new URL(Q);return ne.searchParams.set("version","1.0"),ne},Y.clearInstance=function(){var Q;(Q=this.gInstance)===null||Q===void 0||Q.clearInstanceImpl(),this.gInstance=void 0},Y.prototype.clearInstanceImpl=function(){this.context.clearTimeout(this.fetchTask),this.fetchTask=void 0,this.context.clearTimeout(this.retryTask),this.retryTask=void 0},Y.prototype.startRefresh=function(){var Q=this;this.trace.onTrace("Starting refresh request..."),this.fetchTask=void 0,this.retryTask&&(this.context.clearTimeout(this.retryTask),this.retryTask=void 0);var ne=this.clock.getMillis();return(ne-this.lastUseMs)/1e3>this.refresh.stopRefreshAfterSeconds?(this.trace.onTrace("Actually will not refresh due to refresh timeout"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):this.isInitialRefreshDone&&!this.refresh.canRefreshNow()?(this.trace.onTrace("Will not refresh due to callback having returned false"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):void this.fetchData().then(function(fe){Q.processResponse(fe,ne)}).catch(function(fe){Q.exceptionMetrics(fe),Q.trace.onTrace("Fetch error: "+fe),Q.refresh.retryCount>0&&Q.scheduleRetry(1)}).finally(function(){Q.isInitialRefreshDone=!0,Q.fetchTask=Q.context.setTimeout(Q.startRefresh.bind(Q),1e3*Q.refresh.refreshIntervalSeconds)})},Y.prototype.fetchData=function(){var Q=this.getFetchUrl(),ne=new Headers,fe=this.state.getState();return fe.fetchServer===this.fetchServer&&(fe.lastFetchWhenFullMs&&this.clock.getMillis()-fe.lastFetchWhenFullMs>1e3*y(24)?this.trace.onTrace("Forcing full refresh"):this.properties&&fe.lastFetchEtagHeader&&ne.set("If-None-Match",fe.lastFetchEtagHeader)),this.incrementMetrics("fetch_attempt_count"),this.fetch.fetchUrl(Q,ne)},Y.prototype.processResponse=function(Q,ne){var fe={fetchServer:this.fetchServer,lastFetchWhenMs:this.clock.getMillis()},Te=Q.headers.get("etag");Te&&(fe.lastFetchEtagHeader=Te);try{if(Q.status<300&&Q.json)if(this.setData(Q.json)){this.trace.onTrace("Successfully parsed fetched data"),this.storage.setJson(_,{fetchServer:this.fetchServer,json:Q.json});var He=this.clock.getMillis();fe.lastFetchWhenFullMs=He,this.incrementMetricsWithDuration("success_new_data_count",He-ne)}else this.incrementMetrics("fail_invalid_data_count");else{if(Q.status!==304){var Le="Unexpected http fetch status: "+Q.status;throw this.trace.onTrace(Le),new R(Le)}this.trace.onTrace("Server said no change in data"),He=this.clock.getMillis(),this.incrementMetricsWithDuration("success_no_change_count",He-ne)}}finally{this.state.setState(fe)}},Y.prototype.scheduleRetry=function(Q){var ne=this;this.retryTask&&this.context.clearTimeout(this.retryTask);var fe=Q*this.refresh.retryIntervalSeconds;this.retryTask=this.context.setTimeout(function(){ne.retryTask=void 0,ne.fetchRetry(Q)},1e3*fe)},Y.prototype.fetchRetry=function(Q){var ne=this;this.trace.onTrace("Starting retry request ".concat(Q,"..."));var fe=this.clock.getMillis();this.fetchData().then(function(Te){ne.processResponse(Te,fe)}).catch(function(Te){ne.exceptionMetrics(Te),ne.trace.onTrace("Fetch error: "+Te),ne.refresh.retryCount>Q&&ne.scheduleRetry(Q+1)})},Y.prototype.setData=function(Q){if(!Q)return!1;if(Q.version!=="1.0")return this.trace.onTrace("Data version is not 1.0, not applying"),!1;var ne=Q.properties;if(!ne||!Array.isArray(ne))return this.trace.onTrace("Data properties is not an array, not applying"),!1;for(var fe=new Map,Te=0,He=ne;Te<He.length;Te++){var Le=He[Te];if(Le.name&&Le.type&&this.isValidValueType(Le.type)){if(Le.value_string&&typeof Le.value_string!="string"){this.trace.onTrace("Invalid type of value.value_string "+typeof Le.value_string);continue}if(Le.value_number&&typeof Le.value_number!="number"){this.trace.onTrace("Invalid type of value.value_number "+typeof Le.value_number);continue}if(Le.value_boolean&&typeof Le.value_boolean!="boolean"){this.trace.onTrace("Invalid type of value.value_boolean "+typeof Le.value_boolean);continue}if(Le.value_json&&typeof Le.value_json!="string"){this.trace.onTrace("Invalid type of value.value_json "+typeof Le.value_json);continue}if(Le.value_analytics&&typeof Le.value_analytics!="string"){this.trace.onTrace("Invalid type of item.value_analytics "+typeof Le.value_analytics);continue}var bt=new Se(Le.name,this.parseValueType(Le.type),Le.value_string,Le.value_number,Le.value_boolean,Le.value_json,Le.value_analytics,Le.encoding);fe.set(bt.name,bt)}}return fe.size!=0&&(this.properties=fe,!0)},Y.prototype.isValidValueType=function(Q){return Q==="string"||Q==="number"||Q==="boolean"||Q=="json"},Y.prototype.parseValueType=function(Q){switch(Q){case"string":return X.STRING;case"number":return X.NUMBER;case"boolean":return X.BOOLEAN;case"json":return X.JSON;default:throw new Error("Unsupported value type ".concat(Q))}},Y.prototype.emitMetrics=function(Q){var ne,fe,Te,He,Le,bt,Gt,Ye,lt=(ne=this.storage.getJson(C))!==null&&ne!==void 0?ne:{},Ut={initial_load_time:this.initialLoadTime,fetch_attempt_count:(fe=lt.fetch_attempt_count)!==null&&fe!==void 0?fe:0,fetch_duration_average:(Te=lt.fetch_duration_average)!==null&&Te!==void 0?Te:0,success_no_change_count:(He=lt.success_no_change_count)!==null&&He!==void 0?He:0,success_new_data_count:(Le=lt.success_new_data_count)!==null&&Le!==void 0?Le:0,fail_exception_count:(bt=lt.fail_exception_count)!==null&&bt!==void 0?bt:0,fail_http_error_count:(Gt=lt.fail_http_error_count)!==null&&Gt!==void 0?Gt:0,fail_invalid_data_count:(Ye=lt.fail_invalid_data_count)!==null&&Ye!==void 0?Ye:0};Q.onMetrics(Ut),lt.fetch_attempt_count=0,lt.success_no_change_count=0,lt.success_new_data_count=0,lt.fail_exception_count=0,lt.fail_http_error_count=0,lt.fail_invalid_data_count=0,this.storage.setJson(C,lt)},Y.prototype.exceptionMetrics=function(Q){Q instanceof R||Q.message.startsWith("http error")?this.incrementMetrics("fail_http_error_count"):this.incrementMetrics("fail_exception_count")},Y.prototype.incrementMetrics=function(Q){var ne,fe,Te=(ne=this.storage.getJson(C))!==null&&ne!==void 0?ne:{};Te[Q]=((fe=Te[Q])!==null&&fe!==void 0?fe:0)+1,this.storage.setJson(C,Te)},Y.prototype.incrementMetricsWithDuration=function(Q,ne){var fe,Te,He=(fe=this.storage.getJson(C))!==null&&fe!==void 0?fe:{};He[Q]=((Te=He[Q])!==null&&Te!==void 0?Te:0)+1,ne>0&&(He.fetch_duration_average!==void 0?He.fetch_duration_average=.9*He.fetch_duration_average+.1*ne|0:He.fetch_duration_average=ne),this.storage.setJson(C,He)},Y}();p.ConfigurationManager=z;var q=function(){function Y(Q,ne){this.analytics=Q,this.properties=ne}return Y.prototype.getSize=function(){return this.properties?this.properties.size:-1},Y.prototype.getStringValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.STRING){var He=(ne=Te.valueString)!==null&&ne!==void 0?ne:"";return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He),He}this.analytics.onError(Q,"Type is not string")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getNumberValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.NUMBER){var He=(ne=Te.valueNumber)!==null&&ne!==void 0?ne:0;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He.toString()),He}this.analytics.onError(Q,"Type is not number")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getBooleanValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.BOOLEAN){var He=(ne=Te.valueBoolean)!==null&&ne!==void 0&&ne;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He.toString()),He}this.analytics.onError(Q,"Type is not boolean")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getJsonValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.JSON){var He=Te.valueJson;if(!He)return this.analytics.onValue(Q,(ne=Te.valueAnalytics)!==null&&ne!==void 0?ne:""),null;try{var Le=JSON.parse(He);return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He),Le}catch{return void this.analytics.onError(Q,"Json parse error")}}this.analytics.onError(Q,"Type is not json")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y}();p.ConfigurationHolder=q;var X,J=function(){function Y(Q){this.context=Q}return Y.prototype.fetchUrl=function(Q,ne){var fe=this;return new Promise(function(Te,He){fe.context.fetch(Q,{headers:ne,cache:"no-store"}).then(function(Le){if(Le.status>=400)He(new R("http error ".concat(Le.status,", ").concat(Le.statusText)));else{var bt={status:Le.status,headers:Le.headers};Le.json().then(function(Gt){bt.json=Gt}).catch(function(){}).finally(function(){Te(bt)})}}).catch(function(Le){He(Le)})})},Y}(),G=function(){function Y(Q){this.env=Q}return Y.prototype.onTrace=function(Q){this.env!=E.PROD&&console.log("Configuration: "+Q)},Y}(),ee=function(){function Y(Q){this.env=Q}return Y.prototype.onMetrics=function(Q){this.env!=E.PROD&&console.log("Metrics",Q)},Y.prototype.onValue=function(Q,ne){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": value = ").concat(ne))},Y.prototype.onError=function(Q,ne){this.env!=E.PROD&&console.error("Configuration for ".concat(Q,": error = ").concat(ne))},Y.prototype.onTrace=function(Q,ne){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": trace = ").concat(ne))},Y}(),ce=function(){function Y(Q,ne){this.prefix=Q,this.storage=ne}return Y.prototype.getJson=function(Q){var ne=this.prefix+"_"+Q;try{var fe=this.storage.getItem(ne);if(fe)return JSON.parse(fe)}catch(Te){console.error("Error getting local storage key ".concat(ne)+Te)}return null},Y.prototype.setJson=function(Q,ne){var fe=this.prefix+"_"+Q;try{this.storage.setItem(fe,JSON.stringify(ne))}catch(Te){console.error("Error setting local storage key ".concat(fe,": ")+Te)}},Y}(),xe=function(){function Y(){}return Y.prototype.getMillis=function(){return Date.now()},Y}();(function(Y){Y[Y.STRING=0]="STRING",Y[Y.NUMBER=1]="NUMBER",Y[Y.BOOLEAN=2]="BOOLEAN",Y[Y.JSON=3]="JSON"})(X||(X={}));var Se=function(Y,Q,ne,fe,Te,He,Le,bt){switch(this.name=Y,this.type=Q,this.valueString=ne,this.valueNumber=fe,this.valueBoolean=Te,this.valueJson=He,this.valueAnalytics=Le,this.type){case X.STRING:bt===$&&ne&&(this.valueString=atob(ne));break;case X.JSON:bt===$&&He&&(this.valueJson=atob(He))}},ve=function(){function Y(Q,ne){var fe;this.storage=Q,this.key=ne,this.state=(fe=Q.getJson(ne))!==null&&fe!==void 0?fe:{}}return Y.prototype.getState=function(){return this.state},Y.prototype.setState=function(Q){Object.assign(this.state,Q),this.storage.setJson(this.key,this.state)},Y}()},456:function(h,p,m){var E=this&&this.__createBinding||(Object.create?function(y,w,R,_){_===void 0&&(_=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,_,C)}:function(y,w,R,_){_===void 0&&(_=R),y[_]=w[R]}),x=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),x(m(903),p)},903:function(h,p,m){var E=this&&this.__spreadArray||function(w,R,_){if(_||arguments.length===2)for(var C,I=0,j=R.length;I<j;I++)!C&&I in R||(C||(C=Array.prototype.slice.call(R,0,I)),C[I]=R[I]);return w.concat(C||Array.prototype.slice.call(R))};Object.defineProperty(p,"__esModule",{value:!0}),p.TypedEmitter=void 0;var x=m(228),y=function(){function w(R){var _=R.propagateErrors;this.emitter=new x.EventEmitter,this.propagateErrors=_!=null&&_}return w.prototype.on=function(R,_){_.call=this.wrapCall(R,_),this.emitter.on(R,_)},w.prototype.off=function(R,_){this.emitter.off(R,_)},w.prototype.emit=function(R){for(var _,C=[],I=1;I<arguments.length;I++)C[I-1]=arguments[I];(_=this.emitter).emit.apply(_,E([R],C,!1))},w.prototype.removeAllListeners=function(){this.emitter.removeAllListeners()},w.prototype.wrapCall=function(R,_){var C=this;return function(I){for(var j=[],U=1;U<arguments.length;U++)j[U-1]=arguments[U];if(C.propagateErrors)_.apply(I,j);else try{_.apply(I,j)}catch(q){var $="Error in callback for ".concat(R),z=_.name;return z&&($+=" for function ".concat(z)),void console.error($,q)}}},w}();p.TypedEmitter=y},987:function(h,p,m){var E,x=this&&this.__extends||(E=function(j,U){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,z){$.__proto__=z}||function($,z){for(var q in z)Object.prototype.hasOwnProperty.call(z,q)&&($[q]=z[q])},E(j,U)},function(j,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function $(){this.constructor=j}E(j,U),j.prototype=U===null?Object.create(U):($.prototype=U.prototype,new $)}),y=this&&this.__createBinding||(Object.create?function(j,U,$,z){z===void 0&&(z=$);var q=Object.getOwnPropertyDescriptor(U,$);q&&!("get"in q?!U.__esModule:q.writable||q.configurable)||(q={enumerable:!0,get:function(){return U[$]}}),Object.defineProperty(j,z,q)}:function(j,U,$,z){z===void 0&&(z=$),j[z]=U[$]}),w=this&&this.__setModuleDefault||(Object.create?function(j,U){Object.defineProperty(j,"default",{enumerable:!0,value:U})}:function(j,U){j.default=U}),R=this&&this.__importStar||function(j){if(j&&j.__esModule)return j;var U={};if(j!=null)for(var $ in j)$!=="default"&&Object.prototype.hasOwnProperty.call(j,$)&&y(U,j,$);return w(U,j),U};Object.defineProperty(p,"__esModule",{value:!0}),p.createFsm=p.FsmWildcardState=p.RejectedTransitionError=p.InvalidStateTransitionError=void 0;var _=R(m(293)),C=function(j){function U($,z){var q=j.call(this,"Invalid transition from '".concat(z,"' via event '").concat($,"'"))||this;return q.name="InvalidStateTransitionError",q}return x(U,j),U}(Error);p.InvalidStateTransitionError=C;var I=function(j){function U($,z,q){var X=j.call(this,"Transition from '".concat(z,"' via event '").concat($,"' was rejected for: ").concat(q))||this;return X.name="RejectedTransitionError",X}return x(U,j),U}(Error);p.RejectedTransitionError=I,p.FsmWildcardState="*",p.createFsm=function(j){var U,$=j.transitions,z=j.callbacks,q=j.initialState,X=function(J){var G,ee=(G=$[J])===null||G===void 0?void 0:G.from;return!!ee&&(typeof ee=="string"?ee===p.FsmWildcardState:ee.includes(q))};return{canTransition:X,transition:function(J,G){var ee,ce,xe,Se,ve,Y;if(!X(J))return _.err(new C(String(q),String(J)));var Q=$[J];return Q.shouldTransition===void 0||Q.shouldTransition(q)?((ce=(ee=z==null?void 0:z[q])===null||ee===void 0?void 0:ee.onExiting)===null||ce===void 0||ce.call(ee),(xe=z==null?void 0:z.onStateExiting)===null||xe===void 0||xe.call(z,q),U=q,q=Q.to,(ve=(Se=z==null?void 0:z[q])===null||Se===void 0?void 0:Se.onChanged)===null||ve===void 0||ve.call(Se,U,G),(Y=z==null?void 0:z.onStateChanged)===null||Y===void 0||Y.call(z,U,q,G),_.ok(q)):_.err(new I(String(q),String(J),"shouldTransition returned false"))},previousState:function(){return U},currentState:function(){return q}}}},156:function(h,p,m){var E=this&&this.__createBinding||(Object.create?function(y,w,R,_){_===void 0&&(_=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,_,C)}:function(y,w,R,_){_===void 0&&(_=R),y[_]=w[R]}),x=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),p.VERSION=void 0,p.VERSION="0.2.0",x(m(815),p),x(m(456),p),x(m(987),p),x(m(293),p)},293:(h,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getErr=p.getOk_or=p.getOk=p.isNotOk=p.isOk=p.err=p.ok=void 0,p.ok=function(m){return{ok:!0,value:m}},p.err=function(m){return{ok:!1,error:m}},p.isOk=function(m){return m.ok===!0},p.isNotOk=function(m){return!(0,p.isOk)(m)},p.getOk=function(m){return m.ok===!0?m.value:void 0},p.getOk_or=function(m,E){return m.ok===!0?m.value:E},p.getErr=function(m){return m.ok===!0?void 0:m.error}}},l={};return function h(p){var m=l[p];if(m!==void 0)return m.exports;var E=l[p]={exports:{}};return c[p].call(E.exports,E,E.exports,h),E.exports}(156)})(),s.exports=a()},1549:(s,a,c)=>{var l=c(2032),h=c(3862),p=c(6721),m=c(2749),E=c(5749);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=h,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},79:(s,a,c)=>{var l=c(3702),h=c(80),p=c(4739),m=c(8655),E=c(1175);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=h,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},8223:(s,a,c)=>{var l=c(6110)(c(9325),"Map");s.exports=l},3661:(s,a,c)=>{var l=c(3040),h=c(7670),p=c(289),m=c(4509),E=c(2949);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=h,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},7217:(s,a,c)=>{var l=c(79),h=c(1420),p=c(938),m=c(3605),E=c(9817),x=c(945);function y(w){var R=this.__data__=new l(w);this.size=R.size}y.prototype.clear=h,y.prototype.delete=p,y.prototype.get=m,y.prototype.has=E,y.prototype.set=x,s.exports=y},1873:(s,a,c)=>{var l=c(9325).Symbol;s.exports=l},7828:(s,a,c)=>{var l=c(9325).Uint8Array;s.exports=l},1033:s=>{s.exports=function(a,c,l){switch(l.length){case 0:return a.call(c);case 1:return a.call(c,l[0]);case 2:return a.call(c,l[0],l[1]);case 3:return a.call(c,l[0],l[1],l[2])}return a.apply(c,l)}},695:(s,a,c)=>{var l=c(8096),h=c(2428),p=c(6449),m=c(3656),E=c(361),x=c(7167),y=Object.prototype.hasOwnProperty;s.exports=function(w,R){var _=p(w),C=!_&&h(w),I=!_&&!C&&m(w),j=!_&&!C&&!I&&x(w),U=_||C||I||j,$=U?l(w.length,String):[],z=$.length;for(var q in w)!R&&!y.call(w,q)||U&&(q=="length"||I&&(q=="offset"||q=="parent")||j&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||E(q,z))||$.push(q);return $}},7805:(s,a,c)=>{var l=c(3360),h=c(5288);s.exports=function(p,m,E){(E!==void 0&&!h(p[m],E)||E===void 0&&!(m in p))&&l(p,m,E)}},6547:(s,a,c)=>{var l=c(3360),h=c(5288),p=Object.prototype.hasOwnProperty;s.exports=function(m,E,x){var y=m[E];p.call(m,E)&&h(y,x)&&(x!==void 0||E in m)||l(m,E,x)}},6025:(s,a,c)=>{var l=c(5288);s.exports=function(h,p){for(var m=h.length;m--;)if(l(h[m][0],p))return m;return-1}},3360:(s,a,c)=>{var l=c(3243);s.exports=function(h,p,m){p=="__proto__"&&l?l(h,p,{configurable:!0,enumerable:!0,value:m,writable:!0}):h[p]=m}},9344:(s,a,c)=>{var l=c(3805),h=Object.create,p=function(){function m(){}return function(E){if(!l(E))return{};if(h)return h(E);m.prototype=E;var x=new m;return m.prototype=void 0,x}}();s.exports=p},6649:(s,a,c)=>{var l=c(3221)();s.exports=l},2552:(s,a,c)=>{var l=c(1873),h=c(659),p=c(9350),m=l?l.toStringTag:void 0;s.exports=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":m&&m in Object(E)?h(E):p(E)}},7534:(s,a,c)=>{var l=c(2552),h=c(346);s.exports=function(p){return h(p)&&l(p)=="[object Arguments]"}},5083:(s,a,c)=>{var l=c(1882),h=c(7296),p=c(3805),m=c(7473),E=/^\[object .+?Constructor\]$/,x=Function.prototype,y=Object.prototype,w=x.toString,R=y.hasOwnProperty,_=RegExp("^"+w.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function(C){return!(!p(C)||h(C))&&(l(C)?_:E).test(m(C))}},4901:(s,a,c)=>{var l=c(2552),h=c(294),p=c(346),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,s.exports=function(E){return p(E)&&h(E.length)&&!!m[l(E)]}},2903:(s,a,c)=>{var l=c(3805),h=c(5527),p=c(181),m=Object.prototype.hasOwnProperty;s.exports=function(E){if(!l(E))return p(E);var x=h(E),y=[];for(var w in E)(w!="constructor"||!x&&m.call(E,w))&&y.push(w);return y}},5250:(s,a,c)=>{var l=c(7217),h=c(7805),p=c(6649),m=c(2824),E=c(3805),x=c(7241),y=c(4974);s.exports=function w(R,_,C,I,j){R!==_&&p(_,function(U,$){if(j||(j=new l),E(U))m(R,_,$,C,w,I,j);else{var z=I?I(y(R,$),U,$+"",R,_,j):void 0;z===void 0&&(z=U),h(R,$,z)}},x)}},2824:(s,a,c)=>{var l=c(7805),h=c(3290),p=c(1961),m=c(3007),E=c(5529),x=c(2428),y=c(6449),w=c(3693),R=c(3656),_=c(1882),C=c(3805),I=c(1331),j=c(7167),U=c(4974),$=c(9884);s.exports=function(z,q,X,J,G,ee,ce){var xe=U(z,X),Se=U(q,X),ve=ce.get(Se);if(ve)l(z,X,ve);else{var Y=ee?ee(xe,Se,X+"",z,q,ce):void 0,Q=Y===void 0;if(Q){var ne=y(Se),fe=!ne&&R(Se),Te=!ne&&!fe&&j(Se);Y=Se,ne||fe||Te?y(xe)?Y=xe:w(xe)?Y=m(xe):fe?(Q=!1,Y=h(Se,!0)):Te?(Q=!1,Y=p(Se,!0)):Y=[]:I(Se)||x(Se)?(Y=xe,x(xe)?Y=$(xe):C(xe)&&!_(xe)||(Y=E(Se))):Q=!1}Q&&(ce.set(Se,Y),G(Y,Se,J,ee,ce),ce.delete(Se)),l(z,X,Y)}}},9302:(s,a,c)=>{var l=c(3488),h=c(6757),p=c(2865);s.exports=function(m,E){return p(h(m,E,l),m+"")}},9570:(s,a,c)=>{var l=c(7334),h=c(3243),p=c(3488),m=h?function(E,x){return h(E,"toString",{configurable:!0,enumerable:!1,value:l(x),writable:!0})}:p;s.exports=m},8096:s=>{s.exports=function(a,c){for(var l=-1,h=Array(a);++l<a;)h[l]=c(l);return h}},7301:s=>{s.exports=function(a){return function(c){return a(c)}}},9653:(s,a,c)=>{var l=c(7828);s.exports=function(h){var p=new h.constructor(h.byteLength);return new l(p).set(new l(h)),p}},3290:(s,a,c)=>{s=c.nmd(s);var l=c(9325),h=a&&!a.nodeType&&a,p=h&&s&&!s.nodeType&&s,m=p&&p.exports===h?l.Buffer:void 0,E=m?m.allocUnsafe:void 0;s.exports=function(x,y){if(y)return x.slice();var w=x.length,R=E?E(w):new x.constructor(w);return x.copy(R),R}},1961:(s,a,c)=>{var l=c(9653);s.exports=function(h,p){var m=p?l(h.buffer):h.buffer;return new h.constructor(m,h.byteOffset,h.length)}},3007:s=>{s.exports=function(a,c){var l=-1,h=a.length;for(c||(c=Array(h));++l<h;)c[l]=a[l];return c}},1791:(s,a,c)=>{var l=c(6547),h=c(3360);s.exports=function(p,m,E,x){var y=!E;E||(E={});for(var w=-1,R=m.length;++w<R;){var _=m[w],C=x?x(E[_],p[_],_,E,p):void 0;C===void 0&&(C=p[_]),y?h(E,_,C):l(E,_,C)}return E}},5481:(s,a,c)=>{var l=c(9325)["__core-js_shared__"];s.exports=l},999:(s,a,c)=>{var l=c(9302),h=c(6800);s.exports=function(p){return l(function(m,E){var x=-1,y=E.length,w=y>1?E[y-1]:void 0,R=y>2?E[2]:void 0;for(w=p.length>3&&typeof w=="function"?(y--,w):void 0,R&&h(E[0],E[1],R)&&(w=y<3?void 0:w,y=1),m=Object(m);++x<y;){var _=E[x];_&&p(m,_,x,w)}return m})}},3221:s=>{s.exports=function(a){return function(c,l,h){for(var p=-1,m=Object(c),E=h(c),x=E.length;x--;){var y=E[a?x:++p];if(l(m[y],y,m)===!1)break}return c}}},3243:(s,a,c)=>{var l=c(6110),h=function(){try{var p=l(Object,"defineProperty");return p({},"",{}),p}catch{}}();s.exports=h},4840:(s,a,c)=>{var l=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;s.exports=l},2651:(s,a,c)=>{var l=c(4218);s.exports=function(h,p){var m=h.__data__;return l(p)?m[typeof p=="string"?"string":"hash"]:m.map}},6110:(s,a,c)=>{var l=c(5083),h=c(392);s.exports=function(p,m){var E=h(p,m);return l(E)?E:void 0}},8879:(s,a,c)=>{var l=c(4335)(Object.getPrototypeOf,Object);s.exports=l},659:(s,a,c)=>{var l=c(1873),h=Object.prototype,p=h.hasOwnProperty,m=h.toString,E=l?l.toStringTag:void 0;s.exports=function(x){var y=p.call(x,E),w=x[E];try{x[E]=void 0;var R=!0}catch{}var _=m.call(x);return R&&(y?x[E]=w:delete x[E]),_}},392:s=>{s.exports=function(a,c){return a==null?void 0:a[c]}},2032:(s,a,c)=>{var l=c(1042);s.exports=function(){this.__data__=l?l(null):{},this.size=0}},3862:s=>{s.exports=function(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}},6721:(s,a,c)=>{var l=c(1042),h=Object.prototype.hasOwnProperty;s.exports=function(p){var m=this.__data__;if(l){var E=m[p];return E==="__lodash_hash_undefined__"?void 0:E}return h.call(m,p)?m[p]:void 0}},2749:(s,a,c)=>{var l=c(1042),h=Object.prototype.hasOwnProperty;s.exports=function(p){var m=this.__data__;return l?m[p]!==void 0:h.call(m,p)}},5749:(s,a,c)=>{var l=c(1042);s.exports=function(h,p){var m=this.__data__;return this.size+=this.has(h)?0:1,m[h]=l&&p===void 0?"__lodash_hash_undefined__":p,this}},5529:(s,a,c)=>{var l=c(9344),h=c(8879),p=c(5527);s.exports=function(m){return typeof m.constructor!="function"||p(m)?{}:l(h(m))}},361:s=>{var a=/^(?:0|[1-9]\d*)$/;s.exports=function(c,l){var h=typeof c;return!!(l=l??9007199254740991)&&(h=="number"||h!="symbol"&&a.test(c))&&c>-1&&c%1==0&&c<l}},6800:(s,a,c)=>{var l=c(5288),h=c(4894),p=c(361),m=c(3805);s.exports=function(E,x,y){if(!m(y))return!1;var w=typeof x;return!!(w=="number"?h(y)&&p(x,y.length):w=="string"&&x in y)&&l(y[x],E)}},4218:s=>{s.exports=function(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}},7296:(s,a,c)=>{var l,h=c(5481),p=(l=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";s.exports=function(m){return!!p&&p in m}},5527:s=>{var a=Object.prototype;s.exports=function(c){var l=c&&c.constructor;return c===(typeof l=="function"&&l.prototype||a)}},3702:s=>{s.exports=function(){this.__data__=[],this.size=0}},80:(s,a,c)=>{var l=c(6025),h=Array.prototype.splice;s.exports=function(p){var m=this.__data__,E=l(m,p);return!(E<0)&&(E==m.length-1?m.pop():h.call(m,E,1),--this.size,!0)}},4739:(s,a,c)=>{var l=c(6025);s.exports=function(h){var p=this.__data__,m=l(p,h);return m<0?void 0:p[m][1]}},8655:(s,a,c)=>{var l=c(6025);s.exports=function(h){return l(this.__data__,h)>-1}},1175:(s,a,c)=>{var l=c(6025);s.exports=function(h,p){var m=this.__data__,E=l(m,h);return E<0?(++this.size,m.push([h,p])):m[E][1]=p,this}},3040:(s,a,c)=>{var l=c(1549),h=c(79),p=c(8223);s.exports=function(){this.size=0,this.__data__={hash:new l,map:new(p||h),string:new l}}},7670:(s,a,c)=>{var l=c(2651);s.exports=function(h){var p=l(this,h).delete(h);return this.size-=p?1:0,p}},289:(s,a,c)=>{var l=c(2651);s.exports=function(h){return l(this,h).get(h)}},4509:(s,a,c)=>{var l=c(2651);s.exports=function(h){return l(this,h).has(h)}},2949:(s,a,c)=>{var l=c(2651);s.exports=function(h,p){var m=l(this,h),E=m.size;return m.set(h,p),this.size+=m.size==E?0:1,this}},1042:(s,a,c)=>{var l=c(6110)(Object,"create");s.exports=l},181:s=>{s.exports=function(a){var c=[];if(a!=null)for(var l in Object(a))c.push(l);return c}},6009:(s,a,c)=>{s=c.nmd(s);var l=c(4840),h=a&&!a.nodeType&&a,p=h&&s&&!s.nodeType&&s,m=p&&p.exports===h&&l.process,E=function(){try{var x=p&&p.require&&p.require("util").types;return x||m&&m.binding&&m.binding("util")}catch{}}();s.exports=E},9350:s=>{var a=Object.prototype.toString;s.exports=function(c){return a.call(c)}},4335:s=>{s.exports=function(a,c){return function(l){return a(c(l))}}},6757:(s,a,c)=>{var l=c(1033),h=Math.max;s.exports=function(p,m,E){return m=h(m===void 0?p.length-1:m,0),function(){for(var x=arguments,y=-1,w=h(x.length-m,0),R=Array(w);++y<w;)R[y]=x[m+y];y=-1;for(var _=Array(m+1);++y<m;)_[y]=x[y];return _[m]=E(R),l(p,this,_)}}},9325:(s,a,c)=>{var l=c(4840),h=typeof self=="object"&&self&&self.Object===Object&&self,p=l||h||Function("return this")();s.exports=p},4974:s=>{s.exports=function(a,c){if((c!=="constructor"||typeof a[c]!="function")&&c!="__proto__")return a[c]}},2865:(s,a,c)=>{var l=c(9570),h=c(1811)(l);s.exports=h},1811:s=>{var a=Date.now;s.exports=function(c){var l=0,h=0;return function(){var p=a(),m=16-(p-h);if(h=p,m>0){if(++l>=800)return arguments[0]}else l=0;return c.apply(void 0,arguments)}}},1420:(s,a,c)=>{var l=c(79);s.exports=function(){this.__data__=new l,this.size=0}},938:s=>{s.exports=function(a){var c=this.__data__,l=c.delete(a);return this.size=c.size,l}},3605:s=>{s.exports=function(a){return this.__data__.get(a)}},9817:s=>{s.exports=function(a){return this.__data__.has(a)}},945:(s,a,c)=>{var l=c(79),h=c(8223),p=c(3661);s.exports=function(m,E){var x=this.__data__;if(x instanceof l){var y=x.__data__;if(!h||y.length<199)return y.push([m,E]),this.size=++x.size,this;x=this.__data__=new p(y)}return x.set(m,E),this.size=x.size,this}},7473:s=>{var a=Function.prototype.toString;s.exports=function(c){if(c!=null){try{return a.call(c)}catch{}try{return c+""}catch{}}return""}},7334:s=>{s.exports=function(a){return function(){return a}}},5288:s=>{s.exports=function(a,c){return a===c||a!=a&&c!=c}},3488:s=>{s.exports=function(a){return a}},2428:(s,a,c)=>{var l=c(7534),h=c(346),p=Object.prototype,m=p.hasOwnProperty,E=p.propertyIsEnumerable,x=l(function(){return arguments}())?l:function(y){return h(y)&&m.call(y,"callee")&&!E.call(y,"callee")};s.exports=x},6449:s=>{var a=Array.isArray;s.exports=a},4894:(s,a,c)=>{var l=c(1882),h=c(294);s.exports=function(p){return p!=null&&h(p.length)&&!l(p)}},3693:(s,a,c)=>{var l=c(4894),h=c(346);s.exports=function(p){return h(p)&&l(p)}},3656:(s,a,c)=>{s=c.nmd(s);var l=c(9325),h=c(9935),p=a&&!a.nodeType&&a,m=p&&s&&!s.nodeType&&s,E=m&&m.exports===p?l.Buffer:void 0,x=(E?E.isBuffer:void 0)||h;s.exports=x},1882:(s,a,c)=>{var l=c(2552),h=c(3805);s.exports=function(p){if(!h(p))return!1;var m=l(p);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},294:s=>{s.exports=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991}},3805:s=>{s.exports=function(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}},346:s=>{s.exports=function(a){return a!=null&&typeof a=="object"}},1331:(s,a,c)=>{var l=c(2552),h=c(8879),p=c(346),m=Function.prototype,E=Object.prototype,x=m.toString,y=E.hasOwnProperty,w=x.call(Object);s.exports=function(R){if(!p(R)||l(R)!="[object Object]")return!1;var _=h(R);if(_===null)return!0;var C=y.call(_,"constructor")&&_.constructor;return typeof C=="function"&&C instanceof C&&x.call(C)==w}},7167:(s,a,c)=>{var l=c(4901),h=c(7301),p=c(6009),m=p&&p.isTypedArray,E=m?h(m):l;s.exports=E},7241:(s,a,c)=>{var l=c(695),h=c(2903),p=c(4894);s.exports=function(m){return p(m)?l(m,!0):h(m)}},2543:function(s,a,c){var l;s=c.nmd(s),(function(){var h,p="Expected a function",m="__lodash_hash_undefined__",E="__lodash_placeholder__",x=16,y=32,w=64,R=128,_=256,C=1/0,I=9007199254740991,j=NaN,U=4294967295,$=[["ary",R],["bind",1],["bindKey",2],["curry",8],["curryRight",x],["flip",512],["partial",y],["partialRight",w],["rearg",_]],z="[object Arguments]",q="[object Array]",X="[object Boolean]",J="[object Date]",G="[object Error]",ee="[object Function]",ce="[object GeneratorFunction]",xe="[object Map]",Se="[object Number]",ve="[object Object]",Y="[object Promise]",Q="[object RegExp]",ne="[object Set]",fe="[object String]",Te="[object Symbol]",He="[object WeakMap]",Le="[object ArrayBuffer]",bt="[object DataView]",Gt="[object Float32Array]",Ye="[object Float64Array]",lt="[object Int8Array]",Ut="[object Int16Array]",Jt="[object Int32Array]",Bt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Un="[object Uint16Array]",Qn="[object Uint32Array]",ut=/\b__p \+= '';/g,Ar=/\b(__p \+=) '' \+/g,Mi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,Ce=RegExp(Z.source),Qe=RegExp(pe.source),re=/<%-([\s\S]+?)%>/g,de=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,De=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,Qr=RegExp(Sn.source),fi=/^\s+/,fo=/\s/,Cn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kn=/\{\n\/\* \[wrapped with (.+)\] \*/,Ls=/,? & /,Ba=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Et=/[()=,{}\[\]\/\s]/,dh=/\\(\\)?/g,md=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ca=/\w*$/,Rl=/^[-+]0x[0-9a-f]+$/i,kl=/^0b[01]+$/i,gd=/^\[object .+?Constructor\]$/,Pc=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Zt="\\ud800-\\udfff",sr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",an="\\u2700-\\u27bf",$t="a-z\\xdf-\\xf6\\xf8-\\xff",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ze="\\ufe0e\\ufe0f",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="[']",_n="["+Zt+"]",Xn="["+pt+"]",Bn="["+sr+"]",Li="\\d+",vd="["+an+"]",yd="["+$t+"]",Em="[^"+Zt+pt+Li+an+$t+dt+"]",fh="\\ud83c[\\udffb-\\udfff]",Cm="[^"+Zt+"]",hh="(?:\\ud83c[\\udde6-\\uddff]){2}",ph="[\\ud800-\\udbff][\\udc00-\\udfff]",Ol="["+dt+"]",Fy="\\u200d",Pl="(?:"+yd+"|"+Em+")",bd="(?:"+Ol+"|"+Em+")",Nl="(?:['](?:d|ll|m|re|s|t|ve))?",Il="(?:['](?:D|LL|M|RE|S|T|VE))?",Al="(?:"+Bn+"|"+fh+")?",xd="["+Ze+"]?",Sd=xd+Al+("(?:"+Fy+"(?:"+[Cm,hh,ph].join("|")+")"+xd+Al+")*"),mh="(?:"+[vd,hh,ph].join("|")+")"+Sd,Tm="(?:"+[Cm+Bn+"?",Bn,hh,ph,_n].join("|")+")",Lo=RegExp(Ct,"g"),Fs=RegExp(Bn,"g"),jl=RegExp(fh+"(?="+fh+")|"+Tm+Sd,"g"),Uy=RegExp([Ol+"?"+yd+"+"+Nl+"(?="+[Xn,Ol,"$"].join("|")+")",bd+"+"+Il+"(?="+[Xn,Ol+Pl,"$"].join("|")+")",Ol+"?"+Pl+"+"+Nl,Ol+"+"+Il,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Li,mh].join("|"),"g"),pw=RegExp("["+Fy+Zt+sr+Ze+"]"),_d=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],km=-1,Jn={};Jn[Gt]=Jn[Ye]=Jn[lt]=Jn[Ut]=Jn[Jt]=Jn[Bt]=Jn[qt]=Jn[Un]=Jn[Qn]=!0,Jn[z]=Jn[q]=Jn[Le]=Jn[X]=Jn[bt]=Jn[J]=Jn[G]=Jn[ee]=Jn[xe]=Jn[Se]=Jn[ve]=Jn[Q]=Jn[ne]=Jn[fe]=Jn[He]=!1;var Gn={};Gn[z]=Gn[q]=Gn[Le]=Gn[bt]=Gn[X]=Gn[J]=Gn[Gt]=Gn[Ye]=Gn[lt]=Gn[Ut]=Gn[Jt]=Gn[xe]=Gn[Se]=Gn[ve]=Gn[Q]=Gn[ne]=Gn[fe]=Gn[Te]=Gn[Bt]=Gn[qt]=Gn[Un]=Gn[Qn]=!0,Gn[G]=Gn[ee]=Gn[He]=!1;var Om={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pm=parseFloat,By=parseInt,$y=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g,ln=typeof self=="object"&&self&&self.Object===Object&&self,Xr=$y||ln||Function("return this")(),gh=a&&!a.nodeType&&a,on=gh&&s&&!s.nodeType&&s,vh=on&&on.exports===gh,wd=vh&&$y.process,bi=function(){try{var ye=on&&on.require&&on.require("util").types;return ye||wd&&wd.binding&&wd.binding("util")}catch{}}(),$a=bi&&bi.isArrayBuffer,Nm=bi&&bi.isDate,Im=bi&&bi.isMap,yh=bi&&bi.isRegExp,bh=bi&&bi.isSet,Ed=bi&&bi.isTypedArray;function Fi(ye,me,Ie){switch(Ie.length){case 0:return ye.call(me);case 1:return ye.call(me,Ie[0]);case 2:return ye.call(me,Ie[0],Ie[1]);case 3:return ye.call(me,Ie[0],Ie[1],Ie[2])}return ye.apply(me,Ie)}function mw(ye,me,Ie,Je){for(var Kt=-1,Vt=ye==null?0:ye.length;++Kt<Vt;){var Dr=ye[Kt];me(Je,Dr,Ie(Dr),ye)}return Je}function ho(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Vy(ye,me){for(var Ie=ye==null?0:ye.length;Ie--&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Nc(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je;)if(!me(ye[Ie],Ie,ye))return!1;return!0}function Va(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length,Kt=0,Vt=[];++Ie<Je;){var Dr=ye[Ie];me(Dr,Ie,ye)&&(Vt[Kt++]=Dr)}return Vt}function xh(ye,me){return!!(ye!=null&&ye.length)&&Dl(ye,me,0)>-1}function Am(ye,me,Ie){for(var Je=-1,Kt=ye==null?0:ye.length;++Je<Kt;)if(Ie(me,ye[Je]))return!0;return!1}function ar(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length,Kt=Array(Je);++Ie<Je;)Kt[Ie]=me(ye[Ie],Ie,ye);return Kt}function la(ye,me){for(var Ie=-1,Je=me.length,Kt=ye.length;++Ie<Je;)ye[Kt+Ie]=me[Ie];return ye}function Sh(ye,me,Ie,Je){var Kt=-1,Vt=ye==null?0:ye.length;for(Je&&Vt&&(Ie=ye[++Kt]);++Kt<Vt;)Ie=me(Ie,ye[Kt],Kt,ye);return Ie}function gw(ye,me,Ie,Je){var Kt=ye==null?0:ye.length;for(Je&&Kt&&(Ie=ye[--Kt]);Kt--;)Ie=me(Ie,ye[Kt],Kt,ye);return Ie}function jm(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je;)if(me(ye[Ie],Ie,ye))return!0;return!1}var vw=wh("length");function zy(ye,me,Ie){var Je;return Ie(ye,function(Kt,Vt,Dr){if(me(Kt,Vt,Dr))return Je=Vt,!1}),Je}function _h(ye,me,Ie,Je){for(var Kt=ye.length,Vt=Ie+(Je?1:-1);Je?Vt--:++Vt<Kt;)if(me(ye[Vt],Vt,ye))return Vt;return-1}function Dl(ye,me,Ie){return me==me?function(Je,Kt,Vt){for(var Dr=Vt-1,ss=Je.length;++Dr<ss;)if(Je[Dr]===Kt)return Dr;return-1}(ye,me,Ie):_h(ye,Wy,Ie)}function yw(ye,me,Ie,Je){for(var Kt=Ie-1,Vt=ye.length;++Kt<Vt;)if(Je(ye[Kt],me))return Kt;return-1}function Wy(ye){return ye!=ye}function Hy(ye,me){var Ie=ye==null?0:ye.length;return Ie?Mm(ye,me)/Ie:j}function wh(ye){return function(me){return me==null?h:me[ye]}}function Dm(ye){return function(me){return ye==null?h:ye[me]}}function Gy(ye,me,Ie,Je,Kt){return Kt(ye,function(Vt,Dr,ss){Ie=Je?(Je=!1,Vt):me(Ie,Vt,Dr,ss)}),Ie}function Mm(ye,me){for(var Ie,Je=-1,Kt=ye.length;++Je<Kt;){var Vt=me(ye[Je]);Vt!==h&&(Ie=Ie===h?Vt:Ie+Vt)}return Ie}function _r(ye,me){for(var Ie=-1,Je=Array(ye);++Ie<ye;)Je[Ie]=me(Ie);return Je}function Cd(ye){return ye&&ye.slice(0,Ic(ye)+1).replace(fi,"")}function po(ye){return function(me){return ye(me)}}function Ml(ye,me){return ar(me,function(Ie){return ye[Ie]})}function Td(ye,me){return ye.has(me)}function Rd(ye,me){for(var Ie=-1,Je=ye.length;++Ie<Je&&Dl(me,ye[Ie],0)>-1;);return Ie}function qy(ye,me){for(var Ie=ye.length;Ie--&&Dl(me,ye[Ie],0)>-1;);return Ie}var Ky=Dm({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Lm=Dm({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mo(ye){return"\\"+Om[ye]}function os(ye){return pw.test(ye)}function Eh(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je,Kt){Ie[++me]=[Kt,Je]}),Ie}function Yy(ye,me){return function(Ie){return ye(me(Ie))}}function jr(ye,me){for(var Ie=-1,Je=ye.length,Kt=0,Vt=[];++Ie<Je;){var Dr=ye[Ie];Dr!==me&&Dr!==E||(ye[Ie]=E,Vt[Kt++]=Ie)}return Vt}function go(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je){Ie[++me]=Je}),Ie}function Qy(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je){Ie[++me]=[Je,Je]}),Ie}function vo(ye){return os(ye)?function(me){for(var Ie=jl.lastIndex=0;jl.test(me);)++Ie;return Ie}(ye):vw(ye)}function Fo(ye){return os(ye)?function(me){return me.match(jl)||[]}(ye):function(me){return me.split("")}(ye)}function Ic(ye){for(var me=ye.length;me--&&fo.test(ye.charAt(me)););return me}var gt=Dm({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),kd=function ye(me){var Ie,Je=(me=me==null?Xr:kd.defaults(Xr.Object(),me,kd.pick(Xr,Rm))).Array,Kt=me.Date,Vt=me.Error,Dr=me.Function,ss=me.Math,cr=me.Object,Fm=me.RegExp,bw=me.String,Qi=me.TypeError,za=Je.prototype,xw=Dr.prototype,Ll=cr.prototype,Ac=me["__core-js_shared__"],Ch=xw.toString,zn=Ll.hasOwnProperty,Fl=0,Um=(Ie=/[^.]+$/.exec(Ac&&Ac.keys&&Ac.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",Th=Ll.toString,Sw=Ch.call(cr),Xy=Xr._,_w=Fm("^"+Ch.call(zn).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wa=vh?me.Buffer:h,Ha=me.Symbol,Od=me.Uint8Array,Rh=Wa?Wa.allocUnsafe:h,Pd=Yy(cr.getPrototypeOf,cr),Nd=cr.create,Jy=Ll.propertyIsEnumerable,Ul=za.splice,Bm=Ha?Ha.isConcatSpreadable:h,Bl=Ha?Ha.iterator:h,Ge=Ha?Ha.toStringTag:h,wr=function(){try{var d=Bc(cr,"defineProperty");return d({},"",{}),d}catch{}}(),ww=me.clearTimeout!==Xr.clearTimeout&&me.clearTimeout,Ew=Kt&&Kt.now!==Xr.Date.now&&Kt.now,Cw=me.setTimeout!==Xr.setTimeout&&me.setTimeout,kh=ss.ceil,yo=ss.floor,Oh=cr.getOwnPropertySymbols,Tw=Wa?Wa.isBuffer:h,Ga=me.isFinite,Zy=za.join,Xi=Yy(cr.keys,cr),gr=ss.max,Wr=ss.min,en=Kt.now,Id=me.parseInt,Ad=ss.random,Rw=za.reverse,jd=Bc(me,"DataView"),Jr=Bc(me,"Map"),ua=Bc(me,"Promise"),jc=Bc(me,"Set"),xi=Bc(me,"WeakMap"),Ae=Bc(cr,"create"),Si=xi&&new xi,$l={},Ph=tc(jd),Nh=tc(Jr),$m=tc(ua),Ih=tc(jc),Vm=tc(xi),Ah=Ha?Ha.prototype:h,da=Ah?Ah.valueOf:h,zm=Ah?Ah.toString:h;function H(d){if(Pr(d)&&!ft(d)&&!(d instanceof yn)){if(d instanceof Ji)return d;if(zn.call(d,"__wrapped__"))return C0(d)}return new Ji(d)}var Dc=function(){function d(){}return function(v){if(!qn(v))return{};if(Nd)return Nd(v);d.prototype=v;var k=new d;return d.prototype=h,k}}();function Vl(){}function Ji(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=h}function yn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function qa(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function as(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function Us(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function Ka(d){var v=-1,k=d==null?0:d.length;for(this.__data__=new Us;++v<k;)this.add(d[v])}function Uo(d){var v=this.__data__=new as(d);this.size=v.size}function Wm(d,v){var k=ft(d),D=!k&&Vc(d),V=!k&&!D&&An(d),K=!k&&!D&&!V&&M(d),te=k||D||V||K,se=te?_r(d.length,bw):[],he=se.length;for(var Pe in d)!v&&!zn.call(d,Pe)||te&&(Pe=="length"||V&&(Pe=="offset"||Pe=="parent")||K&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||$o(Pe,he))||se.push(Pe);return se}function Dd(d){var v=d.length;return v?d[tg(0,v-1)]:h}function e0(d,v){return Mr(Bi(d),Mc(v,0,d.length))}function t0(d){return Mr(Bi(d))}function cs(d,v,k){(k!==h&&!vs(d[v],k)||k===h&&!(v in d))&&Bs(d,v,k)}function zl(d,v,k){var D=d[v];zn.call(d,v)&&vs(D,k)&&(k!==h||v in d)||Bs(d,v,k)}function Wl(d,v){for(var k=d.length;k--;)if(vs(d[k][0],v))return k;return-1}function n0(d,v,k,D){return ls(d,function(V,K,te){v(D,V,k(V),te)}),D}function Hm(d,v){return d&&So(v,vt(v),d)}function Bs(d,v,k){v=="__proto__"&&wr?wr(d,v,{configurable:!0,enumerable:!0,value:k,writable:!0}):d[v]=k}function jh(d,v){for(var k=-1,D=v.length,V=Je(D),K=d==null;++k<D;)V[k]=K?h:Qt(d,v[k]);return V}function Mc(d,v,k){return d==d&&(k!==h&&(d=d<=k?d:k),v!==h&&(d=d>=v?d:v)),d}function bo(d,v,k,D,V,K){var te,se=1&v,he=2&v,Pe=4&v;if(k&&(te=V?k(d,D,V,K):k(d)),te!==h)return te;if(!qn(d))return d;var ke=ft(d);if(ke){if(te=function(Ne){var We=Ne.length,jt=new Ne.constructor(We);return We&&typeof Ne[0]=="string"&&zn.call(Ne,"index")&&(jt.index=Ne.index,jt.input=Ne.input),jt}(d),!se)return Bi(d,te)}else{var Me=Ei(d),at=Me==ee||Me==ce;if(An(d))return sg(d,se);if(Me==ve||Me==z||at&&!V){if(te=he||at?{}:qh(d),!se)return he?function(Ne,We){return So(Ne,_0(Ne),We)}(d,function(Ne,We){return Ne&&So(We,yt(We),Ne)}(te,d)):function(Ne,We){return So(Ne,mg(Ne),We)}(d,Hm(te,d))}else{if(!Gn[Me])return V?d:{};te=function(Ne,We,jt){var Xe=Ne.constructor;switch(We){case Le:return ag(Ne);case X:case J:return new Xe(+Ne);case bt:return function(nn,Vn){var _t=Vn?ag(nn.buffer):nn.buffer;return new nn.constructor(_t,nn.byteOffset,nn.byteLength)}(Ne,jt);case Gt:case Ye:case lt:case Ut:case Jt:case Bt:case qt:case Un:case Qn:return fs(Ne,jt);case xe:return new Xe;case Se:case fe:return new Xe(Ne);case Q:return function(nn){var Vn=new nn.constructor(nn.source,ca.exec(nn));return Vn.lastIndex=nn.lastIndex,Vn}(Ne);case ne:return new Xe;case Te:return fn=Ne,da?cr(da.call(fn)):{}}var fn}(d,Me,se)}}K||(K=new Uo);var rt=K.get(d);if(rt)return rt;K.set(d,te),T(d)?d.forEach(function(Ne){te.add(bo(Ne,v,k,Ne,d,K))}):S(d)&&d.forEach(function(Ne,We){te.set(We,bo(Ne,v,k,We,d,K))});var kt=ke?h:(Pe?he?Wn:Zi:he?yt:vt)(d);return ho(kt||d,function(Ne,We){kt&&(Ne=d[We=Ne]),zl(te,We,bo(Ne,v,k,We,d,K))}),te}function r0(d,v,k){var D=k.length;if(d==null)return!D;for(d=cr(d);D--;){var V=k[D],K=v[V],te=d[V];if(te===h&&!(V in d)||!K(te))return!1}return!0}function ot(d,v,k){if(typeof d!="function")throw new Qi(p);return Zl(function(){d.apply(h,k)},v)}function Hl(d,v,k,D){var V=-1,K=xh,te=!0,se=d.length,he=[],Pe=v.length;if(!se)return he;k&&(v=ar(v,po(k))),D?(K=Am,te=!1):v.length>=200&&(K=Td,te=!1,v=new Ka(v));e:for(;++V<se;){var ke=d[V],Me=k==null?ke:k(ke);if(ke=D||ke!==0?ke:0,te&&Me==Me){for(var at=Pe;at--;)if(v[at]===Me)continue e;he.push(ke)}else K(v,Me,D)||he.push(ke)}return he}H.templateSettings={escape:re,evaluate:de,interpolate:Re,variable:"",imports:{_:H}},H.prototype=Vl.prototype,H.prototype.constructor=H,Ji.prototype=Dc(Vl.prototype),Ji.prototype.constructor=Ji,yn.prototype=Dc(Vl.prototype),yn.prototype.constructor=yn,qa.prototype.clear=function(){this.__data__=Ae?Ae(null):{},this.size=0},qa.prototype.delete=function(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v},qa.prototype.get=function(d){var v=this.__data__;if(Ae){var k=v[d];return k===m?h:k}return zn.call(v,d)?v[d]:h},qa.prototype.has=function(d){var v=this.__data__;return Ae?v[d]!==h:zn.call(v,d)},qa.prototype.set=function(d,v){var k=this.__data__;return this.size+=this.has(d)?0:1,k[d]=Ae&&v===h?m:v,this},as.prototype.clear=function(){this.__data__=[],this.size=0},as.prototype.delete=function(d){var v=this.__data__,k=Wl(v,d);return!(k<0)&&(k==v.length-1?v.pop():Ul.call(v,k,1),--this.size,!0)},as.prototype.get=function(d){var v=this.__data__,k=Wl(v,d);return k<0?h:v[k][1]},as.prototype.has=function(d){return Wl(this.__data__,d)>-1},as.prototype.set=function(d,v){var k=this.__data__,D=Wl(k,d);return D<0?(++this.size,k.push([d,v])):k[D][1]=v,this},Us.prototype.clear=function(){this.size=0,this.__data__={hash:new qa,map:new(Jr||as),string:new qa}},Us.prototype.delete=function(d){var v=qd(this,d).delete(d);return this.size-=v?1:0,v},Us.prototype.get=function(d){return qd(this,d).get(d)},Us.prototype.has=function(d){return qd(this,d).has(d)},Us.prototype.set=function(d,v){var k=qd(this,d),D=k.size;return k.set(d,v),this.size+=k.size==D?0:1,this},Ka.prototype.add=Ka.prototype.push=function(d){return this.__data__.set(d,m),this},Ka.prototype.has=function(d){return this.__data__.has(d)},Uo.prototype.clear=function(){this.__data__=new as,this.size=0},Uo.prototype.delete=function(d){var v=this.__data__,k=v.delete(d);return this.size=v.size,k},Uo.prototype.get=function(d){return this.__data__.get(d)},Uo.prototype.has=function(d){return this.__data__.has(d)},Uo.prototype.set=function(d,v){var k=this.__data__;if(k instanceof as){var D=k.__data__;if(!Jr||D.length<199)return D.push([d,v]),this.size=++k.size,this;k=this.__data__=new Us(D)}return k.set(d,v),this.size=k.size,this};var ls=dg(xo),Zr=dg(qm,!0);function i0(d,v){var k=!0;return ls(d,function(D,V,K){return k=!!v(D,V,K)}),k}function Md(d,v,k){for(var D=-1,V=d.length;++D<V;){var K=d[D],te=v(K);if(te!=null&&(se===h?te==te&&!N(te):k(te,se)))var se=te,he=K}return he}function o0(d,v){var k=[];return ls(d,function(D,V,K){v(D,V,K)&&k.push(D)}),k}function ei(d,v,k,D,V){var K=-1,te=d.length;for(k||(k=w0),V||(V=[]);++K<te;){var se=d[K];v>0&&k(se)?v>1?ei(se,v-1,k,D,V):la(V,se):D||(V[V.length]=se)}return V}var Dh=f0(),Gm=f0(!0);function xo(d,v){return d&&Dh(d,v,vt)}function qm(d,v){return d&&Gm(d,v,vt)}function Mh(d,v){return Va(v,function(k){return _o(d[k])})}function Ya(d,v){for(var k=0,D=(v=Ja(v,d)).length;d!=null&&k<D;)d=d[hs(v[k++])];return k&&k==D?d:h}function Km(d,v,k){var D=v(d);return ft(d)?D:la(D,k(d))}function Ui(d){return d==null?d===h?"[object Undefined]":"[object Null]":Ge&&Ge in cr(d)?function(v){var k=zn.call(v,Ge),D=v[Ge];try{v[Ge]=h;var V=!0}catch{}var K=Th.call(v);return V&&(k?v[Ge]=D:delete v[Ge]),K}(d):function(v){return Th.call(v)}(d)}function fa(d,v){return d>v}function _i(d,v){return d!=null&&zn.call(d,v)}function Gl(d,v){return d!=null&&v in cr(d)}function ql(d,v,k){for(var D=k?Am:xh,V=d[0].length,K=d.length,te=K,se=Je(K),he=1/0,Pe=[];te--;){var ke=d[te];te&&v&&(ke=ar(ke,po(v))),he=Wr(ke.length,he),se[te]=!k&&(v||V>=120&&ke.length>=120)?new Ka(te&&ke):h}ke=d[0];var Me=-1,at=se[0];e:for(;++Me<V&&Pe.length<he;){var rt=ke[Me],kt=v?v(rt):rt;if(rt=k||rt!==0?rt:0,!(at?Td(at,kt):D(Pe,kt,k))){for(te=K;--te;){var Ne=se[te];if(!(Ne?Td(Ne,kt):D(d[te],kt,k)))continue e}at&&at.push(kt),Pe.push(rt)}}return Pe}function In(d,v,k){var D=(d=Ri(d,v=Ja(v,d)))==null?d:d[hs(Zn(v))];return D==null?h:Fi(D,d,k)}function Lc(d){return Pr(d)&&Ui(d)==z}function us(d,v,k,D,V){return d===v||(d==null||v==null||!Pr(d)&&!Pr(v)?d!=d&&v!=v:function(K,te,se,he,Pe,ke){var Me=ft(K),at=ft(te),rt=Me?q:Ei(K),kt=at?q:Ei(te),Ne=(rt=rt==z?ve:rt)==ve,We=(kt=kt==z?ve:kt)==ve,jt=rt==kt;if(jt&&An(K)){if(!An(te))return!1;Me=!0,Ne=!1}if(jt&&!Ne)return ke||(ke=new Uo),Me||M(K)?Hd(K,te,se,he,Pe,ke):function(_t,Dt,mi,ri,Co,Er,no){switch(mi){case bt:if(_t.byteLength!=Dt.byteLength||_t.byteOffset!=Dt.byteOffset)return!1;_t=_t.buffer,Dt=Dt.buffer;case Le:return!(_t.byteLength!=Dt.byteLength||!Er(new Od(_t),new Od(Dt)));case X:case J:case Se:return vs(+_t,+Dt);case G:return _t.name==Dt.name&&_t.message==Dt.message;case Q:case fe:return _t==Dt+"";case xe:var rc=Eh;case ne:var su=1&ri;if(rc||(rc=go),_t.size!=Dt.size&&!su)return!1;var I0=no.get(_t);if(I0)return I0==Dt;ri|=2,no.set(_t,Dt);var Vw=Hd(rc(_t),rc(Dt),ri,Co,Er,no);return no.delete(_t),Vw;case Te:if(da)return da.call(_t)==da.call(Dt)}return!1}(K,te,rt,se,he,Pe,ke);if(!(1&se)){var Xe=Ne&&zn.call(K,"__wrapped__"),fn=We&&zn.call(te,"__wrapped__");if(Xe||fn){var nn=Xe?K.value():K,Vn=fn?te.value():te;return ke||(ke=new Uo),Pe(nn,Vn,se,he,ke)}}return jt?(ke||(ke=new Uo),function(_t,Dt,mi,ri,Co,Er){var no=1&mi,rc=Zi(_t),su=rc.length,I0=Zi(Dt),Vw=I0.length;if(su!=Vw&&!no)return!1;for(var A0=su;A0--;){var af=rc[A0];if(!(no?af in Dt:zn.call(Dt,af)))return!1}var pO=Er.get(_t),mO=Er.get(Dt);if(pO&&mO)return pO==Dt&&mO==_t;var j0=!0;Er.set(_t,Dt),Er.set(Dt,_t);for(var zw=no;++A0<su;){var D0=_t[af=rc[A0]],M0=Dt[af];if(ri)var gO=no?ri(M0,D0,af,Dt,_t,Er):ri(D0,M0,af,_t,Dt,Er);if(!(gO===h?D0===M0||Co(D0,M0,mi,ri,Er):gO)){j0=!1;break}zw||(zw=af=="constructor")}if(j0&&!zw){var L0=_t.constructor,F0=Dt.constructor;L0==F0||!("constructor"in _t)||!("constructor"in Dt)||typeof L0=="function"&&L0 instanceof L0&&typeof F0=="function"&&F0 instanceof F0||(j0=!1)}return Er.delete(_t),Er.delete(Dt),j0}(K,te,se,he,Pe,ke)):!1}(d,v,k,D,us,V))}function Lh(d,v,k,D){var V=k.length,K=V,te=!D;if(d==null)return!K;for(d=cr(d);V--;){var se=k[V];if(te&&se[2]?se[1]!==d[se[0]]:!(se[0]in d))return!1}for(;++V<K;){var he=(se=k[V])[0],Pe=d[he],ke=se[1];if(te&&se[2]){if(Pe===h&&!(he in d))return!1}else{var Me=new Uo;if(D)var at=D(Pe,ke,he,d,v,Me);if(!(at===h?us(ke,Pe,3,D,Me):at))return!1}}return!0}function Qa(d){return!(!qn(d)||(v=d,Um&&Um in v))&&(_o(d)?_w:gd).test(tc(d));var v}function Ld(d){return typeof d=="function"?d:d==null?mr:typeof d=="object"?ft(d)?Xm(d[0],d[1]):a0(d):Hs(d)}function Fc(d){if(!Xl(d))return Xi(d);var v=[];for(var k in cr(d))zn.call(d,k)&&k!="constructor"&&v.push(k);return v}function Ym(d){if(!qn(d))return function(V){var K=[];if(V!=null)for(var te in cr(V))K.push(te);return K}(d);var v=Xl(d),k=[];for(var D in d)(D!="constructor"||!v&&zn.call(d,D))&&k.push(D);return k}function Qm(d,v){return d<v}function s0(d,v){var k=-1,D=Lr(d)?Je(d.length):[];return ls(d,function(V,K,te){D[++k]=v(V,K,te)}),D}function a0(d){var v=pg(d);return v.length==1&&v[0][2]?E0(v[0][0],v[0][1]):function(k){return k===d||Lh(k,d,v)}}function Xm(d,v){return gg(d)&&vg(v)?E0(hs(d),v):function(k){var D=Qt(k,d);return D===h&&D===v?zt(k,d):us(v,D,3)}}function Fd(d,v,k,D,V){d!==v&&Dh(v,function(K,te){if(V||(V=new Uo),qn(K))(function(he,Pe,ke,Me,at,rt,kt){var Ne=yg(he,ke),We=yg(Pe,ke),jt=kt.get(We);if(jt)return void cs(he,ke,jt);var Xe=rt?rt(Ne,We,ke+"",he,Pe,kt):h,fn=Xe===h;if(fn){var nn=ft(We),Vn=!nn&&An(We),_t=!nn&&!Vn&&M(We);Xe=We,nn||Vn||_t?ft(Ne)?Xe=Ne:Fr(Ne)?Xe=Bi(Ne):Vn?(fn=!1,Xe=sg(We,!0)):_t?(fn=!1,Xe=fs(We,!0)):Xe=[]:g(We)||Vc(We)?(Xe=Ne,Vc(Ne)?Xe=ge(Ne):qn(Ne)&&!_o(Ne)||(Xe=qh(We))):fn=!1}fn&&(kt.set(We,Xe),at(Xe,We,Me,rt,kt),kt.delete(We)),cs(he,ke,Xe)})(d,v,te,k,Fd,D,V);else{var se=D?D(yg(d,te),K,te+"",d,v,V):h;se===h&&(se=K),cs(d,te,se)}},yt)}function ds(d,v){var k=d.length;if(k)return $o(v+=v<0?k:0,k)?d[v]:h}function Jm(d,v,k){v=v.length?ar(v,function(K){return ft(K)?function(te){return Ya(te,K.length===1?K[0]:K)}:K}):[mr];var D=-1;v=ar(v,po(Rt()));var V=s0(d,function(K,te,se){var he=ar(v,function(Pe){return Pe(K)});return{criteria:he,index:++D,value:K}});return function(K,te){var se=K.length;for(K.sort(te);se--;)K[se]=K[se].value;return K}(V,function(K,te){return function(se,he,Pe){for(var ke=-1,Me=se.criteria,at=he.criteria,rt=Me.length,kt=Pe.length;++ke<rt;){var Ne=cg(Me[ke],at[ke]);if(Ne)return ke>=kt?Ne:Ne*(Pe[ke]=="desc"?-1:1)}return se.index-he.index}(K,te,k)})}function Zm(d,v,k){for(var D=-1,V=v.length,K={};++D<V;){var te=v[D],se=Ya(d,te);k(se,te)&&Ud(K,Ja(te,d),se)}return K}function eg(d,v,k,D){var V=D?yw:Dl,K=-1,te=v.length,se=d;for(d===v&&(v=Bi(v)),k&&(se=ar(d,po(k)));++K<te;)for(var he=0,Pe=v[K],ke=k?k(Pe):Pe;(he=V(se,ke,he,D))>-1;)se!==d&&Ul.call(se,he,1),Ul.call(d,he,1);return d}function c0(d,v){for(var k=d?v.length:0,D=k-1;k--;){var V=v[k];if(k==D||V!==K){var K=V;$o(V)?Ul.call(d,V,1):rg(d,V)}}return d}function tg(d,v){return d+yo(Ad()*(v-d+1))}function ng(d,v){var k="";if(!d||v<1||v>I)return k;do v%2&&(k+=d),(v=yo(v/2))&&(d+=d);while(v);return k}function mn(d,v){return $i(Jl(d,v,mr),d+"")}function kw(d){return Dd(jn(d))}function Ow(d,v){var k=jn(d);return Mr(k,Mc(v,0,k.length))}function Ud(d,v,k,D){if(!qn(d))return d;for(var V=-1,K=(v=Ja(v,d)).length,te=K-1,se=d;se!=null&&++V<K;){var he=hs(v[V]),Pe=k;if(he==="__proto__"||he==="constructor"||he==="prototype")return d;if(V!=te){var ke=se[he];(Pe=D?D(ke,he,se):h)===h&&(Pe=qn(ke)?ke:$o(v[V+1])?[]:{})}zl(se,he,Pe),se=se[he]}return d}var l0=Si?function(d,v){return Si.set(d,v),d}:mr,Fh=wr?function(d,v){return wr(d,"toString",{configurable:!0,enumerable:!1,value:Vi(v),writable:!0})}:mr;function Pw(d){return Mr(jn(d))}function Bo(d,v,k){var D=-1,V=d.length;v<0&&(v=-v>V?0:V+v),(k=k>V?V:k)<0&&(k+=V),V=v>k?0:k-v>>>0,v>>>=0;for(var K=Je(V);++D<V;)K[D]=d[D+v];return K}function Kl(d,v){var k;return ls(d,function(D,V,K){return!(k=v(D,V,K))}),!!k}function ha(d,v,k){var D=0,V=d==null?D:d.length;if(typeof v=="number"&&v==v&&V<=2147483647){for(;D<V;){var K=D+V>>>1,te=d[K];te!==null&&!N(te)&&(k?te<=v:te<v)?D=K+1:V=K}return V}return pa(d,v,mr,k)}function pa(d,v,k,D){var V=0,K=d==null?0:d.length;if(K===0)return 0;for(var te=(v=k(v))!=v,se=v===null,he=N(v),Pe=v===h;V<K;){var ke=yo((V+K)/2),Me=k(d[ke]),at=Me!==h,rt=Me===null,kt=Me==Me,Ne=N(Me);if(te)var We=D||kt;else We=Pe?kt&&(D||at):se?kt&&at&&(D||!rt):he?kt&&at&&!rt&&(D||!Ne):!rt&&!Ne&&(D?Me<=v:Me<v);We?V=ke+1:K=ke}return Wr(K,4294967294)}function Bd(d,v){for(var k=-1,D=d.length,V=0,K=[];++k<D;){var te=d[k],se=v?v(te):te;if(!k||!vs(se,he)){var he=se;K[V++]=te===0?0:te}}return K}function ma(d){return typeof d=="number"?d:N(d)?j:+d}function wi(d){if(typeof d=="string")return d;if(ft(d))return ar(d,wi)+"";if(N(d))return zm?zm.call(d):"";var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function Xa(d,v,k){var D=-1,V=xh,K=d.length,te=!0,se=[],he=se;if(k)te=!1,V=Am;else if(K>=200){var Pe=v?null:Nw(d);if(Pe)return go(Pe);te=!1,V=Td,he=new Ka}else he=v?[]:se;e:for(;++D<K;){var ke=d[D],Me=v?v(ke):ke;if(ke=k||ke!==0?ke:0,te&&Me==Me){for(var at=he.length;at--;)if(he[at]===Me)continue e;v&&he.push(Me),se.push(ke)}else V(he,Me,k)||(he!==se&&he.push(Me),se.push(ke))}return se}function rg(d,v){return(d=Ri(d,v=Ja(v,d)))==null||delete d[hs(Zn(v))]}function $d(d,v,k,D){return Ud(d,v,k(Ya(d,v)),D)}function Uh(d,v,k,D){for(var V=d.length,K=D?V:-1;(D?K--:++K<V)&&v(d[K],K,d););return k?Bo(d,D?0:K,D?K+1:V):Bo(d,D?K+1:0,D?V:K)}function u0(d,v){var k=d;return k instanceof yn&&(k=k.value()),Sh(v,function(D,V){return V.func.apply(V.thisArg,la([D],V.args))},k)}function Uc(d,v,k){var D=d.length;if(D<2)return D?Xa(d[0]):[];for(var V=-1,K=Je(D);++V<D;)for(var te=d[V],se=-1;++se<D;)se!=V&&(K[V]=Hl(K[V]||te,d[se],v,k));return Xa(ei(K,1),v,k)}function d0(d,v,k){for(var D=-1,V=d.length,K=v.length,te={};++D<V;){var se=D<K?v[D]:h;k(te,d[D],se)}return te}function ig(d){return Fr(d)?d:[]}function Vd(d){return typeof d=="function"?d:mr}function Ja(d,v){return ft(d)?d:gg(d,v)?[d]:eu(le(d))}var Bh=mn;function Za(d,v,k){var D=d.length;return k=k===h?D:k,!v&&k>=D?d:Bo(d,v,k)}var og=ww||function(d){return Xr.clearTimeout(d)};function sg(d,v){if(v)return d.slice();var k=d.length,D=Rh?Rh(k):new d.constructor(k);return d.copy(D),D}function ag(d){var v=new d.constructor(d.byteLength);return new Od(v).set(new Od(d)),v}function fs(d,v){var k=v?ag(d.buffer):d.buffer;return new d.constructor(k,d.byteOffset,d.length)}function cg(d,v){if(d!==v){var k=d!==h,D=d===null,V=d==d,K=N(d),te=v!==h,se=v===null,he=v==v,Pe=N(v);if(!se&&!Pe&&!K&&d>v||K&&te&&he&&!se&&!Pe||D&&te&&he||!k&&he||!V)return 1;if(!D&&!K&&!Pe&&d<v||Pe&&k&&V&&!D&&!K||se&&k&&V||!te&&V||!he)return-1}return 0}function lg(d,v,k,D){for(var V=-1,K=d.length,te=k.length,se=-1,he=v.length,Pe=gr(K-te,0),ke=Je(he+Pe),Me=!D;++se<he;)ke[se]=v[se];for(;++V<te;)(Me||V<K)&&(ke[k[V]]=d[V]);for(;Pe--;)ke[se++]=d[V++];return ke}function ug(d,v,k,D){for(var V=-1,K=d.length,te=-1,se=k.length,he=-1,Pe=v.length,ke=gr(K-se,0),Me=Je(ke+Pe),at=!D;++V<ke;)Me[V]=d[V];for(var rt=V;++he<Pe;)Me[rt+he]=v[he];for(;++te<se;)(at||V<K)&&(Me[rt+k[te]]=d[V++]);return Me}function Bi(d,v){var k=-1,D=d.length;for(v||(v=Je(D));++k<D;)v[k]=d[k];return v}function So(d,v,k,D){var V=!k;k||(k={});for(var K=-1,te=v.length;++K<te;){var se=v[K],he=D?D(k[se],d[se],se,k,d):h;he===h&&(he=d[se]),V?Bs(k,se,he):zl(k,se,he)}return k}function ec(d,v){return function(k,D){var V=ft(k)?mw:n0,K=v?v():{};return V(k,d,Rt(D,2),K)}}function ga(d){return mn(function(v,k){var D=-1,V=k.length,K=V>1?k[V-1]:h,te=V>2?k[2]:h;for(K=d.length>3&&typeof K=="function"?(V--,K):h,te&&Ci(k[0],k[1],te)&&(K=V<3?h:K,V=1),v=cr(v);++D<V;){var se=k[D];se&&d(v,se,D,K)}return v})}function dg(d,v){return function(k,D){if(k==null)return k;if(!Lr(k))return d(k,D);for(var V=k.length,K=v?V:-1,te=cr(k);(v?K--:++K<V)&&D(te[K],K,te)!==!1;);return k}}function f0(d){return function(v,k,D){for(var V=-1,K=cr(v),te=D(v),se=te.length;se--;){var he=te[d?se:++V];if(k(K[he],he,K)===!1)break}return v}}function h0(d){return function(v){var k=os(v=le(v))?Fo(v):h,D=k?k[0]:v.charAt(0),V=k?Za(k,1).join(""):v.slice(1);return D[d]()+V}}function Yl(d){return function(v){return Sh(Pi(ur(v).replace(Lo,"")),d,"")}}function zd(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var k=Dc(d.prototype),D=d.apply(k,v);return qn(D)?D:k}}function p0(d){return function(v,k,D){var V=cr(v);if(!Lr(v)){var K=Rt(k,3);v=vt(v),k=function(se){return K(V[se],se,V)}}var te=d(v,k,D);return te>-1?V[K?v[te]:te]:h}}function m0(d){return ai(function(v){var k=v.length,D=k,V=Ji.prototype.thru;for(d&&v.reverse();D--;){var K=v[D];if(typeof K!="function")throw new Qi(p);if(V&&!te&&Gd(K)=="wrapper")var te=new Ji([],!0)}for(D=te?D:k;++D<k;){var se=Gd(K=v[D]),he=se=="wrapper"?Hh(K):h;te=he&&Kd(he[0])&&he[1]==424&&!he[4].length&&he[9]==1?te[Gd(he[0])].apply(te,he[3]):K.length==1&&Kd(K)?te[se]():te.thru(K)}return function(){var Pe=arguments,ke=Pe[0];if(te&&Pe.length==1&&ft(ke))return te.plant(ke).value();for(var Me=0,at=k?v[Me].apply(this,Pe):ke;++Me<k;)at=v[Me].call(this,at);return at}})}function Wd(d,v,k,D,V,K,te,se,he,Pe){var ke=v&R,Me=1&v,at=2&v,rt=24&v,kt=512&v,Ne=at?h:zd(d);return function We(){for(var jt=arguments.length,Xe=Je(jt),fn=jt;fn--;)Xe[fn]=arguments[fn];if(rt)var nn=Ql(We),Vn=function(ri,Co){for(var Er=ri.length,no=0;Er--;)ri[Er]===Co&&++no;return no}(Xe,nn);if(D&&(Xe=lg(Xe,D,V,rt)),K&&(Xe=ug(Xe,K,te,rt)),jt-=Vn,rt&&jt<Pe){var _t=jr(Xe,nn);return y0(d,v,Wd,We.placeholder,k,Xe,_t,se,he,Pe-jt)}var Dt=Me?k:this,mi=at?Dt[d]:d;return jt=Xe.length,se?Xe=function(ri,Co){for(var Er=ri.length,no=Wr(Co.length,Er),rc=Bi(ri);no--;){var su=Co[no];ri[no]=$o(su,Er)?rc[su]:h}return ri}(Xe,se):kt&&jt>1&&Xe.reverse(),ke&&he<jt&&(Xe.length=he),this&&this!==Xr&&this instanceof We&&(mi=Ne||zd(mi)),mi.apply(Dt,Xe)}}function g0(d,v){return function(k,D){return function(V,K,te,se){return xo(V,function(he,Pe,ke){K(se,te(he),Pe,ke)}),se}(k,d,v(D),{})}}function $h(d,v){return function(k,D){var V;if(k===h&&D===h)return v;if(k!==h&&(V=k),D!==h){if(V===h)return D;typeof k=="string"||typeof D=="string"?(k=wi(k),D=wi(D)):(k=ma(k),D=ma(D)),V=d(k,D)}return V}}function Vh(d){return ai(function(v){return v=ar(v,po(Rt())),mn(function(k){var D=this;return d(v,function(V){return Fi(V,D,k)})})})}function zh(d,v){var k=(v=v===h?" ":wi(v)).length;if(k<2)return k?ng(v,d):v;var D=ng(v,kh(d/vo(v)));return os(v)?Za(Fo(D),0,d).join(""):D.slice(0,d)}function v0(d){return function(v,k,D){return D&&typeof D!="number"&&Ci(v,k,D)&&(k=D=h),v=B(v),k===h?(k=v,v=0):k=B(k),function(V,K,te,se){for(var he=-1,Pe=gr(kh((K-V)/(te||1)),0),ke=Je(Pe);Pe--;)ke[se?Pe:++he]=V,V+=te;return ke}(v,k,D=D===h?v<k?1:-1:B(D),d)}}function Wh(d){return function(v,k){return typeof v=="string"&&typeof k=="string"||(v=be(v),k=be(k)),d(v,k)}}function y0(d,v,k,D,V,K,te,se,he,Pe){var ke=8&v;v|=ke?y:w,4&(v&=~(ke?w:y))||(v&=-4);var Me=[d,v,V,ke?K:h,ke?te:h,ke?h:K,ke?h:te,se,he,Pe],at=k.apply(h,Me);return Kd(d)&&bg(at,Me),at.placeholder=D,xg(at,d,v)}function fg(d){var v=ss[d];return function(k,D){if(k=be(k),(D=D==null?0:Wr(W(D),292))&&Ga(k)){var V=(le(k)+"e").split("e");return+((V=(le(v(V[0]+"e"+(+V[1]+D)))+"e").split("e"))[0]+"e"+(+V[1]-D))}return v(k)}}var Nw=jc&&1/go(new jc([,-0]))[1]==C?function(d){return new jc(d)}:Vo;function b0(d){return function(v){var k=Ei(v);return k==xe?Eh(v):k==ne?Qy(v):function(D,V){return ar(V,function(K){return[K,D[K]]})}(v,d(v))}}function va(d,v,k,D,V,K,te,se){var he=2&v;if(!he&&typeof d!="function")throw new Qi(p);var Pe=D?D.length:0;if(Pe||(v&=-97,D=V=h),te=te===h?te:gr(W(te),0),se=se===h?se:W(se),Pe-=V?V.length:0,v&w){var ke=D,Me=V;D=V=h}var at=he?h:Hh(d),rt=[d,v,k,D,V,ke,Me,K,te,se];if(at&&function(Ne,We){var jt=Ne[1],Xe=We[1],fn=jt|Xe,nn=fn<131,Vn=Xe==R&&jt==8||Xe==R&&jt==_&&Ne[7].length<=We[8]||Xe==384&&We[7].length<=We[8]&&jt==8;if(!nn&&!Vn)return Ne;1&Xe&&(Ne[2]=We[2],fn|=1&jt?0:4);var _t=We[3];if(_t){var Dt=Ne[3];Ne[3]=Dt?lg(Dt,_t,We[4]):_t,Ne[4]=Dt?jr(Ne[3],E):We[4]}(_t=We[5])&&(Dt=Ne[5],Ne[5]=Dt?ug(Dt,_t,We[6]):_t,Ne[6]=Dt?jr(Ne[5],E):We[6]),(_t=We[7])&&(Ne[7]=_t),Xe&R&&(Ne[8]=Ne[8]==null?We[8]:Wr(Ne[8],We[8])),Ne[9]==null&&(Ne[9]=We[9]),Ne[0]=We[0],Ne[1]=fn}(rt,at),d=rt[0],v=rt[1],k=rt[2],D=rt[3],V=rt[4],!(se=rt[9]=rt[9]===h?he?0:d.length:gr(rt[9]-Pe,0))&&24&v&&(v&=-25),v&&v!=1)kt=v==8||v==x?function(Ne,We,jt){var Xe=zd(Ne);return function fn(){for(var nn=arguments.length,Vn=Je(nn),_t=nn,Dt=Ql(fn);_t--;)Vn[_t]=arguments[_t];var mi=nn<3&&Vn[0]!==Dt&&Vn[nn-1]!==Dt?[]:jr(Vn,Dt);return(nn-=mi.length)<jt?y0(Ne,We,Wd,fn.placeholder,h,Vn,mi,h,h,jt-nn):Fi(this&&this!==Xr&&this instanceof fn?Xe:Ne,this,Vn)}}(d,v,se):v!=y&&v!=33||V.length?Wd.apply(h,rt):function(Ne,We,jt,Xe){var fn=1&We,nn=zd(Ne);return function Vn(){for(var _t=-1,Dt=arguments.length,mi=-1,ri=Xe.length,Co=Je(ri+Dt),Er=this&&this!==Xr&&this instanceof Vn?nn:Ne;++mi<ri;)Co[mi]=Xe[mi];for(;Dt--;)Co[mi++]=arguments[++_t];return Fi(Er,fn?jt:this,Co)}}(d,v,k,D);else var kt=function(Ne,We,jt){var Xe=1&We,fn=zd(Ne);return function nn(){return(this&&this!==Xr&&this instanceof nn?fn:Ne).apply(Xe?jt:this,arguments)}}(d,v,k);return xg((at?l0:bg)(kt,rt),d,v)}function hg(d,v,k,D){return d===h||vs(d,Ll[k])&&!zn.call(D,k)?v:d}function x0(d,v,k,D,V,K){return qn(d)&&qn(v)&&(K.set(v,d),Fd(d,v,h,x0,K),K.delete(v)),d}function S0(d){return g(d)?h:d}function Hd(d,v,k,D,V,K){var te=1&k,se=d.length,he=v.length;if(se!=he&&!(te&&he>se))return!1;var Pe=K.get(d),ke=K.get(v);if(Pe&&ke)return Pe==v&&ke==d;var Me=-1,at=!0,rt=2&k?new Ka:h;for(K.set(d,v),K.set(v,d);++Me<se;){var kt=d[Me],Ne=v[Me];if(D)var We=te?D(Ne,kt,Me,v,d,K):D(kt,Ne,Me,d,v,K);if(We!==h){if(We)continue;at=!1;break}if(rt){if(!jm(v,function(jt,Xe){if(!Td(rt,Xe)&&(kt===jt||V(kt,jt,k,D,K)))return rt.push(Xe)})){at=!1;break}}else if(kt!==Ne&&!V(kt,Ne,k,D,K)){at=!1;break}}return K.delete(d),K.delete(v),at}function ai(d){return $i(Jl(d,h,ni),d+"")}function Zi(d){return Km(d,vt,mg)}function Wn(d){return Km(d,yt,_0)}var Hh=Si?function(d){return Si.get(d)}:Vo;function Gd(d){for(var v=d.name+"",k=$l[v],D=zn.call($l,v)?k.length:0;D--;){var V=k[D],K=V.func;if(K==null||K==d)return V.name}return v}function Ql(d){return(zn.call(H,"placeholder")?H:d).placeholder}function Rt(){var d=H.iteratee||li;return d=d===li?Ld:d,arguments.length?d(arguments[0],arguments[1]):d}function qd(d,v){var k,D,V=d.__data__;return((D=typeof(k=v))=="string"||D=="number"||D=="symbol"||D=="boolean"?k!=="__proto__":k===null)?V[typeof v=="string"?"string":"hash"]:V.map}function pg(d){for(var v=vt(d),k=v.length;k--;){var D=v[k],V=d[D];v[k]=[D,V,vg(V)]}return v}function Bc(d,v){var k=function(D,V){return D==null?h:D[V]}(d,v);return Qa(k)?k:h}var mg=Oh?function(d){return d==null?[]:(d=cr(d),Va(Oh(d),function(v){return Jy.call(d,v)}))}:zo,_0=Oh?function(d){for(var v=[];d;)la(v,mg(d)),d=Pd(d);return v}:zo,Ei=Ui;function Gh(d,v,k){for(var D=-1,V=(v=Ja(v,d)).length,K=!1;++D<V;){var te=hs(v[D]);if(!(K=d!=null&&k(d,te)))break;d=d[te]}return K||++D!=V?K:!!(V=d==null?0:d.length)&&Zh(V)&&$o(te,V)&&(ft(d)||Vc(d))}function qh(d){return typeof d.constructor!="function"||Xl(d)?{}:Dc(Pd(d))}function w0(d){return ft(d)||Vc(d)||!!(Bm&&d&&d[Bm])}function $o(d,v){var k=typeof d;return!!(v=v??I)&&(k=="number"||k!="symbol"&&ue.test(d))&&d>-1&&d%1==0&&d<v}function Ci(d,v,k){if(!qn(k))return!1;var D=typeof v;return!!(D=="number"?Lr(k)&&$o(v,k.length):D=="string"&&v in k)&&vs(k[v],d)}function gg(d,v){if(ft(d))return!1;var k=typeof d;return!(k!="number"&&k!="symbol"&&k!="boolean"&&d!=null&&!N(d))||nt.test(d)||!De.test(d)||v!=null&&d in cr(v)}function Kd(d){var v=Gd(d),k=H[v];if(typeof k!="function"||!(v in yn.prototype))return!1;if(d===k)return!0;var D=Hh(k);return!!D&&d===D[0]}(jd&&Ei(new jd(new ArrayBuffer(1)))!=bt||Jr&&Ei(new Jr)!=xe||ua&&Ei(ua.resolve())!=Y||jc&&Ei(new jc)!=ne||xi&&Ei(new xi)!=He)&&(Ei=function(d){var v=Ui(d),k=v==ve?d.constructor:h,D=k?tc(k):"";if(D)switch(D){case Ph:return bt;case Nh:return xe;case $m:return Y;case Ih:return ne;case Vm:return He}return v});var Ti=Ac?_o:nc;function Xl(d){var v=d&&d.constructor;return d===(typeof v=="function"&&v.prototype||Ll)}function vg(d){return d==d&&!qn(d)}function E0(d,v){return function(k){return k!=null&&k[d]===v&&(v!==h||d in cr(k))}}function Jl(d,v,k){return v=gr(v===h?d.length-1:v,0),function(){for(var D=arguments,V=-1,K=gr(D.length-v,0),te=Je(K);++V<K;)te[V]=D[v+V];V=-1;for(var se=Je(v+1);++V<v;)se[V]=D[V];return se[v]=k(te),Fi(d,this,se)}}function Ri(d,v){return v.length<2?d:Ya(d,Bo(v,0,-1))}function yg(d,v){if((v!=="constructor"||typeof d[v]!="function")&&v!="__proto__")return d[v]}var bg=Sg(l0),Zl=Cw||function(d,v){return Xr.setTimeout(d,v)},$i=Sg(Fh);function xg(d,v,k){var D=v+"";return $i(d,function(V,K){var te=K.length;if(!te)return V;var se=te-1;return K[se]=(te>1?"& ":"")+K[se],K=K.join(te>2?", ":" "),V.replace(Cn,`{
/* [wrapped with `+K+`] */
`)}(D,function(V,K){return ho($,function(te){var se="_."+te[0];K&te[1]&&!xh(V,se)&&V.push(se)}),V.sort()}(function(V){var K=V.match(kn);return K?K[1].split(Ls):[]}(D),k)))}function Sg(d){var v=0,k=0;return function(){var D=en(),V=16-(D-k);if(k=D,V>0){if(++v>=800)return arguments[0]}else v=0;return d.apply(h,arguments)}}function Mr(d,v){var k=-1,D=d.length,V=D-1;for(v=v===h?D:v;++k<v;){var K=tg(k,V),te=d[K];d[K]=d[k],d[k]=te}return d.length=v,d}var eu=function(d){var v=tf(d,function(D){return k.size===500&&k.clear(),D}),k=v.cache;return v}(function(d){var v=[];return d.charCodeAt(0)===46&&v.push(""),d.replace(St,function(k,D,V,K){v.push(V?K.replace(dh,"$1"):D||k)}),v});function hs(d){if(typeof d=="string"||N(d))return d;var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function tc(d){if(d!=null){try{return Ch.call(d)}catch{}try{return d+""}catch{}}return""}function C0(d){if(d instanceof yn)return d.clone();var v=new Ji(d.__wrapped__,d.__chain__);return v.__actions__=Bi(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}var Iw=mn(function(d,v){return Fr(d)?Hl(d,ei(v,1,Fr,!0)):[]}),Aw=mn(function(d,v){var k=Zn(v);return Fr(k)&&(k=h),Fr(d)?Hl(d,ei(v,1,Fr,!0),Rt(k,2)):[]}),Yd=mn(function(d,v){var k=Zn(v);return Fr(k)&&(k=h),Fr(d)?Hl(d,ei(v,1,Fr,!0),h,k):[]});function ti(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var V=k==null?0:W(k);return V<0&&(V=gr(D+V,0)),_h(d,Rt(v,3),V)}function Qd(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var V=D-1;return k!==h&&(V=W(k),V=k<0?gr(D+V,0):Wr(V,D-1)),_h(d,Rt(v,3),V,!0)}function ni(d){return d!=null&&d.length?ei(d,1):[]}function $s(d){return d&&d.length?d[0]:h}var jw=mn(function(d){var v=ar(d,ig);return v.length&&v[0]===d[0]?ql(v):[]}),Xd=mn(function(d){var v=Zn(d),k=ar(d,ig);return v===Zn(k)?v=h:k.pop(),k.length&&k[0]===d[0]?ql(k,Rt(v,2)):[]}),Kh=mn(function(d){var v=Zn(d),k=ar(d,ig);return(v=typeof v=="function"?v:h)&&k.pop(),k.length&&k[0]===d[0]?ql(k,h,v):[]});function Zn(d){var v=d==null?0:d.length;return v?d[v-1]:h}var ki=mn($c);function $c(d,v){return d&&d.length&&v&&v.length?eg(d,v):d}var _g=ai(function(d,v){var k=d==null?0:d.length,D=jh(d,v);return c0(d,ar(v,function(V){return $o(V,k)?+V:V}).sort(cg)),D});function wg(d){return d==null?d:Rw.call(d)}var ya=mn(function(d){return Xa(ei(d,1,Fr,!0))}),On=mn(function(d){var v=Zn(d);return Fr(v)&&(v=h),Xa(ei(d,1,Fr,!0),Rt(v,2))}),Dw=mn(function(d){var v=Zn(d);return v=typeof v=="function"?v:h,Xa(ei(d,1,Fr,!0),h,v)});function Eg(d){if(!d||!d.length)return[];var v=0;return d=Va(d,function(k){if(Fr(k))return v=gr(k.length,v),!0}),_r(v,function(k){return ar(d,wh(k))})}function T0(d,v){if(!d||!d.length)return[];var k=Eg(d);return v==null?k:ar(k,function(D){return Fi(v,h,D)})}var Mw=mn(function(d,v){return Fr(d)?Hl(d,v):[]}),Yh=mn(function(d){return Uc(Va(d,Fr))}),Jd=mn(function(d){var v=Zn(d);return Fr(v)&&(v=h),Uc(Va(d,Fr),Rt(v,2))}),Zd=mn(function(d){var v=Zn(d);return v=typeof v=="function"?v:h,Uc(Va(d,Fr),h,v)}),Lw=mn(Eg),Fw=mn(function(d){var v=d.length,k=v>1?d[v-1]:h;return k=typeof k=="function"?(d.pop(),k):h,T0(d,k)});function R0(d){var v=H(d);return v.__chain__=!0,v}function Qh(d,v){return v(d)}var ps=ai(function(d){var v=d.length,k=v?d[0]:0,D=this.__wrapped__,V=function(K){return jh(K,d)};return!(v>1||this.__actions__.length)&&D instanceof yn&&$o(k)?((D=D.slice(k,+k+(v?1:0))).__actions__.push({func:Qh,args:[V],thisArg:h}),new Ji(D,this.__chain__).thru(function(K){return v&&!K.length&&K.push(h),K})):this.thru(V)}),ms=ec(function(d,v,k){zn.call(d,k)?++d[k]:Bs(d,k,1)}),tu=p0(ti),nu=p0(Qd);function gs(d,v){return(ft(d)?ho:ls)(d,Rt(v,3))}function Cg(d,v){return(ft(d)?Vy:Zr)(d,Rt(v,3))}var Tg=ec(function(d,v,k){zn.call(d,k)?d[k].push(v):Bs(d,k,[v])}),ba=mn(function(d,v,k){var D=-1,V=typeof v=="function",K=Lr(d)?Je(d.length):[];return ls(d,function(te){K[++D]=V?Fi(v,te,k):In(te,v,k)}),K}),Or=ec(function(d,v,k){Bs(d,k,v)});function ci(d,v){return(ft(d)?ar:s0)(d,Rt(v,3))}var Uw=ec(function(d,v,k){d[k?0:1].push(v)},function(){return[[],[]]}),k0=mn(function(d,v){if(d==null)return[];var k=v.length;return k>1&&Ci(d,v[0],v[1])?v=[]:k>2&&Ci(v[0],v[1],v[2])&&(v=[v[0]]),Jm(d,ei(v,1),[])}),Xh=Ew||function(){return Xr.Date.now()};function Rg(d,v,k){return v=k?h:v,v=d&&v==null?d.length:v,va(d,R,h,h,h,h,v)}function kg(d,v){var k;if(typeof v!="function")throw new Qi(p);return d=W(d),function(){return--d>0&&(k=v.apply(this,arguments)),d<=1&&(v=h),k}}var Og=mn(function(d,v,k){var D=1;if(k.length){var V=jr(k,Ql(Og));D|=y}return va(d,D,v,k,V)}),Pg=mn(function(d,v,k){var D=3;if(k.length){var V=jr(k,Ql(Pg));D|=y}return va(v,D,d,k,V)});function ef(d,v,k){var D,V,K,te,se,he,Pe=0,ke=!1,Me=!1,at=!0;if(typeof d!="function")throw new Qi(p);function rt(Xe){var fn=D,nn=V;return D=V=h,Pe=Xe,te=d.apply(nn,fn)}function kt(Xe){var fn=Xe-he;return he===h||fn>=v||fn<0||Me&&Xe-Pe>=K}function Ne(){var Xe=Xh();if(kt(Xe))return We(Xe);se=Zl(Ne,function(fn){var nn=v-(fn-he);return Me?Wr(nn,K-(fn-Pe)):nn}(Xe))}function We(Xe){return se=h,at&&D?rt(Xe):(D=V=h,te)}function jt(){var Xe=Xh(),fn=kt(Xe);if(D=arguments,V=this,he=Xe,fn){if(se===h)return function(nn){return Pe=nn,se=Zl(Ne,v),ke?rt(nn):te}(he);if(Me)return og(se),se=Zl(Ne,v),rt(he)}return se===h&&(se=Zl(Ne,v)),te}return v=be(v)||0,qn(k)&&(ke=!!k.leading,K=(Me="maxWait"in k)?gr(be(k.maxWait)||0,v):K,at="trailing"in k?!!k.trailing:at),jt.cancel=function(){se!==h&&og(se),Pe=0,D=he=V=se=h},jt.flush=function(){return se===h?te:We(Xh())},jt}var Ng=mn(function(d,v){return ot(d,1,v)}),Bw=mn(function(d,v,k){return ot(d,be(v)||0,k)});function tf(d,v){if(typeof d!="function"||v!=null&&typeof v!="function")throw new Qi(p);var k=function(){var D=arguments,V=v?v.apply(this,D):D[0],K=k.cache;if(K.has(V))return K.get(V);var te=d.apply(this,D);return k.cache=K.set(V,te)||K,te};return k.cache=new(tf.Cache||Us),k}function Jh(d){if(typeof d!="function")throw new Qi(p);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}tf.Cache=Us;var Oi=Bh(function(d,v){var k=(v=v.length==1&&ft(v[0])?ar(v[0],po(Rt())):ar(ei(v,1),po(Rt()))).length;return mn(function(D){for(var V=-1,K=Wr(D.length,k);++V<K;)D[V]=v[V].call(this,D[V]);return Fi(d,this,D)})}),nf=mn(function(d,v){var k=jr(v,Ql(nf));return va(d,y,h,v,k)}),xa=mn(function(d,v){var k=jr(v,Ql(xa));return va(d,w,h,v,k)}),$w=ai(function(d,v){return va(d,_,h,h,h,v)});function vs(d,v){return d===v||d!=d&&v!=v}var O0=Wh(fa),P0=Wh(function(d,v){return d>=v}),Vc=Lc(function(){return arguments}())?Lc:function(d){return Pr(d)&&zn.call(d,"callee")&&!Jy.call(d,"callee")},ft=Je.isArray,eo=$a?po($a):function(d){return Pr(d)&&Ui(d)==Le};function Lr(d){return d!=null&&Zh(d.length)&&!_o(d)}function Fr(d){return Pr(d)&&Lr(d)}var An=Tw||nc,N0=Nm?po(Nm):function(d){return Pr(d)&&Ui(d)==J};function Ig(d){if(!Pr(d))return!1;var v=Ui(d);return v==G||v=="[object DOMException]"||typeof d.message=="string"&&typeof d.name=="string"&&!g(d)}function _o(d){if(!qn(d))return!1;var v=Ui(d);return v==ee||v==ce||v=="[object AsyncFunction]"||v=="[object Proxy]"}function Ag(d){return typeof d=="number"&&d==W(d)}function Zh(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=I}function qn(d){var v=typeof d;return d!=null&&(v=="object"||v=="function")}function Pr(d){return d!=null&&typeof d=="object"}var S=Im?po(Im):function(d){return Pr(d)&&Ei(d)==xe};function f(d){return typeof d=="number"||Pr(d)&&Ui(d)==Se}function g(d){if(!Pr(d)||Ui(d)!=ve)return!1;var v=Pd(d);if(v===null)return!0;var k=zn.call(v,"constructor")&&v.constructor;return typeof k=="function"&&k instanceof k&&Ch.call(k)==Sw}var b=yh?po(yh):function(d){return Pr(d)&&Ui(d)==Q},T=bh?po(bh):function(d){return Pr(d)&&Ei(d)==ne};function O(d){return typeof d=="string"||!ft(d)&&Pr(d)&&Ui(d)==fe}function N(d){return typeof d=="symbol"||Pr(d)&&Ui(d)==Te}var M=Ed?po(Ed):function(d){return Pr(d)&&Zh(d.length)&&!!Jn[Ui(d)]},L=Wh(Qm),A=Wh(function(d,v){return d<=v});function F(d){if(!d)return[];if(Lr(d))return O(d)?Fo(d):Bi(d);if(Bl&&d[Bl])return function(k){for(var D,V=[];!(D=k.next()).done;)V.push(D.value);return V}(d[Bl]());var v=Ei(d);return(v==xe?Eh:v==ne?go:jn)(d)}function B(d){return d?(d=be(d))===C||d===-1/0?17976931348623157e292*(d<0?-1:1):d==d?d:0:d===0?d:0}function W(d){var v=B(d),k=v%1;return v==v?k?v-k:v:0}function ie(d){return d?Mc(W(d),0,U):0}function be(d){if(typeof d=="number")return d;if(N(d))return j;if(qn(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=qn(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=Cd(d);var k=kl.test(d);return k||Pc.test(d)?By(d.slice(2),k?2:8):Rl.test(d)?j:+d}function ge(d){return So(d,yt(d))}function le(d){return d==null?"":wi(d)}var ae=ga(function(d,v){if(Xl(v)||Lr(v))So(v,vt(v),d);else for(var k in v)zn.call(v,k)&&zl(d,k,v[k])}),oe=ga(function(d,v){So(v,yt(v),d)}),we=ga(function(d,v,k,D){So(v,yt(v),d,D)}),ze=ga(function(d,v,k,D){So(v,vt(v),d,D)}),st=ai(jh),Tt=mn(function(d,v){d=cr(d);var k=-1,D=v.length,V=D>2?v[2]:h;for(V&&Ci(v[0],v[1],V)&&(D=1);++k<D;)for(var K=v[k],te=yt(K),se=-1,he=te.length;++se<he;){var Pe=te[se],ke=d[Pe];(ke===h||vs(ke,Ll[Pe])&&!zn.call(d,Pe))&&(d[Pe]=K[Pe])}return d}),Yt=mn(function(d){return d.push(h,x0),Fi(It,h,d)});function Qt(d,v,k){var D=d==null?h:Ya(d,v);return D===h?k:D}function zt(d,v){return d!=null&&Gh(d,v,Gl)}var Nt=g0(function(d,v,k){v!=null&&typeof v.toString!="function"&&(v=Th.call(v)),d[v]=k},Vi(mr)),tn=g0(function(d,v,k){v!=null&&typeof v.toString!="function"&&(v=Th.call(v)),zn.call(d,v)?d[v].push(k):d[v]=[k]},Rt),un=mn(In);function vt(d){return Lr(d)?Wm(d):Fc(d)}function yt(d){return Lr(d)?Wm(d,!0):Ym(d)}var cn=ga(function(d,v,k){Fd(d,v,k)}),It=ga(function(d,v,k,D){Fd(d,v,k,D)}),At=ai(function(d,v){var k={};if(d==null)return k;var D=!1;v=ar(v,function(K){return K=Ja(K,d),D||(D=K.length>1),K}),So(d,Wn(d),k),D&&(k=bo(k,7,S0));for(var V=v.length;V--;)rg(k,v[V]);return k}),dn=ai(function(d,v){return d==null?{}:function(k,D){return Zm(k,D,function(V,K){return zt(k,K)})}(d,v)});function Pn(d,v){if(d==null)return{};var k=ar(Wn(d),function(D){return[D]});return v=Rt(v),Zm(d,k,function(D,V){return v(D,V[0])})}var $n=b0(vt),ir=b0(yt);function jn(d){return d==null?[]:Ml(d,vt(d))}var vr=Yl(function(d,v,k){return v=v.toLowerCase(),d+(k?lr(v):v)});function lr(d){return Hr(le(d).toLowerCase())}function ur(d){return(d=le(d))&&d.replace(_e,Ky).replace(Fs,"")}var dr=Yl(function(d,v,k){return d+(k?"-":"")+v.toLowerCase()}),fr=Yl(function(d,v,k){return d+(k?" ":"")+v.toLowerCase()}),hr=h0("toLowerCase"),Ur=Yl(function(d,v,k){return d+(k?"_":"")+v.toLowerCase()}),pr=Yl(function(d,v,k){return d+(k?" ":"")+Hr(v)}),hi=Yl(function(d,v,k){return d+(k?" ":"")+v.toUpperCase()}),Hr=h0("toUpperCase");function Pi(d,v,k){return d=le(d),(v=k?h:v)===h?function(D){return _d.test(D)}(d)?function(D){return D.match(Uy)||[]}(d):function(D){return D.match(Ba)||[]}(d):d.match(v)||[]}var Ni=mn(function(d,v){try{return Fi(d,h,v)}catch(k){return Ig(k)?k:new Vt(k)}}),pi=ai(function(d,v){return ho(v,function(k){k=hs(k),Bs(d,k,Og(d[k],d))}),d});function Vi(d){return function(){return d}}var to=m0(),wo=m0(!0);function mr(d){return d}function li(d){return Ld(typeof d=="function"?d:bo(d,1))}var Vs=mn(function(d,v){return function(k){return In(k,d,v)}}),Sa=mn(function(d,v){return function(k){return In(d,k,v)}});function Eo(d,v,k){var D=vt(v),V=Mh(v,D);k!=null||qn(v)&&(V.length||!D.length)||(k=v,v=d,d=this,V=Mh(v,vt(v)));var K=!(qn(k)&&"chain"in k&&!k.chain),te=_o(d);return ho(V,function(se){var he=v[se];d[se]=he,te&&(d.prototype[se]=function(){var Pe=this.__chain__;if(K||Pe){var ke=d(this.__wrapped__);return(ke.__actions__=Bi(this.__actions__)).push({func:he,args:arguments,thisArg:d}),ke.__chain__=Pe,ke}return he.apply(d,la([this.value()],arguments))})}),d}function Vo(){}var _a=Vh(ar),zs=Vh(Nc),Ws=Vh(jm);function Hs(d){return gg(d)?wh(hs(d)):function(v){return function(k){return Ya(k,v)}}(d)}var Gs=v0(),qs=v0(!0);function zo(){return[]}function nc(){return!1}var ru=$h(function(d,v){return d+v},0),iu=fg("ceil"),ou=$h(function(d,v){return d/v},1),rf=fg("floor"),zc,of=$h(function(d,v){return d*v},1),sf=fg("round"),Wc=$h(function(d,v){return d-v},0);return H.after=function(d,v){if(typeof v!="function")throw new Qi(p);return d=W(d),function(){if(--d<1)return v.apply(this,arguments)}},H.ary=Rg,H.assign=ae,H.assignIn=oe,H.assignInWith=we,H.assignWith=ze,H.at=st,H.before=kg,H.bind=Og,H.bindAll=pi,H.bindKey=Pg,H.castArray=function(){if(!arguments.length)return[];var d=arguments[0];return ft(d)?d:[d]},H.chain=R0,H.chunk=function(d,v,k){v=(k?Ci(d,v,k):v===h)?1:gr(W(v),0);var D=d==null?0:d.length;if(!D||v<1)return[];for(var V=0,K=0,te=Je(kh(D/v));V<D;)te[K++]=Bo(d,V,V+=v);return te},H.compact=function(d){for(var v=-1,k=d==null?0:d.length,D=0,V=[];++v<k;){var K=d[v];K&&(V[D++]=K)}return V},H.concat=function(){var d=arguments.length;if(!d)return[];for(var v=Je(d-1),k=arguments[0],D=d;D--;)v[D-1]=arguments[D];return la(ft(k)?Bi(k):[k],ei(v,1))},H.cond=function(d){var v=d==null?0:d.length,k=Rt();return d=v?ar(d,function(D){if(typeof D[1]!="function")throw new Qi(p);return[k(D[0]),D[1]]}):[],mn(function(D){for(var V=-1;++V<v;){var K=d[V];if(Fi(K[0],this,D))return Fi(K[1],this,D)}})},H.conforms=function(d){return function(v){var k=vt(v);return function(D){return r0(D,v,k)}}(bo(d,1))},H.constant=Vi,H.countBy=ms,H.create=function(d,v){var k=Dc(d);return v==null?k:Hm(k,v)},H.curry=function d(v,k,D){var V=va(v,8,h,h,h,h,h,k=D?h:k);return V.placeholder=d.placeholder,V},H.curryRight=function d(v,k,D){var V=va(v,x,h,h,h,h,h,k=D?h:k);return V.placeholder=d.placeholder,V},H.debounce=ef,H.defaults=Tt,H.defaultsDeep=Yt,H.defer=Ng,H.delay=Bw,H.difference=Iw,H.differenceBy=Aw,H.differenceWith=Yd,H.drop=function(d,v,k){var D=d==null?0:d.length;return D?Bo(d,(v=k||v===h?1:W(v))<0?0:v,D):[]},H.dropRight=function(d,v,k){var D=d==null?0:d.length;return D?Bo(d,0,(v=D-(v=k||v===h?1:W(v)))<0?0:v):[]},H.dropRightWhile=function(d,v){return d&&d.length?Uh(d,Rt(v,3),!0,!0):[]},H.dropWhile=function(d,v){return d&&d.length?Uh(d,Rt(v,3),!0):[]},H.fill=function(d,v,k,D){var V=d==null?0:d.length;return V?(k&&typeof k!="number"&&Ci(d,v,k)&&(k=0,D=V),function(K,te,se,he){var Pe=K.length;for((se=W(se))<0&&(se=-se>Pe?0:Pe+se),(he=he===h||he>Pe?Pe:W(he))<0&&(he+=Pe),he=se>he?0:ie(he);se<he;)K[se++]=te;return K}(d,v,k,D)):[]},H.filter=function(d,v){return(ft(d)?Va:o0)(d,Rt(v,3))},H.flatMap=function(d,v){return ei(ci(d,v),1)},H.flatMapDeep=function(d,v){return ei(ci(d,v),C)},H.flatMapDepth=function(d,v,k){return k=k===h?1:W(k),ei(ci(d,v),k)},H.flatten=ni,H.flattenDeep=function(d){return d!=null&&d.length?ei(d,C):[]},H.flattenDepth=function(d,v){return d!=null&&d.length?ei(d,v=v===h?1:W(v)):[]},H.flip=function(d){return va(d,512)},H.flow=to,H.flowRight=wo,H.fromPairs=function(d){for(var v=-1,k=d==null?0:d.length,D={};++v<k;){var V=d[v];D[V[0]]=V[1]}return D},H.functions=function(d){return d==null?[]:Mh(d,vt(d))},H.functionsIn=function(d){return d==null?[]:Mh(d,yt(d))},H.groupBy=Tg,H.initial=function(d){return d!=null&&d.length?Bo(d,0,-1):[]},H.intersection=jw,H.intersectionBy=Xd,H.intersectionWith=Kh,H.invert=Nt,H.invertBy=tn,H.invokeMap=ba,H.iteratee=li,H.keyBy=Or,H.keys=vt,H.keysIn=yt,H.map=ci,H.mapKeys=function(d,v){var k={};return v=Rt(v,3),xo(d,function(D,V,K){Bs(k,v(D,V,K),D)}),k},H.mapValues=function(d,v){var k={};return v=Rt(v,3),xo(d,function(D,V,K){Bs(k,V,v(D,V,K))}),k},H.matches=function(d){return a0(bo(d,1))},H.matchesProperty=function(d,v){return Xm(d,bo(v,1))},H.memoize=tf,H.merge=cn,H.mergeWith=It,H.method=Vs,H.methodOf=Sa,H.mixin=Eo,H.negate=Jh,H.nthArg=function(d){return d=W(d),mn(function(v){return ds(v,d)})},H.omit=At,H.omitBy=function(d,v){return Pn(d,Jh(Rt(v)))},H.once=function(d){return kg(2,d)},H.orderBy=function(d,v,k,D){return d==null?[]:(ft(v)||(v=v==null?[]:[v]),ft(k=D?h:k)||(k=k==null?[]:[k]),Jm(d,v,k))},H.over=_a,H.overArgs=Oi,H.overEvery=zs,H.overSome=Ws,H.partial=nf,H.partialRight=xa,H.partition=Uw,H.pick=dn,H.pickBy=Pn,H.property=Hs,H.propertyOf=function(d){return function(v){return d==null?h:Ya(d,v)}},H.pull=ki,H.pullAll=$c,H.pullAllBy=function(d,v,k){return d&&d.length&&v&&v.length?eg(d,v,Rt(k,2)):d},H.pullAllWith=function(d,v,k){return d&&d.length&&v&&v.length?eg(d,v,h,k):d},H.pullAt=_g,H.range=Gs,H.rangeRight=qs,H.rearg=$w,H.reject=function(d,v){return(ft(d)?Va:o0)(d,Jh(Rt(v,3)))},H.remove=function(d,v){var k=[];if(!d||!d.length)return k;var D=-1,V=[],K=d.length;for(v=Rt(v,3);++D<K;){var te=d[D];v(te,D,d)&&(k.push(te),V.push(D))}return c0(d,V),k},H.rest=function(d,v){if(typeof d!="function")throw new Qi(p);return mn(d,v=v===h?v:W(v))},H.reverse=wg,H.sampleSize=function(d,v,k){return v=(k?Ci(d,v,k):v===h)?1:W(v),(ft(d)?e0:Ow)(d,v)},H.set=function(d,v,k){return d==null?d:Ud(d,v,k)},H.setWith=function(d,v,k,D){return D=typeof D=="function"?D:h,d==null?d:Ud(d,v,k,D)},H.shuffle=function(d){return(ft(d)?t0:Pw)(d)},H.slice=function(d,v,k){var D=d==null?0:d.length;return D?(k&&typeof k!="number"&&Ci(d,v,k)?(v=0,k=D):(v=v==null?0:W(v),k=k===h?D:W(k)),Bo(d,v,k)):[]},H.sortBy=k0,H.sortedUniq=function(d){return d&&d.length?Bd(d):[]},H.sortedUniqBy=function(d,v){return d&&d.length?Bd(d,Rt(v,2)):[]},H.split=function(d,v,k){return k&&typeof k!="number"&&Ci(d,v,k)&&(v=k=h),(k=k===h?U:k>>>0)?(d=le(d))&&(typeof v=="string"||v!=null&&!b(v))&&!(v=wi(v))&&os(d)?Za(Fo(d),0,k):d.split(v,k):[]},H.spread=function(d,v){if(typeof d!="function")throw new Qi(p);return v=v==null?0:gr(W(v),0),mn(function(k){var D=k[v],V=Za(k,0,v);return D&&la(V,D),Fi(d,this,V)})},H.tail=function(d){var v=d==null?0:d.length;return v?Bo(d,1,v):[]},H.take=function(d,v,k){return d&&d.length?Bo(d,0,(v=k||v===h?1:W(v))<0?0:v):[]},H.takeRight=function(d,v,k){var D=d==null?0:d.length;return D?Bo(d,(v=D-(v=k||v===h?1:W(v)))<0?0:v,D):[]},H.takeRightWhile=function(d,v){return d&&d.length?Uh(d,Rt(v,3),!1,!0):[]},H.takeWhile=function(d,v){return d&&d.length?Uh(d,Rt(v,3)):[]},H.tap=function(d,v){return v(d),d},H.throttle=function(d,v,k){var D=!0,V=!0;if(typeof d!="function")throw new Qi(p);return qn(k)&&(D="leading"in k?!!k.leading:D,V="trailing"in k?!!k.trailing:V),ef(d,v,{leading:D,maxWait:v,trailing:V})},H.thru=Qh,H.toArray=F,H.toPairs=$n,H.toPairsIn=ir,H.toPath=function(d){return ft(d)?ar(d,hs):N(d)?[d]:Bi(eu(le(d)))},H.toPlainObject=ge,H.transform=function(d,v,k){var D=ft(d),V=D||An(d)||M(d);if(v=Rt(v,4),k==null){var K=d&&d.constructor;k=V?D?new K:[]:qn(d)&&_o(K)?Dc(Pd(d)):{}}return(V?ho:xo)(d,function(te,se,he){return v(k,te,se,he)}),k},H.unary=function(d){return Rg(d,1)},H.union=ya,H.unionBy=On,H.unionWith=Dw,H.uniq=function(d){return d&&d.length?Xa(d):[]},H.uniqBy=function(d,v){return d&&d.length?Xa(d,Rt(v,2)):[]},H.uniqWith=function(d,v){return v=typeof v=="function"?v:h,d&&d.length?Xa(d,h,v):[]},H.unset=function(d,v){return d==null||rg(d,v)},H.unzip=Eg,H.unzipWith=T0,H.update=function(d,v,k){return d==null?d:$d(d,v,Vd(k))},H.updateWith=function(d,v,k,D){return D=typeof D=="function"?D:h,d==null?d:$d(d,v,Vd(k),D)},H.values=jn,H.valuesIn=function(d){return d==null?[]:Ml(d,yt(d))},H.without=Mw,H.words=Pi,H.wrap=function(d,v){return nf(Vd(v),d)},H.xor=Yh,H.xorBy=Jd,H.xorWith=Zd,H.zip=Lw,H.zipObject=function(d,v){return d0(d||[],v||[],zl)},H.zipObjectDeep=function(d,v){return d0(d||[],v||[],Ud)},H.zipWith=Fw,H.entries=$n,H.entriesIn=ir,H.extend=oe,H.extendWith=we,Eo(H,H),H.add=ru,H.attempt=Ni,H.camelCase=vr,H.capitalize=lr,H.ceil=iu,H.clamp=function(d,v,k){return k===h&&(k=v,v=h),k!==h&&(k=(k=be(k))==k?k:0),v!==h&&(v=(v=be(v))==v?v:0),Mc(be(d),v,k)},H.clone=function(d){return bo(d,4)},H.cloneDeep=function(d){return bo(d,5)},H.cloneDeepWith=function(d,v){return bo(d,5,v=typeof v=="function"?v:h)},H.cloneWith=function(d,v){return bo(d,4,v=typeof v=="function"?v:h)},H.conformsTo=function(d,v){return v==null||r0(d,v,vt(v))},H.deburr=ur,H.defaultTo=function(d,v){return d==null||d!=d?v:d},H.divide=ou,H.endsWith=function(d,v,k){d=le(d),v=wi(v);var D=d.length,V=k=k===h?D:Mc(W(k),0,D);return(k-=v.length)>=0&&d.slice(k,V)==v},H.eq=vs,H.escape=function(d){return(d=le(d))&&Qe.test(d)?d.replace(pe,Lm):d},H.escapeRegExp=function(d){return(d=le(d))&&Qr.test(d)?d.replace(Sn,"\\$&"):d},H.every=function(d,v,k){var D=ft(d)?Nc:i0;return k&&Ci(d,v,k)&&(v=h),D(d,Rt(v,3))},H.find=tu,H.findIndex=ti,H.findKey=function(d,v){return zy(d,Rt(v,3),xo)},H.findLast=nu,H.findLastIndex=Qd,H.findLastKey=function(d,v){return zy(d,Rt(v,3),qm)},H.floor=rf,H.forEach=gs,H.forEachRight=Cg,H.forIn=function(d,v){return d==null?d:Dh(d,Rt(v,3),yt)},H.forInRight=function(d,v){return d==null?d:Gm(d,Rt(v,3),yt)},H.forOwn=function(d,v){return d&&xo(d,Rt(v,3))},H.forOwnRight=function(d,v){return d&&qm(d,Rt(v,3))},H.get=Qt,H.gt=O0,H.gte=P0,H.has=function(d,v){return d!=null&&Gh(d,v,_i)},H.hasIn=zt,H.head=$s,H.identity=mr,H.includes=function(d,v,k,D){d=Lr(d)?d:jn(d),k=k&&!D?W(k):0;var V=d.length;return k<0&&(k=gr(V+k,0)),O(d)?k<=V&&d.indexOf(v,k)>-1:!!V&&Dl(d,v,k)>-1},H.indexOf=function(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var V=k==null?0:W(k);return V<0&&(V=gr(D+V,0)),Dl(d,v,V)},H.inRange=function(d,v,k){return v=B(v),k===h?(k=v,v=0):k=B(k),function(D,V,K){return D>=Wr(V,K)&&D<gr(V,K)}(d=be(d),v,k)},H.invoke=un,H.isArguments=Vc,H.isArray=ft,H.isArrayBuffer=eo,H.isArrayLike=Lr,H.isArrayLikeObject=Fr,H.isBoolean=function(d){return d===!0||d===!1||Pr(d)&&Ui(d)==X},H.isBuffer=An,H.isDate=N0,H.isElement=function(d){return Pr(d)&&d.nodeType===1&&!g(d)},H.isEmpty=function(d){if(d==null)return!0;if(Lr(d)&&(ft(d)||typeof d=="string"||typeof d.splice=="function"||An(d)||M(d)||Vc(d)))return!d.length;var v=Ei(d);if(v==xe||v==ne)return!d.size;if(Xl(d))return!Fc(d).length;for(var k in d)if(zn.call(d,k))return!1;return!0},H.isEqual=function(d,v){return us(d,v)},H.isEqualWith=function(d,v,k){var D=(k=typeof k=="function"?k:h)?k(d,v):h;return D===h?us(d,v,h,k):!!D},H.isError=Ig,H.isFinite=function(d){return typeof d=="number"&&Ga(d)},H.isFunction=_o,H.isInteger=Ag,H.isLength=Zh,H.isMap=S,H.isMatch=function(d,v){return d===v||Lh(d,v,pg(v))},H.isMatchWith=function(d,v,k){return k=typeof k=="function"?k:h,Lh(d,v,pg(v),k)},H.isNaN=function(d){return f(d)&&d!=+d},H.isNative=function(d){if(Ti(d))throw new Vt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Qa(d)},H.isNil=function(d){return d==null},H.isNull=function(d){return d===null},H.isNumber=f,H.isObject=qn,H.isObjectLike=Pr,H.isPlainObject=g,H.isRegExp=b,H.isSafeInteger=function(d){return Ag(d)&&d>=-9007199254740991&&d<=I},H.isSet=T,H.isString=O,H.isSymbol=N,H.isTypedArray=M,H.isUndefined=function(d){return d===h},H.isWeakMap=function(d){return Pr(d)&&Ei(d)==He},H.isWeakSet=function(d){return Pr(d)&&Ui(d)=="[object WeakSet]"},H.join=function(d,v){return d==null?"":Zy.call(d,v)},H.kebabCase=dr,H.last=Zn,H.lastIndexOf=function(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var V=D;return k!==h&&(V=(V=W(k))<0?gr(D+V,0):Wr(V,D-1)),v==v?function(K,te,se){for(var he=se+1;he--;)if(K[he]===te)return he;return he}(d,v,V):_h(d,Wy,V,!0)},H.lowerCase=fr,H.lowerFirst=hr,H.lt=L,H.lte=A,H.max=function(d){return d&&d.length?Md(d,mr,fa):h},H.maxBy=function(d,v){return d&&d.length?Md(d,Rt(v,2),fa):h},H.mean=function(d){return Hy(d,mr)},H.meanBy=function(d,v){return Hy(d,Rt(v,2))},H.min=function(d){return d&&d.length?Md(d,mr,Qm):h},H.minBy=function(d,v){return d&&d.length?Md(d,Rt(v,2),Qm):h},H.stubArray=zo,H.stubFalse=nc,H.stubObject=function(){return{}},H.stubString=function(){return""},H.stubTrue=function(){return!0},H.multiply=of,H.nth=function(d,v){return d&&d.length?ds(d,W(v)):h},H.noConflict=function(){return Xr._===this&&(Xr._=Xy),this},H.noop=Vo,H.now=Xh,H.pad=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;if(!v||D>=v)return d;var V=(v-D)/2;return zh(yo(V),k)+d+zh(kh(V),k)},H.padEnd=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;return v&&D<v?d+zh(v-D,k):d},H.padStart=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;return v&&D<v?zh(v-D,k)+d:d},H.parseInt=function(d,v,k){return k||v==null?v=0:v&&(v=+v),Id(le(d).replace(fi,""),v||0)},H.random=function(d,v,k){if(k&&typeof k!="boolean"&&Ci(d,v,k)&&(v=k=h),k===h&&(typeof v=="boolean"?(k=v,v=h):typeof d=="boolean"&&(k=d,d=h)),d===h&&v===h?(d=0,v=1):(d=B(d),v===h?(v=d,d=0):v=B(v)),d>v){var D=d;d=v,v=D}if(k||d%1||v%1){var V=Ad();return Wr(d+V*(v-d+Pm("1e-"+((V+"").length-1))),v)}return tg(d,v)},H.reduce=function(d,v,k){var D=ft(d)?Sh:Gy,V=arguments.length<3;return D(d,Rt(v,4),k,V,ls)},H.reduceRight=function(d,v,k){var D=ft(d)?gw:Gy,V=arguments.length<3;return D(d,Rt(v,4),k,V,Zr)},H.repeat=function(d,v,k){return v=(k?Ci(d,v,k):v===h)?1:W(v),ng(le(d),v)},H.replace=function(){var d=arguments,v=le(d[0]);return d.length<3?v:v.replace(d[1],d[2])},H.result=function(d,v,k){var D=-1,V=(v=Ja(v,d)).length;for(V||(V=1,d=h);++D<V;){var K=d==null?h:d[hs(v[D])];K===h&&(D=V,K=k),d=_o(K)?K.call(d):K}return d},H.round=sf,H.runInContext=ye,H.sample=function(d){return(ft(d)?Dd:kw)(d)},H.size=function(d){if(d==null)return 0;if(Lr(d))return O(d)?vo(d):d.length;var v=Ei(d);return v==xe||v==ne?d.size:Fc(d).length},H.snakeCase=Ur,H.some=function(d,v,k){var D=ft(d)?jm:Kl;return k&&Ci(d,v,k)&&(v=h),D(d,Rt(v,3))},H.sortedIndex=function(d,v){return ha(d,v)},H.sortedIndexBy=function(d,v,k){return pa(d,v,Rt(k,2))},H.sortedIndexOf=function(d,v){var k=d==null?0:d.length;if(k){var D=ha(d,v);if(D<k&&vs(d[D],v))return D}return-1},H.sortedLastIndex=function(d,v){return ha(d,v,!0)},H.sortedLastIndexBy=function(d,v,k){return pa(d,v,Rt(k,2),!0)},H.sortedLastIndexOf=function(d,v){if(d!=null&&d.length){var k=ha(d,v,!0)-1;if(vs(d[k],v))return k}return-1},H.startCase=pr,H.startsWith=function(d,v,k){return d=le(d),k=k==null?0:Mc(W(k),0,d.length),v=wi(v),d.slice(k,k+v.length)==v},H.subtract=Wc,H.sum=function(d){return d&&d.length?Mm(d,mr):0},H.sumBy=function(d,v){return d&&d.length?Mm(d,Rt(v,2)):0},H.template=function(d,v,k){var D=H.templateSettings;k&&Ci(d,v,k)&&(v=h),d=le(d),v=we({},v,D,hg);var V,K,te=we({},v.imports,D.imports,hg),se=vt(te),he=Ml(te,se),Pe=0,ke=v.interpolate||Oe,Me="__p += '",at=Fm((v.escape||Oe).source+"|"+ke.source+"|"+(ke===Re?md:Oe).source+"|"+(v.evaluate||Oe).source+"|$","g"),rt="//# sourceURL="+(zn.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++km+"]")+`
`;d.replace(at,function(We,jt,Xe,fn,nn,Vn){return Xe||(Xe=fn),Me+=d.slice(Pe,Vn).replace($e,mo),jt&&(V=!0,Me+=`' +
__e(`+jt+`) +
'`),nn&&(K=!0,Me+=`';
`+nn+`;
__p += '`),Xe&&(Me+=`' +
((__t = (`+Xe+`)) == null ? '' : __t) +
'`),Pe=Vn+We.length,We}),Me+=`';
`;var kt=zn.call(v,"variable")&&v.variable;if(kt){if(Et.test(kt))throw new Vt("Invalid `variable` option passed into `_.template`")}else Me=`with (obj) {
`+Me+`
}
`;Me=(K?Me.replace(ut,""):Me).replace(Ar,"$1").replace(Mi,"$1;"),Me="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var Ne=Ni(function(){return Dr(se,rt+"return "+Me).apply(h,he)});if(Ne.source=Me,Ig(Ne))throw Ne;return Ne},H.times=function(d,v){if((d=W(d))<1||d>I)return[];var k=U,D=Wr(d,U);v=Rt(v),d-=U;for(var V=_r(D,v);++k<d;)v(k);return V},H.toFinite=B,H.toInteger=W,H.toLength=ie,H.toLower=function(d){return le(d).toLowerCase()},H.toNumber=be,H.toSafeInteger=function(d){return d?Mc(W(d),-9007199254740991,I):d===0?d:0},H.toString=le,H.toUpper=function(d){return le(d).toUpperCase()},H.trim=function(d,v,k){if((d=le(d))&&(k||v===h))return Cd(d);if(!d||!(v=wi(v)))return d;var D=Fo(d),V=Fo(v);return Za(D,Rd(D,V),qy(D,V)+1).join("")},H.trimEnd=function(d,v,k){if((d=le(d))&&(k||v===h))return d.slice(0,Ic(d)+1);if(!d||!(v=wi(v)))return d;var D=Fo(d);return Za(D,0,qy(D,Fo(v))+1).join("")},H.trimStart=function(d,v,k){if((d=le(d))&&(k||v===h))return d.replace(fi,"");if(!d||!(v=wi(v)))return d;var D=Fo(d);return Za(D,Rd(D,Fo(v))).join("")},H.truncate=function(d,v){var k=30,D="...";if(qn(v)){var V="separator"in v?v.separator:V;k="length"in v?W(v.length):k,D="omission"in v?wi(v.omission):D}var K=(d=le(d)).length;if(os(d)){var te=Fo(d);K=te.length}if(k>=K)return d;var se=k-vo(D);if(se<1)return D;var he=te?Za(te,0,se).join(""):d.slice(0,se);if(V===h)return he+D;if(te&&(se+=he.length-se),b(V)){if(d.slice(se).search(V)){var Pe,ke=he;for(V.global||(V=Fm(V.source,le(ca.exec(V))+"g")),V.lastIndex=0;Pe=V.exec(ke);)var Me=Pe.index;he=he.slice(0,Me===h?se:Me)}}else if(d.indexOf(wi(V),se)!=se){var at=he.lastIndexOf(V);at>-1&&(he=he.slice(0,at))}return he+D},H.unescape=function(d){return(d=le(d))&&Ce.test(d)?d.replace(Z,gt):d},H.uniqueId=function(d){var v=++Fl;return le(d)+v},H.upperCase=hi,H.upperFirst=Hr,H.each=gs,H.eachRight=Cg,H.first=$s,Eo(H,(zc={},xo(H,function(d,v){zn.call(H.prototype,v)||(zc[v]=d)}),zc),{chain:!1}),H.VERSION="4.17.21",ho(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){H[d].placeholder=H}),ho(["drop","take"],function(d,v){yn.prototype[d]=function(k){k=k===h?1:gr(W(k),0);var D=this.__filtered__&&!v?new yn(this):this.clone();return D.__filtered__?D.__takeCount__=Wr(k,D.__takeCount__):D.__views__.push({size:Wr(k,U),type:d+(D.__dir__<0?"Right":"")}),D},yn.prototype[d+"Right"]=function(k){return this.reverse()[d](k).reverse()}}),ho(["filter","map","takeWhile"],function(d,v){var k=v+1,D=k==1||k==3;yn.prototype[d]=function(V){var K=this.clone();return K.__iteratees__.push({iteratee:Rt(V,3),type:k}),K.__filtered__=K.__filtered__||D,K}}),ho(["head","last"],function(d,v){var k="take"+(v?"Right":"");yn.prototype[d]=function(){return this[k](1).value()[0]}}),ho(["initial","tail"],function(d,v){var k="drop"+(v?"":"Right");yn.prototype[d]=function(){return this.__filtered__?new yn(this):this[k](1)}}),yn.prototype.compact=function(){return this.filter(mr)},yn.prototype.find=function(d){return this.filter(d).head()},yn.prototype.findLast=function(d){return this.reverse().find(d)},yn.prototype.invokeMap=mn(function(d,v){return typeof d=="function"?new yn(this):this.map(function(k){return In(k,d,v)})}),yn.prototype.reject=function(d){return this.filter(Jh(Rt(d)))},yn.prototype.slice=function(d,v){d=W(d);var k=this;return k.__filtered__&&(d>0||v<0)?new yn(k):(d<0?k=k.takeRight(-d):d&&(k=k.drop(d)),v!==h&&(k=(v=W(v))<0?k.dropRight(-v):k.take(v-d)),k)},yn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},yn.prototype.toArray=function(){return this.take(U)},xo(yn.prototype,function(d,v){var k=/^(?:filter|find|map|reject)|While$/.test(v),D=/^(?:head|last)$/.test(v),V=H[D?"take"+(v=="last"?"Right":""):v],K=D||/^find/.test(v);V&&(H.prototype[v]=function(){var te=this.__wrapped__,se=D?[1]:arguments,he=te instanceof yn,Pe=se[0],ke=he||ft(te),Me=function(jt){var Xe=V.apply(H,la([jt],se));return D&&at?Xe[0]:Xe};ke&&k&&typeof Pe=="function"&&Pe.length!=1&&(he=ke=!1);var at=this.__chain__,rt=!!this.__actions__.length,kt=K&&!at,Ne=he&&!rt;if(!K&&ke){te=Ne?te:new yn(this);var We=d.apply(te,se);return We.__actions__.push({func:Qh,args:[Me],thisArg:h}),new Ji(We,at)}return kt&&Ne?d.apply(this,se):(We=this.thru(Me),kt?D?We.value()[0]:We.value():We)})}),ho(["pop","push","shift","sort","splice","unshift"],function(d){var v=za[d],k=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",D=/^(?:pop|shift)$/.test(d);H.prototype[d]=function(){var V=arguments;if(D&&!this.__chain__){var K=this.value();return v.apply(ft(K)?K:[],V)}return this[k](function(te){return v.apply(ft(te)?te:[],V)})}}),xo(yn.prototype,function(d,v){var k=H[v];if(k){var D=k.name+"";zn.call($l,D)||($l[D]=[]),$l[D].push({name:v,func:k})}}),$l[Wd(h,2).name]=[{name:"wrapper",func:h}],yn.prototype.clone=function(){var d=new yn(this.__wrapped__);return d.__actions__=Bi(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Bi(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Bi(this.__views__),d},yn.prototype.reverse=function(){if(this.__filtered__){var d=new yn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},yn.prototype.value=function(){var d=this.__wrapped__.value(),v=this.__dir__,k=ft(d),D=v<0,V=k?d.length:0,K=function(Vn,_t,Dt){for(var mi=-1,ri=Dt.length;++mi<ri;){var Co=Dt[mi],Er=Co.size;switch(Co.type){case"drop":Vn+=Er;break;case"dropRight":_t-=Er;break;case"take":_t=Wr(_t,Vn+Er);break;case"takeRight":Vn=gr(Vn,_t-Er)}}return{start:Vn,end:_t}}(0,V,this.__views__),te=K.start,se=K.end,he=se-te,Pe=D?se:te-1,ke=this.__iteratees__,Me=ke.length,at=0,rt=Wr(he,this.__takeCount__);if(!k||!D&&V==he&&rt==he)return u0(d,this.__actions__);var kt=[];e:for(;he--&&at<rt;){for(var Ne=-1,We=d[Pe+=v];++Ne<Me;){var jt=ke[Ne],Xe=jt.iteratee,fn=jt.type,nn=Xe(We);if(fn==2)We=nn;else if(!nn){if(fn==1)continue e;break e}}kt[at++]=We}return kt},H.prototype.at=ps,H.prototype.chain=function(){return R0(this)},H.prototype.commit=function(){return new Ji(this.value(),this.__chain__)},H.prototype.next=function(){this.__values__===h&&(this.__values__=F(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?h:this.__values__[this.__index__++]}},H.prototype.plant=function(d){for(var v,k=this;k instanceof Vl;){var D=C0(k);D.__index__=0,D.__values__=h,v?V.__wrapped__=D:v=D;var V=D;k=k.__wrapped__}return V.__wrapped__=d,v},H.prototype.reverse=function(){var d=this.__wrapped__;if(d instanceof yn){var v=d;return this.__actions__.length&&(v=new yn(this)),(v=v.reverse()).__actions__.push({func:Qh,args:[wg],thisArg:h}),new Ji(v,this.__chain__)}return this.thru(wg)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function(){return u0(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Bl&&(H.prototype[Bl]=function(){return this}),H}();Xr._=kd,(l=(function(){return kd}).call(a,c,a,s))===h||(s.exports=l)}).call(this)},5364:(s,a,c)=>{var l=c(5250),h=c(999)(function(p,m,E){l(p,m,E)});s.exports=h},9935:s=>{s.exports=function(){return!1}},9884:(s,a,c)=>{var l=c(1791),h=c(7241);s.exports=function(p){return l(p,h(p))}},5602:s=>{var a=s.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(c){return c.encoding?"rtpmap:%d %s/%s/%s":c.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(c){return c.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(c){return c.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(c){return"extmap:%d"+(c.direction?"/%s":"%v")+(c["encrypt-uri"]?" %s":"%v")+" %s"+(c.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(c){return c.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(c){var l="candidate:%s %d %s %d %s %d typ %s";return l+=c.raddr!=null?" raddr %s rport %d":"%v%v",l+=c.tcptype!=null?" tcptype %s":"%v",c.generation!=null&&(l+=" generation %d"),l+=c["network-id"]!=null?" network-id %d":"%v",l+=c["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(c){var l="ssrc:%d";return c.attribute!=null&&(l+=" %s",c.value!=null&&(l+=":%s")),l}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(c){return c.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(c){return c.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(c){return"imageattr:%s %s %s"+(c.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(c){return"simulcast:%s %s"+(c.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(c){return"ts-refclk:%s"+(c.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(c){var l="mediaclk:";return l+=c.id!=null?"id=%s %s":"%v%s",l+=c.mediaClockValue!=null?"=%s":"",l+=c.rateNumerator!=null?" rate=%s":"",l+=c.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(a).forEach(function(c){a[c].forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})})},7363:(s,a,c)=>{var l=c(5020),h=c(3804);a.M9=h,a.qg=l.parse,a.Sl=l.parseParams,l.parseFmtpConfig,l.parsePayloads,l.parseRemoteCandidates,l.parseImageAttributes,l.parseSimulcastStreamList},5020:(s,a,c)=>{var l=function(x){return String(Number(x))===x?Number(x):x},h=function(x,y,w){var R=x.name&&x.names;x.push&&!y[x.push]?y[x.push]=[]:R&&!y[x.name]&&(y[x.name]={});var _=x.push?{}:R?y[x.name]:y;(function(C,I,j,U){if(U&&!j)I[U]=l(C[1]);else for(var $=0;$<j.length;$+=1)C[$+1]!=null&&(I[j[$]]=l(C[$+1]))})(w.match(x.reg),_,x.names,x.name),x.push&&y[x.push].push(_)},p=c(5602),m=RegExp.prototype.test.bind(/^([a-z])=(.*)/);a.parse=function(x){var y={},w=[],R=y;return x.split(/(\r\n|\r|\n)/).filter(m).forEach(function(_){var C=_[0],I=_.slice(2);C==="m"&&(w.push({rtp:[],fmtp:[]}),R=w[w.length-1]);for(var j=0;j<(p[C]||[]).length;j+=1){var U=p[C][j];if(U.reg.test(I))return h(U,R,I)}}),y.media=w,y};var E=function(x,y){var w=y.split(/=(.+)/,2);return w.length===2?x[w[0]]=l(w[1]):w.length===1&&y.length>1&&(x[w[0]]=void 0),x};a.parseParams=function(x){return x.split(/;\s?/).reduce(E,{})},a.parseFmtpConfig=a.parseParams,a.parsePayloads=function(x){return x.toString().split(" ").map(Number)},a.parseRemoteCandidates=function(x){for(var y=[],w=x.split(" ").map(l),R=0;R<w.length;R+=3)y.push({component:w[R],ip:w[R+1],port:w[R+2]});return y},a.parseImageAttributes=function(x){return x.split(" ").map(function(y){return y.substring(1,y.length-1).split(",").reduce(E,{})})},a.parseSimulcastStreamList=function(x){return x.split(";").map(function(y){return y.split(",").map(function(w){var R,_=!1;return w[0]!=="~"?R=l(w):(R=l(w.substring(1,w.length)),_=!0),{scid:R,paused:_}})})}},3804:(s,a,c)=>{var l=c(5602),h=/%[sdv%]/g,p=function(y){var w=1,R=arguments,_=R.length;return y.replace(h,function(C){if(w>=_)return C;var I=R[w];switch(w+=1,C){case"%%":return"%";case"%s":return String(I);case"%d":return Number(I);case"%v":return""}})},m=function(y,w,R){var _=[y+"="+(w.format instanceof Function?w.format(w.push?R:R[w.name]):w.format)];if(w.names)for(var C=0;C<w.names.length;C+=1){var I=w.names[C];w.name?_.push(R[w.name][I]):_.push(R[w.names[C]])}else _.push(R[w.name]);return p.apply(null,_)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],x=["i","c","b","a"];s.exports=function(y,w){w=w||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(I){I.payloads==null&&(I.payloads="")});var R=w.outerOrder||E,_=w.innerOrder||x,C=[];return R.forEach(function(I){l[I].forEach(function(j){j.name in y&&y[j.name]!=null?C.push(m(I,j,y)):j.push in y&&y[j.push]!=null&&y[j.push].forEach(function(U){C.push(m(I,j,U))})})}),y.media.forEach(function(I){C.push(m("m",l.m[0],I)),_.forEach(function(j){l[j].forEach(function(U){U.name in I&&I[U.name]!=null?C.push(m(j,U,I)):U.push in I&&I[U.push]!=null&&I[U.push].forEach(function($){C.push(m(j,U,$))})})})}),C.join(`\r
`)+`\r
`}},7963:s=>{const a={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};a.localCName=a.generateIdentifier(),a.splitLines=function(c){return c.trim().split(`
`).map(l=>l.trim())},a.splitSections=function(c){return c.split(`
m=`).map((l,h)=>(h>0?"m="+l:l).trim()+`\r
`)},a.getDescription=function(c){const l=a.splitSections(c);return l&&l[0]},a.getMediaSections=function(c){const l=a.splitSections(c);return l.shift(),l},a.matchPrefix=function(c,l){return a.splitLines(c).filter(h=>h.indexOf(l)===0)},a.parseCandidate=function(c){let l;l=c.indexOf("a=candidate:")===0?c.substring(12).split(" "):c.substring(10).split(" ");const h={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let p=8;p<l.length;p+=2)switch(l[p]){case"raddr":h.relatedAddress=l[p+1];break;case"rport":h.relatedPort=parseInt(l[p+1],10);break;case"tcptype":h.tcpType=l[p+1];break;case"ufrag":h.ufrag=l[p+1],h.usernameFragment=l[p+1];break;default:h[l[p]]===void 0&&(h[l[p]]=l[p+1])}return h},a.writeCandidate=function(c){const l=[];l.push(c.foundation);const h=c.component;h==="rtp"?l.push(1):h==="rtcp"?l.push(2):l.push(h),l.push(c.protocol.toUpperCase()),l.push(c.priority),l.push(c.address||c.ip),l.push(c.port);const p=c.type;return l.push("typ"),l.push(p),p!=="host"&&c.relatedAddress&&c.relatedPort&&(l.push("raddr"),l.push(c.relatedAddress),l.push("rport"),l.push(c.relatedPort)),c.tcpType&&c.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(c.tcpType)),(c.usernameFragment||c.ufrag)&&(l.push("ufrag"),l.push(c.usernameFragment||c.ufrag)),"candidate:"+l.join(" ")},a.parseIceOptions=function(c){return c.substring(14).split(" ")},a.parseRtpMap=function(c){let l=c.substring(9).split(" ");const h={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),h.name=l[0],h.clockRate=parseInt(l[1],10),h.channels=l.length===3?parseInt(l[2],10):1,h.numChannels=h.channels,h},a.writeRtpMap=function(c){let l=c.payloadType;c.preferredPayloadType!==void 0&&(l=c.preferredPayloadType);const h=c.channels||c.numChannels||1;return"a=rtpmap:"+l+" "+c.name+"/"+c.clockRate+(h!==1?"/"+h:"")+`\r
`},a.parseExtmap=function(c){const l=c.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},a.writeExtmap=function(c){return"a=extmap:"+(c.id||c.preferredId)+(c.direction&&c.direction!=="sendrecv"?"/"+c.direction:"")+" "+c.uri+(c.attributes?" "+c.attributes:"")+`\r
`},a.parseFmtp=function(c){const l={};let h;const p=c.substring(c.indexOf(" ")+1).split(";");for(let m=0;m<p.length;m++)h=p[m].trim().split("="),l[h[0].trim()]=h[1];return l},a.writeFmtp=function(c){let l="",h=c.payloadType;if(c.preferredPayloadType!==void 0&&(h=c.preferredPayloadType),c.parameters&&Object.keys(c.parameters).length){const p=[];Object.keys(c.parameters).forEach(m=>{c.parameters[m]!==void 0?p.push(m+"="+c.parameters[m]):p.push(m)}),l+="a=fmtp:"+h+" "+p.join(";")+`\r
`}return l},a.parseRtcpFb=function(c){const l=c.substring(c.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},a.writeRtcpFb=function(c){let l="",h=c.payloadType;return c.preferredPayloadType!==void 0&&(h=c.preferredPayloadType),c.rtcpFeedback&&c.rtcpFeedback.length&&c.rtcpFeedback.forEach(p=>{l+="a=rtcp-fb:"+h+" "+p.type+(p.parameter&&p.parameter.length?" "+p.parameter:"")+`\r
`}),l},a.parseSsrcMedia=function(c){const l=c.indexOf(" "),h={ssrc:parseInt(c.substring(7,l),10)},p=c.indexOf(":",l);return p>-1?(h.attribute=c.substring(l+1,p),h.value=c.substring(p+1)):h.attribute=c.substring(l+1),h},a.parseSsrcGroup=function(c){const l=c.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(h=>parseInt(h,10))}},a.getMid=function(c){const l=a.matchPrefix(c,"a=mid:")[0];if(l)return l.substring(6)},a.parseFingerprint=function(c){const l=c.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},a.getDtlsParameters=function(c,l){return{role:"auto",fingerprints:a.matchPrefix(c+l,"a=fingerprint:").map(a.parseFingerprint)}},a.writeDtlsParameters=function(c,l){let h="a=setup:"+l+`\r
`;return c.fingerprints.forEach(p=>{h+="a=fingerprint:"+p.algorithm+" "+p.value+`\r
`}),h},a.parseCryptoLine=function(c){const l=c.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},a.writeCryptoLine=function(c){return"a=crypto:"+c.tag+" "+c.cryptoSuite+" "+(typeof c.keyParams=="object"?a.writeCryptoKeyParams(c.keyParams):c.keyParams)+(c.sessionParams?" "+c.sessionParams.join(" "):"")+`\r
`},a.parseCryptoKeyParams=function(c){if(c.indexOf("inline:")!==0)return null;const l=c.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},a.writeCryptoKeyParams=function(c){return c.keyMethod+":"+c.keySalt+(c.lifeTime?"|"+c.lifeTime:"")+(c.mkiValue&&c.mkiLength?"|"+c.mkiValue+":"+c.mkiLength:"")},a.getCryptoParameters=function(c,l){return a.matchPrefix(c+l,"a=crypto:").map(a.parseCryptoLine)},a.getIceParameters=function(c,l){const h=a.matchPrefix(c+l,"a=ice-ufrag:")[0],p=a.matchPrefix(c+l,"a=ice-pwd:")[0];return h&&p?{usernameFragment:h.substring(12),password:p.substring(10)}:null},a.writeIceParameters=function(c){let l="a=ice-ufrag:"+c.usernameFragment+`\r
a=ice-pwd:`+c.password+`\r
`;return c.iceLite&&(l+=`a=ice-lite\r
`),l},a.parseRtpParameters=function(c){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},h=a.splitLines(c)[0].split(" ");l.profile=h[2];for(let m=3;m<h.length;m++){const E=h[m],x=a.matchPrefix(c,"a=rtpmap:"+E+" ")[0];if(x){const y=a.parseRtpMap(x),w=a.matchPrefix(c,"a=fmtp:"+E+" ");switch(y.parameters=w.length?a.parseFmtp(w[0]):{},y.rtcpFeedback=a.matchPrefix(c,"a=rtcp-fb:"+E+" ").map(a.parseRtcpFb),l.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(y.name.toUpperCase())}}}a.matchPrefix(c,"a=extmap:").forEach(m=>{l.headerExtensions.push(a.parseExtmap(m))});const p=a.matchPrefix(c,"a=rtcp-fb:* ").map(a.parseRtcpFb);return l.codecs.forEach(m=>{p.forEach(E=>{m.rtcpFeedback.find(x=>x.type===E.type&&x.parameter===E.parameter)||m.rtcpFeedback.push(E)})}),l},a.writeRtpDescription=function(c,l){let h="";h+="m="+c+" ",h+=l.codecs.length>0?"9":"0",h+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",h+=l.codecs.map(m=>m.preferredPayloadType!==void 0?m.preferredPayloadType:m.payloadType).join(" ")+`\r
`,h+=`c=IN IP4 0.0.0.0\r
`,h+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(m=>{h+=a.writeRtpMap(m),h+=a.writeFmtp(m),h+=a.writeRtcpFb(m)});let p=0;return l.codecs.forEach(m=>{m.maxptime>p&&(p=m.maxptime)}),p>0&&(h+="a=maxptime:"+p+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(m=>{h+=a.writeExtmap(m)}),h},a.parseRtpEncodingParameters=function(c){const l=[],h=a.parseRtpParameters(c),p=h.fecMechanisms.indexOf("RED")!==-1,m=h.fecMechanisms.indexOf("ULPFEC")!==-1,E=a.matchPrefix(c,"a=ssrc:").map(_=>a.parseSsrcMedia(_)).filter(_=>_.attribute==="cname"),x=E.length>0&&E[0].ssrc;let y;const w=a.matchPrefix(c,"a=ssrc-group:FID").map(_=>_.substring(17).split(" ").map(C=>parseInt(C,10)));w.length>0&&w[0].length>1&&w[0][0]===x&&(y=w[0][1]),h.codecs.forEach(_=>{if(_.name.toUpperCase()==="RTX"&&_.parameters.apt){let C={ssrc:x,codecPayloadType:parseInt(_.parameters.apt,10)};x&&y&&(C.rtx={ssrc:y}),l.push(C),p&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:x,mechanism:m?"red+ulpfec":"red"},l.push(C))}}),l.length===0&&x&&l.push({ssrc:x});let R=a.matchPrefix(c,"b=");return R.length&&(R=R[0].indexOf("b=TIAS:")===0?parseInt(R[0].substring(7),10):R[0].indexOf("b=AS:")===0?1e3*parseInt(R[0].substring(5),10)*.95-16e3:void 0,l.forEach(_=>{_.maxBitrate=R})),l},a.parseRtcpParameters=function(c){const l={},h=a.matchPrefix(c,"a=ssrc:").map(E=>a.parseSsrcMedia(E)).filter(E=>E.attribute==="cname")[0];h&&(l.cname=h.value,l.ssrc=h.ssrc);const p=a.matchPrefix(c,"a=rtcp-rsize");l.reducedSize=p.length>0,l.compound=p.length===0;const m=a.matchPrefix(c,"a=rtcp-mux");return l.mux=m.length>0,l},a.writeRtcpParameters=function(c){let l="";return c.reducedSize&&(l+=`a=rtcp-rsize\r
`),c.mux&&(l+=`a=rtcp-mux\r
`),c.ssrc!==void 0&&c.cname&&(l+="a=ssrc:"+c.ssrc+" cname:"+c.cname+`\r
`),l},a.parseMsid=function(c){let l;const h=a.matchPrefix(c,"a=msid:");if(h.length===1)return l=h[0].substring(7).split(" "),{stream:l[0],track:l[1]};const p=a.matchPrefix(c,"a=ssrc:").map(m=>a.parseSsrcMedia(m)).filter(m=>m.attribute==="msid");return p.length>0?(l=p[0].value.split(" "),{stream:l[0],track:l[1]}):void 0},a.parseSctpDescription=function(c){const l=a.parseMLine(c),h=a.matchPrefix(c,"a=max-message-size:");let p;h.length>0&&(p=parseInt(h[0].substring(19),10)),isNaN(p)&&(p=65536);const m=a.matchPrefix(c,"a=sctp-port:");if(m.length>0)return{port:parseInt(m[0].substring(12),10),protocol:l.fmt,maxMessageSize:p};const E=a.matchPrefix(c,"a=sctpmap:");if(E.length>0){const x=E[0].substring(10).split(" ");return{port:parseInt(x[0],10),protocol:x[1],maxMessageSize:p}}},a.writeSctpDescription=function(c,l){let h=[];return h=c.protocol!=="DTLS/SCTP"?["m="+c.kind+" 9 "+c.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:["m="+c.kind+" 9 "+c.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&h.push("a=max-message-size:"+l.maxMessageSize+`\r
`),h.join("")},a.generateSessionId=function(){return Math.random().toString().substr(2,22)},a.writeSessionBoilerplate=function(c,l,h){let p;const m=l!==void 0?l:2;return p=c||a.generateSessionId(),`v=0\r
o=`+(h||"thisisadapterortc")+" "+p+" "+m+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},a.getDirection=function(c,l){const h=a.splitLines(c);for(let p=0;p<h.length;p++)switch(h[p]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return h[p].substring(2)}return l?a.getDirection(l):"sendrecv"},a.getKind=function(c){return a.splitLines(c)[0].split(" ")[0].substring(2)},a.isRejected=function(c){return c.split(" ",2)[1]==="0"},a.parseMLine=function(c){const l=a.splitLines(c)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},a.parseOLine=function(c){const l=a.matchPrefix(c,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},a.isValidSDP=function(c){if(typeof c!="string"||c.length===0)return!1;const l=a.splitLines(c);for(let h=0;h<l.length;h++)if(l[h].length<2||l[h].charAt(1)!=="=")return!1;return!0},s.exports=a},5512:s=>{s.exports=function(a,c,l,h){var p=self||window;try{try{var m;try{m=new p.Blob([a])}catch{(m=new(p.BlobBuilder||p.WebKitBlobBuilder||p.MozBlobBuilder||p.MSBlobBuilder)).append(a),m=m.getBlob()}var E=p.URL||p.webkitURL,x=E.createObjectURL(m),y=new p[c](x,l);return E.revokeObjectURL(x),y}catch{return new p[c]("data:application/javascript,".concat(encodeURIComponent(a)),l)}}catch{if(!h)throw Error("Inline worker is not supported");return new p[c](h,l)}}},8630:(s,a,c)=>{var l;(function(h){(function(){var p=typeof globalThis=="object"?globalThis:typeof c.g=="object"?c.g:typeof self=="object"?self:typeof this=="object"?this:function(){try{return Function("return this;")()}catch{}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch{}}(),m=E(h);function E(x,y){return function(w,R){Object.defineProperty(x,w,{configurable:!0,writable:!0,value:R}),y&&y(w,R)}}p.Reflect!==void 0&&(m=E(p.Reflect,m)),function(x,y){var w=Object.prototype.hasOwnProperty,R=typeof Symbol=="function",_=R&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",C=R&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",I=typeof Object.create=="function",j={__proto__:[]}instanceof Array,U=!I&&!j,$={create:I?function(){return Pc(Object.create(null))}:j?function(){return Pc({__proto__:null})}:function(){return Pc({})},has:U?function(ue,_e){return w.call(ue,_e)}:function(ue,_e){return _e in ue},get:U?function(ue,_e){return w.call(ue,_e)?ue[_e]:void 0}:function(ue,_e){return ue[_e]}},z=Object.getPrototypeOf(Function),q=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Rl(),X=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:kl(),J=typeof WeakMap=="function"?WeakMap:gd(),G=R?Symbol.for("@reflect-metadata:registry"):void 0,ee=Et(),ce=dh(ee);function xe(ue,_e,Oe,$e){if(ut(Oe)){if(!Re(ue))throw new TypeError;if(!nt(_e))throw new TypeError;return bt(ue,_e)}if(!Re(ue))throw new TypeError;if(!Z(_e))throw new TypeError;if(!Z($e)&&!ut($e)&&!Ar($e))throw new TypeError;return Ar($e)&&($e=void 0),Gt(ue,_e,Oe=de(Oe),$e)}function Se(ue,_e){function Oe($e,Zt){if(!Z($e))throw new TypeError;if(!ut(Zt)&&!St(Zt))throw new TypeError;Bt(ue,_e,$e,Zt)}return Oe}function ve(ue,_e,Oe,$e){if(!Z(Oe))throw new TypeError;return ut($e)||($e=de($e)),Bt(ue,_e,Oe,$e)}function Y(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Ye(ue,_e,Oe)}function Q(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),lt(ue,_e,Oe)}function ne(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Ut(ue,_e,Oe)}function fe(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Jt(ue,_e,Oe)}function Te(ue,_e){if(!Z(ue))throw new TypeError;return ut(_e)||(_e=de(_e)),qt(ue,_e)}function He(ue,_e){if(!Z(ue))throw new TypeError;return ut(_e)||(_e=de(_e)),Un(ue,_e)}function Le(ue,_e,Oe){if(!Z(_e))throw new TypeError;if(ut(Oe)||(Oe=de(Oe)),!Z(_e))throw new TypeError;ut(Oe)||(Oe=de(Oe));var $e=ca(_e,Oe,!1);return!ut($e)&&$e.OrdinaryDeleteMetadata(ue,_e,Oe)}function bt(ue,_e){for(var Oe=ue.length-1;Oe>=0;--Oe){var $e=(0,ue[Oe])(_e);if(!ut($e)&&!Ar($e)){if(!nt($e))throw new TypeError;_e=$e}}return _e}function Gt(ue,_e,Oe,$e){for(var Zt=ue.length-1;Zt>=0;--Zt){var sr=(0,ue[Zt])(_e,Oe,$e);if(!ut(sr)&&!Ar(sr)){if(!Z(sr))throw new TypeError;$e=sr}}return $e}function Ye(ue,_e,Oe){if(lt(ue,_e,Oe))return!0;var $e=Ls(_e);return!Ar($e)&&Ye(ue,$e,Oe)}function lt(ue,_e,Oe){var $e=ca(_e,Oe,!1);return!ut($e)&&Qe($e.OrdinaryHasOwnMetadata(ue,_e,Oe))}function Ut(ue,_e,Oe){if(lt(ue,_e,Oe))return Jt(ue,_e,Oe);var $e=Ls(_e);return Ar($e)?void 0:Ut(ue,$e,Oe)}function Jt(ue,_e,Oe){var $e=ca(_e,Oe,!1);if(!ut($e))return $e.OrdinaryGetOwnMetadata(ue,_e,Oe)}function Bt(ue,_e,Oe,$e){ca(Oe,$e,!0).OrdinaryDefineOwnMetadata(ue,_e,Oe,$e)}function qt(ue,_e){var Oe=Un(ue,_e),$e=Ls(ue);if($e===null)return Oe;var Zt=qt($e,_e);if(Zt.length<=0)return Oe;if(Oe.length<=0)return Zt;for(var sr=new X,an=[],$t=0,dt=Oe;$t<dt.length;$t++){var Ze=dt[$t];sr.has(Ze)||(sr.add(Ze),an.push(Ze))}for(var pt=0,Ct=Zt;pt<Ct.length;pt++)Ze=Ct[pt],sr.has(Ze)||(sr.add(Ze),an.push(Ze));return an}function Un(ue,_e){var Oe=ca(ue,_e,!1);return Oe?Oe.OrdinaryOwnMetadataKeys(ue,_e):[]}function Qn(ue){if(ue===null)return 1;switch(typeof ue){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ue===null?1:6;default:return 6}}function ut(ue){return ue===void 0}function Ar(ue){return ue===null}function Mi(ue){return typeof ue=="symbol"}function Z(ue){return typeof ue=="object"?ue!==null:typeof ue=="function"}function pe(ue,_e){switch(Qn(ue)){case 0:case 1:case 2:case 3:case 4:case 5:return ue}var Oe="string",$e=Qr(ue,_);if($e!==void 0){var Zt=$e.call(ue,Oe);if(Z(Zt))throw new TypeError;return Zt}return Ce(ue)}function Ce(ue,_e){var Oe,$e;{var Zt=ue.toString;if(De(Zt)&&!Z($e=Zt.call(ue))||De(Oe=ue.valueOf)&&!Z($e=Oe.call(ue)))return $e}throw new TypeError}function Qe(ue){return!!ue}function re(ue){return""+ue}function de(ue){var _e=pe(ue);return Mi(_e)?_e:re(_e)}function Re(ue){return Array.isArray?Array.isArray(ue):ue instanceof Object?ue instanceof Array:Object.prototype.toString.call(ue)==="[object Array]"}function De(ue){return typeof ue=="function"}function nt(ue){return typeof ue=="function"}function St(ue){switch(Qn(ue)){case 3:case 4:return!0;default:return!1}}function Sn(ue,_e){return ue===_e||ue!=ue&&_e!=_e}function Qr(ue,_e){var Oe=ue[_e];if(Oe!=null){if(!De(Oe))throw new TypeError;return Oe}}function fi(ue){var _e=Qr(ue,C);if(!De(_e))throw new TypeError;var Oe=_e.call(ue);if(!Z(Oe))throw new TypeError;return Oe}function fo(ue){return ue.value}function Cn(ue){var _e=ue.next();return!_e.done&&_e}function kn(ue){var _e=ue.return;_e&&_e.call(ue)}function Ls(ue){var _e=Object.getPrototypeOf(ue);if(typeof ue!="function"||ue===z||_e!==z)return _e;var Oe=ue.prototype,$e=Oe&&Object.getPrototypeOf(Oe);if($e==null||$e===Object.prototype)return _e;var Zt=$e.constructor;return typeof Zt!="function"||Zt===ue?_e:Zt}function Ba(){var ue,_e,Oe,$e;ut(G)||y.Reflect===void 0||G in y.Reflect||typeof y.Reflect.defineMetadata!="function"||(ue=md(y.Reflect));var Zt=new J,sr={registerProvider:an,getProvider:dt,setProvider:pt};return sr;function an(Ct){if(!Object.isExtensible(sr))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ue===Ct:break;case ut(_e):_e=Ct;break;case _e===Ct:break;case ut(Oe):Oe=Ct;break;case Oe===Ct:break;default:$e===void 0&&($e=new X),$e.add(Ct)}}function $t(Ct,_n){if(!ut(_e)){if(_e.isProviderFor(Ct,_n))return _e;if(!ut(Oe)){if(Oe.isProviderFor(Ct,_n))return _e;if(!ut($e))for(var Xn=fi($e);;){var Bn=Cn(Xn);if(!Bn)return;var Li=fo(Bn);if(Li.isProviderFor(Ct,_n))return kn(Xn),Li}}}if(!ut(ue)&&ue.isProviderFor(Ct,_n))return ue}function dt(Ct,_n){var Xn,Bn=Zt.get(Ct);return ut(Bn)||(Xn=Bn.get(_n)),ut(Xn)&&(ut(Xn=$t(Ct,_n))||(ut(Bn)&&(Bn=new q,Zt.set(Ct,Bn)),Bn.set(_n,Xn))),Xn}function Ze(Ct){if(ut(Ct))throw new TypeError;return _e===Ct||Oe===Ct||!ut($e)&&$e.has(Ct)}function pt(Ct,_n,Xn){if(!Ze(Xn))throw new Error("Metadata provider not registered.");var Bn=dt(Ct,_n);if(Bn!==Xn){if(!ut(Bn))return!1;var Li=Zt.get(Ct);ut(Li)&&(Li=new q,Zt.set(Ct,Li)),Li.set(_n,Xn)}return!0}}function Et(){var ue;return!ut(G)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&(ue=y.Reflect[G]),ut(ue)&&(ue=Ba()),!ut(G)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&Object.defineProperty(y.Reflect,G,{enumerable:!1,configurable:!1,writable:!1,value:ue}),ue}function dh(ue){var _e=new J,Oe={isProviderFor:function(Ze,pt){var Ct=_e.get(Ze);return!ut(Ct)&&Ct.has(pt)},OrdinaryDefineOwnMetadata:an,OrdinaryHasOwnMetadata:Zt,OrdinaryGetOwnMetadata:sr,OrdinaryOwnMetadataKeys:$t,OrdinaryDeleteMetadata:dt};return ee.registerProvider(Oe),Oe;function $e(Ze,pt,Ct){var _n=_e.get(Ze),Xn=!1;if(ut(_n)){if(!Ct)return;_n=new q,_e.set(Ze,_n),Xn=!0}var Bn=_n.get(pt);if(ut(Bn)){if(!Ct)return;if(Bn=new q,_n.set(pt,Bn),!ue.setProvider(Ze,pt,Oe))throw _n.delete(pt),Xn&&_e.delete(Ze),new Error("Wrong provider for target.")}return Bn}function Zt(Ze,pt,Ct){var _n=$e(pt,Ct,!1);return!ut(_n)&&Qe(_n.has(Ze))}function sr(Ze,pt,Ct){var _n=$e(pt,Ct,!1);if(!ut(_n))return _n.get(Ze)}function an(Ze,pt,Ct,_n){$e(Ct,_n,!0).set(Ze,pt)}function $t(Ze,pt){var Ct=[],_n=$e(Ze,pt,!1);if(ut(_n))return Ct;for(var Xn=fi(_n.keys()),Bn=0;;){var Li=Cn(Xn);if(!Li)return Ct.length=Bn,Ct;var vd=fo(Li);try{Ct[Bn]=vd}catch(yd){try{kn(Xn)}finally{throw yd}}Bn++}}function dt(Ze,pt,Ct){var _n=$e(pt,Ct,!1);if(ut(_n)||!_n.delete(Ze))return!1;if(_n.size===0){var Xn=_e.get(pt);ut(Xn)||(Xn.delete(Ct),Xn.size===0&&_e.delete(Xn))}return!0}}function md(ue){var _e=ue.defineMetadata,Oe=ue.hasOwnMetadata,$e=ue.getOwnMetadata,Zt=ue.getOwnMetadataKeys,sr=ue.deleteMetadata,an=new J;return{isProviderFor:function($t,dt){var Ze=an.get($t);return!(ut(Ze)||!Ze.has(dt))||!!Zt($t,dt).length&&(ut(Ze)&&(Ze=new X,an.set($t,Ze)),Ze.add(dt),!0)},OrdinaryDefineOwnMetadata:_e,OrdinaryHasOwnMetadata:Oe,OrdinaryGetOwnMetadata:$e,OrdinaryOwnMetadataKeys:Zt,OrdinaryDeleteMetadata:sr}}function ca(ue,_e,Oe){var $e=ee.getProvider(ue,_e);if(!ut($e))return $e;if(Oe){if(ee.setProvider(ue,_e,ce))return ce;throw new Error("Illegal state.")}}function Rl(){var ue={},_e=[],Oe=function(){function an($t,dt,Ze){this._index=0,this._keys=$t,this._values=dt,this._selector=Ze}return an.prototype["@@iterator"]=function(){return this},an.prototype[C]=function(){return this},an.prototype.next=function(){var $t=this._index;if($t>=0&&$t<this._keys.length){var dt=this._selector(this._keys[$t],this._values[$t]);return $t+1>=this._keys.length?(this._index=-1,this._keys=_e,this._values=_e):this._index++,{value:dt,done:!1}}return{value:void 0,done:!0}},an.prototype.throw=function($t){throw this._index>=0&&(this._index=-1,this._keys=_e,this._values=_e),$t},an.prototype.return=function($t){return this._index>=0&&(this._index=-1,this._keys=_e,this._values=_e),{value:$t,done:!0}},an}();return function(){function an(){this._keys=[],this._values=[],this._cacheKey=ue,this._cacheIndex=-2}return Object.defineProperty(an.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),an.prototype.has=function($t){return this._find($t,!1)>=0},an.prototype.get=function($t){var dt=this._find($t,!1);return dt>=0?this._values[dt]:void 0},an.prototype.set=function($t,dt){var Ze=this._find($t,!0);return this._values[Ze]=dt,this},an.prototype.delete=function($t){var dt=this._find($t,!1);if(dt>=0){for(var Ze=this._keys.length,pt=dt+1;pt<Ze;pt++)this._keys[pt-1]=this._keys[pt],this._values[pt-1]=this._values[pt];return this._keys.length--,this._values.length--,Sn($t,this._cacheKey)&&(this._cacheKey=ue,this._cacheIndex=-2),!0}return!1},an.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ue,this._cacheIndex=-2},an.prototype.keys=function(){return new Oe(this._keys,this._values,$e)},an.prototype.values=function(){return new Oe(this._keys,this._values,Zt)},an.prototype.entries=function(){return new Oe(this._keys,this._values,sr)},an.prototype["@@iterator"]=function(){return this.entries()},an.prototype[C]=function(){return this.entries()},an.prototype._find=function($t,dt){if(!Sn(this._cacheKey,$t)){this._cacheIndex=-1;for(var Ze=0;Ze<this._keys.length;Ze++)if(Sn(this._keys[Ze],$t)){this._cacheIndex=Ze;break}}return this._cacheIndex<0&&dt&&(this._cacheIndex=this._keys.length,this._keys.push($t),this._values.push(void 0)),this._cacheIndex},an}();function $e(an,$t){return an}function Zt(an,$t){return $t}function sr(an,$t){return[an,$t]}}function kl(){return function(){function ue(){this._map=new q}return Object.defineProperty(ue.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ue.prototype.has=function(_e){return this._map.has(_e)},ue.prototype.add=function(_e){return this._map.set(_e,_e),this},ue.prototype.delete=function(_e){return this._map.delete(_e)},ue.prototype.clear=function(){this._map.clear()},ue.prototype.keys=function(){return this._map.keys()},ue.prototype.values=function(){return this._map.keys()},ue.prototype.entries=function(){return this._map.entries()},ue.prototype["@@iterator"]=function(){return this.keys()},ue.prototype[C]=function(){return this.keys()},ue}()}function gd(){var ue=16,_e=$.create(),Oe=$e();return function(){function dt(){this._key=$e()}return dt.prototype.has=function(Ze){var pt=Zt(Ze,!1);return pt!==void 0&&$.has(pt,this._key)},dt.prototype.get=function(Ze){var pt=Zt(Ze,!1);return pt!==void 0?$.get(pt,this._key):void 0},dt.prototype.set=function(Ze,pt){return Zt(Ze,!0)[this._key]=pt,this},dt.prototype.delete=function(Ze){var pt=Zt(Ze,!1);return pt!==void 0&&delete pt[this._key]},dt.prototype.clear=function(){this._key=$e()},dt}();function $e(){var dt;do dt="@@WeakMap@@"+$t();while($.has(_e,dt));return _e[dt]=!0,dt}function Zt(dt,Ze){if(!w.call(dt,Oe)){if(!Ze)return;Object.defineProperty(dt,Oe,{value:$.create()})}return dt[Oe]}function sr(dt,Ze){for(var pt=0;pt<Ze;++pt)dt[pt]=255*Math.random()|0;return dt}function an(dt){if(typeof Uint8Array=="function"){var Ze=new Uint8Array(dt);return typeof crypto<"u"?crypto.getRandomValues(Ze):typeof msCrypto<"u"?msCrypto.getRandomValues(Ze):sr(Ze,dt),Ze}return sr(new Array(dt),dt)}function $t(){var dt=an(ue);dt[6]=79&dt[6]|64,dt[8]=191&dt[8]|128;for(var Ze="",pt=0;pt<ue;++pt){var Ct=dt[pt];pt!==4&&pt!==6&&pt!==8||(Ze+="-"),Ct<16&&(Ze+="0"),Ze+=Ct.toString(16).toLowerCase()}return Ze}}function Pc(ue){return ue.__=void 0,delete ue.__,ue}x("decorate",xe),x("metadata",Se),x("defineMetadata",ve),x("hasMetadata",Y),x("hasOwnMetadata",Q),x("getMetadata",ne),x("getOwnMetadata",fe),x("getMetadataKeys",Te),x("getOwnMetadataKeys",He),x("deleteMetadata",Le)}(m,p),p.Reflect===void 0&&(p.Reflect=h)})()})(l||(l={}))}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var c=r[s]={id:s,loaded:!1,exports:{}};return n[s].call(c.exports,c,c.exports,i),c.loaded=!0,c.exports}i.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return i.d(a,{a}),a},i.d=(s,a)=>{for(var c in a)i.o(a,c)&&!i.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:a[c]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var o={};return(()=>{i.r(o),i.d(o,{BASIC_FULL_HD_LANDSCAPE:()=>km,BASIC_FULL_HD_PORTRAIT:()=>Jn,BASIC_LANDSCAPE:()=>_d,BASIC_PORTRAIT:()=>Rm,BroadcastClientError:()=>Et,BroadcastClientEvents:()=>jr,ConnectionState:()=>gt,Errors:()=>h,InitialLayerPreference:()=>Gl,JitterBufferMinDelay:()=>_i,LOG_LEVEL:()=>Cn,LocalStageStream:()=>k0,LocalStageStreamEvents:()=>gs,LogLevels:()=>Cn,RemoteStageStream:()=>tf,RemoteStageStreamEvents:()=>tu,STAGE_MAX_AUDIO_BITRATE_KBPS:()=>Fc,STAGE_MAX_AUDIO_BITRATE_KBPS_DEFAULT:()=>Ym,STAGE_MAX_BITRATE:()=>us,STAGE_MAX_FRAMERATE:()=>Qa,STAGE_MIN_AUDIO_BITRATE_KBPS:()=>Ld,STAGE_MIN_BITRATE:()=>Lc,STAGE_MIN_FRAMERATE:()=>Lh,STANDARD_LANDSCAPE:()=>Gn,STANDARD_PORTRAIT:()=>Om,Stage:()=>Zh,StageConnectionState:()=>Wn,StageErrorCategory:()=>ya,StageErrorCode:()=>On,StageEvents:()=>An,StageLeftReason:()=>qn,StageParticipantPublishState:()=>Or,StageParticipantSubscribeState:()=>ci,StageStream:()=>Tg,StageStreamLayerSelectedReason:()=>nu,StreamType:()=>me,SubscribeType:()=>ki,__version:()=>Bl,create:()=>Bm,default:()=>Pr,isSupported:()=>fo});var s={};i.r(s),i.d(s,{fixNegotiationNeeded:()=>Q,shimAddTrackRemoveTrack:()=>ve,shimAddTrackRemoveTrackWithNative:()=>Se,shimGetDisplayMedia:()=>X,shimGetSendersWithDtmf:()=>ee,shimGetStats:()=>ce,shimGetUserMedia:()=>q,shimMediaStream:()=>J,shimOnTrack:()=>G,shimPeerConnection:()=>Y,shimSenderReceiverGetStats:()=>xe});var a={};i.r(a),i.d(a,{shimAddTransceiver:()=>lt,shimCreateAnswer:()=>Bt,shimCreateOffer:()=>Jt,shimGetDisplayMedia:()=>fe,shimGetParameters:()=>Ut,shimGetUserMedia:()=>ne,shimOnTrack:()=>Te,shimPeerConnection:()=>He,shimRTCDataChannel:()=>Ye,shimReceiverGetStats:()=>bt,shimRemoveStream:()=>Gt,shimSenderGetStats:()=>Le});var c={};i.r(c),i.d(c,{shimAudioContext:()=>Ce,shimCallbacksAPI:()=>Qn,shimConstraints:()=>Ar,shimCreateOfferLegacy:()=>pe,shimGetUserMedia:()=>ut,shimLocalStreamsAPI:()=>qt,shimRTCIceServerUrls:()=>Mi,shimRemoteStreamsAPI:()=>Un,shimTrackEventTransceiver:()=>Z});var l={};i.r(l),i.d(l,{removeExtmapAllowMixed:()=>Sn,shimAddIceCandidateNullOrEmpty:()=>Qr,shimConnectionState:()=>St,shimMaxMessageSize:()=>De,shimParameterlessSetLocalDescription:()=>fi,shimRTCIceCandidate:()=>de,shimRTCIceCandidateRelayProtocol:()=>Re,shimSendThrowTypeError:()=>nt});var h={};i.r(h),i.d(h,{ADD_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>Pc,ADD_DEVICE_COMPOSITION_MISSING_ERROR:()=>gd,ADD_DEVICE_CONSTRAINTS_ERROR:()=>Oe,ADD_DEVICE_DEVICE_ERROR:()=>Rl,ADD_DEVICE_NAME_EXISTS_ERROR:()=>kl,ADD_DEVICE_NAME_MISSING_ERROR:()=>ue,ADD_DEVICE_UNSUPPORTED:()=>_e,BROADCAST_CONFIGURATION_ERROR:()=>Xn,BROADCAST_ERROR:()=>dh,CAMERA_ERROR:()=>md,CLIENT_INVALID_ERROR:()=>fh,EXCHANGE_POSITION_DEVICE_NOT_FOUND_ERROR:()=>dt,FAILED_TO_ADD_IMAGE_ERROR:()=>Ze,INGEST_ENDPOINT_TYPE_ERROR:()=>Li,INGEST_ENDPOINT_URL_ERROR:()=>vd,INPUT_ERROR:()=>ca,INVALID_STREAM_KEY:()=>_n,LOGGER_TYPE_ERROR:()=>Em,LOG_LEVEL_TYPE_ERROR:()=>yd,NETWORK_RECONNECT_CONFIGURATION_ERROR:()=>Cm,NETWORK_RECONNECT_CONFIGURATION_INVALID_TIMEOUT_ERROR:()=>hh,PEER_CONNECTION_ERROR:()=>Ct,PEER_SETUP_ERROR:()=>pt,REMOVE_DEVICE_NOT_FOUND_ERROR:()=>$e,REMOVE_IMAGE_NOT_FOUND_ERROR:()=>Zt,STAGE_TOKEN_TYPE_ERROR:()=>Ol,STAGE_WHIP_OVERRIDE_ERROR:()=>Fy,STREAM_CONFIGURATION_ERROR:()=>Bn,STREAM_KEY_INVALID_CHAR_ERROR:()=>ph,UPDATE_VIDEO_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>an,UPDATE_VIDEO_DEVICE_COMPOSITION_MISSING_ERROR:()=>sr,UPDATE_VIDEO_DEVICE_COMPOSITION_NAME_NOT_FOUND_ERROR:()=>$t});var p={};i.r(p),i.d(p,{BASIC_FULL_HD_LANDSCAPE:()=>km,BASIC_FULL_HD_PORTRAIT:()=>Jn,BASIC_LANDSCAPE:()=>_d,BASIC_PORTRAIT:()=>Rm,BroadcastClientError:()=>Et,BroadcastClientEvents:()=>jr,ConnectionState:()=>gt,Errors:()=>h,LOG_LEVEL:()=>Cn,LogLevels:()=>Cn,STANDARD_LANDSCAPE:()=>Gn,STANDARD_PORTRAIT:()=>Om,__version:()=>Bl,create:()=>Bm,isSupported:()=>fo});let m=!0,E=!0;function x(S,f,g){const b=S.match(f);return b&&b.length>=g&&parseInt(b[g],10)}function y(S,f,g){if(!S.RTCPeerConnection)return;const b=S.RTCPeerConnection.prototype,T=b.addEventListener;b.addEventListener=function(N,M){if(N!==f)return T.apply(this,arguments);const L=A=>{const F=g(A);F&&(M.handleEvent?M.handleEvent(F):M(F))};return this._eventMap=this._eventMap||{},this._eventMap[f]||(this._eventMap[f]=new Map),this._eventMap[f].set(M,L),T.apply(this,[N,L])};const O=b.removeEventListener;b.removeEventListener=function(N,M){if(N!==f||!this._eventMap||!this._eventMap[f])return O.apply(this,arguments);if(!this._eventMap[f].has(M))return O.apply(this,arguments);const L=this._eventMap[f].get(M);return this._eventMap[f].delete(M),this._eventMap[f].size===0&&delete this._eventMap[f],Object.keys(this._eventMap).length===0&&delete this._eventMap,O.apply(this,[N,L])},Object.defineProperty(b,"on"+f,{get(){return this["_on"+f]},set(N){this["_on"+f]&&(this.removeEventListener(f,this["_on"+f]),delete this["_on"+f]),N&&this.addEventListener(f,this["_on"+f]=N)},enumerable:!0,configurable:!0})}function w(S){return typeof S!="boolean"?new Error("Argument type: "+typeof S+". Please use a boolean."):(m=S,S?"adapter.js logging disabled":"adapter.js logging enabled")}function R(S){return typeof S!="boolean"?new Error("Argument type: "+typeof S+". Please use a boolean."):(E=!S,"adapter.js deprecation warnings "+(S?"disabled":"enabled"))}function _(){if(typeof window=="object"){if(m)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function C(S,f){E&&console.warn(S+" is deprecated, please use "+f+" instead.")}function I(S){return Object.prototype.toString.call(S)==="[object Object]"}function j(S){return I(S)?Object.keys(S).reduce(function(f,g){const b=I(S[g]),T=b?j(S[g]):S[g],O=b&&!Object.keys(T).length;return T===void 0||O?f:Object.assign(f,{[g]:T})},{}):S}function U(S,f,g){f&&!g.has(f.id)&&(g.set(f.id,f),Object.keys(f).forEach(b=>{b.endsWith("Id")?U(S,S.get(f[b]),g):b.endsWith("Ids")&&f[b].forEach(T=>{U(S,S.get(T),g)})}))}function $(S,f,g){const b=g?"outbound-rtp":"inbound-rtp",T=new Map;if(f===null)return T;const O=[];return S.forEach(N=>{N.type==="track"&&N.trackIdentifier===f.id&&O.push(N)}),O.forEach(N=>{S.forEach(M=>{M.type===b&&M.trackId===N.id&&U(S,M,T)})}),T}const z=_;function q(S,f){const g=S&&S.navigator;if(!g.mediaDevices)return;const b=function(N){if(typeof N!="object"||N.mandatory||N.optional)return N;const M={};return Object.keys(N).forEach(L=>{if(L==="require"||L==="advanced"||L==="mediaSource")return;const A=typeof N[L]=="object"?N[L]:{ideal:N[L]};A.exact!==void 0&&typeof A.exact=="number"&&(A.min=A.max=A.exact);const F=function(B,W){return B?B+W.charAt(0).toUpperCase()+W.slice(1):W==="deviceId"?"sourceId":W};if(A.ideal!==void 0){M.optional=M.optional||[];let B={};typeof A.ideal=="number"?(B[F("min",L)]=A.ideal,M.optional.push(B),B={},B[F("max",L)]=A.ideal,M.optional.push(B)):(B[F("",L)]=A.ideal,M.optional.push(B))}A.exact!==void 0&&typeof A.exact!="number"?(M.mandatory=M.mandatory||{},M.mandatory[F("",L)]=A.exact):["min","max"].forEach(B=>{A[B]!==void 0&&(M.mandatory=M.mandatory||{},M.mandatory[F(B,L)]=A[B])})}),N.advanced&&(M.optional=(M.optional||[]).concat(N.advanced)),M},T=function(N,M){if(f.version>=61)return M(N);if((N=JSON.parse(JSON.stringify(N)))&&typeof N.audio=="object"){const L=function(A,F,B){F in A&&!(B in A)&&(A[B]=A[F],delete A[F])};L((N=JSON.parse(JSON.stringify(N))).audio,"autoGainControl","googAutoGainControl"),L(N.audio,"noiseSuppression","googNoiseSuppression"),N.audio=b(N.audio)}if(N&&typeof N.video=="object"){let L=N.video.facingMode;L=L&&(typeof L=="object"?L:{ideal:L});const A=f.version<66;if(L&&(L.exact==="user"||L.exact==="environment"||L.ideal==="user"||L.ideal==="environment")&&(!g.mediaDevices.getSupportedConstraints||!g.mediaDevices.getSupportedConstraints().facingMode||A)){let F;if(delete N.video.facingMode,L.exact==="environment"||L.ideal==="environment"?F=["back","rear"]:L.exact!=="user"&&L.ideal!=="user"||(F=["front"]),F)return g.mediaDevices.enumerateDevices().then(B=>{let W=(B=B.filter(ie=>ie.kind==="videoinput")).find(ie=>F.some(be=>ie.label.toLowerCase().includes(be)));return!W&&B.length&&F.includes("back")&&(W=B[B.length-1]),W&&(N.video.deviceId=L.exact?{exact:W.deviceId}:{ideal:W.deviceId}),N.video=b(N.video),z("chrome: "+JSON.stringify(N)),M(N)})}N.video=b(N.video)}return z("chrome: "+JSON.stringify(N)),M(N)},O=function(N){return f.version>=64?N:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[N.name]||N.name,message:N.message,constraint:N.constraint||N.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(g.getUserMedia=(function(N,M,L){T(N,A=>{g.webkitGetUserMedia(A,M,F=>{L&&L(O(F))})})}).bind(g),g.mediaDevices.getUserMedia){const N=g.mediaDevices.getUserMedia.bind(g.mediaDevices);g.mediaDevices.getUserMedia=function(M){return T(M,L=>N(L).then(A=>{if(L.audio&&!A.getAudioTracks().length||L.video&&!A.getVideoTracks().length)throw A.getTracks().forEach(F=>{F.stop()}),new DOMException("","NotFoundError");return A},A=>Promise.reject(O(A))))}}}function X(S,f){S.navigator.mediaDevices&&"getDisplayMedia"in S.navigator.mediaDevices||S.navigator.mediaDevices&&(typeof f=="function"?S.navigator.mediaDevices.getDisplayMedia=function(g){return f(g).then(b=>{const T=g.video&&g.video.width,O=g.video&&g.video.height,N=g.video&&g.video.frameRate;return g.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:b,maxFrameRate:N||3}},T&&(g.video.mandatory.maxWidth=T),O&&(g.video.mandatory.maxHeight=O),S.navigator.mediaDevices.getUserMedia(g)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function J(S){S.MediaStream=S.MediaStream||S.webkitMediaStream}function G(S){if(typeof S=="object"&&S.RTCPeerConnection&&!("ontrack"in S.RTCPeerConnection.prototype)){Object.defineProperty(S.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(g){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=g)},enumerable:!0,configurable:!0});const f=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=g=>{g.stream.addEventListener("addtrack",b=>{let T;T=S.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.track.id):{track:b.track};const O=new Event("track");O.track=b.track,O.receiver=T,O.transceiver={receiver:T},O.streams=[g.stream],this.dispatchEvent(O)}),g.stream.getTracks().forEach(b=>{let T;T=S.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.id):{track:b};const O=new Event("track");O.track=b,O.receiver=T,O.transceiver={receiver:T},O.streams=[g.stream],this.dispatchEvent(O)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}else y(S,"track",f=>(f.transceiver||Object.defineProperty(f,"transceiver",{value:{receiver:f.receiver}}),f))}function ee(S){if(typeof S=="object"&&S.RTCPeerConnection&&!("getSenders"in S.RTCPeerConnection.prototype)&&"createDTMFSender"in S.RTCPeerConnection.prototype){const f=function(T,O){return{track:O,get dtmf(){return this._dtmf===void 0&&(O.kind==="audio"?this._dtmf=T.createDTMFSender(O):this._dtmf=null),this._dtmf},_pc:T}};if(!S.RTCPeerConnection.prototype.getSenders){S.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const T=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addTrack=function(N,M){let L=T.apply(this,arguments);return L||(L=f(this,N),this._senders.push(L)),L};const O=S.RTCPeerConnection.prototype.removeTrack;S.RTCPeerConnection.prototype.removeTrack=function(N){O.apply(this,arguments);const M=this._senders.indexOf(N);M!==-1&&this._senders.splice(M,1)}}const g=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(T){this._senders=this._senders||[],g.apply(this,[T]),T.getTracks().forEach(O=>{this._senders.push(f(this,O))})};const b=S.RTCPeerConnection.prototype.removeStream;S.RTCPeerConnection.prototype.removeStream=function(T){this._senders=this._senders||[],b.apply(this,[T]),T.getTracks().forEach(O=>{const N=this._senders.find(M=>M.track===O);N&&this._senders.splice(this._senders.indexOf(N),1)})}}else if(typeof S=="object"&&S.RTCPeerConnection&&"getSenders"in S.RTCPeerConnection.prototype&&"createDTMFSender"in S.RTCPeerConnection.prototype&&S.RTCRtpSender&&!("dtmf"in S.RTCRtpSender.prototype)){const f=S.RTCPeerConnection.prototype.getSenders;S.RTCPeerConnection.prototype.getSenders=function(){const g=f.apply(this,[]);return g.forEach(b=>b._pc=this),g},Object.defineProperty(S.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ce(S){if(!S.RTCPeerConnection)return;const f=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){const[g,b,T]=arguments;if(arguments.length>0&&typeof g=="function")return f.apply(this,arguments);if(f.length===0&&(arguments.length===0||typeof g!="function"))return f.apply(this,[]);const O=function(M){const L={};return M.result().forEach(A=>{const F={id:A.id,timestamp:A.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[A.type]||A.type};A.names().forEach(B=>{F[B]=A.stat(B)}),L[F.id]=F}),L},N=function(M){return new Map(Object.keys(M).map(L=>[L,M[L]]))};if(arguments.length>=2){const M=function(L){b(N(O(L)))};return f.apply(this,[M,g])}return new Promise((M,L)=>{f.apply(this,[function(A){M(N(O(A)))},L])}).then(b,T)}}function xe(S){if(!(typeof S=="object"&&S.RTCPeerConnection&&S.RTCRtpSender&&S.RTCRtpReceiver))return;if(!("getStats"in S.RTCRtpSender.prototype)){const g=S.RTCPeerConnection.prototype.getSenders;g&&(S.RTCPeerConnection.prototype.getSenders=function(){const T=g.apply(this,[]);return T.forEach(O=>O._pc=this),T});const b=S.RTCPeerConnection.prototype.addTrack;b&&(S.RTCPeerConnection.prototype.addTrack=function(){const T=b.apply(this,arguments);return T._pc=this,T}),S.RTCRtpSender.prototype.getStats=function(){const T=this;return this._pc.getStats().then(O=>$(O,T.track,!0))}}if(!("getStats"in S.RTCRtpReceiver.prototype)){const g=S.RTCPeerConnection.prototype.getReceivers;g&&(S.RTCPeerConnection.prototype.getReceivers=function(){const b=g.apply(this,[]);return b.forEach(T=>T._pc=this),b}),y(S,"track",b=>(b.receiver._pc=b.srcElement,b)),S.RTCRtpReceiver.prototype.getStats=function(){const b=this;return this._pc.getStats().then(T=>$(T,b.track,!1))}}if(!("getStats"in S.RTCRtpSender.prototype)||!("getStats"in S.RTCRtpReceiver.prototype))return;const f=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof S.MediaStreamTrack){const g=arguments[0];let b,T,O;return this.getSenders().forEach(N=>{N.track===g&&(b?O=!0:b=N)}),this.getReceivers().forEach(N=>(N.track===g&&(T?O=!0:T=N),N.track===g)),O||b&&T?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):b?b.getStats():T?T.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return f.apply(this,arguments)}}function Se(S){S.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(O=>this._shimmedLocalStreams[O][0])};const f=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addTrack=function(O,N){if(!N)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const M=f.apply(this,arguments);return this._shimmedLocalStreams[N.id]?this._shimmedLocalStreams[N.id].indexOf(M)===-1&&this._shimmedLocalStreams[N.id].push(M):this._shimmedLocalStreams[N.id]=[N,M],M};const g=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(O){this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(L=>{if(this.getSenders().find(A=>A.track===L))throw new DOMException("Track already exists.","InvalidAccessError")});const N=this.getSenders();g.apply(this,arguments);const M=this.getSenders().filter(L=>N.indexOf(L)===-1);this._shimmedLocalStreams[O.id]=[O].concat(M)};const b=S.RTCPeerConnection.prototype.removeStream;S.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],b.apply(this,arguments)};const T=S.RTCPeerConnection.prototype.removeTrack;S.RTCPeerConnection.prototype.removeTrack=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(N=>{const M=this._shimmedLocalStreams[N].indexOf(O);M!==-1&&this._shimmedLocalStreams[N].splice(M,1),this._shimmedLocalStreams[N].length===1&&delete this._shimmedLocalStreams[N]}),T.apply(this,arguments)}}function ve(S,f){if(!S.RTCPeerConnection)return;if(S.RTCPeerConnection.prototype.addTrack&&f.version>=65)return Se(S);const g=S.RTCPeerConnection.prototype.getLocalStreams;S.RTCPeerConnection.prototype.getLocalStreams=function(){const L=g.apply(this);return this._reverseStreams=this._reverseStreams||{},L.map(A=>this._reverseStreams[A.id])};const b=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(L){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},L.getTracks().forEach(A=>{if(this.getSenders().find(F=>F.track===A))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[L.id]){const A=new S.MediaStream(L.getTracks());this._streams[L.id]=A,this._reverseStreams[A.id]=L,L=A}b.apply(this,[L])};const T=S.RTCPeerConnection.prototype.removeStream;function O(L,A){let F=A.sdp;return Object.keys(L._reverseStreams||[]).forEach(B=>{const W=L._reverseStreams[B],ie=L._streams[W.id];F=F.replace(new RegExp(ie.id,"g"),W.id)}),new RTCSessionDescription({type:A.type,sdp:F})}S.RTCPeerConnection.prototype.removeStream=function(L){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},T.apply(this,[this._streams[L.id]||L]),delete this._reverseStreams[this._streams[L.id]?this._streams[L.id].id:L.id],delete this._streams[L.id]},S.RTCPeerConnection.prototype.addTrack=function(L,A){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const F=[].slice.call(arguments,1);if(F.length!==1||!F[0].getTracks().find(W=>W===L))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(W=>W.track===L))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const B=this._streams[A.id];if(B)B.addTrack(L),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const W=new S.MediaStream([L]);this._streams[A.id]=W,this._reverseStreams[W.id]=A,this.addStream(W)}return this.getSenders().find(W=>W.track===L)},["createOffer","createAnswer"].forEach(function(L){const A=S.RTCPeerConnection.prototype[L],F={[L](){const B=arguments;return arguments.length&&typeof arguments[0]=="function"?A.apply(this,[W=>{const ie=O(this,W);B[0].apply(null,[ie])},W=>{B[1]&&B[1].apply(null,W)},arguments[2]]):A.apply(this,arguments).then(W=>O(this,W))}};S.RTCPeerConnection.prototype[L]=F[L]});const N=S.RTCPeerConnection.prototype.setLocalDescription;S.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(L,A){let F=A.sdp;return Object.keys(L._reverseStreams||[]).forEach(B=>{const W=L._reverseStreams[B],ie=L._streams[W.id];F=F.replace(new RegExp(W.id,"g"),ie.id)}),new RTCSessionDescription({type:A.type,sdp:F})}(this,arguments[0]),N.apply(this,arguments)):N.apply(this,arguments)};const M=Object.getOwnPropertyDescriptor(S.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(S.RTCPeerConnection.prototype,"localDescription",{get(){const L=M.get.apply(this);return L.type===""?L:O(this,L)}}),S.RTCPeerConnection.prototype.removeTrack=function(L){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!L._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(L._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let A;this._streams=this._streams||{},Object.keys(this._streams).forEach(F=>{this._streams[F].getTracks().find(B=>L.track===B)&&(A=this._streams[F])}),A&&(A.getTracks().length===1?this.removeStream(this._reverseStreams[A.id]):A.removeTrack(L.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Y(S,f){!S.RTCPeerConnection&&S.webkitRTCPeerConnection&&(S.RTCPeerConnection=S.webkitRTCPeerConnection),S.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(g){const b=S.RTCPeerConnection.prototype[g],T={[g](){return arguments[0]=new(g==="addIceCandidate"?S.RTCIceCandidate:S.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};S.RTCPeerConnection.prototype[g]=T[g]})}function Q(S,f){y(S,"negotiationneeded",g=>{const b=g.target;if(!(f.version<72||b.getConfiguration&&b.getConfiguration().sdpSemantics==="plan-b")||b.signalingState==="stable")return g})}function ne(S,f){const g=S&&S.navigator,b=S&&S.MediaStreamTrack;if(g.getUserMedia=function(T,O,N){C("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),g.mediaDevices.getUserMedia(T).then(O,N)},!(f.version>55&&"autoGainControl"in g.mediaDevices.getSupportedConstraints())){const T=function(N,M,L){M in N&&!(L in N)&&(N[L]=N[M],delete N[M])},O=g.mediaDevices.getUserMedia.bind(g.mediaDevices);if(g.mediaDevices.getUserMedia=function(N){return typeof N=="object"&&typeof N.audio=="object"&&(N=JSON.parse(JSON.stringify(N)),T(N.audio,"autoGainControl","mozAutoGainControl"),T(N.audio,"noiseSuppression","mozNoiseSuppression")),O(N)},b&&b.prototype.getSettings){const N=b.prototype.getSettings;b.prototype.getSettings=function(){const M=N.apply(this,arguments);return T(M,"mozAutoGainControl","autoGainControl"),T(M,"mozNoiseSuppression","noiseSuppression"),M}}if(b&&b.prototype.applyConstraints){const N=b.prototype.applyConstraints;b.prototype.applyConstraints=function(M){return this.kind==="audio"&&typeof M=="object"&&(M=JSON.parse(JSON.stringify(M)),T(M,"autoGainControl","mozAutoGainControl"),T(M,"noiseSuppression","mozNoiseSuppression")),N.apply(this,[M])}}}}function fe(S,f){S.navigator.mediaDevices&&"getDisplayMedia"in S.navigator.mediaDevices||S.navigator.mediaDevices&&(S.navigator.mediaDevices.getDisplayMedia=function(g){if(!g||!g.video){const b=new DOMException("getDisplayMedia without video constraints is undefined");return b.name="NotFoundError",b.code=8,Promise.reject(b)}return g.video===!0?g.video={mediaSource:f}:g.video.mediaSource=f,S.navigator.mediaDevices.getUserMedia(g)})}function Te(S){typeof S=="object"&&S.RTCTrackEvent&&"receiver"in S.RTCTrackEvent.prototype&&!("transceiver"in S.RTCTrackEvent.prototype)&&Object.defineProperty(S.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function He(S,f){if(typeof S!="object"||!S.RTCPeerConnection&&!S.mozRTCPeerConnection)return;!S.RTCPeerConnection&&S.mozRTCPeerConnection&&(S.RTCPeerConnection=S.mozRTCPeerConnection),f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(T){const O=S.RTCPeerConnection.prototype[T],N={[T](){return arguments[0]=new(T==="addIceCandidate"?S.RTCIceCandidate:S.RTCSessionDescription)(arguments[0]),O.apply(this,arguments)}};S.RTCPeerConnection.prototype[T]=N[T]});const g={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},b=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){const[T,O,N]=arguments;return b.apply(this,[T||null]).then(M=>{if(f.version<53&&!O)try{M.forEach(L=>{L.type=g[L.type]||L.type})}catch(L){if(L.name!=="TypeError")throw L;M.forEach((A,F)=>{M.set(F,Object.assign({},A,{type:g[A.type]||A.type}))})}return M}).then(O,N)}}function Le(S){if(typeof S!="object"||!S.RTCPeerConnection||!S.RTCRtpSender||S.RTCRtpSender&&"getStats"in S.RTCRtpSender.prototype)return;const f=S.RTCPeerConnection.prototype.getSenders;f&&(S.RTCPeerConnection.prototype.getSenders=function(){const b=f.apply(this,[]);return b.forEach(T=>T._pc=this),b});const g=S.RTCPeerConnection.prototype.addTrack;g&&(S.RTCPeerConnection.prototype.addTrack=function(){const b=g.apply(this,arguments);return b._pc=this,b}),S.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function bt(S){if(typeof S!="object"||!S.RTCPeerConnection||!S.RTCRtpSender||S.RTCRtpSender&&"getStats"in S.RTCRtpReceiver.prototype)return;const f=S.RTCPeerConnection.prototype.getReceivers;f&&(S.RTCPeerConnection.prototype.getReceivers=function(){const g=f.apply(this,[]);return g.forEach(b=>b._pc=this),g}),y(S,"track",g=>(g.receiver._pc=g.srcElement,g)),S.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Gt(S){S.RTCPeerConnection&&!("removeStream"in S.RTCPeerConnection.prototype)&&(S.RTCPeerConnection.prototype.removeStream=function(f){C("removeStream","removeTrack"),this.getSenders().forEach(g=>{g.track&&f.getTracks().includes(g.track)&&this.removeTrack(g)})})}function Ye(S){S.DataChannel&&!S.RTCDataChannel&&(S.RTCDataChannel=S.DataChannel)}function lt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const f=S.RTCPeerConnection.prototype.addTransceiver;f&&(S.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let g=arguments[1]&&arguments[1].sendEncodings;g===void 0&&(g=[]),g=[...g];const b=g.length>0;b&&g.forEach(O=>{if("rid"in O&&!/^[a-z0-9]{0,16}$/i.test(O.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in O&&!(parseFloat(O.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in O&&!(parseFloat(O.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const T=f.apply(this,arguments);if(b){const{sender:O}=T,N=O.getParameters();(!("encodings"in N)||N.encodings.length===1&&Object.keys(N.encodings[0]).length===0)&&(N.encodings=g,O.sendEncodings=g,this.setParametersPromises.push(O.setParameters(N).then(()=>{delete O.sendEncodings}).catch(()=>{delete O.sendEncodings})))}return T})}function Ut(S){if(typeof S!="object"||!S.RTCRtpSender)return;const f=S.RTCRtpSender.prototype.getParameters;f&&(S.RTCRtpSender.prototype.getParameters=function(){const g=f.apply(this,arguments);return"encodings"in g||(g.encodings=[].concat(this.sendEncodings||[{}])),g})}function Jt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const f=S.RTCPeerConnection.prototype.createOffer;S.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>f.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):f.apply(this,arguments)}}function Bt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const f=S.RTCPeerConnection.prototype.createAnswer;S.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>f.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):f.apply(this,arguments)}}function qt(S){if(typeof S=="object"&&S.RTCPeerConnection){if("getLocalStreams"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in S.RTCPeerConnection.prototype)){const f=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addStream=function(g){this._localStreams||(this._localStreams=[]),this._localStreams.includes(g)||this._localStreams.push(g),g.getAudioTracks().forEach(b=>f.call(this,b,g)),g.getVideoTracks().forEach(b=>f.call(this,b,g))},S.RTCPeerConnection.prototype.addTrack=function(g,...b){return b&&b.forEach(T=>{this._localStreams?this._localStreams.includes(T)||this._localStreams.push(T):this._localStreams=[T]}),f.apply(this,arguments)}}"removeStream"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.removeStream=function(f){this._localStreams||(this._localStreams=[]);const g=this._localStreams.indexOf(f);if(g===-1)return;this._localStreams.splice(g,1);const b=f.getTracks();this.getSenders().forEach(T=>{b.includes(T.track)&&this.removeTrack(T)})})}}function Un(S){if(typeof S=="object"&&S.RTCPeerConnection&&("getRemoteStreams"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in S.RTCPeerConnection.prototype))){Object.defineProperty(S.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(g){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=g),this.addEventListener("track",this._onaddstreampoly=b=>{b.streams.forEach(T=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(T))return;this._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,this.dispatchEvent(O)})})}});const f=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){const g=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(T=>{if(g._remoteStreams||(g._remoteStreams=[]),g._remoteStreams.indexOf(T)>=0)return;g._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,g.dispatchEvent(O)})}),f.apply(g,arguments)}}}function Qn(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const f=S.RTCPeerConnection.prototype,g=f.createOffer,b=f.createAnswer,T=f.setLocalDescription,O=f.setRemoteDescription,N=f.addIceCandidate;f.createOffer=function(L,A){const F=arguments.length>=2?arguments[2]:arguments[0],B=g.apply(this,[F]);return A?(B.then(L,A),Promise.resolve()):B},f.createAnswer=function(L,A){const F=arguments.length>=2?arguments[2]:arguments[0],B=b.apply(this,[F]);return A?(B.then(L,A),Promise.resolve()):B};let M=function(L,A,F){const B=T.apply(this,[L]);return F?(B.then(A,F),Promise.resolve()):B};f.setLocalDescription=M,M=function(L,A,F){const B=O.apply(this,[L]);return F?(B.then(A,F),Promise.resolve()):B},f.setRemoteDescription=M,M=function(L,A,F){const B=N.apply(this,[L]);return F?(B.then(A,F),Promise.resolve()):B},f.addIceCandidate=M}function ut(S){const f=S&&S.navigator;if(f.mediaDevices&&f.mediaDevices.getUserMedia){const g=f.mediaDevices,b=g.getUserMedia.bind(g);f.mediaDevices.getUserMedia=T=>b(Ar(T))}!f.getUserMedia&&f.mediaDevices&&f.mediaDevices.getUserMedia&&(f.getUserMedia=(function(g,b,T){f.mediaDevices.getUserMedia(g).then(b,T)}).bind(f))}function Ar(S){return S&&S.video!==void 0?Object.assign({},S,{video:j(S.video)}):S}function Mi(S){if(!S.RTCPeerConnection)return;const f=S.RTCPeerConnection;S.RTCPeerConnection=function(g,b){if(g&&g.iceServers){const T=[];for(let O=0;O<g.iceServers.length;O++){let N=g.iceServers[O];N.urls===void 0&&N.url?(C("RTCIceServer.url","RTCIceServer.urls"),N=JSON.parse(JSON.stringify(N)),N.urls=N.url,delete N.url,T.push(N)):T.push(g.iceServers[O])}g.iceServers=T}return new f(g,b)},S.RTCPeerConnection.prototype=f.prototype,"generateCertificate"in f&&Object.defineProperty(S.RTCPeerConnection,"generateCertificate",{get:()=>f.generateCertificate})}function Z(S){typeof S=="object"&&S.RTCTrackEvent&&"receiver"in S.RTCTrackEvent.prototype&&!("transceiver"in S.RTCTrackEvent.prototype)&&Object.defineProperty(S.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pe(S){const f=S.RTCPeerConnection.prototype.createOffer;S.RTCPeerConnection.prototype.createOffer=function(g){if(g){g.offerToReceiveAudio!==void 0&&(g.offerToReceiveAudio=!!g.offerToReceiveAudio);const b=this.getTransceivers().find(O=>O.receiver.track.kind==="audio");g.offerToReceiveAudio===!1&&b?b.direction==="sendrecv"?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":b.direction==="recvonly"&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):g.offerToReceiveAudio!==!0||b||this.addTransceiver("audio",{direction:"recvonly"}),g.offerToReceiveVideo!==void 0&&(g.offerToReceiveVideo=!!g.offerToReceiveVideo);const T=this.getTransceivers().find(O=>O.receiver.track.kind==="video");g.offerToReceiveVideo===!1&&T?T.direction==="sendrecv"?T.setDirection?T.setDirection("sendonly"):T.direction="sendonly":T.direction==="recvonly"&&(T.setDirection?T.setDirection("inactive"):T.direction="inactive"):g.offerToReceiveVideo!==!0||T||this.addTransceiver("video",{direction:"recvonly"})}return f.apply(this,arguments)}}function Ce(S){typeof S!="object"||S.AudioContext||(S.AudioContext=S.webkitAudioContext)}var Qe=i(7963),re=i.n(Qe);function de(S){if(!S.RTCIceCandidate||S.RTCIceCandidate&&"foundation"in S.RTCIceCandidate.prototype)return;const f=S.RTCIceCandidate;S.RTCIceCandidate=function(g){if(typeof g=="object"&&g.candidate&&g.candidate.indexOf("a=")===0&&((g=JSON.parse(JSON.stringify(g))).candidate=g.candidate.substring(2)),g.candidate&&g.candidate.length){const b=new f(g),T=re().parseCandidate(g.candidate);for(const O in T)O in b||Object.defineProperty(b,O,{value:T[O]});return b.toJSON=function(){return{candidate:b.candidate,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex,usernameFragment:b.usernameFragment}},b}return new f(g)},S.RTCIceCandidate.prototype=f.prototype,y(S,"icecandidate",g=>(g.candidate&&Object.defineProperty(g,"candidate",{value:new S.RTCIceCandidate(g.candidate),writable:"false"}),g))}function Re(S){!S.RTCIceCandidate||S.RTCIceCandidate&&"relayProtocol"in S.RTCIceCandidate.prototype||y(S,"icecandidate",f=>{if(f.candidate){const g=re().parseCandidate(f.candidate.candidate);g.type==="relay"&&(f.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[g.priority>>24])}return f})}function De(S,f){if(!S.RTCPeerConnection)return;"sctp"in S.RTCPeerConnection.prototype||Object.defineProperty(S.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const g=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,f.browser==="chrome"&&f.version>=76){const{sdpSemantics:b}=this.getConfiguration();b==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(b){if(!b||!b.sdp)return!1;const T=re().splitSections(b.sdp);return T.shift(),T.some(O=>{const N=re().parseMLine(O);return N&&N.kind==="application"&&N.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const b=function(L){const A=L.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(A===null||A.length<2)return-1;const F=parseInt(A[1],10);return F!=F?-1:F}(arguments[0]),T=function(L){let A=65536;return f.browser==="firefox"&&(A=f.version<57?L===-1?16384:2147483637:f.version<60?f.version===57?65535:65536:2147483637),A}(b),O=function(L,A){let F=65536;f.browser==="firefox"&&f.version===57&&(F=65535);const B=re().matchPrefix(L.sdp,"a=max-message-size:");return B.length>0?F=parseInt(B[0].substring(19),10):f.browser==="firefox"&&A!==-1&&(F=2147483637),F}(arguments[0],b);let N;N=T===0&&O===0?Number.POSITIVE_INFINITY:T===0||O===0?Math.max(T,O):Math.min(T,O);const M={};Object.defineProperty(M,"maxMessageSize",{get:()=>N}),this._sctp=M}return g.apply(this,arguments)}}function nt(S){if(!S.RTCPeerConnection||!("createDataChannel"in S.RTCPeerConnection.prototype))return;function f(b,T){const O=b.send;b.send=function(){const N=arguments[0],M=N.length||N.size||N.byteLength;if(b.readyState==="open"&&T.sctp&&M>T.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+T.sctp.maxMessageSize+" bytes)");return O.apply(b,arguments)}}const g=S.RTCPeerConnection.prototype.createDataChannel;S.RTCPeerConnection.prototype.createDataChannel=function(){const b=g.apply(this,arguments);return f(b,this),b},y(S,"datachannel",b=>(f(b.channel,b.target),b))}function St(S){if(!S.RTCPeerConnection||"connectionState"in S.RTCPeerConnection.prototype)return;const f=S.RTCPeerConnection.prototype;Object.defineProperty(f,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(f,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(g){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),g&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=g)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(g=>{const b=f[g];f[g]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=T=>{const O=T.target;if(O._lastConnectionState!==O.connectionState){O._lastConnectionState=O.connectionState;const N=new Event("connectionstatechange",T);O.dispatchEvent(N)}return T},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),b.apply(this,arguments)}})}function Sn(S,f){if(!S.RTCPeerConnection||f.browser==="chrome"&&f.version>=71||f.browser==="safari"&&f.version>=605)return;const g=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(b){if(b&&b.sdp&&b.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const T=b.sdp.split(`
`).filter(O=>O.trim()!=="a=extmap-allow-mixed").join(`
`);S.RTCSessionDescription&&b instanceof S.RTCSessionDescription?arguments[0]=new S.RTCSessionDescription({type:b.type,sdp:T}):b.sdp=T}return g.apply(this,arguments)}}function Qr(S,f){if(!S.RTCPeerConnection||!S.RTCPeerConnection.prototype)return;const g=S.RTCPeerConnection.prototype.addIceCandidate;g&&g.length!==0&&(S.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(f.browser==="chrome"&&f.version<78||f.browser==="firefox"&&f.version<68||f.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():g.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function fi(S,f){if(!S.RTCPeerConnection||!S.RTCPeerConnection.prototype)return;const g=S.RTCPeerConnection.prototype.setLocalDescription;g&&g.length!==0&&(S.RTCPeerConnection.prototype.setLocalDescription=function(){let b=arguments[0]||{};if(typeof b!="object"||b.type&&b.sdp)return g.apply(this,arguments);if(b={type:b.type,sdp:b.sdp},!b.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":b.type="offer";break;default:b.type="answer"}return b.sdp||b.type!=="offer"&&b.type!=="answer"?g.apply(this,[b]):(b.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(T=>g.apply(this,[T]))})}(function({window:S}={},f={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const g=_,b=function(O){const N={browser:null,version:null};if(O===void 0||!O.navigator||!O.navigator.userAgent)return N.browser="Not a browser.",N;const{navigator:M}=O;if(M.mozGetUserMedia)N.browser="firefox",N.version=x(M.userAgent,/Firefox\/(\d+)\./,1);else if(M.webkitGetUserMedia||O.isSecureContext===!1&&O.webkitRTCPeerConnection)N.browser="chrome",N.version=x(M.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!O.RTCPeerConnection||!M.userAgent.match(/AppleWebKit\/(\d+)\./))return N.browser="Not a supported browser.",N;N.browser="safari",N.version=x(M.userAgent,/AppleWebKit\/(\d+)\./,1),N.supportsUnifiedPlan=O.RTCRtpTransceiver&&"currentDirection"in O.RTCRtpTransceiver.prototype}return N}(S),T={browserDetails:b,commonShim:l,extractVersion:x,disableLog:w,disableWarnings:R,sdp:Qe};switch(b.browser){case"chrome":if(!s||!Y||!f.shimChrome)return g("Chrome shim is not included in this adapter release."),T;if(b.version===null)return g("Chrome shim can not determine version, not shimming."),T;g("adapter.js shimming chrome."),T.browserShim=s,Qr(S,b),fi(S),q(S,b),J(S),Y(S,b),G(S),ve(S,b),ee(S),ce(S),xe(S),Q(S,b),de(S),Re(S),St(S),De(S,b),nt(S),Sn(S,b);break;case"firefox":if(!a||!He||!f.shimFirefox)return g("Firefox shim is not included in this adapter release."),T;g("adapter.js shimming firefox."),T.browserShim=a,Qr(S,b),fi(S),ne(S,b),He(S,b),Te(S),Gt(S),Le(S),bt(S),Ye(S),lt(S),Ut(S),Jt(S),Bt(S),de(S),St(S),De(S,b),nt(S);break;case"safari":if(!c||!f.shimSafari)return g("Safari shim is not included in this adapter release."),T;g("adapter.js shimming safari."),T.browserShim=c,Qr(S,b),fi(S),Mi(S),pe(S),Qn(S),qt(S),Un(S),Z(S),ut(S),Ce(S),de(S),Re(S),De(S,b),nt(S),Sn(S,b);break;default:g("Unsupported browser!")}})({window:typeof window>"u"?void 0:window}),i(8630);const fo=()=>typeof RTCPeerConnection=="function";var Cn,kn;(function(S){S[S.TRACE=0]="TRACE",S[S.DEBUG=1]="DEBUG",S[S.INFO=2]="INFO",S[S.WARN=3]="WARN",S[S.ERROR=4]="ERROR",S[S.SILENT=5]="SILENT"})(Cn||(Cn={})),function(S){S.TIME="Time",S.WEBRTC="WebRTC",S.EMITTER="Emitter",S.MEDIA="Media",S.SUBSCRIPTION="StageSubscription",S.PUBLICATION="StagePublication",S.CONNECTION="StageConnection",S.SOCKET="StageSocket",S.BROADCAST_STAGE_CLIENT="BroadcastStageClient",S.STAGE="Stage",S.REMOTE_PARTICIPANT="RemoteParticipant",S.LOCAL_PARTICIPANT="LocalParticipant",S.CONFIGURATION="Configuration",S.REMOTE_PLAYBACK="RemotePlaybackController",S.REMOTE_STAGE_STREAM="RemoteStageStream"}(kn||(kn={}));const Ls=12e4,Ba=3e5;class Et extends Error{constructor({name:f,message:g,code:b,details:T,cause:O,params:N}){super(g),Error.captureStackTrace&&Error.captureStackTrace(this,Et),this.name=f||"BroadcastClientError",this.message=g,this.code=b,this.details=T,this.cause=O,this.params=N}}const dh={name:"BroadcastError",code:1e3,message:"Unable to broadcast"},md={name:"CameraError",code:2e3,message:"Camera could not be captured"},ca={name:"InputError",code:3e3,message:"Input could not be attached"},Rl={name:"AddDeviceError",code:4e3,message:"Device is missing"},kl={name:"AddDeviceNameExistsError",code:4001,message:"Name is already registered"},gd={name:"AddDeviceCompositionMissingError",code:4002,message:"VideoComposition is missing"},Pc={name:"AddDeviceCompositionIndexMissingError",code:4003,message:`VideoComposition's "index" property is missing`},ue={name:"AddDeviceNameMissingError",code:4004,message:"Name property is missing"},_e={name:"AddDeviceUnsupported",code:4005,message:"Unsupported device"},Oe={name:"AddDeviceConstraintsError",code:4006,message:"Constraints error"},$e={name:"RemoveDeviceNotFoundError",code:5e3,message:"Device not found"},Zt={name:"RemoveImageNotFoundError",code:6e3,message:"Image not found"},sr={name:"UpdateVideoDeviceCompositionMissingError",code:7e3,message:"VideoComposition is missing"},an={name:"UpdateVideoDeviceCompositionIndexMissingError",code:7001,message:`VideoComposition's "index" property is missing`},$t={name:"UpdateVideoDeviceCompositionNameMissingError",code:7002,message:"Video device with that name is not found"},dt={name:"ExchangePositionDeviceNotFoundError",code:8e3,message:"Device with that name is not found"},Ze={name:"FailedToAddImageError",code:9e3,message:"Failed to add image"},pt={name:"PeerSetupError",code:1e4,message:"Unexpected return value from setup request"},Ct={name:"PeerConnectionError",code:10001,message:"Peer connection has failed."},_n={name:"InvalidStreamKey",code:10003,message:"Invalid Stream Key."},Xn={name:"BroadcastConfigurationError",code:11e3,message:"Error when configuring broadcast client"},Bn={name:"StreamConfigurationError",code:12e3,message:"Error when configuring stream"},Li={name:"IngestEndpointTypeError",code:13e3,message:"Ingest endpoint must be a string"},vd={name:"IngestEndpointUrlError",code:13001,message:"Ingest endpoint must be a valid https or rtmps URL"},yd={name:"LogLevelTypeError",code:14e3,message:"Log Level must be a valid integer between [0..5]"},Em={name:"LoggerTypeError",code:15e3,message:"Logger must be an object"},fh={name:"ClientInvalidError",code:16e3,message:"Client is no longer valid, possibly due to delete() invocation."},Cm={name:"NetworkReconnectConfigurationError",code:17e3,message:"Error when configuring network reconnect"},hh={name:"NetworkReconnectConfigurationInvalidTimeoutError",code:17001,message:"Network reconnect timeout value must be a number between [10000, 300000]"},ph={name:"StreamKeyInvalidCharError",code:18e3,message:"Streamkey must contain only [A-Za-z0-9_-] characters"},Ol={name:"StageTokenTypeError",code:19e3,message:"Stage token must be a string"},Fy={name:"StageWhipUrlOverrideError",code:19001,message:"Stage WHIP override URL must be a string starting with http"};var Pl,bd,Nl,Il,Al,xd,Sd,mh,Tm,Lo=function(S,f,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?S!==f||!b:!f.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:f.get(S)},Fs=function(S,f,g,b,T){if(typeof f=="function"?S!==f||!T:!f.has(S))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f.set(S,g),g};const jl=1920,Uy=1080,pw=Cn.ERROR,_d={maxResolution:{width:852,height:480},maxFramerate:30,maxBitrate:1500},Rm={maxResolution:{width:480,height:852},maxFramerate:30,maxBitrate:1500},km={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:3500},Jn={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:3500},Gn={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:8500},Om={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:8500},Pm={reconnect:!1,timeout:Ls};function By(S){var f,g;if(typeof S!="string"&&S!==void 0)throw new Et(Li);if(S){if(S.startsWith("https"))return S;{const b=/(?<protocol>(rtmps|https):\/\/)?(?<id>.+)\.(?<environment>(?=\S*['-])([a-zA-Z'-]+))\.live-video\.net.*/.exec(S);if(((f=b==null?void 0:b.groups)===null||f===void 0?void 0:f.protocol)==="rtmps"&&console.warn("rtmps server url detected; please pass in the ingest endpoint (no rtmps:// protocol) instead"),(g=b==null?void 0:b.groups)===null||g===void 0?void 0:g.id)return`https://${b.groups.id}.webrtc.live-video.net:4443`;throw new Et(vd)}}return""}class $y{constructor(f,g,b=_d,T,O=Pm){this.LOG_LEVEL=Cn,this.BASIC_LANDSCAPE=_d,this.BASIC_PORTRAIT=Rm,this.BASIC_FULL_HD_LANDSCAPE=km,this.BASIC_FULL_HD_PORTRAIT=Jn,this.STANDARD_LANDSCAPE=Gn,this.STANDARD_PORTRAIT=Om,Pl.set(this,void 0),bd.set(this,void 0),Nl.set(this,_d),Il.set(this,void 0),Al.set(this,Pm),xd.set(this,N=>{if(!N)throw new Et(Object.assign(Object.assign({},Bn),{details:"missing stream configuration"}));if(!(N.maxBitrate<=8500&&N.maxBitrate>=200))throw new Et(Object.assign(Object.assign({},Bn),{details:"maxBitrate must be between 200 and 8500"}));if(!(N.maxFramerate<=60&&N.maxFramerate>=10))throw new Et(Object.assign(Object.assign({},Bn),{details:"maxFramerate must be between 10 and 60"}));const M=N.maxResolution.width,L=N.maxResolution.height;if(M>jl||L>jl||M<160||L<160||M===jl&&L>Uy||L===jl&&M>Uy)throw new Et(Object.assign(Object.assign({},Bn),{details:"maxResolution values must be between 1080x1920 or 1920x1080"}))}),Sd.set(this,N=>{if(!N)return;const M=Number(N),L=Number.isInteger(M),A=M>=Cn.TRACE,F=M<=Cn.SILENT;if(!L||!A||!F)throw new Et(yd)}),mh.set(this,N=>{if(N&&typeof N!="object")throw new Et(Em)}),Tm.set(this,N=>{if(!N)return;if(typeof N!="object"||typeof N.reconnect!="boolean")throw new Et(Cm);const{timeout:M}=N;if(M!==void 0&&(Number.isNaN(M)||typeof M!="number"||M<1e4||M>Ba))throw new Et(hh)}),Lo(this,mh,"f").call(this,T),Lo(this,Sd,"f").call(this,g),Lo(this,xd,"f").call(this,b),Fs(this,Pl,f),Fs(this,bd,g),Fs(this,Nl,b),Fs(this,Il,T),Fs(this,Al,O)}get ingestEndpoint(){return Lo(this,Pl,"f")}set ingestEndpoint(f){Fs(this,Pl,By(f))}get streamConfig(){return Lo(this,Nl,"f")}set streamConfig(f){Lo(this,xd,"f").call(this,f),Fs(this,Nl,f)}get logLevel(){return Lo(this,bd,"f")}set logLevel(f){Lo(this,Sd,"f").call(this,f),Fs(this,bd,f)}get logger(){return Lo(this,Il,"f")}set logger(f){Lo(this,mh,"f").call(this,f),Fs(this,Il,f)}get networkReconnectConfig(){return Lo(this,Al,"f")}set networkReconnectConfig(f){Lo(this,Tm,"f").call(this,f),Fs(this,Al,f)}}Pl=new WeakMap,bd=new WeakMap,Nl=new WeakMap,Il=new WeakMap,Al=new WeakMap,xd=new WeakMap,Sd=new WeakMap,mh=new WeakMap,Tm=new WeakMap;var ln,Xr=i(228),gh=i(6880);(function(S){S.PUBLISHED_VIDEO_STATS="ivs_broadcast_webrtc_published_video_stats",S.PUBLISHED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_published_video_stats_window",S.PUBLISHED_AUDIO_STATS="ivs_broadcast_webrtc_published_audio_stats",S.PUBLISHED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_published_audio_stats_window",S.SUBSCRIBED_VIDEO_STATS="ivs_broadcast_webrtc_subscribed_video_stats",S.SUBSCRIBED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_video_stats_window",S.SUBSCRIBED_AUDIO_STATS="ivs_broadcast_webrtc_subscribed_audio_stats",S.SUBSCRIBED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_audio_stats_window",S.PUBLISH="ivs_broadcast_multihost_publish",S.UNPUBLISH="ivs_broadcast_multihost_unpublish",S.SUBSCRIBE="ivs_broadcast_multihost_subscribe",S.UNSUBSCRIBE="ivs_broadcast_multihost_unsubscribe",S.PUBLISH_STARTED="ivs_broadcast_multihost_publish_started",S.PUBLISH_FAILED="ivs_broadcast_multihost_publish_failed",S.PUBLISH_ENDED="ivs_broadcast_multihost_publish_ended",S.STATE_UPDATED="ivs_broadcast_multihost_event_state_updated",S.SUBSCRIBE_STARTED="ivs_broadcast_multihost_subscribe_started",S.SUBSCRIBE_FAILED="ivs_broadcast_multihost_subscribe_failed",S.SUBSCRIBE_ENDED="ivs_broadcast_multihost_subscribe_ended",S.FIRST_FRAME="ivs_broadcast_multihost_first_frame",S.JOIN="ivs_broadcast_multihost_join",S.JOIN_ATTEMPT="ivs_broadcast_multihost_event_connect_attempt",S.JOIN_ATTEMPT_FAILED="ivs_broadcast_multihost_event_connect_failed",S.JOIN_ENDED="ivs_broadcast_multihost_join_ended",S.LEAVE="ivs_broadcast_multihost_leave",S.REASSIGNMENT_REQUEST="ivs_broadcast_multihost_reassignment_request",S.SERVER_REQUEST="ivs_broadcast_multihost_server_request",S.TRACE="ivs_broadcast_stage_trace",S.ERROR="ivs_broadcast_error",S.MINUTE="ivs_broadcast_multihost_minute",S.CONNECTION_STATE="ivs_broadcast_webrtc_connection_state",S.ICE_GATHERING_STATE="ivs_broadcast_webrtc_gathering_state",S.EDP_CONNECTED="ivs_broadcast_multihost_event_connected",S.EDP_DISCONNECTED="ivs_broadcast_multihost_event_disconnected",S.EDP_PONG="ivs_broadcast_multihost_edp_rtt",S.SIMULCAST_LAYER_INFO="ivs_broadcast_simulcast_layer_info",S.MULTIHOST_CONFIGURATION="ivs_broadcast_multihost_configuration",S.MULTIHOST_SUBSCRIBE_CONFIGURATION="ivs_broadcast_multihost_subscribe_configuration",S.PLAYBACK_LAYER_REQUEST="ivs_broadcast_multihost_playback_layer_request",S.PLAYBACK_LAYER_STATE="ivs_broadcast_multihost_playback_layer_state"})(ln||(ln={}));class on{constructor(f,g,b,T){let O="unknown";if(g.stageARN&&g.stageARN.startsWith("arn:aws:ivs:")){const N=g.stageARN.split(":");N.length===6&&(O=N[4])}this.event=f,this.properties={client_time:new Date().toISOString(),customer_id:O,device_software:window.navigator.userAgent,multihost_id:g.stageARN,participant_id:g.participantID,participant_user_id:g.userID,platform:"web",sdk_version:"1.21.0",stage_arn:g.stageARN,trace_id:b.value},g.attrGsRole&&(this.properties.token_attribute_0=g.attrGsRole),g.attrGsSessionId&&(this.properties.token_attribute_1=g.attrGsSessionId),this.critical=T}}class vh extends on{constructor(f){super(ln.ERROR,f.token,f.traceId,!0),Object.assign(this.properties,{code:f.code,tag:f.tag,description:f.message,remote_participant_id:f.remoteParticipantId,request_uuid:f.requestUUID,is_nominal:f.nominal,is_fatal:f.fatal,details:f.details,location:f.location,event_count:f.count})}}function wd(S){const f=window.IVS_CLIENT_OVERRIDES;return typeof f=="object"?f[S]:S==="logLevel"?window.STAGES_LOG_LEVEL:S==="appLabel"?window.IVS_APP_LABEL:S==="whipUrl"?window.IVS_DATA_PLANE_ENDPOINT:void 0}function bi(S){const f=wd(S);if(typeof f=="string")return f}function $a(S){const f=wd(S);if(typeof f=="boolean")return f}function Nm(){const S=wd("logLevel");if(typeof S=="number"&&Object.values(Cn).includes(S))return S}function Im(){return $a("disableXdp")}function yh(){return $a("enableXdpPublish")}function bh(){return $a("preferMainProfile")}function Ed(){return $a("enableInitialLayerOnSdp")}var Fi=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class mw{constructor(f="https://broadcast.stats.live-video.net/"){this.endpointUrl=f}send(f,g=!1){return Fi(this,void 0,void 0,function*(){const b=Date.now();for(const M of f)M.properties.batch_time_millis=b;const T=this.b64EncodeUnicode(JSON.stringify(f)),O={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},N=`data=${T}`;g?navigator.sendBeacon(this.endpointUrl,N):Fi(this,void 0,void 0,function*(){try{yield function(M,L,A={},F=""){return Fi(this,void 0,void 0,function*(){const B=new XMLHttpRequest;return B.open(M,L,!0),A&&Object.keys(A).forEach(W=>{A.hasOwnProperty(W)&&B.setRequestHeader(W,A[W])}),new Promise((W,ie)=>{B.onreadystatechange=()=>{B.readyState===4&&(B.status>=200&&B.status<300?W(B.responseText):ie(new Error(`Ingest ${M} ${L} responded ${B.status}
${B.responseText}`)))},B.send(F)})})}("POST",this.endpointUrl,O,N)}catch{}})})}b64EncodeUnicode(f){return btoa(encodeURIComponent(f).replace(/%([0-9A-F]{2})/g,(g,b)=>String.fromCharCode(+`0x${b}`)))}}function ho(S){if(!S)throw new Error("eventSender is not defined")}function Vy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,S=>{const f=16*Math.random()|0;return(S==="x"?f:3&f|8).toString(16)})}class Nc{constructor(){this.sharedProperties={},this.eventSender={},this.queuedEvents=[],this.genSessionId();const f=function(){const b=bi("analyticsPostUrl");if(b!==void 0)return b}()||"https://broadcast.stats.live-video.net/",g=function(){const b=bi("appLabel");if(b!==void 0)return b.substring(0,64)}();this.eventSender=new mw(f),this.initSharedProperties({appLabel:g}),this.errorReports=new Map}start(){this.flushInterval||(this.flushInterval=window.setInterval(()=>{this.queueAggregateErrors({force:!1}),this.flushEvents()},1e3))}stop(f){let g=!1;clearInterval(this.flushInterval),this.flushInterval=void 0,this.queueAggregateErrors({force:!0}),f&&(this.queuedEvents=this.queuedEvents.filter(b=>b.critical),g=!0),this.flushEvents(g),this.genSessionId()}trackEvent(f,g=!1){let b=this.sharedProperties;g&&(b={global_session_id:Nc.globalSessionId,session_id:this.sharedProperties.session_id,browser:this.sharedProperties.browser,browser_family:this.sharedProperties.browser_family,browser_version:this.sharedProperties.browser_version,os_name:this.sharedProperties.os_name,os_version:this.sharedProperties.os_version,is_backgrounded:this.sharedProperties.is_backgrounded}),(document==null?void 0:document.visibilityState)==="hidden"&&(b.is_backgrounded=!0),"data"in f?(f.data.properties=Object.assign({},b,f.data.properties),this.queuedEvents.push(f.data)):(f.properties=Object.assign({},b,f.properties),this.queuedEvents.push(f))}trackEventNoSharedProps(f){this.trackEvent(f,!0)}trackErrorAndThrow(f){throw this.trackError(f),f}trackError(f){const g=`${f.code}${f.fatal}${f.nominal}${f.tag}${f.traceId.value}`,b=this.errorReports.get(g),T={error:f,queuedAt:Date.now(),count:0};return b?(b.count===0&&(b.error=f),b.count+=1,b.queuedAt+6e4<=Date.now()?(this.trackErrorReportIfNeeded(b),void this.errorReports.set(g,T)):void 0):(this.errorReports.set(g,T),void this.trackEvent(new vh(f)))}queueAggregateErrors({force:f=!1}){this.errorReports.forEach((g,b)=>{const T=g.queuedAt+6e4;!f&&T>Date.now()||(this.trackErrorReportIfNeeded(g),this.errorReports.delete(b))})}trackErrorReportIfNeeded(f){if(f.count===0)return;const g=f.error;g.count=f.count,this.trackEvent(new vh(g))}batchEvents(f){ho(this.eventSender);const g=f.map(b=>(b.data.properties=Object.assign({},this.sharedProperties,b.data.properties),b.data));this.eventSender.send(g)}initSharedProperties({appLabel:f}){const g=gh.getParser(navigator.userAgent),b=this.parseSemver(String(g.getBrowserVersion()));this.sharedProperties={browser:navigator.appVersion,browser_family:g.getBrowserName().toLowerCase(),browser_version:`${b.major}.${b.minor}`,customer_id:"ivs",host:window.location.hostname,os_name:g.getOSName(),os_version:String(g.getOSVersion()),platform:"web",global_session_id:Nc.globalSessionId,session_id:this.sessionId,sdk_version:"1.21.0",user_agent:navigator.userAgent,is_backgrounded:!1},f&&(this.sharedProperties.app_label=f)}genSessionId(){this.sessionId=Vy(),this.sharedProperties.session_id=this.sessionId}flushEvents(f=!1){ho(this.eventSender),this.queuedEvents.length>0&&this.eventSender.send(this.queuedEvents,f),this.queuedEvents=[]}parseSemver(f){const g=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/.exec(f)||/^(\d+)\.(\d+)[+|-]?(.*)?$/.exec(f)||/^(\d+)$/.exec(f)||[];return{major:parseInt(g[1],10)||0,minor:parseInt(g[2],10)||0,patch:parseInt(g[3],10)||0}}getSessionId(){return this.sessionId}}Nc.globalSessionId=Vy();class Va{constructor(f,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,g);this.data={event:_r.CONGESTION_TIME,properties:b}}}class xh{constructor(f,g,b){this.transformProperties=(O,N,M)=>({duration:(O.getTime()-((N==null?void 0:N.getTime())||0))/1e3,ecn_negotiated:!1,ingest_session_id:M});const T=this.transformProperties(f,g,b);this.data={event:_r.CONNECTION_ESTABLISHED,properties:T}}}class Am{constructor(f,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,g);this.data={event:_r.CONNECTION_RTT,properties:b}}}class ar{constructor(f){this.transformProperties=b=>{var T;return{is_fatal:(T=b.isFatal)!==null&&T!==void 0&&T,value:b.value,code:b.code,description:b.description}};const g=this.transformProperties(f);this.data={event:_r.ERROR,properties:g}}}class la{constructor(f,g){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(f,g);this.data={event:_r.INPUT_DEVICE_ATTACHED,properties:b}}}class Sh{constructor(f,g){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(f,g);this.data={event:_r.INPUT_DEVICE_DETACHED,properties:b}}}class gw{constructor(f,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,g);this.data={event:_r.MEASURED_BITRATE,properties:b}}}class jm{constructor(f,g){this.transformProperties=(T,O)=>({minutes_logged:Math.round((T.timestamp-O)/6e4)});const b=this.transformProperties(f,g);this.data={event:_r.MINUTE_BROADCAST,properties:b}}}class vw{constructor(f,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,g);this.data={event:_r.RECOMMENDED_BITRATE,properties:b}}}class zy{constructor(f){this.transformProperties=b=>({codec:b.mimeType,bitrate:0,sample_rate:b.clockRate,channel_count:b.channels});const g=this.transformProperties(f);this.data={event:_r.SESSION_AUDIO_ENCODER_CONFIGURED,properties:g}}}class _h{constructor(f){this.transformProperties=b=>({codec:"audio",bitrate:32e3,sample_rate:b.sampleRate,channel_count:b.channelCount});const g=this.transformProperties(f);this.data={event:_r.SESSION_AUDIO_PROPERTIES,properties:g}}}class Dl{constructor(f,g,b){this.transformProperties=(O,N,M)=>({codec:M.mimeType,codec_profile:N.profile,codec_level:N.level,rate_mode:"vbr",initial_bitrate:0,keyframe_interval:2,width:O.width,height:O.height,bframe_count:0,target_fps:O.frameRate});const T=this.transformProperties(f,g,b);this.data={event:_r.SESSION_VIDEO_ENCODER_CONFIGURED,properties:T}}}class yw{constructor(f){this.transformProperties=b=>({codec:"video",initial_bitrate:32e3,min_bitrate:0,max_bitrate:0,keyframe_interval:2,width:b.width,height:b.height,auto_bitrate_enabled:!0,bframes_enabled:!1,target_fps:b.frameRate});const g=this.transformProperties(f);this.data={event:_r.SESSION_VIDEO_PROPERTIES,properties:g}}}class Wy{constructor(f,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,g);this.data={event:_r.SOURCE_AUDIO_LATENCY,properties:b}}}class Hy{constructor(f,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,g);this.data={event:_r.SOURCE_VIDEO_LATENCY,properties:b}}}class wh{constructor(f,g){this.transformProperties=({protocol:T,hostname:O,port:N},M)=>({protocol:T,endpoint_host:O,endpoint_port:N,reason:M});const b=this.transformProperties(f,g);this.data={event:_r.START_BROADCAST,properties:b}}}class Dm{constructor(f){this.transformProperties=({protocol:b,hostname:T,port:O})=>({protocol:b,endpoint_host:T,endpoint_port:O});const g=this.transformProperties(f);this.data={event:_r.STOP_BROADCAST,properties:g}}}class Gy{constructor(f){this.transformProperties=b=>({bytes_sent:b.bytesSent,header_bytes_sent:b.headerBytesSent,nack_count:b.nackCount,packets_sent:b.packetsSent,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent});const g=this.transformProperties(f);this.data={event:_r.WEBRTC_AUDIO_STATS,properties:g}}}class Mm{constructor(f){this.transformProperties=b=>({bytes_sent:b.bytesSent,fir_count:b.firCount,frames_encoded:b.framesEncoded,frames_sent:b.framesSent,header_bytes_sent:b.headerBytesSent,huge_frames_sent:b.hugeFramesSent,key_frames_encoded:b.keyFramesEncoded,nack_count:b.nackCount,packets_sent:b.packetsSent,pli_count:b.pliCount,quality_limitation_reason:b.qualityLimitationReason,quality_limitation_resolution_changes:b.qualityLimitationResolutionChanges,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent,total_encode_time:b.totalEncodeTime,total_encoded_bytes_target:b.totalEncodedBytesTarget,total_packet_send_delay:b.totalPacketSendDelay});const g=this.transformProperties(f);this.data={event:_r.WEBRTC_VIDEO_STATS,properties:g}}}var _r,Cd;(function(S){S.START_BROADCAST="ivs_broadcast_start_broadcast",S.STOP_BROADCAST="ivs_broadcast_stop_broadcast",S.MINUTE_BROADCAST="ivs_broadcast_minute_broadcast",S.WEBRTC_AUDIO_STATS="ivs_broadcast_webrtc_audio_stats",S.WEBRTC_VIDEO_STATS="ivs_broadcast_webrtc_video_stats",S.WEBRTC_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_audio_stats_window",S.WEBRTC_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_video_stats_window",S.CONNECTION_ESTABLISHED="ivs_broadcast_connection_established",S.SESSION_VIDEO_PROPERTIES="ivs_broadcast_session_video_properties",S.SESSION_AUDIO_PROPERTIES="ivs_broadcast_session_audio_properties",S.SESSION_VIDEO_ENCODER_CONFIGURED="ivs_broadcast_session_video_encoder_configured",S.SESSION_AUDIO_ENCODER_CONFIGURED="ivs_broadcast_session_audio_encoder_configured",S.SOURCE_AUDIO_LATENCY="ivs_broadcast_source_audio_latency",S.SOURCE_VIDEO_LATENCY="ivs_broadcast_source_video_latency",S.INPUT_DEVICE_ATTACHED="ivs_broadcast_input_device_attached",S.INPUT_DEVICE_DETACHED="ivs_broadcast_input_device_detached",S.CONGESTION_TIME="ivs_broadcast_congestion_time",S.BUFFER_DURATION="ivs_broadcast_buffer_duration",S.MEASURED_BITRATE="ivs_broadcast_measured_bitrate",S.RECOMMENDED_BITRATE="ivs_broadcast_recommended_bitrate",S.CONNECTION_RTT="ivs_broadcast_connection_rtt",S.ERROR="ivs_broadcast_error"})(_r||(_r={})),function(S){S.USER_INITIATED="user-initiated",S.NETWORK_DISCONNECT="network-disconnect"}(Cd||(Cd={}));const po={[Cn.INFO]:"#528bff",[Cn.WARN]:"#ffb31a",[Cn.DEBUG]:"#00f593",[Cn.ERROR]:"#ff4f4d",[Cn.TRACE]:"",[Cn.SILENT]:"",[kn.TIME]:"#53535f",[kn.WEBRTC]:"#0e9bd8",[kn.SUBSCRIPTION]:"#ffc400",[kn.CONNECTION]:"#ff5edb",[kn.SOCKET]:"#8585ff",[kn.EMITTER]:"#adadb8",[kn.LOCAL_PARTICIPANT]:"#1DD21D",[kn.STAGE]:"#EC9806",[kn.REMOTE_PARTICIPANT]:"#0680EC",details:"#808080"},Ml=({label:S})=>`background: ${po[S]||"#333333"}; color: white; padding: 3px; margin-left: 3px;`,Td=Object.entries(Cn),Rd=(S,f,g)=>{const b=Ml({label:S}),[T]=Td.find(([,be])=>be===Number(S))||[],O=`%c${T}`,N=Ml({label:f}),M=`%c${f}`,L=Ml({label:kn.TIME}),A=`%c[${new Date().toISOString()}]`,F=Ml({label:"details"}),B=`%c[${g}]`,W=[A,O,M],ie=[L,b,N];return g&&(W.push(B),ie.push(F)),[W.join(""),...ie]},qy={debug(S){console.groupCollapsed(...Rd(Cn.DEBUG,S.scope,S.label)),console.debug(S.msg,Object.assign(Object.assign({},S),{level:"debug"})),console.groupEnd()},info(S){console.groupCollapsed(...Rd(Cn.INFO,S.scope,S.label)),console.info(S.msg,Object.assign(Object.assign({},S),{level:"info"})),console.groupEnd()},warn(S){console.groupCollapsed(...Rd(Cn.WARN,S.scope,S.label)),console.warn(S.msg,Object.assign(Object.assign({},S),{level:"warn"})),console.groupEnd()},error(S){console.groupCollapsed(...Rd(Cn.ERROR,S.scope,S.label)),console.error(S),console.groupEnd()}};var Ky=function(S,f){var g={};for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&f.indexOf(b)<0&&(g[b]=S[b]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var T=0;for(b=Object.getOwnPropertySymbols(S);T<b.length;T++)f.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(S,b[T])&&(g[b[T]]=S[b[T]])}return g};Object.entries(Cn);class Lm{constructor(f=pw,g=qy){this.logLevel=f,this.loggerInstance=g}debug(f){var g,b;this.logLevel>Cn.DEBUG||(b=(g=this.loggerInstance).debug)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{level:"debug"}))))}info(f){var g,b;this.logLevel>Cn.INFO||(b=(g=this.loggerInstance).info)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{level:"info"}))))}warn(f){var g,b;this.logLevel>Cn.WARN||(b=(g=this.loggerInstance).warn)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{level:"warn"}))))}error(f){var g,b,{err:T}=f,O=Ky(f,["err"]);this.logLevel>Cn.ERROR||(b=(g=this.loggerInstance).error)===null||b===void 0||b.call(g,Object.assign({err:T},O))}}class mo{constructor(f,g){this.logger=f,this.scope=g}debug(f){var g,b;(b=(g=this.logger).debug)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{scope:this.scope}))))}info(f){var g,b;(b=(g=this.logger).info)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{scope:this.scope}))))}warn(f){var g,b;(b=(g=this.logger).warn)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{scope:this.scope}))))}error(f){var g,b,{err:T}=f,O=Ky(f,["err"]);(b=(g=this.logger).error)===null||b===void 0||b.call(g,Object.assign(Object.assign({err:T},O),{scope:this.scope}))}unwrap(){return this.logger}}class os{constructor(){this.min=0,this.max=0,this.sum=0,this.data=[]}push(f){(this.min===0||f<this.min)&&(this.min=f),f>=this.max&&(this.max=f),this.data.push(f),this.sum+=f}median(){this.data.sort();const f=this.data.length>>1;return this.data.length%2==0?this.data[f-1]+this.data[f]>>1:this.data[f]}percentile(f){if(this.data.length===0)return 0;if(f<=0)return this.data[0];if(f>=1)return this.data[this.data.length-1];const g=(this.data.length-1)*f,b=Math.floor(g),T=b+1,O=g%1;return T>=this.data.length?this.data[b]:this.data[b]*(1-O)+this.data[T]*O}}var Eh=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Yy{constructor(f,g,b,T){this.peerClient=f,this.broadcastCanvasManager=g,this.analyticsTracker=T,this.logger=new mo(b,kn.EMITTER),this.previousBytesSent=0,this.startTimestamp=0,this.initializeSamples()}start(){this.logger.info({msg:"start emitter"}),this.collectSamplesTimerId=window.setInterval(()=>{this.collectSamples()},1e3),this.trackSamplesTimerId=window.setInterval(()=>{this.trackSamples()},3e4),this.trackPeerConnectionStatsTimerId=window.setInterval(()=>{this.trackPeerConnectionStats()},6e4),this.trackSamples()}stop(){clearInterval(this.collectSamplesTimerId),clearInterval(this.trackSamplesTimerId),clearInterval(this.trackPeerConnectionStatsTimerId),this.collectSamplesTimerId=void 0,this.trackSamplesTimerId=void 0,this.trackPeerConnectionStatsTimerId=void 0}trackPeerConnectionStats(){return Eh(this,void 0,void 0,function*(){(yield this.peerClient.getReports()).forEach(f=>{if(f.type==="outbound-rtp")switch(f.kind){case"audio":this.analyticsTracker.trackEvent(new Gy(f));break;case"video":{const g=new Mm(f),b=new jm(f,this.startTimestamp);this.analyticsTracker.batchEvents([g,b]);break}default:this.logger.warn({msg:"unknown report kind: ",reportKind:f.kind})}})})}collectSamples(){return Eh(this,void 0,void 0,function*(){let f=0;this.audioLatencySamples.push(this.broadcastCanvasManager.getAudioLatency()),this.videoLatencySamples.push(this.broadcastCanvasManager.getVideoLatency()),(yield this.peerClient.getReports()).forEach(b=>{switch(b.type){case"candidate-pair":b.nominated&&(this.rttSamples.push(b.currentRoundTripTime),this.recommendedBitrateSamples.push(b.availableOutgoingBitrate));break;case"outbound-rtp":f+=b.bytesSent||0,this.startTimestamp===0&&b.kind==="video"&&(this.startTimestamp=b.timestamp)}});const g=8*Math.round(f-this.previousBytesSent);this.previousBytesSent=f,this.measuredBitrateSamples.push(g)})}trackSamples(){const g=new Wy(this.audioLatencySamples,30),b=new Hy(this.videoLatencySamples,30),T=new Va(this.congestionTimeSamples,30),O=new gw(this.measuredBitrateSamples,30),N=new vw(this.recommendedBitrateSamples,30),M=new Am(this.rttSamples,30);this.analyticsTracker.batchEvents([g,b,T,O,N,M]),this.initializeSamples()}initializeSamples(){this.audioLatencySamples=new os,this.videoLatencySamples=new os,this.congestionTimeSamples=new os,this.measuredBitrateSamples=new os,this.recommendedBitrateSamples=new os,this.rttSamples=new os}}const jr={CONNECTION_STATE_CHANGE:"connectionStateChange",ERROR:"clientError",ACTIVE_STATE_CHANGE:"activeStateChange"},go="connectionStateChange",Qy="sdpNegotiated",vo="clientError",Fo="seiMessageReceived",Ic="transformError";var gt;(function(S){S.CLOSED="closed",S.COMPLETED="completed",S.CONNECTED="connected",S.CONNECTING="connecting",S.DISCONNECTED="disconnected",S.FAILED="failed",S.IDLE="idle",S.NEW="new",S.NONE="none"})(gt||(gt={}));const kd=S=>{const f=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("web-contents-media-stream")?"tab":void 0},g=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("window")&&O.displaySurface==="window"?"window":void 0},b=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("screen")&&O.displaySurface==="monitor"?"screen":void 0};return(f(T=S)||g(T)||b(T)?void 0:"camera")||b(S)||g(S)||f(S)||"unknown";var T};function ye(S,f){return S.find(g=>g.kind===f)}var me;(function(S){S.VIDEO="video",S.AUDIO="audio"})(me||(me={}));class Ie{constructor(){this.mediaTracks=new Map([[me.VIDEO,void 0],[me.AUDIO,void 0]])}setTrack(f,g){this.mediaTracks.set(f,g)}getTrack(f){return this.mediaTracks.get(f)}}class Je{constructor(){this.levelAsymmetryAllowed=!1,this.packetisationMode=!1,this.profile="",this.level=0}extractVideoSdpFmtpLine(f){return f?(f.split("\r").join(";").split(`
`).join(";").split(" ").join(";").split(";").map(g=>g.trim()).filter(Boolean).forEach(g=>{const b=g.split("=");if(b.length===2)switch(b[0]){case"level-asymmetry-allowed":b[1]==="1"?this.levelAsymmetryAllowed=!0:this.levelAsymmetryAllowed=!1;break;case"packetization-mode":b[1]==="1"?this.packetisationMode=!0:this.packetisationMode=!1;break;case"profile-level-id":this.profile=this.getProfileFromId(b[1]),this.level=this.getLevelFromId(b[1])}}),{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}):{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}}getProfileFromId(f){const g=f.substr(0,2),b=f.substr(2,2);switch(g.substr(0,2)){case"42":return"baseline";case"4d":return"main";case"58":return"extended";case"64":return"high";case"6e":return b==="00"?"high 10":"high 10 intra";case"7a":return b==="00"?"high 42":"high 42 intra";case"f4":return b==="00"?"high 44":"high 44 intra";default:return"unknown"}}getLevelFromId(f){return parseInt(f.substr(4,2),16)}}function Kt(S){return btoa(JSON.stringify(S))}var Vt,Dr=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};(function(S){S.IDLE="idle",S.EXECUTING="executing",S.RECONNECTING="reconnecting"})(Vt||(Vt={}));class ss{constructor(f,g=12e4,b,T){this.state=Vt.IDLE,this.failureCallback=()=>{},this.peerClient=f,this.timeout=g,this.logger=b,this.emitter=T}onFailure(f){this.failureCallback=f}setStartConfig(f,g){this.ingestEndpoint=f,this.streamKey=g}execute(){const{id:f}=this;this.state===Vt.IDLE&&(this.state=Vt.EXECUTING,this.emitter.emit(jr.CONNECTION_STATE_CHANGE,gt.CONNECTING),this.logger.info({msg:"Starting execution of reconnect strategy.",id:f}),this.startTimeoutTimer(this.timeout),this.executeStrategy())}startTimeoutTimer(f){this.timeoutTimerId=window.setTimeout(()=>{this.state!==Vt.IDLE&&(this.logger.info({msg:"Reconnect strategy timed out."}),this.stop(),this.emitter.emit(jr.CONNECTION_STATE_CHANGE,gt.FAILED),this.failureCallback())},f)}stop(){this.state=Vt.IDLE,clearTimeout(this.timeoutTimerId),this.stopStrategy()}reconnect(){return Dr(this,void 0,void 0,function*(){if(this.ingestEndpoint&&this.streamKey){const f=this.peerClient.getConnectionState();try{this.logger.info({msg:"Attempting reconnect."}),f===gt.CONNECTED?this.logger.info({msg:"Already connected! Stopping reconnect strategy."}):(yield this.peerClient.start(this.ingestEndpoint,this.streamKey),this.logger.info({msg:"Reconnect succeeded!"})),this.stop()}catch(g){throw this.logger.error({err:g}),g}}})}isActive(){return this.state!==Vt.IDLE}}class cr extends ss{constructor(){super(...arguments),this.id="ExponentialBackoffStrategy"}executeStrategy(){let f=5e3;const g=()=>Dr(this,void 0,void 0,function*(){if(this.state===Vt.EXECUTING)try{this.state=Vt.RECONNECTING,yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed. Trying again in: ",nextRetry:f}),this.state=Vt.EXECUTING,this.currentTimeoutId=window.setTimeout(g,f),f*=2}});this.currentTimeoutId=window.setTimeout(g,0)}stopStrategy(){clearTimeout(this.currentTimeoutId)}}class Fm extends ss{constructor(){super(...arguments),this.id="NetworkApiStrategy",this.onConnectionChange=()=>Dr(this,void 0,void 0,function*(){if(navigator.onLine&&this.state===Vt.EXECUTING){this.state=Vt.RECONNECTING;try{yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed."}),this.state=Vt.EXECUTING}}})}executeStrategy(){navigator.connection.addEventListener("change",this.onConnectionChange),this.onConnectionChange()}stopStrategy(){navigator.connection.removeEventListener("change",this.onConnectionChange)}}class bw{static create(f,g=Pm,b,T){const{reconnect:O,timeout:N}=g;if(O){const M=gh.getParser(navigator.userAgent).getBrowserName().toLowerCase();return["edge","chrome"].includes(M)&&navigator.connection?new Fm(f,N,b,T):new cr(f,N,b,T)}}}var Qi,za=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},xw=function(S,f,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?S!==f||!b:!f.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:f.get(S)};const Ll=S=>!!S;function Ac(S){if(!S)throw new Error("PeerConnection is not defined")}const Ch={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:{exact:!0},enableRtpDataChannels:{exact:!1},optional:[{googHighStartBitrate:{exact:0}},{googPayloadPadding:{exact:!0}},{googScreencastMinBitrate:{exact:100}},{googCpuOveruseDetection:{exact:!0}},{googCpuOveruseEncodeUsage:{exact:!0}},{googCpuUnderuseThreshold:{exact:55}},{googCpuOveruseThreshold:{exact:85}},{enableDscp:{exact:!0}}]};class zn{constructor(f,g,b,T,O){this.config=f,this.emitter=g,this.mediaStreamManager=b,this.analyticsTracker=O,this.establishConnection=(N,M)=>za(this,void 0,void 0,function*(){var L,A,F;Ac(this.peerConnection);try{const B=yield this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});yield this.handleLocalDescription(B),yield this.sendSetupRequest(N,M,B)}catch(B){if(B instanceof Error){(L=(F=B).code)!==null&&L!==void 0||(F.code=pt.code);const W=new Et(Object.assign(Object.assign({},pt),{name:B.name,message:B.message,code:B==null?void 0:B.code,cause:B}));throw!((A=this.reconnectStrategy)===null||A===void 0)&&A.isActive()||this.handleError(B.code,B.message),this.stop(),W}}}),this.getSessionId=()=>this.ingestSessionId,this.getConnectionState=()=>{var N;if(!this.peerConnection)return gt.NONE;const M=(N=this.reconnectStrategy)===null||N===void 0?void 0:N.isActive(),L=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;switch(L){case"new":return gt.NEW;case"closed":return gt.CLOSED;case"disconnected":return M?gt.CONNECTING:gt.DISCONNECTED;case"failed":return M?gt.CONNECTING:gt.FAILED;case"idle":return gt.IDLE;case"checking":case"connecting":return gt.CONNECTING;case"completed":case"connected":return gt.CONNECTED;default:return this.logger.warn({msg:"Unhandled connection state:",rawState:L}),gt.IDLE}},this.onConnectionStateChange=()=>{var N;const M=this.getConnectionState();switch(M){case gt.CONNECTED:{this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M);const L=new Date;this.analyticsTracker.trackEvent(new xh(L,this.connectionStartDate,this.ingestSessionId));const A=this.mediaStreamManager.getTrack(me.AUDIO),F=this.mediaStreamManager.getTrack(me.VIDEO);if(F){const B=F.getSettings();this.analyticsTracker.trackEvent(new yw(B))}if(A){const B=A.getSettings();this.analyticsTracker.trackEvent(new _h(B))}(((N=this.peerConnection)===null||N===void 0?void 0:N.getSenders())||[]).forEach(B=>{var W;(((W=B.getParameters())===null||W===void 0?void 0:W.codecs)||[]).forEach(ie=>{var be;switch((be=B.track)===null||be===void 0?void 0:be.kind){case"video":{if(!F)break;const ge=new Je().extractVideoSdpFmtpLine(ie.sdpFmtpLine),le=F.getSettings();this.analyticsTracker.trackEvent(new Dl(le,ge,ie));break}case"audio":if(!A)break;this.analyticsTracker.trackEvent(new zy(ie))}})});break}case gt.CONNECTING:this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M),this.connectionStartDate=new Date,this.disconnectionStartDate=void 0;break;case gt.FAILED:this.reconnectStrategy?this.reconnectStrategy.execute():(this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M),this.handleTerminalConnectionFailure());break;case gt.DISCONNECTED:this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M),this.disconnectionStartDate=new Date;break;default:this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M)}},this.handleLocalDescription=N=>za(this,void 0,void 0,function*(){var M;return(M=this.peerConnection)===null||M===void 0?void 0:M.setLocalDescription(N)}),Qi.set(this,N=>{if(typeof N!="string")throw new Et(Li);try{new URL(N)}catch{throw new Et(vd)}}),this.logger=new mo(T,kn.WEBRTC),this.createReconnectStrategy(f)}start(f,g){var b;return za(this,void 0,void 0,function*(){xw(this,Qi,"f").call(this,f);const T=[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)].filter(Ll);if(this.createPeerConnection(),this.addTracks({tracks:T}),this.reconnectStrategy&&this.reconnectStrategy.setStartConfig(f,g),yield this.establishConnection(f,g),!((b=this.reconnectStrategy)===null||b===void 0)&&b.isActive()){const O=new URL(f);this.analyticsTracker.trackEvent(new wh({protocol:"webrtc",hostname:O.hostname,port:O.port},Cd.NETWORK_DISCONNECT))}})}stop(){var f,g,b,T;this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stopStreamDataChannel&&this.stopStreamDataChannel.readyState==="open"&&this.stopStreamDataChannel.send(" "),[gt.NEW,gt.CONNECTING,gt.CONNECTED].includes(this.getConnectionState())&&this.emitter.emit(jr.CONNECTION_STATE_CHANGE,gt.CLOSED),(f=this.peerConnection)===null||f===void 0||f.close(),(g=this.peerConnection)===null||g===void 0||g.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onConnectionStateChange),this.ingestSessionId=void 0,(T=this.reconnectStrategy)===null||T===void 0||T.stop()}addTracks(f){var g;if(Ac(this.peerConnection),!f)return;const b=this.peerConnection.getSenders().map(O=>{var N;return(N=O.track)===null||N===void 0?void 0:N.id}),T=f.tracks.filter(O=>!b.includes(O.id));for(const O of T)(g=this.peerConnection)===null||g===void 0||g.addTrack(O)}getReports(){var f;return za(this,void 0,void 0,function*(){try{const g=(yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats())||[],b=[];return g.forEach(T=>{b.push(T)}),b}catch{return[]}})}sendSetupRequest(f,g,b){var T;return za(this,void 0,void 0,function*(){const O=yield fetch(`${f}/v1/offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({offer:Kt(b),streamKey:g},this.config.streamConfig))});if(!O.ok)throw function(M){let L=new Et(Object.assign({},pt));return(M==null?void 0:M.code)===1007&&(L=new Et(Object.assign({},_n))),M!=null&&M.message&&(L.message=M.message),L}(yield O.json());const N=yield O.json();N!=null&&N.answer&&(yield(T=this.peerConnection)===null||T===void 0?void 0:T.setRemoteDescription(function(M){return JSON.parse(atob(M))}(N.answer)),this.ingestSessionId=N.ingestSessionId)})}handleTerminalConnectionFailure(){const f=new Et(Ct);this.handleError(f.code,f.message)}handleError(f,g){this.analyticsTracker.trackEvent(new ar({code:f,description:g,isFatal:!0})),this.emitter.emit(jr.ERROR,{code:f,message:g})}createPeerConnection(){var f;const g=this.getConnectionState(),b=g!==gt.NONE,T=g!==gt.CLOSED,O=(f=this.reconnectStrategy)===null||f===void 0?void 0:f.isActive();b&&T&&!O||(this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stateCheckInterval=window.setInterval(()=>{const N=this.getConnectionState();if(this.reconnectStrategy&&N===gt.DISCONNECTED&&this.disconnectionStartDate){const M=Date.now()-this.disconnectionStartDate.getTime();this.logger.info({msg:"Time since disconnected:",timeSinceDisconnect:M}),M>1e4&&(this.disconnectionStartDate=void 0,this.reconnectStrategy.execute())}else N===gt.CLOSED&&(this.handleTerminalConnectionFailure(),clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0)},1e3),this.peerConnection=new RTCPeerConnection(Ch),this.stopStreamDataChannel=this.peerConnection.createDataChannel("stopStream"),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onConnectionStateChange))}createReconnectStrategy(f){if(this.reconnectStrategy=bw.create(this,f.networkReconnectConfig,this.logger,this.emitter),this.reconnectStrategy){this.reconnectStrategy.onFailure(this.handleTerminalConnectionFailure.bind(this));const g=this.reconnectStrategy.id;this.logger.info({msg:"Using reconnect strategy:",strategyId:g})}}}Qi=new WeakMap;var Fl,Um,Th=i(5364);(function(S){S.CONFIG="config",S.UPDATE="update",S.START="start",S.STOP="stop"})(Fl||(Fl={})),function(S){S.VIDEO_SEND="video/send",S.VIDEO_RECEIVE="video/receive",S.INSERT_SEI="insertSei"}(Um||(Um={}));var Sw=i(5512),Xy=i.n(Sw);function _w(){return Xy()(`/*! For license information please see scheduler.worker.worker.js.LICENSE.txt */
(()=>{"use strict";var i,t;!function(i){i.CONFIG="config",i.UPDATE="update",i.START="start",i.STOP="stop"}(i||(i={})),function(i){i.VIDEO_SEND="video/send",i.VIDEO_RECEIVE="video/receive",i.INSERT_SEI="insertSei"}(t||(t={}));const s=self;const n=new class Scheduler{constructor(){this.config={frameRate:60,isRunning:!1}}setConfig(i){this.config=Object.assign(Object.assign({},this.config),i),this.config.isRunning&&(this.stop(),this.start())}start(){this.config.isRunning||(this.intervalId=setInterval((()=>{s.postMessage({type:i.UPDATE})}),1e3/this.config.frameRate),this.config.isRunning=!0)}stop(){this.config.isRunning&&(clearInterval(this.intervalId),this.intervalId=void 0,this.config.isRunning=!1)}};s.addEventListener("message",(function(t){var s;if(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.type)switch(t.data.type){case i.CONFIG:n.setConfig(t.data.payload||{});break;case i.START:n.start();break;case i.STOP:n.stop()}}))})();`,"Worker",void 0,void 0)}var Wa=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ha{constructor(f,g,b){this.config=f,this.mediaStreamManager=g,this.analyticsTracker=b,this.handleWorkerEvent=M=>{var L;((L=M.data)===null||L===void 0?void 0:L.type)===Fl.UPDATE&&this.drawComposite()},this.mixer={video:[],audio:[]},this.schedulerWorker=new _w,this.running=!1,this.compositeEl=document.createElement("canvas"),this.compositeEl.height=this.config.streamConfig.maxResolution.height,this.compositeEl.width=this.config.streamConfig.maxResolution.width;const T=this.compositeEl.getContext("2d");if(T===null)throw new Et(Object.assign({},dh));this.compositeContext=T,this.compositeStream=this.compositeEl.captureStream(typeof CanvasCaptureMediaStreamTrack!==void 0?0:30);const O=ye(this.compositeStream.getTracks(),me.VIDEO);this.audioContext=new AudioContext,this.unlockAudioContext(),this.audioDestination=this.audioContext.createMediaStreamDestination(),this.setupSilence();const N=ye(this.audioDestination.stream.getTracks(),me.AUDIO);O&&this.mediaStreamManager.setTrack(me.VIDEO,O),N&&this.mediaStreamManager.setTrack(me.AUDIO,N),this.schedulerWorker.addEventListener("message",this.handleWorkerEvent),this.schedulerWorker.postMessage({type:Fl.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.previewElement=null,this.previewCtx=null,this.nextMix=new Date().getTime()}attachPreview(f){this.previewElement=f;const{width:g,height:b}=this.config.streamConfig.maxResolution;this.previewElement.width=g,this.previewElement.height=b,this.previewCtx=this.previewElement.getContext("2d")}detachPreview(){this.previewElement=null,this.previewCtx=null}setupSilence(){const f=this.audioContext.createConstantSource(),g=this.audioContext.createGain();g.gain.value=.001,f.connect(g),g.connect(this.audioDestination),f.start()}unlockAudioContext(){if(this.audioContext.state!=="suspended")return;const f=document.body,g=["touchstart","touchend","mousedown","keydown"],b=()=>{g.forEach(O=>{f.removeEventListener(O,T)})},T=()=>{this.audioContext.resume().then(b)};g.forEach(O=>{f.addEventListener(O,T,!1)})}getTracks(){return[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)]}getCanvasVideoTrack(){return this.mediaStreamManager.getTrack(me.VIDEO)}getAudioInputDevice(f){if(typeof f!="string")return;const g=this.mixer.audio.find(b=>{if(b.name===f)return b.source});return g==null?void 0:g.source}getVideoInputDevice(f){if(typeof f=="string")return this.mixer.video.find(g=>g.name===f)}getCanvasDimensions(){return{height:this.compositeEl.height,width:this.compositeEl.width}}addVideoInputDevice(f,g,b){var T;return Wa(this,void 0,void 0,function*(){if(typeof f!="object")throw new Et(Object.assign({},Rl));if(!g||typeof g!="string")throw new Et(Object.assign({},ue));if(this.mixer.video.some(W=>W.name===g))throw new Et(Object.assign({},kl));if(!b)throw new Et(Object.assign({},gd));if(typeof b.index!="number")throw new Et(Object.assign({},Pc));const O=function(){const W=document.createElement("video");return W.autoplay=!0,W.muted=!0,W.setAttribute("playsinline",""),W.setAttribute("webkit-playsinline",""),W}(),N=f.getVideoTracks(),[M]=N;if(!N.length)throw new Et(Object.assign({},md));const L=M.getConstraints(),A=Th({},L,{frameRate:this.config.streamConfig.maxFramerate});try{yield M.applyConstraints(A)}catch(W){let ie="Unknown constraints error";W instanceof Error&&(ie=W.message),this.analyticsTracker.trackEvent(new ar({description:`${Oe.message}: ${ie}`,isFatal:!1,code:Oe.code}))}const F=()=>Wa(this,void 0,void 0,function*(){let W=0;for(;W<5;)try{return void(yield O.play())}catch(ie){if(!(ie instanceof Error))throw new Error("unknown error trying to add video to broadcast");W++,yield new Promise(be=>setTimeout(be,150))}throw new Error("Error playing video, tries exceeded")}),B=new MediaStream([M]);O.srcObject=B;try{yield F();const W={name:g,element:O,position:b,source:B,render:!0},ie=((T=M.getSettings)===null||T===void 0?void 0:T.call(M))||{};this.analyticsTracker.trackEvent(new la(kd(ie),ie)),this.mixer.video.push(W)}catch(W){throw new Et(Object.assign(Object.assign({},md),{cause:W}))}})}addImageSource(f,g,b){var T;return Wa(this,void 0,void 0,function*(){if(!f)throw new Et(Object.assign({},Rl));if(!g||typeof g!="string")throw new Et(Object.assign({},ue));if(f.tagName==="image")throw new Et(Object.assign({},_e));if(this.mixer.video.some(N=>N.name===g))throw new Et(Object.assign({},kl));if(!b)throw new Et(Object.assign({},gd));if(typeof b.index!="number")throw new Et(Object.assign({},Pc));if(f instanceof Image){const N=(T=f.src)===null||T===void 0?void 0:T.slice();try{const M=f.src?new URL(f.src):{};if(M.host&&M.hostname){const L=yield fetch(f.src).then(F=>Wa(this,void 0,void 0,function*(){return F.blob()})),A=yield new Promise(F=>{const B=new FileReader;B.onload=()=>{F(B.result)},B.readAsDataURL(L)});f.src=A}}catch{throw new Et(Object.assign(Object.assign({},Ze),{params:{details:`Image URL: ${N}`}}))}}const O={name:g,element:f,position:b,render:!0};this.mixer.video.push(O)})}addAudioInputDevice(f,g){return Wa(this,void 0,void 0,function*(){if(typeof f!="object")throw new Et(Object.assign({},Rl));if(!g||typeof g!="string")throw new Et(Object.assign({},ue));if(this.mixer.audio.some(M=>M.name===g))throw new Et(Object.assign({},kl));const b=f.getAudioTracks();if(!b.length)throw new Et(Object.assign({},ca));const T=this.audioContext.createMediaStreamSource(new MediaStream(b)),O=this.audioContext.createGain();O.gain.value=1,T.connect(O),O.connect(this.audioDestination);const N={name:g,source:f,audioTrackSource:T,gainNode:O};this.analyticsTracker.trackEvent(new la("audio",{deviceId:f.id})),this.mixer.audio.push(N)})}removeImage(f){const g=this.mixer.video.findIndex(b=>b.name===f);if(g<0)throw new Et(Object.assign({},Zt));this.mixer.video.splice(g,1)}removeVideoInputDevice(f){var g;const b=this.removeDevice(f,this.mixer.video);if(!b)throw new Et(Object.assign({},$e));{const T=ye(b.source.getTracks(),me.VIDEO);if(!T)throw new Et(Object.assign({},$e));b.element.srcObject=null,T.stop();const O=((g=T==null?void 0:T.getSettings)===null||g===void 0?void 0:g.call(T))||{};this.analyticsTracker.trackEvent(new Sh(kd(O),O))}}removeAudioInputDevice(f){const g=this.removeDevice(f,this.mixer.audio);if(g!=null&&g.audioTrackSource){for(const b of g.source.getTracks())b.stop(),this.analyticsTracker.trackEvent(new Sh("audio",{deviceId:b.id}));g.gainNode.disconnect(this.audioDestination)}else if(!g)throw new Et(Object.assign({},$e))}updateVideoDeviceComposition(f,g){if(!f||typeof f!="string")throw new Et(Object.assign({},$t));if(!g)throw new Et(Object.assign({},sr));if(typeof g.index!="number")throw new Et(Object.assign({},an));this.mixer.video.forEach((b,T)=>{b.name===f&&(b.position=g)})}exchangeVideoDevicePositions(f,g){const b=this.getVideoInputDevice(f),T=this.getVideoInputDevice(g);if(!b)throw new Et(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${f}" not found`}}));if(!T)throw new Et(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${g}" not found`}}));const O=Object.assign({},b.position),N=Object.assign({},T.position);for(const M of this.mixer.video)M.name===f&&(Od(N.x)?M.position=Object.assign(Object.assign({},M.position),N):M.position={index:N.index}),M.name===g&&(Od(O.x)?M.position=Object.assign(Object.assign({},M.position),O):M.position={index:O.index})}start(){this.running||(this.running=!0,this.schedulerWorker.postMessage({type:Fl.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.schedulerWorker.postMessage({type:Fl.START}))}stop(){this.running&&(this.running=!1,this.schedulerWorker.removeEventListener("message",this.handleWorkerEvent))}isCapturing(){return this.running}getAudioLatency(){return this.audioContext.baseLatency}getVideoLatency(){var f;return((f=this.mediaStreamManager.getTrack(me.VIDEO))===null||f===void 0?void 0:f.getConstraints().latency)||0}disableVideo(){this.mixer.video.forEach(f=>{f.render=!1})}enableVideo(){this.mixer.video.forEach(f=>{f.render=!0})}disableAudio(){this.mixer.audio.forEach(f=>{f.audioTrackSource&&(f.gainNode.gain.value=0)})}enableAudio(){this.mixer.audio.forEach(f=>{f.audioTrackSource&&(f.gainNode.gain.value=1)})}getDrawRegion(f,g,b){var T,O,N,M;let L=(T=f.position.x)!==null&&T!==void 0?T:0,A=(O=f.position.y)!==null&&O!==void 0?O:0;const F=(N=f.position.width)!==null&&N!==void 0?N:g-L,B=(M=f.position.height)!==null&&M!==void 0?M:b-A,W=F/B;let ie=f.element.width,be=f.element.height;f.element instanceof HTMLVideoElement&&(ie=f.element.videoWidth,be=f.element.videoHeight);const ge=ie/be;let le=F,ae=B;return ge>W?(le=F,ae=2*Math.round(F/ge/2),A+=(B-ae)/2):ge<W&&(ae=B,le=2*Math.round(B*ge/2),L+=(F-le)/2),{x:L,y:A,width:le,height:ae}}drawComposite(){if(!this.shouldMix(new Date))return;this.compositeContext.clearRect(0,0,this.compositeEl.width,this.compositeEl.height),this.drawBlackScreen();const f=this.mixer.video.filter(g=>g.render);f.sort((g,b)=>g.position.index-b.position.index);for(const g of f){const{x:b,y:T,width:O,height:N}=this.getDrawRegion(g,this.compositeEl.width,this.compositeEl.height);this.compositeContext.drawImage(g.element,b,T,O,N)}this.previewElement&&this.previewCtx&&this.previewCtx.drawImage(this.compositeEl,0,0,this.previewElement.width,this.previewElement.height),this.requestCanvasCapture()}requestCanvasCapture(){typeof CanvasCaptureMediaStreamTrack!==void 0&&(typeof this.compositeStream.requestFrame=="function"?this.compositeStream.requestFrame():this.mediaStreamManager.getTrack(me.VIDEO).requestFrame())}drawBlackScreen(){this.compositeContext.fillStyle="#000000",this.compositeContext.fillRect(0,0,this.compositeEl.width,this.compositeEl.height)}removeDevice(f,g){const b=g.findIndex(T=>(O=>O.name===f)(T));if(!(b<0))return g.splice(b,1)[0]}shouldMix(f){if(f.getTime()<this.nextMix)return!1;for(;this.nextMix<=f.getTime();)this.nextMix+=1e3/this.config.streamConfig.maxFramerate;return!0}}function Od(S){return Number.isSafeInteger(S)}var Rh,Pd,Nd=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},Jy=function(S,f,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?S!==f||!b:!f.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:f.get(S)};class Ul{constructor(f){this.config=f,Rh.add(this),this.emitter=new Xr,this.isValid=!0,this.emitter.on(jr.ERROR,this.stopBroadcast),this.config.ingestEndpoint&&(this.url=new URL(this.config.ingestEndpoint)),this.analyticsTracker=new Nc,this.mediaStreamManager=new Ie;const g=new Lm(f.logLevel,f.logger);this.peerClient=new zn(this.config,this.emitter,this.mediaStreamManager,g,this.analyticsTracker),this.broadcastCanvasManager=new Ha(f,this.mediaStreamManager,this.analyticsTracker),this.peerStatsTracker=new Yy(this.peerClient,this.broadcastCanvasManager,g,this.analyticsTracker),this.broadcastCanvasManager.start(),Object.getOwnPropertyNames(Ul.prototype).forEach(b=>{this[b]=new Proxy(this[b],{apply:(T,O,N)=>{if(!O.isValid)throw new Et(Object.assign({},fh));return Reflect.apply(T,O,N)}})}),window.addEventListener("beforeunload",()=>{this.analyticsTracker.stop(!0)})}delete(){this.isValid=!1,this.peerClient.stop(),this.broadcastCanvasManager.stop(),this.emitter.removeAllListeners()}startBroadcast(f,g){return Nd(this,void 0,void 0,function*(){Jy(this,Rh,"m",Pd).call(this,f);const b=By(g||this.config.ingestEndpoint);this.analyticsTracker.start(),this.peerStatsTracker.start(),yield this.peerClient.start(b,f),this.emitter.emit(jr.ACTIVE_STATE_CHANGE,!0),this.url=new URL(b),this.url&&this.analyticsTracker.trackEvent(new wh({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port},Cd.USER_INITIATED))})}stopBroadcast(){var f,g,b;this.url&&this.analyticsTracker.trackEvent(new Dm({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port})),(f=this.peerStatsTracker)===null||f===void 0||f.stop(),(g=this.peerClient)===null||g===void 0||g.stop(),(b=this.emitter)===null||b===void 0||b.emit(jr.ACTIVE_STATE_CHANGE,!1)}getCanvasDimensions(){return this.broadcastCanvasManager.getCanvasDimensions()}addVideoInputDevice(f,g,b){return Nd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addVideoInputDevice(f,g,b)})}addImageSource(f,g,b){return Nd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addImageSource(f,g,b)})}addAudioInputDevice(f,g){return Nd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addAudioInputDevice(f,g)})}removeVideoInputDevice(f){this.broadcastCanvasManager.removeVideoInputDevice(f)}removeAudioInputDevice(f){this.broadcastCanvasManager.removeAudioInputDevice(f)}removeImage(f){this.broadcastCanvasManager.removeImage(f)}updateVideoDeviceComposition(f,g){this.broadcastCanvasManager.updateVideoDeviceComposition(f,g)}exchangeVideoDevicePositions(f,g){this.broadcastCanvasManager.exchangeVideoDevicePositions(f,g)}getAudioInputDevice(f){return this.broadcastCanvasManager.getAudioInputDevice(f)}getVideoInputDevice(f){return this.broadcastCanvasManager.getVideoInputDevice(f)}getConnectionState(){return this.peerClient.getConnectionState()}getSessionId(){return this.peerClient.getSessionId()}on(f,g){this.emitter.on(f,g)}off(f,g){this.emitter.off(f,g)}getAudioContext(){return this.broadcastCanvasManager.audioContext}attachPreview(f){this.broadcastCanvasManager.attachPreview(f)}detachPreview(){this.broadcastCanvasManager.detachPreview()}disableVideo(){this.broadcastCanvasManager.disableVideo()}enableVideo(){this.broadcastCanvasManager.enableVideo()}disableAudio(){this.broadcastCanvasManager.disableAudio()}enableAudio(){this.broadcastCanvasManager.enableAudio()}}function Bm(S){return new Ul(function(f){const g=new $y;return g.streamConfig=f.streamConfig,g.ingestEndpoint=f.ingestEndpoint,g.logger=f.logger,g.logLevel=f.logLevel,g.networkReconnectConfig=f.networkReconnectConfig,g}(S))}Rh=new WeakSet,Pd=function(S){if(typeof S!="string"||!/^[a-zA-Z0-9_-]+$/.test(S))throw new Et(ph)};const Bl="1.21.0";var Ge,wr=i(2543);(function(S){S.PUBLISH="publish",S.SUBSCRIBE="subscribe",S.JOIN="join",S.LEAVE="leave"})(Ge||(Ge={}));const ww=2,Ew="X-Stages-Options",Cw="cap";class kh extends on{constructor(f){super(ln.LEAVE,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.LEAVE,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint,reason:f.reason}),this.critical=!0}}class yo{constructor(){this.emitter=new Xr}on(f,g,b){g.call=function(T,O){return function(N,...M){try{O.apply(N,M)}catch(L){let A=`Error in callback for ${T}`;const F=O.name;return F&&(A+=` for function ${F}`),void console.error(`${A}
`,L)}}}(f,g),this.emitter.on(f,g,b)}off(f,g,b){this.emitter.off(f,g,b)}emit(f,...g){this.emitter.emit(f,...g)}removeAllListeners(){this.emitter.removeAllListeners()}}function Oh(S){const f="0123456789abcdef";let g="";for(let b=0;b<S;b+=1)g+=f.charAt(Math.floor(16*Math.random()));return g}class Tw{constructor(){const f=Oh;this.value=`${f(8)}-${f(4)}-${f(4)}-${f(4)}-${f(12)}`}}function Ga(){return new Tw}class Zy{constructor(){const f=(Date.now()/1e3|0).toString(16);this.value=`1-${f}-${Oh(24)}`}}function Xi(){return new Zy}var gr=i(2505),Wr=i.n(gr);class en extends Et{constructor({token:f,traceId:g,code:b,tag:T,location:O,message:N,details:M,remoteParticipantId:L,requestUUID:A,fatal:F,nominal:B,action:W,count:ie=1}){super({name:"StageClientError",message:N,code:b}),Error.captureStackTrace&&Error.captureStackTrace(this,en),this.action=W,this.token=f,this.traceId=g,this.code=b,this.tag=T,this.location=O,this.message=N,this.details=M,this.remoteParticipantId=L,this.requestUUID=A,this.fatal=F,this.nominal=B,this.count=ie}}const Id="signalling_session",Ad="webrtc_sink",Rw="webrtc_unsink",jd="webrtc_source";function Jr(S,f){switch(S){case Ge.PUBLISH:return Ad;case Ge.SUBSCRIBE:return`webrtc_source:${f}`;default:return"unknown"}}function ua(S,f){var g,b,T,O;const N={code:S.code,message:`${S.message}: ${f.name} ${f.message}`,fatal:(g=S.fatal)!==null&&g!==void 0&&g,nominal:(b=S.nominal)!==null&&b!==void 0&&b};return f instanceof en&&(N.fatal=(T=f.fatal)!==null&&T!==void 0&&T,N.nominal=(O=f.nominal)!==null&&O!==void 0&&O),N}function jc(S,f){if(S===0)return Ae.UNKNOWN_SERVER_ERROR;if(!(S<400))if(S>=400&&S<=403)switch(f){case xi.TokenExpired:return Ae.EXPIRED_TOKEN;case xi.NoPermissions:return Ae.TOKEN_PERMISSIONS_DENIED;case xi.StageAtCapacity:return Ae.STAGE_AT_CAPACITY;case xi.NoMatchingCodec:return Ae.NO_MATCHING_CODEC;default:return Ae.UNKNOWN_SERVER_ERROR}else{if(S===404)return f===xi.RemoteStreamNotFound?Ae.REMOTE_STREAM_NOT_FOUND:Ae.UNKNOWN_SERVER_ERROR;if(S===412)return f===xi.AbortedMHCPError?Ae.MHCP_ABORTED:Ae.UNKNOWN_SERVER_ERROR;if(S===429)return f===xi.StageAuthThrottled?Ae.STAGE_AUTH_THROTTLED:Ae.WHIP_TOO_MANY_REQUESTS;if(S!==500)return Ae.UNKNOWN_SERVER_ERROR;switch(f){case xi.InternalMHCPError:return Ae.INTERNAL_MHCP_ERROR;case xi.UnreachableMHCP:return Ae.UNREACHABLE_MHCP;case xi.InvalidSessionStatus:return Ae.INVALID_SESSION_STATUS;default:return Ae.INTERNAL_SERVER_ERROR}}}var xi;(function(S){S[S.Unspecified=2001]="Unspecified",S[S.TokenExpired=2002]="TokenExpired",S[S.NoPermissions=2003]="NoPermissions",S[S.RemoteStreamNotFound=2004]="RemoteStreamNotFound",S[S.StageAtCapacity=2005]="StageAtCapacity",S[S.InternalMHCPError=2006]="InternalMHCPError",S[S.UncategorizedMHCPError=2007]="UncategorizedMHCPError",S[S.UnreachableMHCP=2008]="UnreachableMHCP",S[S.InvalidSessionStatus=2010]="InvalidSessionStatus",S[S.PostWithoutOptions=2011]="PostWithoutOptions",S[S.AbortedMHCPError=2012]="AbortedMHCPError",S[S.StageAuthThrottled=2013]="StageAuthThrottled",S[S.NoMatchingCodec=2014]="NoMatchingCodec"})(xi||(xi={}));const Ae={MALFORMED_TOKEN:{code:1e3,message:"Token is malformed",fatal:!0,nominal:!0},EXPIRED_TOKEN:{code:1001,message:"Token expired and is no longer valid",fatal:!0,nominal:!0},UNPUBLISH_FAILURE:{code:1013,message:"Failed to unpublish",fatal:!1,nominal:!1},UNSUBSCRIBE_FAILURE:{code:1014,message:"Failed to unsubscribe",fatal:!1,nominal:!1},PUBLISH_FAILURE:{code:1015,message:"Failed to publish",fatal:!1,nominal:!1},SUBSCRIBE_FAILURE:{code:1016,message:"Failed to subscribe",fatal:!1,nominal:!1},JOIN_FAILURE:{code:1017,message:"Failed to join",fatal:!0,nominal:!1},JOIN_TIMED_OUT:{code:1019,message:"Join timed out",fatal:!0,nominal:!1},PUBLISH_TIMED_OUT:{code:1020,message:"Publish timed out",fatal:!1,nominal:!1},SUBSCRIBE_TIMED_OUT:{code:1021,message:"Subscribe timed out",fatal:!1,nominal:!1},NO_CANDIDATES:{code:1022,message:"No ICE candidates",fatal:!1,nominal:!1},OPERATION_ABORTED:{code:1023,message:"Request aborted",fatal:!1,nominal:!0},STAGE_AT_CAPACITY:{code:1024,message:"Stage at capacity",fatal:!0,nominal:!0},INTERNAL_SERVER_ERROR:{code:1025,message:"Internal server error",fatal:!0,nominal:!1},TOKEN_PERMISSIONS_DENIED:{code:1026,message:"Token permissions are not valid for the operation",fatal:!0,nominal:!1},REMOTE_STREAM_NOT_FOUND:{code:1027,message:"Contributor group (PUBLISH) or remote stream (SUBSCRIBE) not found",fatal:!0,nominal:!1},INTERNAL_MHCP_ERROR:{code:1028,message:"Authorization failed due to internal MHCP error",fatal:!0,nominal:!1},UNCATEGORIZED_MHCP_ERROR:{code:1029,message:"Authorization failed due to uncategorized MHCP error",fatal:!0,nominal:!1},UNREACHABLE_MHCP:{code:1030,message:"Authorization failed due to MHCP unreachable",fatal:!0,nominal:!1},INVALID_SESSION_STATUS:{code:1031,message:"Stream has already been published (PUBLISH) or subscribed to (SUBSCRIBE)",fatal:!0,nominal:!1},POST_WITHOUT_OPTIONS:{code:1032,message:"Cannot POST without OPTIONS in mandatory TURN",fatal:!0,nominal:!1},MHCP_ABORTED:{code:1033,message:"Publisher state conflict",fatal:!0,nominal:!1},STAGE_AUTH_THROTTLED:{code:1034,message:"Too many requests",fatal:!1,nominal:!1},NO_MATCHING_CODEC:{code:1035,message:"No matching codec found",fatal:!0,nominal:!1},CHIME_MEETING_NOT_FOUND:{code:1098,message:"Meeting or Attendee was deleted",fatal:!0,nominal:!0},UNKNOWN_SERVER_ERROR:{code:1099,message:"Service error code unknown or not found",fatal:!0,nominal:!1},XDP_CONNECTION_LOST:{code:1221,message:"Connection lost during SDP exchange",fatal:!1,nominal:!1},XDP_INVALID_ANSWER_MSG:{code:1222,message:"Invalid answer message received by client",fatal:!1,nominal:!1},XDP_TIMEOUT:{code:1223,message:"Failed to receive SDP answer within timeout period",fatal:!1,nominal:!1},XDP_UNEXPECTED_ERROR:{code:1224,message:"Unexpected error encountered",fatal:!1,nominal:!1},WEBSOCKET_MESSAGE_PARSE_FAILURE:{code:1204,message:"Failed to parse websocket message",fatal:!1,nominal:!1},WHIP_SESSION_RESOURCE_DELETED:{code:1206,message:"WHIP signaling session resource not found",fatal:!0,nominal:!0},WHIP_TOO_MANY_REQUESTS:{code:1207,message:"WHIP endpoint received too many requests",fatal:!1,nominal:!1},WHIP_OPTIONS_FAILURE:{code:1501,message:"Failed to get ICE Servers from OPTIONS",fatal:!1,nominal:!1},WHIP_POST_FAILURE:{code:1502,message:"WHIP post failure",fatal:!1,nominal:!1},WHIP_DELETE_FAILURE:{code:1503,message:"WHIP delete failure",fatal:!1,nominal:!1},WHIP_URL_MISSING:{code:1504,message:"WHIP delete failure",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_FAILED:{code:1510,message:"Set layer request failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_THROTTLED:{code:1511,message:"Too many set layer requests",fatal:!1,nominal:!0},WHEP_GET_LAYER_STATE_FAILED:{code:1512,message:"Get layer state failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_GET_LAYER_STATE_THROTTLED:{code:1513,message:"Too many get layer state requests",fatal:!1,nominal:!0},EVENT_PLANE_WS_CREATE_FAILED:{code:1300,message:"Error creating WebSocket",fatal:!0,nominal:!1},EVENT_PLANE_WS_UNEXPECTED_CLOSE:{code:1302,message:"Unexpectedly not connected to event plane",fatal:!1,nominal:!1},EVENT_PLANE_PING_SEND_FAIL:{code:1303,message:"Ping send fail",fatal:!1,nominal:!1},EVENT_PLANE_PONG_TIMEOUT:{code:1304,message:"Pong timed out",fatal:!1,nominal:!1},EVENT_PLANE_WS_CLOSE_BEFORE_OPEN:{code:1305,message:"Connect attempt closed by server",fatal:!1,nominal:!1},PEER_CONNECTION_NETWORK_FAILURE:{code:1400,message:"PeerConnection is lost due to unknown network error",fatal:!1,nominal:!1},CREATE_OFFER_FAILURE:{code:1402,message:"Failed to set local description",fatal:!1,nominal:!1},CREATE_PEER_CONNECTION_FAILURE:{code:1403,message:"Failed to create a peer connection",fatal:!1,nominal:!1},ICE_CANDIDATE_ERROR:{code:1404,message:"ICE candidate error",fatal:!1,nominal:!1},SET_ANSWER_FAILURE:{code:1405,message:"Failed to set remote answer",fatal:!1,nominal:!1},NETWORK_FAILURE:{code:1406,message:"Failed due to network problem",fatal:!1,nominal:!1},SEI_INSERT_NOT_PUBLISHING_VIDEO:{code:1460,message:"SEI failed to insert due to not publishing video",fatal:!1,nominal:!0},SEI_INSERT_INBAND_NOT_ENABLED:{code:1461,message:"SEI failed to insert due to in-band messaging not being enabled",fatal:!1,nominal:!0},REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID:{code:1470,message:"Invalid participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID:{code:1471,message:"Invalid remote participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE:{code:1472,message:"Invalid subscriber peer connection state for reassignment",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS:{code:1473,message:"Request rejected because client is already processing a previous reassignment request",fatal:!1,nominal:!1},UNEXPECTED_ERROR:{code:9999,message:"Encountered unexpected error condition. Expected StageClientError type.",fatal:!1,nominal:!1},TRANSFORM_UNEXPECTED_ERROR:{code:1480,message:"Unexpected error occurred during transform execution",fatal:!1,nominal:!1},TRANSFORM_TOO_MANY_ERRORS:{code:1481,message:"Transformer encountered too many consecutive errors",fatal:!1,nominal:!1},TRANSFORM_NOT_SUPPORTED_BY_PLATFORM:{code:1482,message:"Transforms are not supported by this platform",fatal:!1,nominal:!1},CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR:{code:1490,message:"Unexpected error occurred when handling incompatible codecs",fatal:!1,nominal:!1}};var Si;(function(S){S.UNPUBLISH="unpublish",S.UNSUBSCRIBE="unsubscribe",S.UNLOAD="unload",S.CONNECTION_FAIL="connection fail",S.REASSIGNMENT="reassignment"})(Si||(Si={}));const $l="stageJoined",Ph="stageParticipantJoined",Nh="stageParticipantLeft",$m="stageParticipantKicked",Ih="stageParticipantUpdated",Vm="localPublishingChanged",Ah="stageRefresh",da="stateChange",zm="error",H="reassignmentRequest",Dc="incompatibleCodecs",Vl="connectionStateChange",Ji="stageStreamUpdate",yn="error",qa="stageStreamSeiMessageReceived",as="transformError",Us="reassignmentStarted",Ka="reassignmentSuccess",Uo="reassignmentFailed",Wm="open",Dd="closed",e0="messageParseError",t0="refresh",cs="error",zl="stageStateMessage",Wl="sdpAnswer",n0="disconnectMessage",Hm="reassignmentMessage",Bs="incompatibleCodecs";function jh(S){return g=function(b){return b.replace(/-/g,"+").replace(/_/g,"/").padEnd(b.length+(4-b.length%4)%4,"=")}(S),window.atob(g);var g}class Mc{constructor(f,g){this.analyticsTracker=g,this.rawToken=f;const b=f.split(".");if(b.length!==3)throw Error(`Token format incorrect. length: ${b.length}`);try{this.header=JSON.parse(jh(b[0]))}catch(N){const M=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token header${M}`)}try{this.claims=JSON.parse(jh(b[1]))}catch(N){const M=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token claims${M}`)}this.signature=b[2];const{claims:T}=this;this.stageARN=T.resource,this.participantID=T.jti,this.eventsURL=T.events_url,this.whipURL=bi("whipUrl")||T.whip_url,this.userID=T.user_id,this.expirationTime=T.exp,this.topic=T.topic,this.parseVersionFlags(T.version);const{attributes:O}=T;O&&(this.attrGsRole=O.gs_role,this.attrGsSessionId=O.gs_session_id)}getPublishEndpoint(){let f="";return this.whipURL&&this.participantID&&(f=`${this.whipURL}/publish/${this.participantID}`),f}getSubscribeEndpoint(f){let g="";return this.whipURL&&(g=`${this.whipURL}/subscribe/${f}`),g}assertTokenIsUnexpired(f,g,b,T){(!this.expirationTime||Date.now()/1e3>=this.expirationTime)&&this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},Ae.EXPIRED_TOKEN),{action:Ge.JOIN,location:b,tag:g,token:this,traceId:f,remoteParticipantId:T,message:Ae.EXPIRED_TOKEN.message,details:`Token expired at ${this.expirationTime} and is no longer valid`})))}parseVersionFlags(f){if(!f)return;const g=f.split(".");g.length===2&&(this.versionFlags=parseInt(g[1],10))}shouldSendSilentAudio(){return this.versionFlags===void 0||!!(this.versionFlags&ww)}}function bo(S,f){return new Mc(S,f)}class r0{constructor(f,g){this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=()=>{this.trailing&&this.trailingFn&&this.trailingFn(...this.trailingFnArgs),this.clear()},this.throttleDuration=f,this.trailing=!(g&&g.skipTrailing)}invoke(f,...g){return this.throttled?(this.trailingFn=f,this.trailingFnArgs=g,!1):(this.throttled=!0,this.timeout=window.setTimeout(this.unthrottle,this.throttleDuration),f(...g),!0)}clear(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn,delete this.trailingFnArgs}}var ot=i(8954);class Hl extends on{constructor(f,g,b,T,O,N,M,L){super(ln.SERVER_REQUEST,g,M,!0),Object.assign(this.properties,{action:f,http_method:T,remote_participant_id:N,request_uuid:O,url:b,transport:L})}}const ls="draft-ietf-wish-whip-04";var Zr,i0=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};function Md(S,f){return i0(this,void 0,void 0,function*(){S.validateStatus=b=>b>=200&&b<300||b===403;const g=yield Wr()(S);if(g.status===403){if(g.data.code===2003)throw new gr.AxiosError("Request failed with status code 403","ERR_BAD_REQUEST",S,g.request,g);return S.url===g.request.responseURL?(S.validateStatus=b=>b>=200&&b<300,Wr()(S)):(S.url=g.request.responseURL,f<5?Md(S,f+1):(S.validateStatus=b=>b>=200&&b<300,Wr()(S)))}return g})}function o0(S){return i0(this,void 0,void 0,function*(){return Md(S,0)})}function ei(){}function Dh(S){switch(S){case"new":return gt.NEW;case"closed":return gt.CLOSED;case"disconnected":return gt.DISCONNECTED;case"failed":return gt.FAILED;case"idle":return gt.IDLE;case"checking":case"connecting":return gt.CONNECTING;case"completed":case"connected":return gt.CONNECTED;default:throw new Error(`unknown connecion state: ${S}`)}}function Gm(S,f,g){let b=document.createElement(f);const T=()=>{b&&(b.removeEventListener("loadeddata",O),b.removeEventListener("error",T),b.srcObject=null,b.src="",b=null)},O=()=>{T(),g(f)};return b.addEventListener("loadeddata",O),b.addEventListener("error",T),b.srcObject=S,T}class xo extends on{constructor(f,g,b,T,O){super(ln.TRACE,f,g,!1),Object.assign(this.properties,{action:T,message:b,remote_participant_id:O})}}class qm extends on{constructor(f,g,b,T,O){super(ln.CONNECTION_STATE,g,b,!1),Object.assign(this.properties,{action:f,remote_participant_id:O,state:T})}}class Mh extends on{constructor(f,g,b,T,O){super(ln.ICE_GATHERING_STATE,g,b,!1),Object.assign(this.properties,{action:f,remote_participant_id:O,state:T})}}(function(S){S.POST="post",S.CONNECTED="connected",S.ICE_GATHERING="icegathering",S.SDP_EXCHANGE="sdpExchange",S.SET_REMOTE_DESC="setRemoteDesc",S.PEER_CONNECTION="peerConnection"})(Zr||(Zr={}));const Ya="start",Km="stop";class Ui{constructor(f,g){this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0,this.action=f,this.traceId=g}markActionStart(){this.markStart(Zr.CONNECTED)}markPostStart(){this.markStart(Zr.POST)}markPostStop(){this.markStop(Zr.POST),this.postDuration=this.measure(Zr.POST)}markIceGatheringStart(){this.markStart(Zr.ICE_GATHERING)}markIceGatheringStop(){this.markStop(Zr.ICE_GATHERING),this.timeToCandidate=this.measure(Zr.ICE_GATHERING)}markActionStop(){this.markStop(Zr.CONNECTED),this.timeToConnected=this.measure(Zr.CONNECTED),this.markStop(Zr.PEER_CONNECTION),this.peerConnectionDuration=this.measure(Zr.PEER_CONNECTION)}markSetRemoteDescStart(){this.markStart(Zr.SET_REMOTE_DESC)}markSetRemoteDescStop(){const f=Zr.SET_REMOTE_DESC;this.markStop(f),this.setRemoteDescDuration=this.measure(f),this.markStart(Zr.PEER_CONNECTION)}markSdpExchangeStart(){this.markStart(Zr.SDP_EXCHANGE)}markSdpExchangeStop(){const f=Zr.SDP_EXCHANGE;this.markStop(f),this.sdpExchangeDuration=this.measure(f)}setTransport(f){this.sdpExchangeTransport=f}markStart(f){this.marks[`${this.namespace}.${f}.${Ya}`]=performance.now()}markStop(f){this.marks[`${this.namespace}.${f}.${Km}`]=performance.now()}measure(f){const g=`${this.namespace}.${f}.${Ya}`,b=`${this.namespace}.${f}.${Km}`,T=this.marks[g],O=this.marks[b];return T===void 0||O===void 0?0:O-T}get namespace(){return`ivswb.peerclient.${this.action}.${this.traceId.value}`}getMeasurements(){const{optionsDuration:f,postDuration:g,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:M,peerConnectionDuration:L}=this;return{optionsDuration:f,postDuration:g,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:M,peerConnectionDuration:L}}resetMeasurements(f){this.traceId=f,this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0}}var fa,_i,Gl;(function(S){S.VIDEO="video",S.AUDIO="audio"})(fa||(fa={})),function(S){S.DEFAULT="default",S.LOW="low",S.MEDIUM="medium",S.HIGH="high"}(_i||(_i={})),function(S){S.LOWEST_QUALITY="lowest_quality",S.HIGHEST_QUALITY="highest_quality"}(Gl||(Gl={}));var ql=i(7363);class In{constructor(f){this.sdp=f}static splitLines(f){return f.trim().split(`
`).map(g=>g.trim())}static splitSections(f){return f.split(`
m=`).map((g,b)=>(b>0?`m=${g}`:g).trim()+In.CRLF)}getUniqueRtpHeaderExtensionId(f){const g=[];for(const T of f)if(/^a=extmap:/.test(T.trim())){const O=+T.split("a=extmap:")[1].split(" ")[0];g.includes(O)||g.push(O)}g.sort((T,O)=>T-O);let b=0;for(const T of g){if(T-b>1)return b+1;b=T}return b===14?-1:b+1}withVideoLayersAllocationRtpHeaderExtension(f){const g="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",b=f?f.getRtpHeaderExtensionId(g):-1,T=b===-1?this.getUniqueRtpHeaderExtensionId(In.splitLines(this.sdp)):b,O=In.splitSections(this.sdp),N=[];for(let L of O){if(/^m=video/.test(L)&&In.getRtpHeaderExtensionIdInSection(L,g)===-1){const A=In.splitLines(L),F=[];if(T===-1||this.hasRtpHeaderExtensionId(T)){N.push(L);continue}for(const B of A)if(F.push(B),/^a=sendrecv/.test(B.trim())){const W=`a=extmap:${T} ${g}`;F.push(W)}L=F.join(In.CRLF)+In.CRLF}else if(b!==-1&&/^m=video/.test(L)&&In.getRtpHeaderExtensionIdInSection(L,g)!==b){const A=In.splitLines(L),F=[];for(const B of A){if(/^a=extmap:/.test(B.trim())&&B.split("a=extmap:")[1].split(" ")[1]===g){if(!this.hasRtpHeaderExtensionId(b)){const W=`a=extmap:${b} ${g}`;F.push(W)}continue}F.push(B)}L=F.join(In.CRLF)+In.CRLF}N.push(L)}const M=N.join("");return new In(M)}withOpusAudioConfig(f,g){const b=ql.qg(this.sdp);for(const T of b.media)if(T.type==="audio"){const{payload:O}=T.rtp.find(A=>A.codec==="opus");if(!O)continue;let N=T.fmtp.find(A=>A.payload===O);N||(N={payload:O,config:""});const M=ql.Sl(N.config);if(M.maxaveragebitrate=f,typeof g=="boolean"){const A=g?1:0;M["sprop-stereo"]=A,M.stereo=A}let L="";for(const A of Object.keys(M))L+=`${A}=${M[A]}; `;N.config=L.trim()}return new In(ql.M9(b))}static getRtpHeaderExtensionIdInSection(f,g){const b=In.splitLines(f);for(const T of b)if(/^a=extmap:/.test(T.trim())){const O=T.split("a=extmap:")[1].split(" "),N=+O[0];if(O[1]===g)return N}return-1}getRtpHeaderExtensionId(f){const g=In.splitSections(this.sdp);for(const b of g)if(/^m=video/.test(b)){const T=In.getRtpHeaderExtensionIdInSection(b,f);if(T!==-1)return T}return-1}hasRtpHeaderExtensionId(f){const g=In.splitLines(this.sdp);for(const b of g)if(/^a=extmap:/.test(b.trim())&&+b.split("a=extmap:")[1].split(" ")[0]===f)return!0;return!1}hasAudioNacksEnabled(){var f,g,b;return((b=(g=((f=ql.qg(this.sdp).media.filter(T=>T.type==="audio")[0])!==null&&f!==void 0?f:{}).rtcpFb)===null||g===void 0?void 0:g.filter(T=>T.type==="nack"))!==null&&b!==void 0?b:[]).length>0}}In.CRLF=`\r
`,In.rfc7587LowestBitrate=6e3,In.rfc7587HighestBitrate=51e4;const Lc=200,us=2500,Lh=10,Qa=30,Ld=12,Fc=128,Ym=64,Qm={[_i.DEFAULT]:0,[_i.LOW]:50,[_i.MEDIUM]:150,[_i.HIGH]:250},s0={[_i.DEFAULT]:0,[_i.LOW]:100,[_i.MEDIUM]:200,[_i.HIGH]:300};var a0=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Xm="H264",Fd=S=>{const f=S==null?void 0:S.split("/");if((f==null?void 0:f.length)===2)return f[1]},ds=(S,f)=>{const g=Fd(S);if(S===void 0||g===void 0)return;const b={mimeSubtype:g};if(f){const T=(O=>{const N=O.split(";"),M=new Map;for(const L of N){const[A,F]=L.split("=");M.set(A,F)}return M})(f);switch(g){case Xm:{const O=T.get("profile-level-id");O&&((N,M)=>{if(M.length<6)return;const L=M.substring(0,4),A=parseInt(M.substring(4,6),16);N.profile=L,N.level=A})(b,O);break}case"H265":((O,N)=>{const M=N.get("profile-id")||"0",L=N.get("tier-flag")||"0",A=parseInt(N.get("level-id")||"0",10),F=[L,M].join("_");O.profile=F,O.level=A})(b,T)}}return b},Jm=(S,f)=>S.sort((g,b)=>{if(Fd(g.mimeType)===Xm){const T=ds(g.mimeType,g.sdpFmtpLine);if((T==null?void 0:T.profile)===f)return-1}return 0}),Zm=(S,f)=>{var g;const b=ds(S.mimeType,S.sdpFmtpLine);return(b==null?void 0:b.mimeSubtype.toLowerCase())===f.mime.toLowerCase()&&((g=b==null?void 0:b.profile)===null||g===void 0?void 0:g.toLowerCase().indexOf(f.config.toLowerCase()))===0},eg=(S,f)=>f.filter(g=>!g.mimeType.endsWith("rtx")).filter(g=>g.mimeType.indexOf("packetization-mode=0")===-1).find(g=>S.reduce((b,T)=>b&&Zm(g,T)===!1,!0));class c0 extends on{constructor(f,g,b,T,O,N,M,L,A){var F,B;super(ln.PUBLISHED_VIDEO_STATS,f,g,!1),Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(F=b==null?void 0:b.node)!==null&&F!==void 0?F:"",cluster:(B=b==null?void 0:b.cluster)!==null&&B!==void 0?B:""},((W,ie,be,ge,le,ae)=>{var oe,we,ze,st,Tt,Yt,Qt,zt,Nt,tn,un,vt,yt,cn,It,At,dn,Pn,$n,ir,jn,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Hr;const Pi=(we=(oe=W==null?void 0:W.qualityLimitationDurations)===null||oe===void 0?void 0:oe.cpu)!==null&&we!==void 0?we:0,Ni=(st=(ze=W==null?void 0:W.qualityLimitationDurations)===null||ze===void 0?void 0:ze.bandwidth)!==null&&st!==void 0?st:0,pi=Math.max((Tt=W==null?void 0:W.bytesSent)!==null&&Tt!==void 0?Tt:0,0),Vi=8*pi/(ae??1),to=Math.max((Yt=ie==null?void 0:ie.packetsLost)!==null&&Yt!==void 0?Yt:0,0),wo=Math.max((Qt=W==null?void 0:W.packetsSent)!==null&&Qt!==void 0?Qt:0,0),mr=to/Math.max(wo,1),li=ds(ge==null?void 0:ge.mimeType,ge==null?void 0:ge.sdpFmtpLine);return{active:!!(W!=null&&W.framesPerSecond)&&W.framesPerSecond!==0,bytes_sent:pi,codec_mime_type:li==null?void 0:li.mimeSubtype,codec_profile:li==null?void 0:li.profile,codec_level:li==null?void 0:li.level,configured_bitrate:le==null?void 0:le.max_bitrate,connection_bandwidth:(zt=be==null?void 0:be.availableOutgoingBitrate)!==null&&zt!==void 0?zt:0,encode_bitrate:Vi,encoder_implementation:(Nt=W==null?void 0:W.encoderImplementation)!==null&&Nt!==void 0?Nt:"unknown",fir_count:(tn=W==null?void 0:W.firCount)!==null&&tn!==void 0?tn:0,fraction_packets_lost:mr,frame_height:Math.max((un=W==null?void 0:W.frameHeight)!==null&&un!==void 0?un:0,0),frame_width:Math.max((vt=W==null?void 0:W.frameWidth)!==null&&vt!==void 0?vt:0,0),frames_encoded:(yt=W==null?void 0:W.framesEncoded)!==null&&yt!==void 0?yt:0,frames_per_second:Math.max((cn=W==null?void 0:W.framesPerSecond)!==null&&cn!==void 0?cn:0,0),frames_sent:(It=W==null?void 0:W.framesSent)!==null&&It!==void 0?It:0,header_bytes_sent:(At=W==null?void 0:W.headerBytesSent)!==null&&At!==void 0?At:0,huge_frames_sent:(dn=W==null?void 0:W.hugeFramesSent)!==null&&dn!==void 0?dn:0,key_frames_encoded:(Pn=W==null?void 0:W.keyFramesEncoded)!==null&&Pn!==void 0?Pn:0,nack_count:($n=W==null?void 0:W.nackCount)!==null&&$n!==void 0?$n:0,packets_lost:to,packets_sent:wo,power_efficient_encoder:(ir=W==null?void 0:W.powerEfficientEncoder)!==null&&ir!==void 0&&ir,pli_count:(jn=W==null?void 0:W.pliCount)!==null&&jn!==void 0?jn:0,quality_limitation_reason:(vr=W==null?void 0:W.qualityLimitationReason)!==null&&vr!==void 0?vr:"none",quality_limitation_resolution_changes:(lr=W==null?void 0:W.qualityLimitationResolutionChanges)!==null&&lr!==void 0?lr:0,quality_limitation_cpu_duration:Pi,quality_limitation_bandwidth_duration:Ni,retransmitted_bytes_sent:(ur=W==null?void 0:W.retransmittedBytesSent)!==null&&ur!==void 0?ur:0,retransmitted_packets_sent:(dr=W==null?void 0:W.retransmittedPacketsSent)!==null&&dr!==void 0?dr:0,rid:(fr=W==null?void 0:W.rid)!==null&&fr!==void 0?fr:"no-rid",scalability_mode:(hr=W==null?void 0:W.scalabilityMode)!==null&&hr!==void 0?hr:"unknown",target_bitrate:Math.max((Ur=W==null?void 0:W.targetBitrate)!==null&&Ur!==void 0?Ur:0,0),total_encode_time:(pr=W==null?void 0:W.totalEncodeTime)!==null&&pr!==void 0?pr:0,total_encoded_bytes_target:(hi=W==null?void 0:W.totalEncodedBytesTarget)!==null&&hi!==void 0?hi:0,total_packet_send_delay:(Hr=W==null?void 0:W.totalPacketSendDelay)!==null&&Hr!==void 0?Hr:0}})(T,O,N,M,L,A)))}}class tg extends on{constructor(f,g,b,T,O,N,M,L,A,F,B,W){var ie,be,ge,le;super(ln.PUBLISHED_VIDEO_STATS_WINDOW,f,g,!1);const ae=Math.max(((ie=T==null?void 0:T.timestamp)!==null&&ie!==void 0?ie:0)-((be=O==null?void 0:O.timestamp)!==null&&be!==void 0?be:0),0);Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(ge=b==null?void 0:b.node)!==null&&ge!==void 0?ge:"",cluster:(le=b==null?void 0:b.cluster)!==null&&le!==void 0?le:"",window_size_ms:ae},((oe,we,ze,st,Tt,Yt,Qt,zt,Nt,tn)=>{var un,vt,yt,cn,It,At,dn,Pn,$n,ir,jn,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Hr,Pi,Ni,pi,Vi,to,wo,mr,li,Vs,Sa,Eo,Vo,_a,zs,Ws,Hs,Gs,qs,zo,nc,ru,iu,ou,rf,zc,of,sf,Wc,d,v,k;const D=(vt=(un=oe==null?void 0:oe.qualityLimitationDurations)===null||un===void 0?void 0:un.cpu)!==null&&vt!==void 0?vt:0,V=(cn=(yt=we==null?void 0:we.qualityLimitationDurations)===null||yt===void 0?void 0:yt.cpu)!==null&&cn!==void 0?cn:0,K=(At=(It=oe==null?void 0:oe.qualityLimitationDurations)===null||It===void 0?void 0:It.bandwidth)!==null&&At!==void 0?At:0,te=(Pn=(dn=we==null?void 0:we.qualityLimitationDurations)===null||dn===void 0?void 0:dn.bandwidth)!==null&&Pn!==void 0?Pn:0,se=Math.max((($n=oe==null?void 0:oe.bytesSent)!==null&&$n!==void 0?$n:0)-((ir=we==null?void 0:we.bytesSent)!==null&&ir!==void 0?ir:0),0),he=typeof zt!="number"?1:zt/1e3,Pe=8*se/he,ke=Math.max(((jn=ze==null?void 0:ze.packetsLost)!==null&&jn!==void 0?jn:0)-((vr=st==null?void 0:st.packetsLost)!==null&&vr!==void 0?vr:0),0),Me=Math.max(((lr=oe==null?void 0:oe.packetsSent)!==null&&lr!==void 0?lr:0)-((ur=we==null?void 0:we.packetsSent)!==null&&ur!==void 0?ur:0),0),at=ke/Math.max(Me,1),rt=ds(Yt==null?void 0:Yt.mimeType,Yt==null?void 0:Yt.sdpFmtpLine),kt=8*(tn||0)/he;return{active:!!(oe!=null&&oe.framesPerSecond)&&(oe==null?void 0:oe.framesPerSecond)!==0,bytes_sent:se,codec_mime_type:rt==null?void 0:rt.mimeSubtype,codec_profile:rt==null?void 0:rt.profile,codec_level:rt==null?void 0:rt.level,configured_bitrate:Qt==null?void 0:Qt.max_bitrate,connection_bandwidth:(dr=Tt==null?void 0:Tt.availableOutgoingBitrate)!==null&&dr!==void 0?dr:0,encode_bitrate:Pe,encoder_implementation:(fr=oe==null?void 0:oe.encoderImplementation)!==null&&fr!==void 0?fr:"unknown",fir_count:Math.max(((hr=oe==null?void 0:oe.firCount)!==null&&hr!==void 0?hr:0)-((Ur=we==null?void 0:we.firCount)!==null&&Ur!==void 0?Ur:0),0),fraction_packets_lost:at,frame_height:Math.max((pr=oe==null?void 0:oe.frameHeight)!==null&&pr!==void 0?pr:0,0),frame_width:Math.max((hi=oe==null?void 0:oe.frameWidth)!==null&&hi!==void 0?hi:0,0),frames_encoded:Math.max(((Hr=oe==null?void 0:oe.framesEncoded)!==null&&Hr!==void 0?Hr:0)-((Pi=we==null?void 0:we.framesEncoded)!==null&&Pi!==void 0?Pi:0),0),frames_per_second:Math.max((Ni=oe==null?void 0:oe.framesPerSecond)!==null&&Ni!==void 0?Ni:0,0),frames_sent:Math.max(((pi=oe==null?void 0:oe.framesSent)!==null&&pi!==void 0?pi:0)-((Vi=we==null?void 0:we.framesSent)!==null&&Vi!==void 0?Vi:0),0),header_bytes_sent:Math.max(((to=oe==null?void 0:oe.headerBytesSent)!==null&&to!==void 0?to:0)-((wo=we==null?void 0:we.headerBytesSent)!==null&&wo!==void 0?wo:0),0),huge_frames_sent:Math.max(((mr=oe==null?void 0:oe.hugeFramesSent)!==null&&mr!==void 0?mr:0)-((li=we==null?void 0:we.hugeFramesSent)!==null&&li!==void 0?li:0),0),key_frames_encoded:Math.max(((Vs=oe==null?void 0:oe.keyFramesEncoded)!==null&&Vs!==void 0?Vs:0)-((Sa=we==null?void 0:we.keyFramesEncoded)!==null&&Sa!==void 0?Sa:0),0),nack_count:Math.max(((Eo=oe==null?void 0:oe.nackCount)!==null&&Eo!==void 0?Eo:0)-((Vo=we==null?void 0:we.nackCount)!==null&&Vo!==void 0?Vo:0),0),packets_lost:ke,packets_sent:Me,power_efficient_encoder:(_a=oe==null?void 0:oe.powerEfficientEncoder)!==null&&_a!==void 0&&_a,pli_count:Math.max(((zs=oe==null?void 0:oe.pliCount)!==null&&zs!==void 0?zs:0)-((Ws=we==null?void 0:we.pliCount)!==null&&Ws!==void 0?Ws:0),0),quality_limitation_reason:(Hs=oe==null?void 0:oe.qualityLimitationReason)!==null&&Hs!==void 0?Hs:"none",quality_limitation_resolution_changes:Math.max(((Gs=oe==null?void 0:oe.qualityLimitationResolutionChanges)!==null&&Gs!==void 0?Gs:0)-((qs=we==null?void 0:we.qualityLimitationResolutionChanges)!==null&&qs!==void 0?qs:0),0),quality_limitation_cpu_duration:Math.max(D-V,0),quality_limitation_bandwidth_duration:Math.max(K-te,0),retransmitted_bytes_sent:Math.max(((zo=oe==null?void 0:oe.retransmittedBytesSent)!==null&&zo!==void 0?zo:0)-((nc=we==null?void 0:we.retransmittedBytesSent)!==null&&nc!==void 0?nc:0),0),rid:(ru=oe==null?void 0:oe.rid)!==null&&ru!==void 0?ru:"no-rid",retransmitted_packets_sent:Math.max(((iu=oe==null?void 0:oe.retransmittedPacketsSent)!==null&&iu!==void 0?iu:0)-((ou=we==null?void 0:we.retransmittedPacketsSent)!==null&&ou!==void 0?ou:0),0),scalability_mode:(rf=oe==null?void 0:oe.scalabilityMode)!==null&&rf!==void 0?rf:"unknown",target_bitrate:Math.max((zc=oe==null?void 0:oe.targetBitrate)!==null&&zc!==void 0?zc:0,0),total_encode_time:Math.max(((of=oe==null?void 0:oe.totalEncodeTime)!==null&&of!==void 0?of:0)-((sf=we==null?void 0:we.totalEncodeTime)!==null&&sf!==void 0?sf:0),0),total_encoded_bytes_target:Math.max(((Wc=oe==null?void 0:oe.totalEncodedBytesTarget)!==null&&Wc!==void 0?Wc:0)-((d=we==null?void 0:we.totalEncodedBytesTarget)!==null&&d!==void 0?d:0),0),total_packet_send_delay:Math.max(((v=oe==null?void 0:oe.totalPacketSendDelay)!==null&&v!==void 0?v:0)-((k=we==null?void 0:we.totalPacketSendDelay)!==null&&k!==void 0?k:0),0),sei_write_count:Nt,sei_bytes_sent:tn,sei_bitrate:kt}})(T,O,N,M,L,A,F,ae,B,W)))}}class ng extends on{constructor(f,g,b,T,O,N,M,L,A,F){var B,W;super(ln.PUBLISHED_AUDIO_STATS,f,g,!1),Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(B=b==null?void 0:b.node)!==null&&B!==void 0?B:"",cluster:(W=b==null?void 0:b.cluster)!==null&&W!==void 0?W:""},((ie,be,ge,le,ae,oe,we)=>{var ze,st,Tt,Yt,Qt,zt,Nt,tn,un,vt,yt;const cn=Math.max((ze=ie==null?void 0:ie.bytesSent)!==null&&ze!==void 0?ze:0,0),It=8*cn/(oe??1),At=Math.max((st=be==null?void 0:be.packetsLost)!==null&&st!==void 0?st:0,0),dn=Math.max((Tt=ie==null?void 0:ie.packetsSent)!==null&&Tt!==void 0?Tt:0,0),Pn=At/Math.max(dn,1),$n=ds(le==null?void 0:le.mimeType,le==null?void 0:le.sdpFmtpLine);return{audio_nacks_enabled:(Yt=we==null?void 0:we.audioNacks)!==null&&Yt!==void 0&&Yt,bytes_sent:cn,codec_mime_type:$n==null?void 0:$n.mimeSubtype,configured_bitrate:(Qt=ae==null?void 0:ae.max_audio_bitrate_bps)!==null&&Qt!==void 0?Qt:0,connection_bandwidth:(zt=ge==null?void 0:ge.availableOutgoingBitrate)!==null&&zt!==void 0?zt:0,encode_bitrate:It,fraction_packets_lost:Pn,header_bytes_sent:(Nt=ie==null?void 0:ie.headerBytesSent)!==null&&Nt!==void 0?Nt:0,nack_count:(tn=ie==null?void 0:ie.nackCount)!==null&&tn!==void 0?tn:0,packets_lost:At,packets_sent:dn,retransmitted_bytes_sent:(un=ie==null?void 0:ie.retransmittedBytesSent)!==null&&un!==void 0?un:0,retransmitted_packets_sent:(vt=ie==null?void 0:ie.retransmittedPacketsSent)!==null&&vt!==void 0?vt:0,target_bitrate:(yt=ie==null?void 0:ie.targetBitrate)!==null&&yt!==void 0?yt:0}})(T,O,N,M,L,A,F)))}}class mn extends on{constructor(f,g,b,T,O,N,M,L,A,F,B){var W,ie,be,ge;super(ln.PUBLISHED_AUDIO_STATS_WINDOW,f,g,!1);const le=Math.max(((W=T==null?void 0:T.timestamp)!==null&&W!==void 0?W:0)-((ie=O==null?void 0:O.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(be=b==null?void 0:b.node)!==null&&be!==void 0?be:"",cluster:(ge=b==null?void 0:b.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le},((ae,oe,we,ze,st,Tt,Yt,Qt,zt)=>{var Nt,tn,un,vt,yt,cn,It,At,dn,Pn,$n,ir,jn,vr,lr,ur,dr,fr,hr,Ur;const pr=Math.max(((Nt=ae==null?void 0:ae.bytesSent)!==null&&Nt!==void 0?Nt:0)-((tn=oe==null?void 0:oe.bytesSent)!==null&&tn!==void 0?tn:0),0),hi=8*pr/(typeof Qt!="number"?1:Qt/1e3),Hr=Math.max(((un=we==null?void 0:we.packetsLost)!==null&&un!==void 0?un:0)-((vt=ze==null?void 0:ze.packetsLost)!==null&&vt!==void 0?vt:0),0),Pi=Math.max(((yt=ae==null?void 0:ae.packetsSent)!==null&&yt!==void 0?yt:0)-((cn=oe==null?void 0:oe.packetsSent)!==null&&cn!==void 0?cn:0),0),Ni=Hr/Math.max(Pi,1),pi=ds(Tt==null?void 0:Tt.mimeType,Tt==null?void 0:Tt.sdpFmtpLine);return{audio_nacks_enabled:(It=zt==null?void 0:zt.audioNacks)!==null&&It!==void 0&&It,bytes_sent:pr,codec_mime_type:pi==null?void 0:pi.mimeSubtype,configured_bitrate:(At=Yt==null?void 0:Yt.max_audio_bitrate_bps)!==null&&At!==void 0?At:0,connection_bandwidth:(dn=st==null?void 0:st.availableOutgoingBitrate)!==null&&dn!==void 0?dn:0,encode_bitrate:hi,fraction_packets_lost:Ni,header_bytes_sent:Math.max(((Pn=ae==null?void 0:ae.headerBytesSent)!==null&&Pn!==void 0?Pn:0)-(($n=oe==null?void 0:oe.headerBytesSent)!==null&&$n!==void 0?$n:0),0),nack_count:Math.max(((ir=ae==null?void 0:ae.nackCount)!==null&&ir!==void 0?ir:0)-((jn=oe==null?void 0:oe.nackCount)!==null&&jn!==void 0?jn:0),0),packets_lost:Hr,packets_sent:Math.max(((vr=ae==null?void 0:ae.packetsSent)!==null&&vr!==void 0?vr:0)-((lr=oe==null?void 0:oe.packetsSent)!==null&&lr!==void 0?lr:0),0),retransmitted_bytes_sent:Math.max(((ur=ae==null?void 0:ae.retransmittedBytesSent)!==null&&ur!==void 0?ur:0)-((dr=oe==null?void 0:oe.retransmittedBytesSent)!==null&&dr!==void 0?dr:0),0),retransmitted_packets_sent:Math.max(((fr=ae==null?void 0:ae.retransmittedPacketsSent)!==null&&fr!==void 0?fr:0)-((hr=oe==null?void 0:oe.retransmittedPacketsSent)!==null&&hr!==void 0?hr:0),0),target_bitrate:Math.max((Ur=ae==null?void 0:ae.targetBitrate)!==null&&Ur!==void 0?Ur:0,0)}})(T,O,N,M,L,A,F,le,B)))}}class kw extends on{constructor(f,g,b,T,O,N,M,L){var A,F;super(ln.SUBSCRIBED_VIDEO_STATS,f,g,!1),Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(A=T==null?void 0:T.node)!==null&&A!==void 0?A:"",cluster:(F=T==null?void 0:T.cluster)!==null&&F!==void 0?F:"",remote_participant_id:b},((B,W,ie,be)=>{var ge,le,ae,oe,we,ze,st,Tt,Yt,Qt,zt,Nt,tn,un,vt,yt,cn,It,At,dn,Pn,$n,ir;let jn=0;B!=null&&B.jitterBufferDelay&&(B!=null&&B.jitterBufferEmittedCount)&&B.jitterBufferEmittedCount>0&&(jn=B.jitterBufferDelay/B.jitterBufferEmittedCount);const vr=be??1,lr=Math.max((ge=B==null?void 0:B.bytesReceived)!==null&&ge!==void 0?ge:0,0),ur=8*lr/vr;let dr=0;B!=null&&B.totalDecodeTime&&(B!=null&&B.framesDecoded)&&(dr=B.totalDecodeTime/Math.max(B==null?void 0:B.framesDecoded,1));const fr=Math.max((le=B==null?void 0:B.packetsLost)!==null&&le!==void 0?le:0,0),hr=Math.max((ae=B==null?void 0:B.packetsReceived)!==null&&ae!==void 0?ae:0,0),Ur=fr/Math.max(hr+fr,1),pr=ds(ie==null?void 0:ie.mimeType,ie==null?void 0:ie.sdpFmtpLine);return{bytes_received:lr,codec_mime_type:pr==null?void 0:pr.mimeSubtype,codec_profile:pr==null?void 0:pr.profile,codec_level:pr==null?void 0:pr.level,connection_bandwidth:(oe=W==null?void 0:W.availableIncomingBitrate)!==null&&oe!==void 0?oe:0,decode_bitrate:ur,decoder_implementation:(we=B==null?void 0:B.decoderImplementation)!==null&&we!==void 0?we:"unknown",fir_count:Math.max((ze=B==null?void 0:B.firCount)!==null&&ze!==void 0?ze:0,0),fraction_packets_lost:Ur,frame_decode_time_avg:dr,frame_height:Math.max((st=B==null?void 0:B.frameHeight)!==null&&st!==void 0?st:0,0),frame_width:Math.max((Tt=B==null?void 0:B.frameWidth)!==null&&Tt!==void 0?Tt:0,0),frames_decoded:Math.max((Yt=B==null?void 0:B.framesDecoded)!==null&&Yt!==void 0?Yt:0,0),frames_dropped:Math.max((Qt=B==null?void 0:B.framesDropped)!==null&&Qt!==void 0?Qt:0,0),frames_received:Math.max((zt=B==null?void 0:B.framesReceived)!==null&&zt!==void 0?zt:0,0),freeze_count:Math.max((Nt=B==null?void 0:B.freezeCount)!==null&&Nt!==void 0?Nt:0,0),frames_rendered:Math.max((tn=B==null?void 0:B.framesRendered)!==null&&tn!==void 0?tn:0,0),frames_per_second:Math.max((un=B==null?void 0:B.framesPerSecond)!==null&&un!==void 0?un:0,0),header_bytes_received:Math.max((vt=B==null?void 0:B.headerBytesReceived)!==null&&vt!==void 0?vt:0,0),jitter_buffer_delay_avg:jn,key_frames_decoded:Math.max((yt=B==null?void 0:B.keyFramesDecoded)!==null&&yt!==void 0?yt:0,0),nack_count:Math.max((cn=B==null?void 0:B.nackCount)!==null&&cn!==void 0?cn:0,0),packets_discarded:Math.max((It=B==null?void 0:B.packetsDiscarded)!==null&&It!==void 0?It:0,0),packets_lost:fr,packets_received:hr,pause_count:Math.max((At=B==null?void 0:B.pauseCount)!==null&&At!==void 0?At:0,0),pli_count:Math.max((dn=B==null?void 0:B.pliCount)!==null&&dn!==void 0?dn:0,0),power_efficient_decoder:(Pn=B==null?void 0:B.powerEfficientDecoder)!==null&&Pn!==void 0&&Pn,total_freezes_duration:Math.max(($n=B==null?void 0:B.totalFreezesDuration)!==null&&$n!==void 0?$n:0,0),total_pauses_duration:Math.max((ir=B==null?void 0:B.totalPausesDuration)!==null&&ir!==void 0?ir:0,0)}})(O,N,M,L)))}}class Ow extends on{constructor(f,g,b,T,O,N,M,L,A,F,B){var W,ie,be,ge;super(ln.SUBSCRIBED_VIDEO_STATS_WINDOW,f,g,!1);const le=Math.max(((W=O==null?void 0:O.timestamp)!==null&&W!==void 0?W:0)-((ie=N==null?void 0:N.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(be=T==null?void 0:T.node)!==null&&be!==void 0?be:"",cluster:(ge=T==null?void 0:T.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le,remote_participant_id:b},((ae,oe,we,ze,st,Tt,Yt,Qt)=>{var zt,Nt,tn,un,vt,yt,cn,It,At,dn,Pn,$n,ir,jn,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Hr,Pi,Ni,pi,Vi,to,wo,mr,li,Vs,Sa,Eo,Vo,_a,zs,Ws,Hs,Gs,qs,zo;let nc=0,ru=0;if(ae!=null&&ae.jitterBufferEmittedCount&&(oe!=null&&oe.jitterBufferEmittedCount)&&ae.jitterBufferEmittedCount>oe.jitterBufferEmittedCount){ae!=null&&ae.jitterBufferDelay&&(oe!=null&&oe.jitterBufferDelay)&&(nc=(ae.jitterBufferDelay-oe.jitterBufferDelay)/(ae.jitterBufferEmittedCount-oe.jitterBufferEmittedCount));const V=oe==null?void 0:oe.jitterBufferMinimumDelay,K=ae==null?void 0:ae.jitterBufferMinimumDelay;V&&K&&(ru=(K-V)/(ae.jitterBufferEmittedCount-oe.jitterBufferEmittedCount))}const iu=Math.max(((zt=ae==null?void 0:ae.bytesReceived)!==null&&zt!==void 0?zt:0)-((Nt=oe==null?void 0:oe.bytesReceived)!==null&&Nt!==void 0?Nt:0),0),ou=typeof st!="number"?1:st/1e3,rf=8*iu/ou,zc=Math.max(((tn=ae==null?void 0:ae.totalDecodeTime)!==null&&tn!==void 0?tn:0)-((un=oe==null?void 0:oe.totalDecodeTime)!==null&&un!==void 0?un:0),0),of=Math.max(((vt=ae==null?void 0:ae.framesDecoded)!==null&&vt!==void 0?vt:0)-((yt=oe==null?void 0:oe.framesDecoded)!==null&&yt!==void 0?yt:0),0),sf=zc/Math.max(of,1),Wc=Math.max(((cn=ae==null?void 0:ae.packetsLost)!==null&&cn!==void 0?cn:0)-((It=oe==null?void 0:oe.packetsLost)!==null&&It!==void 0?It:0),0),d=Math.max(((At=ae==null?void 0:ae.packetsReceived)!==null&&At!==void 0?At:0)-((dn=oe==null?void 0:oe.packetsReceived)!==null&&dn!==void 0?dn:0),0),v=Wc/Math.max(d+Wc,1),k=ds(ze==null?void 0:ze.mimeType,ze==null?void 0:ze.sdpFmtpLine),D=8*(Qt||0)/ou;return{bytes_received:iu,codec_mime_type:k==null?void 0:k.mimeSubtype,codec_profile:k==null?void 0:k.profile,codec_level:k==null?void 0:k.level,connection_bandwidth:(Pn=we==null?void 0:we.availableIncomingBitrate)!==null&&Pn!==void 0?Pn:0,decode_bitrate:rf,decoder_implementation:($n=ae==null?void 0:ae.decoderImplementation)!==null&&$n!==void 0?$n:"unknown",fir_count:Math.max(((ir=ae==null?void 0:ae.firCount)!==null&&ir!==void 0?ir:0)-((jn=oe==null?void 0:oe.firCount)!==null&&jn!==void 0?jn:0),0),fraction_packets_lost:v,frame_decode_time_avg:sf,frame_height:Math.max((vr=ae==null?void 0:ae.frameHeight)!==null&&vr!==void 0?vr:0,0),frame_width:Math.max((lr=ae==null?void 0:ae.frameWidth)!==null&&lr!==void 0?lr:0,0),frames_decoded:Math.max(((ur=ae==null?void 0:ae.framesDecoded)!==null&&ur!==void 0?ur:0)-((dr=oe==null?void 0:oe.framesDecoded)!==null&&dr!==void 0?dr:0),0),frames_dropped:Math.max(((fr=ae==null?void 0:ae.framesDropped)!==null&&fr!==void 0?fr:0)-((hr=oe==null?void 0:oe.framesDropped)!==null&&hr!==void 0?hr:0),0),frames_received:Math.max(((Ur=ae==null?void 0:ae.framesReceived)!==null&&Ur!==void 0?Ur:0)-((pr=oe==null?void 0:oe.framesReceived)!==null&&pr!==void 0?pr:0),0),freeze_count:Math.max(((hi=ae==null?void 0:ae.freezeCount)!==null&&hi!==void 0?hi:0)-((Hr=oe==null?void 0:oe.freezeCount)!==null&&Hr!==void 0?Hr:0),0),frames_rendered:Math.max((Pi=ae==null?void 0:ae.framesRendered)!==null&&Pi!==void 0?Pi:0,0),frames_per_second:Math.max((Ni=ae==null?void 0:ae.framesPerSecond)!==null&&Ni!==void 0?Ni:0,0),header_bytes_received:Math.max(((pi=ae==null?void 0:ae.headerBytesReceived)!==null&&pi!==void 0?pi:0)-((Vi=oe==null?void 0:oe.headerBytesReceived)!==null&&Vi!==void 0?Vi:0),0),configured_jitter_buffer_min_delay_ms:Tt??0,jitter_buffer_min_obtainable_delay:ru,jitter_buffer_delay_avg:nc,key_frames_decoded:Math.max(((to=ae==null?void 0:ae.keyFramesDecoded)!==null&&to!==void 0?to:0)-((wo=oe==null?void 0:oe.keyFramesDecoded)!==null&&wo!==void 0?wo:0),0),nack_count:Math.max(((mr=ae==null?void 0:ae.nackCount)!==null&&mr!==void 0?mr:0)-((li=oe==null?void 0:oe.nackCount)!==null&&li!==void 0?li:0),0),packets_discarded:Math.max(((Vs=ae==null?void 0:ae.packetsDiscarded)!==null&&Vs!==void 0?Vs:0)-((Sa=oe==null?void 0:oe.packetsDiscarded)!==null&&Sa!==void 0?Sa:0),0),packets_lost:Wc,packets_received:d,pause_count:Math.max(((Eo=ae==null?void 0:ae.pauseCount)!==null&&Eo!==void 0?Eo:0)-((Vo=oe==null?void 0:oe.pauseCount)!==null&&Vo!==void 0?Vo:0),0),pli_count:Math.max(((_a=ae==null?void 0:ae.pliCount)!==null&&_a!==void 0?_a:0)-((zs=oe==null?void 0:oe.pliCount)!==null&&zs!==void 0?zs:0),0),power_efficient_decoder:(Ws=ae==null?void 0:ae.powerEfficientDecoder)!==null&&Ws!==void 0&&Ws,total_freezes_duration:Math.max(((Hs=ae==null?void 0:ae.totalFreezesDuration)!==null&&Hs!==void 0?Hs:0)-((Gs=oe==null?void 0:oe.totalFreezesDuration)!==null&&Gs!==void 0?Gs:0),0),total_pauses_duration:Math.max(((qs=ae==null?void 0:ae.totalPausesDuration)!==null&&qs!==void 0?qs:0)-((zo=oe==null?void 0:oe.totalPausesDuration)!==null&&zo!==void 0?zo:0),0),sei_read_count:Yt,sei_bytes_received:Qt,sei_bitrate:D}})(O,N,M,L,le,A,F,B)))}}class Ud extends on{constructor(f,g,b,T,O,N,M,L,A){var F,B;super(ln.SUBSCRIBED_AUDIO_STATS,f,g,!1),Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(F=T==null?void 0:T.node)!==null&&F!==void 0?F:"",cluster:(B=T==null?void 0:T.cluster)!==null&&B!==void 0?B:"",remote_participant_id:b},((W,ie,be,ge,le)=>{var ae,oe,we,ze,st,Tt,Yt,Qt,zt,Nt,tn,un,vt,yt,cn,It,At;let dn=0;W!=null&&W.jitterBufferDelay&&(W!=null&&W.jitterBufferEmittedCount)&&W.jitterBufferEmittedCount>0&&(dn=W.jitterBufferDelay/W.jitterBufferEmittedCount);const Pn=ge??1,$n=Math.max((ae=W==null?void 0:W.bytesReceived)!==null&&ae!==void 0?ae:0,0),ir=8*$n/Pn,jn=Math.max((oe=W==null?void 0:W.packetsLost)!==null&&oe!==void 0?oe:0,0),vr=Math.max((we=W==null?void 0:W.packetsReceived)!==null&&we!==void 0?we:0,0),lr=jn/Math.max(vr+jn,1),ur=Math.max((ze=W==null?void 0:W.concealedSamples)!==null&&ze!==void 0?ze:0,0),dr=Math.max((st=W==null?void 0:W.totalSamplesReceived)!==null&&st!==void 0?st:0,0),fr=ur/Math.max(dr,1),hr=ds(be==null?void 0:be.mimeType,be==null?void 0:be.sdpFmtpLine);return{audio_level:(Tt=W==null?void 0:W.audioLevel)!==null&&Tt!==void 0?Tt:0,audio_nacks_enabled:(Yt=le==null?void 0:le.audioNacks)!==null&&Yt!==void 0&&Yt,bytes_received:$n,codec_mime_type:hr==null?void 0:hr.mimeSubtype,connection_bandwidth:(Qt=ie==null?void 0:ie.availableIncomingBitrate)!==null&&Qt!==void 0?Qt:0,concealed_samples:ur,concealment_events:Math.max((zt=W==null?void 0:W.concealmentEvents)!==null&&zt!==void 0?zt:0,0),silent_concealed_samples:Math.max((Nt=W==null?void 0:W.silentConcealedSamples)!==null&&Nt!==void 0?Nt:0,0),decode_bitrate:ir,fraction_audio_concealed:fr,fraction_packets_lost:lr,header_bytes_received:Math.max((tn=W==null?void 0:W.headerBytesReceived)!==null&&tn!==void 0?tn:0,0),inserted_samples_for_deceleration:Math.max((un=W==null?void 0:W.insertedSamplesForDeceleration)!==null&&un!==void 0?un:0,0),jitter_buffer_delay_avg:dn,packets_discarded:Math.max((vt=W==null?void 0:W.packetsDiscarded)!==null&&vt!==void 0?vt:0,0),retransmitted_packets_received:Math.max((yt=W==null?void 0:W.retransmittedPacketsReceived)!==null&&yt!==void 0?yt:0,0),retransmitted_bytes_received:Math.max((cn=W==null?void 0:W.retransmittedBytesReceived)!==null&&cn!==void 0?cn:0,0),packets_lost:jn,packets_received:vr,nack_count:Math.max((It=W==null?void 0:W.nackCount)!==null&&It!==void 0?It:0,0),removed_samples_for_acceleration:Math.max((At=W==null?void 0:W.removedSamplesForAcceleration)!==null&&At!==void 0?At:0,0),total_samples_received:dr}})(O,N,M,L,A)))}}class l0 extends on{constructor(f,g,b,T,O,N,M,L,A,F){var B,W,ie,be;super(ln.SUBSCRIBED_AUDIO_STATS_WINDOW,f,g,!1);const ge=Math.max(((B=O==null?void 0:O.timestamp)!==null&&B!==void 0?B:0)-((W=N==null?void 0:N.timestamp)!==null&&W!==void 0?W:0),0);Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,window_size_ms:ge,node:(ie=T==null?void 0:T.node)!==null&&ie!==void 0?ie:"",cluster:(be=T==null?void 0:T.cluster)!==null&&be!==void 0?be:"",remote_participant_id:b},((le,ae,oe,we,ze,st,Tt)=>{var Yt,Qt,zt,Nt,tn,un,vt,yt,cn,It,At,dn,Pn,$n,ir,jn,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Hr,Pi,Ni,pi,Vi,to;let wo=0,mr=0;if(le!=null&&le.jitterBufferEmittedCount&&(ae!=null&&ae.jitterBufferEmittedCount)&&le.jitterBufferEmittedCount>ae.jitterBufferEmittedCount){le!=null&&le.jitterBufferDelay&&(ae!=null&&ae.jitterBufferDelay)&&(wo=(le.jitterBufferDelay-ae.jitterBufferDelay)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount));const qs=ae==null?void 0:ae.jitterBufferMinimumDelay,zo=le==null?void 0:le.jitterBufferMinimumDelay;qs&&zo&&(mr=(zo-qs)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount))}const li=typeof ze!="number"?1:ze/1e3,Vs=Math.max(((Yt=le==null?void 0:le.bytesReceived)!==null&&Yt!==void 0?Yt:0)-((Qt=ae==null?void 0:ae.bytesReceived)!==null&&Qt!==void 0?Qt:0),0),Sa=8*Vs/li,Eo=Math.max(((zt=le==null?void 0:le.packetsLost)!==null&&zt!==void 0?zt:0)-((Nt=ae==null?void 0:ae.packetsLost)!==null&&Nt!==void 0?Nt:0),0),Vo=Math.max(((tn=le==null?void 0:le.packetsReceived)!==null&&tn!==void 0?tn:0)-((un=ae==null?void 0:ae.packetsReceived)!==null&&un!==void 0?un:0),0),_a=Eo/Math.max(Vo+Eo,1),zs=Math.max(((vt=le==null?void 0:le.concealedSamples)!==null&&vt!==void 0?vt:0)-((yt=ae==null?void 0:ae.concealedSamples)!==null&&yt!==void 0?yt:0),0),Ws=Math.max(((cn=le==null?void 0:le.totalSamplesReceived)!==null&&cn!==void 0?cn:0)-((It=ae==null?void 0:ae.totalSamplesReceived)!==null&&It!==void 0?It:0),0),Hs=zs/Math.max(Ws,1),Gs=ds(we==null?void 0:we.mimeType,we==null?void 0:we.sdpFmtpLine);return{audio_level:(At=le==null?void 0:le.audioLevel)!==null&&At!==void 0?At:0,audio_nacks_enabled:(dn=st==null?void 0:st.audioNacks)!==null&&dn!==void 0&&dn,bytes_received:Vs,codec_mime_type:Gs==null?void 0:Gs.mimeSubtype,connection_bandwidth:(Pn=oe==null?void 0:oe.availableIncomingBitrate)!==null&&Pn!==void 0?Pn:0,decode_bitrate:Sa,concealed_samples:zs,concealment_events:Math.max((($n=le==null?void 0:le.concealmentEvents)!==null&&$n!==void 0?$n:0)-((ir=ae==null?void 0:ae.concealmentEvents)!==null&&ir!==void 0?ir:0),0),silent_concealed_samples:Math.max(((jn=le==null?void 0:le.silentConcealedSamples)!==null&&jn!==void 0?jn:0)-((vr=ae==null?void 0:ae.silentConcealedSamples)!==null&&vr!==void 0?vr:0),0),fraction_audio_concealed:Hs,fraction_packets_lost:_a,header_bytes_received:Math.max(((lr=le==null?void 0:le.headerBytesReceived)!==null&&lr!==void 0?lr:0)-((ur=ae==null?void 0:ae.headerBytesReceived)!==null&&ur!==void 0?ur:0),0),inserted_samples_for_deceleration:Math.max(((dr=le==null?void 0:le.insertedSamplesForDeceleration)!==null&&dr!==void 0?dr:0)-((fr=ae==null?void 0:ae.insertedSamplesForDeceleration)!==null&&fr!==void 0?fr:0),0),configured_jitter_buffer_min_delay_ms:Tt??0,jitter_buffer_min_obtainable_delay:mr,jitter_buffer_delay_avg:wo,packets_discarded:Math.max(((hr=le==null?void 0:le.packetsDiscarded)!==null&&hr!==void 0?hr:0)-((Ur=ae==null?void 0:ae.packetsDiscarded)!==null&&Ur!==void 0?Ur:0),0),packets_lost:Eo,packets_received:Vo,nack_count:Math.max(((pr=le==null?void 0:le.nackCount)!==null&&pr!==void 0?pr:0)-((hi=ae==null?void 0:ae.nackCount)!==null&&hi!==void 0?hi:0),0),removed_samples_for_acceleration:Math.max(((Hr=le==null?void 0:le.removedSamplesForAcceleration)!==null&&Hr!==void 0?Hr:0)-((Pi=ae==null?void 0:ae.removedSamplesForAcceleration)!==null&&Pi!==void 0?Pi:0),0),retransmitted_packets_received:Math.max(((Ni=le==null?void 0:le.retransmittedPacketsReceived)!==null&&Ni!==void 0?Ni:0)-((pi=ae==null?void 0:ae.retransmittedPacketsReceived)!==null&&pi!==void 0?pi:0),0),retransmitted_bytes_received:Math.max(((Vi=le==null?void 0:le.retransmittedBytesReceived)!==null&&Vi!==void 0?Vi:0)-((to=ae==null?void 0:ae.retransmittedBytesReceived)!==null&&to!==void 0?to:0),0),total_samples_received:Ws}})(O,N,M,L,ge,A,F)))}}class Fh extends on{constructor(f,g,b,T,O=Ge.PUBLISH,N=!1,M=""){super(ln.SIMULCAST_LAYER_INFO,f,g,!1),Object.assign(this.properties,{rid:b,active:T,selected:N,source:O===Ge.PUBLISH?"publisher":"subscriber",remote_participant_id:M})}}class Pw extends on{constructor(f,g,b,T){super(ln.MULTIHOST_CONFIGURATION,f,g,!1),Object.assign(this.properties,Object.assign(Object.assign({},b),{action:T}))}}class Bo extends on{constructor(f,g,b){super(ln.MULTIHOST_SUBSCRIBE_CONFIGURATION,f,g,!1),Object.assign(this.properties,Object.assign({},b))}}var Kl,ha,pa;(function(S){S.Mobile="mobile",S.Tablet="tablet",S.Desktop="desktop",S.Tv="tv"})(Kl||(Kl={})),function(S){S.IOS="iOS",S.MacOS="macOS",S.Windows="Windows",S.Android="Android"}(ha||(ha={})),function(S){S.Safari="Safari",S.Firefox="Firefox",S.Chrome="Chrome",S.IE="Internet Explorer",S.Edge="Microsoft Edge"}(pa||(pa={}));const Bd=function(S){const f=ma(S);return{platform:{isMobile:wi(Kl.Mobile,f),isTablet:wi(Kl.Tablet,f),isDesktop:wi(Kl.Desktop,f),isTv:wi(Kl.Tv,f)},os:{name:rg(f),version:Xa(f),isIOS:$d(ha.IOS,f),isMacOS:$d(ha.MacOS,f),isWindows:$d(ha.Windows,f),isAndroid:$d(ha.Android,f)},browser:{name:u0(f),version:Uh(f),isSafari:Uc(pa.Safari,f),isFirefox:Uc(pa.Firefox,f),isChrome:Uc(pa.Chrome,f),isIE:Uc(pa.IE,f),isEdge:Uc(pa.Edge,f)}}}(window.navigator.userAgent);function ma(S){try{return gh.getParser(S||window.navigator.userAgent)}catch{}}function wi(S,f){return()=>(f||(f=ma()),!(!f||f.getPlatformType(!0)!==S.toLowerCase()))}function Xa(S){return()=>(S||(S=ma()),S&&S.getOSVersion()||"")}function rg(S){return()=>(S||(S=ma()),S&&S.getOSName()||"")}function $d(S,f){return()=>(f||(f=ma()),!(!f||f.getOSName(!0)!==S.toLowerCase()))}function Uh(S){return()=>(S||(S=ma()),S&&S.getBrowserVersion()||"")}function u0(S){return()=>(S||(S=ma()),S&&S.getBrowserName()||"")}function Uc(S,f){return()=>(f||(f=ma()),!(!f||f.getBrowserName().toLowerCase()!==S.toLowerCase()))}const d0={active:!1,maxBitrate:2e5,rid:"low",maxFramerate:15,scaleResolutionDownBy:4},ig={width:320,height:180},Vd={active:!1,maxBitrate:7e5,rid:"mid",maxFramerate:20,scaleResolutionDownBy:2},Ja={width:640,height:360},Bh={active:!1,maxBitrate:17e5,rid:"hi",maxFramerate:30,scaleResolutionDownBy:1},Za={width:1280,height:720};function og(S){const{config:f}=S;return[{maxBitrate:f.maxBitrateBps}]}function sg(S,f){var g,b;const T=f==null?void 0:f.track,O=f==null?void 0:f.config;if(S&&T){const N=(0,wr.cloneDeep)([{encodingParams:d0,targetResolution:ig},{encodingParams:Vd,targetResolution:Ja},{encodingParams:Bh,targetResolution:Za}]),{height:M,width:L}=T.getSettings(),A=M&&L?{width:L,height:M}:void 0;for(const W of N){W.encodingParams.active=!0;let ie=1;A&&(ie=Math.floor(Math.sqrt(A.width*A.height/(W.targetResolution.width*W.targetResolution.height))),ie=Math.max(ie,1)),W.encodingParams.scaleResolutionDownBy=ie}let F=(g=O==null?void 0:O.maxBitrateBps)!==null&&g!==void 0?g:Bh.maxBitrate;const B=(b=O==null?void 0:O.maxFramerate)!==null&&b!==void 0?b:Bh.maxFramerate;return F<Vd.maxBitrate&&(F=Bh.maxBitrate),N[2].encodingParams.maxBitrate=F,N[2].encodingParams.maxFramerate=B,N[2].encodingParams.scaleResolutionDownBy=1,N.map(W=>W.encodingParams)}return O?[{maxBitrate:O.maxBitrateBps,maxFramerate:O.maxFramerate}]:[{maxBitrate:fs(us),maxFramerate:Qa}]}const ag=1e3;function fs(S){return S*ag}const cg=(S,...f)=>{const g=f.map(b=>typeof b!="object").filter(Boolean).length>0;if(typeof S=="object"&&!g)return(0,wr.merge)({},S,...f)},lg=S=>ug(S),ug=S=>(0,wr.cloneDeep)(S),Bi=S=>{switch(S){case Gl.HIGHEST_QUALITY:return"highest";case Gl.LOWEST_QUALITY:default:return"lowest"}};var So=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const ec="no-rid";class ga{constructor(f,g,b,T,O,N,M){this.analyticsTracker=O,this.receiveVideoTransformer=N,this.senderVideoTransformer=M,this.simulcastEnabled=!1,this.simulcastState={low:!1,mid:!1,hi:!1},this.sdp=new In(""),this.sdpFeatures={audioNacks:!1},this.multihostConfiguration=ga.defaultMultihostConfiguration(),this.prevOutboundVideoStats=new Map,this.prevInboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.sfuResource={node:"",cluster:""},this.connectionStartedTimestamp=Date.now(),this.prevVideoReceiverTransformerStats={seiReadCnt:0,seiBytesRead:0},this.prevVideoSenderTransformerStats={seiWriteCnt:0,seiBytesWritten:0},this.onPeerConnectionStateChange=()=>{switch(this.getConnectionState()){case gt.CONNECTED:this.connectionStartedTimestamp=Date.now(),this.setupIntervals();break;case gt.FAILED:this.flushStats()}},this.action=f,this.token=g,this.traceId=b,this.identifier=T}static defaultMultihostConfiguration(){return{video_codec:"unknown",width:0,height:0,max_bitrate:0,min_bitrate:0,target_fps:0,echo_cancellation:!1,auto_gain:!1,noise_suppression:!1,enable_simulcast:!1,max_audio_bitrate_bps:fs(Fc)}}set sdpAnswer(f){try{this.sdp=new In(f),this.sdpFeatures.audioNacks=this.sdp.hasAudioNacksEnabled()}catch{}}start(f,g=!1){this.peerConnection=f,this.simulcastEnabled=g,this.prevOutboundAudioStats=void 0,this.prevOutboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.peerConnection.addEventListener("connectionstatechange",this.onPeerConnectionStateChange)}stop(){var f;clearInterval(this.uploadStatsInterval),this.uploadStatsInterval=void 0,(f=this.peerConnection)===null||f===void 0||f.removeEventListener("connectionstatechange",this.onPeerConnectionStateChange)}updateSfuResource(f){this.sfuResource=f}updateMultihostConfiguration(f,g){var b,T,O,N,M,L;return So(this,void 0,void 0,function*(){if(this.action!==Ge.PUBLISH||!this.peerConnection)return;const A=ga.defaultMultihostConfiguration();if(g){const F=this.peerConnection.getSenders().filter(W=>W.track!==null&&W.track.kind==="video");F.length>0&&(yield F[0].getStats()).forEach(W=>{W.type==="codec"&&(A.video_codec=W.mimeType)});const B=g.track.getSettings();A.width=(b=B.width)!==null&&b!==void 0?b:0,A.height=(T=B.height)!==null&&T!==void 0?T:0,A.target_fps=(O=B.frameRate)!==null&&O!==void 0?O:0,g.config?(A.max_bitrate=g.config.maxBitrateBps,A.min_bitrate=g.config.minBitrateBps,A.enable_simulcast=g.config.simulcastEnabled):(A.max_bitrate=fs(us),A.min_bitrate=fs(Lc),A.enable_simulcast=!1)}if(f){const F=f.track.getSettings();A.auto_gain=(N=F.autoGainControl)!==null&&N!==void 0&&N,A.echo_cancellation=(M=F.echoCancellation)!==null&&M!==void 0&&M,A.noise_suppression=(L=F.noiseSuppression)!==null&&L!==void 0&&L,A.max_audio_bitrate_bps=f.config.maxBitrateBps,A.stereo=f.config.stereo}(0,wr.isEqual)(A,this.multihostConfiguration)||(this.analyticsTracker.trackEventNoSharedProps(new Pw(this.token,this.traceId,A,this.action)),this.multihostConfiguration=A)})}updateJitterBufferMinDelay(f){this.jitterBufferMinDelayInMs=f}setupIntervals(){this.action===Ge.PUBLISH&&this.simulcastEnabled&&!this.pollSimulcastLayerInterval&&(this.pollSimulcastLayers(),this.pollSimulcastLayerInterval=this.startInterval(this.pollSimulcastLayers,5e3)),this.uploadStatsInterval||(this.uploadStats(),this.uploadStatsInterval=this.startInterval(this.uploadStats,1e4))}startInterval(f,g){return setInterval(f.bind(this),g)}getConnectionState(){var f;if(!this.peerConnection)return gt.NONE;const g=(f=this.peerConnection.connectionState)!==null&&f!==void 0?f:this.peerConnection.iceConnectionState;try{return Dh(g)}catch{return gt.IDLE}}pollSimulcastLayers(){var f;return So(this,void 0,void 0,function*(){if(this.getConnectionState()===gt.CONNECTED){const g=yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats();if(!g)return;g.forEach(b=>{var T;if(b.type==="outbound-rtp"){const O=((T=b.framesPerSecond)!==null&&T!==void 0?T:0)!==0;switch(b.rid){case"low":O!==this.simulcastState.low&&(this.simulcastState.low=O,this.analyticsTracker.trackEventNoSharedProps(new Fh(this.token,this.traceId,b.rid,O)));break;case"mid":O!==this.simulcastState.mid&&(this.simulcastState.mid=O,this.analyticsTracker.trackEventNoSharedProps(new Fh(this.token,this.traceId,b.rid,O)));break;case"hi":O!==this.simulcastState.hi&&(this.simulcastState.hi=O,this.analyticsTracker.trackEventNoSharedProps(new Fh(this.token,this.traceId,b.rid,O)))}}})}})}flushStats(){var f;return So(this,void 0,void 0,function*(){const g=yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats();g&&(this.action===Ge.PUBLISH?this.uploadPublisherStats(g):this.action===Ge.SUBSCRIBE&&this.uploadSubscriberStats(g))})}uploadStats(){var f;return So(this,void 0,void 0,function*(){if(this.getConnectionState()===gt.CONNECTED){const g=yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats();if(!g)return;this.action===Ge.PUBLISH?this.uploadPublisherStats(g):this.action===Ge.SUBSCRIBE&&this.uploadSubscriberStats(g)}})}uploadPublisherStats(f){const g={audio:{},video:[]},b=new Map,T=(Date.now()-this.connectionStartedTimestamp)/1e3,O=Object.assign({},this.multihostConfiguration),{seiWriteCnt:N,seiBytesWritten:M}=this.updateAndDiffSeiPublishStatsSinceLastUpdate(this.senderVideoTransformer.getSenderStats());f.forEach(L=>{if(L.type==="outbound-rtp"){const A=f.get(L.remoteId),F=this.prevRemoteInboundStats.get(L.remoteId);switch(A&&this.prevRemoteInboundStats.set(A.id,A),L.kind){case"audio":g.audio=this.updateOutboundAudio(L),g.audio.remoteInbound=A,g.audio.prevRemoteInbound=F,g.audio.codec=b.get(L.codecId);break;case"video":g.video.push(Object.assign({},this.updateOutboundVideo(L),{remoteInbound:A,prevRemoteInbound:F,codec:b.get(L.codecId)}))}}L.type==="candidate-pair"&&L.nominated&&(g.candidatePair=L),L.type==="codec"&&b.set(L.id,L)}),this.analyticsTracker.trackEventNoSharedProps(new ng(this.token,this.traceId,this.sfuResource,g.audio.outbound,g.audio.remoteInbound,g.candidatePair,g.audio.codec,O,T,this.sdpFeatures)),g.audio.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new mn(this.token,this.traceId,this.sfuResource,g.audio.outbound,g.audio.prevOutbound,g.audio.remoteInbound,g.audio.prevRemoteInbound,g.candidatePair,g.audio.codec,O,this.sdpFeatures)),g.video.forEach(L=>{this.analyticsTracker.trackEventNoSharedProps(new c0(this.token,this.traceId,this.sfuResource,L.outbound,L.remoteInbound,g.candidatePair,L.codec,O,T)),L.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new tg(this.token,this.traceId,this.sfuResource,L.outbound,L.prevOutbound,L.remoteInbound,L.prevRemoteInbound,g.candidatePair,L.codec,O,N,M))})}uploadSubscriberStats(f){var g;const b={audio:{},video:{}},T=new Map,O=(Date.now()-this.connectionStartedTimestamp)/1e3,N=(g=this.jitterBufferMinDelayInMs)!==null&&g!==void 0?g:0,{seiReadCnt:M,seiBytesRead:L}=this.updateAndDiffSeiSubscribeStatsSinceLastUpdate(this.receiveVideoTransformer.getReceiverStats());f.forEach(A=>{if(A.type==="inbound-rtp")switch(A.kind){case"audio":b.audio=this.updateInboundAudio(A),b.audio.codec=T.get(A.codecId);break;case"video":b.video=this.updateInboundVideo(A),b.video.codec=T.get(A.codecId)}A.type==="candidate-pair"&&A.nominated&&(b.candidatePair=A),A.type==="codec"&&T.set(A.id,A)}),this.analyticsTracker.trackEventNoSharedProps(new Ud(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.candidatePair,b.audio.codec,O,this.sdpFeatures)),b.audio.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new l0(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.audio.prevInbound,b.candidatePair,b.audio.codec,this.sdpFeatures,N)),this.analyticsTracker.trackEventNoSharedProps(new kw(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.candidatePair,b.video.codec,O)),b.video.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new Ow(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.video.prevInbound,b.candidatePair,b.video.codec,N,M,L))}updateAndDiffSeiSubscribeStatsSinceLastUpdate(f){const g=this.prevVideoReceiverTransformerStats,b=f.seiReadCnt-g.seiReadCnt,T=f.seiBytesRead-g.seiBytesRead;return this.prevVideoReceiverTransformerStats={seiReadCnt:f.seiReadCnt,seiBytesRead:f.seiBytesRead},{seiReadCnt:b,seiBytesRead:T}}updateAndDiffSeiPublishStatsSinceLastUpdate(f){const g=this.prevVideoSenderTransformerStats,b=f.seiWriteCnt-g.seiWriteCnt,T=f.seiBytesWritten-g.seiBytesWritten;return this.prevVideoSenderTransformerStats={seiWriteCnt:f.seiWriteCnt,seiBytesWritten:f.seiBytesWritten},{seiWriteCnt:b,seiBytesWritten:T}}updateOutboundAudio(f){const g=f,b=this.prevOutboundAudioStats,T=f.id===(b==null?void 0:b.id)?b:void 0;return this.prevOutboundAudioStats=f,{outbound:g,prevOutbound:T}}updateInboundAudio(f){const g=f,b=this.prevInboundAudioStats,T=f.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundAudioStats=f,{inbound:g,prevInbound:T}}updateInboundVideo(f){const g=f,b=this.prevInboundVideoStats.get(ec),T=f.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundVideoStats.set(ec,f),{inbound:g,prevInbound:T}}updateOutboundVideo(f){const g=f,b=this.getPrevOutboundVideo(f),T=f.id===(b==null?void 0:b.id)?b:void 0;return this.setPrevVideoStat(f),{outbound:g,prevOutbound:T}}getPrevOutboundVideo(f){return this.simulcastEnabled&&f.rid&&this.prevOutboundVideoStats.has(f.rid)?this.prevOutboundVideoStats.get(f.rid):!this.simulcastEnabled&&this.prevOutboundVideoStats.has(ec)?this.prevOutboundVideoStats.get(ec):void 0}setPrevVideoStat(f){this.simulcastEnabled&&f.rid?this.prevOutboundVideoStats.set(f.rid,f):this.simulcastEnabled||this.prevOutboundVideoStats.set(ec,f)}}class dg extends on{constructor(f,g,b,T,O){super(ln.MINUTE,f,g,!1),Object.assign(this.properties,{action:T?Ge.PUBLISH:Ge.SUBSCRIBE,is_publishing:T,minutes_logged:b,subscribed_number:O})}}class f0 extends on{constructor(f){super(ln.PUBLISH,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:f.token.participantID})}}class h0 extends on{constructor(f){super(ln.UNPUBLISH,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:f.token.participantID})}}class Yl extends on{constructor(f){var g,b,T,O;super(ln.SUBSCRIBE,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.subscribedId,subscribed_id:f.subscribedId,is_edp_connected:f.isEdpConnected,is_reassignment:f.isReassignment,node:(b=(g=f.preAttemptSfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.preAttemptSfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:""})}}class zd extends on{constructor(f){super(ln.UNSUBSCRIBE,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.unsubscribedId,unsubscribed_id:f.unsubscribedId})}}class p0 extends on{constructor(f){var g,b,T,O;super(ln.PUBLISH_STARTED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,options_duration:f.optionsDuration,post_duration:f.postDuration,remote_participant_id:f.token.participantID,time_to_candidate:f.timeToCandidate,total_duration:f.totalDuration,edp_initial_connect_duration:f.edpInitialConnectDuration,edp_initial_connect_retry_times:f.edpInitialConnectRetries,edp_initial_state_duration:f.edpInitialStateDuration,edp_state_update_count:f.edpStateUpdateCount,sdp_exchange_duration:f.sdpExchangeDuration,sdp_exchange_transport:f.sdpExchangeTransport,set_remote_desc_duration:f.setRemoteDescDuration,peer_connection_duration:f.peerConnectionDuration,node:(b=(g=f.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",publish_retry_times:f.publishRetries,total_duration_with_retries:f.totalDurationWithRetries})}}class m0 extends on{constructor(f){super(ln.PUBLISH_FAILED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,code:f.code,message:f.message,fatal:f.fatal,nominal:f.nominal})}}class Wd extends on{constructor(f){super(ln.PUBLISH_ENDED,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:f.token.participantID,unpublish_successful:f.isUnpublishSuccessful,reason:f.reason})}}class g0 extends on{constructor(f){var g,b,T,O;super(ln.SUBSCRIBE_STARTED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,options_duration:f.optionsDuration,post_duration:f.postDuration,remote_participant_id:f.remoteParticipantId,time_to_candidate:f.timeToCandidate,total_duration:f.totalDuration,edp_initial_connect_duration:f.edpInitialConnectDuration,edp_initial_connect_retry_times:f.edpInitialConnectRetries,edp_initial_state_duration:f.edpInitialStateDuration,edp_initial_state_publishing_count:f.edpInitialStatePublishingCount,edp_state_update_count:f.edpStateUpdateCount,sdp_exchange_duration:f.sdpExchangeDuration,sdp_exchange_transport:f.sdpExchangeTransport,set_remote_desc_duration:f.setRemoteDescDuration,peer_connection_duration:f.peerConnectionDuration,node:(b=(g=f.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",total_duration_with_retries:f.totalDurationWithRetries,subscribe_retry_times:f.subscribeRetryTimes,is_reassignment:f.isReassignment})}}class $h extends on{constructor(f){super(ln.SUBSCRIBE_FAILED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.remoteParticipantId,code:f.code,message:f.message,fatal:f.fatal,nominal:f.nominal,is_reassignment:f.isReassignment})}}class Vh extends on{constructor(f){super(ln.SUBSCRIBE_ENDED,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.remoteParticipantId,unsubscribe_successful:f.isUnsubscribeSuccessful,reason:f.reason}),this.critical=!0}}class zh extends on{constructor(f){super(ln.STATE_UPDATED,f.token,f.traceId,!1),Object.assign(this.properties,{audio_muted:f.isAudioMuted,is_disconnected:f.isDisconnected,is_publishing:f.isPublishing,other_participant_id:f.otherParticipantId,other_participant_user_id:f.otherParticipantUserId,video_stopped:f.isVideoStopped})}}class v0 extends on{constructor(f){var g,b,T,O,N;super(ln.FIRST_FRAME,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.remoteParticipantId,edp_initial_connect_duration:f.edpInitialConnectDuration,edp_initial_connect_retry_times:f.edpInitialConnectRetries,edp_initial_state_duration:f.edpInitialStateDuration,edp_initial_state_publishing_count:f.edpInitialStatePublishingCount,edp_state_update_count:f.edpStateUpdateCount,sdp_exchange_duration:f.sdpExchangeDuration,sdp_exchange_transport:f.sdpExchangeTransport,set_remote_desc_duration:f.setRemoteDescDuration,peer_connection_duration:f.peerConnectionDuration,node:(b=(g=f.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",video_was_paused:f.videoWasPaused,first_frame_duration:f.firstFrameDuration,total_duration_with_retries:f.totalDurationWithRetries,subscribe_retry_times:f.subscribeRetryTimes,media_type:f.mediaType,configured_jitter_buffer_min_delay_ms:(N=f.currentJitterBufferMinDelayInMs)!==null&&N!==void 0?N:0})}}class Wh extends on{constructor(f){super(ln.EDP_PONG,f.token,f.traceId,!1),Object.assign(this.properties,{event_endpoint:f.eventEndpoint,protocol:f.protocol,edp_rtt:f.edpRttMs})}}class y0 extends on{constructor(f){super(ln.JOIN,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint})}}class fg extends on{constructor(f){super(ln.JOIN_ATTEMPT,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint})}}class Nw extends on{constructor(f){super(ln.JOIN_ATTEMPT_FAILED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint,code:f.code,message:f.message,fatal:f.fatal,nominal:f.nominal,connect_retry_times:f.retryCnt})}}class b0 extends on{constructor(f){super(ln.EDP_DISCONNECTED,f.token,f.traceId,!1),Object.assign(this.properties,{event_endpoint:f.eventEndpoint,protocol:f.protocol}),this.critical=!0}}class va extends on{constructor(f){super(ln.EDP_CONNECTED,f.token,f.traceId,!1),Object.assign(this.properties,{event_endpoint:f.eventEndpoint,protocol:f.protocol,connect_retry_times:f.numRetries}),this.critical=!0}}var hg;(function(S){S.MESSAGE="message",S.RESPONSE="response"})(hg||(hg={}));class x0{constructor(f,g,b){this.token=f,this.analyticsTracker=b,this.protocol="",this.connecting=!1,this.closing=!1,this.windowUnloading=!1,this.latestPingTimestamp=0,this.pongCount=0,this.latestSequenceNumber=0,this.nextConnectionAttempt=0,this.pingInterval=0,this.pongTimeout=0,this.connectTimeout=0,this.beforeUnload=()=>{this.emitter.emit(Dd,"beforeunload"),this.windowUnloading=!0},this.sendSdpOffer=(T,O,N,M,L,A,F,B)=>{var W;const ie={type:"aws:ivs:SDP_OFFER",payload:{whipUrl:O,requestId:M,traceId:N,platform:"web",sdk:"1.21.0",whipVersion:ls,content:T,contentType:"application/sdp"}};L&&(ie.payload.forceNode=L),A&&(ie.payload.assignmentToken=A),F&&(ie.payload.multiCodec=F);const be=Ed()===void 0,ge=Ed()||be;B&&ge&&(ie.payload.initialLayerPref=Bi(B)),(W=this.socket)===null||W===void 0||W.send(JSON.stringify(ie))},this.getRetryCount=()=>Math.max(this.connectionAttempts-1,0),this.trackJoinEnded=()=>{this.analyticsTracker.trackEventNoSharedProps(new b0({token:this.token,eventEndpoint:this.token.eventsURL,traceId:this.traceId,protocol:this.protocol}))},this.logger=new mo(g,kn.SOCKET),this.emitter=new Xr.EventEmitter,this.connectionAttempts=0,this.sentPing=!1,this.receivedPong=!1,this.traceId=Xi(),this.id=`[${Ga().value}] `,window.addEventListener("beforeunload",this.beforeUnload)}connect(f,g,b=!1){this.logger.debug({msg:`${this.id}connecting to ${this.addr}`}),this.addr=f,this.traceId=g,b&&!this.connecting&&(window.clearTimeout(this.connectTimeout),this.connectTimeout=window.setTimeout(this.connectTimedOut.bind(this),1e4)),this.attemptConnect(g)}attemptConnect(f){this.traceId=f||Xi(),this.connectionAttempts++,this.trackJoinAttempt(this.connectionAttempts);const{topic:g,rawToken:b}=this.token;this.connecting=!0,this.closing=!1;try{const T=encodeURIComponent(this.traceId.value);this.socket=this.createWebSocket(`${this.addr}?topic=${g}/publishers&traceid=${T}`,b),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onopen=this.onOpen.bind(this),this.protocol=this.socket.protocol}catch(T){const O=T instanceof Error?T.message:void 0,N=this.createError(Ae.EVENT_PLANE_WS_CREATE_FAILED,O);this.trackJoinFailed(N,this.getRetryCount()),this.emitter.emit(cs,N)}}send(f){var g;this.logger.debug({msg:`${this.id}sending ${JSON.stringify(f)}`}),this.isReady()?(g=this.socket)===null||g===void 0||g.send(JSON.stringify(f)):this.logger.warn({msg:"Trying to send data over stage socket that is not ready"})}close(){this.logger.debug({msg:`${this.id}closing`});const f=this.connecting,g=this.socket&&this.socket.readyState===this.socket.OPEN,b=this.socket&&this.socket.readyState===this.socket.CLOSING,T=this.getRetryCount();if(this.closing=!0,this.connecting=!1,this.cleanPingPongTimeouts(),window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.connectionAttempts=0,this.connectTimeout=0,this.socket){if(this.socket.close(),this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onopen=null,g)this.trackJoinEnded(),this.emitter.emit(Dd,"intentional-close");else if(f&&!b){const O=this.createError(Ae.OPERATION_ABORTED);this.trackJoinFailed(O,T),this.analyticsTracker.trackError(O),this.emitter.emit(cs,O)}}}removeAllListeners(){window.removeEventListener("beforeunload",this.beforeUnload),this.emitter.removeAllListeners()}createWebSocket(f,g){return new WebSocket(f,g)}createError(f,g){return new en(Object.assign({action:Ge.JOIN,traceId:this.traceId,token:this.token,location:"StageSocket.connection",tag:Id,details:g},f))}on(f,g){this.emitter.on(f,g)}off(f,g){this.emitter.off(f,g)}isReady(){return this.logger.debug({msg:`${this.id}isReady called`}),!!this.socket&&this.socket.readyState===this.socket.OPEN}onMessage(f){this.logger.debug({msg:`${this.id}received message: ${f.data}`});try{const g=JSON.parse(f.data);switch(g.type){case"STAGE_STATE":case"aws:ivs:STAGE_STATE":{const b=g.payload.sequenceNumber;b>this.latestSequenceNumber&&(this.latestSequenceNumber===0&&yh()&&this.connectTimeout>0&&this.triggerSocketOpen(g),this.emitter.emit(zl,g),this.latestSequenceNumber=b);break}case"PONG":this.receivedPong=!0,this.pongCount%2==0&&this.analyticsTracker.trackEventNoSharedProps(new Wh({token:this.token,eventEndpoint:this.token.eventsURL,protocol:this.protocol,traceId:this.traceId,edpRttMs:performance.now()-this.latestPingTimestamp})),this.pongCount++;break;case"REFRESH":this.emitter.emit(t0);break;case"aws:ivs:SDP_ANSWER":this.emitter.emit(Wl,g.payload);break;case"aws:ivs:DISCONNECT":this.emitter.emit(n0,g.payload);break;case"aws:ivs:REASSIGN":this.emitter.emit(Hm,g.payload);break;case"aws:ivs:INCOMPATIBLE_CODECS":this.emitter.emit(Bs,g.payload);break;default:(0,wr.noop)()}}catch(g){this.logger.debug({msg:`onMessage JSON Parse error: ${g}`}),this.emitter.emit(e0,g)}}onError(f){this.logger.debug({msg:`${this.id}error: ${JSON.stringify(f)}`})}onClose(f){if(this.logger.debug({msg:`${this.id}onClose triggered with code (closing = ${this.closing}, connecting = ${this.connecting})`}),this.cleanPingPongTimeouts(),this.closing)this.closing=!1;else if(!this.windowUnloading)if(this.connecting){let g=Math.pow(2,this.connectionAttempts-1);g>64&&(g=64),this.logger.debug({msg:`${this.id}reconnecting in ${g} seconds`}),window.clearTimeout(this.nextConnectionAttempt),this.nextConnectionAttempt=window.setTimeout(this.attemptConnect.bind(this),1e3*g);const b=this.createError(Ae.EVENT_PLANE_WS_CLOSE_BEFORE_OPEN,`code: ${f==null?void 0:f.code}, reason: ${f==null?void 0:f.reason}, wasClean: ${f==null?void 0:f.wasClean}`);this.trackJoinFailed(b,this.getRetryCount()),this.analyticsTracker.trackError(b)}else{this.logger.debug({msg:`${this.id}unexpected close`}),this.emitter.emit(Dd,"unknown");const g=this.createError(Ae.EVENT_PLANE_WS_UNEXPECTED_CLOSE,`code: ${f==null?void 0:f.code}, reason: ${f==null?void 0:f.reason}, wasClean: ${f==null?void 0:f.wasClean}`);this.trackJoinEnded(),this.emitter.emit(cs,g)}}onOpen(){this.logger.debug({msg:`${this.id} socket opened`}),this.clearConnectionAttemptTimeouts(),yh()?this.connectTimeout=window.setTimeout(()=>{this.triggerSocketOpen()},1e4):this.triggerSocketOpen()}clearConnectionAttemptTimeouts(){window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.nextConnectionAttempt=0,this.connectTimeout=0}triggerSocketOpen(f){this.clearConnectionAttemptTimeouts();const g=this.getRetryCount();this.connectionAttempts=0,this.connecting=!1,this.trackJoinStarted(),this.emitter.emit(Wm,{retryCnt:g,traceId:this.traceId,initialStageState:f}),this.pingInterval=window.setInterval(this.ping.bind(this),3e4)}ping(){var f;this.logger.debug({msg:`${this.id}sending PING`});try{this.latestPingTimestamp=performance.now(),(f=this.socket)===null||f===void 0||f.send(JSON.stringify({type:"PING"})),this.sentPing=!0,this.receivedPong=!1,this.pongTimeout&&clearTimeout(this.pongTimeout),this.pongTimeout=window.setTimeout(this.pongTimedOut.bind(this),5e3)}catch(g){const b=g instanceof Error?g.message:void 0,T=this.createError(Ae.EVENT_PLANE_PING_SEND_FAIL,b);this.emitter.emit(cs,T)}}connectTimedOut(){const f=this.socket&&this.socket.readyState===this.socket.CONNECTING;this.connecting=!1,this.logger.debug({msg:`${this.id}Connect timed out!`});const g=this.createError(Ae.JOIN_TIMED_OUT);f&&this.trackJoinFailed(g,this.getRetryCount()),this.createError(Ae.JOIN_TIMED_OUT),this.emitter.emit(cs,g),this.close()}pongTimedOut(){if(this.sentPing&&!this.receivedPong){this.logger.debug({msg:`${this.id}Pong timed out!`});const f=this.createError(Ae.EVENT_PLANE_PONG_TIMEOUT);this.emitter.emit(cs,f)}}cleanPingPongTimeouts(){this.sentPing=this.receivedPong=!1,window.clearTimeout(this.pongTimeout),window.clearInterval(this.pingInterval)}trackJoinAttempt(f){const{token:g,traceId:b}=this;this.analyticsTracker.trackEvent(new fg({token:g,eventEndpoint:(g==null?void 0:g.eventsURL)||"",whipEndpoint:(g==null?void 0:g.whipURL)||"",traceId:b}))}trackJoinFailed(f,g){const{token:b,traceId:T,code:O,message:N,fatal:M,nominal:L}=f;this.analyticsTracker.trackEvent(new Nw({token:b,eventEndpoint:b.eventsURL,whipEndpoint:b.whipURL,traceId:T,code:O,message:N,fatal:M,nominal:L,retryCnt:g}))}trackJoinStarted(){this.analyticsTracker.trackEventNoSharedProps(new va({token:this.token,eventEndpoint:this.token.eventsURL,numRetries:this.getRetryCount(),protocol:this.protocol,traceId:this.traceId}))}}var S0=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},Hd,ai,Zi,Wn;(function(S){S.SDP_EXCHANGE="xdp",S.JITTER_BUFFER_MIN_DELAY_MS="jit_buf_min_delay_ms"})(Hd||(Hd={})),function(S){S.USER_INITIATED="user-initiated",S.CLIENT_RECONNECT="reconnect",S.TOKEN_REUSED="token-reused",S.UNKNOWN="unknown",S.PARTICIPANT_DISCONNECTED="participant-disconnected",S.STAGE_DELETED="stage-deleted"}(ai||(ai={})),function(S){S[S.NOT_CONNECTED=0]="NOT_CONNECTED",S[S.CONNECTION_LOST=1]="CONNECTION_LOST",S[S.TIMEDOUT=2]="TIMEDOUT",S[S.ABORTED=3]="ABORTED",S[S.INVALID_MESSAGE=4]="INVALID_MESSAGE",S[S.UNEXPECTED_ERROR=5]="UNEXPECTED_ERROR"}(Zi||(Zi={})),function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"}(Wn||(Wn={}));class Hh extends yo{constructor(f,g,b){super(),this.token=f,this.nonScopedLogger=g,this.analyticsTracker=b,this.participants=new Map,this.disconnected=[],this.state={value:Wn.DISCONNECTED,context:{connectStartTime:0,hasConnected:!1}},this.features={sdpExchange:!1},this.stats=this.resetStats(),this.stageMinutesLogged=0,this.isStagePublishing=!1,this.onConnecting=(T,O)=>{this.logger.debug({msg:"onConnecting",context:T,event:O}),T.connectStartTime=performance.now();const N=O.type==="RECONNECT";N&&this.stageSocket.close();const{eventsURL:M}=this.token;this.emit(da,Wn.CONNECTING),this.state.value=Wn.CONNECTING;const L=!N;this.stageSocket.connect(M,this.traceId,L)},this.onConnected=(T,O)=>{this.logger.debug({msg:"onConnected",context:T,event:O}),T.hasConnected=!0,this.emit($l),this.emit(da,Wn.CONNECTED),this.state.value=Wn.CONNECTED},this.onDisconnected=(T,O)=>{this.logger.debug({msg:"onDisconnected",context:T}),this.state.value=Wn.DISCONNECTED,this.stopStageMinuteLoggedInterval(!0),this.stageSocket.close(),T.hasConnected=!1,this.participants=new Map,this.disconnected=[],this.stageSocket.removeAllListeners(),this.resetStats(),this.emit(da,Wn.DISCONNECTED,O)},this.onErrored=(T,O)=>{this.logger.error({msg:"Connection failure occurred",err:O.payload.error}),this.emit(da,Wn.ERRORED),this.emit(zm,O.payload.error),this.state.value=Wn.ERRORED,T.hasConnected?this.processStateUpdate({type:"RECONNECT"}):this.stageSocket.close()},this.processStateUpdate=T=>{const O=this.state.value,N=this.state.context;switch(O){case Wn.DISCONNECTED:T.type==="CONNECT"&&this.onConnecting(N,T);break;case Wn.CONNECTING:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="CONNECT_SUCCESS"?this.onConnected(N,T):T.type==="ERROR"&&this.onErrored(N,T);break;case Wn.CONNECTED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="ERROR"&&this.onErrored(N,T);break;case Wn.ERRORED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"&&this.onDisconnected(N,T.reason)}},this.measureConnect=(T,O)=>{const N=this.stats.edpConnectCount,M=N+1,L=performance.now(),A=L-O;return Object.assign(this.stats,{edpConnectCount:M,edpConnectDuration:A}),N===0&&Object.assign(this.stats,{edpInitialStartConnectTime:O,edpInitialFinishConnectTime:L,edpInitialConnectDuration:A,edpInitialConnectRetries:T}),this.stats},this.measureStateUpdate=T=>{const{edpInitialFinishConnectTime:O}=this.stats,N=this.stats.edpStateUpdateCount,M=N+1;return Object.assign(this.stats,{edpStateUpdateCount:M}),N===0&&Object.assign(this.stats,{edpInitialStateDuration:performance.now()-O,edpInitialStatePublishingCount:T}),this.stats},this.trackMessageParseError=T=>{this.logger.error({msg:"Message Parse Error occurred",err:T.err});const O=new en({token:T.token,traceId:T.traceId,code:Ae.WEBSOCKET_MESSAGE_PARSE_FAILURE.code,tag:T.tag,location:T.location,message:T.message,details:T.err.message});this.analyticsTracker.trackEvent(new vh(O))},this.trackStageSocketMessageParseError=(T,O,N)=>{this.trackMessageParseError({token:T,traceId:O,tag:Id,location:"StageConnection.onMessage",message:Ae.WEBSOCKET_MESSAGE_PARSE_FAILURE.message,err:N})},this.trackStageStateMessageParseError=(T,O,N,M)=>{this.trackMessageParseError({token:T,traceId:O,tag:Id,location:"StageConnection.onStageStateMessage",message:M,err:N})},this.onDisconnectMessage=T=>{this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,this.traceId,`DISCONNECT message received: ${T.code}:${T.reason}`,Ge.JOIN));let O=ai.UNKNOWN;if(T.code==="PARTICIPANT_DISCONNECTED")O=ai.PARTICIPANT_DISCONNECTED;else if(T.code==="STAGE_DELETED")O=ai.STAGE_DELETED;else if(T.code==="TOKEN_REUSED"&&(O=ai.TOKEN_REUSED,$a("disableTokenReuseMessage")))return void console.warn("Token reuse is detected, but skipping as feature is disabled");console.warn(`Disconnecting client due to: ${T.reason}`),this.processStateUpdate({type:"DISCONNECT",reason:O})},this.onReassignmentMessage=T=>{this.emit(H,T)},this.onIncompatibleCodecsMessage=T=>{this.emit(Dc,T)},this.onStageStateMessage=(T,O,N)=>{var M,L;this.logger.debug({msg:"State Stage Message occurred",state:N});const A=N.payload,F=(M=A.participants)!==null&&M!==void 0?M:[],B=(L=A.disconnected)!==null&&L!==void 0?L:[],W=[],ie=[];this.measureStateUpdate(F.length),this.enableFeaturesBasedOnServerFeatures(A.serverFeatures||[]);const be=(ge,le)=>{this.analyticsTracker.trackEventNoSharedProps(new zh({token:T,otherParticipantId:ge.id,otherParticipantUserId:ge.userId,isAudioMuted:ge.audioMuted,isVideoStopped:ge.videoStopped,isPublishing:ge.isPublishing,isDisconnected:le,traceId:O}))};this.participants.forEach(ge=>{const le=F.find(ae=>ae.id===ge.id);if(le){let ae=!0,oe=!1;["isPublishing","id","audioMuted","joinedAt","userId","videoStopped"].forEach(we=>{ae=ae&&le[we.toString()]===ge[we.toString()],ae||(ge[we.toString()]=le[we.toString()],oe=!0)}),Object.keys(ge.attributes).forEach(we=>{ae=ae&&le.attributes[we]===ge.attributes[we],ae||(ge.attributes=le.attributes,oe=!0)}),oe&&(be(ge,!1),this.emit(Ih,le))}else ie.push(ge)}),F.forEach(ge=>{this.participants.get(ge.id)||W.push(ge)}),ie.forEach(ge=>{this.participants.delete(ge.id),be(ge,!0),this.emit(Nh,ge)}),W.forEach(ge=>{this.participants.set(ge.id,ge),be(ge,!1),this.emit(Ph,ge)}),B.forEach(ge=>{this.disconnected.find(le=>le.id===ge.id)||(this.disconnected.push(ge),ge.status==="KICKED"&&this.emit($m,ge))}),this.disconnected=B},this.nonScopedLogger=g,this.logger=new mo(g,kn.CONNECTION),this.stageSocket=new x0(f,this.nonScopedLogger,b),this.token=f,this.traceId=Xi()}resetStats(){return this.stats={isConnected:!1,edpInitialStartConnectTime:0,edpInitialFinishConnectTime:0,edpConnectCount:0,edpInitialConnectDuration:0,edpConnectDuration:0,edpInitialStateDuration:0,edpInitialStatePublishingCount:0,edpStateUpdateCount:0,edpInitialConnectRetries:0},this.stats}connect(f){return S0(this,void 0,void 0,function*(){return this.logger.debug({msg:"connect invoked",token:this.token,traceId:f}),this.traceId=f,this.state.value!==Wn.DISCONNECTED&&(this.logger.debug({msg:"Disconnecting previous connection"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.CLIENT_RECONNECT})),new Promise((g,b)=>{this.stageSocket.on(Wm,T=>{var O,N;const{retryCnt:M,initialStageState:L}=T;L&&this.enableFeaturesBasedOnServerFeatures((N=(O=L.payload)===null||O===void 0?void 0:O.serverFeatures)!==null&&N!==void 0?N:[]),this.traceId=T.traceId||Xi(),this.measureConnect(M,this.state.context.connectStartTime),this.processStateUpdate({type:"CONNECT_SUCCESS"}),this.startStageMinuteLoggedInterval(this.token,this.traceId),g(this.traceId)}),this.stageSocket.on(cs,T=>{b(T),this.processStateUpdate({type:"ERROR",payload:{error:T}})}),this.stageSocket.on(t0,()=>{this.logger.debug({msg:"Refresh event occurred"}),this.emit(Ah),this.processStateUpdate({type:"RECONNECT"})}),this.stageSocket.on(zl,T=>this.onStageStateMessage(this.token,this.traceId,T)),this.stageSocket.on(e0,T=>this.trackStageSocketMessageParseError(this.token,this.traceId,T)),this.stageSocket.on(n0,this.onDisconnectMessage),this.stageSocket.on(Hm,this.onReassignmentMessage),this.stageSocket.on(Bs,this.onIncompatibleCodecsMessage),this.stageSocket.on(Dd,T=>{this.stopStageMinuteLoggedInterval()}),this.processStateUpdate({type:"CONNECT",payload:{token:this.token,traceId:f}})})})}disconnect(){return this.logger.debug({msg:"disconnect invoked"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.USER_INITIATED}),this.traceId}getParticipant(f){return this.participants.get(f)}listConnectedParticipants(){const f=[];return this.participants.forEach(g=>{g.subscribed&&f.push(g)}),f}listAvailableParticipants(){return Array.from(this.participants.values())}emitStageState(f,g){this.stageSocket.send({audioMuted:f,type:"SET_STATE",version:"0",videoStopped:g})}setStagePublishing(f){this.isStagePublishing=f,this.emit(Vm,this.isStagePublishing)}getIsStagePublishing(){return this.isStagePublishing}startStageMinuteLoggedInterval(f,g){this.uploadStageMinutesBroadcastInterval||(this.analyticsTracker.trackEvent(new dg(f,g,this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++,this.uploadStageMinutesBroadcastInterval=setInterval(()=>{this.analyticsTracker.trackEvent(new dg(f,g??Xi(),this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++},6e4))}stopStageMinuteLoggedInterval(f=!1){this.uploadStageMinutesBroadcastInterval&&(clearInterval(this.uploadStageMinutesBroadcastInterval),this.uploadStageMinutesBroadcastInterval=void 0),f&&(this.stageMinutesLogged=0)}enableFeaturesBasedOnServerFeatures(f){const g=(N,M)=>{this.trackStageStateMessageParseError(this.token,this.traceId,M,`Could not parse "${N}" from the Eevee server features list`)},b=f.includes(Hd.SDP_EXCHANGE);this.features.sdpExchange!==b&&(this.logger.debug({msg:`XDP SDP exchange feature toggled: ${b}`}),this.features.sdpExchange=b);const T=f.find(N=>N.indexOf(Hd.JITTER_BUFFER_MIN_DELAY_MS)!==-1),O=N=>{this.logger.debug({msg:`jitterBufferMinDelay feature updated to: ${N}`}),this.features.jitterBufferMinDelayInMs=N};if(T!==void 0)try{const N=T.split("=")[1],M=parseInt(N,10);if(isNaN(M))throw new Error("Unable to parse - result is NaN");if(M<0)throw new Error("Unable to apply - result is negative");this.features.jitterBufferMinDelayInMs!==void 0&&this.features.jitterBufferMinDelayInMs===M||O(M)}catch(N){g(T,N),O(void 0)}else O(void 0)}isConnected(){return this.state.value===Wn.CONNECTED}supportsSdpExchange(){return this.features.sdpExchange}jitterBufferMinDelayInMs(){return this.features.jitterBufferMinDelayInMs}getConnectionStats(){return Object.assign({},this.stats,{isConnected:this.isConnected()})}exchangeSdp(f,g,b,T,O,N,M,L,A){return S0(this,void 0,void 0,function*(){return this.isConnected()?new Promise((F,B)=>{const W=window.setTimeout(()=>{ie(),B(Zi.TIMEDOUT)},8e3),ie=()=>{window.clearTimeout(W),this.stageSocket.off(Wl,be),this.stageSocket.off(cs,ge)},be=le=>{le.requestId===T&&(ie(),F(le))},ge=()=>{ie(),B(Zi.CONNECTION_LOST)};O==null||O.addEventListener("abort",()=>{ie(),B(Zi.ABORTED)}),this.stageSocket.on(Wl,be),this.stageSocket.on(cs,ge),this.stageSocket.sendSdpOffer(f,g,b,T,N,M,L,A)}):Promise.reject(Zi.NOT_CONNECTED)})}}class Gd{constructor(f){this.token=f}}const Ql=new RegExp("^(?:[a-z+]+:)?//","i");function Rt(S){return Ql.test(S)}function qd({sdpExchangeTransport:S,serverHttpResponse:f,serverErrorCode:g}){return`sdpExchangeTransport: ${S}, serverHttpResponse: ${f}, serverErrorCode: ${g}`}var pg=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Bc={[Zi.ABORTED]:Ae.OPERATION_ABORTED,[Zi.NOT_CONNECTED]:Ae.EVENT_PLANE_WS_UNEXPECTED_CLOSE,[Zi.CONNECTION_LOST]:Ae.XDP_CONNECTION_LOST,[Zi.TIMEDOUT]:Ae.XDP_TIMEOUT,[Zi.INVALID_MESSAGE]:Ae.XDP_INVALID_ANSWER_MSG,[Zi.UNEXPECTED_ERROR]:Ae.XDP_UNEXPECTED_ERROR};class mg extends Gd{constructor(f,g,b,T){super(f),this.token=f,this.stageConnection=g,this.contextData=b,this.analyticsTracker=T}exchange(f){return pg(this,void 0,void 0,function*(){const g=Ga(),{action:b}=this.contextData,{sdpOffer:T,url:O,traceId:N,forceNode:M,assignmentToken:L,multiCodec:A,abortController:F,initialLayerPreference:B}=f;let W;this.trackAttempt(O,g,N);try{W=yield this.stageConnection.exchangeSdp(T,O,N.value,g.value,F==null?void 0:F.signal,M,L,A,B)}catch(ze){if(typeof ze=="number")throw this.createClientSideErrorFromReasonCode(ze,N,g,b)}if(!W)return;const{httpStatusCode:ie,errorCode:be,location:ge,content:le,sessionDeleteLink:ae,subscriberControlLink:oe,videoLayersLink:we}=W;if(ie>=200&&ie<300)return{sdpAnswer:le,url:O,location:ge,sessionDeleteLink:ae,mediaControls:oe,layerControls:we};throw this.createServerSideError(N,g,ie,be,b)})}trackAttempt(f,g,b){const{remoteParticipantId:T,action:O}=this.contextData;this.analyticsTracker.trackEventNoSharedProps(new Hl(O,this.token,f,"POST",g.value,T,b,"xdp"))}createServerSideError(f,g,b,T,O){const N=this.baseErrorProps(f,g);let M=jc(b,T);return M||(M=Ae.UNKNOWN_SERVER_ERROR),new en(Object.assign(Object.assign(Object.assign({action:O},N),M),{details:qd({sdpExchangeTransport:"xdp",serverHttpResponse:b,serverErrorCode:T})}))}baseErrorProps(f,g){const{remoteParticipantId:b,action:T}=this.contextData;return{token:this.token,traceId:f,tag:Jr(T,b),location:"EdpSdpExchanger.exchange",requestUUID:g,remoteParticipantId:b}}createClientSideErrorFromReasonCode(f,g,b,T){const O=this.baseErrorProps(g,b),N=Bc[f];return new en(N?Object.assign(Object.assign({action:T},O),N):Object.assign(Object.assign({action:T},O),Ae.XDP_INVALID_ANSWER_MSG))}getTransport(){return"sdp"}}var _0=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ei extends Gd{constructor(f,g,b){super(f),this.contextData=g,this.analyticsTracker=b}exchange(f){var g,b,T;return _0(this,void 0,void 0,function*(){const O=Ga(),{token:N}=this,{action:M,remoteParticipantId:L}=this.contextData,{sdpOffer:A,url:F,traceId:B,forceNode:W,assignmentToken:ie,multiCodec:be,abortController:ge,initialLayerPreference:le}=f;try{const oe="POST",we="http";this.analyticsTracker.trackEventNoSharedProps(new Hl(M,N,F,oe,O.value,L,B,we));const ze={data:A,headers:{Authorization:`Bearer ${N.rawToken}`,"Content-Type":"application/sdp","X-Stages-Platform":"web","X-Stages-Request-ID":O.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":B.value,"X-Stages-WHIP-Version":ls,[Ew]:(ae=JSON.stringify({[Cw]:["sau"]}),btoa(ae).replace(/[^A-Za-z0-9+/]/g,""))},method:oe,responseType:"text",url:F,signal:ge==null?void 0:ge.signal,params:{}};W&&(ze.params.force_node=W),ie&&(ze.params.assignment_token=ie),be&&(ze.params.multi_codec=!0);const st=Ed()===void 0,Tt=Ed()||st;le&&ze.headers&&Tt&&(ze.headers["X-Stages-Initial-Layer-Pref"]=Bi(le));const{data:Yt,headers:Qt,request:zt}=yield o0(ze),Nt=this.parseWhipResource(F,Qt.location,Qt.link);return{url:zt.responseURL,sdpAnswer:Yt,location:Nt==null?void 0:Nt.location,sessionDeleteLink:Nt==null?void 0:Nt.sessionDeleteLink,mediaControls:Nt==null?void 0:Nt.mediaControls,layerControls:Nt==null?void 0:Nt.layerControls}}catch(oe){if(Wr().isCancel(oe))throw new en(Object.assign(Object.assign({},ua(Ae.OPERATION_ABORTED,oe)),{action:M,token:N,traceId:B,tag:Jr(M,L),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:L}));const we=Number((g=oe==null?void 0:oe.response)===null||g===void 0?void 0:g.status)||-1,ze=((T=(b=oe==null?void 0:oe.response)===null||b===void 0?void 0:b.data)===null||T===void 0?void 0:T.code)||-1,st=function(Tt,Yt){var Qt;return Tt instanceof gr.AxiosError&&Tt.response&&typeof Tt.response.status=="number"?Tt instanceof gr.AxiosError&&Tt.code==="ERR_NETWORK"?Ae.NETWORK_FAILURE:jc(Number(Tt.response.status),(Qt=Tt.response.data)===null||Qt===void 0?void 0:Qt.code)||Yt:Yt}(oe,Ae.WHIP_POST_FAILURE);throw new en(Object.assign(Object.assign({},ua(st,oe)),{action:M,token:N,traceId:B,tag:Jr(M,L),details:qd({sdpExchangeTransport:"http",serverHttpResponse:we,serverErrorCode:ze}),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:L}))}var ae})}parseWhipResource(f,g,b){const T=new URL(f);let O;return O=function(N,M,L){if(!L)return N;if(N||(N={}),Rt(L))return N.location=L,N;const A=M.port?`:${M.port}`:"";return N.location=`${M.protocol}//${M.hostname}${A}${L}`,N}(O,T,g),O=function(N,M,L){if(!L)return N;N||(N={});const A=N;return L.split(",").forEach(F=>{const B=/<(.+)>;\s?rel="([a-z:-]+)"/.exec(F);if((B==null?void 0:B.length)!==3)return;let W;if(Rt(B[1]))W=B[1];else{const ie=M.port?`:${M.port}`:"";W=`${M.protocol}//${M.hostname}${ie}${B[1]}`}switch(B[2]){case"urn:ietf:params:whip:ivs-stages:session-delete":A.sessionDeleteLink=W;break;case"urn:ietf:params:whep:core:playback-controls":A.mediaControls=W;break;case"urn:ietf:params:whep:ext:core:layer":A.layerControls=W;break;default:return}}),A}(O,T,b),O}getTransport(){return"http"}}function Gh(S){return S.track.kind===fa.AUDIO}function qh(S){return S.track.kind===fa.VIDEO&&typeof S.config=="object"}const w0=(S,f)=>function(g){return g.kind===fa.AUDIO}(S)?((g,b)=>{var T;const O={maxBitrateBps:fs((T=b==null?void 0:b.maxAudioBitrateKbps)!==null&&T!==void 0?T:Ym)},N=b==null?void 0:b.stereo;return typeof N=="boolean"&&(O.stereo=N),{track:g,config:O}})(S,f):((g,b)=>{var T,O,N,M,L;const A=(T=b==null?void 0:b.minBitrate)!==null&&T!==void 0?T:Lc,F=(O=b==null?void 0:b.maxBitrate)!==null&&O!==void 0?O:us,B=(N=b==null?void 0:b.maxFramerate)!==null&&N!==void 0?N:Qa,W=!!(!((M=b==null?void 0:b.simulcast)===null||M===void 0)&&M.enabled),ie=!!(!((L=b==null?void 0:b.inBandMessaging)===null||L===void 0)&&L.enabled);return{track:g,config:{minBitrateBps:fs(A),maxBitrateBps:fs(F),maxFramerate:B,simulcastEnabled:W,inBandMessagingEnabled:ie}}})(S,f),$o=(S,f)=>{if(typeof S=="number")return S;const g=f?Qm:s0;return g[S]!==void 0?g[S]:0};function Ci(S){if(S<Lc||S>us)throw new Error(`Stage bitrate must be between ${Lc} kbps and ${us} kbps`)}function gg(S,f){let b=Object.assign({},{minBitrate:Lc,maxBitrate:us,maxFramerate:Qa,simulcast:{enabled:!1},maxAudioBitrateKbps:Ym,stereo:!1,inBandMessaging:{enabled:!1}},(0,wr.cloneDeep)(f));return b=function(T,O){var N,M,L;const A=Object.assign({},(0,wr.cloneDeep)(O)),F=!Bd.browser.isChrome()&&!Bd.browser.isEdge(),B=(L=(M=(N=T.getSettings)===null||N===void 0?void 0:N.call(T))===null||M===void 0?void 0:M.displaySurface)!==null&&L!==void 0&&L,W=fs(A.maxBitrate)<Vd.maxBitrate;return(F||B||W)&&(A.simulcast.enabled=!1),A}(S,b),Ci(b.maxBitrate),Ci(b.minBitrate),function(T){if(T&&(T>Qa||T<Lh))throw new Error(`framerate cannot exceed ${Qa} fps`)}(b.maxFramerate),function(T){if(T<Ld||T>Fc)throw new Error(`Stage audio bitrate must be between ${Ld} kbps and ${Fc} kbps`)}(b.maxAudioBitrateKbps),function(T){if(typeof T!="boolean")throw new Error("Stage stereo prop must be a boolean")}(b.stereo),function(T){if(typeof T!="object")throw new Error("In-band messaging config must be an object");if(typeof T.enabled!="boolean")throw new Error("In-band messaging config enabled property must be a boolean")}(b.inBandMessaging),b}function Kd({stageErrorValue:S,action:f,token:g,traceId:b,tag:T,identifier:O,details:N}){return new en(Object.assign(Object.assign({},S),{token:g,traceId:b,location:"peer-client",tag:T,action:f,remoteParticipantId:O,details:N}))}var Ti;function Xl(S){var f;return!((f=S==null?void 0:S.sender)===null||f===void 0)&&f.createEncodedStreams?Ti.INSERTABLE_STREAMS:window.RTCRtpSender&&"transform"in RTCRtpSender.prototype&&window.RTCRtpScriptTransform?Ti.ENCODED_TRANSFORMS:Ti.NONE}function vg(S){var f;return!((f=S==null?void 0:S.receiver)===null||f===void 0)&&f.createEncodedStreams?Ti.INSERTABLE_STREAMS:window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&window.RTCRtpScriptTransform?Ti.ENCODED_TRANSFORMS:Ti.NONE}function E0(){return Xy()(`/*! For license information please see transform.worker.worker.js.LICENSE.txt */
(()=>{"use strict";const e=new Uint8Array([158,80,78,165,238,90,79,2,148,159,176,51,163,118,141,162]);var t;!function(e){e.VIDEO_SEND="video/send",e.VIDEO_RECEIVE="video/receive",e.INSERT_SEI="insertSei"}(t||(t={}));function n(t,n){const{transformerId:s,type:r,payloads:a}=n;let o=[];if("sei"===n.type){const{value:n,messages:s}=function(t,n){function s(e,t,n){return n+t.length<=e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function r(e,t){const n=function(e,t){return new Uint8Array([0,0,1,6,5,...t,...e])}(e,function(e){const t=[];for(;e>=255;)t.push(255),e-=255;return t.push(e),new Uint8Array(t)}(t.length+e.length)),s=function(e){const t=[...e];let n=3;for(;n<t.length-2;)0!==t[n]||0!==t[n+1]||0!==t[n+2]&&1!==t[n+2]&&2!==t[n+2]&&3!==t[n+2]?n+=1:(t.splice(n+2,0,3),n+=3);return t}(new Uint8Array([...n,...t,128]));return new Uint8Array(s)}function a(e,n){const r=function(e){const t=new DataView(e);for(let e=0;e<t.byteLength-4;e++)if(s(t,[0,0,1],e)){const n=31&t.getUint8(e+3);if(n>=1&&n<=5)return e}return-1}(t.data);if(r>=0){const e=new ArrayBuffer(t.data.byteLength+n.byteLength),s=new Uint8Array(e);return s.set(new Uint8Array(t.data.slice(0,r)),0),s.set(n,r),s.set(new Uint8Array(t.data.slice(r)),r+n.byteLength),e}return e}return function(){const s=[];for(let o=0;o<n.length;o+=1){const i=r(e,new Uint8Array(n[o]));t.data=a(t.data,i),s.push({uuid:e,payload:n[o]})}return{value:t,messages:s}}()}(t,a||[]);t=n,o=s}return{success:!0,frame:t,transformerId:s,type:r,seiResult:o}}const s=function(){let e=[];const t=new Map;return{add:({payload:t,repeatCount:n})=>(e.push({payload:t,repeatCount:n}),!0),poll(n){t.has(n)||t.set(n,[]),t.size>0&&(t.forEach((t=>{t.push(...e)})),e=[]);const s=t.get(n)||[],r=s.filter((e=>e.repeatCount>0)).map((e=>Object.assign(Object.assign({},e),{repeatCount:e.repeatCount-1})));return t.set(n,r),s}}}(),r=e=>(t,r)=>{try{const a=t.getMetadata().synchronizationSource,o=(s?s.poll(a):[]).map((e=>e.payload)),i=n(t,Object.assign(Object.assign({},e),{payloads:o}));r.enqueue(i.frame),self.postMessage(Object.assign({success:i.success,seiResult:i.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}},a=e=>(t,n)=>{try{const s=function(e,t){const{type:n,transformerId:s}=t;if("sei"===n){const t=function(e){function t(e,t,n){return n+t.length<e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function n(e){const t=[];let n=0;for(;n<e.length;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(t.push(e[n]),t.push(e[n+1]),n+=3):(t.push(e[n]),n+=1);return new Uint8Array(t)}function s(e){let t=2;const n=e.byteLength;for(;t<n;){let s=0;for(;t<n&&255===e[t];)s+=255,t++;s+=e[t],t++;const r=Math.min(t+s,n),a=new Uint8Array(e.slice(t,r));return{uuid:a.slice(0,16),payload:a.slice(16)}}}return{messages:function(e){const r=new DataView(e.data),a=[];let o=0;if(!t(r,[0,0,1],0)&&!t(r,[0,0,0,1],0))return[];for(;o<r.byteLength-5;)if(t(r,[0,0,1],o)){const i=o+3;o=i;const c=31&r.getUint8(o),u=31&r.getUint8(o+1);if(6===c&&5===u){for(;o<r.byteLength&&!t(r,[0,0,1],o);)o++;const c=o,u=s(n(new Uint8Array(e.data.slice(i,c))));u&&a.push(Object.assign({},u))}else o++}else o++;return a}(e),frame:e}}(e),{frame:r,messages:a}=t;return{success:!0,frame:r,type:n,transformerId:s,seiResult:a}}return{success:!0,frame:e,transformerId:s,type:n}}(t,e);n.enqueue(s.frame),self.postMessage(Object.assign({success:s.success,seiResult:s.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}};function o(e,t,n,s){const o=new TransformStream({transform:"video/send"===e?r(t):a(t)});n.pipeThrough(o).pipeTo(s)}const i=self;i.addEventListener("message",(function(e){var n,r,a;if(!(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.operation)||!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transformerId))return;const{operation:i,transformerId:c}=e.data;switch(i){case t.VIDEO_SEND:case t.VIDEO_RECEIVE:o(i,{method:i,transformerId:c,type:"sei"},e.data.readable,e.data.writable);break;case t.INSERT_SEI:s.add({payload:e.data.payload,repeatCount:null!==(a=e.data.repeatCount)&&void 0!==a?a:0})}})),i.addEventListener("rtctransform",(function(e){const t=e.transformer;if(!t)return;o(t.options.method,t.options,t.readable,t.writable)}))})();`,"Worker",void 0,void 0)}(function(S){S.NONE="none",S.ENCODED_TRANSFORMS="encodedTransforms",S.INSERTABLE_STREAMS="insertableStreams"})(Ti||(Ti={}));const Jl=(()=>{let S;return{getWorker:()=>(S||(S=new E0),S),destroy:()=>{S&&S.terminate(),S=void 0}}})();var Ri;(function(S){S.NOT_PUBLISHING_VIDEO="NOT_PUBLISHING_VIDEO",S.INBAND_MESSAGING_NOT_ENABLED="INBAND_MESSAGING_NOT_ENABLED",S.INVALID_REPEAT_COUNT="INVALID_REPEAT_COUNT",S.PAYLOAD_SIZE_INVALID="PAYLOAD_SIZE_INVALID",S.PAYLOAD_RATE_EXCEEDED="PAYLOAD_RATE_EXCEEDED",S.INVALID_TRACK_TYPE="INVALID_TRACK_TYPE"})(Ri||(Ri={}));class yg{constructor(f){this.maxFramerate=f,this.queued=[]}validateMessagePayload(f,g){if(f.byteLength<=0)return ot.err(Ri.PAYLOAD_SIZE_INVALID);if(g<0||g>30)return ot.err(Ri.INVALID_REPEAT_COUNT);if(f.byteLength>1024)return ot.err(Ri.PAYLOAD_SIZE_INVALID);this.queued=this.trimPastPayloads(this.queued,1e3);const{before:b,after:T}=this.getPayloadSums(this.queued);if(b+f.byteLength>10240||T+f.byteLength*Math.max(1,g)>10240)return ot.err(Ri.PAYLOAD_RATE_EXCEEDED);if(this.queued.push({byteLength:f.byteLength,timestamp:Date.now()}),g>0){const O=1e3/this.maxFramerate;let N=Date.now()+O;for(let M=0;M<g;M+=1)this.queued.push({byteLength:f.byteLength,timestamp:N}),N+=O}return ot.ok(!0)}trimPastPayloads(f,g){const b=Date.now()-g;return f.filter(T=>T.timestamp>b)}getPayloadSums(f){const g=Date.now();return f.reduce((b,T)=>{const{before:O,after:N}=b;return T.timestamp<=g?{before:O+T.byteLength,after:N}:{before:O,after:N+T.byteLength}},{before:0,after:0})}}const bg="seiMessageReceived",Zl="error";var $i;(function(S){S.CREATED="created",S.INITIALIZED="initialized",S.DESTROYED="destroyed"})($i||($i={}));class xg extends yo{constructor(){super(),this.state=$i.CREATED,this.transformerId=Ga().value,this.prevResultWasError=!1,this.consecutiveErrorResults=0,this.seiReadCnt=0,this.seiBytesRead=0,this.onMessage=f=>{this.onTransformResult(f.data)}}initializeInsertableStreams(f){var g,b;this.worker=Jl.getWorker();const T=f.receiver.createEncodedStreams(),{readable:O,writable:N}=T;(g=this.worker)===null||g===void 0||g.postMessage({operation:"video/receive",transformerId:this.transformerId,readable:O,writable:N},[O,N]),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initializeEncodedTransforms(f){var g;this.worker=Jl.getWorker();const b={method:"video/receive",type:"sei",transformerId:this.transformerId};f.receiver.transform=new RTCRtpScriptTransform(this.worker,b),(g=this.worker)===null||g===void 0||g.addEventListener("message",this.onMessage)}initialize(f,g){if(this.state!==$i.CREATED)return!1;const b=vg(f);if(b===Ti.NONE)return!1;if(g&&b===Ti.INSERTABLE_STREAMS)this.initializeInsertableStreams(f);else{if(g||b!==Ti.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(f)}return this.transceiver=f,this.state=$i.INITIALIZED,!0}onTransceiverAdd(f){return this.initialize(f,!0)}onTrackEvent(f){return f.track.kind==="video"&&this.initialize(f.transceiver,!1)}static isSupported(f){return vg(f)!==Ti.NONE}onTransformResult(f){return f.transformerId===this.transformerId&&(f.success?(this.prevResultWasError=!1,this.consecutiveErrorResults=0,!!f.seiResult&&(f.seiResult.forEach(g=>{const{payload:b,uuid:T}=g;this.updateReadStats(g),this.emit(bg,{uuid:T,payload:b})}),f.seiResult.length>0)):(this.prevResultWasError&&this.consecutiveErrorResults++,this.consecutiveErrorResults>=300&&this.onError(f,Ae.TRANSFORM_TOO_MANY_ERRORS),this.prevResultWasError=!0,this.onError(f,Ae.TRANSFORM_UNEXPECTED_ERROR),!1))}updateReadStats(f){this.seiReadCnt++,this.seiBytesRead+=f.payload.byteLength}getReceiverStats(){const{seiBytesRead:f,seiReadCnt:g}=this;return{seiReadCnt:g,seiBytesRead:f}}onError(f,g){const{type:b}=f;this.emit(Zl,{type:b,stageErrorValue:g})}destroy(){var f,g;this.state!==$i.DESTROYED&&(this.removeAllListeners(),(f=this.worker)===null||f===void 0||f.removeEventListener("message",this.onMessage),!((g=this.transceiver)===null||g===void 0)&&g.receiver&&(this.transceiver.receiver.transform=null),this.state=$i.DESTROYED)}getState(){return this.state}}class Sg{constructor(){this.state=$i.CREATED,this.transformerId=Ga().value,this.seiWriteCnt=0,this.seiBytesWritten=0,this.onMessage=f=>{this.onTransformResult(f.data)}}initializeInsertableStreams(f,g){var b,T;this.worker=Jl.getWorker();const O=f.sender.createEncodedStreams(),{readable:N,writable:M}=O;(b=this.worker)===null||b===void 0||b.postMessage({operation:"video/send",transformerId:this.transformerId,readable:N,writable:M},[N,M]),(T=this.worker)===null||T===void 0||T.addEventListener("message",this.onMessage)}initializeEncodedTransforms(f,g){var b;this.worker=Jl.getWorker();const T={method:"video/send",type:"sei",transformerId:this.transformerId,encodingLayers:g};f.sender.transform=new RTCRtpScriptTransform(this.worker,T),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initialize(f){var g;if(this.state!==$i.CREATED)return!1;const b=Xl(f);if(b===Ti.NONE)return!1;const T=f.sender.getParameters(),O=((g=T==null?void 0:T.encodings)===null||g===void 0?void 0:g.length)||1;if(b===Ti.INSERTABLE_STREAMS)this.initializeInsertableStreams(f,O);else{if(b!==Ti.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(f,O)}return this.transceiver=f,this.state=$i.INITIALIZED,!0}static isSupported(f){return Xl(f)!==Ti.NONE}sendSeiMessage(f,g){var b;return this.state===$i.INITIALIZED&&this.transceiver?((b=this.worker)===null||b===void 0||b.postMessage({operation:"insertSei",transformerId:this.transformerId,payload:f,repeatCount:g}),ot.ok(!0)):ot.err(Ri.NOT_PUBLISHING_VIDEO)}onTransceiverAdd(f){return this.initialize(f)}onTrackEvent(f){return!1}onTransformResult(f){return f.transformerId===this.transformerId&&(f.success&&this.updateSendStats(f),f.success)}updateSendStats(f){f.seiResult&&f.seiResult.forEach(g=>{this.seiWriteCnt++,this.seiBytesWritten+=g.payload.byteLength})}getSenderStats(){const{seiBytesWritten:f,seiWriteCnt:g}=this;return{seiWriteCnt:g,seiBytesWritten:f}}destroy(){var f;this.state!==$i.DESTROYED&&(!((f=this.transceiver)===null||f===void 0)&&f.receiver&&(this.transceiver.receiver.transform=null),this.state=$i.DESTROYED)}getState(){return this.state}}var Mr=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};let eu=null;class hs extends yo{constructor(f,g,b,T,O,N,M,L,A){var F;if(super(),this.analyticsTracker=N,this.subscribeConfig=A,this.sfuResource={node:"",cluster:""},this.stageCapabilities={simulcastNegotiated:!1},this.incompatibleCodecs=new Set,this.connect=({audioOnly:B=!1,traceId:W,iceRestartOptions:ie})=>Mr(this,void 0,void 0,function*(){const{token:be,tag:ge,identifier:le,action:ae}=this,oe=!!ie,we=new AbortController;let ze,st,Tt;this.abortController=we,this.traceId=W,this.perfTracker.resetMeasurements(W);const Yt=()=>{ze&&this.off(vo,ze),st&&this.off(go,st)},Qt=new Promise((zt,Nt)=>{const tn=function({action:yt,token:cn,traceId:It,tag:At,identifier:dn}){const Pn=yt===Ge.SUBSCRIBE?Ae.SUBSCRIBE_TIMED_OUT:Ae.PUBLISH_TIMED_OUT;return new en(Object.assign(Object.assign({},Pn),{action:yt,token:cn,traceId:It,tag:At,location:"connect",remoteParticipantId:dn}))}({action:ae,token:be,traceId:W,tag:ge,identifier:le}),un=function({action:yt,token:cn,traceId:It,tag:At}){const dn=Ae.OPERATION_ABORTED;return new en(Object.assign(Object.assign({},dn),{token:cn,traceId:It,location:"peer-client.connect",tag:At,action:yt}))}({action:ae,token:be,traceId:W,tag:ge}),vt=setTimeout(()=>{this.stop(),this.analyticsTracker.trackError(tn),Nt(tn)},1e4);ze=yt=>{clearTimeout(vt),oe||this.stop(),Nt(yt)},st=yt=>{if(yt===gt.CONNECTED)clearTimeout(vt),zt();else if(yt===gt.FAILED){const cn=function({action:It,token:At,traceId:dn,tag:Pn}){return new en(Object.assign(Object.assign({},Ae.PEER_CONNECTION_NETWORK_FAILURE),{token:At,traceId:dn,location:"peer-client.connect",tag:Pn,action:It}))}({action:ae,token:be,traceId:W,tag:ge});clearTimeout(vt),Nt(cn)}},this.on(vo,ze),this.on(go,st),Tt=()=>{clearTimeout(vt)},we.signal.aborted&&(clearTimeout(vt),Nt(un)),we.signal.addEventListener("abort",()=>{clearTimeout(vt),Nt(un)})});try{const zt=yield Promise.all([Mr(this,void 0,void 0,function*(){oe||(yield this.start(),this.mediaStream=yield this.initializePeerConnection(B));const tn=ie==null?void 0:ie.assignmentToken,un=ie==null?void 0:ie.nodeOverride;return yield this.exchangeSdp({iceRestart:oe,nodeOverride:un,assignmentToken:tn,abortController:we}),this.mediaStream}),Qt]);this.statsReporter.traceId=W;const Nt=zt[0];if(this.abortController=void 0,!oe&&ae===Ge.PUBLISH)try{yield this.verifyOrUpdateTransceiverSync()}catch(tn){this.logger.error({err:tn,msg:"error syncing transceivers"})}return{mediaStream:Nt}}catch(zt){throw Tt&&Tt(),zt}finally{Yt()}}),this.disconnect=(B=!1)=>Mr(this,void 0,void 0,function*(){var W;const{token:ie,action:be}=this;(W=this.abortController)===null||W===void 0||W.abort(),this.stop(),B?this.cleanup(be,ie.participantID,ie,B):yield this.cleanup(be,ie.participantID,ie,B)}),this.onTrack=B=>{const{token:W,action:ie,traceId:be,identifier:ge}=this;this.trace(W,be,`onTrack: ${B.track.kind}`,ie,ge),this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTrackEvent(B),this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTrackEvent(B)},this.onIceGatheringStateChange=()=>{var B,W,ie;const{token:be,action:ge,traceId:le,identifier:ae}=this;if(((B=this.peerConnection)===null||B===void 0?void 0:B.iceGatheringState)==="gathering"?this.perfTracker.markIceGatheringStart():((W=this.peerConnection)===null||W===void 0?void 0:W.iceGatheringState)==="complete"&&this.perfTracker.markIceGatheringStop(),this.peerConnection){const oe=this.peerConnection.iceGatheringState,we=new Mh(ge,be,le,oe,ae);this.analyticsTracker.trackEventNoSharedProps(we)}this.trace(be,le,`ICE gathering state change: ${(ie=this.peerConnection)===null||ie===void 0?void 0:ie.iceGatheringState}`,ge,ae)},this.onSelectedCandidatePairChange=()=>{var B,W;const{token:ie,action:be,traceId:ge,identifier:le}=this,ae=(W=(B=this.peerConnection)===null||B===void 0?void 0:B.getReceivers()[0].transport)===null||W===void 0?void 0:W.iceTransport,oe=ae==null?void 0:ae.getSelectedCandidatePair();if(oe){const{local:we,remote:ze}=oe,st=`Selected candidate pair change (local, remote): ${we==null?void 0:we.candidate}, ${ze==null?void 0:ze.candidate}`;this.logger.debug({msg:st}),this.trace(ie,ge,st,be,le)}},this.onIceCandidate=B=>Mr(this,void 0,void 0,function*(){var W,ie;const{identifier:be,action:ge,traceId:le}=this,ae=(W=B.target.localDescription)===null||W===void 0?void 0:W.sdp.includes("relay");this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,le,`ice candidate: hasRelay = ${ae}, candidate = ${(ie=B.candidate)===null||ie===void 0?void 0:ie.candidate}`,ge,be))}),this.onMute=()=>Mr(this,void 0,void 0,function*(){const{token:B,action:W,traceId:ie,identifier:be}=this;this.trace(B,ie,"Track has muted",W,be)}),this.onUnMute=()=>Mr(this,void 0,void 0,function*(){const{token:B,action:W,traceId:ie,identifier:be}=this;this.trace(B,ie,"Track has unmuted",W,be)}),this.fetchAndSetRemoteDescription=B=>Mr(this,void 0,void 0,function*(){var W,ie,be,ge;const le=(ie=(W=this.peerConnection)===null||W===void 0?void 0:W.localDescription)===null||ie===void 0?void 0:ie.sdp;le||this.logger.warn({msg:"Unexpected state: No SDP offer when attempting to fetch remote description"});const{token:ae,traceId:oe,action:we,identifier:ze,tag:st}=this,{endpointURL:Tt,nodeOverride:Yt,assignmentToken:Qt,multiCodec:zt,abortController:Nt}=B;let tn;this.perfTracker.markPostStart(),this.perfTracker.markSdpExchangeStart();try{this.perfTracker.setTransport(this.sdpExchanger.getTransport());const It=Yt||bi("node")||bi("dataPlaneEndpoint");tn=yield this.sdpExchanger.exchange({sdpOffer:le,url:Tt,traceId:oe,forceNode:It,assignmentToken:Qt,multiCodec:zt,abortController:Nt,initialLayerPreference:(be=this.simulcastSubscribeConfig)===null||be===void 0?void 0:be.initialLayerPreference})}catch(It){let At=It;At instanceof en||(At=new en(Object.assign(Object.assign({},Ae.UNEXPECTED_ERROR),{action:we,token:ae,traceId:oe,tag:st,details:It instanceof Error?It.message:"",location:"sdp-exchange"}))),At instanceof en&&(this.analyticsTracker.trackError(At),this.emit(vo,At))}if(this.perfTracker.markSdpExchangeStop(),!tn)return;const{location:un,sessionDeleteLink:vt,mediaControls:yt}=tn;let cn=tn.sdpAnswer;try{cn=this.mungeSdpAnswer(cn),tn.sdpAnswer=cn}catch(It){this.logger.error({err:It,msg:"Error while attempting to munge SDP, keeping original answer"})}this.statsReporter.sdpAnswer=cn,this.emit(Qy,tn),un&&(this.whipResource={location:un,sessionDeleteLink:vt,mediaControls:yt},this.sfuResource=function(It){const At=It.match(/https:\/\/([^/]+)\//);if(At){const dn=At[1].split(".");if(dn[0].includes("video-rtx"))return{node:`${dn[0]}.${dn[1]}`,cluster:dn[1]}}}(un)||{node:"",cluster:""},this.statsReporter.updateSfuResource(this.sfuResource));try{this.perfTracker.markSetRemoteDescStart(),yield(ge=this.peerConnection)===null||ge===void 0?void 0:ge.setRemoteDescription({sdp:cn,type:"answer"}),this.perfTracker.markSetRemoteDescStop(),this.perfTracker.markPostStop()}catch(It){const At=new en(Object.assign(Object.assign({},Ae.SET_ANSWER_FAILURE),{action:we,token:ae,traceId:oe,tag:Jr(we,ze),location:"setRemoteDescription",remoteParticipantId:ze,details:It instanceof Error?It.message:""}));this.analyticsTracker.trackError(At),this.emit(vo,At)}}),this.cleanup=(B,W,ie,be=!1)=>Mr(this,void 0,void 0,function*(){var ge,le,ae;const oe=Ga();if(this.toggleStageConnectionListeners(!1),this.currentJitterBufferMinDelayInMs=void 0,this.stageConnection=void 0,this.closeFailedPeerConnections(),!(!((ge=this.whipResource)===null||ge===void 0)&&ge.location))return this.trace(ie,this.traceId,"whipResource location not known, exiting cleanup",B,W),void this.analyticsTracker.trackError(new en(Object.assign(Object.assign({},Ae.WHIP_URL_MISSING),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:B===Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})));let we=this.whipResource.location;if(this.trace(ie,this.traceId,`use hostnamecachedurl: ${we}`,B,W),be){if(!((ae=this.whipResource)===null||ae===void 0)&&ae.sessionDeleteLink){we=this.whipResource.sessionDeleteLink,this.trace(ie,this.traceId,`DELETE via session-delete beacon path: ${we}`,B,W);try{navigator.sendBeacon(we,JSON.stringify({authorization:ie.rawToken}))}catch(ze){this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},ua(Ae.WHIP_DELETE_FAILURE,ze)),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})))}}}else try{yield Wr().delete(we,{headers:{Authorization:`Bearer ${ie.rawToken}`,"X-Stages-Platform":"web","X-Stages-Request-ID":oe.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":ls}})}catch(ze){((le=ze.response)===null||le===void 0?void 0:le.status)===404?this.trace(ie,this.traceId,`DELETE returned 404, ignoring, action = ${B}, uuid = ${oe.value}`,B,W):this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},ua(Ae.WHIP_DELETE_FAILURE,ze)),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})))}}),this.getConnectionState=()=>{if(!this.peerConnection)return gt.NONE;const B=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;try{return Dh(B)}catch{return this.logger.warn({msg:"Unhandled connection state:",rawState:B}),gt.IDLE}},this.onIceCandidateError=B=>{const{token:W,traceId:ie,tag:be}=this;if(B.errorCode!==701){const ge=new en(Object.assign(Object.assign({},Ae.ICE_CANDIDATE_ERROR),{action:this.action,token:W,traceId:ie,tag:be,location:"onIceCandidateError",remoteParticipantId:this.identifier}));this.analyticsTracker.trackError(ge),this.emit(vo,ge)}},this.onIceConnectionStateChange=()=>{var B;const{token:W,traceId:ie,action:be,identifier:ge}=this;this.trace(W,ie,`ICE connection state change: ${(B=this.peerConnection)===null||B===void 0?void 0:B.iceConnectionState}`,be,ge),this.onConnectionStateChange()},this.createVideoReceiverTransformer=()=>{const B=new xg,{token:W,tag:ie,identifier:be,action:ge,traceId:le}=this;B.on(bg,we=>{this.emit(Fo,we)});const ae=function(we,ze){let st=0;return function(...Tt){const Yt=Date.now();Yt-st>=ze&&(st=Yt,we(...Tt))}}(we=>{const ze=`Transform error occurred: ${we.type}`,st=Kd({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:ze,stageErrorValue:Ae.TRANSFORM_UNEXPECTED_ERROR});this.logger.warn({err:st,msg:"Error encountered when transforming receiver",error:we})},1e3),oe=we=>{const ze=`Too many errors occurred: ${we.type}`,st=Kd({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:ze,stageErrorValue:Ae.TRANSFORM_TOO_MANY_ERRORS});this.logger.error({err:st,msg:"Too many errors encountered when transforming receiver. Shutting down transformer.",error:we}),B.destroy(),this.analyticsTracker.trackError(st),this.emit(Ic,st)};return B.on(Zl,we=>{we.stageErrorValue.code!==Ae.TRANSFORM_TOO_MANY_ERRORS.code?ae(we):oe(we)}),B},this.onConnectionStateChange=()=>{var B;if(this.peerConnection){const ie=this.peerConnection.connectionState||this.peerConnection.iceConnectionState,{token:be,traceId:ge,identifier:le,action:ae}=this,oe=new qm(ae,be,ge,ie,le);this.analyticsTracker.trackEventNoSharedProps(oe),this.trace(be,ge,`connection state change: ${ie}`,ae,le)}const W=this.getConnectionState();switch(W){case gt.CONNECTED:this.closeFailedPeerConnections(),this.perfTracker.markActionStop(),this.emit(go,W),this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub),(B=this.peerConnection)===null||B===void 0||B.getTransceivers().forEach(ie=>{var be,ge;!((ge=(be=ie.receiver)===null||be===void 0?void 0:be.transport)===null||ge===void 0)&&ge.iceTransport&&ie.receiver.transport.iceTransport.addEventListener("selectedcandidatepairchange",this.onSelectedCandidatePairChange)});break;case gt.FAILED:this.storeFailedPeerConnection(this.peerConnection),this.destroyPeerConnection({closeConnection:!1}),this.emit(go,W),this.handleConnectionFailure();break;default:this.emit(go,W)}},this.onIncompatibleCodecs=B=>Mr(this,void 0,void 0,function*(){if(B.forEach(be=>{let ge=!1;this.incompatibleCodecs.forEach(le=>{le.config===be.config&&le.mime===be.mime&&(ge=!0)}),ge||this.incompatibleCodecs.add(be)}),this.peerConnection)try{yield(W=this.peerConnection,ie=[...this.incompatibleCodecs],a0(void 0,void 0,void 0,function*(){var be;for(const ge of W.getSenders()){const le=ge.getParameters();if(le.codecs.length>1){const ae=le.codecs[0];let oe=!1;for(const we of ie)Zm(ae,we)&&(oe=!0);if(oe){const we=eg(ie,le.codecs);(be=le.encodings)===null||be===void 0||be.forEach(ze=>{ze.active&&(ze.codec=we)}),yield ge.setParameters(le)}}}}))}catch(be){const{token:ge,action:le,traceId:ae,identifier:oe}=this,we=new en(Object.assign(Object.assign({},Ae.CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR),{action:le,token:ge,traceId:ae,tag:Jr(le,oe),location:"onIncompatibleCodecs",remoteParticipantId:oe,details:be instanceof Error?be.message:""}));this.analyticsTracker.trackError(we),this.emit(vo,we)}var W,ie}),this.token=f,this.logger=new mo(g,kn.WEBRTC),this.action=b,this.tag=T,this.traceId=O,b===Ge.SUBSCRIBE&&!M)throw new Error("Subscribe action provided without subscriber Id");this.jitterBufferConfig=A==null?void 0:A.jitterBuffer,this.simulcastSubscribeConfig=A==null?void 0:A.simulcast,this.subscriberId=M,this.stageConnection=L,this.failedPeerConnections=[],this.receiveInBandMessagingEnabled=!!(!((F=this.subscribeConfig)===null||F===void 0)&&F.inBandMessaging.enabled),this.videoSenderTransformer=new Sg,this.videoReceiverTransformer=this.createVideoReceiverTransformer(),this.perfTracker=new Ui(this.action,this.traceId),this.statsReporter=new ga(b,f,O,this.identifier,this.analyticsTracker,this.videoReceiverTransformer,this.videoSenderTransformer),this.sdpExchanger=function(B){const{connection:W,token:ie,action:be,identifier:ge,tracker:le}=B,ae=W&&W.supportsSdpExchange(),oe=be===Ge.SUBSCRIBE&&ae&&!Im(),we=be===Ge.PUBLISH&&ae&&yh()&&!Im();return oe||we?new mg(ie,W,{action:be,remoteParticipantId:ge},le):new Ei(ie,{action:be,remoteParticipantId:ge},le)}({connection:L,action:b,token:f,identifier:this.identifier,tracker:N}),this.handlePublishingChangedBinding=this.handlePublishingChanged.bind(this),this.toggleStageConnectionListeners(!0)}get videoMediaId(){var f,g;return(g=(f=this.videoTransceiver)===null||f===void 0?void 0:f.mid)!==null&&g!==void 0?g:null}toggleStageConnectionListeners(f){var g,b;f?(g=this.stageConnection)===null||g===void 0||g.on(Vm,this.handlePublishingChangedBinding):(b=this.stageConnection)===null||b===void 0||b.off(Vm,this.handlePublishingChangedBinding)}updateSubscribeConfig(f){var g,b;if(this.jitterBufferConfig=f.jitterBuffer,this.simulcastSubscribeConfig=f.simulcast,this.action===Ge.SUBSCRIBE){const T=f.inBandMessaging.enabled;this.receiveInBandMessagingEnabled!==T&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for receiver"})}this.applyJitterBufferMinDelayConditionally((b=(g=this.stageConnection)===null||g===void 0?void 0:g.getIsStagePublishing())!==null&&b!==void 0&&b)}verifyOrUpdateTransceiverSync(){var f,g;return Mr(this,void 0,void 0,function*(){if(this.videoTrackForPub){const b=this.getTransceiverForKind("video");b?this.videoTrackForPub.track.id!==((f=b.sender.track)===null||f===void 0?void 0:f.id)&&(this.logger.debug({msg:"found out of sync video transceiver... updating"}),yield this.replaceOrUpdateTrack(this.videoTrackForPub)):this.logger.warn({msg:"missing transceiver for video"})}if(this.audioTrackForPub){const b=this.getTransceiverForKind("audio");b?this.audioTrackForPub.track.id!==((g=b.sender.track)===null||g===void 0?void 0:g.id)&&(this.logger.debug({msg:"found out of sync audio transceiver... updating"}),yield this.replaceOrUpdateTrack(this.audioTrackForPub)):this.logger.warn({msg:"missing transceiver for audio"})}})}start(){var f,g,b;return Mr(this,void 0,void 0,function*(){const{token:T,action:O,traceId:N,identifier:M}=this;O!==Ge.PUBLISH||T.claims.capabilities.allow_publish||this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},ua(Ae.TOKEN_PERMISSIONS_DENIED,new Error("Cannot publish with subscribe only token"))),{action:O,token:T,traceId:N,tag:Jr(O,M),location:"StagePeerClient.start",remoteParticipantId:M})));const L=function({action:A,identifier:F,token:B,analyticsTracker:W}){let ie="";const be=bo(B,W);switch(A){case Ge.PUBLISH:ie=be.getPublishEndpoint();break;case Ge.SUBSCRIBE:F&&(ie=be.getSubscribeEndpoint(F))}return ie}({action:O,identifier:M,token:T.rawToken,analyticsTracker:this.analyticsTracker});try{this.perfTracker.markActionStart(),this.stageCapabilities={simulcastNegotiated:(b=(g=(f=this.videoTrackForPub)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.simulcastEnabled)!==null&&b!==void 0&&b},this.endpointURL=L,this.createPeerConnection(),this.trace(T,N,"peer connection created",O,M)}catch(A){const F=new en(Object.assign(Object.assign({action:O},ua(Ae.CREATE_PEER_CONNECTION_FAILURE,A)),{token:T,traceId:N,tag:Jr(O,M),location:"StagePeerClient.start",remoteParticipantId:M}));O===Ge.PUBLISH&&this.emit(go,gt.FAILED),this.emit(vo,F),this.analyticsTracker.trackErrorAndThrow(F)}})}mungeSdpOffer(f,g,b){if(b.simulcastNegotiated&&(f=new In(f).withVideoLayersAllocationRtpHeaderExtension().sdp),g===Ge.SUBSCRIBE)f=new In(f).withOpusAudioConfig(fs(Fc),!0).sdp;else if(g===Ge.PUBLISH&&b.audioConfig){const{maxBitrateBps:T,stereo:O}=b.audioConfig;f=new In(f).withOpusAudioConfig(T,O).sdp}return f}mungeSdpAnswer(f){return Bd.browser.isFirefox()&&this.audioTrackForPub&&this.action===Ge.PUBLISH&&(f=new In(f).withOpusAudioConfig(this.audioTrackForPub.config.maxBitrateBps,void 0).sdp),f}createPeerConnection(){this.logger.debug({msg:"setting up peer connection"}),this.peerConnection&&(this.logger.debug({msg:"peer connection is already established, cleaning up previous connection"}),this.destroyPeerConnection({closeConnection:!1})),this.peerConnection=new RTCPeerConnection({iceTransportPolicy:"all"}),this.statsReporter.start(this.peerConnection,this.stageCapabilities.simulcastNegotiated),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.peerConnection.addEventListener("icecandidateerror",this.onIceCandidateError),this.peerConnection.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.peerConnection.addEventListener("icecandidate",this.onIceCandidate),this.peerConnection.addEventListener("track",this.onTrack),this.peerConnection.addEventListener("mute",this.onMute),this.peerConnection.addEventListener("unmute",this.onUnMute)}destroyPeerConnection(f){var g,b,T,O,N,M,L,A,F;this.statsReporter.stop(),(g=this.peerConnection)===null||g===void 0||g.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),(T=this.peerConnection)===null||T===void 0||T.removeEventListener("icecandidateerror",this.onIceCandidateError),(O=this.peerConnection)===null||O===void 0||O.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),(N=this.peerConnection)===null||N===void 0||N.removeEventListener("icecandidate",this.onIceCandidate),(M=this.peerConnection)===null||M===void 0||M.removeEventListener("track",this.onTrack),(L=this.peerConnection)===null||L===void 0||L.removeEventListener("mute",this.onMute),(A=this.peerConnection)===null||A===void 0||A.removeEventListener("unmute",this.onUnMute),f.closeConnection&&((F=this.peerConnection)===null||F===void 0||F.close()),this.peerConnection=void 0}closeFailedPeerConnections(){for(const f of this.failedPeerConnections)f==null||f.close();this.failedPeerConnections=[]}storeFailedPeerConnection(f){f&&this.failedPeerConnections.push(f)}stop(){this.videoReceiverTransformer.destroy(),this.videoSenderTransformer.destroy(),this.destroyPeerConnection({closeConnection:!0})}getTransceiverForKind(f){if(!this.peerConnection)return;const g=this.peerConnection.getTransceivers();return f==="audio"?g.find(b=>b.mid==="0"):f==="video"?g.find(b=>b.mid==="1"):void 0}removeTrack(f){return Mr(this,void 0,void 0,function*(){if(f==="audio"||f==="video")if(this.peerConnection)try{const g=this.getTransceiverForKind(f);if(!g)return void this.logger.warn({msg:`tried removing track type ${f} but couldn't find transceiver`});yield g.sender.replaceTrack(null),f===fa.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0,yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(g){this.logger.warn({msg:"error replacing track",err:g})}else f===fa.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0;else this.logger.warn({msg:"RemoveTrack called with invalid track type",trackType:f})})}replaceOrUpdateTrack(f){return Mr(this,void 0,void 0,function*(){if(f.track){if(Gh(f)?this.audioTrackForPub=f:qh(f)&&(this.videoTrackForPub=f),this.peerConnection)try{const g=this.getTransceiverForKind(f.track.kind);if(!g)return void this.logger.warn({msg:`tried replacing track type ${f.track.kind} but couldn't find transceiver`,track:f.track});if(qh(f)){const b=g.sender.getParameters(),T=sg(this.stageCapabilities.simulcastNegotiated,f);b.encodings=b.encodings.map(O=>{var N;const M=(N=O.rid)!==null&&N!==void 0?N:"",L=T.find(A=>{var F;return((F=A.rid)!==null&&F!==void 0?F:"")===M});return L?Object.assign(Object.assign({},O),L):O}),yield g.sender.setParameters(b)}else if(Gh(f)){const b=g.sender.getParameters(),T=og(f)[0];b.encodings=b.encodings.map(O=>Object.assign(Object.assign({},O),T)),yield g.sender.setParameters(b)}yield g.sender.replaceTrack(f.track),yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(g){this.logger.warn({msg:"error replacing track",err:g})}}else this.logger.warn({msg:"Unexpected call to replaceOrUpdateTrack with no track"})})}initializePeerConnection(f=!1){var g,b,T,O,N;return Mr(this,void 0,void 0,function*(){const{traceId:M,token:L,action:A,identifier:F}=this;Ac(this.peerConnection);let B=new MediaStream;if(A===Ge.PUBLISH){this.audioTrackForPub||(this.audioTrackForPub={track:this.getSilentAudio(),config:{maxBitrateBps:fs(Ld),stereo:!1}});const W=this.peerConnection.getTransceivers(),ie=[];W.forEach(ze=>{var st;ie.concat((st=ze.sender.track)===null||st===void 0?void 0:st.id)}),B=new MediaStream([this.audioTrackForPub.track,(g=this.videoTrackForPub)===null||g===void 0?void 0:g.track].filter(ze=>!!ze&&!ie.includes(ze.id)));const be=B.getAudioTracks()[0]||"audio",ge=B.getVideoTracks()[0]||"video",le={direction:"sendonly",streams:[B],sendEncodings:og(this.audioTrackForPub)},ae={direction:"sendrecv",streams:[B],sendEncodings:sg(this.stageCapabilities.simulcastNegotiated,this.videoTrackForPub)};this.peerConnection.addTransceiver(be,le),this.trace(L,M,`track added, type: ${be.kind||be}`,A,F);const oe=this.peerConnection.addTransceiver(ge,ae);this.trace(L,M,`track added, type: ${ge.kind||ge}`,A,F);const we=!!(!((T=(b=this.videoTrackForPub)===null||b===void 0?void 0:b.config)===null||T===void 0)&&T.inBandMessagingEnabled);this.sendInBandMessagingEnabled===void 0?this.sendInBandMessagingEnabled=we:this.sendInBandMessagingEnabled!==we&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for sender"}),this.sendInBandMessagingEnabled&&!Sg.isSupported(oe)?this.handleTransformNotSupported():this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTransceiverAdd(oe)}else A===Ge.SUBSCRIBE&&(L.shouldSendSilentAudio()?this.peerConnection.addTransceiver(this.getSilentAudio(),{direction:"sendrecv"}):this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),this.trace(L,M,"track added, type: audio",A,F),f||(this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.trace(L,M,"track added, type: video",A,F),this.receiveInBandMessagingEnabled&&!xg.isSupported(this.videoTransceiver)?this.handleTransformNotSupported():this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTransceiverAdd(this.videoTransceiver)),this.peerConnection.getTransceivers().forEach(W=>{W.receiver?(this.logger.info({msg:"dbg: Subscribe succeeded, adding media track to participant mediaStream"}),B==null||B.addTrack(W.receiver.track)):this.logger.info({msg:"dbg: Subscribe succeeded, but Transceiver were negotiated without Receiver"})}),this.applyJitterBufferMinDelayConditionally((N=(O=this.stageConnection)===null||O===void 0?void 0:O.getIsStagePublishing())!==null&&N!==void 0&&N));return B})}handlePublishingChanged(f){this.logger.debug({msg:`[handlePublishingChanged (${this.subscriberId})] isStagePublishing: ${f}, currentMinDelay: ${this.currentJitterBufferMinDelayInMs}`}),this.action===Ge.SUBSCRIBE&&this.applyJitterBufferMinDelayConditionally(f)}applyJitterBufferMinDelayConditionally(f){const g=this.currentJitterBufferMinDelayInMs,b=this.calcJitterBufferMinDelay(f,this.jitterBufferConfig);if(f){if(g===void 0||g>b){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is publishing and min delay is unset or > configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}else if(g===void 0||b!==g){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is subscribe-only and min delay is unset or != configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}calcJitterBufferMinDelay(f,g){var b,T,O;let N=0;if(!(()=>{const M=RTCRtpReceiver.prototype;return!(!M||typeof M!="object")&&("jitterBufferTarget"in M||"playoutDelayHint"in M)})())return 0;if(f)N=$o((b=g==null?void 0:g.minDelayWhenPublishing)!==null&&b!==void 0?b:_i.DEFAULT,f);else{N=$o((T=g==null?void 0:g.minDelayWhenSubscribeOnly)!==null&&T!==void 0?T:_i.DEFAULT,f);const M=(O=this.stageConnection)===null||O===void 0?void 0:O.jitterBufferMinDelayInMs();(g==null?void 0:g.minDelayWhenSubscribeOnly)===_i.DEFAULT&&M!==void 0&&(N=M,this.logger.debug({msg:`[calcJitterBufferMinDelay] overriding min delay with remote value: ${N}`}))}return N}applyAndTrackJitterBufferMinDelay(f){var g,b;this.currentJitterBufferMinDelayInMs=f,this.statsReporter.updateJitterBufferMinDelay(f),f!==void 0&&((b=(g=this.peerConnection)===null||g===void 0?void 0:g.getTransceivers())===null||b===void 0||b.forEach(T=>{T.receiver&&this.applyJitterBufferMinDelay(T.receiver,f)}))}applyJitterBufferMinDelay(f,g){let b="Unable to set jitter buffer min delay";if("jitterBufferTarget"in f)b=`setting jitterBufferTarget to: ${g} for track: ${f.track.kind}`,this.logger.debug({msg:b}),f.jitterBufferTarget=g;else if("playoutDelayHint"in f){const T=g/1e3;b=`setting playoutDelayHint to: ${g} for track: ${f.track.kind}`,this.logger.debug({msg:b}),f.playoutDelayHint=T}else this.logger.warn({msg:b});this.trace(this.token,this.traceId,b,this.action,this.identifier)}exchangeSdp(f){var g;return Mr(this,void 0,void 0,function*(){const{traceId:b,token:T,action:O,identifier:N,tag:M,endpointURL:L}=this,{iceRestart:A=!1,nodeOverride:F,assignmentToken:B,abortController:W}=f;let ie;this.logger.debug({msg:`Exchanging SDP: ${b.value}, iceRestart=${A}, nodeOverride=${F}, assignmentToken=${B}`}),Ac(this.peerConnection),O===Ge.PUBLISH&&bh()&&(this.logger.debug({msg:"Applying publisher codec preference for main profile."}),((ge,le)=>{var ae,oe;const we=(ae=RTCRtpReceiver.getCapabilities("video"))===null||ae===void 0?void 0:ae.codecs;if(!we)return;let ze=we;ze=Jm(we,"42e0"),le.preferMainProfile&&(ze=Jm(we,"4d00")),(oe=ge.getTransceivers().find(st=>st.receiver.track.kind==="video"))===null||oe===void 0||oe.setCodecPreferences(ze)})(this.peerConnection,{preferMainProfile:bh()}));try{this.trace(T,b,"Creating offer",O,N),ie=yield this.peerConnection.createOffer({iceRestart:A})}catch(ge){const le=new en(Object.assign(Object.assign({},ua(Ae.CREATE_OFFER_FAILURE,ge)),{action:O,token:T,traceId:b,tag:M,location:"exchangeSdp",remoteParticipantId:N}));this.emit(vo,le),this.analyticsTracker.trackErrorAndThrow(le)}ie.sdp&&(ie.sdp=this.mungeSdpOffer(ie.sdp,O,{simulcastNegotiated:this.stageCapabilities.simulcastNegotiated,audioConfig:(g=this.audioTrackForPub)===null||g===void 0?void 0:g.config})),this.trace(T,b,"Setting local description",O,N),yield this.peerConnection.setLocalDescription(ie),this.trace(T,b,"local description set",O,N),L||this.logger.warn({msg:"Unexpected state: No endpointURL specified for fetching of remote description."});const be=O===Ge.PUBLISH&&bh()||O===Ge.SUBSCRIBE&&$a("multiCodecAnswer");yield this.fetchAndSetRemoteDescription({endpointURL:L,nodeOverride:F,assignmentToken:B,multiCodec:be,abortController:W})})}getReports(){var f;return Mr(this,void 0,void 0,function*(){try{const g=(yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats())||[],b=[];return g.forEach(T=>{b.push(T)}),b}catch{return[]}})}requestRTCStats(f){return Mr(this,void 0,void 0,function*(){if(this.peerConnection)return this.peerConnection.getStats(f)})}get identifier(){return this.subscriberId||this.token.participantID}handleTransformNotSupported(){const{token:f,tag:g,identifier:b,action:T,traceId:O}=this,N=Kd({traceId:O,token:f,tag:g,identifier:b,action:T,stageErrorValue:Ae.TRANSFORM_NOT_SUPPORTED_BY_PLATFORM});this.logger.error({err:N,msg:"Transforms not supported by this platform"}),this.analyticsTracker.trackError(N),this.emit(Ic,N)}handleConnectionFailure(){return Mr(this,void 0,void 0,function*(){const{token:f,traceId:g,tag:b}=this;this.analyticsTracker.trackError(new en(Object.assign(Object.assign({},Ae.PEER_CONNECTION_NETWORK_FAILURE),{action:this.action,token:f,traceId:g,tag:b,location:"onIceCandidateError",remoteParticipantId:this.identifier})))})}getSilentAudio(){eu||(eu=new AudioContext);const f=eu.createOscillator(),g=eu.createGain();f.connect(g);const b=eu.createMediaStreamDestination();return g.connect(b),g.gain.value=0,f.start(),b.stream.getAudioTracks()[0]}getActionMeasurements(){return this.perfTracker.getMeasurements()}initTracksToPublish(f){this.videoTrackForPub=f.find(qh),this.audioTrackForPub=f.find(Gh)}getSfuResource(){return this.sfuResource}getExpectedJitterBufferMinDelayInMs(){var f,g;return this.calcJitterBufferMinDelay((g=(f=this.stageConnection)===null||f===void 0?void 0:f.getIsStagePublishing())!==null&&g!==void 0&&g,this.jitterBufferConfig)}trace(f,g,b,T,O){this.analyticsTracker.trackEventNoSharedProps(new xo(f,g,b,T,O))}sendSeiMessage(f,g){const b=this.getTransceiverForKind("video");return this.sendInBandMessagingEnabled?this.action===Ge.PUBLISH&&b?this.videoSenderTransformer.sendSeiMessage(f,g):ot.err(Ri.NOT_PUBLISHING_VIDEO):ot.err(Ri.INBAND_MESSAGING_NOT_ENABLED)}}const tc=Ge.SUBSCRIBE;class C0{constructor(f,g,b){this.analyticsTracker=f,this.token=g,this.remoteId=b,this.action=tc}trackAttempt({stageConnectionStats:f,isReassignment:g=!1,traceIdOverride:b,preAttemptSfuResource:T}){const{action:O,analyticsTracker:N,token:M,remoteId:L}=this,A=b||Xi();return N.trackEvent(new Yl({token:this.token,subscribedId:this.remoteId,traceId:A,isEdpConnected:f.isConnected,isReassignment:g,preAttemptSfuResource:T})),{getTraceId:()=>A,trackSubscribeStarted({totalDurationWithRetries:F,retryTimes:B,sfuResource:W,peerClientPerfStats:ie}){const{optionsDuration:be,postDuration:ge,timeToCandidate:le,timeToConnected:ae,sdpExchangeDuration:oe,sdpExchangeTransport:we,setRemoteDescDuration:ze,peerConnectionDuration:st}=ie,{edpInitialConnectDuration:Tt,edpInitialConnectRetries:Yt,edpInitialStateDuration:Qt,edpInitialStatePublishingCount:zt,edpStateUpdateCount:Nt}=f;N.trackEvent(new g0({token:M,traceId:A,remoteParticipantId:L,optionsDuration:be,postDuration:ge,timeToCandidate:le,totalDuration:ae,edpInitialConnectDuration:Tt,edpInitialConnectRetries:Yt,edpInitialStateDuration:Qt,edpInitialStatePublishingCount:zt,edpStateUpdateCount:Nt,sdpExchangeDuration:oe,sdpExchangeTransport:we,setRemoteDescDuration:ze,peerConnectionDuration:st,sfuResource:W,totalDurationWithRetries:F,subscribeRetryTimes:B,isReassignment:g}))},trackSubscribeFirstFrame:({peerClientPerfStats:F,totalDurationWithRetries:B,sfuResource:W,retryTimes:ie,currentJitterBufferMinDelayInMs:be,mediaType:ge,firstFrameDuration:le})=>{const{sdpExchangeDuration:ae,sdpExchangeTransport:oe,setRemoteDescDuration:we,peerConnectionDuration:ze}=F,{edpInitialConnectDuration:st,edpInitialConnectRetries:Tt,edpInitialStateDuration:Yt,edpInitialStatePublishingCount:Qt,edpStateUpdateCount:zt}=f;this.analyticsTracker.trackEvent(new v0({token:this.token,traceId:A,remoteParticipantId:L,edpInitialConnectDuration:st,edpInitialConnectRetries:Tt,edpInitialStateDuration:Yt,edpInitialStatePublishingCount:Qt,edpStateUpdateCount:zt,sdpExchangeDuration:ae,sdpExchangeTransport:oe,setRemoteDescDuration:we,peerConnectionDuration:ze,videoWasPaused:!1,firstFrameDuration:le,mediaType:ge,sfuResource:W,totalDurationWithRetries:B,subscribeRetryTimes:ie,currentJitterBufferMinDelayInMs:be}))},trackSubscribeFailed(F,B){const W=((ge,le,ae)=>{if(ge instanceof en)return ge;let oe="";return ge instanceof gr.AxiosError&&(oe+=`AxiosError - ${ge.code}`),new en(Object.assign(Object.assign(Object.assign({},Ae.SUBSCRIBE_FAILURE),{action:tc,token:le,traceId:ae,tag:jd,location:"subscribe",details:`${oe} ${ge==null?void 0:ge.message}`}),{fatal:!0}))})(F,M,A);N.trackEvent(new $h({token:M,traceId:A,remoteParticipantId:L,code:W.code,message:W.message,fatal:W.fatal,nominal:W.nominal,isReassignment:g}));const{isConnected:ie}=f,be=new en(Object.assign(Object.assign({},Ae.SUBSCRIBE_FAILURE),{action:O,token:M,traceId:A,tag:Jr(Ge.SUBSCRIBE,L),location:"subscribe",remoteParticipantId:L,isEdpConnected:ie,details:B}));return F instanceof en&&(be.fatal=F.fatal,be.nominal=F.nominal,be.location=`subscribe > ${F.location}`),N.trackError(be),W},trackUnsubscribe:()=>{N.trackEvent(new zd({token:M,unsubscribedId:L,traceId:A}))},trackEndSucceeded:F=>{N.trackEvent(new Vh({token:M,traceId:A,remoteParticipantId:L,isUnsubscribeSuccessful:!0,reason:F}))},trackEndFailed:F=>{const B=new en(Object.assign(Object.assign({},Ae.UNSUBSCRIBE_FAILURE),{token:M,traceId:A,tag:Jr(Ge.SUBSCRIBE,L),location:"unsubscribe",remoteParticipantId:L}));return F!==Si.UNLOAD&&F!==Si.UNSUBSCRIBE||N.trackError(B),N.trackEvent(new Vh({token:M,traceId:A,remoteParticipantId:L,isUnsubscribeSuccessful:!0,reason:F})),B}}}}class Iw extends on{constructor(f,g,b,T,O,N){super(ln.PLAYBACK_LAYER_REQUEST,f,g,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,layer_id:N})}}class Aw extends on{constructor(f,g,b,T,O,N=1){super(ln.PLAYBACK_LAYER_STATE,f,g,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,request_count:N})}}var Yd,ti,Qd,ni;(function(S){S.PAUSE="pause",S.PLAY="play"})(Yd||(Yd={})),function(S){S.IDLE="idle",S.ACTIVE="active",S.ERRORED="errored",S.DESTROYED="destroyed"}(ti||(ti={})),function(S){S.SUCCESS="success"}(Qd||(Qd={})),function(S){S.FAILED="failed",S.DESTROYED="destroyed",S.THROTTLED="throttled"}(ni||(ni={}));var $s=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class jw{constructor(f){this.state=ti.IDLE,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null,this.stopVideo=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("stopVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Yd.PAUSE)}),this.startVideo=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("startVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Yd.PLAY)}),this.setLayer=g=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("setLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest(g)}),this.unsetLayer=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("unsetLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest()}),this.getLayers=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("getLayers"),this.mapSkippedResultFromState(this.state)):this.sendLayerStateRequest()}),this.sendPlaybackRequest=g=>$s(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.playbackEndpoint)return this.logger.warn({msg:"Playback endpoint is unset and required for playback control requests"}),(0,ot.err)(ni.FAILED);this.logger.info({msg:`Sending ${g} request to ${this.playbackEndpoint}`});const b=g===Yd.PAUSE?{pause:[this.mid]}:{play:[this.mid]},T=this.createPostWhepRequest(b);return fetch(this.playbackEndpoint,T).then(O=>{if(O.status>=300){const N=new Error(`Error sending media controls request: ${O.status}:${O.statusText}`);return this.logger.error({err:N}),(0,ot.err)(ni.FAILED)}return this.logger.debug({msg:`Request to ${g} was successful: ${O.status}`}),(0,ot.ok)(Qd.SUCCESS)}).catch(O=>(this.logger.error({err:O,msg:"Error sending media controls request"}),(0,ot.err)(ni.FAILED)))}),this.sendLayerRequest=g=>$s(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,ot.err)(ni.FAILED);const b=typeof g=="string",T=b?{mediaId:this.mid,encodingId:g}:{},O=b?`set : ${g}`:"unset layer";this.logger.info({msg:`sendLayerRequest for ${O} at ${this.layersEndpoint}`});const N=this.createPostWhepRequest(T);return this.trackLayerRequest(g??"auto"),fetch(this.layersEndpoint,N).then(M=>this.state===ti.DESTROYED?(0,ot.err)(ni.DESTROYED):M.status>=300?this.handleLayerRequestError(M.status,M.statusText):(this.logger.debug({msg:`Request to ${O} was successful: ${M.status}`}),(0,ot.ok)(Qd.SUCCESS))).catch(M=>this.handleLayerRequestError(0,M.message))}),this.sendLayerStateRequest=()=>$s(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,ot.err)(ni.FAILED);this.logger.info({msg:`sendLayerStateRequest for ${this.mid} at ${this.layersEndpoint}`});const g=this.createGetWhepRequest();return this.trackLayerStateRequest(),fetch(this.layersEndpoint,g).then(b=>$s(this,void 0,void 0,function*(){var T;if(this.state===ti.DESTROYED)return(0,ot.err)(ni.DESTROYED);if(b.status>=300)return this.handleLayerStateRequestError(b.status,b.statusText);const O=yield b.json(),N=(T=O==null?void 0:O.layers)!==null&&T!==void 0?T:[],M=JSON.stringify(N,null,2);return this.logger.debug({msg:`sendLayerStateRequest was successful: ${M}`}),(0,ot.ok)(N)})).catch(b=>this.handleLayerStateRequestError(0,b.message))}),this.logger=new mo(f.logger,kn.REMOTE_PLAYBACK),this.token=f.token,this.traceId=f.traceId,this.analyticsTracker=f.analyticsTracker,this.remoteParticipantId=f.remoteParticipantId}set mediaId(f){if(this.state!==ti.DESTROYED){if(this.mid=f,this.mid===null)return this.logger.info({msg:"media id is unset, controller is transitioning to idle state"}),void(this.state=ti.IDLE);(this.playbackEndpoint||this.layersEndpoint)&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set mediaId")}set endpoints(f){var g,b;if(this.state!==ti.DESTROYED){if(this.playbackEndpoint=(g=f.playback)!==null&&g!==void 0?g:null,this.layersEndpoint=(b=f.layers)!==null&&b!==void 0?b:null,!this.playbackEndpoint||!this.layersEndpoint){const T={playbackEndpoint:this.playbackEndpoint,layersEndpoint:this.layersEndpoint};return this.logger.info({msg:`no endpoints are set, transitioning to idle state: ${JSON.stringify(T,null)}`}),void(this.state=ti.IDLE)}this.mid&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set endpoints")}destroy(){this.state=ti.DESTROYED,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null}logCommandSkipped(f="command"){this.logger.info({msg:`skipping ${f}, controller state invalid: ${this.state}`})}mapSkippedResultFromState(f){return f===ti.DESTROYED?(0,ot.err)(ni.DESTROYED):(0,ot.err)(ni.FAILED)}createPostWhepRequest(f){return{method:"POST",headers:this.createRequestHeaders(),body:JSON.stringify(f)}}createGetWhepRequest(){return{method:"GET",headers:this.createRequestHeaders()}}createRequestHeaders(){var f,g;return{Authorization:`Bearer ${this.token.rawToken}`,"Content-Type":"application/json","X-Stages-Platform":"web","X-Stages-Request-ID":Ga().value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":(g=(f=this.traceId)===null||f===void 0?void 0:f.value)!==null&&g!==void 0?g:"","X-Stages-WHIP-Version":ls}}trackLayerRequest(f){var g;this.analyticsTracker.trackEventNoSharedProps(new Iw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(g=this.mid)!==null&&g!==void 0?g:"unknown",f))}trackLayerStateRequest(f=1){var g;this.analyticsTracker.trackEventNoSharedProps(new Aw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(g=this.mid)!==null&&g!==void 0?g:"unknown",f))}handleLayerRequestError(f,g){const b=`sendLayerRequest failed for reason: ${f} ${g}`;let T,O;return f===429?(T=ni.THROTTLED,O=Ae.WHEP_SET_LAYER_REQUEST_THROTTLED):(T=ni.FAILED,O=Ae.WHEP_SET_LAYER_REQUEST_FAILED),this.trackRequestError(O,b),(0,ot.err)(T)}handleLayerStateRequestError(f,g){const b=`sendLayerStateRequest failed for reason: ${f} ${g}`;let T,O;return f===429?(T=ni.THROTTLED,O=Ae.WHEP_GET_LAYER_STATE_THROTTLED):(T=ni.FAILED,O=Ae.WHEP_GET_LAYER_STATE_FAILED),this.trackRequestError(O,b),(0,ot.err)(T)}trackRequestError(f,g){const b=new Error(g);this.logger.error({err:b}),f.message=g;const T=this.createError(f);this.analyticsTracker.trackError(T)}createError(f,g){return new en(Object.assign({action:Ge.SUBSCRIBE,traceId:this.traceId,token:this.token,location:"RemotePlaybackController",tag:jd,details:g},f))}}var Xd,Kh,Zn,ki,$c=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},_g=function(S,f,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?S!==f||!b:!f.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:f.get(S)};(function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"})(Zn||(Zn={})),function(S){S.NONE="none",S.AUDIO_ONLY="audio_only",S.AUDIO_VIDEO="audio_video"}(ki||(ki={}));class wg extends yo{constructor(f,g,b,T,O,N,M){super(),this.id=f,this.token=g,this.stageConnection=b,this.nonScopedLogger=T,this.analyticsTracker=O,this.desiredSubscribeType=N,Xd.add(this),this.isSubscriptionActive=!1,this.subscriptionState={connectionState:Zn.DISCONNECTED,subscribeInProgress:!1},this.previousSignalState={isTargetPublishing:!1},this.failedRetries=0,this.startConnectingTimestamp=-1,this.throttler=new r0(1e3),this.cleanupFirstFrameTracking=ei,this.actualSubscribeType=ki.NONE,this.action=Ge.SUBSCRIBE,this.updateDesiredSubscribeType=A=>{this.desiredSubscribeType=A,this.attemptToActualizeSubscribeType()},this.updateSubscribeConfig=A=>{this.peerClient.updateSubscribeConfig(A)},this.getDesiredSubscribeType=()=>this.desiredSubscribeType,this.attemptToActualizeSubscribeType=()=>{const A=this.actualSubscribeType,F=this.desiredSubscribeType;this.logger.debug({msg:`Attempt to actualize subscribe type to ${F}`}),this.subscriptionState.connectionState===Zn.CONNECTED&&F!==ki.NONE&&A!==F&&this.applyVideoControlsBySubscribeType(F,A)},this.onParticipantUpdated=A=>{_g(this,Xd,"m",Kh).call(this,A)&&(this.logger.debug({msg:"onParticipantUpdated",participant:A}),this.processStateUpdate({isTargetPublishing:A.isPublishing}))},this.onParticipantJoined=A=>{_g(this,Xd,"m",Kh).call(this,A)&&(this.logger.debug({msg:"onParticipantJoined",participant:A}),this.processStateUpdate({isTargetPublishing:A.isPublishing}))},this.onParticipantLeft=A=>{_g(this,Xd,"m",Kh).call(this,A)&&(this.logger.debug({msg:"onParticipantLeft",participant:A}),this.processStateUpdate({isTargetPublishing:!1}))},this.requestRTCStats=A=>$c(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(A)}),this.trySubscribe=A=>$c(this,void 0,void 0,function*(){if(this.logger.debug({msg:`Subscribe attempt started: ${A}`}),!this.isSubscriptionActive)return this.logger.warn({msg:"Subscribe attempt invalid: Subscription is inactive"}),!1;this.logger.debug({msg:"Subscribe attempt is valid."}),this.startConnectingTimestamp<0&&(this.startConnectingTimestamp=performance.now()),this.subscriptionState.connectionState!==Zn.ERRORED&&(this.logger.debug({msg:"Updating state to CONNECTING"}),this.updateState({connectionState:Zn.CONNECTING}));const F=this.stageConnection.getConnectionStats(),B=this.peerClient.getExpectedJitterBufferMinDelayInMs(),W=this.peerClient.getSfuResource();this.attemptTracker=this.subscribeTracker.trackAttempt({stageConnectionStats:F,preAttemptSfuResource:W});try{this.remotePlaybackController.traceId=this.attemptTracker.getTraceId();const{mediaStream:ie}=yield this.subscribe(this.attemptTracker.getTraceId()),be=performance.now()-this.startConnectingTimestamp,ge=this.peerClient.getSfuResource();this.remotePlaybackController.mediaId=this.peerClient.videoMediaId;const le=this.failedRetries;this.attemptToActualizeSubscribeType();const ae=this.peerClient.getActionMeasurements();if(this.attemptTracker.trackSubscribeStarted({sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,peerClientPerfStats:ae}),ie){this.cleanupFirstFrameTracking();const oe=this.actualSubscribeType,we=this.attemptTracker,ze=(st,Tt)=>{we.trackSubscribeFirstFrame({peerClientPerfStats:ae,sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,currentJitterBufferMinDelayInMs:B,mediaType:Tt,firstFrameDuration:st})};this.cleanupFirstFrameTracking=this.measureFirstFrameDuration({mediaStream:ie,subscribeType:oe,callback:ze})}return this.throttler.clear(),this.failedRetries=0,this.startConnectingTimestamp=-1,ie&&this.emit(Ji,ie,this.remotePlaybackController),this.logger.debug({msg:"Subscribe attempt succeeded"}),!0}catch(ie){const be=this.attemptTracker.trackSubscribeFailed(ie);this.logger.error({log:"Subscribe attempt failed",err:ie}),this.onTrySubscribeFailure(be,A)}return!1});const L=Xi();this.peerClient=new hs(g,this.nonScopedLogger,this.action,Jr(this.action,f),L,O,f,b,M),this.logger=new mo(T,kn.SUBSCRIPTION),this.subscribeTracker=new C0(this.analyticsTracker,g,f),this.remotePlaybackController=new jw({token:g,analyticsTracker:O,traceId:L,logger:this.nonScopedLogger,remoteParticipantId:this.id})}applyVideoControlsBySubscribeType(f,g){try{f===ki.AUDIO_ONLY?this.remotePlaybackController.stopVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to stop video failed"})}):f===ki.AUDIO_VIDEO&&this.remotePlaybackController.startVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to start video failed"})}),this.actualSubscribeType=f,this.logger.debug({msg:`Desired subscribe type actualized from ${g} to ${f}.`})}catch(b){this.logger.error({err:b,msg:`Error updating subscribe type from ${g} to ${f}.`})}}onPeerClientConnectionStateChange(f){const g=this.stageConnection.getParticipant(this.id);this.logger.debug({msg:`onPeerClientConnectionStateChange: ${f}`,state:f,targetParticipant:g}),this.processStateUpdate({peerClientState:f})}onPeerClientTransformError(f){this.emit(as,f)}processStateUpdate(f){const g=this.previousSignalState,b=Object.assign({},g,f);if(!this.isSubscriptionActive)return void this.logger.warn({msg:"Unexpected processStateUpdate when subscription is inactive"});b.isTargetPublishing?f.peerClientState===gt.CONNECTED?this.updateState({connectionState:Zn.CONNECTED,subscribeInProgress:!0}):f.peerClientState===gt.FAILED&&this.subscriptionState.subscribeInProgress&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(Si.CONNECTION_FAIL),this.updateState({subscribeInProgress:!1})):(g.isTargetPublishing&&this.subscriptionState.subscribeInProgress&&(this.logger.debug({msg:"Scheduling an unsubscribe on the event loop"}),this.unsubscribe()),this.throttler.clear(),this.updateState({connectionState:Zn.DISCONNECTED}));const T=!g.isTargetPublishing&&f.isTargetPublishing,O=this.subscriptionState.connectionState===Zn.CONNECTED&&f.peerClientState===gt.FAILED;(T||O)&&this.throttledTrySubscribe("onSignalState change: isTargetPublishing is now true"),Object.assign(this.previousSignalState,f)}onTrySubscribeFailure(f,g){this.logger.debug({msg:"Changing/keeping state FAILED"});const b=f.fatal,T=f.code===Ae.OPERATION_ABORTED.code,O=this.failedRetries<=4;if(!T&&!b&&O){const N=1e3*Math.pow(2,this.failedRetries);this.logger.debug({msg:`Retrying in ${N}ms`}),this.failedRetries++,this.nextAttemptTimerId=window.setTimeout(()=>$c(this,void 0,void 0,function*(){this.throttledTrySubscribe(g)}),N)}else this.updateState({connectionState:Zn.ERRORED}),this.emit(yn,f),this.onTerminalFailure()}onTerminalFailure(){this.previousSignalState.isTargetPublishing=!1,this.startConnectingTimestamp=-1,this.failedRetries=0}start(){this.isSubscriptionActive=!0,this.peerClient.on(go,this.onPeerClientConnectionStateChange,this),this.peerClient.on(Qy,g=>{this.remotePlaybackController.endpoints={playback:g.mediaControls,layers:g.layerControls}}),this.peerClient.on(Fo,g=>{this.emit(qa,g)}),this.peerClient.on(Ic,this.onPeerClientTransformError,this),this.stageConnection.on(Ih,this.onParticipantUpdated),this.stageConnection.on(Ph,this.onParticipantJoined),this.stageConnection.on(Nh,this.onParticipantLeft),this.stageConnection.on($m,this.onParticipantLeft);let f=!0;if(this.stageConnection.isConnected()){const g=this.stageConnection.getParticipant(this.id);f=!!(g!=null&&g.isPublishing)}this.processStateUpdate({isTargetPublishing:f})}throttledTrySubscribe(f){return this.throttler.invoke(this.trySubscribe,f)}updateState(f){f.subscribeInProgress!==void 0&&(this.subscriptionState.subscribeInProgress=f.subscribeInProgress),f.connectionState&&this.subscriptionState.connectionState!==f.connectionState&&(this.subscriptionState.connectionState=f.connectionState,this.emit(Vl,this.subscriptionState.connectionState))}stop(f=!1){this.peerClient.off(go,this.onPeerClientConnectionStateChange,this),this.peerClient.off(Ic,this.onPeerClientTransformError,this),this.unsubscribe(f),this.throttler.clear(),this.stageConnection.off(Ih,this.onParticipantUpdated),this.stageConnection.off(Ph,this.onParticipantJoined),this.stageConnection.off(Nh,this.onParticipantLeft),this.stageConnection.off($m,this.onParticipantLeft),this.isSubscriptionActive=!1,this.updateState({connectionState:Zn.DISCONNECTED})}isActive(){return this.isSubscriptionActive}subscribe(f,g){return $c(this,void 0,void 0,function*(){const{token:b,id:T}=this;b.assertTokenIsUnexpired(f,Jr(Ge.SUBSCRIBE,T),"subscribe",T);const{mediaStream:O}=yield this.peerClient.connect({audioOnly:g,traceId:f});return{peerClient:this.peerClient,mediaStream:O}})}unsubscribe(f=!1){return $c(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.remotePlaybackController.destroy(),!this.isSubscriptionActive||!this.attemptTracker||this.subscriptionState.connectionState===Zn.DISCONNECTED)return;this.cleanupFirstFrameTracking(),this.attemptTracker.trackUnsubscribe();const g=f?Si.UNLOAD:Si.UNSUBSCRIBE;try{f?this.peerClient.disconnect(f):yield this.peerClient.disconnect(f),this.updateState({subscribeInProgress:!1}),this.attemptTracker.trackEndSucceeded(g)}catch{this.attemptTracker.trackEndFailed(g)}})}triggerIceRestart(f){var g;return $c(this,void 0,void 0,function*(){const b=this.stageConnection.getConnectionStats(),T=this.peerClient.getSfuResource(),O=this.subscribeTracker.trackAttempt({stageConnectionStats:b,isReassignment:!0,traceIdOverride:f.traceId,preAttemptSfuResource:T}),N=performance.now();try{this.emit(Us),this.logger.debug({msg:`Triggering attempt. Current node: ${this.peerClient.getSfuResource().node}`}),yield this.peerClient.connect({iceRestartOptions:f,traceId:f.traceId}),this.logger.debug({msg:`Successful ICE restart attempt. Current node: ${this.peerClient.getSfuResource().node}`});const M=performance.now()-N,L=this.peerClient.getSfuResource(),A=this.peerClient.getActionMeasurements();(g=this.attemptTracker)===null||g===void 0||g.trackEndSucceeded(Si.REASSIGNMENT),this.applyVideoControlsBySubscribeType(this.actualSubscribeType,this.actualSubscribeType),O.trackSubscribeStarted({totalDurationWithRetries:M,sfuResource:L,retryTimes:0,peerClientPerfStats:A}),this.emit(Ka)}catch(M){this.emit(Uo),this.logger.error({msg:"ICE restart attempt failed",err:M});const L=this.peerClient.getSfuResource(),A=O.trackSubscribeFailed(M,`iceRestart=true, startNode=${T.node}, endNode=${L==null?void 0:L.node}`);throw A.code===Ae.SUBSCRIBE_TIMED_OUT.code&&this.onTrySubscribeFailure(A,"ice restart timeout"),M}})}measureFirstFrameDuration({mediaStream:f,subscribeType:g,callback:b}){const T=performance.now(),O=L=>{const A=performance.now()-T;b(A,L),L==="audio"?M():N()};let N=ei,M=ei;return g!==ki.AUDIO_ONLY&&(N=function(L,A){return Gm(L,"video",A)}(f,O)),M=function(L,A){return Gm(L,"audio",A)}(f,O),()=>{N(),M()}}}var ya,On;Xd=new WeakSet,Kh=function(S){return S.id===this.id},function(S){S.JOIN_ERROR="JOIN_ERROR",S.PUBLISH_ERROR="PUBLISH_ERROR",S.SUBSCRIBE_ERROR="SUBSCRIBE_ERROR"}(ya||(ya={})),function(S){S[S.TOKEN_MALFORMED=1]="TOKEN_MALFORMED",S[S.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",S[S.TIMEOUT=3]="TIMEOUT",S[S.FAILED=4]="FAILED",S[S.CANCELED=5]="CANCELED",S[S.STAGE_AT_CAPACITY=6]="STAGE_AT_CAPACITY",S[S.CODEC_MISMATCH=7]="CODEC_MISMATCH",S[S.TOKEN_NOT_ALLOWED=8]="TOKEN_NOT_ALLOWED"}(On||(On={}));const Dw={[On.TOKEN_MALFORMED]:"Token is malformed",[On.TOKEN_EXPIRED]:"Token expired and is no longer valid",[On.TIMEOUT]:"Operation timed out",[On.FAILED]:"Operation failed",[On.CANCELED]:"Operation canceled",[On.STAGE_AT_CAPACITY]:"Stage at capacity",[On.CODEC_MISMATCH]:"Client codec is not supported",[On.TOKEN_NOT_ALLOWED]:"Token not allowed to perform operation"},Eg={[Ae.EXPIRED_TOKEN.code]:On.TOKEN_EXPIRED,[Ae.MALFORMED_TOKEN.code]:On.TOKEN_MALFORMED,[Ae.TOKEN_PERMISSIONS_DENIED.code]:On.TOKEN_NOT_ALLOWED,[Ae.OPERATION_ABORTED.code]:On.CANCELED,[Ae.JOIN_TIMED_OUT.code]:On.TIMEOUT,[Ae.EVENT_PLANE_WS_CREATE_FAILED.code]:On.FAILED,[Ae.EVENT_PLANE_PONG_TIMEOUT.code]:On.FAILED,[Ae.EVENT_PLANE_WS_UNEXPECTED_CLOSE.code]:On.FAILED,[Ae.PUBLISH_TIMED_OUT.code]:On.TIMEOUT,[Ae.PUBLISH_FAILURE.code]:On.FAILED,[Ae.SUBSCRIBE_TIMED_OUT.code]:On.TIMEOUT,[Ae.SUBSCRIBE_FAILURE.code]:On.FAILED,[Ae.STAGE_AT_CAPACITY.code]:On.STAGE_AT_CAPACITY,[Ae.NO_MATCHING_CODEC.code]:On.CODEC_MISMATCH,[Ae.NETWORK_FAILURE.code]:On.FAILED,[Ae.INTERNAL_SERVER_ERROR.code]:On.FAILED,[Ae.REMOTE_STREAM_NOT_FOUND.code]:On.FAILED,[Ae.INTERNAL_MHCP_ERROR.code]:On.FAILED,[Ae.UNREACHABLE_MHCP.code]:On.FAILED,[Ae.INVALID_SESSION_STATUS.code]:On.FAILED,[Ae.MHCP_ABORTED.code]:On.FAILED},T0={[Ae.SEI_INSERT_NOT_PUBLISHING_VIDEO.code]:"SEI insert failed due to not publishing video",[Ae.SEI_INSERT_INBAND_NOT_ENABLED.code]:"SEI insert failed due to in-band messaging not being enabled for the stage stream"};class Mw extends Error{constructor(f,g,b){super(),this.code=f,this.category=g,this.message=b,this.name="StageError",this.errorDetails=[],this.message=`[${g}] ${b}`}addDetails(f){this.errorDetails.push(f)}get details(){return this.errorDetails.length?JSON.stringify(this.errorDetails):""}toString(){return`
${this.message}
details - ${this.details}
        `.trim()}}var Yh,Jd,Zd;function Lw(S,f){let g;if(S instanceof en){const b=Eg[S.code];b&&(g=function(T,O,N){var M,L;const A=Dw[T],F=new Mw(T,O,A);return F.addDetails({stageErrorMessage:A,stageErrorCode:T,stageErrorCategory:O,stageArn:(M=N.token)===null||M===void 0?void 0:M.stageARN,traceId:(L=N.traceId)===null||L===void 0?void 0:L.value,causeCode:N.code,causeDetails:N.details,causeMessage:N.message,causeLocation:N.location}),F}(b,f,S))}return g}(function(S){S.ERROR="error"})(Yh||(Yh={}));class Fw extends yo{constructor(f){super(),this.logger=f,this.handleError=(g,b,T=!0)=>{const O=function(M){let L;return M instanceof en&&(L=T0[M.code]),L}(g),N=Lw(g,b);if(O&&this.logger.warn({msg:O}),N)return T&&this.emit(Yh.ERROR,N),N}}}(function(S){S.INTERNAL="internal",S.API="api"})(Jd||(Jd={})),function(S){S.ADDITIVE="additive",S.REPLACE="replace"}(Zd||(Zd={}));class R0{constructor(f){this.logger=new mo(f.logger,kn.CONNECTION),this.subscribeConfig={defaults:f.subscribeDefaults,participants:{}}}handleSubscribeConfigUpdate(f,g,b,T=Zd.REPLACE){g=(F=>{const B=ug(F);if(B.jitterBuffer!==void 0){const W=ie=>{if(typeof ie=="number"){if(ie<0)return 0;if(ie>4e3)return 4e3}return ie};B.jitterBuffer.minDelayWhenPublishing!==void 0&&(B.jitterBuffer.minDelayWhenPublishing=W(B.jitterBuffer.minDelayWhenPublishing)),B.jitterBuffer.minDelayWhenSubscribeOnly!==void 0&&(B.jitterBuffer.minDelayWhenSubscribeOnly=W(B.jitterBuffer.minDelayWhenSubscribeOnly))}return B})(g),this.subscribeConfig.participants[f]===void 0&&(this.subscribeConfig.participants[f]={internalOverrides:{},apiOverrides:{},lastMerged:this.subscribeConfig.defaults});const O=this.subscribeConfig.participants[f];switch(b){case Jd.INTERNAL:O.internalOverrides=this.handleSubscribeConfigLevelMerging(O.internalOverrides,g,T);break;case Jd.API:O.apiOverrides=this.handleSubscribeConfigLevelMerging(O.apiOverrides,g,T);break;default:(function(F){throw new Error(`Unknown case kind: ${F}`)})(b)}const N=cg(this.subscribeConfig.defaults,O.internalOverrides,O.apiOverrides);if(N===void 0)return this.logger.warn({msg:`Unable to merge subscribe configs for participant: ${f} | ${O}, ${g}`}),!1;const M=(L=O.lastMerged,A=N,(typeof L=="object"&&typeof A=="object"&&(0,wr.isEqual)(L,A))===!1);var L,A;return O.lastMerged=N,this.subscribeConfig.participants[f]=O,M}handleExternalSubscribeConfigUpdate(f,g,b,T=Zd.REPLACE){const O=(N=>{const M={};return typeof N!="object"?ot.err(new Error("Invalid input")):(N.jitterBuffer!==void 0&&(M.jitterBuffer={},N.jitterBuffer.minDelay!==void 0&&(M.jitterBuffer.minDelayWhenSubscribeOnly=N.jitterBuffer.minDelay)),N.inBandMessaging!==void 0&&(M.inBandMessaging={enabled:N.inBandMessaging.enabled===!0}),N.simulcast!==void 0&&(M.simulcast={},N.simulcast.initialLayerPreference!==void 0&&(M.simulcast.initialLayerPreference=N.simulcast.initialLayerPreference)),ot.ok(M))})(g);return O.ok===!0&&this.handleSubscribeConfigUpdate(f,O.value,b,T)}handleSubscribeConfigLevelMerging(f,g,b){if(b===Zd.REPLACE)return g;{const T=cg(f,g);return T===void 0?(this.logger.warn({msg:`Unable to merge '${f}' and '${g}' with type ${b}`}),f):T}}getSubscribeConfigSnapshot(f){return this.subscribeConfig.participants[f]===void 0?lg(this.subscribeConfig.defaults):lg(this.subscribeConfig.participants[f].lastMerged)}}class Qh extends on{constructor(f){super(ln.REASSIGNMENT_REQUEST,f.token,f.traceId,!1),Object.assign(this.properties,{target_local_participant_id:f.targetLocalParticipantId,target_remote_participant_id:f.targetRemoteParticipantId}),this.critical=!0}}var ps,ms,tu,nu,gs,Cg=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Tg extends yo{constructor(f,g){super(),this.setGetStats=b=>{this.getInternalStats=b},this.getStats=()=>Cg(this,void 0,void 0,function*(){return this.requestRTCStats()}),this.requestRTCStats=()=>Cg(this,void 0,void 0,function*(){if(this.getInternalStats)return this.getInternalStats(this.mediaStreamTrack)}),this.getInternalStats=g,this.id=f.id,this.isMuted=!f.enabled,this.mediaStreamTrack=f,this.streamType=this.mediaStreamTrack.kind==="audio"?me.AUDIO:me.VIDEO}cleanup(){this.removeAllListeners(),this.getInternalStats=void 0}}(function(S){S.IDLE="IDLE",S.INITIALIZING="INITIALIZING",S.ACTIVE="ACTIVE",S.CONTROLS_PAUSED="CONTROLS_PAUSED",S.DESTROYED="DESTROYED"})(ps||(ps={})),function(S){S.LAYERS_CHANGED="LAYERS_CHANGED",S.LAYER_SELECTED="LAYER_SELECTED",S.ADAPTION_CHANGED="ADAPTION_CHANGED"}(ms||(ms={})),function(S){S.LAYERS_CHANGED="LAYERS_CHANGED",S.LAYER_SELECTED="LAYER_SELECTED",S.ADAPTION_CHANGED="ADAPTION_CHANGED"}(tu||(tu={})),function(S){S.UNAVAILABLE="unavailable",S.SELECTED="selected"}(nu||(nu={})),function(S){S.LOCAL_STREAM_MUTE_CHANGED="localStreamMutedChanged",S.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST="localStreamInsertSeiMsgRequest"}(gs||(gs={}));var ba,Or,ci,Uw=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class k0 extends Tg{constructor(f,g){super(f),this.setMuted=b=>{b!==this.isMuted&&(this.mediaStreamTrack.enabled=!b,this.isMuted=b,this.emit(gs.LOCAL_STREAM_MUTE_CHANGED,this))},this.insertSeiMessage=(b,T)=>Uw(this,void 0,void 0,function*(){var O;let N;if(this.streamType==="audio")N=Ri.INVALID_TRACK_TYPE;else if(!((O=this.mediaConfig)===null||O===void 0)&&O.inBandMessaging.enabled){const M=this.validator.validateMessagePayload(b,(T==null?void 0:T.repeatCount)||0);N=ot.getErr(M)}else N=Ri.INBAND_MESSAGING_NOT_ENABLED;N?console.warn(`Unable to insert SEI message due to ${N}`):this.emit(gs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this,b,T)}),this.mediaConfig=gg(f,g),this.validator=new yg(Qa)}}class Xh{constructor(f,g){this.strategy=f,this.logger=g}setStrategy(f){this.strategy=f}stageStreamsToPublish(){let f=[];try{f=this.strategy.stageStreamsToPublish(),f=f.filter(T=>T instanceof k0)}catch(T){return this.logger.warn({msg:"error executing stageStreamsToPublish treating this as a no-op",err:T}),console.error("Error executing stageStreamsToPublish",T),ot.err(T)}let g=0,b=0;for(const T of f)T.mediaStreamTrack.kind==="audio"?g++:T.mediaStreamTrack.kind==="video"&&b++;if(g>1||b>1){const T=Error("stageStreamsToPublish strategy function returned more than 1 video or audio stream and as a result will not publish",{cause:"UserStrategy"});return ot.err(T)}return ot.ok(f)}shouldPublishParticipant(f){try{return ot.ok(this.strategy.shouldPublishParticipant(f))}catch(g){return this.logger.warn({msg:"error executing shouldPublishParticipant treating this as a no-op",err:g}),console.error("Error executing shouldPublishParticipant",g),ot.err(g)}}shouldSubscribeToParticipant(f){try{return ot.ok(this.strategy.shouldSubscribeToParticipant(f))}catch(g){return this.logger.warn({msg:"error executing shouldSubscribeToParticipant. Treating it as a no-op",err:g}),console.error("Error executing shouldSubscribeToParticipant",g),ot.err(g)}}subscribeConfiguration(f){var g,b;try{return ot.ok((b=(g=this.strategy).subscribeConfiguration)===null||b===void 0?void 0:b.call(g,f))}catch(T){return this.logger.warn({msg:"error executing subscribeConfiguration. Treating it as a no-op",err:T}),console.error("Error executing subscribeConfiguration",T),ot.err(T)}}preferredLayerForStream(f,g){var b,T;try{return ot.ok((T=(b=this.strategy).preferredLayerForStream)===null||T===void 0?void 0:T.call(b,f,g))}catch(O){return this.logger.warn({msg:"error executing preferredLayerForStream. Treating it as a no-op",err:O}),console.error("Error executing preferredLayerForStream",O),ot.err(O)}}}class Rg extends yo{constructor(f,g){super(),this.audioMuted=!0,this.videoStopped=!0,this.publishState=Or.NOT_PUBLISHED,this.logger=g,this.info=f,this.audioMuted=f.audioMuted,this.videoStopped=f.videoStopped}}(function(S){S.PUBLISH="publish",S.SUBSCRIBE="subscribe"})(ba||(ba={})),function(S){S.NOT_PUBLISHED="not_published",S.ATTEMPTING_PUBLISH="attempting_publish",S.PUBLISHED="published",S.ERRORED="errored"}(Or||(Or={})),function(S){S.NOT_SUBSCRIBED="not_subscribed",S.ATTEMPTING_SUBSCRIBE="attempting_subscribe",S.SUBSCRIBED="subscribed",S.ERRORED="errored"}(ci||(ci={}));function kg(S){return S.map(f=>f.remote)}function Og(S){return{label:S.encodingId,bitrateBps:1e3*S.bitrate,width:S.width,height:S.height,framesPerSecond:S.framesPerSecond,selected:S.selected}}function Pg(S,f){const g=S.width*S.height,b=f.width*f.height;return g>b||S.bitrateBps>f.bitrateBps||S.framesPerSecond>f.framesPerSecond?1:g===b||S.bitrateBps===f.bitrateBps||S.framesPerSecond>f.framesPerSecond?0:-1}var ef,Ng,Bw=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class tf extends yo{constructor(f){super(),this.setGetStats=()=>{},this.requestRTCStats=()=>this.internalStream.requestRTCStats(),this.getStats=()=>Bw(this,void 0,void 0,function*(){return this.internalStream.requestRTCStats()}),this.setMuted=g=>{this.internalStream.setMuted(g)},this.getLayers=()=>this.internalStream.layers,this.getSelectedLayer=()=>this.internalStream.selectedLayer,this.getLowestQualityLayer=()=>this.internalStream.lowestQualityLayer,this.getHighestQualityLayer=()=>this.internalStream.highestQualityLayer,this.internalStream=f,this.internalStream.on(ms.ADAPTION_CHANGED,g=>{this.emit(tu.ADAPTION_CHANGED,g)}),this.internalStream.on(ms.LAYERS_CHANGED,g=>{this.emit(tu.LAYERS_CHANGED,g)}),this.internalStream.on(ms.LAYER_SELECTED,(g,b)=>{this.emit(tu.LAYER_SELECTED,g,b)})}get id(){return this.internalStream.id}get participantInfo(){return this.internalStream.participantInfo}get streamType(){return this.internalStream.streamType}get mediaStreamTrack(){return this.internalStream.mediaStreamTrack}get isMuted(){return this.internalStream.isMuted}set isMuted(f){this.internalStream.setMuted(f)}get isAdapting(){return this.internalStream.isAdapting}cleanup(){this.removeAllListeners()}}class Jh extends Tg{constructor({track:f,info:g,getStats:b,remotePlaybackController:T,analyticsTracker:O,token:N}){super(f,b),this.setMuted=L=>{this.isMuted=L},this.setLayer=L=>{const A=(0,wr.cloneDeep)(L);if(this.queueLayerUpdateForValidState(A))return void this.logger.debug({msg:`setLayer:${A} queued, skipping for now`});const F=function(W,ie){if(!W)return(0,ot.ok)(void 0);const be=typeof W=="string"?W:W.label,ge=ie.filter(le=>le.label===be)[0];return ge?(0,ot.ok)(ge):(0,ot.err)(`Provided layer with id ${be} does not exist`)}(A,this._layers);if(!F.ok){const W=F.error;return void this.logger.error({err:W,msg:"Unable to select layer, skipping skipping selection"})}const B=F.value;if(this.isNextUpdateAdaptionOnly(B))return this.logger.warn({msg:"setLayer:dynamic"}),void this.handleDynamicUpdate();this.isFirstLayerUpdate()||!this.isRepeatLayerSelection(B)||this.isAdapting?B&&(this.logger.warn({msg:`setLayer:${JSON.stringify(B)} `}),this.handleManualUpdate(B)):this.logger.debug({msg:"Setting the same layer, same adaption state, skipping selection"})},this.state=ps.INITIALIZING,this.prevState=ps.IDLE,this.analyticsTracker=O,this.token=N,this.id=f.id,this.info=g,this.mediaStreamTrack=f,this.remotePlaybackController=T,this.layerPollingTimeoutId=null,this.weakRemoteMap=new WeakMap,this.weakRemoteKey={id:"remote"},this.commandMap=new Map,this._isAdapting=!0,this._layers=[],this._selectedLayer=null;const M=Nm();this.logger=new mo(new Lm(M),kn.REMOTE_STAGE_STREAM),this.streamType===me.AUDIO?this.isMuted=g.audioMuted:this.isMuted=g.videoStopped,this.initializeLayerPolling(),this.pollInternalLayers()}transitionStateTo(f){this.state!==f&&(this.prevState=this.state,this.state=f)}initializeLayerPolling(){this.streamType!==me.AUDIO?(this.logger.debug({msg:"Setting up RemoteStageStream, requesting initial layers"}),this.layerPollingTimeoutId=setInterval(()=>{this.pollInternalLayers()},3e3)):this.logger.debug({msg:"Skipping initializing polling for audio streams"})}startLayerPolling(){this.layerPollingTimeoutId===null?this.initializeLayerPolling():this.logger.debug({msg:"Skipping start polling request, already started"})}stopLayerPolling(){this.layerPollingTimeoutId!==null?(clearInterval(this.layerPollingTimeoutId),this.layerPollingTimeoutId=null):this.logger.debug({msg:"Skipping stop polling request, already stopped"})}pollInternalLayers(){this.streamType!==me.AUDIO?this.remotePlaybackController.getLayers().then(f=>{if(this.isStateValidForLayerUpdates()){if(!f.ok)throw Error(f.error);this.updateInternalLayersFromRemote(f.value),this.transitionStateTo(ps.ACTIVE),this.flushCommandQueue()}else this.logger.warn({msg:"Stream controls have been paused, skipping getLayers"})}).catch(f=>{this.logger.error({err:f,msg:"Error calling getLayers, returning current layers"})}):this.logger.debug({msg:"Skipping layer poll request for audio stream"})}updateInternalLayersFromRemote(f){const g=this._layers,b=f.map(Og).sort(Pg),T=!(0,wr.isEqual)(b,g);this._layers=b;const O=this._selectedLayer,N=this._layers.filter(L=>L.selected)[0],M=!(0,wr.isEqual)(N,O);O&&(O.selected=!1),this._selectedLayer=N,M&&(this.trackLayerUpdate(O),this.trackLayerUpdate(N)),this.isCommandQueueEmpty()&&(T&&this.emitLayersChanged(),M&&this.emitLayerSelected(N))}flushCommandQueue(){if(this.isCommandQueueEmpty())return;const f=Array.from(this.commandMap.keys());this.logger.debug({msg:`Flushing active commands from map ${f}`});for(const g of this.commandMap.keys()){const b=this.commandMap.get(g);b==null||b()}this.commandMap.clear()}queueLayerUpdateForValidState(f){if(!f)return this.commandMap.delete("setLayer"),!1;if(this.state===ps.INITIALIZING){const g=this.setLayer.bind(this,f);return this.commandMap.set("setLayer",g),!0}return!1}handleDynamicUpdate(){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const f=this._isAdapting;this._isAdapting=!0,this.emitAdaptionChanged(),this.remotePlaybackController.unsetLayer().then(g=>{if(!this.isStateValidForLayerUpdates())return this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"}),void this.resetAdaptionStateOnError(f,`Stream in invalid state: ${this.state}`);g.ok?this.logger.debug({msg:"Layer successfully unset, restarting dynamic adaption"}):this.resetAdaptionStateOnError(f,g.error)}).catch(()=>{})}resetAdaptionStateOnError(f,g){this._isAdapting=f,this.emitAdaptionChanged(),this.logger.error({err:g,msg:"Error unsetting layer, reverting adaption state"})}handleManualUpdate(f){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping manual updates"});const g=this._isAdapting,b=this._selectedLayer;b&&(b.selected=!1),this._isAdapting=!1,this._selectedLayer=f,f.selected=!0,g!==this._isAdapting&&this.emitAdaptionChanged(),this.updateLocalLayerStateBeforeRemote(f,b),this.trackLayerUpdate(b),this.trackLayerUpdate(f),this.emitLayersChanged(),this.emitLayerSelected(f),this.remotePlaybackController.setLayer(f.label).then(T=>{if(!this.isStateValidForLayerUpdates()){this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const O=`Stream in invalid state: ${this.state}`;return this.resetAdaptionStateOnError(g,O),void this.resetLayerOnError(b,f,O)}if(!T.ok){const O=T.error;return this.resetAdaptionStateOnError(g,O),void this.resetLayerOnError(b,f,O)}this.logger.debug({msg:`Layer successfully selected: ${f.label}`})}).catch(()=>{})}applyExistingControlState(){var f;this._isAdapting?this.remotePlaybackController.unsetLayer().then(()=>{}).catch(()=>{}):!((f=this._selectedLayer)===null||f===void 0)&&f.label&&this.remotePlaybackController.setLayer(this._selectedLayer.label).then(()=>{}).catch(()=>{})}resetLayerOnError(f,g,b){g&&(g.selected=!1),f&&(f.selected=!0),this._selectedLayer=f,this.logger.error({err:b,msg:"Error unsetting layer, leaving current selection in place"}),this.updateLocalLayerStateBeforeRemote(f,g),this.emitLayersChanged(),f!==null&&this.emitLayerSelected(f,nu.UNAVAILABLE),this.trackLayerUpdate(g),this.trackLayerUpdate(f)}updateLocalLayerStateBeforeRemote(f,g){this._layers=this._layers.map(b=>b.label===(f==null?void 0:f.label)?f:b.label===(g==null?void 0:g.label)?g:b).sort(Pg)}trackLayerUpdate(f){var g,b;this.analyticsTracker.trackEventNoSharedProps(new Fh(this.token,Xi(),(g=f==null?void 0:f.label)!==null&&g!==void 0?g:"auto",!0,Ge.SUBSCRIBE,(b=f==null?void 0:f.selected)!==null&&b!==void 0&&b,this.info.id))}isNextUpdateAdaptionOnly(f){return f===void 0&&this.isFirstLayerUpdate()||f===void 0&&!this.isAdapting}isFirstLayerUpdate(){return this._selectedLayer===null}isRepeatLayerSelection(f){var g;return((g=this._selectedLayer)===null||g===void 0?void 0:g.label)===(f==null?void 0:f.label)}isStateValidForLayerUpdates(){return this.state===ps.ACTIVE||this.state===ps.INITIALIZING}isCommandQueueEmpty(){return this.commandMap.size===0}emitLayerSelected(f,g=nu.SELECTED){this.logger.debug({msg:`Emitting layers selected ${JSON.stringify(f,null,2)}`}),this.emit(ms.LAYER_SELECTED,(0,wr.cloneDeep)(f),g)}emitLayersChanged(){this.emit(ms.LAYERS_CHANGED,(0,wr.cloneDeep)(this._layers))}emitAdaptionChanged(){this.emit(ms.ADAPTION_CHANGED,this._isAdapting)}get remote(){const f=this.weakRemoteMap.get(this.weakRemoteKey);if(f)return f;const g=new tf(this);return this.weakRemoteMap.set(this.weakRemoteKey,g),g}get participantInfo(){return(0,wr.cloneDeep)(this.info)}get isAdapting(){return this._isAdapting}get layers(){return(0,wr.cloneDeep)(this._layers)}get selectedLayer(){var f;return(0,wr.cloneDeep)((f=this._selectedLayer)!==null&&f!==void 0?f:void 0)}get highestQualityLayer(){return(0,wr.cloneDeep)(this.layers[this.layers.length-1])}get lowestQualityLayer(){return(0,wr.cloneDeep)(this.layers[0])}pauseControls(){this.transitionStateTo(ps.CONTROLS_PAUSED),this.stopLayerPolling()}resumeControls(){this.applyExistingControlState(),this.startLayerPolling(),this.transitionStateTo(ps.ACTIVE)}cleanup(){this.transitionStateTo(ps.DESTROYED),super.cleanup(),this.stopLayerPolling(),this._layers=[],this._selectedLayer=null,this._isAdapting=!0,this.commandMap.clear()}}(function(S){S.STATE_CHANGE="stateChange",S.MEDIA_STREAM_ADDED="mediaStreamAdded",S.MEDIA_STREAM_REMOVED="mediaStreamRemoved",S.MEDIA_STREAM_MUTE_CHANGED="mediaStreamMuteChanged",S.ERROR="error"})(ef||(ef={})),function(S){S.SUBSCRIPTION_STATE_CHANGE="subscriptionStateChange",S.MEDIA_STREAM_SEI_MESSAGE_RECEIVED="mediaStreamSeiMessageReceived"}(Ng||(Ng={}));const Oi=Object.assign(Object.assign({},ef),Ng);var nf;(function(S){S.PUBLICATION_STATE_CHANGE="publicationStateChange"})(nf||(nf={}));const xa=Object.assign(Object.assign({},ef),nf);var $w=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class vs extends Rg{constructor(f,g,b,T,O,N,M,L=!1){super(f,new mo(T,kn.REMOTE_PARTICIPANT)),this.subscribeState=ci.NOT_SUBSCRIBED,this.reassigning=!1,this.streams=[],this.left=!1,this.onSubscriptionStateChange=A=>{this.logger.debug({msg:"subscriptionStateChange",state:A}),A===Zn.DISCONNECTED?this.updateSubscriptionState(ci.NOT_SUBSCRIBED):A===Zn.CONNECTED?this.updateSubscriptionState(ci.SUBSCRIBED):A===Zn.CONNECTING?this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE):A===Zn.ERRORED?this.updateSubscriptionState(ci.ERRORED):this.logger.warn({msg:"FIXME onSubscriptionStateChange UNHANDLED STATE",state:A})},this.onSubscriptionMediaStream=(A,F)=>{this.logger.debug({msg:"onSubscriptionMediaStream",stream:A});let B=A.getTracks().map(W=>{const ie=new Jh({track:W,info:this.info,getStats:this.subscription.requestRTCStats,remotePlaybackController:F,analyticsTracker:this.analyticsTracker,token:this.token});return this.streams.push(ie),ie});this.subscription.getDesiredSubscribeType()===ki.AUDIO_ONLY&&(B=B.filter(W=>W.streamType!==me.VIDEO)),this.emit(Oi.MEDIA_STREAM_ADDED,B)},this.onSubscriptionError=A=>{this.emit(Oi.ERROR,A)},this.onSubscriptionSeiMessageReceived=A=>{this.emit(Oi.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,A)},this.onSubscriptionTransformError=A=>{this.emit(Oi.ERROR,A)},this.onSubscriptionReassignmentStart=()=>{for(const A of this.streams)A.pauseControls()},this.onSubscriptionReassignmentDone=()=>{for(const A of this.streams)A.resumeControls()},this.updateSubscribeStateIfNecessary=(A,F)=>{if(!this.info.capabilities.has(ba.SUBSCRIBE))return;F!==void 0&&this.subscription.updateSubscribeConfig(F);const B=A!==ki.NONE&&this.publishState===Or.PUBLISHED,W=this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscribeState!==ci.ERRORED;if(B&&!W)this.subscription.updateDesiredSubscribeType(A),this.subscribe();else if(!B&&W)this.unsubscribe(),this.subscription.updateDesiredSubscribeType(A);else if(this.subscribeState===ci.SUBSCRIBED&&this.subscription.getDesiredSubscribeType()!==A)try{A===ki.AUDIO_ONLY?this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams.filter(ie=>ie.streamType===me.VIDEO)):A===ki.AUDIO_VIDEO&&this.emit(Oi.MEDIA_STREAM_ADDED,this.streams.filter(ie=>ie.streamType===me.VIDEO)),this.subscription.updateDesiredSubscribeType(A)}catch(ie){this.logger.error({err:ie,msg:"error updating subscribe type"})}},this.updatePublishState=A=>{const F=A&&this.publishState===Or.PUBLISHED,B=!A&&this.publishState===Or.NOT_PUBLISHED;return!F&&!B&&(this.info.isPublishing=A,this.publishState=A?Or.PUBLISHED:Or.NOT_PUBLISHED,!0)},this.updateStreamState=(A,F)=>{this.audioMuted!==A&&(this.audioMuted=A,this.info.audioMuted=A,this.updateStreamMuteState(me.AUDIO,A)),this.videoStopped!==F&&(this.videoStopped=F,this.info.videoStopped=F,this.updateStreamMuteState(me.VIDEO,F))},this.updateStreamMuteState=(A,F)=>{const B=this.streams.find(W=>W.streamType===A);B?(B.setMuted(F),this.emit(Oi.MEDIA_STREAM_MUTE_CHANGED,B)):this.logger.warn({msg:`tried to update mute state for ${A} stream on participant ${this.info.id} that didn't exist`})},this.cleanup=()=>{for(const A of this.streams)A.remote.removeAllListeners(),A.removeAllListeners();this.removeAllListeners()},this.quickUnsubscribe=()=>this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscription.stop(!0),this.getDesiredSubscribeType=()=>this.subscription.getDesiredSubscribeType(),this.isReassigning=()=>this.reassigning,this.analyticsTracker=M,this.token=g,this.createSubscription=()=>{const A=new wg(f.id,g,b,T,M,O,N);return A.on(Vl,this.onSubscriptionStateChange),A.on(Ji,this.onSubscriptionMediaStream),A.on(yn,this.onSubscriptionError),A.on(qa,this.onSubscriptionSeiMessageReceived),A.on(as,this.onSubscriptionTransformError),A.on(Us,this.onSubscriptionReassignmentStart),A.on(Ka,this.onSubscriptionReassignmentDone),A.on(Uo,this.onSubscriptionReassignmentDone),A},this.subscription=this.createSubscription(),L&&(this.publishState=Or.PUBLISHED)}updateSubscriptionState(f){f!==this.subscribeState&&(this.subscribeState=f,this.emit(Oi.SUBSCRIPTION_STATE_CHANGE,this.subscribeState))}participantLeave(){this.left=!0}subscribe(){this.left?this.logger.warn({msg:"tried to subscribe to a participant that left"}):(this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE),this.logger.debug({msg:"subscribe"}),this.subscription.start())}unsubscribe(){if(this.subscribeState===ci.NOT_SUBSCRIBED)return;this.logger.debug({msg:"unsubscribe"}),this.subscription.stop(),this.subscription.off(Vl,this.onSubscriptionStateChange),this.subscription.off(Ji,this.onSubscriptionMediaStream),this.subscription.off(yn,this.onSubscriptionError),this.subscription.off(as,this.onSubscriptionTransformError);const f=this.getDesiredSubscribeType();this.subscription=this.createSubscription(),f===ki.AUDIO_ONLY?this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams.filter(g=>g.streamType===me.AUDIO)):this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams),this.updateSubscriptionState(ci.NOT_SUBSCRIBED),this.streams.forEach(g=>{g.cleanup()}),this.streams=[]}triggerIceRestart(f){return $w(this,void 0,void 0,function*(){this.reassigning=!0;try{yield this.subscription.triggerIceRestart(f)}finally{this.reassigning=!1}})}}const O0=Ge.PUBLISH;function P0(S,f,g){return new en(Object.assign(Object.assign({},S),{token:f,traceId:g,location:"stage-publication.sendSeiMessage",tag:Ad,action:Ge.PUBLISH}))}class Vc{constructor(f,g){this.analyticsTracker=f,this.token=g,this.action=O0,this.traceId=Xi()}trackPublish(f){const{action:g,traceId:b,analyticsTracker:T,token:O}=this;return T.trackEvent(new f0({token:O,traceId:b})),{getTraceId:()=>b,trackPublishStarted({totalDurationWithRetries:N,retryTimes:M,sfuResource:L,peerClientPerfStats:A}){const{optionsDuration:F,postDuration:B,timeToCandidate:W,timeToConnected:ie,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae}=A,{edpInitialConnectDuration:oe,edpInitialConnectRetries:we,edpInitialStateDuration:ze,edpStateUpdateCount:st}=f;T.trackEvent(new p0({token:O,traceId:b,optionsDuration:F,postDuration:B,timeToCandidate:W,totalDuration:ie,edpInitialConnectDuration:oe,edpInitialConnectRetries:we,edpInitialStateDuration:ze,edpStateUpdateCount:st,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae,publishRetries:M,totalDurationWithRetries:N,sfuResource:L}))},trackPublishFailed(N){const M=((A,F,B)=>{if(A instanceof en)return A;let W="";return A instanceof gr.AxiosError&&(W+=`AxiosError - ${A.code}`),new en(Object.assign(Object.assign(Object.assign({},Ae.PUBLISH_FAILURE),{action:O0,token:F,traceId:B,tag:Ad,location:"publish",details:`${W} ${A.message}`}),{fatal:!0}))})(N,O,b);T.trackEvent(new m0({token:O,traceId:b,code:M.code,message:M.message,fatal:M.fatal,nominal:M.nominal}));const L=new en(Object.assign(Object.assign({},Ae.PUBLISH_FAILURE),{action:g,token:O,traceId:b,tag:Ad,location:"publish"}));return N instanceof en&&(L.fatal=N.fatal,L.nominal=N.nominal,L.location=`publish > ${N.location}`),T.trackError(L),M},trackUnpublish:()=>{T.trackEvent(new h0({token:O,traceId:b}))},trackEndSucceeded:N=>{T.trackEvent(new Wd({token:O,isUnpublishSuccessful:!0,traceId:b,reason:N}))},trackEndFailed:N=>{const M=new en(Object.assign(Object.assign({},Ae.UNPUBLISH_FAILURE),{token:O,traceId:b,tag:Rw,location:"unpublish"}));return N!==Si.UNLOAD&&N!==Si.UNPUBLISH||this.analyticsTracker.trackError(M),T.trackEvent(new Wd({token:O,isUnpublishSuccessful:!1,traceId:b,reason:N})),M},createSeiNotPublishingVideoError:()=>P0(Ae.SEI_INSERT_NOT_PUBLISHING_VIDEO,O,b),createSeiInBandMessagingNotEnabledError:()=>P0(Ae.SEI_INSERT_INBAND_NOT_ENABLED,O,b)}}}var ft,eo,Lr=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};(function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"})(ft||(ft={})),function(S){S.STATE_CHANGE="stateChange",S.ERROR="error",S.TRANSFORM_ERROR="transformError"}(eo||(eo={}));class Fr extends yo{constructor(f,g,b,T){super(),this.token=f,this.stageConnection=g,this.nonScopedLogger=b,this.analyticsTracker=T,this.tracksToPublish=[],this.publicationState=ft.DISCONNECTED,this.latestPubAttemptNum=0,this.startConnectingTimestamp=-1,this.action=Ge.PUBLISH,this.start=O=>{this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED?(this.tracksToPublish=O,this.latestPubAttemptNum=0,this.processStateUpdate()):this.logger.warn({msg:"publication cannot be started if not in disconnected or error state"})},this.requestRTCStats=O=>Lr(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(O)}),this.stop=(O=!1)=>Lr(this,void 0,void 0,function*(){this.peerClient.off(go,this.onPeerClientConnectionStateChange,this),this.peerClient.off(Ic,this.onPeerClientTransformError,this),yield this.unpublish(O),this.updateState(ft.DISCONNECTED)}),this.processStateUpdate=O=>{const{publicationState:N}=this;N===ft.DISCONNECTED||N===ft.ERRORED?this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()):N===ft.CONNECTING?O===gt.CONNECTED&&this.updateState(ft.CONNECTED):N===ft.CONNECTED&&O===gt.FAILED&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(Si.CONNECTION_FAIL),this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()))},this.updateState=O=>{this.publicationState=O,this.emit(eo.STATE_CHANGE,O)},this.tryPublish=()=>Lr(this,void 0,void 0,function*(){if(this.latestPubAttemptNum++,this.latestPubAttemptNum<=4){const O=this.stageConnection.getConnectionStats();this.attemptTracker=this.publishTracker.trackPublish(O);try{this.logger.debug({msg:`attempting to publish, attemptNum: ${this.latestPubAttemptNum}`}),yield this.publish(this.tracksToPublish,this.attemptTracker.getTraceId()),this.logger.debug({msg:"publish succeeded!"});const N=this.peerClient.getSfuResource(),M=this.latestPubAttemptNum-1,L=performance.now()-this.startConnectingTimestamp,A=this.peerClient.getActionMeasurements();this.attemptTracker.trackPublishStarted({sfuResource:N,totalDurationWithRetries:L,retryTimes:M,peerClientPerfStats:A}),this.latestPubAttemptNum=0}catch(N){this.logger.error({msg:"publish failed!",err:N});const M=this.attemptTracker.trackPublishFailed(N),L=M.code===Ae.OPERATION_ABORTED.code,A=M.fatal,F=this.latestPubAttemptNum===4;if(L)return;if(A||F)return this.logger.error({msg:`Stopping attempts: isFatal=${A}, isLastAttempt=${F}`,err:N}),this.updateState(ft.ERRORED),void this.emit(eo.ERROR,M);const B=1e3*Math.pow(2,this.latestPubAttemptNum);this.logger.debug({msg:`attempt failed, retrying in ${B}ms`}),this.nextAttemptTimerId=window.setTimeout(()=>{this.tryPublish()},B)}}}),this.publish=(O,N)=>Lr(this,void 0,void 0,function*(){this.peerClient.initTracksToPublish(O),yield this.peerClient.connect({audioOnly:!1,traceId:N})}),this.unpublish=(O=!1)=>Lr(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED||!this.attemptTracker)return;this.attemptTracker.trackUnpublish();const N=O?Si.UNLOAD:Si.UNPUBLISH;try{O?this.peerClient.disconnect(O):yield this.peerClient.disconnect(O),this.attemptTracker.trackEndSucceeded(N)}catch{this.attemptTracker.trackEndFailed(N)}}),this.replaceOrUpdateTrack=O=>Lr(this,void 0,void 0,function*(){this.tracksToPublish.find(N=>N.track.kind===O.track.kind)?this.tracksToPublish=this.tracksToPublish.map(N=>N.track.kind===O.track.kind?O:N):this.tracksToPublish.push(O),yield this.peerClient.replaceOrUpdateTrack(O)}),this.onPeerClientConnectionStateChange=O=>{this.logger.debug({msg:`onPeerClientConnectionStateChange: ${O}`,state:O}),this.processStateUpdate(O)},this.onPeerClientTransformError=O=>{this.emit(eo.TRANSFORM_ERROR,O)},this.onIncompatibleCodecs=O=>Lr(this,void 0,void 0,function*(){yield this.peerClient.onIncompatibleCodecs(O)}),this.sendSeiMessage=(O,N)=>{if(this.publicationState!==ft.CONNECTED)return this.attemptTracker&&this.emit(eo.ERROR,this.attemptTracker.createSeiNotPublishingVideoError()),ot.err(Ri.NOT_PUBLISHING_VIDEO);const M=this.peerClient.sendSeiMessage(O,N),L=ot.getErr(M);return L&&this.attemptTracker&&(L===Ri.INBAND_MESSAGING_NOT_ENABLED?this.emit(eo.ERROR,this.attemptTracker.createSeiInBandMessagingNotEnabledError()):L===Ri.NOT_PUBLISHING_VIDEO&&this.emit(eo.ERROR,this.attemptTracker.createSeiNotPublishingVideoError())),M},this.peerClient=new hs(f,this.nonScopedLogger,this.action,Jr(this.action),Xi(),this.analyticsTracker,void 0,g,void 0),this.logger=new mo(b,kn.PUBLICATION),this.peerClient.on(go,this.onPeerClientConnectionStateChange,this),this.peerClient.on(Ic,this.onPeerClientTransformError,this),this.publishTracker=new Vc(this.analyticsTracker,this.token)}removeTrack(f){return Lr(this,void 0,void 0,function*(){this.tracksToPublish=this.tracksToPublish.filter(g=>g.track.kind!==f),yield this.peerClient.removeTrack(f)})}}var An,N0=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ig extends Rg{constructor(f,g,b,T,O){super(f,new mo(b,kn.LOCAL_PARTICIPANT)),this.onPublicationStateChange=N=>{switch(this.logger.debug({msg:"publicationStateChange",state:N}),N){case"connected":this.connection.setStagePublishing(!0),this.updatePublishState(Or.PUBLISHED);break;case"connecting":this.updatePublishState(Or.ATTEMPTING_PUBLISH);break;case"errored":this.updatePublishState(Or.ERRORED),this.connection.setStagePublishing(!1);break;default:return void this.logger.warn({msg:"FIXME onPublicationStateChange UNHANDLED STATE",state:N})}},this.onPublicationError=N=>{this.emit(xa.ERROR,N)},this.updatePublishState=N=>{this.info.isPublishing=N===Or.PUBLISHED,this.publishState=N,this.emit(xa.PUBLICATION_STATE_CHANGE,this.publishState)},this.handleMute=N=>{N.streamType===me.AUDIO&&(this.audioMuted=N.isMuted,this.info.audioMuted=N.isMuted),N.streamType===me.VIDEO&&(this.videoStopped=N.isMuted,this.info.videoStopped=N.isMuted),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.emit(xa.MEDIA_STREAM_MUTE_CHANGED,N)},this.handleInsertSeiMsgRequest=(N,M,L)=>{this.sendSeiMessage(M,L==null?void 0:L.repeatCount)},this.publish=N=>{this.logger.debug({msg:"publish"}),N.forEach(L=>{L&&(this.setupStreamListener(L),L.streamType===me.AUDIO?(this.audioStream=L,this.audioMuted=!L.mediaStreamTrack.enabled,this.info.audioMuted=this.audioMuted):L.streamType===me.VIDEO&&(this.videoStream=L,this.videoStream.on(gs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleInsertSeiMsgRequest),this.videoStopped=!L.mediaStreamTrack.enabled,this.info.videoStopped=this.videoStopped),L.setGetStats(this.publication.requestRTCStats))}),this.connection.emitStageState(this.audioMuted,this.videoStopped);const M=N.map(L=>w0(L.mediaStreamTrack,L.mediaConfig));this.publication.start(M)},this.cleanup=()=>this.removeAllListeners(),this.quickUnpublish=()=>this.publishState!==Or.NOT_PUBLISHED&&this.publishState!==Or.ERRORED&&void this.publication.stop(!0),this.onIncompatibleCodecs=N=>N0(this,void 0,void 0,function*(){yield this.publication.onIncompatibleCodecs(N)}),this.sendSeiMessage=(N,M=0)=>this.publication.sendSeiMessage(N,M),this.sendSeiMessageString=(N,M=0)=>{const L=new TextEncoder().encode(N);return this.publication.sendSeiMessage(L,M)},this.connection=T,this.createPublication=()=>{const N=new Fr(g,T,b,O);return N.on(eo.STATE_CHANGE,this.onPublicationStateChange),N.on(eo.ERROR,this.onPublicationError),N.on(eo.TRANSFORM_ERROR,this.onPublicationError),N},this.publication=this.createPublication()}setupStreamListener(f){f.on(gs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute)}removeTrack(f){var g,b,T;f.streamType===me.AUDIO?((g=this.audioStream)===null||g===void 0||g.off(gs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.audioStream=void 0,this.audioMuted=!0,this.info.audioMuted=!0):f.streamType===me.VIDEO&&((b=this.videoStream)===null||b===void 0||b.off(gs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),(T=this.videoStream)===null||T===void 0||T.off(gs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleMute),this.videoStream=void 0,this.videoStopped=!0,this.info.videoStopped=!0),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.publication.removeTrack(f.streamType)}replaceOrAddTrack(f){return N0(this,void 0,void 0,function*(){this.setupStreamListener(f),f.setGetStats(this.publication.requestRTCStats),f.streamType===me.AUDIO?(this.audioStream=f,this.audioMuted=!f.mediaStreamTrack.enabled):f.streamType===me.VIDEO&&(this.videoStream=f,this.videoStopped=!f.mediaStreamTrack.enabled),this.connection.emitStageState(this.audioMuted,this.videoStopped);const g=w0(f.mediaStreamTrack,f.mediaConfig);yield this.publication.replaceOrUpdateTrack(g)})}unpublish(){if(this.publishState===Or.NOT_PUBLISHED||this.publishState===Or.ERRORED)return;this.logger.debug({msg:"unpublish"}),this.connection.setStagePublishing(!1),this.publication.stop(),this.publication.off(eo.STATE_CHANGE,this.onPublicationStateChange),this.publication.off(eo.ERROR,this.onPublicationError),this.publication.off(eo.TRANSFORM_ERROR,this.onPublicationError);const f=[this.audioStream,this.videoStream].filter(g=>!!g);f.forEach(g=>{g.cleanup()}),this.audioStream=void 0,this.videoStream=void 0,this.emit(xa.MEDIA_STREAM_REMOVED,f),this.updatePublishState(Or.NOT_PUBLISHED),this.publication=this.createPublication()}}(function(S){S.STAGE_CONNECTION_STATE_CHANGED="stageConnectionStateChanged",S.STAGE_PARTICIPANT_JOINED="stageParticipantJoined",S.STAGE_PARTICIPANT_LEFT="stageParticipantLeft",S.STAGE_PARTICIPANT_STREAMS_ADDED="stageParticipantStreamsAdded",S.STAGE_PARTICIPANT_STREAMS_REMOVED="stageParticipantStreamsRemoved",S.STAGE_STREAM_MUTE_CHANGED="stageStreamMuteChanged",S.STAGE_STREAM_SEI_MESSAGE_RECEIVED="stageStreamSeiMessageReceived",S.STAGE_STREAM_LAYERS_CHANGED="stageStreamLayersChanged",S.STAGE_STREAM_LAYER_SELECTED="stageStreamLayerSelected",S.STAGE_STREAM_ADAPTION_CHANGED="stageStreamAdaptionChanged",S.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED="stageParticipantSubscribeStateChanged",S.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED="stageParticipantPublishStateChanged",S.ERROR="error",S.STAGE_LEFT="stageLeft"})(An||(An={}));var _o=function(S,f,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Ag=S=>!!S;class Zh extends yo{constructor(f,g){super(),this.connectionState=Wn.DISCONNECTED,this.participants=new Map,this.connectionStateErrored=!1,this.onConnectionStateChanged=(T,O)=>{var N,M;if(this.connectionState=T,T===Wn.ERRORED&&(this.connectionStateErrored=!0),T===Wn.CONNECTED&&this.localParticipant&&this.localParticipant.publishState!==Or.NOT_PUBLISHED&&this.stageConnection.emitStageState((N=this.localParticipant)===null||N===void 0?void 0:N.audioMuted,(M=this.localParticipant)===null||M===void 0?void 0:M.videoStopped),T===Wn.CONNECTED&&this.connectionStateErrored&&(this.connectionStateErrored=!1,this.refreshStrategy()),T===Wn.DISCONNECTED){if(O&&O!==ai.CLIENT_RECONNECT&&O!==ai.USER_INITIATED){let L=qn.UNKNOWN;(function(A){return Object.values(qn).includes(A)})(O)?L=O:this.logger.warn({msg:`DISCONNECTED reason is not a StageLeftReason: ${O}`}),this.cleanup(L)}}else this.emit(An.STAGE_CONNECTION_STATE_CHANGED,this.connectionState)},this.setupLocalParticipantOnce=()=>{var T;this.localParticipant?this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,(T=this.joinTraceId)!==null&&T!==void 0?T:new Zy,"reusing local participant from repeat join",Ge.JOIN,"")):this.createLocalParticipant()},this.createLocalParticipant=()=>{const T=function(O){var N,M;const L=new Set;return O.token.claims.capabilities.allow_publish&&L.add(ba.PUBLISH),O.token.claims.capabilities.allow_subscribe&&L.add(ba.SUBSCRIBE),{id:O.token.participantID,userId:(N=O.token.userID)!==null&&N!==void 0?N:"",attributes:(M=O.token.claims.attributes)!==null&&M!==void 0?M:{},capabilities:L,isLocal:!0,userInfo:{},videoStopped:O.videoStopped,audioMuted:O.audioMuted,isPublishing:O.isPublishing}}({token:this.token,videoStopped:!0,audioMuted:!0,isPublishing:!1});this.localParticipant=new Ig(T,this.token,this.logger.unwrap(),this.stageConnection,this.analyticsTracker),this.localParticipant.on(xa.PUBLICATION_STATE_CHANGE,O=>{this.onPublishStateChanged(this.localParticipant.info,O)}),this.localParticipant.on(xa.MEDIA_STREAM_REMOVED,this.onLocalStreamsRemoved),this.localParticipant.on(xa.MEDIA_STREAM_MUTE_CHANGED,O=>{this.localParticipant?this.onStreamMuteChange(this.localParticipant.info,O):this.logger.warn({msg:"tried to emit a stream mute change event for undefined local participant"})}),this.localParticipant.on(xa.ERROR,O=>{this.errorManager.handleError(O,ya.PUBLISH_ERROR)}),this.emit(An.STAGE_PARTICIPANT_JOINED,T)},this.onRemoteParticipantJoined=T=>{var O;if(T.id!==((O=this.localParticipant)===null||O===void 0?void 0:O.info.id)){const N=function(F){return{id:F.id,userId:F.userId,attributes:F.attributes,capabilities:new Set([ba.SUBSCRIBE]),isLocal:!1,userInfo:{},videoStopped:F.videoStopped,audioMuted:F.audioMuted,isPublishing:F.isPublishing}}(T);if(this.participants.has(N.id))return void this.logger.warn({msg:"Remote participant already tracked"});let M=ki.NONE;N.capabilities.has(ba.SUBSCRIBE)&&(M=ot.getOk_or(this.strategyWrapper.shouldSubscribeToParticipant(N),M),this.updateManagerWithExternalSubscribeConfig(N,"joined"));const L=this.configManager.getSubscribeConfigSnapshot(N.id),A=new vs(N,this.token,this.stageConnection,this.logger.unwrap(),M,L,this.analyticsTracker,T.isPublishing);this.participants.set(N.id,A),this.setupRemoteParticipantListeners(A),this.emit(An.STAGE_PARTICIPANT_JOINED,A.info),A.updateSubscribeStateIfNecessary(M)}},this.setupRemoteParticipantListeners=T=>{T.on(Oi.SUBSCRIPTION_STATE_CHANGE,O=>{this.onParticipantSubscribeStateChanged(T.info.id,O)}),T.on(Oi.MEDIA_STREAM_ADDED,O=>{const N=this.participants.get(T.info.id);if(N){for(const M of O)this.setupRemoteParticipantStreamEvents(N.info,M);this.emit(An.STAGE_PARTICIPANT_STREAMS_ADDED,N.info,kg(O)),this.updateStreamLayerForParticipant(T)}else this.logger.warn({msg:"Got stream add for participant no longer being tracked"})}),T.on(Oi.MEDIA_STREAM_REMOVED,O=>{const N=this.participants.get(T.info.id);N?this.emit(An.STAGE_PARTICIPANT_STREAMS_REMOVED,N.info,kg(O)):this.logger.warn({msg:"Got stream remove for participant no longer being tracked"})}),T.on(Oi.MEDIA_STREAM_MUTE_CHANGED,O=>{this.onStreamMuteChange(T.info,O.remote)}),T.on(Oi.ERROR,O=>{this.errorManager.handleError(O,ya.SUBSCRIBE_ERROR)}),T.on(Oi.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,O=>{this.onSeiMessageReceived(T.info,O)})},this.onRemoteParticipantLeft=T=>{if(this.connectionState!==Wn.CONNECTED)return;const O=this.participants.get(T);O?(O.participantLeave(),O.unsubscribe(),O.cleanup(),this.participants.delete(T),this.emitParticipantLeave(O.info)):this.logger.warn({msg:"Remote participant no longer tracked"})},this.emitParticipantLeave=T=>{this.emit(An.STAGE_PARTICIPANT_LEFT,T)},this.onRemoteParticipantStateChanged=T=>{const O=this.participants.get(T.id);if(!O)return void this.logger.warn({msg:"Remote participant updated but not tracked"});O.updatePublishState(T.isPublishing)&&this.onPublishStateChanged(O.info,O.publishState),O.updateStreamState(T.audioMuted,T.videoStopped);const N=this.strategyWrapper.shouldSubscribeToParticipant(O.info);if(ot.isNotOk(N))return;this.updateManagerWithExternalSubscribeConfig(O.info,"updated");const M=this.configManager.getSubscribeConfigSnapshot(O.info.id),L=ot.getOk_or(N,ki.NONE);O.updateSubscribeStateIfNecessary(L,M)},this.onPublishStateChanged=(T,O)=>{this.emit(An.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,T,O)},this.onParticipantSubscribeStateChanged=(T,O)=>{const N=this.participants.get(T);N?this.emit(An.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED,N.info,O):this.logger.warn({msg:"Remote participant subscribe state changed but not tracked"})},this.onLocalStreamsAdded=T=>{this.localParticipant&&this.emit(An.STAGE_PARTICIPANT_STREAMS_ADDED,this.localParticipant.info,T)},this.onLocalStreamsRemoved=T=>{this.localParticipant&&this.emit(An.STAGE_PARTICIPANT_STREAMS_REMOVED,this.localParticipant.info,T)},this.onStreamMuteChange=(T,O)=>{this.emit(An.STAGE_STREAM_MUTE_CHANGED,T,O)},this.onSeiMessageReceived=(T,O)=>{this.emit(An.STAGE_STREAM_SEI_MESSAGE_RECEIVED,T,O)},this.leave=()=>{this.cleanup(qn.USER_INITIATED)},this.onBeforeUnloadCleanup=()=>{var T;this.participants.forEach(O=>{O.quickUnsubscribe()}),(T=this.localParticipant)===null||T===void 0||T.quickUnpublish(),this.stageConnection.disconnect(),this.emit(An.STAGE_CONNECTION_STATE_CHANGED,Wn.DISCONNECTED),this.analyticsTracker.stop(!0)},this.cleanup=T=>{if(!this.localParticipant)return;this.analyticsTracker.trackEventNoSharedProps(new kh({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId,reason:T})),this.localParticipant.unpublish(),this.localParticipant.cleanup();const O=this.localParticipant.info;this.localParticipant=void 0,this.emitParticipantLeave(O);const N=this.participants.entries();for(const[M,L]of N)L.unsubscribe(),this.participants.delete(M),L.cleanup(),this.emitParticipantLeave(L.info);Jl.destroy(),this.stageConnection.disconnect(),this.emit(An.STAGE_CONNECTION_STATE_CHANGED,Wn.DISCONNECTED),this.emit(An.STAGE_LEFT,T),this.stageConnection.removeAllListeners(),this.stageConnection=new Hh(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners(),this.analyticsTracker.stop(!1),window.removeEventListener("beforeunload",this.onBeforeUnloadCleanup)},this.refreshStrategy=()=>{this.participants.forEach(T=>{if(T.info.capabilities.has(ba.SUBSCRIBE)){const O=this.strategyWrapper.shouldSubscribeToParticipant(T.info);if(ot.isNotOk(O))return;const N=ot.getOk_or(O,ki.NONE);this.updateManagerWithExternalSubscribeConfig(T.info,"updated");const M=this.configManager.getSubscribeConfigSnapshot(T.info.id);T.updateSubscribeStateIfNecessary(N,M),this.updateStreamLayerForParticipant(T)}}),this.updateStreamsToPublishIfNecessary()},this.updateStreamsToPublishIfNecessary=()=>{var T;if(!this.localParticipant||!(!((T=this.localParticipant)===null||T===void 0)&&T.info.capabilities.has(ba.PUBLISH)))return;const O=this.localParticipant.publishState!==Or.NOT_PUBLISHED&&this.localParticipant.publishState!==Or.ERRORED,N=this.strategyWrapper.shouldPublishParticipant(this.localParticipant.info);if(ot.isNotOk(N))return;let M=ot.getOk_or(N,!1);if(!O&&!M)return;if(O&&!M)return void this.localParticipant.unpublish();const L=this.strategyWrapper.stageStreamsToPublish();if(ot.isNotOk(L)){const F=ot.getErr(L);if(F instanceof Error&&F.cause==="UserStrategy")throw F;return}const A=ot.getOk_or(L,[]);M=M&&A.length>0,!O&&M?(this.localParticipant.publish(A),this.onLocalStreamsAdded(A)):this.syncTracksToPublish(A)},this.syncTracksToPublish=T=>{var O;if(!this.localParticipant)return;const N=this.localParticipant.audioStream,M=this.localParticipant.videoStream,{updates:L,streamsToAdd:A,streamsToRemove:F}=this.determineStreamUpdates(N,M,T);if(L.length){for(const B of L)B.newStream?(O=this.localParticipant)===null||O===void 0||O.replaceOrAddTrack(B.newStream):B.oldStream&&this.localParticipant.removeTrack(B.oldStream);F.length!==0&&this.onLocalStreamsRemoved(F),A.length!==0&&this.onLocalStreamsAdded(A)}},this.determineStreamUpdates=(T,O,N=[])=>{const M=[],L=N.slice(0,2);if(L.sort((B,W)=>B.streamType===me.AUDIO?-1:1),L.length===0)T&&M.push({oldStream:T}),O&&M.push({oldStream:O});else if(L.length===1){const B=L[0];B.streamType===me.AUDIO?O&&M.push({oldStream:O}):B.streamType===me.VIDEO&&T&&M.push({oldStream:T})}L.forEach(B=>{var W,ie;B.streamType===me.AUDIO?T?T.id===B.id&&(0,wr.isEqual)(T.mediaConfig,B.mediaConfig)||(!!(!((W=T.mediaConfig)===null||W===void 0)&&W.stereo)!=!!(!((ie=B.mediaConfig)===null||ie===void 0)&&ie.stereo)&&this.logger.warn({msg:"Ignoring change to audio stream's stereo configuration. Re-publish to change stereo configuraiton."}),M.push({oldStream:T,newStream:B})):M.push({newStream:B}):B.streamType===me.VIDEO&&(O?O.id===B.id&&(0,wr.isEqual)(O.mediaConfig,B.mediaConfig)||M.push({oldStream:O,newStream:B}):M.push({newStream:B}))});const A=M.map(B=>B.newStream).filter(Ag),F=M.map(B=>B.oldStream).filter(Ag);return{updates:M,streamsToAdd:A,streamsToRemove:F}},this.onReassignmentMessage=T=>_o(this,void 0,void 0,function*(){if($a("disableReassignments"))return void this.logger.debug({msg:"REASSIGN message ignored: disableReassignments is configured"});if(!Bd.browser.isChrome())return void this.logger.debug({msg:"REASSIGN message ignored: browser is not chrome"});const O=Xi();this.trackReassignmentRequest(T,O);const N=this.participants.get(T.remoteParticipantId),M=this.token.participantID,L=function(A,{localParticipantId:F,remoteParticipant:B}){const{participantId:W}=A;if(F!==W)return ot.err(Object.assign(Object.assign({},Ae.REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID),{details:`Invalid participantId received: ${W}`}));if(!B)return ot.err(Object.assign(Object.assign({},Ae.REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID),{details:`Invalid remoteParticipantId received: ${B}`}));if(B.isReassigning())return ot.err(Ae.REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS);const ie=B.subscription.peerClient.getConnectionState();return[gt.CONNECTED,gt.DISCONNECTED].includes(ie)?ot.ok(B):ot.err(Object.assign(Object.assign({},Ae.REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE),{details:`connectionState: ${ie}`}))}(T,{localParticipantId:M,remoteParticipant:N});if(!L.ok)this.trackReassignmentRequestRejected(L.error,O);else try{const{token:A,nodeOverride:F}=T;yield L.value.triggerIceRestart({assignmentToken:A,traceId:O,nodeOverride:F})}catch(A){this.logger.error({msg:"Reassignment failed.",err:A})}}),this.onIncompatibleCodecsMessage=T=>_o(this,void 0,void 0,function*(){var O;yield(O=this.localParticipant)===null||O===void 0?void 0:O.onIncompatibleCodecs(T.codecs)}),this.analyticsTracker=new Nc;const b=Nm();this.logger=new mo(new Lm(b),kn.STAGE),this.strategyWrapper=new Xh(g,this.logger),this.configManager=new R0({logger:this.logger.unwrap(),subscribeDefaults:{jitterBuffer:{minDelayWhenPublishing:_i.DEFAULT,minDelayWhenSubscribeOnly:_i.DEFAULT},inBandMessaging:{enabled:!1},simulcast:{initialLayerPreference:Gl.LOWEST_QUALITY}}}),this.errorManager=new Fw(this.logger.unwrap());try{this.token=bo(f,this.analyticsTracker)}catch(T){const O=new en(Object.assign({action:Ge.JOIN,token:f,traceId:Xi(),tag:Id,location:"Stage.constructor"},Ae.MALFORMED_TOKEN));throw T instanceof Error&&(O.details=T.message),this.errorManager.handleError(O,ya.JOIN_ERROR)||T}this.stageConnection=new Hh(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners()}setupListeners(){this.stageConnection.on(da,(f,g)=>{this.onConnectionStateChanged(f,g)}),this.stageConnection.on(Ph,f=>{this.onRemoteParticipantJoined(f)}),this.stageConnection.on(Nh,f=>{this.onRemoteParticipantLeft(f.id)}),this.stageConnection.on(Ih,f=>{var g;f.id!==((g=this.localParticipant)===null||g===void 0?void 0:g.info.id)&&this.onRemoteParticipantStateChanged(f)}),this.stageConnection.on(H,f=>_o(this,void 0,void 0,function*(){yield this.onReassignmentMessage(f)})),this.stageConnection.on(Dc,f=>_o(this,void 0,void 0,function*(){yield this.onIncompatibleCodecsMessage(f)})),this.stageConnection.on(zm,f=>{f instanceof en&&this.analyticsTracker.trackError(f),this.errorManager.handleError(f,ya.JOIN_ERROR)}),this.errorManager.on(Yh.ERROR,f=>{this.emit(An.ERROR,f)})}setupRemoteParticipantStreamEvents(f,g){const b=g.remote;g.on(ms.ADAPTION_CHANGED,T=>{this.emit(An.STAGE_STREAM_ADAPTION_CHANGED,f,b,T)}),g.on(ms.LAYERS_CHANGED,T=>{this.emit(An.STAGE_STREAM_LAYERS_CHANGED,f,b,T)}),g.on(ms.LAYER_SELECTED,(T,O)=>{this.emit(An.STAGE_STREAM_LAYER_SELECTED,f,b,T,O)}),g.layers.length>0&&(this.emit(An.STAGE_STREAM_LAYERS_CHANGED,f,b,b.getLayers()),this.emit(An.STAGE_STREAM_LAYER_SELECTED,f,b,b.getSelectedLayer(),nu.SELECTED))}join(){return _o(this,void 0,void 0,function*(){this.analyticsTracker.start(),this.joinTraceId=Xi(),this.analyticsTracker.trackEvent(new y0({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId}));try{this.token.assertTokenIsUnexpired(Xi(),Id,"join")}catch(f){throw this.errorManager.handleError(f,ya.JOIN_ERROR)||f}try{this.joinTraceId=yield this.stageConnection.connect(this.joinTraceId),this.connectionState===Wn.CONNECTED&&(this.setupLocalParticipantOnce(),this.updateStreamsToPublishIfNecessary()),window.addEventListener("beforeunload",this.onBeforeUnloadCleanup)}catch(f){throw this.logger.error({err:f,msg:"error joining stage"}),this.errorManager.handleError(f,ya.JOIN_ERROR,!1)||f}})}replaceStrategy(f){this.strategyWrapper.setStrategy(f),this.refreshStrategy()}updateManagerWithExternalSubscribeConfig(f,g){const b=ot.getOk(this.strategyWrapper.subscribeConfiguration(f));if(b===void 0)return;const T=f.id;if(this.configManager.handleExternalSubscribeConfigUpdate(T,b,Jd.API)){const O=this.configManager.getSubscribeConfigSnapshot(T);this.analyticsTracker.trackEventNoSharedProps(new Bo(this.token,this.joinTraceId,{trigger:g==="joined"?"initial":"ad-hoc",remote_participant_id:T,min_delay_when_publishing:$o(O.jitterBuffer.minDelayWhenPublishing,!0),min_delay_when_subscribe_only:$o(O.jitterBuffer.minDelayWhenSubscribeOnly,!1),in_band_messaging_enabled:O.inBandMessaging.enabled,simulcast_initial_layer_preference:O.simulcast.initialLayerPreference}))}}updateStreamLayerForParticipant(f){f.streams.forEach(g=>{if(g.streamType==="audio")return;const b=this.strategyWrapper.preferredLayerForStream(f.info,g.remote),T=ot.getOk_or(b,void 0);g.setLayer(T)})}trackReassignmentRequestRejected(f,g){const{token:b}=this,T=new en(Object.assign(Object.assign({},f),{token:b,action:Ge.JOIN,traceId:g,tag:jd,location:"publish"}));this.logger.error({err:T,msg:"Reassignment request rejected."}),this.analyticsTracker.trackError(T)}trackReassignmentRequest(f,g){const{token:b}=this;this.analyticsTracker.trackEvent(new Qh({token:b,traceId:g,targetLocalParticipantId:f.participantId,targetRemoteParticipantId:f.remoteParticipantId}))}}var qn;(function(S){S.UNKNOWN="unknown",S.USER_INITIATED="user-initiated",S.TOKEN_REUSED="token-reused",S.PARTICIPANT_DISCONNECTED="participant-disconnected",S.STAGE_DELETED="stage-deleted"})(qn||(qn={}));const Pr=p})(),o})())})(B4);var $4=B4.exports;const aae=Qf($4),cae=()=>{const{state:e}=Yu(),t=P.useRef(null),[n,r]=P.useState(null),[i,o]=P.useState(!1),[s,a]=P.useState(""),[c,l]=P.useState([]),{toast:h}=_l(),p=Sl(),m=P.useRef(null);P.useEffect(()=>{var I;const C=aae.create({streamConfig:$4.BASIC_LANDSCAPE,ingestEndpoint:`rtmps://${e==null?void 0:e.ingestUrl}/app/`});return r(C),t.current&&C.attachPreview(t.current),(I=navigator.mediaDevices)==null||I.enumerateDevices().then(j=>{var z,q;const U=j.filter(X=>X.kind==="videoinput"),$=j.filter(X=>X.kind==="audioinput");navigator.mediaDevices.getUserMedia({video:{deviceId:(z=U[0])==null?void 0:z.deviceId},audio:{deviceId:(q=$[0])==null?void 0:q.deviceId}}).then(X=>{C.addVideoInputDevice(X,"camera1",{index:0,width:1280,height:720,x:-200,y:0}),C.addAudioInputDevice(X,"mic1")}).catch(X=>console.error("Error accessing media devices:",X))}).catch(j=>console.error("Error enumerating devices:",j)),()=>{C.stopBroadcast()}},[]);const E=async()=>{try{const C=await or.post(kp+Y8(e==null?void 0:e._id),{},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});n&&(await n.startBroadcast(e==null?void 0:e.streamId),y(),o(!0)),h({title:"Toast Created",description:"The Live is Started successfully"})}catch(C){h({title:"Live error",description:C.response.data.error||"Something went wrong"})}},x=async()=>{try{const C=await or.post(kp+Q8,{},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});n&&(await n.stopBroadcast(),o(!1)),p("/dashboard/upcomingLive"),h({title:"Live Stopped",description:"Live stopped Successfully"})}catch(C){h({title:"Live error",description:C.response.data.error||"Something went wrong"})}},y=async()=>{const C=await or.post(kp+"/stream/get-chat-token",{chatRoomArn:e==null?void 0:e.chatRoomId,userId:"admin"}),{token:I}=C.data;m.current=new WebSocket("wss://edge.ivschat.ap-south-1.amazonaws.com",I),m.current.onmessage=j=>{const U=JSON.parse(j.data);l($=>[...$,U])}},w=()=>{if(m.current){const C={Action:"SEND_MESSAGE",SenderName:"Forhad",Content:s,attributes:{senderName:"Forhad"}};m.current.send(JSON.stringify(C)),a("")}},R=Yu(),_=()=>{x(),console.log("User is leaving the page or changing the route...")};return P.useEffect(()=>{const C=I=>{_(),I.preventDefault(),I.returnValue=""};return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C),_()}},[R]),u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"basis-2/3",children:[u.jsx("div",{className:"w-full h-[70vh]",children:u.jsx("canvas",{ref:t,className:"w-full h-full",style:{border:"2px solid black"}})}),i?u.jsx("button",{onClick:x,style:{padding:"10px",margin:"10px",backgroundColor:"red",color:"white"},children:"Stop Live"}):u.jsx("button",{onClick:E,style:{padding:"10px",margin:"10px",backgroundColor:"ButtonText",color:"white"},children:"Start Live"})]}),u.jsxs("div",{className:"basis-1/3",children:[u.jsx("div",{className:"h-[70vh] overflow-y-auto",children:c.map(C=>u.jsxs("div",{className:"flex flex-col md:flex-row gap-5 items-start md:items-center",children:[u.jsxs("p",{children:[C.Attributes.senderName,":"]}),u.jsx("p",{children:C.Content})]},C.Id))}),u.jsxs("div",{className:"flex gap-3 items-center p-4 bg-gray-100 rounded-lg",children:[u.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),className:"px-4 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type a message..."}),u.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition",children:"Send"})]})]})]})},lae=Pf({title:Dn().min(1,"Title is required"),standard:Dn().min(1,"Standard is required"),boardId:Dn().min(1,"Board is required"),courseId:Dn().min(1,"Course is required"),startDate:Dn().min(1,"Start date is required")}),uae=({isOpen:e,onClose:t,refetch:n=()=>{}})=>{const{standards:r,isLoading:i}=Nn(p=>p.standard),{board:o,isLoading:s}=Nn(p=>p.board),{courses:a}=Nn(p=>({courses:p.course.courses})),c=Yn();P.useEffect(()=>{c(Ap({page:1,search:""})),c(al()),c(If())},[]);const l=nh({resolver:Ay(lae),defaultValues:{title:"",standard:"",boardId:"",courseId:"",startDate:""},mode:"onChange"}),h=async p=>{console.log("Data submitted:",p);try{const m=await or.post(kp+K8,p,{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});n(),t()}catch(m){console.error("Error creating upcoming live:",m)}};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Live Details"}),u.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-gray-200 transition-colors",children:u.jsx(cd,{size:20})})]}),u.jsx(rh,{...l,children:u.jsxs("form",{onSubmit:l.handleSubmit(h),className:"space-y-6 p-10",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(Xt,{control:l.control,name:"title",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Live Tittle",...p})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:l.control,name:"startDate",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Start Date"}),u.jsx(vn,{children:u.jsx(sn,{type:"datetime-local",...p,value:p.value||""})}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:l.control,name:"courseId",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Course"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select standard",name:"courseId",control:l.control,onSearch:()=>{},listing:a==null?void 0:a.map(m=>({id:m==null?void 0:m._id,label:m==null?void 0:m.title})),onItemSelect:m=>{},value:p.value||""}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:l.control,name:"standard",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select standard",name:"standard",control:l.control,onSearch:()=>{},listing:r==null?void 0:r.map(m=>({id:m._id,label:m.std})),onItemSelect:m=>{},value:p.value||""}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:l.control,name:"boardId",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Board"}),s?u.jsx("div",{children:"Loading..."}):u.jsx(cl,{placeholder:"Select board",name:"boardId",control:l.control,onSearch:()=>{},listing:o==null?void 0:o.map(m=>({id:m._id,label:m.boardname})),onItemSelect:m=>{console.log("Selected board ID:",m)},value:p.value||""}),u.jsx(Ft,{})]})})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})})]})}):null};function dae(){const[e,t]=P.useState(!1),n=Sl(),[r,i]=P.useState([]);console.log(r,"UpcomingLives");const o=async()=>{try{const a=(await or.post(kp+q8,{upcomming:!0},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}})).data.data;i(a)}catch(s){console.error("Error fetching UpcomingLive:",s),i([])}};return P.useEffect(()=>{o()},[]),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upcoming Live"}),u.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Add Up Coming Live"})]}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Course"}),u.jsx(qe,{children:"Standard"}),u.jsx(qe,{children:"Board"}),u.jsx(qe,{children:"Stream Key"}),u.jsx(qe,{children:"Start Date"}),u.jsx(qe,{children:"Is Live"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:r.length>0?r==null?void 0:r.map(s=>{var a,c,l;return u.jsxs(Tn,{children:[u.jsx(Fe,{children:s==null?void 0:s.title}),u.jsx(Fe,{children:(a=s==null?void 0:s.courseId)==null?void 0:a.title}),u.jsx(Fe,{children:(c=s==null?void 0:s.standard)==null?void 0:c.std}),u.jsx(Fe,{children:(l=s==null?void 0:s.boardId)==null?void 0:l.boardname}),u.jsx(Fe,{children:s==null?void 0:s.streamId}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(s==null?void 0:s.startDate).toLocaleDateString()}),u.jsx("span",{children:new Date(s==null?void 0:s.startDate).toLocaleTimeString()})]})}),u.jsx(Fe,{children:s!=null&&s.isLive?"Yes":"No"}),u.jsx(Fe,{children:u.jsx("button",{onClick:()=>n(`/dashboard/live/${s==null?void 0:s._id}`,{state:s}),className:"px-2 py-1 bg-blue-600 text-white rounded-md text-sm",children:"Go Live"})})]},s==null?void 0:s._id)}):u.jsx(Tn,{children:u.jsx(Fe,{className:"text-center",children:"No Upcoming Live Streams"})})})]})}),u.jsx(uae,{isOpen:e,onClose:()=>t(!1),refetch:o})]})}const fae=({children:e})=>Gi.get("accessToken")?u.jsx(u.Fragment,{children:e}):u.jsx(gT,{to:"/login"}),hae=()=>{const e=Gi.get("accessToken");return u.jsxs(u.Fragment,{children:[u.jsx(BV,{children:u.jsxs(IV,{children:[u.jsx(Gr,{path:"/checkout",element:u.jsx(bse,{})}),u.jsx(Gr,{path:"/payment-status/:status",element:u.jsx(xse,{})}),u.jsx(Gr,{path:"/login",element:e?u.jsx(gT,{to:"/dashboard",replace:!0}):u.jsx(qH,{})}),u.jsxs(Gr,{path:"/dashboard",element:u.jsx(fae,{children:u.jsx(SK,{})}),children:[u.jsx(Gr,{index:!0,element:u.jsx("div",{className:"page-transition",children:u.jsx(sZ,{})})}),u.jsx(Gr,{path:"users",element:u.jsx(oJ,{})}),u.jsx(Gr,{path:"userDetails/:id",element:u.jsx(nae,{})}),u.jsx(Gr,{path:"quiz",element:u.jsx(ZJ,{})}),u.jsx(Gr,{path:"payments",element:u.jsx(rZ,{})}),u.jsx(Gr,{path:"transaction",element:u.jsx(sae,{})}),u.jsx(Gr,{path:"activity",element:u.jsx(use,{})}),u.jsx(Gr,{path:"standard",element:u.jsx(sse,{})}),u.jsx(Gr,{path:"subject",element:u.jsx(Use,{})}),u.jsx(Gr,{path:"board",element:u.jsx(ose,{})}),u.jsx(Gr,{path:"lesson",element:u.jsx(mee,{})}),u.jsx(Gr,{path:"course",element:u.jsx(bee,{})}),u.jsx(Gr,{path:"mentor",element:u.jsx(Rse,{})}),u.jsx(Gr,{path:"offer",element:u.jsx(Lse,{})}),u.jsx(Gr,{path:"live/:liveId",element:u.jsx(cae,{})}),u.jsx(Gr,{path:"upcomingLive",element:u.jsx(dae,{})})]}),u.jsx(Gr,{path:"*",element:u.jsx(gT,{to:"/dashboard",replace:!0})})]})}),u.jsx(W6,{})]})},pae=J9({reducer:{auth:xH,activity:lse,standard:VJ,subject:HJ,board:dee,course:cee,quiz:YJ,lesson:lZ,user:EK,payment:nZ,mentore:Tse,offer:Pse,userDetail:Xse,transaction:oae}}),mae=new U5;CD(document.getElementById("root")).render(u.jsx($5,{client:mae,children:u.jsx(VH,{store:pae,children:u.jsx(hae,{})})}))});export default gae();
