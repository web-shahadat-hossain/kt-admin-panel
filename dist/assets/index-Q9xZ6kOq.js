var V4=Object.defineProperty;var vO=e=>{throw TypeError(e)};var z4=(e,t,n)=>t in e?V4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ww=(e,t,n)=>z4(e,typeof t!="symbol"?t+"":t,n),Hw=(e,t,n)=>t.has(e)||vO("Cannot "+n);var je=(e,t,n)=>(Hw(e,t,"read from private field"),n?n.call(e):t.get(e)),Kn=(e,t,n)=>t.has(e)?vO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),bn=(e,t,n,r)=>(Hw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ro=(e,t,n)=>(Hw(e,t,"access private method"),n);var U0=(e,t,n,r)=>({set _(i){bn(e,t,i,n)},get _(){return je(e,t,r)}});var gae=W4((_s,ws)=>{function H4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fA={exports:{}},GS={},hA={exports:{}},En={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=Symbol.for("react.element"),G4=Symbol.for("react.portal"),q4=Symbol.for("react.fragment"),K4=Symbol.for("react.strict_mode"),Y4=Symbol.for("react.profiler"),Q4=Symbol.for("react.provider"),X4=Symbol.for("react.context"),J4=Symbol.for("react.forward_ref"),Z4=Symbol.for("react.suspense"),e3=Symbol.for("react.memo"),t3=Symbol.for("react.lazy"),yO=Symbol.iterator;function n3(e){return e===null||typeof e!="object"?null:(e=yO&&e[yO]||e["@@iterator"],typeof e=="function"?e:null)}var pA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mA=Object.assign,gA={};function sm(e,t,n){this.props=e,this.context=t,this.refs=gA,this.updater=n||pA}sm.prototype.isReactComponent={};sm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vA(){}vA.prototype=sm.prototype;function T1(e,t,n){this.props=e,this.context=t,this.refs=gA,this.updater=n||pA}var R1=T1.prototype=new vA;R1.constructor=T1;mA(R1,sm.prototype);R1.isPureReactComponent=!0;var bO=Array.isArray,yA=Object.prototype.hasOwnProperty,k1={current:null},bA={key:!0,ref:!0,__self:!0,__source:!0};function xA(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)yA.call(t,r)&&!bA.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var a=Array(c),l=0;l<c;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:uy,type:e,key:o,ref:s,props:i,_owner:k1.current}}function r3(e,t){return{$$typeof:uy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O1(e){return typeof e=="object"&&e!==null&&e.$$typeof===uy}function i3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xO=/\/+/g;function Gw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i3(""+e.key):t.toString(36)}function mb(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case uy:case G4:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Gw(s,0):r,bO(i)?(n="",e!=null&&(n=e.replace(xO,"$&/")+"/"),mb(i,t,n,"",function(l){return l})):i!=null&&(O1(i)&&(i=r3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xO,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bO(e))for(var c=0;c<e.length;c++){o=e[c];var a=r+Gw(o,c);s+=mb(o,t,n,a,i)}else if(a=n3(e),typeof a=="function")for(e=a.call(e),c=0;!(o=e.next()).done;)o=o.value,a=r+Gw(o,c++),s+=mb(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function B0(e,t,n){if(e==null)return e;var r=[],i=0;return mb(e,r,"","",function(o){return t.call(n,o,i++)}),r}function o3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jo={current:null},gb={transition:null},s3={ReactCurrentDispatcher:jo,ReactCurrentBatchConfig:gb,ReactCurrentOwner:k1};function SA(){throw Error("act(...) is not supported in production builds of React.")}En.Children={map:B0,forEach:function(e,t,n){B0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return B0(e,function(){t++}),t},toArray:function(e){return B0(e,function(t){return t})||[]},only:function(e){if(!O1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};En.Component=sm;En.Fragment=q4;En.Profiler=Y4;En.PureComponent=T1;En.StrictMode=K4;En.Suspense=Z4;En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s3;En.act=SA;En.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mA({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=k1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)yA.call(t,a)&&!bA.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){c=Array(a);for(var l=0;l<a;l++)c[l]=arguments[l+2];r.children=c}return{$$typeof:uy,type:e.type,key:i,ref:o,props:r,_owner:s}};En.createContext=function(e){return e={$$typeof:X4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q4,_context:e},e.Consumer=e};En.createElement=xA;En.createFactory=function(e){var t=xA.bind(null,e);return t.type=e,t};En.createRef=function(){return{current:null}};En.forwardRef=function(e){return{$$typeof:J4,render:e}};En.isValidElement=O1;En.lazy=function(e){return{$$typeof:t3,_payload:{_status:-1,_result:e},_init:o3}};En.memo=function(e,t){return{$$typeof:e3,type:e,compare:t===void 0?null:t}};En.startTransition=function(e){var t=gb.transition;gb.transition={};try{e()}finally{gb.transition=t}};En.unstable_act=SA;En.useCallback=function(e,t){return jo.current.useCallback(e,t)};En.useContext=function(e){return jo.current.useContext(e)};En.useDebugValue=function(){};En.useDeferredValue=function(e){return jo.current.useDeferredValue(e)};En.useEffect=function(e,t){return jo.current.useEffect(e,t)};En.useId=function(){return jo.current.useId()};En.useImperativeHandle=function(e,t,n){return jo.current.useImperativeHandle(e,t,n)};En.useInsertionEffect=function(e,t){return jo.current.useInsertionEffect(e,t)};En.useLayoutEffect=function(e,t){return jo.current.useLayoutEffect(e,t)};En.useMemo=function(e,t){return jo.current.useMemo(e,t)};En.useReducer=function(e,t,n){return jo.current.useReducer(e,t,n)};En.useRef=function(e){return jo.current.useRef(e)};En.useState=function(e){return jo.current.useState(e)};En.useSyncExternalStore=function(e,t,n){return jo.current.useSyncExternalStore(e,t,n)};En.useTransition=function(){return jo.current.useTransition()};En.version="18.3.1";hA.exports=En;var P=hA.exports;const ht=Yf(P),_A=H4({__proto__:null,default:ht},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3=P,c3=Symbol.for("react.element"),l3=Symbol.for("react.fragment"),u3=Object.prototype.hasOwnProperty,d3=a3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f3={key:!0,ref:!0,__self:!0,__source:!0};function wA(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)u3.call(t,r)&&!f3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:c3,type:e,key:o,ref:s,props:i,_owner:d3.current}}GS.Fragment=l3;GS.jsx=wA;GS.jsxs=wA;fA.exports=GS;var u=fA.exports,EA={exports:{}},Ns={},CA={exports:{}},TA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,Q){var ne=Y.length;Y.push(Q);e:for(;0<ne;){var fe=ne-1>>>1,Te=Y[fe];if(0<i(Te,Q))Y[fe]=Q,Y[ne]=Te,ne=fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],ne=Y.pop();if(ne!==Q){Y[0]=ne;e:for(var fe=0,Te=Y.length,He=Te>>>1;fe<He;){var Le=2*(fe+1)-1,bt=Y[Le],Gt=Le+1,Ye=Y[Gt];if(0>i(bt,ne))Gt<Te&&0>i(Ye,bt)?(Y[fe]=Ye,Y[Gt]=ne,fe=Gt):(Y[fe]=bt,Y[Le]=ne,fe=Le);else if(Gt<Te&&0>i(Ye,ne))Y[fe]=Ye,Y[Gt]=ne,fe=Gt;else break e}}return Q}function i(Y,Q){var ne=Y.sortIndex-Q.sortIndex;return ne!==0?ne:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var a=[],l=[],f=1,p=null,m=3,E=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var Q=n(l);Q!==null;){if(Q.callback===null)r(l);else if(Q.startTime<=Y)r(l),Q.sortIndex=Q.expirationTime,t(a,Q);else break;Q=n(l)}}function I(Y){if(y=!1,C(Y),!x)if(n(a)!==null)x=!0,Se(j);else{var Q=n(l);Q!==null&&ve(I,Q.startTime-Y)}}function j(Y,Q){x=!1,y&&(y=!1,R(z),z=-1),E=!0;var ne=m;try{for(C(Q),p=n(a);p!==null&&(!(p.expirationTime>Q)||Y&&!J());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,m=p.priorityLevel;var Te=fe(p.expirationTime<=Q);Q=e.unstable_now(),typeof Te=="function"?p.callback=Te:p===n(a)&&r(a),C(Q)}else r(a);p=n(a)}if(p!==null)var He=!0;else{var Le=n(l);Le!==null&&ve(I,Le.startTime-Q),He=!1}return He}finally{p=null,m=ne,E=!1}}var U=!1,V=null,z=-1,q=5,X=-1;function J(){return!(e.unstable_now()-X<q)}function G(){if(V!==null){var Y=e.unstable_now();X=Y;var Q=!0;try{Q=V(!0,Y)}finally{Q?ee():(U=!1,V=null)}}else U=!1}var ee;if(typeof _=="function")ee=function(){_(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,xe=ce.port2;ce.port1.onmessage=G,ee=function(){xe.postMessage(null)}}else ee=function(){w(G,0)};function Se(Y){V=Y,U||(U=!0,ee())}function ve(Y,Q){z=w(function(){Y(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||E||(x=!0,Se(j))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var ne=m;m=Q;try{return Y()}finally{m=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=m;m=Y;try{return Q()}finally{m=ne}},e.unstable_scheduleCallback=function(Y,Q,ne){var fe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,Y){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,Y={id:f++,callback:Q,priorityLevel:Y,startTime:ne,expirationTime:Te,sortIndex:-1},ne>fe?(Y.sortIndex=ne,t(l,Y),n(a)===null&&Y===n(l)&&(y?(R(z),z=-1):y=!0,ve(I,ne-fe))):(Y.sortIndex=Te,t(a,Y),x||E||(x=!0,Se(j))),Y},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(Y){var Q=m;return function(){var ne=m;m=Q;try{return Y.apply(this,arguments)}finally{m=ne}}}})(TA);CA.exports=TA;var h3=CA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3=P,Rs=h3;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RA=new Set,Ev={};function Qf(e,t){Bp(e,t),Bp(e+"Capture",t)}function Bp(e,t){for(Ev[e]=t,e=0;e<t.length;e++)RA.add(t[e])}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_C=Object.prototype.hasOwnProperty,m3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SO={},_O={};function g3(e){return _C.call(_O,e)?!0:_C.call(SO,e)?!1:m3.test(e)?_O[e]=!0:(SO[e]=!0,!1)}function v3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y3(e,t,n,r){if(t===null||typeof t>"u"||v3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Do(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ki[e]=new Do(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ki[t]=new Do(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ki[e]=new Do(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ki[e]=new Do(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ki[e]=new Do(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ki[e]=new Do(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ki[e]=new Do(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ki[e]=new Do(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ki[e]=new Do(e,5,!1,e.toLowerCase(),null,!1,!1)});var P1=/[\-:]([a-z])/g;function N1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P1,N1);Ki[t]=new Do(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P1,N1);Ki[t]=new Do(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P1,N1);Ki[t]=new Do(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ki[e]=new Do(e,1,!1,e.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new Do("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ki[e]=new Do(e,1,!1,e.toLowerCase(),null,!0,!0)});function I1(e,t,n,r){var i=Ki.hasOwnProperty(t)?Ki[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y3(t,n,i,r)&&(n=null),r||i===null?g3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xl=p3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$0=Symbol.for("react.element"),ap=Symbol.for("react.portal"),cp=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),OA=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),PA=Symbol.for("react.offscreen"),wO=Symbol.iterator;function Ig(e){return e===null||typeof e!="object"?null:(e=wO&&e[wO]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,qw;function Kg(e){if(qw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qw=t&&t[1]||""}return`
`+qw+e}var Kw=!1;function Yw(e,t){if(!e||Kw)return"";Kw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,c=o.length-1;1<=s&&0<=c&&i[s]!==o[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==o[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==o[c]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=c);break}}}finally{Kw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kg(e):""}function b3(e){switch(e.tag){case 5:return Kg(e.type);case 16:return Kg("Lazy");case 13:return Kg("Suspense");case 19:return Kg("SuspenseList");case 0:case 2:case 15:return e=Yw(e.type,!1),e;case 11:return e=Yw(e.type.render,!1),e;case 1:return e=Yw(e.type,!0),e;default:return""}}function TC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cp:return"Fragment";case ap:return"Portal";case wC:return"Profiler";case A1:return"StrictMode";case EC:return"Suspense";case CC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OA:return(e.displayName||"Context")+".Consumer";case kA:return(e._context.displayName||"Context")+".Provider";case j1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D1:return t=e.displayName||null,t!==null?t:TC(e.type)||"Memo";case hu:t=e._payload,e=e._init;try{return TC(e(t))}catch{}}return null}function x3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TC(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S3(e){var t=NA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V0(e){e._valueTracker||(e._valueTracker=S3(e))}function IA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=NA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function RC(e,t){var n=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function EO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AA(e,t){t=t.checked,t!=null&&I1(e,"checked",t,!1)}function kC(e,t){AA(e,t);var n=qu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?OC(e,t.type,n):t.hasOwnProperty("defaultValue")&&OC(e,t.type,qu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function OC(e,t,n){(t!=="number"||kx(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yg=Array.isArray;function xp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Yg(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qu(n)}}function jA(e,t){var n=qu(t.value),r=qu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function RO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z0,MA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z0=z0||document.createElement("div"),z0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ov={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_3=["Webkit","ms","Moz","O"];Object.keys(ov).forEach(function(e){_3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ov[t]=ov[e]})});function LA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ov.hasOwnProperty(e)&&ov[e]?(""+t).trim():t+"px"}function FA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=LA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var w3=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IC(e,t){if(t){if(w3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function AC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jC=null;function M1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var DC=null,Sp=null,_p=null;function kO(e){if(e=hy(e)){if(typeof DC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=XS(t),DC(e.stateNode,e.type,t))}}function UA(e){Sp?_p?_p.push(e):_p=[e]:Sp=e}function BA(){if(Sp){var e=Sp,t=_p;if(_p=Sp=null,kO(e),t)for(e=0;e<t.length;e++)kO(t[e])}}function $A(e,t){return e(t)}function VA(){}var Qw=!1;function zA(e,t,n){if(Qw)return e(t,n);Qw=!0;try{return $A(e,t,n)}finally{Qw=!1,(Sp!==null||_p!==null)&&(VA(),BA())}}function Tv(e,t){var n=e.stateNode;if(n===null)return null;var r=XS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var MC=!1;if(ul)try{var Ag={};Object.defineProperty(Ag,"passive",{get:function(){MC=!0}}),window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{MC=!1}function E3(e,t,n,r,i,o,s,c,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(f){this.onError(f)}}var sv=!1,Ox=null,Px=!1,LC=null,C3={onError:function(e){sv=!0,Ox=e}};function T3(e,t,n,r,i,o,s,c,a){sv=!1,Ox=null,E3.apply(C3,arguments)}function R3(e,t,n,r,i,o,s,c,a){if(T3.apply(this,arguments),sv){if(sv){var l=Ox;sv=!1,Ox=null}else throw Error(Ue(198));Px||(Px=!0,LC=l)}}function Xf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OO(e){if(Xf(e)!==e)throw Error(Ue(188))}function k3(e){var t=e.alternate;if(!t){if(t=Xf(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return OO(i),e;if(o===r)return OO(i),t;o=o.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function HA(e){return e=k3(e),e!==null?GA(e):null}function GA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GA(e);if(t!==null)return t;e=e.sibling}return null}var qA=Rs.unstable_scheduleCallback,PO=Rs.unstable_cancelCallback,O3=Rs.unstable_shouldYield,P3=Rs.unstable_requestPaint,ii=Rs.unstable_now,N3=Rs.unstable_getCurrentPriorityLevel,L1=Rs.unstable_ImmediatePriority,KA=Rs.unstable_UserBlockingPriority,Nx=Rs.unstable_NormalPriority,I3=Rs.unstable_LowPriority,YA=Rs.unstable_IdlePriority,qS=null,mc=null;function A3(e){if(mc&&typeof mc.onCommitFiberRoot=="function")try{mc.onCommitFiberRoot(qS,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:M3,j3=Math.log,D3=Math.LN2;function M3(e){return e>>>=0,e===0?32:31-(j3(e)/D3|0)|0}var W0=64,H0=4194304;function Qg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ix(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var c=s&~i;c!==0?r=Qg(c):(o&=s,o!==0&&(r=Qg(o)))}else s=n&~i,s!==0?r=Qg(s):o!==0&&(r=Qg(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Na(t),i=1<<n,r|=e[n],t&=~i;return r}function L3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Na(o),c=1<<s,a=i[s];a===-1?(!(c&n)||c&r)&&(i[s]=L3(c,t)):a<=t&&(e.expiredLanes|=c),o&=~c}}function FC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QA(){var e=W0;return W0<<=1,!(W0&4194240)&&(W0=64),e}function Xw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dy(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=n}function U3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Na(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function F1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Na(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var nr=0;function XA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JA,U1,ZA,ej,tj,UC=!1,G0=[],Pu=null,Nu=null,Iu=null,Rv=new Map,kv=new Map,gu=[],B3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NO(e,t){switch(e){case"focusin":case"focusout":Pu=null;break;case"dragenter":case"dragleave":Nu=null;break;case"mouseover":case"mouseout":Iu=null;break;case"pointerover":case"pointerout":Rv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kv.delete(t.pointerId)}}function jg(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=hy(t),t!==null&&U1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $3(e,t,n,r,i){switch(t){case"focusin":return Pu=jg(Pu,e,t,n,r,i),!0;case"dragenter":return Nu=jg(Nu,e,t,n,r,i),!0;case"mouseover":return Iu=jg(Iu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rv.set(o,jg(Rv.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kv.set(o,jg(kv.get(o)||null,e,t,n,r,i)),!0}return!1}function nj(e){var t=hf(e.target);if(t!==null){var n=Xf(t);if(n!==null){if(t=n.tag,t===13){if(t=WA(n),t!==null){e.blockedOn=t,tj(e.priority,function(){ZA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=BC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jC=r,n.target.dispatchEvent(r),jC=null}else return t=hy(n),t!==null&&U1(t),e.blockedOn=n,!1;t.shift()}return!0}function IO(e,t,n){vb(e)&&n.delete(t)}function V3(){UC=!1,Pu!==null&&vb(Pu)&&(Pu=null),Nu!==null&&vb(Nu)&&(Nu=null),Iu!==null&&vb(Iu)&&(Iu=null),Rv.forEach(IO),kv.forEach(IO)}function Dg(e,t){e.blockedOn===t&&(e.blockedOn=null,UC||(UC=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,V3)))}function Ov(e){function t(i){return Dg(i,e)}if(0<G0.length){Dg(G0[0],e);for(var n=1;n<G0.length;n++){var r=G0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pu!==null&&Dg(Pu,e),Nu!==null&&Dg(Nu,e),Iu!==null&&Dg(Iu,e),Rv.forEach(t),kv.forEach(t),n=0;n<gu.length;n++)r=gu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gu.length&&(n=gu[0],n.blockedOn===null);)nj(n),n.blockedOn===null&&gu.shift()}var wp=xl.ReactCurrentBatchConfig,Ax=!0;function z3(e,t,n,r){var i=nr,o=wp.transition;wp.transition=null;try{nr=1,B1(e,t,n,r)}finally{nr=i,wp.transition=o}}function W3(e,t,n,r){var i=nr,o=wp.transition;wp.transition=null;try{nr=4,B1(e,t,n,r)}finally{nr=i,wp.transition=o}}function B1(e,t,n,r){if(Ax){var i=BC(e,t,n,r);if(i===null)aE(e,t,r,jx,n),NO(e,r);else if($3(i,e,t,n,r))r.stopPropagation();else if(NO(e,r),t&4&&-1<B3.indexOf(e)){for(;i!==null;){var o=hy(i);if(o!==null&&JA(o),o=BC(e,t,n,r),o===null&&aE(e,t,r,jx,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else aE(e,t,r,null,n)}}var jx=null;function BC(e,t,n,r){if(jx=null,e=M1(r),e=hf(e),e!==null)if(t=Xf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=WA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jx=e,null}function rj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N3()){case L1:return 1;case KA:return 4;case Nx:case I3:return 16;case YA:return 536870912;default:return 16}default:return 16}}var Eu=null,$1=null,yb=null;function ij(){if(yb)return yb;var e,t=$1,n=t.length,r,i="value"in Eu?Eu.value:Eu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return yb=i.slice(e,1<r?1-r:void 0)}function bb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q0(){return!0}function AO(){return!1}function Is(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?q0:AO,this.isPropagationStopped=AO,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),t}var am={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V1=Is(am),fy=zr({},am,{view:0,detail:0}),H3=Is(fy),Jw,Zw,Mg,KS=zr({},fy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mg&&(Mg&&e.type==="mousemove"?(Jw=e.screenX-Mg.screenX,Zw=e.screenY-Mg.screenY):Zw=Jw=0,Mg=e),Jw)},movementY:function(e){return"movementY"in e?e.movementY:Zw}}),jO=Is(KS),G3=zr({},KS,{dataTransfer:0}),q3=Is(G3),K3=zr({},fy,{relatedTarget:0}),eE=Is(K3),Y3=zr({},am,{animationName:0,elapsedTime:0,pseudoElement:0}),Q3=Is(Y3),X3=zr({},am,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J3=Is(X3),Z3=zr({},am,{data:0}),DO=Is(Z3),e$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n$[e])?!!t[e]:!1}function z1(){return r$}var i$=zr({},fy,{key:function(e){if(e.key){var t=e$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(e){return e.type==="keypress"?bb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o$=Is(i$),s$=zr({},KS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MO=Is(s$),a$=zr({},fy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),c$=Is(a$),l$=zr({},am,{propertyName:0,elapsedTime:0,pseudoElement:0}),u$=Is(l$),d$=zr({},KS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f$=Is(d$),h$=[9,13,27,32],W1=ul&&"CompositionEvent"in window,av=null;ul&&"documentMode"in document&&(av=document.documentMode);var p$=ul&&"TextEvent"in window&&!av,oj=ul&&(!W1||av&&8<av&&11>=av),LO=" ",FO=!1;function sj(e,t){switch(e){case"keyup":return h$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lp=!1;function m$(e,t){switch(e){case"compositionend":return aj(t);case"keypress":return t.which!==32?null:(FO=!0,LO);case"textInput":return e=t.data,e===LO&&FO?null:e;default:return null}}function g$(e,t){if(lp)return e==="compositionend"||!W1&&sj(e,t)?(e=ij(),yb=$1=Eu=null,lp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oj&&t.locale!=="ko"?null:t.data;default:return null}}var v$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v$[e.type]:t==="textarea"}function cj(e,t,n,r){UA(r),t=Dx(t,"onChange"),0<t.length&&(n=new V1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cv=null,Pv=null;function y$(e){bj(e,0)}function YS(e){var t=fp(e);if(IA(t))return e}function b$(e,t){if(e==="change")return t}var lj=!1;if(ul){var tE;if(ul){var nE="oninput"in document;if(!nE){var BO=document.createElement("div");BO.setAttribute("oninput","return;"),nE=typeof BO.oninput=="function"}tE=nE}else tE=!1;lj=tE&&(!document.documentMode||9<document.documentMode)}function $O(){cv&&(cv.detachEvent("onpropertychange",uj),Pv=cv=null)}function uj(e){if(e.propertyName==="value"&&YS(Pv)){var t=[];cj(t,Pv,e,M1(e)),zA(y$,t)}}function x$(e,t,n){e==="focusin"?($O(),cv=t,Pv=n,cv.attachEvent("onpropertychange",uj)):e==="focusout"&&$O()}function S$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return YS(Pv)}function _$(e,t){if(e==="click")return YS(t)}function w$(e,t){if(e==="input"||e==="change")return YS(t)}function E$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Aa=typeof Object.is=="function"?Object.is:E$;function Nv(e,t){if(Aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_C.call(t,i)||!Aa(e[i],t[i]))return!1}return!0}function VO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zO(e,t){var n=VO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VO(n)}}function dj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fj(){for(var e=window,t=kx();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kx(e.document)}return t}function H1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function C$(e){var t=fj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dj(n.ownerDocument.documentElement,n)){if(r!==null&&H1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=zO(n,o);var s=zO(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T$=ul&&"documentMode"in document&&11>=document.documentMode,up=null,$C=null,lv=null,VC=!1;function WO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;VC||up==null||up!==kx(r)||(r=up,"selectionStart"in r&&H1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lv&&Nv(lv,r)||(lv=r,r=Dx($C,"onSelect"),0<r.length&&(t=new V1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=up)))}function K0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dp={animationend:K0("Animation","AnimationEnd"),animationiteration:K0("Animation","AnimationIteration"),animationstart:K0("Animation","AnimationStart"),transitionend:K0("Transition","TransitionEnd")},rE={},hj={};ul&&(hj=document.createElement("div").style,"AnimationEvent"in window||(delete dp.animationend.animation,delete dp.animationiteration.animation,delete dp.animationstart.animation),"TransitionEvent"in window||delete dp.transitionend.transition);function QS(e){if(rE[e])return rE[e];if(!dp[e])return e;var t=dp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hj)return rE[e]=t[n];return e}var pj=QS("animationend"),mj=QS("animationiteration"),gj=QS("animationstart"),vj=QS("transitionend"),yj=new Map,HO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rd(e,t){yj.set(e,t),Qf(t,[e])}for(var iE=0;iE<HO.length;iE++){var oE=HO[iE],R$=oE.toLowerCase(),k$=oE[0].toUpperCase()+oE.slice(1);rd(R$,"on"+k$)}rd(pj,"onAnimationEnd");rd(mj,"onAnimationIteration");rd(gj,"onAnimationStart");rd("dblclick","onDoubleClick");rd("focusin","onFocus");rd("focusout","onBlur");rd(vj,"onTransitionEnd");Bp("onMouseEnter",["mouseout","mouseover"]);Bp("onMouseLeave",["mouseout","mouseover"]);Bp("onPointerEnter",["pointerout","pointerover"]);Bp("onPointerLeave",["pointerout","pointerover"]);Qf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xg));function GO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,R3(r,t,void 0,e),e.currentTarget=null}function bj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var c=r[s],a=c.instance,l=c.currentTarget;if(c=c.listener,a!==o&&i.isPropagationStopped())break e;GO(i,c,l),o=a}else for(s=0;s<r.length;s++){if(c=r[s],a=c.instance,l=c.currentTarget,c=c.listener,a!==o&&i.isPropagationStopped())break e;GO(i,c,l),o=a}}}if(Px)throw e=LC,Px=!1,LC=null,e}function Tr(e,t){var n=t[qC];n===void 0&&(n=t[qC]=new Set);var r=e+"__bubble";n.has(r)||(xj(t,e,2,!1),n.add(r))}function sE(e,t,n){var r=0;t&&(r|=4),xj(n,e,r,t)}var Y0="_reactListening"+Math.random().toString(36).slice(2);function Iv(e){if(!e[Y0]){e[Y0]=!0,RA.forEach(function(n){n!=="selectionchange"&&(O$.has(n)||sE(n,!1,e),sE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Y0]||(t[Y0]=!0,sE("selectionchange",!1,t))}}function xj(e,t,n,r){switch(rj(t)){case 1:var i=z3;break;case 4:i=W3;break;default:i=B1}n=i.bind(null,t,n,e),i=void 0,!MC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function aE(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;c!==null;){if(s=hf(c),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}c=c.parentNode}}r=r.return}zA(function(){var l=o,f=M1(n),p=[];e:{var m=yj.get(e);if(m!==void 0){var E=V1,x=e;switch(e){case"keypress":if(bb(n)===0)break e;case"keydown":case"keyup":E=o$;break;case"focusin":x="focus",E=eE;break;case"focusout":x="blur",E=eE;break;case"beforeblur":case"afterblur":E=eE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=jO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=c$;break;case pj:case mj:case gj:E=Q3;break;case vj:E=u$;break;case"scroll":E=H3;break;case"wheel":E=f$;break;case"copy":case"cut":case"paste":E=J3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=MO}var y=(t&4)!==0,w=!y&&e==="scroll",R=y?m!==null?m+"Capture":null:m;y=[];for(var _=l,C;_!==null;){C=_;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,R!==null&&(I=Tv(_,R),I!=null&&y.push(Av(_,I,C)))),w)break;_=_.return}0<y.length&&(m=new E(m,x,null,n,f),p.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",m&&n!==jC&&(x=n.relatedTarget||n.fromElement)&&(hf(x)||x[dl]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(x=n.relatedTarget||n.toElement,E=l,x=x?hf(x):null,x!==null&&(w=Xf(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(E=null,x=l),E!==x)){if(y=jO,I="onMouseLeave",R="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(y=MO,I="onPointerLeave",R="onPointerEnter",_="pointer"),w=E==null?m:fp(E),C=x==null?m:fp(x),m=new y(I,_+"leave",E,n,f),m.target=w,m.relatedTarget=C,I=null,hf(f)===l&&(y=new y(R,_+"enter",x,n,f),y.target=C,y.relatedTarget=w,I=y),w=I,E&&x)t:{for(y=E,R=x,_=0,C=y;C;C=Zh(C))_++;for(C=0,I=R;I;I=Zh(I))C++;for(;0<_-C;)y=Zh(y),_--;for(;0<C-_;)R=Zh(R),C--;for(;_--;){if(y===R||R!==null&&y===R.alternate)break t;y=Zh(y),R=Zh(R)}y=null}else y=null;E!==null&&qO(p,m,E,y,!1),x!==null&&w!==null&&qO(p,w,x,y,!0)}}e:{if(m=l?fp(l):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var j=b$;else if(UO(m))if(lj)j=w$;else{j=S$;var U=x$}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=_$);if(j&&(j=j(e,l))){cj(p,j,n,f);break e}U&&U(e,m,l),e==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&OC(m,"number",m.value)}switch(U=l?fp(l):window,e){case"focusin":(UO(U)||U.contentEditable==="true")&&(up=U,$C=l,lv=null);break;case"focusout":lv=$C=up=null;break;case"mousedown":VC=!0;break;case"contextmenu":case"mouseup":case"dragend":VC=!1,WO(p,n,f);break;case"selectionchange":if(T$)break;case"keydown":case"keyup":WO(p,n,f)}var V;if(W1)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else lp?sj(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(oj&&n.locale!=="ko"&&(lp||z!=="onCompositionStart"?z==="onCompositionEnd"&&lp&&(V=ij()):(Eu=f,$1="value"in Eu?Eu.value:Eu.textContent,lp=!0)),U=Dx(l,z),0<U.length&&(z=new DO(z,e,null,n,f),p.push({event:z,listeners:U}),V?z.data=V:(V=aj(n),V!==null&&(z.data=V)))),(V=p$?m$(e,n):g$(e,n))&&(l=Dx(l,"onBeforeInput"),0<l.length&&(f=new DO("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:l}),f.data=V))}bj(p,t)})}function Av(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dx(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Tv(e,n),o!=null&&r.unshift(Av(e,o,i)),o=Tv(e,t),o!=null&&r.push(Av(e,o,i))),e=e.return}return r}function Zh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qO(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var c=n,a=c.alternate,l=c.stateNode;if(a!==null&&a===r)break;c.tag===5&&l!==null&&(c=l,i?(a=Tv(n,o),a!=null&&s.unshift(Av(n,a,c))):i||(a=Tv(n,o),a!=null&&s.push(Av(n,a,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var P$=/\r\n?/g,N$=/\u0000|\uFFFD/g;function KO(e){return(typeof e=="string"?e:""+e).replace(P$,`
`).replace(N$,"")}function Q0(e,t,n){if(t=KO(t),KO(e)!==t&&n)throw Error(Ue(425))}function Mx(){}var zC=null,WC=null;function HC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GC=typeof setTimeout=="function"?setTimeout:void 0,I$=typeof clearTimeout=="function"?clearTimeout:void 0,YO=typeof Promise=="function"?Promise:void 0,A$=typeof queueMicrotask=="function"?queueMicrotask:typeof YO<"u"?function(e){return YO.resolve(null).then(e).catch(j$)}:GC;function j$(e){setTimeout(function(){throw e})}function cE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ov(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ov(t)}function Au(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cm=Math.random().toString(36).slice(2),dc="__reactFiber$"+cm,jv="__reactProps$"+cm,dl="__reactContainer$"+cm,qC="__reactEvents$"+cm,D$="__reactListeners$"+cm,M$="__reactHandles$"+cm;function hf(e){var t=e[dc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dl]||n[dc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=QO(e);e!==null;){if(n=e[dc])return n;e=QO(e)}return t}e=n,n=e.parentNode}return null}function hy(e){return e=e[dc]||e[dl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function XS(e){return e[jv]||null}var KC=[],hp=-1;function id(e){return{current:e}}function kr(e){0>hp||(e.current=KC[hp],KC[hp]=null,hp--)}function xr(e,t){hp++,KC[hp]=e.current,e.current=t}var Ku={},lo=id(Ku),Xo=id(!1),Af=Ku;function $p(e,t){var n=e.type.contextTypes;if(!n)return Ku;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jo(e){return e=e.childContextTypes,e!=null}function Lx(){kr(Xo),kr(lo)}function XO(e,t,n){if(lo.current!==Ku)throw Error(Ue(168));xr(lo,t),xr(Xo,n)}function Sj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ue(108,x3(e)||"Unknown",i));return zr({},n,r)}function Fx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ku,Af=lo.current,xr(lo,e),xr(Xo,Xo.current),!0}function JO(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=Sj(e,t,Af),r.__reactInternalMemoizedMergedChildContext=e,kr(Xo),kr(lo),xr(lo,e)):kr(Xo),xr(Xo,n)}var Zc=null,JS=!1,lE=!1;function _j(e){Zc===null?Zc=[e]:Zc.push(e)}function L$(e){JS=!0,_j(e)}function od(){if(!lE&&Zc!==null){lE=!0;var e=0,t=nr;try{var n=Zc;for(nr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zc=null,JS=!1}catch(i){throw Zc!==null&&(Zc=Zc.slice(e+1)),qA(L1,od),i}finally{nr=t,lE=!1}}return null}var pp=[],mp=0,Ux=null,Bx=0,Xs=[],Js=0,jf=null,tl=1,nl="";function cf(e,t){pp[mp++]=Bx,pp[mp++]=Ux,Ux=e,Bx=t}function wj(e,t,n){Xs[Js++]=tl,Xs[Js++]=nl,Xs[Js++]=jf,jf=e;var r=tl;e=nl;var i=32-Na(r)-1;r&=~(1<<i),n+=1;var o=32-Na(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,tl=1<<32-Na(t)+i|n<<i|r,nl=o+e}else tl=1<<o|n<<i|r,nl=e}function G1(e){e.return!==null&&(cf(e,1),wj(e,1,0))}function q1(e){for(;e===Ux;)Ux=pp[--mp],pp[mp]=null,Bx=pp[--mp],pp[mp]=null;for(;e===jf;)jf=Xs[--Js],Xs[Js]=null,nl=Xs[--Js],Xs[Js]=null,tl=Xs[--Js],Xs[Js]=null}var Es=null,Ss=null,Ir=!1,Oa=null;function Ej(e,t){var n=ea(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ZO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ss=Au(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jf!==null?{id:tl,overflow:nl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ea(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Es=e,Ss=null,!0):!1;default:return!1}}function YC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QC(e){if(Ir){var t=Ss;if(t){var n=t;if(!ZO(e,t)){if(YC(e))throw Error(Ue(418));t=Au(n.nextSibling);var r=Es;t&&ZO(e,t)?Ej(r,n):(e.flags=e.flags&-4097|2,Ir=!1,Es=e)}}else{if(YC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Ir=!1,Es=e}}}function eP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function X0(e){if(e!==Es)return!1;if(!Ir)return eP(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HC(e.type,e.memoizedProps)),t&&(t=Ss)){if(YC(e))throw Cj(),Error(Ue(418));for(;t;)Ej(e,t),t=Au(t.nextSibling)}if(eP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ss=Au(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ss=null}}else Ss=Es?Au(e.stateNode.nextSibling):null;return!0}function Cj(){for(var e=Ss;e;)e=Au(e.nextSibling)}function Vp(){Ss=Es=null,Ir=!1}function K1(e){Oa===null?Oa=[e]:Oa.push(e)}var F$=xl.ReactCurrentBatchConfig;function Lg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var c=i.refs;s===null?delete c[o]:c[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function J0(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tP(e){var t=e._init;return t(e._payload)}function Tj(e){function t(R,_){if(e){var C=R.deletions;C===null?(R.deletions=[_],R.flags|=16):C.push(_)}}function n(R,_){if(!e)return null;for(;_!==null;)t(R,_),_=_.sibling;return null}function r(R,_){for(R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function i(R,_){return R=Lu(R,_),R.index=0,R.sibling=null,R}function o(R,_,C){return R.index=C,e?(C=R.alternate,C!==null?(C=C.index,C<_?(R.flags|=2,_):C):(R.flags|=2,_)):(R.flags|=1048576,_)}function s(R){return e&&R.alternate===null&&(R.flags|=2),R}function c(R,_,C,I){return _===null||_.tag!==6?(_=gE(C,R.mode,I),_.return=R,_):(_=i(_,C),_.return=R,_)}function a(R,_,C,I){var j=C.type;return j===cp?f(R,_,C.props.children,I,C.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hu&&tP(j)===_.type)?(I=i(_,C.props),I.ref=Lg(R,_,C),I.return=R,I):(I=Tb(C.type,C.key,C.props,null,R.mode,I),I.ref=Lg(R,_,C),I.return=R,I)}function l(R,_,C,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=vE(C,R.mode,I),_.return=R,_):(_=i(_,C.children||[]),_.return=R,_)}function f(R,_,C,I,j){return _===null||_.tag!==7?(_=Tf(C,R.mode,I,j),_.return=R,_):(_=i(_,C),_.return=R,_)}function p(R,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=gE(""+_,R.mode,C),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $0:return C=Tb(_.type,_.key,_.props,null,R.mode,C),C.ref=Lg(R,null,_),C.return=R,C;case ap:return _=vE(_,R.mode,C),_.return=R,_;case hu:var I=_._init;return p(R,I(_._payload),C)}if(Yg(_)||Ig(_))return _=Tf(_,R.mode,C,null),_.return=R,_;J0(R,_)}return null}function m(R,_,C,I){var j=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return j!==null?null:c(R,_,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $0:return C.key===j?a(R,_,C,I):null;case ap:return C.key===j?l(R,_,C,I):null;case hu:return j=C._init,m(R,_,j(C._payload),I)}if(Yg(C)||Ig(C))return j!==null?null:f(R,_,C,I,null);J0(R,C)}return null}function E(R,_,C,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return R=R.get(C)||null,c(_,R,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $0:return R=R.get(I.key===null?C:I.key)||null,a(_,R,I,j);case ap:return R=R.get(I.key===null?C:I.key)||null,l(_,R,I,j);case hu:var U=I._init;return E(R,_,C,U(I._payload),j)}if(Yg(I)||Ig(I))return R=R.get(C)||null,f(_,R,I,j,null);J0(_,I)}return null}function x(R,_,C,I){for(var j=null,U=null,V=_,z=_=0,q=null;V!==null&&z<C.length;z++){V.index>z?(q=V,V=null):q=V.sibling;var X=m(R,V,C[z],I);if(X===null){V===null&&(V=q);break}e&&V&&X.alternate===null&&t(R,V),_=o(X,_,z),U===null?j=X:U.sibling=X,U=X,V=q}if(z===C.length)return n(R,V),Ir&&cf(R,z),j;if(V===null){for(;z<C.length;z++)V=p(R,C[z],I),V!==null&&(_=o(V,_,z),U===null?j=V:U.sibling=V,U=V);return Ir&&cf(R,z),j}for(V=r(R,V);z<C.length;z++)q=E(V,R,z,C[z],I),q!==null&&(e&&q.alternate!==null&&V.delete(q.key===null?z:q.key),_=o(q,_,z),U===null?j=q:U.sibling=q,U=q);return e&&V.forEach(function(J){return t(R,J)}),Ir&&cf(R,z),j}function y(R,_,C,I){var j=Ig(C);if(typeof j!="function")throw Error(Ue(150));if(C=j.call(C),C==null)throw Error(Ue(151));for(var U=j=null,V=_,z=_=0,q=null,X=C.next();V!==null&&!X.done;z++,X=C.next()){V.index>z?(q=V,V=null):q=V.sibling;var J=m(R,V,X.value,I);if(J===null){V===null&&(V=q);break}e&&V&&J.alternate===null&&t(R,V),_=o(J,_,z),U===null?j=J:U.sibling=J,U=J,V=q}if(X.done)return n(R,V),Ir&&cf(R,z),j;if(V===null){for(;!X.done;z++,X=C.next())X=p(R,X.value,I),X!==null&&(_=o(X,_,z),U===null?j=X:U.sibling=X,U=X);return Ir&&cf(R,z),j}for(V=r(R,V);!X.done;z++,X=C.next())X=E(V,R,z,X.value,I),X!==null&&(e&&X.alternate!==null&&V.delete(X.key===null?z:X.key),_=o(X,_,z),U===null?j=X:U.sibling=X,U=X);return e&&V.forEach(function(G){return t(R,G)}),Ir&&cf(R,z),j}function w(R,_,C,I){if(typeof C=="object"&&C!==null&&C.type===cp&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $0:e:{for(var j=C.key,U=_;U!==null;){if(U.key===j){if(j=C.type,j===cp){if(U.tag===7){n(R,U.sibling),_=i(U,C.props.children),_.return=R,R=_;break e}}else if(U.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hu&&tP(j)===U.type){n(R,U.sibling),_=i(U,C.props),_.ref=Lg(R,U,C),_.return=R,R=_;break e}n(R,U);break}else t(R,U);U=U.sibling}C.type===cp?(_=Tf(C.props.children,R.mode,I,C.key),_.return=R,R=_):(I=Tb(C.type,C.key,C.props,null,R.mode,I),I.ref=Lg(R,_,C),I.return=R,R=I)}return s(R);case ap:e:{for(U=C.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(R,_.sibling),_=i(_,C.children||[]),_.return=R,R=_;break e}else{n(R,_);break}else t(R,_);_=_.sibling}_=vE(C,R.mode,I),_.return=R,R=_}return s(R);case hu:return U=C._init,w(R,_,U(C._payload),I)}if(Yg(C))return x(R,_,C,I);if(Ig(C))return y(R,_,C,I);J0(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(R,_.sibling),_=i(_,C),_.return=R,R=_):(n(R,_),_=gE(C,R.mode,I),_.return=R,R=_),s(R)):n(R,_)}return w}var zp=Tj(!0),Rj=Tj(!1),$x=id(null),Vx=null,gp=null,Y1=null;function Q1(){Y1=gp=Vx=null}function X1(e){var t=$x.current;kr($x),e._currentValue=t}function XC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ep(e,t){Vx=e,Y1=gp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qo=!0),e.firstContext=null)}function ia(e){var t=e._currentValue;if(Y1!==e)if(e={context:e,memoizedValue:t,next:null},gp===null){if(Vx===null)throw Error(Ue(308));gp=e,Vx.dependencies={lanes:0,firstContext:e}}else gp=gp.next=e;return t}var pf=null;function J1(e){pf===null?pf=[e]:pf.push(e)}function kj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,J1(t)):(n.next=i.next,i.next=n),t.interleaved=n,fl(e,r)}function fl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pu=!1;function Z1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ol(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ju(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Dn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fl(e,n)}return i=r.interleaved,i===null?(t.next=t,J1(r)):(t.next=i.next,i.next=t),r.interleaved=t,fl(e,n)}function xb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}function nP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zx(e,t,n,r){var i=e.updateQueue;pu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,l=a.next;a.next=null,s===null?o=l:s.next=l,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==s&&(c===null?f.firstBaseUpdate=l:c.next=l,f.lastBaseUpdate=a))}if(o!==null){var p=i.baseState;s=0,f=l=a=null,c=o;do{var m=c.lane,E=c.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=e,y=c;switch(m=t,E=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(E,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(E,p,m):x,m==null)break e;p=zr({},p,m);break e;case 2:pu=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[c]:m.push(c))}else E={eventTime:E,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(l=f=E,a=p):f=f.next=E,s|=m;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;m=c,c=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(a=p),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Mf|=s,e.lanes=s,e.memoizedState=p}}function rP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var py={},gc=id(py),Dv=id(py),Mv=id(py);function mf(e){if(e===py)throw Error(Ue(174));return e}function eR(e,t){switch(xr(Mv,t),xr(Dv,e),xr(gc,py),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:NC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=NC(t,e)}kr(gc),xr(gc,t)}function Wp(){kr(gc),kr(Dv),kr(Mv)}function Pj(e){mf(Mv.current);var t=mf(gc.current),n=NC(t,e.type);t!==n&&(xr(Dv,e),xr(gc,n))}function tR(e){Dv.current===e&&(kr(gc),kr(Dv))}var Br=id(0);function Wx(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uE=[];function nR(){for(var e=0;e<uE.length;e++)uE[e]._workInProgressVersionPrimary=null;uE.length=0}var Sb=xl.ReactCurrentDispatcher,dE=xl.ReactCurrentBatchConfig,Df=0,Vr=null,vi=null,Ii=null,Hx=!1,uv=!1,Lv=0,U$=0;function io(){throw Error(Ue(321))}function rR(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Aa(e[n],t[n]))return!1;return!0}function iR(e,t,n,r,i,o){if(Df=o,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sb.current=e===null||e.memoizedState===null?z$:W$,e=n(r,i),uv){o=0;do{if(uv=!1,Lv=0,25<=o)throw Error(Ue(301));o+=1,Ii=vi=null,t.updateQueue=null,Sb.current=H$,e=n(r,i)}while(uv)}if(Sb.current=Gx,t=vi!==null&&vi.next!==null,Df=0,Ii=vi=Vr=null,Hx=!1,t)throw Error(Ue(300));return e}function oR(){var e=Lv!==0;return Lv=0,e}function sc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?Vr.memoizedState=Ii=e:Ii=Ii.next=e,Ii}function oa(){if(vi===null){var e=Vr.alternate;e=e!==null?e.memoizedState:null}else e=vi.next;var t=Ii===null?Vr.memoizedState:Ii.next;if(t!==null)Ii=t,vi=e;else{if(e===null)throw Error(Ue(310));vi=e,e={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ii===null?Vr.memoizedState=Ii=e:Ii=Ii.next=e}return Ii}function Fv(e,t){return typeof t=="function"?t(e):t}function fE(e){var t=oa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=vi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=s=null,a=null,l=o;do{var f=l.lane;if((Df&f)===f)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var p={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(c=a=p,s=r):a=a.next=p,Vr.lanes|=f,Mf|=f}l=l.next}while(l!==null&&l!==o);a===null?s=r:a.next=c,Aa(r,t.memoizedState)||(qo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Vr.lanes|=o,Mf|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hE(e){var t=oa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Aa(o,t.memoizedState)||(qo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nj(){}function Ij(e,t){var n=Vr,r=oa(),i=t(),o=!Aa(r.memoizedState,i);if(o&&(r.memoizedState=i,qo=!0),r=r.queue,sR(Dj.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ii!==null&&Ii.memoizedState.tag&1){if(n.flags|=2048,Uv(9,jj.bind(null,n,r,i,t),void 0,null),ji===null)throw Error(Ue(349));Df&30||Aj(n,t,i)}return i}function Aj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jj(e,t,n,r){t.value=n,t.getSnapshot=r,Mj(t)&&Lj(e)}function Dj(e,t,n){return n(function(){Mj(t)&&Lj(e)})}function Mj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Aa(e,n)}catch{return!0}}function Lj(e){var t=fl(e,1);t!==null&&Ia(t,e,1,-1)}function iP(e){var t=sc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fv,lastRenderedState:e},t.queue=e,e=e.dispatch=V$.bind(null,Vr,e),[t.memoizedState,e]}function Uv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fj(){return oa().memoizedState}function _b(e,t,n,r){var i=sc();Vr.flags|=e,i.memoizedState=Uv(1|t,n,void 0,r===void 0?null:r)}function ZS(e,t,n,r){var i=oa();r=r===void 0?null:r;var o=void 0;if(vi!==null){var s=vi.memoizedState;if(o=s.destroy,r!==null&&rR(r,s.deps)){i.memoizedState=Uv(t,n,o,r);return}}Vr.flags|=e,i.memoizedState=Uv(1|t,n,o,r)}function oP(e,t){return _b(8390656,8,e,t)}function sR(e,t){return ZS(2048,8,e,t)}function Uj(e,t){return ZS(4,2,e,t)}function Bj(e,t){return ZS(4,4,e,t)}function $j(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,n){return n=n!=null?n.concat([e]):null,ZS(4,4,$j.bind(null,t,e),n)}function aR(){}function zj(e,t){var n=oa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rR(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wj(e,t){var n=oa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rR(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hj(e,t,n){return Df&21?(Aa(n,t)||(n=QA(),Vr.lanes|=n,Mf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qo=!0),e.memoizedState=n)}function B$(e,t){var n=nr;nr=n!==0&&4>n?n:4,e(!0);var r=dE.transition;dE.transition={};try{e(!1),t()}finally{nr=n,dE.transition=r}}function Gj(){return oa().memoizedState}function $$(e,t,n){var r=Mu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qj(e))Kj(t,n);else if(n=kj(e,t,n,r),n!==null){var i=Io();Ia(n,e,r,i),Yj(n,t,r)}}function V$(e,t,n){var r=Mu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qj(e))Kj(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,c=o(s,n);if(i.hasEagerState=!0,i.eagerState=c,Aa(c,s)){var a=t.interleaved;a===null?(i.next=i,J1(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=kj(e,t,i,r),n!==null&&(i=Io(),Ia(n,e,r,i),Yj(n,t,r))}}function qj(e){var t=e.alternate;return e===Vr||t!==null&&t===Vr}function Kj(e,t){uv=Hx=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}var Gx={readContext:ia,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},z$={readContext:ia,useCallback:function(e,t){return sc().memoizedState=[e,t===void 0?null:t],e},useContext:ia,useEffect:oP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_b(4194308,4,$j.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _b(4194308,4,e,t)},useInsertionEffect:function(e,t){return _b(4,2,e,t)},useMemo:function(e,t){var n=sc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$$.bind(null,Vr,e),[r.memoizedState,e]},useRef:function(e){var t=sc();return e={current:e},t.memoizedState=e},useState:iP,useDebugValue:aR,useDeferredValue:function(e){return sc().memoizedState=e},useTransition:function(){var e=iP(!1),t=e[0];return e=B$.bind(null,e[1]),sc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vr,i=sc();if(Ir){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ji===null)throw Error(Ue(349));Df&30||Aj(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,oP(Dj.bind(null,r,o,e),[e]),r.flags|=2048,Uv(9,jj.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=sc(),t=ji.identifierPrefix;if(Ir){var n=nl,r=tl;n=(r&~(1<<32-Na(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=U$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W$={readContext:ia,useCallback:zj,useContext:ia,useEffect:sR,useImperativeHandle:Vj,useInsertionEffect:Uj,useLayoutEffect:Bj,useMemo:Wj,useReducer:fE,useRef:Fj,useState:function(){return fE(Fv)},useDebugValue:aR,useDeferredValue:function(e){var t=oa();return Hj(t,vi.memoizedState,e)},useTransition:function(){var e=fE(Fv)[0],t=oa().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Ij,useId:Gj,unstable_isNewReconciler:!1},H$={readContext:ia,useCallback:zj,useContext:ia,useEffect:sR,useImperativeHandle:Vj,useInsertionEffect:Uj,useLayoutEffect:Bj,useMemo:Wj,useReducer:hE,useRef:Fj,useState:function(){return hE(Fv)},useDebugValue:aR,useDeferredValue:function(e){var t=oa();return vi===null?t.memoizedState=e:Hj(t,vi.memoizedState,e)},useTransition:function(){var e=hE(Fv)[0],t=oa().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Ij,useId:Gj,unstable_isNewReconciler:!1};function Ca(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function JC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:zr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var e_={isMounted:function(e){return(e=e._reactInternals)?Xf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Io(),i=Mu(e),o=ol(r,i);o.payload=t,n!=null&&(o.callback=n),t=ju(e,o,i),t!==null&&(Ia(t,e,i,r),xb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Io(),i=Mu(e),o=ol(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ju(e,o,i),t!==null&&(Ia(t,e,i,r),xb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Io(),r=Mu(e),i=ol(n,r);i.tag=2,t!=null&&(i.callback=t),t=ju(e,i,r),t!==null&&(Ia(t,e,r,n),xb(t,e,r))}};function sP(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Nv(n,r)||!Nv(i,o):!0}function Qj(e,t,n){var r=!1,i=Ku,o=t.contextType;return typeof o=="object"&&o!==null?o=ia(o):(i=Jo(t)?Af:lo.current,r=t.contextTypes,o=(r=r!=null)?$p(e,i):Ku),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=e_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&e_.enqueueReplaceState(t,t.state,null)}function ZC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Z1(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ia(o):(o=Jo(t)?Af:lo.current,i.context=$p(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(JC(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&e_.enqueueReplaceState(i,i.state,null),zx(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hp(e,t){try{var n="",r=t;do n+=b3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function pE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G$=typeof WeakMap=="function"?WeakMap:Map;function Xj(e,t,n){n=ol(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kx||(Kx=!0,uT=r),eT(e,t)},n}function Jj(e,t,n){n=ol(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eT(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eT(e,t),typeof r!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s5.bind(null,e,t,n),t.then(e,e))}function lP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ol(-1,1),t.tag=2,ju(n,t,1))),n.lanes|=1),e)}var q$=xl.ReactCurrentOwner,qo=!1;function ko(e,t,n,r){t.child=e===null?Rj(t,null,n,r):zp(t,e.child,n,r)}function dP(e,t,n,r,i){n=n.render;var o=t.ref;return Ep(t,i),r=iR(e,t,n,r,o,i),n=oR(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hl(e,t,i)):(Ir&&n&&G1(t),t.flags|=1,ko(e,t,r,i),t.child)}function fP(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!mR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Zj(e,t,o,r,i)):(e=Tb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nv,n(s,r)&&e.ref===t.ref)return hl(e,t,i)}return t.flags|=1,e=Lu(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zj(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Nv(o,r)&&e.ref===t.ref)if(qo=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(qo=!0);else return t.lanes=e.lanes,hl(e,t,i)}return tT(e,t,n,r,i)}function eD(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(yp,bs),bs|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xr(yp,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xr(yp,bs),bs|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xr(yp,bs),bs|=r;return ko(e,t,i,n),t.child}function tD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tT(e,t,n,r,i){var o=Jo(n)?Af:lo.current;return o=$p(t,o),Ep(t,i),n=iR(e,t,n,r,o,i),r=oR(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hl(e,t,i)):(Ir&&r&&G1(t),t.flags|=1,ko(e,t,n,i),t.child)}function hP(e,t,n,r,i){if(Jo(n)){var o=!0;Fx(t)}else o=!1;if(Ep(t,i),t.stateNode===null)wb(e,t),Qj(t,n,r),ZC(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var a=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=ia(l):(l=Jo(n)?Af:lo.current,l=$p(t,l));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==r||a!==l)&&aP(t,s,r,l),pu=!1;var m=t.memoizedState;s.state=m,zx(t,r,s,i),a=t.memoizedState,c!==r||m!==a||Xo.current||pu?(typeof f=="function"&&(JC(t,n,f,r),a=t.memoizedState),(c=pu||sP(t,n,c,r,m,a,l))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=l,r=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oj(e,t),c=t.memoizedProps,l=t.type===t.elementType?c:Ca(t.type,c),s.props=l,p=t.pendingProps,m=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ia(a):(a=Jo(n)?Af:lo.current,a=$p(t,a));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==p||m!==a)&&aP(t,s,r,a),pu=!1,m=t.memoizedState,s.state=m,zx(t,r,s,i);var x=t.memoizedState;c!==p||m!==x||Xo.current||pu?(typeof E=="function"&&(JC(t,n,E,r),x=t.memoizedState),(l=pu||sP(t,n,l,r,m,x,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=a,r=l):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return nT(e,t,n,r,o,i)}function nT(e,t,n,r,i,o){tD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&JO(t,n,!1),hl(e,t,o);r=t.stateNode,q$.current=t;var c=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=zp(t,e.child,null,o),t.child=zp(t,null,c,o)):ko(e,t,c,o),t.memoizedState=r.state,i&&JO(t,n,!0),t.child}function nD(e){var t=e.stateNode;t.pendingContext?XO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&XO(e,t.context,!1),eR(e,t.containerInfo)}function pP(e,t,n,r,i){return Vp(),K1(i),t.flags|=256,ko(e,t,n,r),t.child}var rT={dehydrated:null,treeContext:null,retryLane:0};function iT(e){return{baseLanes:e,cachePool:null,transitions:null}}function rD(e,t,n){var r=t.pendingProps,i=Br.current,o=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xr(Br,i&1),e===null)return QC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=r_(s,r,0,null),e=Tf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=iT(n),t.memoizedState=rT,e):cR(t,s));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return K$(e,t,s,r,c,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,c=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Lu(i,a),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Lu(c,o):(o=Tf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?iT(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=rT,r}return o=e.child,e=o.sibling,r=Lu(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cR(e,t){return t=r_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Z0(e,t,n,r){return r!==null&&K1(r),zp(t,e.child,null,n),e=cR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K$(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=pE(Error(Ue(422))),Z0(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=r_({mode:"visible",children:r.children},i,0,null),o=Tf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&zp(t,e.child,null,s),t.child.memoizedState=iT(s),t.memoizedState=rT,o);if(!(t.mode&1))return Z0(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(Ue(419)),r=pE(o,r,void 0),Z0(e,t,s,r)}if(c=(s&e.childLanes)!==0,qo||c){if(r=ji,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fl(e,i),Ia(r,e,i,-1))}return pR(),r=pE(Error(Ue(421))),Z0(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=a5.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ss=Au(i.nextSibling),Es=t,Ir=!0,Oa=null,e!==null&&(Xs[Js++]=tl,Xs[Js++]=nl,Xs[Js++]=jf,tl=e.id,nl=e.overflow,jf=t),t=cR(t,r.children),t.flags|=4096,t)}function mP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),XC(e.return,t,n)}function mE(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function iD(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ko(e,t,r.children,n),r=Br.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mP(e,n,t);else if(e.tag===19)mP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xr(Br,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wx(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),mE(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wx(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}mE(t,!0,n,null,o);break;case"together":mE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=Lu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Y$(e,t,n){switch(t.tag){case 3:nD(t),Vp();break;case 5:Pj(t);break;case 1:Jo(t.type)&&Fx(t);break;case 4:eR(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xr($x,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xr(Br,Br.current&1),t.flags|=128,null):n&t.child.childLanes?rD(e,t,n):(xr(Br,Br.current&1),e=hl(e,t,n),e!==null?e.sibling:null);xr(Br,Br.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xr(Br,Br.current),r)break;return null;case 22:case 23:return t.lanes=0,eD(e,t,n)}return hl(e,t,n)}var oD,oT,sD,aD;oD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oT=function(){};sD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mf(gc.current);var o=null;switch(n){case"input":i=RC(e,i),r=RC(e,r),o=[];break;case"select":i=zr({},i,{value:void 0}),r=zr({},r,{value:void 0}),o=[];break;case"textarea":i=PC(e,i),r=PC(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mx)}IC(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var c=i[l];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ev.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var a=r[l];if(c=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&a!==c&&(a!=null||c!=null))if(l==="style")if(c){for(s in c)!c.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&c[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(l,n)),n=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(o=o||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ev.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&Tr("scroll",e),o||c===a||(o=[])):(o=o||[]).push(l,a))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};aD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fg(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q$(e,t,n){var r=t.pendingProps;switch(q1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(t),null;case 1:return Jo(t.type)&&Lx(),oo(t),null;case 3:return r=t.stateNode,Wp(),kr(Xo),kr(lo),nR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(X0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oa!==null&&(hT(Oa),Oa=null))),oT(e,t),oo(t),null;case 5:tR(t);var i=mf(Mv.current);if(n=t.type,e!==null&&t.stateNode!=null)sD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return oo(t),null}if(e=mf(gc.current),X0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[dc]=t,r[jv]=o,e=(t.mode&1)!==0,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(i=0;i<Xg.length;i++)Tr(Xg[i],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":EO(r,o),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tr("invalid",r);break;case"textarea":TO(r,o),Tr("invalid",r)}IC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Q0(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Q0(r.textContent,c,e),i=["children",""+c]):Ev.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Tr("scroll",r)}switch(n){case"input":V0(r),CO(r,o,!0);break;case"textarea":V0(r),RO(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mx)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[dc]=t,e[jv]=r,oD(e,t,!1,!1),t.stateNode=e;e:{switch(s=AC(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),i=r;break;case"iframe":case"object":case"embed":Tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xg.length;i++)Tr(Xg[i],e);i=r;break;case"source":Tr("error",e),i=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),i=r;break;case"details":Tr("toggle",e),i=r;break;case"input":EO(e,r),i=RC(e,r),Tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=zr({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":TO(e,r),i=PC(e,r),Tr("invalid",e);break;default:i=r}IC(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var a=c[o];o==="style"?FA(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&MA(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cv(e,a):typeof a=="number"&&Cv(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ev.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Tr("scroll",e):a!=null&&I1(e,o,a,s))}switch(n){case"input":V0(e),CO(e,r,!1);break;case"textarea":V0(e),RO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qu(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?xp(e,!!r.multiple,o,!1):r.defaultValue!=null&&xp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Mx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return oo(t),null;case 6:if(e&&t.stateNode!=null)aD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=mf(Mv.current),mf(gc.current),X0(t)){if(r=t.stateNode,n=t.memoizedProps,r[dc]=t,(o=r.nodeValue!==n)&&(e=Es,e!==null))switch(e.tag){case 3:Q0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Q0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dc]=t,t.stateNode=r}return oo(t),null;case 13:if(kr(Br),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&Ss!==null&&t.mode&1&&!(t.flags&128))Cj(),Vp(),t.flags|=98560,o=!1;else if(o=X0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ue(317));o[dc]=t}else Vp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oo(t),o=!1}else Oa!==null&&(hT(Oa),Oa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Br.current&1?yi===0&&(yi=3):pR())),t.updateQueue!==null&&(t.flags|=4),oo(t),null);case 4:return Wp(),oT(e,t),e===null&&Iv(t.stateNode.containerInfo),oo(t),null;case 10:return X1(t.type._context),oo(t),null;case 17:return Jo(t.type)&&Lx(),oo(t),null;case 19:if(kr(Br),o=t.memoizedState,o===null)return oo(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Fg(o,!1);else{if(yi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Wx(e),s!==null){for(t.flags|=128,Fg(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xr(Br,Br.current&1|2),t.child}e=e.sibling}o.tail!==null&&ii()>Gp&&(t.flags|=128,r=!0,Fg(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wx(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ir)return oo(t),null}else 2*ii()-o.renderingStartTime>Gp&&n!==1073741824&&(t.flags|=128,r=!0,Fg(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ii(),t.sibling=null,n=Br.current,xr(Br,r?n&1|2:n&1),t):(oo(t),null);case 22:case 23:return hR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bs&1073741824&&(oo(t),t.subtreeFlags&6&&(t.flags|=8192)):oo(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function X$(e,t){switch(q1(t),t.tag){case 1:return Jo(t.type)&&Lx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wp(),kr(Xo),kr(lo),nR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tR(t),null;case 13:if(kr(Br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Vp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kr(Br),null;case 4:return Wp(),null;case 10:return X1(t.type._context),null;case 22:case 23:return hR(),null;case 24:return null;default:return null}}var eb=!1,ao=!1,J$=typeof WeakSet=="function"?WeakSet:Set,ct=null;function vp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yr(e,t,r)}else n.current=null}function sT(e,t,n){try{n()}catch(r){Yr(e,t,r)}}var gP=!1;function Z$(e,t){if(zC=Ax,e=fj(),H1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,c=-1,a=-1,l=0,f=0,p=e,m=null;t:for(;;){for(var E;p!==n||i!==0&&p.nodeType!==3||(c=s+i),p!==o||r!==0&&p.nodeType!==3||(a=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(E=p.firstChild)!==null;)m=p,p=E;for(;;){if(p===e)break t;if(m===n&&++l===i&&(c=s),m===o&&++f===r&&(a=s),(E=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=E}n=c===-1||a===-1?null:{start:c,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(WC={focusedElem:e,selectionRange:n},Ax=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){t=ct;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,R=t.stateNode,_=R.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ca(t.type,y),w);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(I){Yr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}return x=gP,gP=!1,x}function dv(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sT(t,n,o)}i=i.next}while(i!==r)}}function t_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aT(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cD(e){var t=e.alternate;t!==null&&(e.alternate=null,cD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dc],delete t[jv],delete t[qC],delete t[D$],delete t[M$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lD(e){return e.tag===5||e.tag===3||e.tag===4}function vP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mx));else if(r!==4&&(e=e.child,e!==null))for(cT(e,t,n),e=e.sibling;e!==null;)cT(e,t,n),e=e.sibling}function lT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lT(e,t,n),e=e.sibling;e!==null;)lT(e,t,n),e=e.sibling}var Wi=null,ka=!1;function su(e,t,n){for(n=n.child;n!==null;)uD(e,t,n),n=n.sibling}function uD(e,t,n){if(mc&&typeof mc.onCommitFiberUnmount=="function")try{mc.onCommitFiberUnmount(qS,n)}catch{}switch(n.tag){case 5:ao||vp(n,t);case 6:var r=Wi,i=ka;Wi=null,su(e,t,n),Wi=r,ka=i,Wi!==null&&(ka?(e=Wi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wi.removeChild(n.stateNode));break;case 18:Wi!==null&&(ka?(e=Wi,n=n.stateNode,e.nodeType===8?cE(e.parentNode,n):e.nodeType===1&&cE(e,n),Ov(e)):cE(Wi,n.stateNode));break;case 4:r=Wi,i=ka,Wi=n.stateNode.containerInfo,ka=!0,su(e,t,n),Wi=r,ka=i;break;case 0:case 11:case 14:case 15:if(!ao&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sT(n,t,s),i=i.next}while(i!==r)}su(e,t,n);break;case 1:if(!ao&&(vp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Yr(n,t,c)}su(e,t,n);break;case 21:su(e,t,n);break;case 22:n.mode&1?(ao=(r=ao)||n.memoizedState!==null,su(e,t,n),ao=r):su(e,t,n);break;default:su(e,t,n)}}function yP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J$),t.forEach(function(r){var i=c5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:Wi=c.stateNode,ka=!1;break e;case 3:Wi=c.stateNode.containerInfo,ka=!0;break e;case 4:Wi=c.stateNode.containerInfo,ka=!0;break e}c=c.return}if(Wi===null)throw Error(Ue(160));uD(o,s,i),Wi=null,ka=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){Yr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dD(t,e),t=t.sibling}function dD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(t,e),ic(e),r&4){try{dv(3,e,e.return),t_(3,e)}catch(y){Yr(e,e.return,y)}try{dv(5,e,e.return)}catch(y){Yr(e,e.return,y)}}break;case 1:wa(t,e),ic(e),r&512&&n!==null&&vp(n,n.return);break;case 5:if(wa(t,e),ic(e),r&512&&n!==null&&vp(n,n.return),e.flags&32){var i=e.stateNode;try{Cv(i,"")}catch(y){Yr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,c=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&AA(i,o),AC(c,s);var l=AC(c,o);for(s=0;s<a.length;s+=2){var f=a[s],p=a[s+1];f==="style"?FA(i,p):f==="dangerouslySetInnerHTML"?MA(i,p):f==="children"?Cv(i,p):I1(i,f,p,l)}switch(c){case"input":kC(i,o);break;case"textarea":jA(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?xp(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?xp(i,!!o.multiple,o.defaultValue,!0):xp(i,!!o.multiple,o.multiple?[]:"",!1))}i[jv]=o}catch(y){Yr(e,e.return,y)}}break;case 6:if(wa(t,e),ic(e),r&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Yr(e,e.return,y)}}break;case 3:if(wa(t,e),ic(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ov(t.containerInfo)}catch(y){Yr(e,e.return,y)}break;case 4:wa(t,e),ic(e);break;case 13:wa(t,e),ic(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dR=ii())),r&4&&yP(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ao=(l=ao)||f,wa(t,e),ao=l):wa(t,e),ic(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!f&&e.mode&1)for(ct=e,f=e.child;f!==null;){for(p=ct=f;ct!==null;){switch(m=ct,E=m.child,m.tag){case 0:case 11:case 14:case 15:dv(4,m,m.return);break;case 1:vp(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Yr(r,n,y)}}break;case 5:vp(m,m.return);break;case 22:if(m.memoizedState!==null){xP(p);continue}}E!==null?(E.return=m,ct=E):xP(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=p.stateNode,a=p.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=LA("display",s))}catch(y){Yr(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(y){Yr(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wa(t,e),ic(e),r&4&&yP(e);break;case 21:break;default:wa(t,e),ic(e)}}function ic(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lD(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cv(i,""),r.flags&=-33);var o=vP(e);lT(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,c=vP(e);cT(e,c,s);break;default:throw Error(Ue(161))}}catch(a){Yr(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e5(e,t,n){ct=e,fD(e)}function fD(e,t,n){for(var r=(e.mode&1)!==0;ct!==null;){var i=ct,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||eb;if(!s){var c=i.alternate,a=c!==null&&c.memoizedState!==null||ao;c=eb;var l=ao;if(eb=s,(ao=a)&&!l)for(ct=i;ct!==null;)s=ct,a=s.child,s.tag===22&&s.memoizedState!==null?SP(i):a!==null?(a.return=s,ct=a):SP(i);for(;o!==null;)ct=o,fD(o),o=o.sibling;ct=i,eb=c,ao=l}bP(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ct=o):bP(e)}}function bP(e){for(;ct!==null;){var t=ct;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ao||t_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ao)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ca(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&rP(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rP(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var f=l.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ov(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ao||t.flags&512&&aT(t)}catch(m){Yr(t,t.return,m)}}if(t===e){ct=null;break}if(n=t.sibling,n!==null){n.return=t.return,ct=n;break}ct=t.return}}function xP(e){for(;ct!==null;){var t=ct;if(t===e){ct=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ct=n;break}ct=t.return}}function SP(e){for(;ct!==null;){var t=ct;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{t_(4,t)}catch(a){Yr(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Yr(t,i,a)}}var o=t.return;try{aT(t)}catch(a){Yr(t,o,a)}break;case 5:var s=t.return;try{aT(t)}catch(a){Yr(t,s,a)}}}catch(a){Yr(t,t.return,a)}if(t===e){ct=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ct=c;break}ct=t.return}}var t5=Math.ceil,qx=xl.ReactCurrentDispatcher,lR=xl.ReactCurrentOwner,ta=xl.ReactCurrentBatchConfig,Dn=0,ji=null,di=null,qi=0,bs=0,yp=id(0),yi=0,Bv=null,Mf=0,n_=0,uR=0,fv=null,Ho=null,dR=0,Gp=1/0,Jc=null,Kx=!1,uT=null,Du=null,tb=!1,Cu=null,Yx=0,hv=0,dT=null,Eb=-1,Cb=0;function Io(){return Dn&6?ii():Eb!==-1?Eb:Eb=ii()}function Mu(e){return e.mode&1?Dn&2&&qi!==0?qi&-qi:F$.transition!==null?(Cb===0&&(Cb=QA()),Cb):(e=nr,e!==0||(e=window.event,e=e===void 0?16:rj(e.type)),e):1}function Ia(e,t,n,r){if(50<hv)throw hv=0,dT=null,Error(Ue(185));dy(e,n,r),(!(Dn&2)||e!==ji)&&(e===ji&&(!(Dn&2)&&(n_|=n),yi===4&&vu(e,qi)),Zo(e,r),n===1&&Dn===0&&!(t.mode&1)&&(Gp=ii()+500,JS&&od()))}function Zo(e,t){var n=e.callbackNode;F3(e,t);var r=Ix(e,e===ji?qi:0);if(r===0)n!==null&&PO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&PO(n),t===1)e.tag===0?L$(_P.bind(null,e)):_j(_P.bind(null,e)),A$(function(){!(Dn&6)&&od()}),n=null;else{switch(XA(r)){case 1:n=L1;break;case 4:n=KA;break;case 16:n=Nx;break;case 536870912:n=YA;break;default:n=Nx}n=xD(n,hD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hD(e,t){if(Eb=-1,Cb=0,Dn&6)throw Error(Ue(327));var n=e.callbackNode;if(Cp()&&e.callbackNode!==n)return null;var r=Ix(e,e===ji?qi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qx(e,r);else{t=r;var i=Dn;Dn|=2;var o=mD();(ji!==e||qi!==t)&&(Jc=null,Gp=ii()+500,Cf(e,t));do try{i5();break}catch(c){pD(e,c)}while(!0);Q1(),qx.current=o,Dn=i,di!==null?t=0:(ji=null,qi=0,t=yi)}if(t!==0){if(t===2&&(i=FC(e),i!==0&&(r=i,t=fT(e,i))),t===1)throw n=Bv,Cf(e,0),vu(e,r),Zo(e,ii()),n;if(t===6)vu(e,r);else{if(i=e.current.alternate,!(r&30)&&!n5(i)&&(t=Qx(e,r),t===2&&(o=FC(e),o!==0&&(r=o,t=fT(e,o))),t===1))throw n=Bv,Cf(e,0),vu(e,r),Zo(e,ii()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:lf(e,Ho,Jc);break;case 3:if(vu(e,r),(r&130023424)===r&&(t=dR+500-ii(),10<t)){if(Ix(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Io(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=GC(lf.bind(null,e,Ho,Jc),t);break}lf(e,Ho,Jc);break;case 4:if(vu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Na(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ii()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t5(r/1960))-r,10<r){e.timeoutHandle=GC(lf.bind(null,e,Ho,Jc),r);break}lf(e,Ho,Jc);break;case 5:lf(e,Ho,Jc);break;default:throw Error(Ue(329))}}}return Zo(e,ii()),e.callbackNode===n?hD.bind(null,e):null}function fT(e,t){var n=fv;return e.current.memoizedState.isDehydrated&&(Cf(e,t).flags|=256),e=Qx(e,t),e!==2&&(t=Ho,Ho=n,t!==null&&hT(t)),e}function hT(e){Ho===null?Ho=e:Ho.push.apply(Ho,e)}function n5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Aa(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vu(e,t){for(t&=~uR,t&=~n_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Na(t),r=1<<n;e[n]=-1,t&=~r}}function _P(e){if(Dn&6)throw Error(Ue(327));Cp();var t=Ix(e,0);if(!(t&1))return Zo(e,ii()),null;var n=Qx(e,t);if(e.tag!==0&&n===2){var r=FC(e);r!==0&&(t=r,n=fT(e,r))}if(n===1)throw n=Bv,Cf(e,0),vu(e,t),Zo(e,ii()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lf(e,Ho,Jc),Zo(e,ii()),null}function fR(e,t){var n=Dn;Dn|=1;try{return e(t)}finally{Dn=n,Dn===0&&(Gp=ii()+500,JS&&od())}}function Lf(e){Cu!==null&&Cu.tag===0&&!(Dn&6)&&Cp();var t=Dn;Dn|=1;var n=ta.transition,r=nr;try{if(ta.transition=null,nr=1,e)return e()}finally{nr=r,ta.transition=n,Dn=t,!(Dn&6)&&od()}}function hR(){bs=yp.current,kr(yp)}function Cf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,I$(n)),di!==null)for(n=di.return;n!==null;){var r=n;switch(q1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lx();break;case 3:Wp(),kr(Xo),kr(lo),nR();break;case 5:tR(r);break;case 4:Wp();break;case 13:kr(Br);break;case 19:kr(Br);break;case 10:X1(r.type._context);break;case 22:case 23:hR()}n=n.return}if(ji=e,di=e=Lu(e.current,null),qi=bs=t,yi=0,Bv=null,uR=n_=Mf=0,Ho=fv=null,pf!==null){for(t=0;t<pf.length;t++)if(n=pf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pf=null}return e}function pD(e,t){do{var n=di;try{if(Q1(),Sb.current=Gx,Hx){for(var r=Vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hx=!1}if(Df=0,Ii=vi=Vr=null,uv=!1,Lv=0,lR.current=null,n===null||n.return===null){yi=1,Bv=t,di=null;break}e:{var o=e,s=n.return,c=n,a=t;if(t=qi,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=lP(s);if(E!==null){E.flags&=-257,uP(E,s,c,o,t),E.mode&1&&cP(o,l,t),t=E,a=l;var x=t.updateQueue;if(x===null){var y=new Set;y.add(a),t.updateQueue=y}else x.add(a);break e}else{if(!(t&1)){cP(o,l,t),pR();break e}a=Error(Ue(426))}}else if(Ir&&c.mode&1){var w=lP(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uP(w,s,c,o,t),K1(Hp(a,c));break e}}o=a=Hp(a,c),yi!==4&&(yi=2),fv===null?fv=[o]:fv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var R=Xj(o,a,t);nP(o,R);break e;case 1:c=a;var _=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Du===null||!Du.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Jj(o,c,t);nP(o,I);break e}}o=o.return}while(o!==null)}vD(n)}catch(j){t=j,di===n&&n!==null&&(di=n=n.return);continue}break}while(!0)}function mD(){var e=qx.current;return qx.current=Gx,e===null?Gx:e}function pR(){(yi===0||yi===3||yi===2)&&(yi=4),ji===null||!(Mf&268435455)&&!(n_&268435455)||vu(ji,qi)}function Qx(e,t){var n=Dn;Dn|=2;var r=mD();(ji!==e||qi!==t)&&(Jc=null,Cf(e,t));do try{r5();break}catch(i){pD(e,i)}while(!0);if(Q1(),Dn=n,qx.current=r,di!==null)throw Error(Ue(261));return ji=null,qi=0,yi}function r5(){for(;di!==null;)gD(di)}function i5(){for(;di!==null&&!O3();)gD(di)}function gD(e){var t=bD(e.alternate,e,bs);e.memoizedProps=e.pendingProps,t===null?vD(e):di=t,lR.current=null}function vD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=X$(n,t),n!==null){n.flags&=32767,di=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yi=6,di=null;return}}else if(n=Q$(n,t,bs),n!==null){di=n;return}if(t=t.sibling,t!==null){di=t;return}di=t=e}while(t!==null);yi===0&&(yi=5)}function lf(e,t,n){var r=nr,i=ta.transition;try{ta.transition=null,nr=1,o5(e,t,n,r)}finally{ta.transition=i,nr=r}return null}function o5(e,t,n,r){do Cp();while(Cu!==null);if(Dn&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(U3(e,o),e===ji&&(di=ji=null,qi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tb||(tb=!0,xD(Nx,function(){return Cp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ta.transition,ta.transition=null;var s=nr;nr=1;var c=Dn;Dn|=4,lR.current=null,Z$(e,n),dD(n,e),C$(WC),Ax=!!zC,WC=zC=null,e.current=n,e5(n),P3(),Dn=c,nr=s,ta.transition=o}else e.current=n;if(tb&&(tb=!1,Cu=e,Yx=i),o=e.pendingLanes,o===0&&(Du=null),A3(n.stateNode),Zo(e,ii()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kx)throw Kx=!1,e=uT,uT=null,e;return Yx&1&&e.tag!==0&&Cp(),o=e.pendingLanes,o&1?e===dT?hv++:(hv=0,dT=e):hv=0,od(),null}function Cp(){if(Cu!==null){var e=XA(Yx),t=ta.transition,n=nr;try{if(ta.transition=null,nr=16>e?16:e,Cu===null)var r=!1;else{if(e=Cu,Cu=null,Yx=0,Dn&6)throw Error(Ue(331));var i=Dn;for(Dn|=4,ct=e.current;ct!==null;){var o=ct,s=o.child;if(ct.flags&16){var c=o.deletions;if(c!==null){for(var a=0;a<c.length;a++){var l=c[a];for(ct=l;ct!==null;){var f=ct;switch(f.tag){case 0:case 11:case 15:dv(8,f,o)}var p=f.child;if(p!==null)p.return=f,ct=p;else for(;ct!==null;){f=ct;var m=f.sibling,E=f.return;if(cD(f),f===l){ct=null;break}if(m!==null){m.return=E,ct=m;break}ct=E}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ct=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ct=s;else e:for(;ct!==null;){if(o=ct,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dv(9,o,o.return)}var R=o.sibling;if(R!==null){R.return=o.return,ct=R;break e}ct=o.return}}var _=e.current;for(ct=_;ct!==null;){s=ct;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ct=C;else e:for(s=_;ct!==null;){if(c=ct,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:t_(9,c)}}catch(j){Yr(c,c.return,j)}if(c===s){ct=null;break e}var I=c.sibling;if(I!==null){I.return=c.return,ct=I;break e}ct=c.return}}if(Dn=i,od(),mc&&typeof mc.onPostCommitFiberRoot=="function")try{mc.onPostCommitFiberRoot(qS,e)}catch{}r=!0}return r}finally{nr=n,ta.transition=t}}return!1}function wP(e,t,n){t=Hp(n,t),t=Xj(e,t,1),e=ju(e,t,1),t=Io(),e!==null&&(dy(e,1,t),Zo(e,t))}function Yr(e,t,n){if(e.tag===3)wP(e,e,n);else for(;t!==null;){if(t.tag===3){wP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Du===null||!Du.has(r))){e=Hp(n,e),e=Jj(t,e,1),t=ju(t,e,1),e=Io(),t!==null&&(dy(t,1,e),Zo(t,e));break}}t=t.return}}function s5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Io(),e.pingedLanes|=e.suspendedLanes&n,ji===e&&(qi&n)===n&&(yi===4||yi===3&&(qi&130023424)===qi&&500>ii()-dR?Cf(e,0):uR|=n),Zo(e,t)}function yD(e,t){t===0&&(e.mode&1?(t=H0,H0<<=1,!(H0&130023424)&&(H0=4194304)):t=1);var n=Io();e=fl(e,t),e!==null&&(dy(e,t,n),Zo(e,n))}function a5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yD(e,n)}function c5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),yD(e,n)}var bD;bD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xo.current)qo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qo=!1,Y$(e,t,n);qo=!!(e.flags&131072)}else qo=!1,Ir&&t.flags&1048576&&wj(t,Bx,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wb(e,t),e=t.pendingProps;var i=$p(t,lo.current);Ep(t,n),i=iR(null,t,r,e,i,n);var o=oR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jo(r)?(o=!0,Fx(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z1(t),i.updater=e_,t.stateNode=i,i._reactInternals=t,ZC(t,r,e,n),t=nT(null,t,r,!0,o,n)):(t.tag=0,Ir&&o&&G1(t),ko(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=u5(r),e=Ca(r,e),i){case 0:t=tT(null,t,r,e,n);break e;case 1:t=hP(null,t,r,e,n);break e;case 11:t=dP(null,t,r,e,n);break e;case 14:t=fP(null,t,r,Ca(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),tT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),hP(e,t,r,i,n);case 3:e:{if(nD(t),e===null)throw Error(Ue(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Oj(e,t),zx(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Hp(Error(Ue(423)),t),t=pP(e,t,r,n,i);break e}else if(r!==i){i=Hp(Error(Ue(424)),t),t=pP(e,t,r,n,i);break e}else for(Ss=Au(t.stateNode.containerInfo.firstChild),Es=t,Ir=!0,Oa=null,n=Rj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vp(),r===i){t=hl(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return Pj(t),e===null&&QC(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,HC(r,i)?s=null:o!==null&&HC(r,o)&&(t.flags|=32),tD(e,t),ko(e,t,s,n),t.child;case 6:return e===null&&QC(t),null;case 13:return rD(e,t,n);case 4:return eR(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zp(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),dP(e,t,r,i,n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:return ko(e,t,t.pendingProps.children,n),t.child;case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xr($x,r._currentValue),r._currentValue=s,o!==null)if(Aa(o.value,s)){if(o.children===i.children&&!Xo.current){t=hl(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var a=c.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=ol(-1,n&-n),a.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var f=l.pending;f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),XC(o.return,n,t),c.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ue(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),XC(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ko(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ep(t,n),i=ia(i),r=r(i),t.flags|=1,ko(e,t,r,n),t.child;case 14:return r=t.type,i=Ca(r,t.pendingProps),i=Ca(r.type,i),fP(e,t,r,i,n);case 15:return Zj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ca(r,i),wb(e,t),t.tag=1,Jo(r)?(e=!0,Fx(t)):e=!1,Ep(t,n),Qj(t,r,i),ZC(t,r,i,n),nT(null,t,r,!0,e,n);case 19:return iD(e,t,n);case 22:return eD(e,t,n)}throw Error(Ue(156,t.tag))};function xD(e,t){return qA(e,t)}function l5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,n,r){return new l5(e,t,n,r)}function mR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u5(e){if(typeof e=="function")return mR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j1)return 11;if(e===D1)return 14}return 2}function Lu(e,t){var n=e.alternate;return n===null?(n=ea(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tb(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")mR(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case cp:return Tf(n.children,i,o,t);case A1:s=8,i|=8;break;case wC:return e=ea(12,n,t,i|2),e.elementType=wC,e.lanes=o,e;case EC:return e=ea(13,n,t,i),e.elementType=EC,e.lanes=o,e;case CC:return e=ea(19,n,t,i),e.elementType=CC,e.lanes=o,e;case PA:return r_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kA:s=10;break e;case OA:s=9;break e;case j1:s=11;break e;case D1:s=14;break e;case hu:s=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=ea(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Tf(e,t,n,r){return e=ea(7,e,r,t),e.lanes=n,e}function r_(e,t,n,r){return e=ea(22,e,r,t),e.elementType=PA,e.lanes=n,e.stateNode={isHidden:!1},e}function gE(e,t,n){return e=ea(6,e,null,t),e.lanes=n,e}function vE(e,t,n){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xw(0),this.expirationTimes=Xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gR(e,t,n,r,i,o,s,c,a){return e=new d5(e,t,n,c,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ea(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z1(o),e}function f5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ap,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SD(e){if(!e)return Ku;e=e._reactInternals;e:{if(Xf(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Jo(n))return Sj(e,n,t)}return t}function _D(e,t,n,r,i,o,s,c,a){return e=gR(n,r,!0,e,i,o,s,c,a),e.context=SD(null),n=e.current,r=Io(),i=Mu(n),o=ol(r,i),o.callback=t??null,ju(n,o,i),e.current.lanes=i,dy(e,i,r),Zo(e,r),e}function i_(e,t,n,r){var i=t.current,o=Io(),s=Mu(i);return n=SD(n),t.context===null?t.context=n:t.pendingContext=n,t=ol(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ju(i,t,s),e!==null&&(Ia(e,i,s,o),xb(e,i,s)),s}function Xx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vR(e,t){EP(e,t),(e=e.alternate)&&EP(e,t)}function h5(){return null}var wD=typeof reportError=="function"?reportError:function(e){console.error(e)};function yR(e){this._internalRoot=e}o_.prototype.render=yR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));i_(e,t,null,null)};o_.prototype.unmount=yR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lf(function(){i_(null,e,null,null)}),t[dl]=null}};function o_(e){this._internalRoot=e}o_.prototype.unstable_scheduleHydration=function(e){if(e){var t=ej();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gu.length&&t!==0&&t<gu[n].priority;n++);gu.splice(n,0,e),n===0&&nj(e)}};function bR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CP(){}function p5(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Xx(s);o.call(l)}}var s=_D(t,r,e,0,null,!1,!1,"",CP);return e._reactRootContainer=s,e[dl]=s.current,Iv(e.nodeType===8?e.parentNode:e),Lf(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var l=Xx(a);c.call(l)}}var a=gR(e,0,!1,null,null,!1,!1,"",CP);return e._reactRootContainer=a,e[dl]=a.current,Iv(e.nodeType===8?e.parentNode:e),Lf(function(){i_(t,a,n,r)}),a}function a_(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var c=i;i=function(){var a=Xx(s);c.call(a)}}i_(t,s,e,i)}else s=p5(n,t,e,i,r);return Xx(s)}JA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qg(t.pendingLanes);n!==0&&(F1(t,n|1),Zo(t,ii()),!(Dn&6)&&(Gp=ii()+500,od()))}break;case 13:Lf(function(){var r=fl(e,1);if(r!==null){var i=Io();Ia(r,e,1,i)}}),vR(e,1)}};U1=function(e){if(e.tag===13){var t=fl(e,134217728);if(t!==null){var n=Io();Ia(t,e,134217728,n)}vR(e,134217728)}};ZA=function(e){if(e.tag===13){var t=Mu(e),n=fl(e,t);if(n!==null){var r=Io();Ia(n,e,t,r)}vR(e,t)}};ej=function(){return nr};tj=function(e,t){var n=nr;try{return nr=e,t()}finally{nr=n}};DC=function(e,t,n){switch(t){case"input":if(kC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=XS(r);if(!i)throw Error(Ue(90));IA(r),kC(r,i)}}}break;case"textarea":jA(e,n);break;case"select":t=n.value,t!=null&&xp(e,!!n.multiple,t,!1)}};$A=fR;VA=Lf;var m5={usingClientEntryPoint:!1,Events:[hy,fp,XS,UA,BA,fR]},Ug={findFiberByHostInstance:hf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g5={bundleType:Ug.bundleType,version:Ug.version,rendererPackageName:Ug.rendererPackageName,rendererConfig:Ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HA(e),e===null?null:e.stateNode},findFiberByHostInstance:Ug.findFiberByHostInstance||h5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nb.isDisabled&&nb.supportsFiber)try{qS=nb.inject(g5),mc=nb}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m5;Ns.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bR(t))throw Error(Ue(200));return f5(e,t,null,n)};Ns.createRoot=function(e,t){if(!bR(e))throw Error(Ue(299));var n=!1,r="",i=wD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gR(e,1,!1,null,null,n,!1,r,i),e[dl]=t.current,Iv(e.nodeType===8?e.parentNode:e),new yR(t)};Ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=HA(t),e=e===null?null:e.stateNode,e};Ns.flushSync=function(e){return Lf(e)};Ns.hydrate=function(e,t,n){if(!s_(t))throw Error(Ue(200));return a_(null,e,t,!0,n)};Ns.hydrateRoot=function(e,t,n){if(!bR(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=wD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=_D(t,null,e,1,n??null,i,!1,o,s),e[dl]=t.current,Iv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new o_(t)};Ns.render=function(e,t,n){if(!s_(t))throw Error(Ue(200));return a_(null,e,t,!1,n)};Ns.unmountComponentAtNode=function(e){if(!s_(e))throw Error(Ue(40));return e._reactRootContainer?(Lf(function(){a_(null,null,e,!1,function(){e._reactRootContainer=null,e[dl]=null})}),!0):!1};Ns.unstable_batchedUpdates=fR;Ns.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!s_(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return a_(e,t,n,!1,r)};Ns.version="18.3.1-next-f1338f8080-20240426";function ED(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ED)}catch(e){console.error(e)}}ED(),EA.exports=Ns;var Jf=EA.exports;const v5=Yf(Jf);var CD,TP=Jf;CD=TP.createRoot,TP.hydrateRoot;var c_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},l_=typeof window>"u"||"Deno"in globalThis;function Ta(){}function y5(e,t){return typeof e=="function"?e(t):e}function b5(e){return typeof e=="number"&&e>=0&&e!==1/0}function x5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function RP(e,t){return typeof e=="function"?e(t):e}function S5(e,t){return typeof e=="function"?e(t):e}function kP(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:c}=e;if(s){if(r){if(t.queryHash!==xR(s,t.options))return!1}else if(!Vv(t.queryKey,s))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||o&&!o(t))}function OP(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if($v(t.options.mutationKey)!==$v(o))return!1}else if(!Vv(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function xR(e,t){return((t==null?void 0:t.queryKeyHashFn)||$v)(e)}function $v(e){return JSON.stringify(e,(t,n)=>pT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Vv(e[n],t[n])):!1}function TD(e,t){if(e===t)return e;const n=PP(e)&&PP(t);if(n||pT(e)&&pT(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,c=n?[]:{};let a=0;for(let l=0;l<s;l++){const f=n?l:o[l];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,a++):(c[f]=TD(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&a++)}return i===s&&a===i?e:c}return t}function PP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pT(e){if(!NP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!NP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NP(e){return Object.prototype.toString.call(e)==="[object Object]"}function _5(e){return new Promise(t=>{setTimeout(t,e)})}function w5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?TD(e,t):t}function E5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function C5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var SR=Symbol();function RD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===SR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Sf,bu,Np,iA,T5=(iA=class extends c_{constructor(){super();Kn(this,Sf);Kn(this,bu);Kn(this,Np);bn(this,Np,t=>{if(!l_&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){je(this,bu)||this.setEventListener(je(this,Np))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,bu))==null||t.call(this),bn(this,bu,void 0))}setEventListener(t){var n;bn(this,Np,t),(n=je(this,bu))==null||n.call(this),bn(this,bu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){je(this,Sf)!==t&&(bn(this,Sf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof je(this,Sf)=="boolean"?je(this,Sf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Sf=new WeakMap,bu=new WeakMap,Np=new WeakMap,iA),kD=new T5,Ip,xu,Ap,oA,R5=(oA=class extends c_{constructor(){super();Kn(this,Ip,!0);Kn(this,xu);Kn(this,Ap);bn(this,Ap,t=>{if(!l_&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){je(this,xu)||this.setEventListener(je(this,Ap))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,xu))==null||t.call(this),bn(this,xu,void 0))}setEventListener(t){var n;bn(this,Ap,t),(n=je(this,xu))==null||n.call(this),bn(this,xu,t(this.setOnline.bind(this)))}setOnline(t){je(this,Ip)!==t&&(bn(this,Ip,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return je(this,Ip)}},Ip=new WeakMap,xu=new WeakMap,Ap=new WeakMap,oA),Jx=new R5;function k5(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function O5(e){return Math.min(1e3*2**e,3e4)}function OD(e){return(e??"online")==="online"?Jx.isOnline():!0}var PD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yE(e){return e instanceof PD}function ND(e){let t=!1,n=0,r=!1,i;const o=k5(),s=y=>{var w;r||(m(new PD(y)),(w=e.abort)==null||w.call(e))},c=()=>{t=!0},a=()=>{t=!1},l=()=>kD.isFocused()&&(e.networkMode==="always"||Jx.isOnline())&&e.canRun(),f=()=>OD(e.networkMode)&&e.canRun(),p=y=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,y),i==null||i(),o.resolve(y))},m=y=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,y),i==null||i(),o.reject(y))},E=()=>new Promise(y=>{var w;i=R=>{(r||l())&&y(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(R){y=Promise.reject(R)}Promise.resolve(y).then(p).catch(R=>{var U;if(r)return;const _=e.retry??(l_?0:3),C=e.retryDelay??O5,I=typeof C=="function"?C(n,R):C,j=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,R);if(t||!j){m(R);return}n++,(U=e.onFail)==null||U.call(e,n,R),_5(I).then(()=>l()?void 0:E()).then(()=>{t?m(R):x()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:c,continueRetry:a,canStart:f,start:()=>(f()?x():E().then(x),o)}}function P5(){let e=[],t=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const o=c=>{t?e.push(c):i(()=>{n(c)})},s=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(a=>{n(a)})})})};return{batch:c=>{let a;t++;try{a=c()}finally{t--,t||s()}return a},batchCalls:c=>(...a)=>{o(()=>{c(...a)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var No=P5(),_f,sA,ID=(sA=class{constructor(){Kn(this,_f)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b5(this.gcTime)&&bn(this,_f,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(l_?1/0:5*60*1e3))}clearGcTimeout(){je(this,_f)&&(clearTimeout(je(this,_f)),bn(this,_f,void 0))}},_f=new WeakMap,sA),jp,Dp,Ys,so,cy,wf,Ra,Qc,aA,N5=(aA=class extends ID{constructor(t){super();Kn(this,Ra);Kn(this,jp);Kn(this,Dp);Kn(this,Ys);Kn(this,so);Kn(this,cy);Kn(this,wf);bn(this,wf,!1),bn(this,cy,t.defaultOptions),this.setOptions(t.options),this.observers=[],bn(this,Ys,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,bn(this,jp,A5(this.options)),this.state=t.state??je(this,jp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=je(this,so))==null?void 0:t.promise}setOptions(t){this.options={...je(this,cy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&je(this,Ys).remove(this)}setData(t,n){const r=w5(this.state.data,t,this.options);return ro(this,Ra,Qc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ro(this,Ra,Qc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=je(this,so))==null?void 0:r.promise;return(i=je(this,so))==null||i.cancel(t),n?n.then(Ta).catch(Ta):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(je(this,jp))}isActive(){return this.observers.some(t=>S5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===SR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!x5(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=je(this,so))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=je(this,so))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),je(this,Ys).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(je(this,so)&&(je(this,wf)?je(this,so).cancel({revert:!0}):je(this,so).cancelRetry()),this.scheduleGc()),je(this,Ys).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ro(this,Ra,Qc).call(this,{type:"invalidate"})}fetch(t,n){var a,l,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(je(this,so))return je(this,so).continueRetry(),je(this,so).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(bn(this,wf,!0),r.signal)})},o=()=>{const p=RD(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),bn(this,wf,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(a=this.options.behavior)==null||a.onFetch(s,this),bn(this,Dp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=s.fetchOptions)==null?void 0:l.meta))&&ro(this,Ra,Qc).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const c=p=>{var m,E,x,y;yE(p)&&p.silent||ro(this,Ra,Qc).call(this,{type:"error",error:p}),yE(p)||((E=(m=je(this,Ys).config).onError)==null||E.call(m,p,this),(y=(x=je(this,Ys).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return bn(this,so,ND({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,E,x,y;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){c(w);return}(E=(m=je(this,Ys).config).onSuccess)==null||E.call(m,p,this),(y=(x=je(this,Ys).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{ro(this,Ra,Qc).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ro(this,Ra,Qc).call(this,{type:"pause"})},onContinue:()=>{ro(this,Ra,Qc).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),je(this,so).start()}},jp=new WeakMap,Dp=new WeakMap,Ys=new WeakMap,so=new WeakMap,cy=new WeakMap,wf=new WeakMap,Ra=new WeakSet,Qc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...I5(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return yE(i)&&i.revert&&je(this,Dp)?{...je(this,Dp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),No.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),je(this,Ys).notify({query:this,type:"updated",action:t})})},aA);function I5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function A5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cc,cA,j5=(cA=class extends c_{constructor(t={}){super();Kn(this,cc);this.config=t,bn(this,cc,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??xR(i,n);let s=this.get(o);return s||(s=new N5({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){je(this,cc).has(t.queryHash)||(je(this,cc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=je(this,cc).get(t.queryHash);n&&(t.destroy(),n===t&&je(this,cc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){No.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return je(this,cc).get(t)}getAll(){return[...je(this,cc).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>kP(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>kP(t,r)):n}notify(t){No.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){No.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){No.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cc=new WeakMap,cA),lc,To,Ef,uc,du,lA,D5=(lA=class extends ID{constructor(t){super();Kn(this,uc);Kn(this,lc);Kn(this,To);Kn(this,Ef);this.mutationId=t.mutationId,bn(this,To,t.mutationCache),bn(this,lc,[]),this.state=t.state||M5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){je(this,lc).includes(t)||(je(this,lc).push(t),this.clearGcTimeout(),je(this,To).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){bn(this,lc,je(this,lc).filter(n=>n!==t)),this.scheduleGc(),je(this,To).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){je(this,lc).length||(this.state.status==="pending"?this.scheduleGc():je(this,To).remove(this))}continue(){var t;return((t=je(this,Ef))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,c,a,l,f,p,m,E,x,y,w,R,_,C,I,j,U,V;bn(this,Ef,ND({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,q)=>{ro(this,uc,du).call(this,{type:"failed",failureCount:z,error:q})},onPause:()=>{ro(this,uc,du).call(this,{type:"pause"})},onContinue:()=>{ro(this,uc,du).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>je(this,To).canRun(this)}));const n=this.state.status==="pending",r=!je(this,Ef).canStart();try{if(!n){ro(this,uc,du).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=je(this,To).config).onMutate)==null?void 0:o.call(i,t,this));const q=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,t));q!==this.state.context&&ro(this,uc,du).call(this,{type:"pending",context:q,variables:t,isPaused:r})}const z=await je(this,Ef).start();return await((l=(a=je(this,To).config).onSuccess)==null?void 0:l.call(a,z,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,z,t,this.state.context)),await((E=(m=je(this,To).config).onSettled)==null?void 0:E.call(m,z,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,z,null,t,this.state.context)),ro(this,uc,du).call(this,{type:"success",data:z}),z}catch(z){try{throw await((R=(w=je(this,To).config).onError)==null?void 0:R.call(w,z,t,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,z,t,this.state.context)),await((j=(I=je(this,To).config).onSettled)==null?void 0:j.call(I,void 0,z,this.state.variables,this.state.context,this)),await((V=(U=this.options).onSettled)==null?void 0:V.call(U,void 0,z,t,this.state.context)),z}finally{ro(this,uc,du).call(this,{type:"error",error:z})}}finally{je(this,To).runNext(this)}}},lc=new WeakMap,To=new WeakMap,Ef=new WeakMap,uc=new WeakSet,du=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),No.batch(()=>{je(this,lc).forEach(r=>{r.onMutationUpdate(t)}),je(this,To).notify({mutation:this,type:"updated",action:t})})},lA);function M5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ys,ly,uA,L5=(uA=class extends c_{constructor(t={}){super();Kn(this,ys);Kn(this,ly);this.config=t,bn(this,ys,new Map),bn(this,ly,Date.now())}build(t,n,r){const i=new D5({mutationCache:this,mutationId:++U0(this,ly)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=rb(t),r=je(this,ys).get(n)??[];r.push(t),je(this,ys).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=rb(t);if(je(this,ys).has(n)){const i=(r=je(this,ys).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?je(this,ys).delete(n):je(this,ys).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=je(this,ys).get(rb(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=je(this,ys).get(rb(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){No.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...je(this,ys).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OP(n,r))}findAll(t={}){return this.getAll().filter(n=>OP(t,n))}notify(t){No.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return No.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ta))))}},ys=new WeakMap,ly=new WeakMap,uA);function rb(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function IP(e){return{onFetch:(t,n)=>{var f,p,m,E,x;const r=t.options,i=(m=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,o=((E=t.state.data)==null?void 0:E.pages)||[],s=((x=t.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},a=0;const l=async()=>{let y=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},R=RD(t.options,t.fetchOptions),_=async(C,I,j)=>{if(y)return Promise.reject();if(I==null&&C.pages.length)return Promise.resolve(C);const U={queryKey:t.queryKey,pageParam:I,direction:j?"backward":"forward",meta:t.options.meta};w(U);const V=await R(U),{maxPages:z}=t.options,q=j?C5:E5;return{pages:q(C.pages,V,z),pageParams:q(C.pageParams,I,z)}};if(i&&o.length){const C=i==="backward",I=C?F5:AP,j={pages:o,pageParams:s},U=I(r,j);c=await _(j,U,C)}else{const C=e??o.length;do{const I=a===0?s[0]??r.initialPageParam:AP(r,c);if(a>0&&I==null)break;c=await _(c,I),a++}while(a<C)}return c};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,l,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function AP(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function F5(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var qr,Su,_u,Mp,Lp,wu,Fp,Up,dA,U5=(dA=class{constructor(e={}){Kn(this,qr);Kn(this,Su);Kn(this,_u);Kn(this,Mp);Kn(this,Lp);Kn(this,wu);Kn(this,Fp);Kn(this,Up);bn(this,qr,e.queryCache||new j5),bn(this,Su,e.mutationCache||new L5),bn(this,_u,e.defaultOptions||{}),bn(this,Mp,new Map),bn(this,Lp,new Map),bn(this,wu,0)}mount(){U0(this,wu)._++,je(this,wu)===1&&(bn(this,Fp,kD.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,qr).onFocus())})),bn(this,Up,Jx.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,qr).onOnline())})))}unmount(){var e,t;U0(this,wu)._--,je(this,wu)===0&&((e=je(this,Fp))==null||e.call(this),bn(this,Fp,void 0),(t=je(this,Up))==null||t.call(this),bn(this,Up,void 0))}isFetching(e){return je(this,qr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return je(this,Su).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=je(this,qr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=je(this,qr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(RP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return je(this,qr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=je(this,qr).get(r.queryHash),o=i==null?void 0:i.state.data,s=y5(t,o);if(s!==void 0)return je(this,qr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return No.batch(()=>je(this,qr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=je(this,qr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=je(this,qr);No.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=je(this,qr),r={type:"active",...e};return No.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=No.batch(()=>je(this,qr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ta).catch(Ta)}invalidateQueries(e={},t={}){return No.batch(()=>{if(je(this,qr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=No.batch(()=>je(this,qr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ta)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ta)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=je(this,qr).build(this,t);return n.isStaleByTime(RP(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ta).catch(Ta)}fetchInfiniteQuery(e){return e.behavior=IP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ta).catch(Ta)}ensureInfiniteQueryData(e){return e.behavior=IP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jx.isOnline()?je(this,Su).resumePausedMutations():Promise.resolve()}getQueryCache(){return je(this,qr)}getMutationCache(){return je(this,Su)}getDefaultOptions(){return je(this,_u)}setDefaultOptions(e){bn(this,_u,e)}setQueryDefaults(e,t){je(this,Mp).set($v(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...je(this,Mp).values()];let n={};return t.forEach(r=>{Vv(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){je(this,Lp).set($v(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...je(this,Lp).values()];let n={};return t.forEach(r=>{Vv(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...je(this,_u).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===SR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...je(this,_u).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){je(this,qr).clear(),je(this,Su).clear()}},qr=new WeakMap,Su=new WeakMap,_u=new WeakMap,Mp=new WeakMap,Lp=new WeakMap,wu=new WeakMap,Fp=new WeakMap,Up=new WeakMap,dA),B5=P.createContext(void 0),$5=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(B5.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}var Tu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tu||(Tu={}));const jP="popstate";function V5(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:c}=r.location;return mT("",{pathname:o,search:s,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zx(i)}return W5(t,n,null,e)}function oi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z5(){return Math.random().toString(36).substr(2,8)}function DP(e,t){return{usr:e.state,key:e.key,idx:t}}function mT(e,t,n,r){return n===void 0&&(n=null),zv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lm(t):t,{state:n,key:t&&t.key||r||z5()})}function Zx(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function lm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W5(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,c=Tu.Pop,a=null,l=f();l==null&&(l=0,s.replaceState(zv({},s.state,{idx:l}),""));function f(){return(s.state||{idx:null}).idx}function p(){c=Tu.Pop;let w=f(),R=w==null?null:w-l;l=w,a&&a({action:c,location:y.location,delta:R})}function m(w,R){c=Tu.Push;let _=mT(y.location,w,R);l=f()+1;let C=DP(_,l),I=y.createHref(_);try{s.pushState(C,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(I)}o&&a&&a({action:c,location:y.location,delta:1})}function E(w,R){c=Tu.Replace;let _=mT(y.location,w,R);l=f();let C=DP(_,l),I=y.createHref(_);s.replaceState(C,"",I),o&&a&&a({action:c,location:y.location,delta:0})}function x(w){let R=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:Zx(w);return _=_.replace(/ $/,"%20"),oi(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let y={get action(){return c},get location(){return e(i,s)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(jP,p),a=w,()=>{i.removeEventListener(jP,p),a=null}},createHref(w){return t(i,w)},createURL:x,encodeLocation(w){let R=x(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:m,replace:E,go(w){return s.go(w)}};return y}var MP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(MP||(MP={}));function H5(e,t,n){return n===void 0&&(n="/"),G5(e,t,n,!1)}function G5(e,t,n,r){let i=typeof t=="string"?lm(t):t,o=_R(i.pathname||"/",n);if(o==null)return null;let s=jD(e);q5(s);let c=null;for(let a=0;c==null&&a<s.length;++a){let l=iV(o);c=nV(s[a],l,r)}return c}function jD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,c)=>{let a={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(oi(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let l=Fu([r,a.relativePath]),f=n.concat(a);o.children&&o.children.length>0&&(oi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),jD(o.children,t,f,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:eV(l,o.index),routesMeta:f})};return e.forEach((o,s)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,s);else for(let a of DD(o.path))i(o,s,a)}),t}function DD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=DD(r.join("/")),c=[];return c.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&c.push(...s),c.map(a=>e.startsWith("/")&&a===""?"/":a)}function q5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tV(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K5=/^:[\w-]+$/,Y5=3,Q5=2,X5=1,J5=10,Z5=-2,LP=e=>e==="*";function eV(e,t){let n=e.split("/"),r=n.length;return n.some(LP)&&(r+=Z5),t&&(r+=Q5),n.filter(i=>!LP(i)).reduce((i,o)=>i+(K5.test(o)?Y5:o===""?X5:J5),r)}function tV(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nV(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let c=0;c<r.length;++c){let a=r[c],l=c===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",p=FP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},f),m=a.route;if(!p&&l&&n&&!r[r.length-1].route.index&&(p=FP({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Fu([o,p.pathname]),pathnameBase:cV(Fu([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Fu([o,p.pathnameBase]))}return s}function FP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rV(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((l,f,p)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let y=c[p]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=c[p];return E&&!x?l[m]=void 0:l[m]=(x||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function rV(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),AD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,a)=>(r.push({paramName:c,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return AD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _R(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function oV(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?lm(e):e;return{pathname:n?n.startsWith("/")?n:sV(n,t):t,search:lV(r),hash:uV(i)}}function sV(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wR(e,t){let n=aV(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ER(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=lm(e):(i=zv({},e),oi(!i.pathname||!i.pathname.includes("?"),bE("?","pathname","search",i)),oi(!i.pathname||!i.pathname.includes("#"),bE("#","pathname","hash",i)),oi(!i.search||!i.search.includes("#"),bE("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,c;if(s==null)c=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}c=p>=0?t[p]:"/"}let a=oV(i,c),l=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(l||f)&&(a.pathname+="/"),a}const Fu=e=>e.join("/").replace(/\/\/+/g,"/"),cV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MD=["post","put","patch","delete"];new Set(MD);const fV=["get",...MD];new Set(fV);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(this,arguments)}const CR=P.createContext(null),hV=P.createContext(null),sd=P.createContext(null),u_=P.createContext(null),Cc=P.createContext({outlet:null,matches:[],isDataRoute:!1}),LD=P.createContext(null);function pV(e,t){let{relative:n}=t===void 0?{}:t;um()||oi(!1);let{basename:r,navigator:i}=P.useContext(sd),{hash:o,pathname:s,search:c}=BD(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Fu([r,s])),i.createHref({pathname:a,search:c,hash:o})}function um(){return P.useContext(u_)!=null}function dm(){return um()||oi(!1),P.useContext(u_).location}function FD(e){P.useContext(sd).static||P.useLayoutEffect(e)}function Sl(){let{isDataRoute:e}=P.useContext(Cc);return e?OV():mV()}function mV(){um()||oi(!1);let e=P.useContext(CR),{basename:t,future:n,navigator:r}=P.useContext(sd),{matches:i}=P.useContext(Cc),{pathname:o}=dm(),s=JSON.stringify(wR(i,n.v7_relativeSplatPath)),c=P.useRef(!1);return FD(()=>{c.current=!0}),P.useCallback(function(l,f){if(f===void 0&&(f={}),!c.current)return;if(typeof l=="number"){r.go(l);return}let p=ER(l,JSON.parse(s),o,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Fu([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,s,o,e])}const gV=P.createContext(null);function vV(e){let t=P.useContext(Cc).outlet;return t&&P.createElement(gV.Provider,{value:e},t)}function UD(){let{matches:e}=P.useContext(Cc),t=e[e.length-1];return t?t.params:{}}function BD(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=P.useContext(sd),{matches:i}=P.useContext(Cc),{pathname:o}=dm(),s=JSON.stringify(wR(i,r.v7_relativeSplatPath));return P.useMemo(()=>ER(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function yV(e,t){return bV(e,t)}function bV(e,t,n,r){um()||oi(!1);let{navigator:i}=P.useContext(sd),{matches:o}=P.useContext(Cc),s=o[o.length-1],c=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=dm(),f;if(t){var p;let w=typeof t=="string"?lm(t):t;a==="/"||(p=w.pathname)!=null&&p.startsWith(a)||oi(!1),f=w}else f=l;let m=f.pathname||"/",E=m;if(a!=="/"){let w=a.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=H5(e,{pathname:E}),y=EV(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Fu([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Fu([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&y?P.createElement(u_.Provider,{value:{location:Wv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Tu.Pop}},y):y}function xV(){let e=kV(),t=dV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,null)}const SV=P.createElement(xV,null);class _V extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?P.createElement(Cc.Provider,{value:this.props.routeContext},P.createElement(LD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wV(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(CR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Cc.Provider,{value:t},r)}function EV(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let f=s.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||oi(!1),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:m,errors:E}=n,x=p.route.loader&&m[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||x){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let E,x=!1,y=null,w=null;n&&(E=c&&p.route.id?c[p.route.id]:void 0,y=p.route.errorElement||SV,a&&(l<0&&m===0?(x=!0,w=null):l===m&&(x=!0,w=p.route.hydrateFallbackElement||null)));let R=t.concat(s.slice(0,m+1)),_=()=>{let C;return E?C=y:x?C=w:p.route.Component?C=P.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,P.createElement(wV,{match:p,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?P.createElement(_V,{location:n.location,revalidation:n.revalidation,component:y,error:E,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var $D=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($D||{}),eS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eS||{});function CV(e){let t=P.useContext(CR);return t||oi(!1),t}function TV(e){let t=P.useContext(hV);return t||oi(!1),t}function RV(e){let t=P.useContext(Cc);return t||oi(!1),t}function VD(e){let t=RV(),n=t.matches[t.matches.length-1];return n.route.id||oi(!1),n.route.id}function kV(){var e;let t=P.useContext(LD),n=TV(eS.UseRouteError),r=VD(eS.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function OV(){let{router:e}=CV($D.UseNavigateStable),t=VD(eS.UseNavigateStable),n=P.useRef(!1);return FD(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Wv({fromRouteId:t},o)))},[e,t])}function gT(e){let{to:t,replace:n,state:r,relative:i}=e;um()||oi(!1);let{future:o,static:s}=P.useContext(sd),{matches:c}=P.useContext(Cc),{pathname:a}=dm(),l=Sl(),f=ER(t,wR(c,o.v7_relativeSplatPath),a,i==="path"),p=JSON.stringify(f);return P.useEffect(()=>l(JSON.parse(p),{replace:n,state:r,relative:i}),[l,p,i,n,r]),null}function PV(e){return vV(e.context)}function Gr(e){oi(!1)}function NV(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tu.Pop,navigator:o,static:s=!1,future:c}=e;um()&&oi(!1);let a=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:o,static:s,future:Wv({v7_relativeSplatPath:!1},c)}),[a,c,o,s]);typeof r=="string"&&(r=lm(r));let{pathname:f="/",search:p="",hash:m="",state:E=null,key:x="default"}=r,y=P.useMemo(()=>{let w=_R(f,a);return w==null?null:{location:{pathname:w,search:p,hash:m,state:E,key:x},navigationType:i}},[a,f,p,m,E,x,i]);return y==null?null:P.createElement(sd.Provider,{value:l},P.createElement(u_.Provider,{children:n,value:y}))}function IV(e){let{children:t,location:n}=e;return yV(vT(t),n)}new Promise(()=>{});function vT(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let o=[...t,i];if(r.type===P.Fragment){n.push.apply(n,vT(r.props.children,o));return}r.type!==Gr&&oi(!1),!r.props.index||!r.props.children||oi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vT(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yT(){return yT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yT.apply(this,arguments)}function AV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DV(e,t){return e.button===0&&(!t||t==="_self")&&!jV(e)}function bT(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function MV(e,t){let n=bT(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const LV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FV="6";try{window.__reactRouterVersion=FV}catch{}const UV="startTransition",UP=_A[UV];function BV(e){let{basename:t,children:n,future:r,window:i}=e,o=P.useRef();o.current==null&&(o.current=V5({window:i,v5Compat:!0}));let s=o.current,[c,a]=P.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},f=P.useCallback(p=>{l&&UP?UP(()=>a(p)):a(p)},[a,l]);return P.useLayoutEffect(()=>s.listen(f),[s,f]),P.createElement(NV,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s,future:r})}const $V=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BP=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:c,target:a,to:l,preventScrollReset:f,viewTransition:p}=t,m=AV(t,LV),{basename:E}=P.useContext(sd),x,y=!1;if(typeof l=="string"&&VV.test(l)&&(x=l,$V))try{let C=new URL(window.location.href),I=l.startsWith("//")?new URL(C.protocol+l):new URL(l),j=_R(I.pathname,E);I.origin===C.origin&&j!=null?l=j+I.search+I.hash:y=!0}catch{}let w=pV(l,{relative:i}),R=zV(l,{replace:s,state:c,target:a,preventScrollReset:f,relative:i,viewTransition:p});function _(C){r&&r(C),C.defaultPrevented||R(C)}return P.createElement("a",yT({},m,{href:x||w,onClick:y||o?r:_,ref:n,target:a}))});var $P;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($P||($P={}));var VP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(VP||(VP={}));function zV(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:c}=t===void 0?{}:t,a=Sl(),l=dm(),f=BD(e,{relative:s});return P.useCallback(p=>{if(DV(p,n)){p.preventDefault();let m=r!==void 0?r:Zx(l)===Zx(f);a(e,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:c})}},[l,a,f,r,i,n,e,o,s,c])}function WV(e){let t=P.useRef(bT(e)),n=P.useRef(!1),r=dm(),i=P.useMemo(()=>MV(r.search,n.current?null:t.current),[r.search]),o=Sl(),s=P.useCallback((c,a)=>{const l=bT(typeof c=="function"?c(i):c);n.current=!0,o("?"+l,a)},[o,i]);return[i,s]}const HV=1,GV=1e6;let xE=0;function qV(){return xE=(xE+1)%Number.MAX_SAFE_INTEGER,xE.toString()}const SE=new Map,zP=e=>{if(SE.has(e))return;const t=setTimeout(()=>{SE.delete(e),pv({type:"REMOVE_TOAST",toastId:e})},GV);SE.set(e,t)},KV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?zP(n):e.toasts.forEach(r=>{zP(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Rb=[];let kb={toasts:[]};function pv(e){kb=KV(kb,e),Rb.forEach(t=>{t(kb)})}function Uu({...e}){const t=qV(),n=i=>pv({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>pv({type:"DISMISS_TOAST",toastId:t});return pv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Tc(){const[e,t]=P.useState(kb);return P.useEffect(()=>(Rb.push(t),()=>{const n=Rb.indexOf(t);n>-1&&Rb.splice(n,1)}),[e]),{...e,toast:Uu,dismiss:n=>pv({type:"DISMISS_TOAST",toastId:n})}}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function YV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function d_(...e){return t=>e.forEach(n=>YV(n,t))}function xn(...e){return P.useCallback(d_(...e),e)}function QV(e,t=[]){let n=[];function r(o,s){const c=P.createContext(s),a=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][a])||c,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][a])||c,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(c){const a=(c==null?void 0:c[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return i.scopeName=e,[r,XV(i,...t)]}function XV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((c,{useScope:a,scopeName:l})=>{const p=a(o)[`__scope${l}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var xc=P.forwardRef((e,t)=>{const{children:n,...r}=e,i=P.Children.toArray(n),o=i.find(ZV);if(o){const s=o.props.children,c=i.map(a=>a===o?P.Children.count(s)>1?P.Children.only(null):P.isValidElement(s)?s.props.children:null:a);return u.jsx(xT,{...r,ref:t,children:P.isValidElement(s)?P.cloneElement(s,void 0,c):null})}return u.jsx(xT,{...r,ref:t,children:n})});xc.displayName="Slot";var xT=P.forwardRef((e,t)=>{const{children:n,...r}=e;if(P.isValidElement(n)){const i=tz(n);return P.cloneElement(n,{...ez(r,n.props),ref:t?d_(t,i):i})}return P.Children.count(n)>1?P.Children.only(null):null});xT.displayName="SlotClone";var JV=({children:e})=>u.jsx(u.Fragment,{children:e});function ZV(e){return P.isValidElement(e)&&e.type===JV}function ez(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function tz(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function f_(e){const t=e+"CollectionProvider",[n,r]=QV(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=E=>{const{scope:x,children:y}=E,w=ht.useRef(null),R=ht.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:R,collectionRef:w,children:y})};s.displayName=t;const c=e+"CollectionSlot",a=ht.forwardRef((E,x)=>{const{scope:y,children:w}=E,R=o(c,y),_=xn(x,R.collectionRef);return u.jsx(xc,{ref:_,children:w})});a.displayName=c;const l=e+"CollectionItemSlot",f="data-radix-collection-item",p=ht.forwardRef((E,x)=>{const{scope:y,children:w,...R}=E,_=ht.useRef(null),C=xn(x,_),I=o(l,y);return ht.useEffect(()=>(I.itemMap.set(_,{ref:_,...R}),()=>void I.itemMap.delete(_))),u.jsx(xc,{[f]:"",ref:C,children:w})});p.displayName=l;function m(E){const x=o(e+"CollectionConsumer",E);return ht.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const R=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((I,j)=>R.indexOf(I.ref.current)-R.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:a,ItemSlot:p},m,r]}function nz(e,t){const n=P.createContext(t),r=o=>{const{children:s,...c}=o,a=P.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:a,children:s})};r.displayName=e+"Provider";function i(o){const s=P.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Rc(e,t=[]){let n=[];function r(o,s){const c=P.createContext(s),a=n.length;n=[...n,s];const l=p=>{var R;const{scope:m,children:E,...x}=p,y=((R=m==null?void 0:m[e])==null?void 0:R[a])||c,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})};l.displayName=o+"Provider";function f(p,m){var y;const E=((y=m==null?void 0:m[e])==null?void 0:y[a])||c,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(c){const a=(c==null?void 0:c[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return i.scopeName=e,[r,rz(i,...t)]}function rz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((c,{useScope:a,scopeName:l})=>{const p=a(o)[`__scope${l}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var iz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=iz.reduce((e,t)=>{const n=P.forwardRef((r,i)=>{const{asChild:o,...s}=r,c=o?xc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(c,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TR(e,t){e&&Jf.flushSync(()=>e.dispatchEvent(t))}function $r(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function oz(e,t=globalThis==null?void 0:globalThis.document){const n=$r(e);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var sz="DismissableLayer",ST="dismissableLayer.update",az="dismissableLayer.pointerDownOutside",cz="dismissableLayer.focusOutside",WP,zD=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fm=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:c,...a}=e,l=P.useContext(zD),[f,p]=P.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=P.useState({}),x=xn(t,V=>p(V)),y=Array.from(l.layers),[w]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),R=y.indexOf(w),_=f?y.indexOf(f):-1,C=l.layersWithOutsidePointerEventsDisabled.size>0,I=_>=R,j=uz(V=>{const z=V.target,q=[...l.branches].some(X=>X.contains(z));!I||q||(i==null||i(V),s==null||s(V),V.defaultPrevented||c==null||c())},m),U=dz(V=>{const z=V.target;[...l.branches].some(X=>X.contains(z))||(o==null||o(V),s==null||s(V),V.defaultPrevented||c==null||c())},m);return oz(V=>{_===l.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&c&&(V.preventDefault(),c()))},m),P.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(WP=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),HP(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=WP)}},[f,m,n,l]),P.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),HP())},[f,l]),P.useEffect(()=>{const V=()=>E({});return document.addEventListener(ST,V),()=>document.removeEventListener(ST,V)},[]),u.jsx(Pt.div,{...a,ref:x,style:{pointerEvents:C?I?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,U.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,j.onPointerDownCapture)})});fm.displayName=sz;var lz="DismissableLayerBranch",WD=P.forwardRef((e,t)=>{const n=P.useContext(zD),r=P.useRef(null),i=xn(t,r);return P.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Pt.div,{...e,ref:i})});WD.displayName=lz;function uz(e,t=globalThis==null?void 0:globalThis.document){const n=$r(e),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let a=function(){HD(az,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=a,t.addEventListener("click",i.current,{once:!0})):a()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dz(e,t=globalThis==null?void 0:globalThis.document){const n=$r(e),r=P.useRef(!1);return P.useEffect(()=>{const i=o=>{o.target&&!r.current&&HD(cz,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HP(){const e=new CustomEvent(ST);document.dispatchEvent(e)}function HD(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?TR(i,o):i.dispatchEvent(o)}var fz=fm,hz=WD,Yi=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},pz="Portal",hm=P.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=P.useState(!1);Yi(()=>o(!0),[]);const s=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return s?v5.createPortal(u.jsx(Pt.div,{...r,ref:t}),s):null});hm.displayName=pz;function mz(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var uo=e=>{const{present:t,children:n}=e,r=gz(t),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),o=xn(r.ref,vz(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:o}):null};uo.displayName="Presence";function gz(e){const[t,n]=P.useState(),r=P.useRef({}),i=P.useRef(e),o=P.useRef("none"),s=e?"mounted":"unmounted",[c,a]=mz(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const l=ib(r.current);o.current=c==="mounted"?l:"none"},[c]),Yi(()=>{const l=r.current,f=i.current;if(f!==e){const m=o.current,E=ib(l);e?a("MOUNT"):E==="none"||(l==null?void 0:l.display)==="none"?a("UNMOUNT"):a(f&&m!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,a]),Yi(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,p=E=>{const y=ib(r.current).includes(E.animationName);if(E.target===t&&y&&(a("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=E=>{E.target===t&&(o.current=ib(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function ib(e){return(e==null?void 0:e.animationName)||"none"}function vz(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=yz({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,c=$r(n),a=P.useCallback(l=>{if(o){const p=typeof l=="function"?l(e):l;p!==e&&c(p)}else i(l)},[o,e,i,c]);return[s,a]}function yz({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,i=P.useRef(r),o=$r(t);return P.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var bz="VisuallyHidden",h_=P.forwardRef((e,t)=>u.jsx(Pt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));h_.displayName=bz;var RR="ToastProvider",[kR,xz,Sz]=f_("Toast"),[GD,yae]=Rc("Toast",[Sz]),[_z,p_]=GD(RR),qD=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[c,a]=P.useState(null),[l,f]=P.useState(0),p=P.useRef(!1),m=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${RR}\`. Expected non-empty \`string\`.`),u.jsx(kR.Provider,{scope:t,children:u.jsx(_z,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:l,viewport:c,onViewportChange:a,onToastAdd:P.useCallback(()=>f(E=>E+1),[]),onToastRemove:P.useCallback(()=>f(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:s})})};qD.displayName=RR;var KD="ToastViewport",wz=["F8"],_T="toast.viewportPause",wT="toast.viewportResume",YD=P.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=wz,label:i="Notifications ({hotkey})",...o}=e,s=p_(KD,n),c=xz(n),a=P.useRef(null),l=P.useRef(null),f=P.useRef(null),p=P.useRef(null),m=xn(t,p,s.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;P.useEffect(()=>{const w=R=>{var C;r.length!==0&&r.every(I=>R[I]||R.code===I)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),P.useEffect(()=>{const w=a.current,R=p.current;if(x&&w&&R){const _=()=>{if(!s.isClosePausedRef.current){const U=new CustomEvent(_T);R.dispatchEvent(U),s.isClosePausedRef.current=!0}},C=()=>{if(s.isClosePausedRef.current){const U=new CustomEvent(wT);R.dispatchEvent(U),s.isClosePausedRef.current=!1}},I=U=>{!w.contains(U.relatedTarget)&&C()},j=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",_),w.addEventListener("focusout",I),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",j),window.addEventListener("blur",_),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",I),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",_),window.removeEventListener("focus",C)}}},[x,s.isClosePausedRef]);const y=P.useCallback(({tabbingDirection:w})=>{const _=c().map(C=>{const I=C.ref.current,j=[I,...Mz(I)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?_.reverse():_).flat()},[c]);return P.useEffect(()=>{const w=p.current;if(w){const R=_=>{var j,U,V;const C=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!C){const z=document.activeElement,q=_.shiftKey;if(_.target===w&&q){(j=l.current)==null||j.focus();return}const G=y({tabbingDirection:q?"backwards":"forwards"}),ee=G.findIndex(ce=>ce===z);_E(G.slice(ee+1))?_.preventDefault():q?(U=l.current)==null||U.focus():(V=f.current)==null||V.focus()}};return w.addEventListener("keydown",R),()=>w.removeEventListener("keydown",R)}},[c,y]),u.jsxs(hz,{ref:a,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(ET,{ref:l,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});_E(w)}}),u.jsx(kR.Slot,{scope:n,children:u.jsx(Pt.ol,{tabIndex:-1,...o,ref:m})}),x&&u.jsx(ET,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});_E(w)}})]})});YD.displayName=KD;var QD="ToastFocusProxy",ET=P.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=p_(QD,n);return u.jsx(h_,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var l;const c=s.relatedTarget;!((l=o.viewport)!=null&&l.contains(c))&&r()}})});ET.displayName=QD;var m_="Toast",Ez="toast.swipeStart",Cz="toast.swipeMove",Tz="toast.swipeCancel",Rz="toast.swipeEnd",XD=P.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[c=!0,a]=pl({prop:r,defaultProp:i,onChange:o});return u.jsx(uo,{present:n||c,children:u.jsx(Pz,{open:c,...s,ref:t,onClose:()=>a(!1),onPause:$r(e.onPause),onResume:$r(e.onResume),onSwipeStart:Ke(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,l=>{const{x:f,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,l=>{const{x:f,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),a(!1)})})})});XD.displayName=m_;var[kz,Oz]=GD(m_,{onClose(){}}),Pz=P.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:c,onPause:a,onResume:l,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:E,...x}=e,y=p_(m_,n),[w,R]=P.useState(null),_=xn(t,ce=>R(ce)),C=P.useRef(null),I=P.useRef(null),j=i||y.duration,U=P.useRef(0),V=P.useRef(j),z=P.useRef(0),{onToastAdd:q,onToastRemove:X}=y,J=$r(()=>{var xe;(w==null?void 0:w.contains(document.activeElement))&&((xe=y.viewport)==null||xe.focus()),s()}),G=P.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(z.current),U.current=new Date().getTime(),z.current=window.setTimeout(J,ce))},[J]);P.useEffect(()=>{const ce=y.viewport;if(ce){const xe=()=>{G(V.current),l==null||l()},Se=()=>{const ve=new Date().getTime()-U.current;V.current=V.current-ve,window.clearTimeout(z.current),a==null||a()};return ce.addEventListener(_T,Se),ce.addEventListener(wT,xe),()=>{ce.removeEventListener(_T,Se),ce.removeEventListener(wT,xe)}}},[y.viewport,j,a,l,G]),P.useEffect(()=>{o&&!y.isClosePausedRef.current&&G(j)},[o,j,y.isClosePausedRef,G]),P.useEffect(()=>(q(),()=>X()),[q,X]);const ee=P.useMemo(()=>w?iM(w):null,[w]);return y.viewport?u.jsxs(u.Fragment,{children:[ee&&u.jsx(Nz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),u.jsx(kz,{scope:n,onClose:J,children:Jf.createPortal(u.jsx(kR.ItemSlot,{scope:n,children:u.jsx(fz,{asChild:!0,onEscapeKeyDown:Ke(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||J(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,ce=>{ce.key==="Escape"&&(c==null||c(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ke(e.onPointerDown,ce=>{ce.button===0&&(C.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:Ke(e.onPointerMove,ce=>{if(!C.current)return;const xe=ce.clientX-C.current.x,Se=ce.clientY-C.current.y,ve=!!I.current,Y=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=Y?Q(0,xe):0,fe=Y?0:Q(0,Se),Te=ce.pointerType==="touch"?10:2,He={x:ne,y:fe},Le={originalEvent:ce,delta:He};ve?(I.current=He,ob(Cz,p,Le,{discrete:!1})):GP(He,y.swipeDirection,Te)?(I.current=He,ob(Ez,f,Le,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(xe)>Te||Math.abs(Se)>Te)&&(C.current=null)}),onPointerUp:Ke(e.onPointerUp,ce=>{const xe=I.current,Se=ce.target;if(Se.hasPointerCapture(ce.pointerId)&&Se.releasePointerCapture(ce.pointerId),I.current=null,C.current=null,xe){const ve=ce.currentTarget,Y={originalEvent:ce,delta:xe};GP(xe,y.swipeDirection,y.swipeThreshold)?ob(Rz,E,Y,{discrete:!0}):ob(Tz,m,Y,{discrete:!0}),ve.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Nz=e=>{const{__scopeToast:t,children:n,...r}=e,i=p_(m_,t),[o,s]=P.useState(!1),[c,a]=P.useState(!1);return jz(()=>s(!0)),P.useEffect(()=>{const l=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(l)},[]),c?null:u.jsx(hm,{asChild:!0,children:u.jsx(h_,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},Iz="ToastTitle",JD=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});JD.displayName=Iz;var Az="ToastDescription",ZD=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});ZD.displayName=Az;var eM="ToastAction",tM=P.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(rM,{altText:n,asChild:!0,children:u.jsx(OR,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${eM}\`. Expected non-empty \`string\`.`),null)});tM.displayName=eM;var nM="ToastClose",OR=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=Oz(nM,n);return u.jsx(rM,{asChild:!0,children:u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,i.onClose)})})});OR.displayName=nM;var rM=P.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return u.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function iM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Dz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...iM(r))}}),t}function ob(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?TR(i,o):i.dispatchEvent(o)}var GP=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function jz(e=()=>{}){const t=$r(e);Yi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Dz(e){return e.nodeType===e.ELEMENT_NODE}function Mz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _E(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Lz=qD,oM=YD,sM=XD,aM=JD,cM=ZD,lM=tM,uM=OR;function dM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=dM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fM(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=dM(e))&&(r&&(r+=" "),r+=t);return r}const qP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KP=fM,g_=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return KP(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(l=>{const f=n==null?void 0:n[l],p=o==null?void 0:o[l];if(f===null)return null;const m=qP(f)||qP(p);return i[l][m]}),c=n&&Object.entries(n).reduce((l,f)=>{let[p,m]=f;return m===void 0||(l[p]=m),l},{}),a=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,f)=>{let{class:p,className:m,...E}=f;return Object.entries(E).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...o,...c}[y]):{...o,...c}[y]===w})?[...l,p,m]:l},[]);return KP(e,s,a,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...c},a)=>P.createElement("svg",{ref:a,...Uz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:hM("lucide",i),...c},[...s.map(([l,f])=>P.createElement(l,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(e,t)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(Bz,{ref:o,iconNode:t,className:hM(`lucide-${Fz(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=Rn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=Rn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=Rn("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=Rn("BookOpenText",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Rn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Rn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=Rn("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=Rn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=Rn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Rn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=Rn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=Rn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Rn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Rn("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=Rn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=Rn("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=Rn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Rn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Rn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Rn("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Rn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Rn("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Rn("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Rn("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Rn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Rn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Rn("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Rn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Rn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Rn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IR="-",l6=e=>{const t=d6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const c=s.split(IR);return c[0]===""&&c.length!==1&&c.shift(),bM(c,t)||u6(s)},getConflictingClassGroupIds:(s,c)=>{const a=n[s]||[];return c&&r[s]?[...a,...r[s]]:a}}},bM=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?bM(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(IR);return(s=t.validators.find(({validator:c})=>c(o)))==null?void 0:s.classGroupId},YP=/^\[(.+)\]$/,u6=e=>{if(YP.test(e)){const t=YP.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},d6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return h6(Object.entries(e.classGroups),n).forEach(([o,s])=>{RT(s,r,o,t)}),r},RT=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:QP(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(f6(i)){RT(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{RT(s,QP(t,o),n,r)})})},QP=(e,t)=>{let n=e;return t.split(IR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f6=e=>e.isThemeGetter,h6=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,c])=>[t+s,c])):o);return[n,i]}):e,p6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},xM="!",m6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=c=>{const a=[];let l=0,f=0,p;for(let w=0;w<c.length;w++){let R=c[w];if(l===0){if(R===i&&(r||c.slice(w,w+o)===t)){a.push(c.slice(f,w)),f=w+o;continue}if(R==="/"){p=w;continue}}R==="["?l++:R==="]"&&l--}const m=a.length===0?c:c.substring(f),E=m.startsWith(xM),x=E?m.substring(1):m,y=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:x,maybePostfixModifierPosition:y}};return n?c=>n({className:c,parseClassName:s}):s},g6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},v6=e=>({cache:p6(e.cacheSize),parseClassName:m6(e),...l6(e)}),y6=/\s+/,b6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(y6);let c="";for(let a=s.length-1;a>=0;a-=1){const l=s[a],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:E}=n(l);let x=!!E,y=r(x?m.substring(0,E):m);if(!y){if(!x){c=l+(c.length>0?" "+c:c);continue}if(y=r(m),!y){c=l+(c.length>0?" "+c:c);continue}x=!1}const w=g6(f).join(":"),R=p?w+xM:w,_=R+y;if(o.includes(_))continue;o.push(_);const C=i(y,x);for(let I=0;I<C.length;++I){const j=C[I];o.push(R+j)}c=l+(c.length>0?" "+c:c)}return c};function x6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=SM(t))&&(r&&(r+=" "),r+=n);return r}const SM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=SM(e[r]))&&(n&&(n+=" "),n+=t);return n};function S6(e,...t){let n,r,i,o=s;function s(a){const l=t.reduce((f,p)=>p(f),e());return n=v6(l),r=n.cache.get,i=n.cache.set,o=c,c(a)}function c(a){const l=r(a);if(l)return l;const f=b6(a,n);return i(a,f),f}return function(){return o(x6.apply(null,arguments))}}const Cr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},_M=/^\[(?:([a-z-]+):)?(.+)\]$/i,_6=/^\d+\/\d+$/,w6=new Set(["px","full","screen"]),E6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,R6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gc=e=>Tp(e)||w6.has(e)||_6.test(e),au=e=>pm(e,"length",M6),Tp=e=>!!e&&!Number.isNaN(Number(e)),wE=e=>pm(e,"number",Tp),Bg=e=>!!e&&Number.isInteger(Number(e)),O6=e=>e.endsWith("%")&&Tp(e.slice(0,-1)),gn=e=>_M.test(e),cu=e=>E6.test(e),P6=new Set(["length","size","percentage"]),N6=e=>pm(e,P6,wM),I6=e=>pm(e,"position",wM),A6=new Set(["image","url"]),j6=e=>pm(e,A6,F6),D6=e=>pm(e,"",L6),$g=()=>!0,pm=(e,t,n)=>{const r=_M.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},M6=e=>C6.test(e)&&!T6.test(e),wM=()=>!1,L6=e=>R6.test(e),F6=e=>k6.test(e),U6=()=>{const e=Cr("colors"),t=Cr("spacing"),n=Cr("blur"),r=Cr("brightness"),i=Cr("borderColor"),o=Cr("borderRadius"),s=Cr("borderSpacing"),c=Cr("borderWidth"),a=Cr("contrast"),l=Cr("grayscale"),f=Cr("hueRotate"),p=Cr("invert"),m=Cr("gap"),E=Cr("gradientColorStops"),x=Cr("gradientColorStopPositions"),y=Cr("inset"),w=Cr("margin"),R=Cr("opacity"),_=Cr("padding"),C=Cr("saturate"),I=Cr("scale"),j=Cr("sepia"),U=Cr("skew"),V=Cr("space"),z=Cr("translate"),q=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",gn,t],G=()=>[gn,t],ee=()=>["",Gc,au],ce=()=>["auto",Tp,gn],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Se=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",gn],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Tp,gn];return{cacheSize:500,separator:":",theme:{colors:[$g],spacing:[Gc,au],blur:["none","",cu,gn],brightness:fe(),borderColor:[e],borderRadius:["none","","full",cu,gn],borderSpacing:G(),borderWidth:ee(),contrast:fe(),grayscale:Q(),hueRotate:fe(),invert:Q(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[O6,au],inset:J(),margin:J(),opacity:fe(),padding:G(),saturate:fe(),scale:fe(),sepia:Q(),skew:fe(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",gn]}],container:["container"],columns:[{columns:[cu]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),gn]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bg,gn]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gn]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Bg,gn]}],"grid-cols":[{"grid-cols":[$g]}],"col-start-end":[{col:["auto",{span:["full",Bg,gn]},gn]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[$g]}],"row-start-end":[{row:["auto",{span:[Bg,gn]},gn]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gn,t]}],"min-w":[{"min-w":[gn,t,"min","max","fit"]}],"max-w":[{"max-w":[gn,t,"none","full","min","max","fit","prose",{screen:[cu]},cu]}],h:[{h:[gn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cu,au]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wE]}],"font-family":[{font:[$g]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gn]}],"line-clamp":[{"line-clamp":["none",Tp,wE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gc,gn]}],"list-image":[{"list-image":["none",gn]}],"list-style-type":[{list:["none","disc","decimal",gn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gc,au]}],"underline-offset":[{"underline-offset":["auto",Gc,gn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),I6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...Se(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:Se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Se()]}],"outline-offset":[{"outline-offset":[Gc,gn]}],"outline-w":[{outline:[Gc,au]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Gc,au]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cu,D6]}],"shadow-color":[{shadow:[$g]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",cu,gn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gn]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",gn]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",gn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Bg,gn]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gc,au,wE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},B6=S6(U6);function it(...e){return B6(fM(e))}const $6=Lz,EM=P.forwardRef(({className:e,...t},n)=>u.jsx(oM,{ref:n,className:it("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));EM.displayName=oM.displayName;const V6=g_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CM=P.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(sM,{ref:r,className:it(V6({variant:t}),e),...n}));CM.displayName=sM.displayName;const z6=P.forwardRef(({className:e,...t},n)=>u.jsx(lM,{ref:n,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z6.displayName=lM.displayName;const TM=P.forwardRef(({className:e,...t},n)=>u.jsx(uM,{ref:n,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(ad,{className:"h-4 w-4"})}));TM.displayName=uM.displayName;const RM=P.forwardRef(({className:e,...t},n)=>u.jsx(aM,{ref:n,className:it("text-sm font-semibold",e),...t}));RM.displayName=aM.displayName;const kM=P.forwardRef(({className:e,...t},n)=>u.jsx(cM,{ref:n,className:it("text-sm opacity-90",e),...t}));kM.displayName=cM.displayName;function W6(){const{toasts:e}=Tc();return u.jsxs($6,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return u.jsxs(CM,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(RM,{children:n}),r&&u.jsx(kM,{children:r})]}),i,u.jsx(TM,{})]},t)}),u.jsx(EM,{})]})}const Hv="http://13.233.246.47/api/v1/admin",kT="http://13.233.246.47/api/v1",H6="/login",G6="/standard/createstandard",q6="/standard/getstandard/:id",K6="/standard/getallstandards",Y6="/standard/updatestandard/:id",Q6="/standard/standardtoggle",X6="/subject/subjectcreate",J6="/subject/idsubject/:id",Z6="/subject/allsubjects",e8="/subject/updatesubject/:id",t8="/subject/togglesubject",n8="/board/createboard",r8="/board/getbyidboard/:id",i8="/board/allboard",o8="/board/updateboard/:id",s8="/board/toggleboard",a8="/activity/createactivity",c8="/activity/idactivity/:id",l8="/activity/allactivity",u8="/activity/updateactivity/:id",d8="/activity/toggleactivity",f8="/course/createcourse",h8="/course/getallcourses",p8="/course/updatecourse",m8="/course/coursetoggle",g8="/quiz/create",v8="/quiz",y8="/quiz/all",b8="/quiz/",x8="/quiz/activeToggle",S8="/quiz/results",_8="/lesson/create",w8="/lesson/alllesson",E8="/lesson/updatelesson",C8="/lesson/togglelesson",T8="/mentor/creatementors",R8="/mentor/fetchmentors",k8="/mentor/",O8="/mentor/mentorstoggle",P8="/getCheckoutDetails",N8="/verifyPayment",I8="/user/all",A8="/user/toggleBlockUser",j8="/user/updateUserDetails",OM="/payment/all",D8="/payment/allTransactions",M8="/getProfile",L8="/quiz/getUserQuizResults",F8="/course/getUserCoursesTrack",U8="/user/getUserDetails",B8="/offer",$8="/offer",V8=e=>`/offer/${e}`,z8=e=>`/offer/${e}`,W8=e=>`/offer/${e}`,H8="/quiz/getEligibleOfrQuizzes",G8="/course/getEligibleOfrCourses",q8="/stream",K8="/stream/create-stream",Y8=e=>`/stream/start-stream/${e}`,Q8="/stream/stop-stream/";function PM(e,t){return function(){return e.apply(t,arguments)}}const{toString:X8}=Object.prototype,{getPrototypeOf:AR}=Object,y_=(e=>t=>{const n=X8.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=e=>(e=e.toLowerCase(),t=>y_(t)===e),b_=e=>t=>typeof t===e,{isArray:mm}=Array,Gv=b_("undefined");function J8(e){return e!==null&&!Gv(e)&&e.constructor!==null&&!Gv(e.constructor)&&Cs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const NM=Fa("ArrayBuffer");function Z8(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&NM(e.buffer),t}const eW=b_("string"),Cs=b_("function"),IM=b_("number"),x_=e=>e!==null&&typeof e=="object",tW=e=>e===!0||e===!1,Ob=e=>{if(y_(e)!=="object")return!1;const t=AR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nW=Fa("Date"),rW=Fa("File"),iW=Fa("Blob"),oW=Fa("FileList"),sW=e=>x_(e)&&Cs(e.pipe),aW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cs(e.append)&&((t=y_(e))==="formdata"||t==="object"&&Cs(e.toString)&&e.toString()==="[object FormData]"))},cW=Fa("URLSearchParams"),[lW,uW,dW,fW]=["ReadableStream","Request","Response","Headers"].map(Fa),hW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gy(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),mm(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let c;for(r=0;r<s;r++)c=o[r],t.call(null,e[c],c,e)}}function AM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const gf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jM=e=>!Gv(e)&&e!==gf;function OT(){const{caseless:e}=jM(this)&&this||{},t={},n=(r,i)=>{const o=e&&AM(t,i)||i;Ob(t[o])&&Ob(r)?t[o]=OT(t[o],r):Ob(r)?t[o]=OT({},r):mm(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gy(arguments[r],n);return t}const pW=(e,t,n,{allOwnKeys:r}={})=>(gy(t,(i,o)=>{n&&Cs(i)?e[o]=PM(i,n):e[o]=i},{allOwnKeys:r}),e),mW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gW=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vW=(e,t,n,r)=>{let i,o,s;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!c[s]&&(t[s]=e[s],c[s]=!0);e=n!==!1&&AR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},yW=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bW=e=>{if(!e)return null;if(mm(e))return e;let t=e.length;if(!IM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&AR(Uint8Array)),SW=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},_W=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},wW=Fa("HTMLFormElement"),EW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),XP=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),CW=Fa("RegExp"),DM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gy(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},TW=e=>{DM(e,(t,n)=>{if(Cs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Cs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RW=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return mm(e)?r(e):r(String(e).split(t)),n},kW=()=>{},OW=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,EE="abcdefghijklmnopqrstuvwxyz",JP="0123456789",MM={DIGIT:JP,ALPHA:EE,ALPHA_DIGIT:EE+EE.toUpperCase()+JP},PW=(e=16,t=MM.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function NW(e){return!!(e&&Cs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const IW=e=>{const t=new Array(10),n=(r,i)=>{if(x_(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=mm(r)?[]:{};return gy(r,(s,c)=>{const a=n(s,i+1);!Gv(a)&&(o[c]=a)}),t[i]=void 0,o}}return r};return n(e,0)},AW=Fa("AsyncFunction"),jW=e=>e&&(x_(e)||Cs(e))&&Cs(e.then)&&Cs(e.catch),LM=((e,t)=>e?setImmediate:t?((n,r)=>(gf.addEventListener("message",({source:i,data:o})=>{i===gf&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),gf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cs(gf.postMessage)),DW=typeof queueMicrotask<"u"?queueMicrotask.bind(gf):typeof process<"u"&&process.nextTick||LM,Ee={isArray:mm,isArrayBuffer:NM,isBuffer:J8,isFormData:aW,isArrayBufferView:Z8,isString:eW,isNumber:IM,isBoolean:tW,isObject:x_,isPlainObject:Ob,isReadableStream:lW,isRequest:uW,isResponse:dW,isHeaders:fW,isUndefined:Gv,isDate:nW,isFile:rW,isBlob:iW,isRegExp:CW,isFunction:Cs,isStream:sW,isURLSearchParams:cW,isTypedArray:xW,isFileList:oW,forEach:gy,merge:OT,extend:pW,trim:hW,stripBOM:mW,inherits:gW,toFlatObject:vW,kindOf:y_,kindOfTest:Fa,endsWith:yW,toArray:bW,forEachEntry:SW,matchAll:_W,isHTMLForm:wW,hasOwnProperty:XP,hasOwnProp:XP,reduceDescriptors:DM,freezeMethods:TW,toObjectSet:RW,toCamelCase:EW,noop:kW,toFiniteNumber:OW,findKey:AM,global:gf,isContextDefined:jM,ALPHABET:MM,generateString:PW,isSpecCompliantForm:NW,toJSONObject:IW,isAsyncFn:AW,isThenable:jW,setImmediate:LM,asap:DW};function hn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const FM=hn.prototype,UM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{UM[e]={value:e}});Object.defineProperties(hn,UM);Object.defineProperty(FM,"isAxiosError",{value:!0});hn.from=(e,t,n,r,i,o)=>{const s=Object.create(FM);return Ee.toFlatObject(e,s,function(a){return a!==Error.prototype},c=>c!=="isAxiosError"),hn.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const MW=null;function PT(e){return Ee.isPlainObject(e)||Ee.isArray(e)}function BM(e){return Ee.endsWith(e,"[]")?e.slice(0,-2):e}function ZP(e,t,n){return e?e.concat(t).map(function(i,o){return i=BM(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function LW(e){return Ee.isArray(e)&&!e.some(PT)}const FW=Ee.toFlatObject(Ee,{},null,function(t){return/^is[A-Z]/.test(t)});function S_(e,t,n){if(!Ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!Ee.isUndefined(w[y])});const r=n.metaTokens,i=n.visitor||f,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(t);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(Ee.isDate(x))return x.toISOString();if(!a&&Ee.isBlob(x))throw new hn("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(x)||Ee.isTypedArray(x)?a&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,w){let R=x;if(x&&!w&&typeof x=="object"){if(Ee.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(Ee.isArray(x)&&LW(x)||(Ee.isFileList(x)||Ee.endsWith(y,"[]"))&&(R=Ee.toArray(x)))return y=BM(y),R.forEach(function(C,I){!(Ee.isUndefined(C)||C===null)&&t.append(s===!0?ZP([y],I,o):s===null?y:y+"[]",l(C))}),!1}return PT(x)?!0:(t.append(ZP(w,y,o),l(x)),!1)}const p=[],m=Object.assign(FW,{defaultVisitor:f,convertValue:l,isVisitable:PT});function E(x,y){if(!Ee.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(x),Ee.forEach(x,function(R,_){(!(Ee.isUndefined(R)||R===null)&&i.call(t,R,Ee.isString(_)?_.trim():_,y,m))===!0&&E(R,y?y.concat(_):[_])}),p.pop()}}if(!Ee.isObject(e))throw new TypeError("data must be an object");return E(e),t}function eN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jR(e,t){this._pairs=[],e&&S_(e,this,t)}const $M=jR.prototype;$M.append=function(t,n){this._pairs.push([t,n])};$M.toString=function(t){const n=t?function(r){return t.call(this,r,eN)}:eN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function UW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VM(e,t,n){if(!t)return e;const r=n&&n.encode||UW;Ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=Ee.isURLSearchParams(t)?t.toString():new jR(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class tN{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BW=typeof URLSearchParams<"u"?URLSearchParams:jR,$W=typeof FormData<"u"?FormData:null,VW=typeof Blob<"u"?Blob:null,zW={isBrowser:!0,classes:{URLSearchParams:BW,FormData:$W,Blob:VW},protocols:["http","https","file","blob","url","data"]},DR=typeof window<"u"&&typeof document<"u",NT=typeof navigator=="object"&&navigator||void 0,WW=DR&&(!NT||["ReactNative","NativeScript","NS"].indexOf(NT.product)<0),HW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GW=DR&&window.location.href||"http://localhost",qW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:DR,hasStandardBrowserEnv:WW,hasStandardBrowserWebWorkerEnv:HW,navigator:NT,origin:GW},Symbol.toStringTag,{value:"Module"})),co={...qW,...zW};function KW(e,t){return S_(e,new co.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return co.isNode&&Ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function YW(e){return Ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QW(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function WM(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const c=Number.isFinite(+s),a=o>=n.length;return s=!s&&Ee.isArray(i)?i.length:s,a?(Ee.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!c):((!i[s]||!Ee.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Ee.isArray(i[s])&&(i[s]=QW(i[s])),!c)}if(Ee.isFormData(e)&&Ee.isFunction(e.entries)){const n={};return Ee.forEachEntry(e,(r,i)=>{t(YW(r),i,n,0)}),n}return null}function XW(e,t,n){if(Ee.isString(e))try{return(t||JSON.parse)(e),Ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const vy={transitional:zM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ee.isObject(t);if(o&&Ee.isHTMLForm(t)&&(t=new FormData(t)),Ee.isFormData(t))return i?JSON.stringify(WM(t)):t;if(Ee.isArrayBuffer(t)||Ee.isBuffer(t)||Ee.isStream(t)||Ee.isFile(t)||Ee.isBlob(t)||Ee.isReadableStream(t))return t;if(Ee.isArrayBufferView(t))return t.buffer;if(Ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KW(t,this.formSerializer).toString();if((c=Ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return S_(c?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),XW(t)):t}],transformResponse:[function(t){const n=this.transitional||vy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(t)||Ee.isReadableStream(t))return t;if(t&&Ee.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(s)throw c.name==="SyntaxError"?hn.from(c,hn.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:co.classes.FormData,Blob:co.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],e=>{vy.headers[e]={}});const JW=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZW=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&JW[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},nN=Symbol("internals");function Vg(e){return e&&String(e).trim().toLowerCase()}function Pb(e){return e===!1||e==null?e:Ee.isArray(e)?e.map(Pb):String(e)}function e9(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const t9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function CE(e,t,n,r,i){if(Ee.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Ee.isString(t)){if(Ee.isString(r))return t.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(t)}}function n9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function r9(e,t){const n=Ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class es{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(c,a,l){const f=Vg(a);if(!f)throw new Error("header name must be a non-empty string");const p=Ee.findKey(i,f);(!p||i[p]===void 0||l===!0||l===void 0&&i[p]!==!1)&&(i[p||a]=Pb(c))}const s=(c,a)=>Ee.forEach(c,(l,f)=>o(l,f,a));if(Ee.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Ee.isString(t)&&(t=t.trim())&&!t9(t))s(ZW(t),n);else if(Ee.isHeaders(t))for(const[c,a]of t.entries())o(a,c,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Vg(t),t){const r=Ee.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return e9(i);if(Ee.isFunction(n))return n.call(this,i,r);if(Ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vg(t),t){const r=Ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||CE(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=Vg(s),s){const c=Ee.findKey(r,s);c&&(!n||CE(r,r[c],c,n))&&(delete r[c],i=!0)}}return Ee.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||CE(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Ee.forEach(this,(i,o)=>{const s=Ee.findKey(r,o);if(s){n[s]=Pb(i),delete n[o];return}const c=t?n9(o):String(o).trim();c!==o&&delete n[o],n[c]=Pb(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[nN]=this[nN]={accessors:{}}).accessors,i=this.prototype;function o(s){const c=Vg(s);r[c]||(r9(i,s),r[c]=!0)}return Ee.isArray(t)?t.forEach(o):o(t),this}}es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(es.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ee.freezeMethods(es);function TE(e,t){const n=this||vy,r=t||n,i=es.from(r.headers);let o=r.data;return Ee.forEach(e,function(c){o=c.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function HM(e){return!!(e&&e.__CANCEL__)}function gm(e,t,n){hn.call(this,e??"canceled",hn.ERR_CANCELED,t,n),this.name="CanceledError"}Ee.inherits(gm,hn,{__CANCEL__:!0});function GM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new hn("Request failed with status code "+n.status,[hn.ERR_BAD_REQUEST,hn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function i9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function o9(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const l=Date.now(),f=r[o];s||(s=l),n[i]=a,r[i]=l;let p=o,m=0;for(;p!==i;)m+=n[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const E=f&&l-f;return E?Math.round(m*1e3/E):void 0}}function s9(e,t){let n=0,r=1e3/t,i,o;const s=(l,f=Date.now())=>{n=f,i=null,o&&(clearTimeout(o),o=null),e.apply(null,l)};return[(...l)=>{const f=Date.now(),p=f-n;p>=r?s(l,f):(i=l,o||(o=setTimeout(()=>{o=null,s(i)},r-p)))},()=>i&&s(i)]}const tS=(e,t,n=3)=>{let r=0;const i=o9(50,250);return s9(o=>{const s=o.loaded,c=o.lengthComputable?o.total:void 0,a=s-r,l=i(a),f=s<=c;r=s;const p={loaded:s,total:c,progress:c?s/c:void 0,bytes:a,rate:l||void 0,estimated:l&&c&&f?(c-s)/l:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},n)},rN=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},iN=e=>(...t)=>Ee.asap(()=>e(...t)),a9=co.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,co.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(co.origin),co.navigator&&/(msie|trident)/i.test(co.navigator.userAgent)):()=>!0,c9=co.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Ee.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ee.isString(r)&&s.push("path="+r),Ee.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function l9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function u9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qM(e,t){return e&&!l9(t)?u9(e,t):t}const oN=e=>e instanceof es?{...e}:e;function Ff(e,t){t=t||{};const n={};function r(l,f,p,m){return Ee.isPlainObject(l)&&Ee.isPlainObject(f)?Ee.merge.call({caseless:m},l,f):Ee.isPlainObject(f)?Ee.merge({},f):Ee.isArray(f)?f.slice():f}function i(l,f,p,m){if(Ee.isUndefined(f)){if(!Ee.isUndefined(l))return r(void 0,l,p,m)}else return r(l,f,p,m)}function o(l,f){if(!Ee.isUndefined(f))return r(void 0,f)}function s(l,f){if(Ee.isUndefined(f)){if(!Ee.isUndefined(l))return r(void 0,l)}else return r(void 0,f)}function c(l,f,p){if(p in t)return r(l,f);if(p in e)return r(void 0,l)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c,headers:(l,f,p)=>i(oN(l),oN(f),p,!0)};return Ee.forEach(Object.keys(Object.assign({},e,t)),function(f){const p=a[f]||i,m=p(e[f],t[f],f);Ee.isUndefined(m)&&p!==c||(n[f]=m)}),n}const KM=e=>{const t=Ff({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:c}=t;t.headers=s=es.from(s),t.url=VM(qM(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let a;if(Ee.isFormData(n)){if(co.hasStandardBrowserEnv||co.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((a=s.getContentType())!==!1){const[l,...f]=a?a.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...f].join("; "))}}if(co.hasStandardBrowserEnv&&(r&&Ee.isFunction(r)&&(r=r(t)),r||r!==!1&&a9(t.url))){const l=i&&o&&c9.read(o);l&&s.set(i,l)}return t},d9=typeof XMLHttpRequest<"u",f9=d9&&function(e){return new Promise(function(n,r){const i=KM(e);let o=i.data;const s=es.from(i.headers).normalize();let{responseType:c,onUploadProgress:a,onDownloadProgress:l}=i,f,p,m,E,x;function y(){E&&E(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function R(){if(!w)return;const C=es.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};GM(function(V){n(V),y()},function(V){r(V),y()},j),w=null}"onloadend"in w?w.onloadend=R:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(R)},w.onabort=function(){w&&(r(new hn("Request aborted",hn.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new hn("Network Error",hn.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||zM;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new hn(I,j.clarifyTimeoutError?hn.ETIMEDOUT:hn.ECONNABORTED,e,w)),w=null},o===void 0&&s.setContentType(null),"setRequestHeader"in w&&Ee.forEach(s.toJSON(),function(I,j){w.setRequestHeader(j,I)}),Ee.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),c&&c!=="json"&&(w.responseType=i.responseType),l&&([m,x]=tS(l,!0),w.addEventListener("progress",m)),a&&w.upload&&([p,E]=tS(a),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(f=C=>{w&&(r(!C||C.type?new gm(null,e,w):C),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const _=i9(i.url);if(_&&co.protocols.indexOf(_)===-1){r(new hn("Unsupported protocol "+_+":",hn.ERR_BAD_REQUEST,e));return}w.send(o||null)})},h9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(l){if(!i){i=!0,c();const f=l instanceof Error?l:this.reason;r.abort(f instanceof hn?f:new gm(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,o(new hn(`timeout ${t} of ms exceeded`,hn.ETIMEDOUT))},t);const c=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),e=null)};e.forEach(l=>l.addEventListener("abort",o));const{signal:a}=r;return a.unsubscribe=()=>Ee.asap(c),a}},p9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},m9=async function*(e,t){for await(const n of g9(e))yield*p9(n,t)},g9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sN=(e,t,n,r)=>{const i=m9(e,t);let o=0,s,c=a=>{s||(s=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:l,value:f}=await i.next();if(l){c(),a.close();return}let p=f.byteLength;if(n){let m=o+=p;n(m)}a.enqueue(new Uint8Array(f))}catch(l){throw c(l),l}},cancel(a){return c(a),i.return()}},{highWaterMark:2})},__=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",YM=__&&typeof ReadableStream=="function",v9=__&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),QM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},y9=YM&&QM(()=>{let e=!1;const t=new Request(co.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),aN=64*1024,IT=YM&&QM(()=>Ee.isReadableStream(new Response("").body)),nS={stream:IT&&(e=>e.body)};__&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!nS[t]&&(nS[t]=Ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new hn(`Response type '${t}' is not supported`,hn.ERR_NOT_SUPPORT,r)})})})(new Response);const b9=async e=>{if(e==null)return 0;if(Ee.isBlob(e))return e.size;if(Ee.isSpecCompliantForm(e))return(await new Request(co.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(e)||Ee.isArrayBuffer(e))return e.byteLength;if(Ee.isURLSearchParams(e)&&(e=e+""),Ee.isString(e))return(await v9(e)).byteLength},x9=async(e,t)=>{const n=Ee.toFiniteNumber(e.getContentLength());return n??b9(t)},S9=__&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:c,onUploadProgress:a,responseType:l,headers:f,withCredentials:p="same-origin",fetchOptions:m}=KM(e);l=l?(l+"").toLowerCase():"text";let E=h9([i,o&&o.toAbortSignal()],s),x;const y=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let w;try{if(a&&y9&&n!=="get"&&n!=="head"&&(w=await x9(f,r))!==0){let j=new Request(t,{method:"POST",body:r,duplex:"half"}),U;if(Ee.isFormData(r)&&(U=j.headers.get("content-type"))&&f.setContentType(U),j.body){const[V,z]=rN(w,tS(iN(a)));r=sN(j.body,aN,V,z)}}Ee.isString(p)||(p=p?"include":"omit");const R="credentials"in Request.prototype;x=new Request(t,{...m,signal:E,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:R?p:void 0});let _=await fetch(x);const C=IT&&(l==="stream"||l==="response");if(IT&&(c||C&&y)){const j={};["status","statusText","headers"].forEach(q=>{j[q]=_[q]});const U=Ee.toFiniteNumber(_.headers.get("content-length")),[V,z]=c&&rN(U,tS(iN(c),!0))||[];_=new Response(sN(_.body,aN,V,()=>{z&&z(),y&&y()}),j)}l=l||"text";let I=await nS[Ee.findKey(nS,l)||"text"](_,e);return!C&&y&&y(),await new Promise((j,U)=>{GM(j,U,{data:I,headers:es.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:x})})}catch(R){throw y&&y(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new hn("Network Error",hn.ERR_NETWORK,e,x),{cause:R.cause||R}):hn.from(R,R&&R.code,e,x)}}),AT={http:MW,xhr:f9,fetch:S9};Ee.forEach(AT,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cN=e=>`- ${e}`,_9=e=>Ee.isFunction(e)||e===null||e===!1,XM={getAdapter:e=>{e=Ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!_9(n)&&(r=AT[(s=String(n)).toLowerCase()],r===void 0))throw new hn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,a])=>`adapter ${c} `+(a===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(cN).join(`
`):" "+cN(o[0]):"as no adapter specified";throw new hn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:AT};function RE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gm(null,e)}function lN(e){return RE(e),e.headers=es.from(e.headers),e.data=TE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XM.getAdapter(e.adapter||vy.adapter)(e).then(function(r){return RE(e),r.data=TE.call(e,e.transformResponse,r),r.headers=es.from(r.headers),r},function(r){return HM(r)||(RE(e),r&&r.response&&(r.response.data=TE.call(e,e.transformResponse,r.response),r.response.headers=es.from(r.response.headers))),Promise.reject(r)})}const JM="1.7.9",w_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{w_[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const uN={};w_.transitional=function(t,n,r){function i(o,s){return"[Axios v"+JM+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,c)=>{if(t===!1)throw new hn(i(s," has been removed"+(n?" in "+n:"")),hn.ERR_DEPRECATED);return n&&!uN[s]&&(uN[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,c):!0}};w_.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function w9(e,t,n){if(typeof e!="object")throw new hn("options must be an object",hn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const c=e[o],a=c===void 0||s(c,o,e);if(a!==!0)throw new hn("option "+o+" must be "+a,hn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new hn("Unknown option "+o,hn.ERR_BAD_OPTION)}}const Nb={assertOptions:w9,validators:w_},oc=Nb.validators;class Rf{constructor(t){this.defaults=t,this.interceptors={request:new tN,response:new tN}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ff(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Nb.assertOptions(r,{silentJSONParsing:oc.transitional(oc.boolean),forcedJSONParsing:oc.transitional(oc.boolean),clarifyTimeoutError:oc.transitional(oc.boolean)},!1),i!=null&&(Ee.isFunction(i)?n.paramsSerializer={serialize:i}:Nb.assertOptions(i,{encode:oc.function,serialize:oc.function},!0)),Nb.assertOptions(n,{baseUrl:oc.spelling("baseURL"),withXsrfToken:oc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ee.merge(o.common,o[n.method]);o&&Ee.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=es.concat(s,o);const c=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(a=a&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let f,p=0,m;if(!a){const x=[lN.bind(this),void 0];for(x.unshift.apply(x,c),x.push.apply(x,l),m=x.length,f=Promise.resolve(n);p<m;)f=f.then(x[p++],x[p++]);return f}m=c.length;let E=n;for(p=0;p<m;){const x=c[p++],y=c[p++];try{E=x(E)}catch(w){y.call(this,w);break}}try{f=lN.call(this,E)}catch(x){return Promise.reject(x)}for(p=0,m=l.length;p<m;)f=f.then(l[p++],l[p++]);return f}getUri(t){t=Ff(this.defaults,t);const n=qM(t.baseURL,t.url);return VM(n,t.params,t.paramsSerializer)}}Ee.forEach(["delete","get","head","options"],function(t){Rf.prototype[t]=function(n,r){return this.request(Ff(r||{},{method:t,url:n,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,c){return this.request(Ff(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Rf.prototype[t]=n(),Rf.prototype[t+"Form"]=n(!0)});class MR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(c=>{r.subscribe(c),o=c}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,c){r.reason||(r.reason=new gm(o,s,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new MR(function(i){t=i}),cancel:t}}}function E9(e){return function(n){return e.apply(null,n)}}function C9(e){return Ee.isObject(e)&&e.isAxiosError===!0}const jT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jT).forEach(([e,t])=>{jT[t]=e});function ZM(e){const t=new Rf(e),n=PM(Rf.prototype.request,t);return Ee.extend(n,Rf.prototype,t,{allOwnKeys:!0}),Ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return ZM(Ff(e,i))},n}const mr=ZM(vy);mr.Axios=Rf;mr.CanceledError=gm;mr.CancelToken=MR;mr.isCancel=HM;mr.VERSION=JM;mr.toFormData=S_;mr.AxiosError=hn;mr.Cancel=mr.CanceledError;mr.all=function(t){return Promise.all(t)};mr.spread=E9;mr.isAxiosError=C9;mr.mergeConfig=Ff;mr.AxiosHeaders=es;mr.formToJSON=e=>WM(Ee.isHTMLForm(e)?new FormData(e):e);mr.getAdapter=XM.getAdapter;mr.HttpStatusCode=jT;mr.default=mr;/*! js-cookie v3.0.5 | MIT */function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var T9={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function DT(e,t){function n(i,o,s){if(!(typeof document>"u")){s=sb({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var a in s)s[a]&&(c+="; "+a,s[a]!==!0&&(c+="="+s[a].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},c=0;c<o.length;c++){var a=o[c].split("="),l=a.slice(1).join("=");try{var f=decodeURIComponent(a[0]);if(s[f]=e.read(l,f),i===f)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",sb({},o,{expires:-1}))},withAttributes:function(i){return DT(this.converter,sb({},this.attributes,i))},withConverter:function(i){return DT(sb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Gi=DT(T9,{path:"/"});const mt=mr.create({baseURL:Hv,timeout:6e4,headers:{"Content-Type":"application/json"}});mt.interceptors.request.use(e=>{var n;const t=Gi.get("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`Request: ${(n=e.method)==null?void 0:n.toUpperCase()} ${e.url}`),e.params&&console.log("Params:",e.params),e.data&&console.log("Data:",e.data),e},e=>Promise.reject(e));mt.interceptors.response.use(e=>(console.log("Response:",e.data),e.data),async e=>{console.error("API Error:",e.response);const t=e.config;if(e.response.status===401){if(t._retry)return Gi.set("accessToken",""),Gi.set("refreshToken",""),window.location.href="/login",Promise.reject(e);t._retry=!0;try{const n=Gi.get("refreshToken"),r=await mr.post(`${kT}/refreshToken`,{refreshToken:n}),{accessToken:i}=r.data;return Gi.set("accessToken",i),mt.defaults.headers.common.Authorization=`Bearer ${i}`,t.headers.Authorization=`Bearer ${i}`,mt(t)}catch(n){return Gi.set("accessToken",""),Gi.set("refreshToken",""),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});function zi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R9=typeof Symbol=="function"&&Symbol.observable||"@@observable",dN=R9,kE=()=>Math.random().toString(36).substring(7).split("").join("."),k9={INIT:`@@redux/INIT${kE()}`,REPLACE:`@@redux/REPLACE${kE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kE()}`},rS=k9;function LR(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eL(e,t,n){if(typeof e!="function")throw new Error(zi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zi(1));return n(eL)(e,t)}let r=e,i=t,o=new Map,s=o,c=0,a=!1;function l(){s===o&&(s=new Map,o.forEach((w,R)=>{s.set(R,w)}))}function f(){if(a)throw new Error(zi(3));return i}function p(w){if(typeof w!="function")throw new Error(zi(4));if(a)throw new Error(zi(5));let R=!0;l();const _=c++;return s.set(_,w),function(){if(R){if(a)throw new Error(zi(6));R=!1,l(),s.delete(_),o=null}}}function m(w){if(!LR(w))throw new Error(zi(7));if(typeof w.type>"u")throw new Error(zi(8));if(typeof w.type!="string")throw new Error(zi(17));if(a)throw new Error(zi(9));try{a=!0,i=r(i,w)}finally{a=!1}return(o=s).forEach(_=>{_()}),w}function E(w){if(typeof w!="function")throw new Error(zi(10));r=w,m({type:rS.REPLACE})}function x(){const w=p;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(zi(11));function _(){const I=R;I.next&&I.next(f())}return _(),{unsubscribe:w(_)}},[dN](){return this}}}return m({type:rS.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:E,[dN]:x}}function O9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:rS.INIT})>"u")throw new Error(zi(12));if(typeof n(void 0,{type:rS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zi(13))})}function P9(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{O9(n)}catch(o){i=o}return function(s={},c){if(i)throw i;let a=!1;const l={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],E=s[p],x=m(E,c);if(typeof x>"u")throw c&&c.type,new Error(zi(14));l[p]=x,a=a||x!==E}return a=a||r.length!==Object.keys(s).length,a?l:s}}function iS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function N9(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(zi(15))};const s={getState:i.getState,dispatch:(a,...l)=>o(a,...l)},c=e.map(a=>a(s));return o=iS(...c)(i.dispatch),{...i,dispatch:o}}}function I9(e){return LR(e)&&"type"in e&&typeof e.type=="string"}var tL=Symbol.for("immer-nothing"),fN=Symbol.for("immer-draftable"),ks=Symbol.for("immer-state");function Pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kp=Object.getPrototypeOf;function Uf(e){return!!e&&!!e[ks]}function ml(e){var t;return e?nL(e)||Array.isArray(e)||!!e[fN]||!!((t=e.constructor)!=null&&t[fN])||C_(e)||T_(e):!1}var A9=Object.prototype.constructor.toString();function nL(e){if(!e||typeof e!="object")return!1;const t=Kp(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===A9}function oS(e,t){E_(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function E_(e){const t=e[ks];return t?t.type_:Array.isArray(e)?1:C_(e)?2:T_(e)?3:0}function MT(e,t){return E_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rL(e,t,n){const r=E_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function j9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function C_(e){return e instanceof Map}function T_(e){return e instanceof Set}function uf(e){return e.copy_||e.base_}function LT(e,t){if(C_(e))return new Map(e);if(T_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=nL(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ks];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(Kp(e),r)}else{const r=Kp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function FR(e,t=!1){return R_(e)||Uf(e)||!ml(e)||(E_(e)>1&&(e.set=e.add=e.clear=e.delete=D9),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>FR(r,!0))),e}function D9(){Pa(2)}function R_(e){return Object.isFrozen(e)}var M9={};function Bf(e){const t=M9[e];return t||Pa(0,e),t}var qv;function iL(){return qv}function L9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hN(e,t){t&&(Bf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function FT(e){UT(e),e.drafts_.forEach(F9),e.drafts_=null}function UT(e){e===qv&&(qv=e.parent_)}function pN(e){return qv=L9(qv,e)}function F9(e){const t=e[ks];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ks].modified_&&(FT(t),Pa(4)),ml(e)&&(e=sS(t,e),t.parent_||aS(t,e)),t.patches_&&Bf("Patches").generateReplacementPatches_(n[ks].base_,e,t.patches_,t.inversePatches_)):e=sS(t,n,[]),FT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tL?e:void 0}function sS(e,t,n){if(R_(t))return t;const r=t[ks];if(!r)return oS(t,(i,o)=>gN(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return aS(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),oS(o,(c,a)=>gN(e,r,i,c,a,n,s)),aS(e,i,!1),n&&e.patches_&&Bf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function gN(e,t,n,r,i,o,s){if(Uf(i)){const c=o&&t&&t.type_!==3&&!MT(t.assigned_,r)?o.concat(r):void 0,a=sS(e,i,c);if(rL(n,r,a),Uf(a))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(ml(i)&&!R_(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sS(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&aS(e,i)}}function aS(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FR(t,n)}function U9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=UR;n&&(i=[r],o=Kv);const{revoke:s,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=s,c}var UR={get(e,t){if(t===ks)return e;const n=uf(e);if(!MT(n,t))return B9(e,n,t);const r=n[t];return e.finalized_||!ml(r)?r:r===OE(e.base_,t)?(PE(e),e.copy_[t]=$T(r,e)):r},has(e,t){return t in uf(e)},ownKeys(e){return Reflect.ownKeys(uf(e))},set(e,t,n){const r=oL(uf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=OE(uf(e),t),o=i==null?void 0:i[ks];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(j9(n,i)&&(n!==void 0||MT(e.base_,t)))return!0;PE(e),BT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return OE(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,PE(e),BT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=uf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Pa(11)},getPrototypeOf(e){return Kp(e.base_)},setPrototypeOf(){Pa(12)}},Kv={};oS(UR,(e,t)=>{Kv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Kv.deleteProperty=function(e,t){return Kv.set.call(this,e,t,void 0)};Kv.set=function(e,t,n){return UR.set.call(this,e[0],t,n,e[0])};function OE(e,t){const n=e[ks];return(n?uf(n):e)[t]}function B9(e,t,n){var i;const r=oL(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function oL(e,t){if(!(t in e))return;let n=Kp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Kp(n)}}function BT(e){e.modified_||(e.modified_=!0,e.parent_&&BT(e.parent_))}function PE(e){e.copy_||(e.copy_=LT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(a=o,...l){return s.produce(a,f=>n.call(this,f,...l))}}typeof n!="function"&&Pa(6),r!==void 0&&typeof r!="function"&&Pa(7);let i;if(ml(t)){const o=pN(this),s=$T(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?FT(o):UT(o)}return hN(o,r),mN(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===tL&&(i=void 0),this.autoFreeze_&&FR(i,!0),r){const o=[],s=[];Bf("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Pa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,a=>t(a,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ml(e)||Pa(8),Uf(e)&&(e=V9(e));const t=pN(this),n=$T(e,void 0);return n[ks].isManual_=!0,UT(t),n}finishDraft(e,t){const n=e&&e[ks];(!n||!n.isManual_)&&Pa(9);const{scope_:r}=n;return hN(r,t),mN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Bf("Patches").applyPatches_;return Uf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function $T(e,t){const n=C_(e)?Bf("MapSet").proxyMap_(e,t):T_(e)?Bf("MapSet").proxySet_(e,t):U9(e,t);return(t?t.scope_:iL()).drafts_.push(n),n}function V9(e){return Uf(e)||Pa(10,e),sL(e)}function sL(e){if(!ml(e)||R_(e))return e;const t=e[ks];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=LT(e,t.scope_.immer_.useStrictShallowCopy_)}else n=LT(e,!0);return oS(n,(r,i)=>{rL(n,r,sL(i))}),t&&(t.finalized_=!1),n}var Os=new $9,aL=Os.produce;Os.produceWithPatches.bind(Os);Os.setAutoFreeze.bind(Os);Os.setUseStrictShallowCopy.bind(Os);Os.applyPatches.bind(Os);Os.createDraft.bind(Os);Os.finishDraft.bind(Os);function cL(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var z9=cL(),W9=cL,H9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iS:iS.apply(null,arguments)},G9=e=>e&&typeof e.match=="function";function mv(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(sl(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>I9(r)&&r.type===e,n}var lL=class Jg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Jg.prototype)}static get[Symbol.species](){return Jg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Jg(...t[0].concat(this)):new Jg(...t.concat(this))}};function vN(e){return ml(e)?aL(e,()=>{}):e}function yN(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function q9(e){return typeof e=="boolean"}var K9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new lL;return n&&(q9(n)?s.push(z9):s.push(W9(n.extraArgument))),s},Y9="RTK_autoBatch",bN=e=>t=>{setTimeout(t,e)},Q9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const c=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bN(10):e.type==="callback"?e.queueNotification:bN(e.timeout),l=()=>{s=!1,o&&(o=!1,c.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return c.add(f),()=>{m(),c.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[Y9]),o=!i,o&&(s||(s=!0,a(l))),r.dispatch(f)}finally{i=!0}}})},X9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new lL(e);return r&&i.push(Q9(typeof r=="object"?r:void 0)),i};function J9(e){const t=K9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(LR(n))c=P9(n);else throw new Error(sl(1));let a;typeof r=="function"?a=r(t):a=t();let l=iS;i&&(l=H9({trace:!1,...typeof i=="object"&&i}));const f=N9(...a),p=X9(f);let m=typeof s=="function"?s(p):p();const E=l(...m);return eL(c,o,E)}function uL(e){const t={},n=[];let r;const i={addCase(o,s){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(sl(28));if(c in t)throw new Error(sl(29));return t[c]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Z9(e){return typeof e=="function"}function eH(e,t){let[n,r,i]=uL(t),o;if(Z9(e))o=()=>vN(e());else{const c=vN(e);o=()=>c}function s(c=o(),a){let l=[n[a.type],...r.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return l.filter(f=>!!f).length===0&&(l=[i]),l.reduce((f,p)=>{if(p)if(Uf(f)){const E=p(f,a);return E===void 0?f:E}else{if(ml(f))return aL(f,m=>p(m,a));{const m=p(f,a);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},c)}return s.getInitialState=o,s}var tH=(e,t)=>G9(e)?e.match(t):e(t);function nH(...e){return t=>e.some(n=>tH(n,t))}var rH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iH=(e=21)=>{let t="",n=e;for(;n--;)t+=rH[Math.random()*64|0];return t},oH=["name","message","stack","code"],NE=class{constructor(e,t){Ww(this,"_type");this.payload=e,this.meta=t}},xN=class{constructor(e,t){Ww(this,"_type");this.payload=e,this.meta=t}},sH=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of oH)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},wt=(()=>{function e(t,n,r){const i=mv(t+"/fulfilled",(a,l,f,p)=>({payload:a,meta:{...p||{},arg:f,requestId:l,requestStatus:"fulfilled"}})),o=mv(t+"/pending",(a,l,f)=>({payload:void 0,meta:{...f||{},arg:l,requestId:a,requestStatus:"pending"}})),s=mv(t+"/rejected",(a,l,f,p,m)=>({payload:p,error:(r&&r.serializeError||sH)(a||"Rejected"),meta:{...m||{},arg:f,requestId:l,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function c(a){return(l,f,p)=>{const m=r!=null&&r.idGenerator?r.idGenerator(a):iH(),E=new AbortController;let x,y;function w(_){y=_,E.abort()}const R=async function(){var I,j;let _;try{let U=(I=r==null?void 0:r.condition)==null?void 0:I.call(r,a,{getState:f,extra:p});if(cH(U)&&(U=await U),U===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const V=new Promise((z,q)=>{x=()=>{q({name:"AbortError",message:y||"Aborted"})},E.signal.addEventListener("abort",x)});l(o(m,a,(j=r==null?void 0:r.getPendingMeta)==null?void 0:j.call(r,{requestId:m,arg:a},{getState:f,extra:p}))),_=await Promise.race([V,Promise.resolve(n(a,{dispatch:l,getState:f,extra:p,requestId:m,signal:E.signal,abort:w,rejectWithValue:(z,q)=>new NE(z,q),fulfillWithValue:(z,q)=>new xN(z,q)})).then(z=>{if(z instanceof NE)throw z;return z instanceof xN?i(z.payload,m,a,z.meta):i(z,m,a)})])}catch(U){_=U instanceof NE?s(null,m,a,U.payload,U.meta):s(U,m,a)}finally{x&&E.signal.removeEventListener("abort",x)}return r&&!r.dispatchConditionRejection&&s.match(_)&&_.meta.condition||l(_),_}();return Object.assign(R,{abort:w,requestId:m,arg:a,unwrap(){return R.then(aH)}})}}return Object.assign(c,{pending:o,rejected:s,fulfilled:i,settled:nH(s,i),typePrefix:t})}return e.withTypes=()=>e,e})();function aH(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function cH(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var lH=Symbol.for("rtk-slice-createasyncthunk");function uH(e,t){return`${e}/${t}`}function dH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[lH];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(sl(11));typeof process<"u";const c=(typeof i.reducers=="function"?i.reducers(hH()):i.reducers)||{},a=Object.keys(c),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,I){const j=typeof C=="string"?C:C.type;if(!j)throw new Error(sl(12));if(j in l.sliceCaseReducersByType)throw new Error(sl(13));return l.sliceCaseReducersByType[j]=I,f},addMatcher(C,I){return l.sliceMatchers.push({matcher:C,reducer:I}),f},exposeAction(C,I){return l.actionCreators[C]=I,f},exposeCaseReducer(C,I){return l.sliceCaseReducersByName[C]=I,f}};a.forEach(C=>{const I=c[C],j={reducerName:C,type:uH(o,C),createNotation:typeof i.reducers=="function"};mH(I)?vH(j,I,f,t):pH(j,I,f)});function p(){const[C={},I=[],j=void 0]=typeof i.extraReducers=="function"?uL(i.extraReducers):[i.extraReducers],U={...C,...l.sliceCaseReducersByType};return eH(i.initialState,V=>{for(let z in U)V.addCase(z,U[z]);for(let z of l.sliceMatchers)V.addMatcher(z.matcher,z.reducer);for(let z of I)V.addMatcher(z.matcher,z.reducer);j&&V.addDefaultCase(j)})}const m=C=>C,E=new Map;let x;function y(C,I){return x||(x=p()),x(C,I)}function w(){return x||(x=p()),x.getInitialState()}function R(C,I=!1){function j(V){let z=V[C];return typeof z>"u"&&I&&(z=w()),z}function U(V=m){const z=yN(E,I,()=>new WeakMap);return yN(z,V,()=>{const q={};for(const[X,J]of Object.entries(i.selectors??{}))q[X]=fH(J,V,w,I);return q})}return{reducerPath:C,getSelectors:U,get selectors(){return U(j)},selectSlice:j}}const _={name:o,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...R(s),injectInto(C,{reducerPath:I,...j}={}){const U=I??s;return C.inject({reducerPath:U,reducer:y},j),{..._,...R(U,!0)}}};return _}}function fH(e,t,n,r){function i(o,...s){let c=t(o);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var is=dH();function hH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function pH({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!gH(r))throw new Error(sl(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?mv(e,s):mv(e))}function mH(e){return e._reducerDefinitionType==="asyncThunk"}function gH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(sl(18));const{payloadCreator:o,fulfilled:s,pending:c,rejected:a,settled:l,options:f}=n,p=i(e,o,f);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),c&&r.addCase(p.pending,c),a&&r.addCase(p.rejected,a),l&&r.addMatcher(p.settled,l),r.exposeCaseReducer(t,{fulfilled:s||ab,pending:c||ab,rejected:a||ab,settled:l||ab})}function ab(){}function sl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const yH={isAuthenticated:!1,loading:!1,error:null,email:null,activeQuiz:0,payment:0,totalUser:0},Ib=wt("auth/loginUser",async(e,{rejectWithValue:t})=>{var n,r;try{const i=await mt.post(H6,e),{accessToken:o,refreshToken:s}=i.data;return Gi.set("accessToken",o),Gi.set("refreshToken",s),i.data}catch(i){return t(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.message)||"An error occurred")}}),Ab=wt("getProfile",async(e,{rejectWithValue:t})=>{try{return(await mt.get(M8)).data}catch(n){return t(n.response.data)}}),dL=is({name:"auth",initialState:yH,reducers:{logout:e=>{console.log("logout :>> "),Gi.set("accessToken",""),Gi.set("refreshToken","")}},extraReducers:e=>{e.addCase(Ib.pending,(t,n)=>{t.loading=!0,t.error=null}).addCase(Ib.fulfilled,(t,n)=>{t.loading=!1,t.isAuthenticated=!0,t.email=n.payload.email}).addCase(Ib.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"An unknown error occurred"}).addCase(Ab.pending,(t,n)=>{t.loading=!0,t.error=null}).addCase(Ab.fulfilled,(t,n)=>{t.loading=!1,t.email=n.payload.email,t.payment=n.payload.totalSum,t.activeQuiz=n.payload.activeQuiz,t.totalUser=n.payload.totalUser}).addCase(Ab.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"An unknown error occurred"})}}),{logout:bH}=dL.actions,xH=dL.reducer,VT=g_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ot=P.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?xc:"button";return u.jsx(s,{className:it(VT({variant:t,size:n,className:e})),ref:o,...i})});Ot.displayName="Button";const sn=P.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:it("flex h-10 w-full rounded-md border border-input bg-background px-2 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ",e),ref:r,...n}));sn.displayName="Input";var SH="Label",fL=P.forwardRef((e,t)=>u.jsx(Pt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fL.displayName=SH;var hL=fL;const _H=g_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ai=P.forwardRef(({className:e,...t},n)=>u.jsx(hL,{ref:n,className:it(_H(),e),...t}));Ai.displayName=hL.displayName;var pL={exports:{}},mL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=P;function wH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EH=typeof Object.is=="function"?Object.is:wH,CH=yy.useSyncExternalStore,TH=yy.useRef,RH=yy.useEffect,kH=yy.useMemo,OH=yy.useDebugValue;mL.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=TH(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=kH(function(){function a(E){if(!l){if(l=!0,f=E,E=r(E),i!==void 0&&s.hasValue){var x=s.value;if(i(x,E))return p=x}return p=E}if(x=p,EH(f,E))return x;var y=r(E);return i!==void 0&&i(x,y)?(f=E,x):(f=E,p=y)}var l=!1,f,p,m=n===void 0?null:n;return[function(){return a(t())},m===null?void 0:function(){return a(m())}]},[t,n,r,i]);var c=CH(e,o[0],o[1]);return RH(function(){s.hasValue=!0,s.value=c},[c]),OH(c),c};pL.exports=mL;var PH=pL.exports;function NH(e){e()}function IH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SN={notify(){},get:()=>[]};function AH(e,t){let n,r=SN,i=0,o=!1;function s(y){f();const w=r.subscribe(y);let R=!1;return()=>{R||(R=!0,w(),p())}}function c(){r.notify()}function a(){x.onStateChange&&x.onStateChange()}function l(){return o}function f(){i++,n||(n=e.subscribe(a),r=IH())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SN)}function m(){o||(o=!0,f())}function E(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:a,isSubscribed:l,trySubscribe:m,tryUnsubscribe:E,getListeners:()=>r};return x}var jH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DH=jH(),MH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LH=MH(),FH=()=>DH||LH?P.useLayoutEffect:P.useEffect,UH=FH(),IE=Symbol.for("react-redux-context"),AE=typeof globalThis<"u"?globalThis:{};function BH(){if(!P.createContext)return{};const e=AE[IE]??(AE[IE]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var Qu=BH();function $H(e){const{children:t,context:n,serverState:r,store:i}=e,o=P.useMemo(()=>{const a=AH(i);return{store:i,subscription:a,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);UH(()=>{const{subscription:a}=o;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==i.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[o,s]);const c=n||Qu;return P.createElement(c.Provider,{value:o},t)}var VH=$H;function BR(e=Qu){return function(){return P.useContext(e)}}var gL=BR();function vL(e=Qu){const t=e===Qu?gL:BR(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var zH=vL();function WH(e=Qu){const t=e===Qu?zH:vL(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Yn=WH(),HH=(e,t)=>e===t;function GH(e=Qu){const t=e===Qu?gL:BR(e),n=(r,i={})=>{const{equalityFn:o=HH}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:c,subscription:a,getServerState:l}=s;P.useRef(!0);const f=P.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=PH.useSyncExternalStoreWithSelector(a.addNestedSub,c.getState,l||c.getState,f,o);return P.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var Mn=GH();const qH=()=>{const[e,t]=P.useState(""),[n,r]=P.useState(""),i=Yn(),{loading:o}=Mn(l=>l.auth),s=Sl(),{toast:c}=Tc(),a=async l=>{l.preventDefault(),i(Ib({email:e,password:n})).unwrap().then(f=>{s("/dashboard"),c({title:"Success",description:"Welcome back!"})}).catch(f=>{c({variant:"destructive",title:"Error",description:"Invalid credentials"})})};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsx("div",{children:u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[u.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ai,{htmlFor:"email",children:"Email address"}),u.jsx(sn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Ai,{htmlFor:"password",children:"Password"}),u.jsx(sn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:l=>r(l.target.value),className:"mt-1"})]})]}),u.jsx("div",{children:u.jsx(Ot,{type:"submit",className:"w-full",disabled:o,children:o?"Signing in...":"Sign in"})})]})]})})};var KH=P.createContext(void 0);function by(e){const t=P.useContext(KH);return e||t||"ltr"}var jE=0;function k_(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_N()),document.body.insertAdjacentElement("beforeend",e[1]??_N()),jE++,()=>{jE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jE--}},[])}function _N(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var DE="focusScope.autoFocusOnMount",ME="focusScope.autoFocusOnUnmount",wN={bubbles:!1,cancelable:!0},YH="FocusScope",xy=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[c,a]=P.useState(null),l=$r(i),f=$r(o),p=P.useRef(null),m=xn(t,y=>a(y)),E=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let y=function(C){if(E.paused||!c)return;const I=C.target;c.contains(I)?p.current=I:fu(p.current,{select:!0})},w=function(C){if(E.paused||!c)return;const I=C.relatedTarget;I!==null&&(c.contains(I)||fu(p.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const j of C)j.removedNodes.length>0&&fu(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const _=new MutationObserver(R);return c&&_.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),_.disconnect()}}},[r,c,E.paused]),P.useEffect(()=>{if(c){CN.add(E);const y=document.activeElement;if(!c.contains(y)){const R=new CustomEvent(DE,wN);c.addEventListener(DE,l),c.dispatchEvent(R),R.defaultPrevented||(QH(tG(yL(c)),{select:!0}),document.activeElement===y&&fu(c))}return()=>{c.removeEventListener(DE,l),setTimeout(()=>{const R=new CustomEvent(ME,wN);c.addEventListener(ME,f),c.dispatchEvent(R),R.defaultPrevented||fu(y??document.body,{select:!0}),c.removeEventListener(ME,f),CN.remove(E)},0)}}},[c,l,f,E]);const x=P.useCallback(y=>{if(!n&&!r||E.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,R=document.activeElement;if(w&&R){const _=y.currentTarget,[C,I]=XH(_);C&&I?!y.shiftKey&&R===I?(y.preventDefault(),n&&fu(C,{select:!0})):y.shiftKey&&R===C&&(y.preventDefault(),n&&fu(I,{select:!0})):R===_&&y.preventDefault()}},[n,r,E.paused]);return u.jsx(Pt.div,{tabIndex:-1,...s,ref:m,onKeyDown:x})});xy.displayName=YH;function QH(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fu(r,{select:t}),document.activeElement!==n)return}function XH(e){const t=yL(e),n=EN(t,e),r=EN(t.reverse(),e);return[n,r]}function yL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function EN(e,t){for(const n of e)if(!JH(n,{upTo:t}))return n}function JH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZH(e){return e instanceof HTMLInputElement&&"select"in e}function fu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZH(e)&&t&&e.select()}}var CN=eG();function eG(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=TN(e,t),e.unshift(t)},remove(t){var n;e=TN(e,t),(n=e[0])==null||n.resume()}}}function TN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function tG(e){return e.filter(t=>t.tagName!=="A")}var nG=_A.useId||(()=>{}),rG=0;function vc(e){const[t,n]=P.useState(nG());return Yi(()=>{n(r=>r??String(rG++))},[e]),t?`radix-${t}`:""}const iG=["top","right","bottom","left"],Xu=Math.min,xs=Math.max,cS=Math.round,cb=Math.floor,Ju=e=>({x:e,y:e}),oG={left:"right",right:"left",bottom:"top",top:"bottom"},sG={start:"end",end:"start"};function zT(e,t,n){return xs(e,Xu(t,n))}function gl(e,t){return typeof e=="function"?e(t):e}function vl(e){return e.split("-")[0]}function vm(e){return e.split("-")[1]}function $R(e){return e==="x"?"y":"x"}function VR(e){return e==="y"?"height":"width"}function Zu(e){return["top","bottom"].includes(vl(e))?"y":"x"}function zR(e){return $R(Zu(e))}function aG(e,t,n){n===void 0&&(n=!1);const r=vm(e),i=zR(e),o=VR(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=lS(s)),[s,lS(s)]}function cG(e){const t=lS(e);return[WT(e),t,WT(t)]}function WT(e){return e.replace(/start|end/g,t=>sG[t])}function lG(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function uG(e,t,n,r){const i=vm(e);let o=lG(vl(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(WT)))),o}function lS(e){return e.replace(/left|right|bottom|top/g,t=>oG[t])}function dG(e){return{top:0,right:0,bottom:0,left:0,...e}}function bL(e){return typeof e!="number"?dG(e):{top:e,right:e,bottom:e,left:e}}function uS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function RN(e,t,n){let{reference:r,floating:i}=e;const o=Zu(t),s=zR(t),c=VR(s),a=vl(t),l=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[c]/2-i[c]/2;let E;switch(a){case"top":E={x:f,y:r.y-i.height};break;case"bottom":E={x:f,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:p};break;case"left":E={x:r.x-i.width,y:p};break;default:E={x:r.x,y:r.y}}switch(vm(t)){case"start":E[s]-=m*(n&&l?-1:1);break;case"end":E[s]+=m*(n&&l?-1:1);break}return E}const fG=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,c=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=RN(l,r,a),m=r,E={},x=0;for(let y=0;y<c.length;y++){const{name:w,fn:R}=c[y],{x:_,y:C,data:I,reset:j}=await R({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:E,rects:l,platform:s,elements:{reference:e,floating:t}});f=_??f,p=C??p,E={...E,[w]:{...E[w],...I}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(l=j.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:f,y:p}=RN(l,m,a)),y=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:E}};async function Yv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:c,strategy:a}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:E=0}=gl(t,e),x=bL(E),w=c[m?p==="floating"?"reference":"floating":p],R=uS(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:l,rootBoundary:f,strategy:a})),_=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),I=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},j=uS(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:_,offsetParent:C,strategy:a}):_);return{top:(R.top-j.top+x.top)/I.y,bottom:(j.bottom-R.bottom+x.bottom)/I.y,left:(R.left-j.left+x.left)/I.x,right:(j.right-R.right+x.right)/I.x}}const hG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:c,middlewareData:a}=t,{element:l,padding:f=0}=gl(e,t)||{};if(l==null)return{};const p=bL(f),m={x:n,y:r},E=zR(i),x=VR(E),y=await s.getDimensions(l),w=E==="y",R=w?"top":"left",_=w?"bottom":"right",C=w?"clientHeight":"clientWidth",I=o.reference[x]+o.reference[E]-m[E]-o.floating[x],j=m[E]-o.reference[E],U=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let V=U?U[C]:0;(!V||!await(s.isElement==null?void 0:s.isElement(U)))&&(V=c.floating[C]||o.floating[x]);const z=I/2-j/2,q=V/2-y[x]/2-1,X=Xu(p[R],q),J=Xu(p[_],q),G=X,ee=V-y[x]-J,ce=V/2-y[x]/2+z,xe=zT(G,ce,ee),Se=!a.arrow&&vm(i)!=null&&ce!==xe&&o.reference[x]/2-(ce<G?X:J)-y[x]/2<0,ve=Se?ce<G?ce-G:ce-ee:0;return{[E]:m[E]+ve,data:{[E]:xe,centerOffset:ce-xe-ve,...Se&&{alignmentOffset:ve}},reset:Se}}}),pG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:c,platform:a,elements:l}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=gl(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=vl(i),_=Zu(c),C=vl(c)===c,I=await(a.isRTL==null?void 0:a.isRTL(l.floating)),j=m||(C||!y?[lS(c)]:cG(c)),U=x!=="none";!m&&U&&j.push(...uG(c,y,x,I));const V=[c,...j],z=await Yv(t,w),q=[];let X=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&q.push(z[R]),p){const ce=aG(i,s,I);q.push(z[ce[0]],z[ce[1]])}if(X=[...X,{placement:i,overflows:q}],!q.every(ce=>ce<=0)){var J,G;const ce=(((J=o.flip)==null?void 0:J.index)||0)+1,xe=V[ce];if(xe)return{data:{index:ce,overflows:X},reset:{placement:xe}};let Se=(G=X.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:G.placement;if(!Se)switch(E){case"bestFit":{var ee;const ve=(ee=X.filter(Y=>{if(U){const Q=Zu(Y.placement);return Q===_||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:ee[0];ve&&(Se=ve);break}case"initialPlacement":Se=c;break}if(i!==Se)return{reset:{placement:Se}}}return{}}}};function kN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ON(e){return iG.some(t=>e[t]>=0)}const mG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=gl(e,t);switch(r){case"referenceHidden":{const o=await Yv(t,{...i,elementContext:"reference"}),s=kN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:ON(s)}}}case"escaped":{const o=await Yv(t,{...i,altBoundary:!0}),s=kN(o,n.floating);return{data:{escapedOffsets:s,escaped:ON(s)}}}default:return{}}}}};async function gG(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=vl(n),c=vm(n),a=Zu(n)==="y",l=["left","top"].includes(s)?-1:1,f=o&&a?-1:1,p=gl(t,e);let{mainAxis:m,crossAxis:E,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof x=="number"&&(E=c==="end"?x*-1:x),a?{x:E*f,y:m*l}:{x:m*l,y:E*f}}const vG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:c}=t,a=await gG(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}},yG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:c={fn:w=>{let{x:R,y:_}=w;return{x:R,y:_}}},...a}=gl(e,t),l={x:n,y:r},f=await Yv(t,a),p=Zu(vl(i)),m=$R(p);let E=l[m],x=l[p];if(o){const w=m==="y"?"top":"left",R=m==="y"?"bottom":"right",_=E+f[w],C=E-f[R];E=zT(_,E,C)}if(s){const w=p==="y"?"top":"left",R=p==="y"?"bottom":"right",_=x+f[w],C=x-f[R];x=zT(_,x,C)}const y=c.fn({...t,[m]:E,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[p]:s}}}}}},bG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:c=0,mainAxis:a=!0,crossAxis:l=!0}=gl(e,t),f={x:n,y:r},p=Zu(i),m=$R(p);let E=f[m],x=f[p];const y=gl(c,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(a){const C=m==="y"?"height":"width",I=o.reference[m]-o.floating[C]+w.mainAxis,j=o.reference[m]+o.reference[C]-w.mainAxis;E<I?E=I:E>j&&(E=j)}if(l){var R,_;const C=m==="y"?"width":"height",I=["top","left"].includes(vl(i)),j=o.reference[p]-o.floating[C]+(I&&((R=s.offset)==null?void 0:R[p])||0)+(I?0:w.crossAxis),U=o.reference[p]+o.reference[C]+(I?0:((_=s.offset)==null?void 0:_[p])||0)-(I?w.crossAxis:0);x<j?x=j:x>U&&(x=U)}return{[m]:E,[p]:x}}}},xG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:c}=t,{apply:a=()=>{},...l}=gl(e,t),f=await Yv(t,l),p=vl(i),m=vm(i),E=Zu(i)==="y",{width:x,height:y}=o.floating;let w,R;p==="top"||p==="bottom"?(w=p,R=m===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(R=p,w=m==="end"?"top":"bottom");const _=y-f.top-f.bottom,C=x-f.left-f.right,I=Xu(y-f[w],_),j=Xu(x-f[R],C),U=!t.middlewareData.shift;let V=I,z=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(V=_),U&&!m){const X=xs(f.left,0),J=xs(f.right,0),G=xs(f.top,0),ee=xs(f.bottom,0);E?z=x-2*(X!==0||J!==0?X+J:xs(f.left,f.right)):V=y-2*(G!==0||ee!==0?G+ee:xs(f.top,f.bottom))}await a({...t,availableWidth:z,availableHeight:V});const q=await s.getDimensions(c.floating);return x!==q.width||y!==q.height?{reset:{rects:!0}}:{}}}};function O_(){return typeof window<"u"}function ym(e){return xL(e)?(e.nodeName||"").toLowerCase():"#document"}function Ts(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kc(e){var t;return(t=(xL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xL(e){return O_()?e instanceof Node||e instanceof Ts(e).Node:!1}function ja(e){return O_()?e instanceof Element||e instanceof Ts(e).Element:!1}function Sc(e){return O_()?e instanceof HTMLElement||e instanceof Ts(e).HTMLElement:!1}function PN(e){return!O_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ts(e).ShadowRoot}function Sy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Da(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function SG(e){return["table","td","th"].includes(ym(e))}function P_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function WR(e){const t=HR(),n=ja(e)?Da(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _G(e){let t=ed(e);for(;Sc(t)&&!Yp(t);){if(WR(t))return t;if(P_(t))return null;t=ed(t)}return null}function HR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yp(e){return["html","body","#document"].includes(ym(e))}function Da(e){return Ts(e).getComputedStyle(e)}function N_(e){return ja(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ed(e){if(ym(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PN(e)&&e.host||kc(e);return PN(t)?t.host:t}function SL(e){const t=ed(e);return Yp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sc(t)&&Sy(t)?t:SL(t)}function Qv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=SL(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ts(i);if(o){const c=HT(s);return t.concat(s,s.visualViewport||[],Sy(i)?i:[],c&&n?Qv(c):[])}return t.concat(i,Qv(i,[],n))}function HT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _L(e){const t=Da(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Sc(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,c=cS(n)!==o||cS(r)!==s;return c&&(n=o,r=s),{width:n,height:r,$:c}}function GR(e){return ja(e)?e:e.contextElement}function Rp(e){const t=GR(e);if(!Sc(t))return Ju(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=_L(t);let s=(o?cS(n.width):n.width)/r,c=(o?cS(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const wG=Ju(0);function wL(e){const t=Ts(e);return!HR()||!t.visualViewport?wG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EG(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ts(e)?!1:t}function $f(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=GR(e);let s=Ju(1);t&&(r?ja(r)&&(s=Rp(r)):s=Rp(e));const c=EG(o,n,r)?wL(o):Ju(0);let a=(i.left+c.x)/s.x,l=(i.top+c.y)/s.y,f=i.width/s.x,p=i.height/s.y;if(o){const m=Ts(o),E=r&&ja(r)?Ts(r):r;let x=m,y=HT(x);for(;y&&r&&E!==x;){const w=Rp(y),R=y.getBoundingClientRect(),_=Da(y),C=R.left+(y.clientLeft+parseFloat(_.paddingLeft))*w.x,I=R.top+(y.clientTop+parseFloat(_.paddingTop))*w.y;a*=w.x,l*=w.y,f*=w.x,p*=w.y,a+=C,l+=I,x=Ts(y),y=HT(x)}}return uS({width:f,height:p,x:a,y:l})}function CG(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=kc(r),c=t?P_(t.floating):!1;if(r===s||c&&o)return n;let a={scrollLeft:0,scrollTop:0},l=Ju(1);const f=Ju(0),p=Sc(r);if((p||!p&&!o)&&((ym(r)!=="body"||Sy(s))&&(a=N_(r)),Sc(r))){const m=$f(r);l=Rp(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+f.x,y:n.y*l.y-a.scrollTop*l.y+f.y}}function TG(e){return Array.from(e.getClientRects())}function GT(e,t){const n=N_(e).scrollLeft;return t?t.left+n:$f(kc(e)).left+n}function RG(e){const t=kc(e),n=N_(e),r=e.ownerDocument.body,i=xs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+GT(e);const c=-n.scrollTop;return Da(r).direction==="rtl"&&(s+=xs(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:c}}function kG(e,t){const n=Ts(e),r=kc(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,c=0,a=0;if(i){o=i.width,s=i.height;const l=HR();(!l||l&&t==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:c,y:a}}function OG(e,t){const n=$f(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Sc(e)?Rp(e):Ju(1),s=e.clientWidth*o.x,c=e.clientHeight*o.y,a=i*o.x,l=r*o.y;return{width:s,height:c,x:a,y:l}}function NN(e,t,n){let r;if(t==="viewport")r=kG(e,n);else if(t==="document")r=RG(kc(e));else if(ja(t))r=OG(t,n);else{const i=wL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return uS(r)}function EL(e,t){const n=ed(e);return n===t||!ja(n)||Yp(n)?!1:Da(n).position==="fixed"||EL(n,t)}function PG(e,t){const n=t.get(e);if(n)return n;let r=Qv(e,[],!1).filter(c=>ja(c)&&ym(c)!=="body"),i=null;const o=Da(e).position==="fixed";let s=o?ed(e):e;for(;ja(s)&&!Yp(s);){const c=Da(s),a=WR(s);!a&&c.position==="fixed"&&(i=null),(o?!a&&!i:!a&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sy(s)&&!a&&EL(e,s))?r=r.filter(f=>f!==s):i=c,s=ed(s)}return t.set(e,r),r}function NG(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?P_(t)?[]:PG(t,this._c):[].concat(n),r],c=s[0],a=s.reduce((l,f)=>{const p=NN(t,f,i);return l.top=xs(p.top,l.top),l.right=Xu(p.right,l.right),l.bottom=Xu(p.bottom,l.bottom),l.left=xs(p.left,l.left),l},NN(t,c,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function IG(e){const{width:t,height:n}=_L(e);return{width:t,height:n}}function AG(e,t,n){const r=Sc(t),i=kc(t),o=n==="fixed",s=$f(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const a=Ju(0);if(r||!r&&!o)if((ym(t)!=="body"||Sy(i))&&(c=N_(t)),r){const E=$f(t,!0,o,t);a.x=E.x+t.clientLeft,a.y=E.y+t.clientTop}else i&&(a.x=GT(i));let l=0,f=0;if(i&&!r&&!o){const E=i.getBoundingClientRect();f=E.top+c.scrollTop,l=E.left+c.scrollLeft-GT(i,E)}const p=s.left+c.scrollLeft-a.x-l,m=s.top+c.scrollTop-a.y-f;return{x:p,y:m,width:s.width,height:s.height}}function LE(e){return Da(e).position==="static"}function IN(e,t){if(!Sc(e)||Da(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kc(e)===n&&(n=n.ownerDocument.body),n}function CL(e,t){const n=Ts(e);if(P_(e))return n;if(!Sc(e)){let i=ed(e);for(;i&&!Yp(i);){if(ja(i)&&!LE(i))return i;i=ed(i)}return n}let r=IN(e,t);for(;r&&SG(r)&&LE(r);)r=IN(r,t);return r&&Yp(r)&&LE(r)&&!WR(r)?n:r||_G(e)||n}const jG=async function(e){const t=this.getOffsetParent||CL,n=this.getDimensions,r=await n(e.floating);return{reference:AG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DG(e){return Da(e).direction==="rtl"}const MG={convertOffsetParentRelativeRectToViewportRelativeRect:CG,getDocumentElement:kc,getClippingRect:NG,getOffsetParent:CL,getElementRects:jG,getClientRects:TG,getDimensions:IG,getScale:Rp,isElement:ja,isRTL:DG};function LG(e,t){let n=null,r;const i=kc(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),o();const{left:l,top:f,width:p,height:m}=e.getBoundingClientRect();if(c||t(),!p||!m)return;const E=cb(f),x=cb(i.clientWidth-(l+p)),y=cb(i.clientHeight-(f+m)),w=cb(l),_={rootMargin:-E+"px "+-x+"px "+-y+"px "+-w+"px",threshold:xs(0,Xu(1,a))||1};let C=!0;function I(j){const U=j[0].intersectionRatio;if(U!==a){if(!C)return s();U?s(!1,U):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(I,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(e)}return s(!0),o}function FG(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,l=GR(e),f=i||o?[...l?Qv(l):[],...Qv(t)]:[];f.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const p=l&&c?LG(l,n):null;let m=-1,E=null;s&&(E=new ResizeObserver(R=>{let[_]=R;_&&_.target===l&&E&&(E.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=E)==null||C.observe(t)})),n()}),l&&!a&&E.observe(l),E.observe(t));let x,y=a?$f(e):null;a&&w();function w(){const R=$f(e);y&&(R.x!==y.x||R.y!==y.y||R.width!==y.width||R.height!==y.height)&&n(),y=R,x=requestAnimationFrame(w)}return n(),()=>{var R;f.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),p==null||p(),(R=E)==null||R.disconnect(),E=null,a&&cancelAnimationFrame(x)}}const UG=vG,BG=yG,$G=pG,VG=xG,zG=mG,AN=hG,WG=bG,HG=(e,t,n)=>{const r=new Map,i={platform:MG,...n},o={...i.platform,_c:r};return fG(e,t,{...i,platform:o})};var jb=typeof document<"u"?P.useLayoutEffect:P.useEffect;function dS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!dS(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function TL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jN(e,t){const n=TL(e);return Math.round(t*n)/n}function FE(e){const t=P.useRef(e);return jb(()=>{t.current=e}),t}function GG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:c=!0,whileElementsMounted:a,open:l}=e,[f,p]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,E]=P.useState(r);dS(m,r)||E(r);const[x,y]=P.useState(null),[w,R]=P.useState(null),_=P.useCallback(Y=>{Y!==U.current&&(U.current=Y,y(Y))},[]),C=P.useCallback(Y=>{Y!==V.current&&(V.current=Y,R(Y))},[]),I=o||x,j=s||w,U=P.useRef(null),V=P.useRef(null),z=P.useRef(f),q=a!=null,X=FE(a),J=FE(i),G=FE(l),ee=P.useCallback(()=>{if(!U.current||!V.current)return;const Y={placement:t,strategy:n,middleware:m};J.current&&(Y.platform=J.current),HG(U.current,V.current,Y).then(Q=>{const ne={...Q,isPositioned:G.current!==!1};ce.current&&!dS(z.current,ne)&&(z.current=ne,Jf.flushSync(()=>{p(ne)}))})},[m,t,n,J,G]);jb(()=>{l===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[l]);const ce=P.useRef(!1);jb(()=>(ce.current=!0,()=>{ce.current=!1}),[]),jb(()=>{if(I&&(U.current=I),j&&(V.current=j),I&&j){if(X.current)return X.current(I,j,ee);ee()}},[I,j,ee,X,q]);const xe=P.useMemo(()=>({reference:U,floating:V,setReference:_,setFloating:C}),[_,C]),Se=P.useMemo(()=>({reference:I,floating:j}),[I,j]),ve=P.useMemo(()=>{const Y={position:n,left:0,top:0};if(!Se.floating)return Y;const Q=jN(Se.floating,f.x),ne=jN(Se.floating,f.y);return c?{...Y,transform:"translate("+Q+"px, "+ne+"px)",...TL(Se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ne}},[n,c,Se.floating,f.x,f.y]);return P.useMemo(()=>({...f,update:ee,refs:xe,elements:Se,floatingStyles:ve}),[f,ee,xe,Se,ve])}const qG=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?AN({element:r.current,padding:i}).fn(n):{}:r?AN({element:r,padding:i}).fn(n):{}}}},KG=(e,t)=>({...UG(e),options:[e,t]}),YG=(e,t)=>({...BG(e),options:[e,t]}),QG=(e,t)=>({...WG(e),options:[e,t]}),XG=(e,t)=>({...$G(e),options:[e,t]}),JG=(e,t)=>({...VG(e),options:[e,t]}),ZG=(e,t)=>({...zG(e),options:[e,t]}),e7=(e,t)=>({...qG(e),options:[e,t]});var t7="Arrow",RL=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return u.jsx(Pt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});RL.displayName=t7;var n7=RL;function r7(e,t=[]){let n=[];function r(o,s){const c=P.createContext(s),a=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][a])||c,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][a])||c,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(c){const a=(c==null?void 0:c[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return i.scopeName=e,[r,i7(i,...t)]}function i7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((c,{useScope:a,scopeName:l})=>{const p=a(o)[`__scope${l}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function qR(e){const[t,n]=P.useState(void 0);return Yi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,c;if("borderBoxSize"in o){const a=o.borderBoxSize,l=Array.isArray(a)?a[0]:a;s=l.inlineSize,c=l.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var KR="Popper",[kL,bm]=r7(KR),[o7,OL]=kL(KR),PL=e=>{const{__scopePopper:t,children:n}=e,[r,i]=P.useState(null);return u.jsx(o7,{scope:t,anchor:r,onAnchorChange:i,children:n})};PL.displayName=KR;var NL="PopperAnchor",IL=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=OL(NL,n),s=P.useRef(null),c=xn(t,s);return P.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Pt.div,{...i,ref:c})});IL.displayName=NL;var YR="PopperContent",[s7,a7]=kL(YR),AL=P.forwardRef((e,t)=>{var Ye,lt,Mt,Xt,Lt,qt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:c=0,avoidCollisions:a=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:E="optimized",onPlaced:x,...y}=e,w=OL(YR,n),[R,_]=P.useState(null),C=xn(t,Fn=>_(Fn)),[I,j]=P.useState(null),U=qR(I),V=(U==null?void 0:U.width)??0,z=(U==null?void 0:U.height)??0,q=r+(o!=="center"?"-"+o:""),X=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},J=Array.isArray(l)?l:[l],G=J.length>0,ee={padding:X,boundary:J.filter(l7),altBoundary:G},{refs:ce,floatingStyles:xe,placement:Se,isPositioned:ve,middlewareData:Y}=GG({strategy:"fixed",placement:q,whileElementsMounted:(...Fn)=>FG(...Fn,{animationFrame:E==="always"}),elements:{reference:w.anchor},middleware:[KG({mainAxis:i+z,alignmentAxis:s}),a&&YG({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?QG():void 0,...ee}),a&&XG({...ee}),JG({...ee,apply:({elements:Fn,rects:Qn,availableWidth:ut,availableHeight:Ar})=>{const{width:Mi,height:Z}=Qn.reference,pe=Fn.floating.style;pe.setProperty("--radix-popper-available-width",`${ut}px`),pe.setProperty("--radix-popper-available-height",`${Ar}px`),pe.setProperty("--radix-popper-anchor-width",`${Mi}px`),pe.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),I&&e7({element:I,padding:c}),u7({arrowWidth:V,arrowHeight:z}),m&&ZG({strategy:"referenceHidden",...ee})]}),[Q,ne]=ML(Se),fe=$r(x);Yi(()=>{ve&&(fe==null||fe())},[ve,fe]);const Te=(Ye=Y.arrow)==null?void 0:Ye.x,He=(lt=Y.arrow)==null?void 0:lt.y,Le=((Mt=Y.arrow)==null?void 0:Mt.centerOffset)!==0,[bt,Gt]=P.useState();return Yi(()=>{R&&Gt(window.getComputedStyle(R).zIndex)},[R]),u.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ve?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:bt,"--radix-popper-transform-origin":[(Xt=Y.transformOrigin)==null?void 0:Xt.x,(Lt=Y.transformOrigin)==null?void 0:Lt.y].join(" "),...((qt=Y.hide)==null?void 0:qt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(s7,{scope:n,placedSide:Q,onArrowChange:j,arrowX:Te,arrowY:He,shouldHideArrow:Le,children:u.jsx(Pt.div,{"data-side":Q,"data-align":ne,...y,ref:C,style:{...y.style,animation:ve?void 0:"none"}})})})});AL.displayName=YR;var jL="PopperArrow",c7={top:"bottom",right:"left",bottom:"top",left:"right"},DL=P.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=a7(jL,r),s=c7[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(n7,{...i,ref:n,style:{...i.style,display:"block"}})})});DL.displayName=jL;function l7(e){return e!==null}var u7=e=>({name:"transformOrigin",options:e,fn(t){var w,R,_;const{placement:n,rects:r,middlewareData:i}=t,s=((w=i.arrow)==null?void 0:w.centerOffset)!==0,c=s?0:e.arrowWidth,a=s?0:e.arrowHeight,[l,f]=ML(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(((R=i.arrow)==null?void 0:R.x)??0)+c/2,E=(((_=i.arrow)==null?void 0:_.y)??0)+a/2;let x="",y="";return l==="bottom"?(x=s?p:`${m}px`,y=`${-a}px`):l==="top"?(x=s?p:`${m}px`,y=`${r.floating.height+a}px`):l==="right"?(x=`${-a}px`,y=s?p:`${E}px`):l==="left"&&(x=`${r.floating.width+a}px`,y=s?p:`${E}px`),{data:{x,y}}}});function ML(e){const[t,n="center"]=e.split("-");return[t,n]}var QR=PL,I_=IL,XR=AL,JR=DL;function d7(e,t=[]){let n=[];function r(o,s){const c=P.createContext(s),a=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][a])||c,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][a])||c,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(c){const a=(c==null?void 0:c[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return i.scopeName=e,[r,f7(i,...t)]}function f7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((c,{useScope:a,scopeName:l})=>{const p=a(o)[`__scope${l}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var UE="rovingFocusGroup.onEntryFocus",h7={bubbles:!1,cancelable:!0},A_="RovingFocusGroup",[qT,LL,p7]=f_(A_),[m7,j_]=d7(A_,[p7]),[g7,v7]=m7(A_),FL=P.forwardRef((e,t)=>u.jsx(qT.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(qT.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(y7,{...e,ref:t})})}));FL.displayName=A_;var y7=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:a,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...p}=e,m=P.useRef(null),E=xn(t,m),x=by(o),[y=null,w]=pl({prop:s,defaultProp:c,onChange:a}),[R,_]=P.useState(!1),C=$r(l),I=LL(n),j=P.useRef(!1),[U,V]=P.useState(0);return P.useEffect(()=>{const z=m.current;if(z)return z.addEventListener(UE,C),()=>z.removeEventListener(UE,C)},[C]),u.jsx(g7,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:P.useCallback(z=>w(z),[w]),onItemShiftTab:P.useCallback(()=>_(!0),[]),onFocusableItemAdd:P.useCallback(()=>V(z=>z+1),[]),onFocusableItemRemove:P.useCallback(()=>V(z=>z-1),[]),children:u.jsx(Pt.div,{tabIndex:R||U===0?-1:0,"data-orientation":r,...p,ref:E,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{j.current=!0}),onFocus:Ke(e.onFocus,z=>{const q=!j.current;if(z.target===z.currentTarget&&q&&!R){const X=new CustomEvent(UE,h7);if(z.currentTarget.dispatchEvent(X),!X.defaultPrevented){const J=I().filter(Se=>Se.focusable),G=J.find(Se=>Se.active),ee=J.find(Se=>Se.id===y),xe=[G,ee,...J].filter(Boolean).map(Se=>Se.ref.current);$L(xe,f)}}j.current=!1}),onBlur:Ke(e.onBlur,()=>_(!1))})})}),UL="RovingFocusGroupItem",BL=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=e,c=vc(),a=o||c,l=v7(UL,n),f=l.currentTabStopId===a,p=LL(n),{onFocusableItemAdd:m,onFocusableItemRemove:E}=l;return P.useEffect(()=>{if(r)return m(),()=>E()},[r,m,E]),u.jsx(qT.ItemSlot,{scope:n,id:a,focusable:r,active:i,children:u.jsx(Pt.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...s,ref:t,onMouseDown:Ke(e.onMouseDown,x=>{r?l.onItemFocus(a):x.preventDefault()}),onFocus:Ke(e.onFocus,()=>l.onItemFocus(a)),onKeyDown:Ke(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){l.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=S7(x,l.orientation,l.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let R=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")R.reverse();else if(y==="prev"||y==="next"){y==="prev"&&R.reverse();const _=R.indexOf(x.currentTarget);R=l.loop?_7(R,_+1):R.slice(_+1)}setTimeout(()=>$L(R))}})})})});BL.displayName=UL;var b7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S7(e,t,n){const r=x7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return b7[r]}function $L(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var VL=FL,zL=BL,w7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ep=new WeakMap,lb=new WeakMap,ub={},BE=0,WL=function(e){return e&&(e.host||WL(e.parentNode))},E7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},C7=function(e,t,n,r){var i=E7(t,Array.isArray(e)?e:[e]);ub[n]||(ub[n]=new WeakMap);var o=ub[n],s=[],c=new Set,a=new Set(i),l=function(p){!p||c.has(p)||(c.add(p),l(p.parentNode))};i.forEach(l);var f=function(p){!p||a.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))f(m);else try{var E=m.getAttribute(r),x=E!==null&&E!=="false",y=(ep.get(m)||0)+1,w=(o.get(m)||0)+1;ep.set(m,y),o.set(m,w),s.push(m),y===1&&x&&lb.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",m,R)}})};return f(t),c.clear(),BE++,function(){s.forEach(function(p){var m=ep.get(p)-1,E=o.get(p)-1;ep.set(p,m),o.set(p,E),m||(lb.has(p)||p.removeAttribute(r),lb.delete(p)),E||p.removeAttribute(n)}),BE--,BE||(ep=new WeakMap,ep=new WeakMap,lb=new WeakMap,ub={})}},D_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=w7(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),C7(r,i,n,"aria-hidden")):function(){return null}},fc=function(){return fc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fc.apply(this,arguments)};function HL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function T7(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Db="right-scroll-bar-position",Mb="width-before-scroll-bar",R7="with-scroll-bars-hidden",k7="--removed-body-scroll-bar-size";function $E(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O7(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var P7=typeof window<"u"?P.useLayoutEffect:P.useEffect,DN=new WeakMap;function N7(e,t){var n=O7(null,function(r){return e.forEach(function(i){return $E(i,r)})});return P7(function(){var r=DN.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(c){o.has(c)||$E(c,null)}),o.forEach(function(c){i.has(c)||$E(c,s)})}DN.set(n,e)},[e]),n}function I7(e){return e}function A7(e,t){t===void 0&&(t=I7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(o),s=n}var a=function(){var f=s;s=[],f.forEach(o)},l=function(){return Promise.resolve().then(a)};l(),n={push:function(f){s.push(f),l()},filter:function(f){return s=s.filter(f),n}}}};return i}function j7(e){e===void 0&&(e={});var t=A7(null);return t.options=fc({async:!0,ssr:!1},e),t}var GL=function(e){var t=e.sideCar,n=HL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,fc({},n))};GL.isSideCarExport=!0;function D7(e,t){return e.useMedium(t),GL}var qL=j7(),VE=function(){},M_=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:VE,onWheelCapture:VE,onTouchMoveCapture:VE}),i=r[0],o=r[1],s=e.forwardProps,c=e.children,a=e.className,l=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,E=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,_=e.gapMode,C=HL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,j=N7([n,t]),U=fc(fc({},C),i);return P.createElement(P.Fragment,null,f&&P.createElement(I,{sideCar:qL,removeScrollBar:l,shards:p,noIsolation:E,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:_}),s?P.cloneElement(P.Children.only(c),fc(fc({},U),{ref:j})):P.createElement(R,fc({},U,{className:a,ref:j}),c))});M_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M_.classNames={fullWidth:Mb,zeroRight:Db};var M7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M7();return t&&e.setAttribute("nonce",t),e}function F7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=L7())&&(F7(t,n),U7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$7=function(){var e=B7();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},KL=function(){var e=$7(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},V7={left:0,top:0,right:0,gap:0},zE=function(e){return parseInt(e||"",10)||0},z7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[zE(n),zE(r),zE(i)]},W7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V7;var t=z7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},H7=KL(),kp="data-scroll-locked",G7=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(R7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(kp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Db,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Mb,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Db," .").concat(Db,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mb," .").concat(Mb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(kp,`] {
    `).concat(k7,": ").concat(c,`px;
  }
`)},MN=function(){var e=parseInt(document.body.getAttribute(kp)||"0",10);return isFinite(e)?e:0},q7=function(){P.useEffect(function(){return document.body.setAttribute(kp,(MN()+1).toString()),function(){var e=MN()-1;e<=0?document.body.removeAttribute(kp):document.body.setAttribute(kp,e.toString())}},[])},K7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;q7();var o=P.useMemo(function(){return W7(i)},[i]);return P.createElement(H7,{styles:G7(o,!t,i,n?"":"!important")})},KT=!1;if(typeof window<"u")try{var db=Object.defineProperty({},"passive",{get:function(){return KT=!0,!0}});window.addEventListener("test",db,db),window.removeEventListener("test",db,db)}catch{KT=!1}var tp=KT?{passive:!1}:!1,Y7=function(e){return e.tagName==="TEXTAREA"},YL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Y7(e)&&n[t]==="visible")},Q7=function(e){return YL(e,"overflowY")},X7=function(e){return YL(e,"overflowX")},LN=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=QL(e,r);if(i){var o=XL(e,r),s=o[1],c=o[2];if(s>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Z7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},QL=function(e,t){return e==="v"?Q7(t):X7(t)},XL=function(e,t){return e==="v"?J7(t):Z7(t)},eq=function(e,t){return e==="h"&&t==="rtl"?-1:1},tq=function(e,t,n,r,i){var o=eq(e,window.getComputedStyle(t).direction),s=o*r,c=n.target,a=t.contains(c),l=!1,f=s>0,p=0,m=0;do{var E=XL(e,c),x=E[0],y=E[1],w=E[2],R=y-w-o*x;(x||R)&&QL(e,c)&&(p+=R,m+=x),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!a&&c!==document.body||a&&(t.contains(c)||t===c));return(f&&(Math.abs(p)<1||!i)||!f&&(Math.abs(m)<1||!i))&&(l=!0),l},fb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FN=function(e){return[e.deltaX,e.deltaY]},UN=function(e){return e&&"current"in e?e.current:e},nq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iq=0,np=[];function oq(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(iq++)[0],o=P.useState(KL)[0],s=P.useRef(e);P.useEffect(function(){s.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=T7([e.lockRef.current],(e.shards||[]).map(UN),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=P.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var R=fb(y),_=n.current,C="deltaX"in y?y.deltaX:_[0]-R[0],I="deltaY"in y?y.deltaY:_[1]-R[1],j,U=y.target,V=Math.abs(C)>Math.abs(I)?"h":"v";if("touches"in y&&V==="h"&&U.type==="range")return!1;var z=LN(V,U);if(!z)return!0;if(z?j=V:(j=V==="v"?"h":"v",z=LN(V,U)),!z)return!1;if(!r.current&&"changedTouches"in y&&(C||I)&&(r.current=j),!j)return!0;var q=r.current||j;return tq(q,w,y,q==="h"?C:I,!0)},[]),a=P.useCallback(function(y){var w=y;if(!(!np.length||np[np.length-1]!==o)){var R="deltaY"in w?FN(w):fb(w),_=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&nq(j.delta,R)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var C=(s.current.shards||[]).map(UN).filter(Boolean).filter(function(j){return j.contains(w.target)}),I=C.length>0?c(w,C[0]):!s.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),l=P.useCallback(function(y,w,R,_){var C={name:y,delta:w,target:R,should:_,shadowParent:sq(R)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(I){return I!==C})},1)},[]),f=P.useCallback(function(y){n.current=fb(y),r.current=void 0},[]),p=P.useCallback(function(y){l(y.type,FN(y),y.target,c(y,e.lockRef.current))},[]),m=P.useCallback(function(y){l(y.type,fb(y),y.target,c(y,e.lockRef.current))},[]);P.useEffect(function(){return np.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",a,tp),document.addEventListener("touchmove",a,tp),document.addEventListener("touchstart",f,tp),function(){np=np.filter(function(y){return y!==o}),document.removeEventListener("wheel",a,tp),document.removeEventListener("touchmove",a,tp),document.removeEventListener("touchstart",f,tp)}},[]);var E=e.removeScrollBar,x=e.inert;return P.createElement(P.Fragment,null,x?P.createElement(o,{styles:rq(i)}):null,E?P.createElement(K7,{gapMode:e.gapMode}):null)}function sq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aq=D7(qL,oq);var _y=P.forwardRef(function(e,t){return P.createElement(M_,fc({},e,{ref:t,sideCar:aq}))});_y.classNames=M_.classNames;var YT=["Enter"," "],cq=["ArrowDown","PageUp","Home"],JL=["ArrowUp","PageDown","End"],lq=[...cq,...JL],uq={ltr:[...YT,"ArrowRight"],rtl:[...YT,"ArrowLeft"]},dq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wy="Menu",[Xv,fq,hq]=f_(wy),[Zf,ZL]=Rc(wy,[hq,bm,j_]),L_=bm(),e2=j_(),[pq,eh]=Zf(wy),[mq,Ey]=Zf(wy),t2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=e,c=L_(t),[a,l]=P.useState(null),f=P.useRef(!1),p=$r(o),m=by(i);return P.useEffect(()=>{const E=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),u.jsx(QR,{...c,children:u.jsx(pq,{scope:t,open:n,onOpenChange:p,content:a,onContentChange:l,children:u.jsx(mq,{scope:t,onClose:P.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:s,children:r})})})};t2.displayName=wy;var gq="MenuAnchor",ZR=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L_(n);return u.jsx(I_,{...i,...r,ref:t})});ZR.displayName=gq;var ek="MenuPortal",[vq,n2]=Zf(ek,{forceMount:void 0}),r2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=eh(ek,t);return u.jsx(vq,{scope:t,forceMount:n,children:u.jsx(uo,{present:n||o.open,children:u.jsx(hm,{asChild:!0,container:i,children:r})})})};r2.displayName=ek;var na="MenuContent",[yq,tk]=Zf(na),i2=P.forwardRef((e,t)=>{const n=n2(na,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=eh(na,e.__scopeMenu),s=Ey(na,e.__scopeMenu);return u.jsx(Xv.Provider,{scope:e.__scopeMenu,children:u.jsx(uo,{present:r||o.open,children:u.jsx(Xv.Slot,{scope:e.__scopeMenu,children:s.modal?u.jsx(bq,{...i,ref:t}):u.jsx(xq,{...i,ref:t})})})})}),bq=P.forwardRef((e,t)=>{const n=eh(na,e.__scopeMenu),r=P.useRef(null),i=xn(t,r);return P.useEffect(()=>{const o=r.current;if(o)return D_(o)},[]),u.jsx(nk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xq=P.forwardRef((e,t)=>{const n=eh(na,e.__scopeMenu);return u.jsx(nk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),nk=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:a,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:E,disableOutsideScroll:x,...y}=e,w=eh(na,n),R=Ey(na,n),_=L_(n),C=e2(n),I=fq(n),[j,U]=P.useState(null),V=P.useRef(null),z=xn(t,V,w.onContentChange),q=P.useRef(0),X=P.useRef(""),J=P.useRef(0),G=P.useRef(null),ee=P.useRef("right"),ce=P.useRef(0),xe=x?_y:P.Fragment,Se=x?{as:xc,allowPinchZoom:!0}:void 0,ve=Q=>{var Ye,lt;const ne=X.current+Q,fe=I().filter(Mt=>!Mt.disabled),Te=document.activeElement,He=(Ye=fe.find(Mt=>Mt.ref.current===Te))==null?void 0:Ye.textValue,Le=fe.map(Mt=>Mt.textValue),bt=Iq(Le,ne,He),Gt=(lt=fe.find(Mt=>Mt.textValue===bt))==null?void 0:lt.ref.current;(function Mt(Xt){X.current=Xt,window.clearTimeout(q.current),Xt!==""&&(q.current=window.setTimeout(()=>Mt(""),1e3))})(ne),Gt&&setTimeout(()=>Gt.focus())};P.useEffect(()=>()=>window.clearTimeout(q.current),[]),k_();const Y=P.useCallback(Q=>{var fe,Te;return ee.current===((fe=G.current)==null?void 0:fe.side)&&jq(Q,(Te=G.current)==null?void 0:Te.area)},[]);return u.jsx(yq,{scope:n,searchRef:X,onItemEnter:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),onItemLeave:P.useCallback(Q=>{var ne;Y(Q)||((ne=V.current)==null||ne.focus(),U(null))},[Y]),onTriggerLeave:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),pointerGraceTimerRef:J,onPointerGraceIntentChange:P.useCallback(Q=>{G.current=Q},[]),children:u.jsx(xe,{...Se,children:u.jsx(xy,{asChild:!0,trapped:i,onMountAutoFocus:Ke(o,Q=>{var ne;Q.preventDefault(),(ne=V.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(fm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:E,children:u.jsx(VL,{asChild:!0,...C,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:U,onEntryFocus:Ke(a,Q=>{R.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(XR,{role:"menu","aria-orientation":"vertical","data-state":x2(w.open),"data-radix-menu-content":"",dir:R.dir,..._,...y,ref:z,style:{outline:"none",...y.style},onKeyDown:Ke(y.onKeyDown,Q=>{const fe=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Te=Q.ctrlKey||Q.altKey||Q.metaKey,He=Q.key.length===1;fe&&(Q.key==="Tab"&&Q.preventDefault(),!Te&&He&&ve(Q.key));const Le=V.current;if(Q.target!==Le||!lq.includes(Q.key))return;Q.preventDefault();const Gt=I().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);JL.includes(Q.key)&&Gt.reverse(),Pq(Gt)}),onBlur:Ke(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(q.current),X.current="")}),onPointerMove:Ke(e.onPointerMove,Jv(Q=>{const ne=Q.target,fe=ce.current!==Q.clientX;if(Q.currentTarget.contains(ne)&&fe){const Te=Q.clientX>ce.current?"right":"left";ee.current=Te,ce.current=Q.clientX}}))})})})})})})});i2.displayName=na;var Sq="MenuGroup",rk=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{role:"group",...r,ref:t})});rk.displayName=Sq;var _q="MenuLabel",o2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});o2.displayName=_q;var fS="MenuItem",BN="menu.itemSelect",F_=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=P.useRef(null),s=Ey(fS,e.__scopeMenu),c=tk(fS,e.__scopeMenu),a=xn(t,o),l=P.useRef(!1),f=()=>{const p=o.current;if(!n&&p){const m=new CustomEvent(BN,{bubbles:!0,cancelable:!0});p.addEventListener(BN,E=>r==null?void 0:r(E),{once:!0}),TR(p,m),m.defaultPrevented?l.current=!1:s.onClose()}};return u.jsx(s2,{...i,ref:a,disabled:n,onClick:Ke(e.onClick,f),onPointerDown:p=>{var m;(m=e.onPointerDown)==null||m.call(e,p),l.current=!0},onPointerUp:Ke(e.onPointerUp,p=>{var m;l.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:Ke(e.onKeyDown,p=>{const m=c.searchRef.current!=="";n||m&&p.key===" "||YT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});F_.displayName=fS;var s2=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,s=tk(fS,n),c=e2(n),a=P.useRef(null),l=xn(t,a),[f,p]=P.useState(!1),[m,E]=P.useState("");return P.useEffect(()=>{const x=a.current;x&&E((x.textContent??"").trim())},[o.children]),u.jsx(Xv.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:u.jsx(zL,{asChild:!0,...c,focusable:!r,children:u.jsx(Pt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:l,onPointerMove:Ke(e.onPointerMove,Jv(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,Jv(x=>s.onItemLeave(x))),onFocus:Ke(e.onFocus,()=>p(!0)),onBlur:Ke(e.onBlur,()=>p(!1))})})})}),wq="MenuCheckboxItem",a2=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return u.jsx(f2,{scope:e.__scopeMenu,checked:n,children:u.jsx(F_,{role:"menuitemcheckbox","aria-checked":hS(n)?"mixed":n,...i,ref:t,"data-state":ok(n),onSelect:Ke(i.onSelect,()=>r==null?void 0:r(hS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});a2.displayName=wq;var c2="MenuRadioGroup",[Eq,Cq]=Zf(c2,{value:void 0,onValueChange:()=>{}}),l2=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=$r(r);return u.jsx(Eq,{scope:e.__scopeMenu,value:n,onValueChange:o,children:u.jsx(rk,{...i,ref:t})})});l2.displayName=c2;var u2="MenuRadioItem",d2=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=Cq(u2,e.__scopeMenu),o=n===i.value;return u.jsx(f2,{scope:e.__scopeMenu,checked:o,children:u.jsx(F_,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":ok(o),onSelect:Ke(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});d2.displayName=u2;var ik="MenuItemIndicator",[f2,Tq]=Zf(ik,{checked:!1}),h2=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=Tq(ik,n);return u.jsx(uo,{present:r||hS(o.checked)||o.checked===!0,children:u.jsx(Pt.span,{...i,ref:t,"data-state":ok(o.checked)})})});h2.displayName=ik;var Rq="MenuSeparator",p2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});p2.displayName=Rq;var kq="MenuArrow",m2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L_(n);return u.jsx(JR,{...i,...r,ref:t})});m2.displayName=kq;var Oq="MenuSub",[bae,g2]=Zf(Oq),Zg="MenuSubTrigger",v2=P.forwardRef((e,t)=>{const n=eh(Zg,e.__scopeMenu),r=Ey(Zg,e.__scopeMenu),i=g2(Zg,e.__scopeMenu),o=tk(Zg,e.__scopeMenu),s=P.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:a}=o,l={__scopeMenu:e.__scopeMenu},f=P.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return P.useEffect(()=>f,[f]),P.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),a(null)}},[c,a]),u.jsx(ZR,{asChild:!0,...l,children:u.jsx(s2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":x2(n.open),...e,ref:d_(t,i.onTriggerChange),onClick:p=>{var m;(m=e.onClick)==null||m.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,Jv(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ke(e.onPointerLeave,Jv(p=>{var E,x;f();const m=(E=n.content)==null?void 0:E.getBoundingClientRect();if(m){const y=(x=n.content)==null?void 0:x.dataset.side,w=y==="right",R=w?-5:5,_=m[w?"left":"right"],C=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+R,y:p.clientY},{x:_,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:_,y:m.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,p=>{var E;const m=o.searchRef.current!=="";e.disabled||m&&p.key===" "||uq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),p.preventDefault())})})})});v2.displayName=Zg;var y2="MenuSubContent",b2=P.forwardRef((e,t)=>{const n=n2(na,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=eh(na,e.__scopeMenu),s=Ey(na,e.__scopeMenu),c=g2(y2,e.__scopeMenu),a=P.useRef(null),l=xn(t,a);return u.jsx(Xv.Provider,{scope:e.__scopeMenu,children:u.jsx(uo,{present:r||o.open,children:u.jsx(Xv.Slot,{scope:e.__scopeMenu,children:u.jsx(nk,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:l,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;s.isUsingKeyboardRef.current&&((p=a.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,f=>{f.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:Ke(e.onKeyDown,f=>{var E;const p=f.currentTarget.contains(f.target),m=dq[s.dir].includes(f.key);p&&m&&(o.onOpenChange(!1),(E=c.trigger)==null||E.focus(),f.preventDefault())})})})})})});b2.displayName=y2;function x2(e){return e?"open":"closed"}function hS(e){return e==="indeterminate"}function ok(e){return hS(e)?"indeterminate":e?"checked":"unchecked"}function Pq(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Nq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Iq(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=Nq(e,Math.max(o,0));i.length===1&&(s=s.filter(l=>l!==n));const a=s.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function Aq(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const c=t[o].x,a=t[o].y,l=t[s].x,f=t[s].y;a>r!=f>r&&n<(l-c)*(r-a)/(f-a)+c&&(i=!i)}return i}function jq(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Aq(n,t)}function Jv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Dq=t2,Mq=ZR,Lq=r2,Fq=i2,Uq=rk,Bq=o2,$q=F_,Vq=a2,zq=l2,Wq=d2,Hq=h2,Gq=p2,qq=m2,Kq=v2,Yq=b2,sk="DropdownMenu",[Qq,xae]=Rc(sk,[ZL]),Mo=ZL(),[Xq,S2]=Qq(sk),_2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:c=!0}=e,a=Mo(t),l=P.useRef(null),[f=!1,p]=pl({prop:i,defaultProp:o,onChange:s});return u.jsx(Xq,{scope:t,triggerId:vc(),triggerRef:l,contentId:vc(),open:f,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:c,children:u.jsx(Dq,{...a,open:f,onOpenChange:p,dir:r,modal:c,children:n})})};_2.displayName=sk;var w2="DropdownMenuTrigger",E2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=S2(w2,n),s=Mo(n);return u.jsx(Mq,{asChild:!0,...s,children:u.jsx(Pt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:d_(t,o.triggerRef),onPointerDown:Ke(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:Ke(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});E2.displayName=w2;var Jq="DropdownMenuPortal",C2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Mo(t);return u.jsx(Lq,{...r,...n})};C2.displayName=Jq;var T2="DropdownMenuContent",R2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=S2(T2,n),o=Mo(n),s=P.useRef(!1);return u.jsx(Fq,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,c=>{var a;s.current||(a=i.triggerRef.current)==null||a.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,c=>{const a=c.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,f=a.button===2||l;(!i.modal||f)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R2.displayName=T2;var Zq="DropdownMenuGroup",eK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Uq,{...i,...r,ref:t})});eK.displayName=Zq;var tK="DropdownMenuLabel",k2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Bq,{...i,...r,ref:t})});k2.displayName=tK;var nK="DropdownMenuItem",O2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx($q,{...i,...r,ref:t})});O2.displayName=nK;var rK="DropdownMenuCheckboxItem",P2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Vq,{...i,...r,ref:t})});P2.displayName=rK;var iK="DropdownMenuRadioGroup",oK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(zq,{...i,...r,ref:t})});oK.displayName=iK;var sK="DropdownMenuRadioItem",N2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Wq,{...i,...r,ref:t})});N2.displayName=sK;var aK="DropdownMenuItemIndicator",I2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Hq,{...i,...r,ref:t})});I2.displayName=aK;var cK="DropdownMenuSeparator",A2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Gq,{...i,...r,ref:t})});A2.displayName=cK;var lK="DropdownMenuArrow",uK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(qq,{...i,...r,ref:t})});uK.displayName=lK;var dK="DropdownMenuSubTrigger",j2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Kq,{...i,...r,ref:t})});j2.displayName=dK;var fK="DropdownMenuSubContent",D2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Mo(n);return u.jsx(Yq,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D2.displayName=fK;var hK=_2,pK=E2,mK=C2,M2=R2,L2=k2,F2=O2,U2=P2,B2=N2,$2=I2,V2=A2,z2=j2,W2=D2;const ak=hK,ck=pK,gK=P.forwardRef(({className:e,inset:t,children:n,...r},i)=>u.jsxs(z2,{ref:i,className:it("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(PR,{className:"ml-auto h-4 w-4"})]}));gK.displayName=z2.displayName;const vK=P.forwardRef(({className:e,...t},n)=>u.jsx(W2,{ref:n,className:it("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));vK.displayName=W2.displayName;const U_=P.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(mK,{children:u.jsx(M2,{ref:r,sideOffset:t,className:it("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));U_.displayName=M2.displayName;const lk=P.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(F2,{ref:r,className:it("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));lk.displayName=F2.displayName;const H2=P.forwardRef(({className:e,children:t,checked:n,...r},i)=>u.jsxs(U2,{ref:i,className:it("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx($2,{children:u.jsx(my,{className:"h-4 w-4"})})}),t]}));H2.displayName=U2.displayName;const yK=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(B2,{ref:r,className:it("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx($2,{children:u.jsx(pM,{className:"h-2 w-2 fill-current"})})}),t]}));yK.displayName=B2.displayName;const bK=P.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(L2,{ref:r,className:it("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bK.displayName=L2.displayName;const xK=P.forwardRef(({className:e,...t},n)=>u.jsx(V2,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));xK.displayName=V2.displayName;const SK=()=>{const[e,t]=P.useState(!0),n=Sl(),{email:r}=Mn(c=>c.auth),i=Yn();P.useEffect(()=>{i(Ab())},[]);const o=()=>{i(bH()),n("/login")},s=[{icon:Xz,label:"Dashboard",path:"/dashboard"},{icon:yM,label:"Users",path:"/dashboard/users"},{icon:zz,label:"Student Corner",submenu:[{icon:$z,label:"Activity",path:"/dashboard/activity"},{icon:vM,label:"Standard",path:"/dashboard/standard"},{icon:CT,label:"Subject",path:"/dashboard/subject"},{icon:Jz,label:"Board",path:"/dashboard/board"}]},{icon:Qz,label:"Course Manage",submenu:[{icon:s6,label:"Mentor",path:"/dashboard/mentor"},{icon:Wz,label:"Course",path:"/dashboard/course"},{icon:r6,label:"Lesson",path:"/dashboard/lesson"}]},{icon:CT,label:"Quiz Management",path:"/dashboard/quiz"},{icon:Kz,label:"Payments",path:"/dashboard/payments"},{icon:mM,label:"Transactions",path:"/dashboard/transaction"},{icon:n6,label:"Manage Offers",path:"/dashboard/offer"},{icon:c6,label:"Upcoming Live",path:"/dashboard/upcomingLive"}];return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:u.jsx("h1",{className:"text-xl font-bold",children:"Admin Panel"})}),u.jsx("nav",{className:"flex-1 p-4 space-y-1",children:s.map(c=>c.submenu?u.jsxs(ak,{children:[u.jsxs(ck,{className:"flex items-center w-full px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[u.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.label,u.jsx(v_,{className:"w-4 h-4 ml-auto"})]}),u.jsx(U_,{className:"w-56 ml-2",children:c.submenu.map(a=>u.jsx(lk,{asChild:!0,children:u.jsxs(BP,{to:a.path,className:"flex items-center px-2 py-2",children:[u.jsx(a.icon,{className:"w-4 h-4 mr-2"}),a.label,u.jsx(PR,{className:"w-4 h-4 ml-auto"})]})},a.path))})]},c.label):u.jsxs(BP,{to:c.path,className:"flex items-center px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[u.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.label]},c.path))}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs(Ot,{variant:"ghost",className:"w-full justify-start",onClick:o,children:[u.jsx(Zz,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),u.jsxs("div",{className:`lg:ml-64 min-h-screen transition-all duration-200 ${e?"ml-64":"ml-0"}`,children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[u.jsx(Ot,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!e),children:u.jsx(e6,{className:"w-5 h-5"})}),u.jsx("div",{className:"ml-auto flex items-center space-x-4",children:u.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",r]})})]})}),u.jsx("main",{className:"p-6",children:u.jsx(PV,{})})]})]})},_K={users:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Lb=wt("fetchAllUser",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(I8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Fb=wt("toggleUserBlock",async(e,{rejectWithValue:t})=>{try{return(await mt.post(A8,{userId:e})).data}catch(n){return t(n.response.data)}}),Ub=wt("updateUser",async(e,{rejectWithValue:t})=>{try{return(await mt.post(j8,e)).data}catch(n){return t(n.response.data)}}),wK=is({name:"user",initialState:_K,reducers:{},extraReducers:e=>{e.addCase(Lb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Lb.fulfilled,(t,n)=>{t.isLoading=!1,t.users=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Lb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Ub.pending,t=>{t.error=null}).addCase(Ub.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.users.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.users[r]=n.payload)}).addCase(Ub.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Uu({title:"Error",description:n.payload.message})}).addCase(Fb.pending,t=>{t.error=null}).addCase(Fb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.users.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.users[r].isBlocked=!t.users[r].isBlocked)}).addCase(Fb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),EK=wK.reducer,sa=({currentPage:e,totalPages:t,onPageChange:n})=>{const r=i=>{i!==e&&n(i)};return u.jsx("div",{className:"flex justify-center mt-4",children:u.jsx("nav",{children:u.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:`px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 ${e===1?"pointer-events-none opacity-50":""}`,children:"Previous"})}),Array.from({length:t},(i,o)=>o+1).map(i=>u.jsx("li",{children:u.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 leading-tight ${e===i?"text-blue-600 bg-blue-50 border border-blue-300":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"}`,children:i})},i)),u.jsx("li",{children:u.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:`px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 ${e===t?"pointer-events-none opacity-50":""}`,children:"Next"})})]})})})};var Cy=e=>e.type==="checkbox",vf=e=>e instanceof Date,Oo=e=>e==null;const G2=e=>typeof e=="object";var si=e=>!Oo(e)&&!Array.isArray(e)&&G2(e)&&!vf(e),q2=e=>si(e)&&e.target?Cy(e.target)?e.target.checked:e.target.value:e,CK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,K2=(e,t)=>e.has(CK(t)),TK=e=>{const t=e.constructor&&e.constructor.prototype;return si(t)&&t.hasOwnProperty("isPrototypeOf")},uk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gi(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(uk&&(e instanceof Blob||e instanceof FileList))&&(n||si(e)))if(t=n?[]:{},!n&&!TK(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=gi(e[r]));else return e;return t}var Ty=e=>Array.isArray(e)?e.filter(Boolean):[],br=e=>e===void 0,Ve=(e,t,n)=>{if(!t||!si(e))return n;const r=Ty(t.split(/[,[\].]+?/)).reduce((i,o)=>Oo(i)?i:i[o],e);return br(r)||r===e?br(e[t])?n:e[t]:r},Qs=e=>typeof e=="boolean",dk=e=>/^\w*$/.test(e),Y2=e=>Ty(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Hn=(e,t,n)=>{let r=-1;const i=dk(t)?[t]:Y2(t),o=i.length,s=o-1;for(;++r<o;){const c=i[r];let a=n;if(r!==s){const l=e[c];a=si(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}if(c==="__proto__")return;e[c]=a,e=e[c]}return e};const pS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Q2=ht.createContext(null),Ry=()=>ht.useContext(Q2),RK=e=>{const{children:t,...n}=e;return ht.createElement(Q2.Provider,{value:n},t)};var X2=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==Zs.all&&(t._proxyFormState[s]=!r||Zs.all),n&&(n[s]=!0),e[s]}});return i},Ro=e=>si(e)&&!Object.keys(e).length,J2=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ro(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||Zs.all))},Ko=e=>Array.isArray(e)?e:[e],Z2=(e,t,n)=>!e||!t||e===t||Ko(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function B_(e){const t=ht.useRef(e);t.current=e,ht.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function kK(e){const t=Ry(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,c]=ht.useState(n._formState),a=ht.useRef(!0),l=ht.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=ht.useRef(i);return f.current=i,B_({disabled:r,next:p=>a.current&&Z2(f.current,p.name,o)&&J2(p,l.current,n._updateFormState)&&c({...n._formState,...p}),subject:n._subjects.state}),ht.useEffect(()=>(a.current=!0,l.current.isValid&&n._updateValid(!0),()=>{a.current=!1}),[n]),X2(s,n,l.current,!1)}var hc=e=>typeof e=="string",eF=(e,t,n,r,i)=>hc(e)?(r&&t.watch.add(e),Ve(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Ve(n,o))):(r&&(t.watchAll=!0),n);function OK(e){const t=Ry(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},c=ht.useRef(r);c.current=r,B_({disabled:o,subject:n._subjects.values,next:f=>{Z2(c.current,f.name,s)&&l(gi(eF(c.current,n._names,f.values||n._formValues,!1,i)))}});const[a,l]=ht.useState(n._getWatch(r,i));return ht.useEffect(()=>n._removeUnmounted()),a}function fk(e){const t=Ry(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=K2(i._names.array,n),c=OK({control:i,name:n,defaultValue:Ve(i._formValues,n,Ve(i._defaultValues,n,e.defaultValue)),exact:!0}),a=kK({control:i,name:n,exact:!0}),l=ht.useRef(i.register(n,{...e.rules,value:c,...Qs(e.disabled)?{disabled:e.disabled}:{}}));return ht.useEffect(()=>{const f=i._options.shouldUnregister||o,p=(m,E)=>{const x=Ve(i._fields,m);x&&x._f&&(x._f.mount=E)};if(p(n,!0),f){const m=gi(Ve(i._options.defaultValues,n));Hn(i._defaultValues,n,m),br(Ve(i._formValues,n))&&Hn(i._formValues,n,m)}return()=>{(s?f&&!i._state.action:f)?i.unregister(n):p(n,!1)}},[n,i,s,o]),ht.useEffect(()=>{Ve(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Ve(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:c,...Qs(r)||a.disabled?{disabled:a.disabled||r}:{},onChange:ht.useCallback(f=>l.current.onChange({target:{value:q2(f),name:n},type:pS.CHANGE}),[n]),onBlur:ht.useCallback(()=>l.current.onBlur({target:{value:Ve(i._formValues,n),name:n},type:pS.BLUR}),[n,i]),ref:ht.useCallback(f=>{const p=Ve(i._fields,n);p&&f&&(p._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:m=>f.setCustomValidity(m),reportValidity:()=>f.reportValidity()})},[i._fields,n])},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ve(a.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ve(a.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ve(a.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ve(a.validatingFields,n)},error:{enumerable:!0,get:()=>Ve(a.errors,n)}})}}const hk=e=>e.render(fk(e));var tF=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},lu=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},WE=(e,t,n={})=>n.shouldFocus||br(n.shouldFocus)?n.focusName||`${e}.${br(n.focusIndex)?t:n.focusIndex}.`:"",gv=e=>({isOnSubmit:!e||e===Zs.onSubmit,isOnBlur:e===Zs.onBlur,isOnChange:e===Zs.onChange,isOnAll:e===Zs.all,isOnTouch:e===Zs.onTouched}),QT=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Op=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Ve(e,i);if(o){const{_f:s,...c}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(Op(c,t))break}else if(si(c)&&Op(c,t))break}}};var nF=(e,t,n)=>{const r=Ko(Ve(e,n));return Hn(r,"root",t[n]),Hn(e,n,r),e},pk=e=>e.type==="file",rl=e=>typeof e=="function",mS=e=>{if(!uk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Bb=e=>hc(e),mk=e=>e.type==="radio",gS=e=>e instanceof RegExp;const $N={value:!1,isValid:!1},VN={value:!0,isValid:!0};var rF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!br(e[0].attributes.value)?br(e[0].value)||e[0].value===""?VN:{value:e[0].value,isValid:!0}:VN:$N}return $N};const zN={isValid:!1,value:null};var iF=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,zN):zN;function WN(e,t,n="validate"){if(Bb(e)||Array.isArray(e)&&e.every(Bb)||Qs(e)&&!e)return{type:n,message:Bb(e)?e:"",ref:t}}var rp=e=>si(e)&&!gS(e)?e:{value:e,message:""},XT=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:c,maxLength:a,minLength:l,min:f,max:p,pattern:m,validate:E,name:x,valueAsNumber:y,mount:w,disabled:R}=e._f,_=Ve(t,x);if(!w||R)return{};const C=s?s[0]:o,I=G=>{r&&C.reportValidity&&(C.setCustomValidity(Qs(G)?"":G||""),C.reportValidity())},j={},U=mk(o),V=Cy(o),z=U||V,q=(y||pk(o))&&br(o.value)&&br(_)||mS(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,X=tF.bind(null,x,n,j),J=(G,ee,ce,xe=qc.maxLength,Se=qc.minLength)=>{const ve=G?ee:ce;j[x]={type:G?xe:Se,message:ve,ref:o,...X(G?xe:Se,ve)}};if(i?!Array.isArray(_)||!_.length:c&&(!z&&(q||Oo(_))||Qs(_)&&!_||V&&!rF(s).isValid||U&&!iF(s).isValid)){const{value:G,message:ee}=Bb(c)?{value:!!c,message:c}:rp(c);if(G&&(j[x]={type:qc.required,message:ee,ref:C,...X(qc.required,ee)},!n))return I(ee),j}if(!q&&(!Oo(f)||!Oo(p))){let G,ee;const ce=rp(p),xe=rp(f);if(!Oo(_)&&!isNaN(_)){const Se=o.valueAsNumber||_&&+_;Oo(ce.value)||(G=Se>ce.value),Oo(xe.value)||(ee=Se<xe.value)}else{const Se=o.valueAsDate||new Date(_),ve=ne=>new Date(new Date().toDateString()+" "+ne),Y=o.type=="time",Q=o.type=="week";hc(ce.value)&&_&&(G=Y?ve(_)>ve(ce.value):Q?_>ce.value:Se>new Date(ce.value)),hc(xe.value)&&_&&(ee=Y?ve(_)<ve(xe.value):Q?_<xe.value:Se<new Date(xe.value))}if((G||ee)&&(J(!!G,ce.message,xe.message,qc.max,qc.min),!n))return I(j[x].message),j}if((a||l)&&!q&&(hc(_)||i&&Array.isArray(_))){const G=rp(a),ee=rp(l),ce=!Oo(G.value)&&_.length>+G.value,xe=!Oo(ee.value)&&_.length<+ee.value;if((ce||xe)&&(J(ce,G.message,ee.message),!n))return I(j[x].message),j}if(m&&!q&&hc(_)){const{value:G,message:ee}=rp(m);if(gS(G)&&!_.match(G)&&(j[x]={type:qc.pattern,message:ee,ref:o,...X(qc.pattern,ee)},!n))return I(ee),j}if(E){if(rl(E)){const G=await E(_,t),ee=WN(G,C);if(ee&&(j[x]={...ee,...X(qc.validate,ee.message)},!n))return I(ee.message),j}else if(si(E)){let G={};for(const ee in E){if(!Ro(G)&&!n)break;const ce=WN(await E[ee](_,t),C,ee);ce&&(G={...ce,...X(ee,ce.message)},I(ce.message),n&&(j[x]=G))}if(!Ro(G)&&(j[x]={ref:C,...G},!n))return j}}return I(!0),j},HE=(e,t)=>[...e,...Ko(t)],GE=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qE(e,t,n){return[...e.slice(0,t),...Ko(n),...e.slice(t)]}var KE=(e,t,n)=>Array.isArray(e)?(br(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],YE=(e,t)=>[...Ko(t),...Ko(e)];function PK(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return Ty(r).length?r:[]}var QE=(e,t)=>br(t)?[]:PK(e,Ko(t).sort((n,r)=>n-r)),XE=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function NK(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=br(e)?r++:e[t[r++]];return e}function IK(e){for(const t in e)if(e.hasOwnProperty(t)&&!br(e[t]))return!1;return!0}function ui(e,t){const n=Array.isArray(t)?t:dk(t)?[t]:Y2(t),r=n.length===1?e:NK(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(si(r)&&Ro(r)||Array.isArray(r)&&IK(r))&&ui(e,n.slice(0,-1)),e}var HN=(e,t,n)=>(e[t]=n,e);function GN(e){const t=Ry(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o}=e,[s,c]=ht.useState(n._getFieldArray(r)),a=ht.useRef(n._getFieldArray(r).map(lu)),l=ht.useRef(s),f=ht.useRef(r),p=ht.useRef(!1);f.current=r,l.current=s,n._names.array.add(r),e.rules&&n.register(r,e.rules),B_({next:({values:j,name:U})=>{if(U===f.current||!U){const V=Ve(j,f.current);Array.isArray(V)&&(c(V),a.current=V.map(lu))}},subject:n._subjects.array});const m=ht.useCallback(j=>{p.current=!0,n._updateFieldArray(r,j)},[n,r]),E=(j,U)=>{const V=Ko(gi(j)),z=HE(n._getFieldArray(r),V);n._names.focus=WE(r,z.length-1,U),a.current=HE(a.current,V.map(lu)),m(z),c(z),n._updateFieldArray(r,z,HE,{argA:GE(j)})},x=(j,U)=>{const V=Ko(gi(j)),z=YE(n._getFieldArray(r),V);n._names.focus=WE(r,0,U),a.current=YE(a.current,V.map(lu)),m(z),c(z),n._updateFieldArray(r,z,YE,{argA:GE(j)})},y=j=>{const U=QE(n._getFieldArray(r),j);a.current=QE(a.current,j),m(U),c(U),n._updateFieldArray(r,U,QE,{argA:j})},w=(j,U,V)=>{const z=Ko(gi(U)),q=qE(n._getFieldArray(r),j,z);n._names.focus=WE(r,j,V),a.current=qE(a.current,j,z.map(lu)),m(q),c(q),n._updateFieldArray(r,q,qE,{argA:j,argB:GE(U)})},R=(j,U)=>{const V=n._getFieldArray(r);XE(V,j,U),XE(a.current,j,U),m(V),c(V),n._updateFieldArray(r,V,XE,{argA:j,argB:U},!1)},_=(j,U)=>{const V=n._getFieldArray(r);KE(V,j,U),KE(a.current,j,U),m(V),c(V),n._updateFieldArray(r,V,KE,{argA:j,argB:U},!1)},C=(j,U)=>{const V=gi(U),z=HN(n._getFieldArray(r),j,V);a.current=[...z].map((q,X)=>!q||X===j?lu():a.current[X]),m(z),c([...z]),n._updateFieldArray(r,z,HN,{argA:j,argB:V},!0,!1)},I=j=>{const U=Ko(gi(j));a.current=U.map(lu),m([...U]),c([...U]),n._updateFieldArray(r,[...U],V=>V,{},!0,!1)};return ht.useEffect(()=>{if(n._state.action=!1,QT(r,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!gv(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(j=>{const U=Ve(j.errors,r),V=Ve(n._formState.errors,r);(V?!U&&V.type||U&&(V.type!==U.type||V.message!==U.message):U&&U.type)&&(U?Hn(n._formState.errors,r,U):ui(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const j=Ve(n._fields,r);j&&j._f&&!(gv(n._options.reValidateMode).isOnSubmit&&gv(n._options.mode).isOnSubmit)&&XT(j,n._formValues,n._options.criteriaMode===Zs.all,n._options.shouldUseNativeValidation,!0).then(U=>!Ro(U)&&n._subjects.state.next({errors:nF(n._formState.errors,U,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Op(n._fields,(j,U)=>{if(n._names.focus&&U.startsWith(n._names.focus)&&j.focus)return j.focus(),1}),n._names.focus="",n._updateValid(),p.current=!1},[s,r,n]),ht.useEffect(()=>(!Ve(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,i,o]),{swap:ht.useCallback(R,[m,r,n]),move:ht.useCallback(_,[m,r,n]),prepend:ht.useCallback(x,[m,r,n]),append:ht.useCallback(E,[m,r,n]),remove:ht.useCallback(y,[m,r,n]),insert:ht.useCallback(w,[m,r,n]),update:ht.useCallback(C,[m,r,n]),replace:ht.useCallback(I,[m,r,n]),fields:ht.useMemo(()=>s.map((j,U)=>({...j,[i]:a.current[U]||lu()})),[s,i])}}var JE=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},JT=e=>Oo(e)||!G2(e);function yu(e,t){if(JT(e)||JT(t))return e===t;if(vf(e)&&vf(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(vf(o)&&vf(s)||si(o)&&si(s)||Array.isArray(o)&&Array.isArray(s)?!yu(o,s):o!==s)return!1}}return!0}var oF=e=>e.type==="select-multiple",AK=e=>mk(e)||Cy(e),ZE=e=>mS(e)&&e.isConnected,sF=e=>{for(const t in e)if(rl(e[t]))return!0;return!1};function vS(e,t={}){const n=Array.isArray(e);if(si(e)||n)for(const r in e)Array.isArray(e[r])||si(e[r])&&!sF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},vS(e[r],t[r])):Oo(e[r])||(t[r]=!0);return t}function aF(e,t,n){const r=Array.isArray(e);if(si(e)||r)for(const i in e)Array.isArray(e[i])||si(e[i])&&!sF(e[i])?br(t)||JT(n[i])?n[i]=Array.isArray(e[i])?vS(e[i],[]):{...vS(e[i])}:aF(e[i],Oo(t)?{}:t[i],n[i]):n[i]=!yu(e[i],t[i]);return n}var zg=(e,t)=>aF(e,t,vS(t)),cF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>br(e)?e:t?e===""?NaN:e&&+e:n&&hc(e)?new Date(e):r?r(e):e;function eC(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return pk(t)?t.files:mk(t)?iF(e.refs).value:oF(t)?[...t.selectedOptions].map(({value:n})=>n):Cy(t)?rF(e.refs).value:cF(br(t.value)?e.ref.value:t.value,e)}var jK=(e,t,n,r)=>{const i={};for(const o of e){const s=Ve(t,o);s&&Hn(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Wg=e=>br(e)?e:gS(e)?e.source:si(e)?gS(e.value)?e.value.source:e.value:e;const qN="AsyncFunction";var DK=e=>(!e||!e.validate)&&!!(rl(e.validate)&&e.validate.constructor.name===qN||si(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===qN)),MK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function KN(e,t,n){const r=Ve(e,n);if(r||dk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=Ve(t,o),c=Ve(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:n}}var LK=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,FK=(e,t)=>!Ty(Ve(e,t)).length&&ui(e,t);const UK={mode:Zs.onSubmit,reValidateMode:Zs.onChange,shouldFocusError:!0};function BK(e={}){let t={...UK,...e},n={submitCount:0,isDirty:!1,isLoading:rl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=si(t.defaultValues)||si(t.values)?gi(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:gi(i),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},a,l=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:JE(),array:JE(),state:JE()},m=gv(t.mode),E=gv(t.reValidateMode),x=t.criteriaMode===Zs.all,y=Z=>pe=>{clearTimeout(l),l=setTimeout(Z,pe)},w=async Z=>{if(!e.disabled&&(f.isValid||Z)){const pe=t.resolver?Ro((await z()).errors):await X(r,!0);pe!==n.isValid&&p.state.next({isValid:pe})}},R=(Z,pe)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((Z||Array.from(c.mount)).forEach(Ce=>{Ce&&(pe?Hn(n.validatingFields,Ce,pe):ui(n.validatingFields,Ce))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ro(n.validatingFields)}))},_=(Z,pe=[],Ce,Qe,re=!0,de=!0)=>{if(Qe&&Ce&&!e.disabled){if(s.action=!0,de&&Array.isArray(Ve(r,Z))){const Re=Ce(Ve(r,Z),Qe.argA,Qe.argB);re&&Hn(r,Z,Re)}if(de&&Array.isArray(Ve(n.errors,Z))){const Re=Ce(Ve(n.errors,Z),Qe.argA,Qe.argB);re&&Hn(n.errors,Z,Re),FK(n.errors,Z)}if(f.touchedFields&&de&&Array.isArray(Ve(n.touchedFields,Z))){const Re=Ce(Ve(n.touchedFields,Z),Qe.argA,Qe.argB);re&&Hn(n.touchedFields,Z,Re)}f.dirtyFields&&(n.dirtyFields=zg(i,o)),p.state.next({name:Z,isDirty:G(Z,pe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Hn(o,Z,pe)},C=(Z,pe)=>{Hn(n.errors,Z,pe),p.state.next({errors:n.errors})},I=Z=>{n.errors=Z,p.state.next({errors:n.errors,isValid:!1})},j=(Z,pe,Ce,Qe)=>{const re=Ve(r,Z);if(re){const de=Ve(o,Z,br(Ce)?Ve(i,Z):Ce);br(de)||Qe&&Qe.defaultChecked||pe?Hn(o,Z,pe?de:eC(re._f)):xe(Z,de),s.mount&&w()}},U=(Z,pe,Ce,Qe,re)=>{let de=!1,Re=!1;const De={name:Z};if(!e.disabled){const nt=!!(Ve(r,Z)&&Ve(r,Z)._f&&Ve(r,Z)._f.disabled);if(!Ce||Qe){f.isDirty&&(Re=n.isDirty,n.isDirty=De.isDirty=G(),de=Re!==De.isDirty);const St=nt||yu(Ve(i,Z),pe);Re=!!(!nt&&Ve(n.dirtyFields,Z)),St||nt?ui(n.dirtyFields,Z):Hn(n.dirtyFields,Z,!0),De.dirtyFields=n.dirtyFields,de=de||f.dirtyFields&&Re!==!St}if(Ce){const St=Ve(n.touchedFields,Z);St||(Hn(n.touchedFields,Z,Ce),De.touchedFields=n.touchedFields,de=de||f.touchedFields&&St!==Ce)}de&&re&&p.state.next(De)}return de?De:{}},V=(Z,pe,Ce,Qe)=>{const re=Ve(n.errors,Z),de=f.isValid&&Qs(pe)&&n.isValid!==pe;if(e.delayError&&Ce?(a=y(()=>C(Z,Ce)),a(e.delayError)):(clearTimeout(l),a=null,Ce?Hn(n.errors,Z,Ce):ui(n.errors,Z)),(Ce?!yu(re,Ce):re)||!Ro(Qe)||de){const Re={...Qe,...de&&Qs(pe)?{isValid:pe}:{},errors:n.errors,name:Z};n={...n,...Re},p.state.next(Re)}},z=async Z=>{R(Z,!0);const pe=await t.resolver(o,t.context,jK(Z||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return R(Z),pe},q=async Z=>{const{errors:pe}=await z(Z);if(Z)for(const Ce of Z){const Qe=Ve(pe,Ce);Qe?Hn(n.errors,Ce,Qe):ui(n.errors,Ce)}else n.errors=pe;return pe},X=async(Z,pe,Ce={valid:!0})=>{for(const Qe in Z){const re=Z[Qe];if(re){const{_f:de,...Re}=re;if(de){const De=c.array.has(de.name),nt=re._f&&DK(re._f);nt&&f.validatingFields&&R([Qe],!0);const St=await XT(re,o,x,t.shouldUseNativeValidation&&!pe,De);if(nt&&f.validatingFields&&R([Qe]),St[de.name]&&(Ce.valid=!1,pe))break;!pe&&(Ve(St,de.name)?De?nF(n.errors,St,de.name):Hn(n.errors,de.name,St[de.name]):ui(n.errors,de.name))}!Ro(Re)&&await X(Re,pe,Ce)}}return Ce.valid},J=()=>{for(const Z of c.unMount){const pe=Ve(r,Z);pe&&(pe._f.refs?pe._f.refs.every(Ce=>!ZE(Ce)):!ZE(pe._f.ref))&&Gt(Z)}c.unMount=new Set},G=(Z,pe)=>!e.disabled&&(Z&&pe&&Hn(o,Z,pe),!yu(fe(),i)),ee=(Z,pe,Ce)=>eF(Z,c,{...s.mount?o:br(pe)?i:hc(Z)?{[Z]:pe}:pe},Ce,pe),ce=Z=>Ty(Ve(s.mount?o:i,Z,e.shouldUnregister?Ve(i,Z,[]):[])),xe=(Z,pe,Ce={})=>{const Qe=Ve(r,Z);let re=pe;if(Qe){const de=Qe._f;de&&(!de.disabled&&Hn(o,Z,cF(pe,de)),re=mS(de.ref)&&Oo(pe)?"":pe,oF(de.ref)?[...de.ref.options].forEach(Re=>Re.selected=re.includes(Re.value)):de.refs?Cy(de.ref)?de.refs.length>1?de.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(re)?!!re.find(De=>De===Re.value):re===Re.value)):de.refs[0]&&(de.refs[0].checked=!!re):de.refs.forEach(Re=>Re.checked=Re.value===re):pk(de.ref)?de.ref.value="":(de.ref.value=re,de.ref.type||p.values.next({name:Z,values:{...o}})))}(Ce.shouldDirty||Ce.shouldTouch)&&U(Z,re,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&ne(Z)},Se=(Z,pe,Ce)=>{for(const Qe in pe){const re=pe[Qe],de=`${Z}.${Qe}`,Re=Ve(r,de);(c.array.has(Z)||si(re)||Re&&!Re._f)&&!vf(re)?Se(de,re,Ce):xe(de,re,Ce)}},ve=(Z,pe,Ce={})=>{const Qe=Ve(r,Z),re=c.array.has(Z),de=gi(pe);Hn(o,Z,de),re?(p.array.next({name:Z,values:{...o}}),(f.isDirty||f.dirtyFields)&&Ce.shouldDirty&&p.state.next({name:Z,dirtyFields:zg(i,o),isDirty:G(Z,de)})):Qe&&!Qe._f&&!Oo(de)?Se(Z,de,Ce):xe(Z,de,Ce),QT(Z,c)&&p.state.next({...n}),p.values.next({name:s.mount?Z:void 0,values:{...o}})},Y=async Z=>{s.mount=!0;const pe=Z.target;let Ce=pe.name,Qe=!0;const re=Ve(r,Ce),de=()=>pe.type?eC(re._f):q2(Z),Re=De=>{Qe=Number.isNaN(De)||vf(De)&&isNaN(De.getTime())||yu(De,Ve(o,Ce,De))};if(re){let De,nt;const St=de(),Sn=Z.type===pS.BLUR||Z.type===pS.FOCUS_OUT,Qr=!MK(re._f)&&!t.resolver&&!Ve(n.errors,Ce)&&!re._f.deps||LK(Sn,Ve(n.touchedFields,Ce),n.isSubmitted,E,m),fi=QT(Ce,c,Sn);Hn(o,Ce,St),Sn?(re._f.onBlur&&re._f.onBlur(Z),a&&a(0)):re._f.onChange&&re._f.onChange(Z);const fo=U(Ce,St,Sn,!1),Cn=!Ro(fo)||fi;if(!Sn&&p.values.next({name:Ce,type:Z.type,values:{...o}}),Qr)return f.isValid&&(e.mode==="onBlur"?Sn&&w():w()),Cn&&p.state.next({name:Ce,...fi?{}:fo});if(!Sn&&fi&&p.state.next({...n}),t.resolver){const{errors:kn}=await z([Ce]);if(Re(St),Qe){const Ls=KN(n.errors,r,Ce),Ba=KN(kn,r,Ls.name||Ce);De=Ba.error,Ce=Ba.name,nt=Ro(kn)}}else R([Ce],!0),De=(await XT(re,o,x,t.shouldUseNativeValidation))[Ce],R([Ce]),Re(St),Qe&&(De?nt=!1:f.isValid&&(nt=await X(r,!0)));Qe&&(re._f.deps&&ne(re._f.deps),V(Ce,nt,De,fo))}},Q=(Z,pe)=>{if(Ve(n.errors,pe)&&Z.focus)return Z.focus(),1},ne=async(Z,pe={})=>{let Ce,Qe;const re=Ko(Z);if(t.resolver){const de=await q(br(Z)?Z:re);Ce=Ro(de),Qe=Z?!re.some(Re=>Ve(de,Re)):Ce}else Z?(Qe=(await Promise.all(re.map(async de=>{const Re=Ve(r,de);return await X(Re&&Re._f?{[de]:Re}:Re)}))).every(Boolean),!(!Qe&&!n.isValid)&&w()):Qe=Ce=await X(r);return p.state.next({...!hc(Z)||f.isValid&&Ce!==n.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:Ce}:{},errors:n.errors}),pe.shouldFocus&&!Qe&&Op(r,Q,Z?re:c.mount),Qe},fe=Z=>{const pe={...s.mount?o:i};return br(Z)?pe:hc(Z)?Ve(pe,Z):Z.map(Ce=>Ve(pe,Ce))},Te=(Z,pe)=>({invalid:!!Ve((pe||n).errors,Z),isDirty:!!Ve((pe||n).dirtyFields,Z),error:Ve((pe||n).errors,Z),isValidating:!!Ve(n.validatingFields,Z),isTouched:!!Ve((pe||n).touchedFields,Z)}),He=Z=>{Z&&Ko(Z).forEach(pe=>ui(n.errors,pe)),p.state.next({errors:Z?n.errors:{}})},Le=(Z,pe,Ce)=>{const Qe=(Ve(r,Z,{_f:{}})._f||{}).ref,re=Ve(n.errors,Z)||{},{ref:de,message:Re,type:De,...nt}=re;Hn(n.errors,Z,{...nt,...pe,ref:Qe}),p.state.next({name:Z,errors:n.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},bt=(Z,pe)=>rl(Z)?p.values.subscribe({next:Ce=>Z(ee(void 0,pe),Ce)}):ee(Z,pe,!0),Gt=(Z,pe={})=>{for(const Ce of Z?Ko(Z):c.mount)c.mount.delete(Ce),c.array.delete(Ce),pe.keepValue||(ui(r,Ce),ui(o,Ce)),!pe.keepError&&ui(n.errors,Ce),!pe.keepDirty&&ui(n.dirtyFields,Ce),!pe.keepTouched&&ui(n.touchedFields,Ce),!pe.keepIsValidating&&ui(n.validatingFields,Ce),!t.shouldUnregister&&!pe.keepDefaultValue&&ui(i,Ce);p.values.next({values:{...o}}),p.state.next({...n,...pe.keepDirty?{isDirty:G()}:{}}),!pe.keepIsValid&&w()},Ye=({disabled:Z,name:pe,field:Ce,fields:Qe,value:re})=>{if(Qs(Z)&&s.mount||Z){const de=Z?void 0:br(re)?eC(Ce?Ce._f:Ve(Qe,pe)._f):re;Hn(o,pe,de),U(pe,de,!1,!1,!0)}},lt=(Z,pe={})=>{let Ce=Ve(r,Z);const Qe=Qs(pe.disabled)||Qs(e.disabled);return Hn(r,Z,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:Z}},name:Z,mount:!0,...pe}}),c.mount.add(Z),Ce?Ye({field:Ce,disabled:Qs(pe.disabled)?pe.disabled:e.disabled,name:Z,value:pe.value}):j(Z,!0,pe.value),{...Qe?{disabled:pe.disabled||e.disabled}:{},...t.progressive?{required:!!pe.required,min:Wg(pe.min),max:Wg(pe.max),minLength:Wg(pe.minLength),maxLength:Wg(pe.maxLength),pattern:Wg(pe.pattern)}:{},name:Z,onChange:Y,onBlur:Y,ref:re=>{if(re){lt(Z,pe),Ce=Ve(r,Z);const de=br(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Re=AK(de),De=Ce._f.refs||[];if(Re?De.find(nt=>nt===de):de===Ce._f.ref)return;Hn(r,Z,{_f:{...Ce._f,...Re?{refs:[...De.filter(ZE),de,...Array.isArray(Ve(i,Z))?[{}]:[]],ref:{type:de.type,name:Z}}:{ref:de}}}),j(Z,!1,void 0,de)}else Ce=Ve(r,Z,{}),Ce._f&&(Ce._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(K2(c.array,Z)&&s.action)&&c.unMount.add(Z)}}},Mt=()=>t.shouldFocusError&&Op(r,Q,c.mount),Xt=Z=>{Qs(Z)&&(p.state.next({disabled:Z}),Op(r,(pe,Ce)=>{const Qe=Ve(r,Ce);Qe&&(pe.disabled=Qe._f.disabled||Z,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(re=>{re.disabled=Qe._f.disabled||Z}))},0,!1))},Lt=(Z,pe)=>async Ce=>{let Qe;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let re=gi(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:Re}=await z();n.errors=de,re=Re}else await X(r);if(ui(n.errors,"root"),Ro(n.errors)){p.state.next({errors:{}});try{await Z(re,Ce)}catch(de){Qe=de}}else pe&&await pe({...n.errors},Ce),Mt(),setTimeout(Mt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ro(n.errors)&&!Qe,submitCount:n.submitCount+1,errors:n.errors}),Qe)throw Qe},qt=(Z,pe={})=>{Ve(r,Z)&&(br(pe.defaultValue)?ve(Z,gi(Ve(i,Z))):(ve(Z,pe.defaultValue),Hn(i,Z,gi(pe.defaultValue))),pe.keepTouched||ui(n.touchedFields,Z),pe.keepDirty||(ui(n.dirtyFields,Z),n.isDirty=pe.defaultValue?G(Z,gi(Ve(i,Z))):G()),pe.keepError||(ui(n.errors,Z),f.isValid&&w()),p.state.next({...n}))},Fn=(Z,pe={})=>{const Ce=Z?gi(Z):i,Qe=gi(Ce),re=Ro(Z),de=re?i:Qe;if(pe.keepDefaultValues||(i=Ce),!pe.keepValues){if(pe.keepDirtyValues){const Re=new Set([...c.mount,...Object.keys(zg(i,o))]);for(const De of Array.from(Re))Ve(n.dirtyFields,De)?Hn(de,De,Ve(o,De)):ve(De,Ve(de,De))}else{if(uk&&br(Z))for(const Re of c.mount){const De=Ve(r,Re);if(De&&De._f){const nt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(mS(nt)){const St=nt.closest("form");if(St){St.reset();break}}}}r={}}o=e.shouldUnregister?pe.keepDefaultValues?gi(i):{}:gi(de),p.array.next({values:{...de}}),p.values.next({values:{...de}})}c={mount:pe.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,s.watch=!!e.shouldUnregister,p.state.next({submitCount:pe.keepSubmitCount?n.submitCount:0,isDirty:re?!1:pe.keepDirty?n.isDirty:!!(pe.keepDefaultValues&&!yu(Z,i)),isSubmitted:pe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:pe.keepDirtyValues?pe.keepDefaultValues&&o?zg(i,o):n.dirtyFields:pe.keepDefaultValues&&Z?zg(i,Z):pe.keepDirty?n.dirtyFields:{},touchedFields:pe.keepTouched?n.touchedFields:{},errors:pe.keepErrors?n.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qn=(Z,pe)=>Fn(rl(Z)?Z(o):Z,pe);return{control:{register:lt,unregister:Gt,getFieldState:Te,handleSubmit:Lt,setError:Le,_executeSchema:z,_getWatch:ee,_getDirty:G,_updateValid:w,_removeUnmounted:J,_updateFieldArray:_,_updateDisabledField:Ye,_getFieldArray:ce,_reset:Fn,_resetDefaultValues:()=>rl(t.defaultValues)&&t.defaultValues().then(Z=>{Qn(Z,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:Z=>{n={...n,...Z}},_disableForm:Xt,_subjects:p,_proxyFormState:f,_setErrors:I,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(Z){s=Z},get _defaultValues(){return i},get _names(){return c},set _names(Z){c=Z},get _formState(){return n},set _formState(Z){n=Z},get _options(){return t},set _options(Z){t={...t,...Z}}},trigger:ne,register:lt,handleSubmit:Lt,watch:bt,setValue:ve,getValues:fe,reset:Qn,resetField:qt,clearErrors:He,unregister:Gt,setError:Le,setFocus:(Z,pe={})=>{const Ce=Ve(r,Z),Qe=Ce&&Ce._f;if(Qe){const re=Qe.refs?Qe.refs[0]:Qe.ref;re.focus&&(re.focus(),pe.shouldSelect&&re.select())}},getFieldState:Te}}function th(e={}){const t=ht.useRef(),n=ht.useRef(),[r,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:rl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:rl(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...BK(e),formState:r});const o=t.current.control;return o._options=e,B_({subject:o._subjects.state,next:s=>{J2(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ht.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ht.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ht.useEffect(()=>{e.values&&!yu(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[e.values,o]),ht.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ht.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ht.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),ht.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=X2(r,o),t.current}function Ln(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ps(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Po(e,t){const n=Ln(e);return isNaN(t)?Ps(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ma(e,t){const n=Ln(e);if(isNaN(t))return Ps(e,NaN);if(!t)return n;const r=n.getDate(),i=Ps(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const gk=6048e5,$K=864e5;let VK={};function ky(){return VK}function _c(e,t){var c,a,l,f;const n=ky(),r=(t==null?void 0:t.weekStartsOn)??((a=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,i=Ln(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Vf(e){return _c(e,{weekStartsOn:1})}function lF(e){const t=Ln(e),n=t.getFullYear(),r=Ps(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Vf(r),o=Ps(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Vf(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Qp(e){const t=Ln(e);return t.setHours(0,0,0,0),t}function yS(e){const t=Ln(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pc(e,t){const n=Qp(e),r=Qp(t),i=+n-yS(n),o=+r-yS(r);return Math.round((i-o)/$K)}function zK(e){const t=lF(e),n=Ps(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Vf(n)}function ZT(e,t){const n=t*7;return Po(e,n)}function WK(e,t){return Ma(e,t*12)}function HK(e){let t;return e.forEach(function(n){const r=Ln(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function GK(e){let t;return e.forEach(n=>{const r=Ln(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Yo(e,t){const n=Qp(e),r=Qp(t);return+n==+r}function vk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qK(e){if(!vk(e)&&typeof e!="number")return!1;const t=Ln(e);return!isNaN(Number(t))}function Zv(e,t){const n=Ln(e),r=Ln(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function KK(e,t,n){const r=_c(e,n),i=_c(t,n),o=+r-yS(r),s=+i-yS(i);return Math.round((o-s)/gk)}function yk(e){const t=Ln(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ts(e){const t=Ln(e);return t.setDate(1),t.setHours(0,0,0,0),t}function uF(e){const t=Ln(e),n=Ps(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bk(e,t){var c,a,l,f;const n=ky(),r=(t==null?void 0:t.weekStartsOn)??((a=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,i=Ln(e),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function dF(e){return bk(e,{weekStartsOn:1})}const YK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QK=(e,t,n)=>{let r;const i=YK[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const XK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eY={date:tC({formats:XK,defaultWidth:"full"}),time:tC({formats:JK,defaultWidth:"full"}),dateTime:tC({formats:ZK,defaultWidth:"full"})},tY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nY=(e,t,n,r)=>tY[e];function Hg(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):s;i=e.formattingValues[c]||e.formattingValues[s]}else{const s=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const rY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lY=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uY={ordinalNumber:lY,era:Hg({values:rY,defaultWidth:"wide"}),quarter:Hg({values:iY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hg({values:oY,defaultWidth:"wide"}),day:Hg({values:sY,defaultWidth:"wide"}),dayPeriod:Hg({values:aY,defaultWidth:"wide",formattingValues:cY,defaultFormattingWidth:"wide"})};function Gg(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(c)?fY(c,p=>p.test(s)):dY(c,p=>p.test(s));let l;l=e.valueCallback?e.valueCallback(a):a,l=n.valueCallback?n.valueCallback(l):l;const f=t.slice(s.length);return{value:l,rest:f}}}function dY(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function fY(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function hY(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const c=t.slice(i.length);return{value:s,rest:c}}}const pY=/^(\d+)(th|st|nd|rd)?/i,mY=/\d+/i,gY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vY={any:[/^b/i,/^(a|c)/i]},yY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bY={any:[/1/i,/2/i,/3/i,/4/i]},xY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Y={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TY={ordinalNumber:hY({matchPattern:pY,parsePattern:mY,valueCallback:e=>parseInt(e,10)}),era:Gg({matchPatterns:gY,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any"}),quarter:Gg({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gg({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:SY,defaultParseWidth:"any"}),day:Gg({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:wY,defaultParseWidth:"any"}),dayPeriod:Gg({matchPatterns:EY,defaultMatchWidth:"any",parsePatterns:CY,defaultParseWidth:"any"})},fF={code:"en-US",formatDistance:QK,formatLong:eY,formatRelative:nY,localize:uY,match:TY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RY(e){const t=Ln(e);return pc(t,uF(t))+1}function hF(e){const t=Ln(e),n=+Vf(t)-+zK(t);return Math.round(n/gk)+1}function pF(e,t){var f,p,m,E;const n=Ln(e),r=n.getFullYear(),i=ky(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(m=i.locale)==null?void 0:m.options)==null?void 0:E.firstWeekContainsDate)??1,s=Ps(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const c=_c(s,t),a=Ps(e,0);a.setFullYear(r,0,o),a.setHours(0,0,0,0);const l=_c(a,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function kY(e,t){var c,a,l,f;const n=ky(),r=(t==null?void 0:t.firstWeekContainsDate)??((a=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)??1,i=pF(e,t),o=Ps(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),_c(o,t)}function mF(e,t){const n=Ln(e),r=+_c(n,t)-+kY(n,t);return Math.round(r/gk)+1}function er(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const uu={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return er(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):er(n+1,2)},d(e,t){return er(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return er(e.getHours()%12||12,t.length)},H(e,t){return er(e.getHours(),t.length)},m(e,t){return er(e.getMinutes(),t.length)},s(e,t){return er(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return er(i,t.length)}},ip={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YN={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return uu.y(e,t)},Y:function(e,t,n,r){const i=pF(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return er(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):er(o,t.length)},R:function(e,t){const n=lF(e);return er(n,t.length)},u:function(e,t){const n=e.getFullYear();return er(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return er(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return er(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return uu.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return er(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=mF(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):er(i,t.length)},I:function(e,t,n){const r=hF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):er(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):uu.d(e,t)},D:function(e,t,n){const r=RY(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):er(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return er(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return er(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return er(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=ip.noon:r===0?i=ip.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=ip.evening:r>=12?i=ip.afternoon:r>=4?i=ip.morning:i=ip.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return uu.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):uu.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):er(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):er(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):uu.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):uu.s(e,t)},S:function(e,t){return uu.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return XN(r);case"XXXX":case"XX":return df(r);case"XXXXX":case"XXX":default:return df(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return XN(r);case"xxxx":case"xx":return df(r);case"xxxxx":case"xxx":default:return df(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QN(r,":");case"OOOO":default:return"GMT"+df(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QN(r,":");case"zzzz":default:return"GMT"+df(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return er(r,t.length)},T:function(e,t,n){const r=e.getTime();return er(r,t.length)}};function QN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+er(o,2)}function XN(e,t){return e%60===0?(e>0?"-":"+")+er(Math.abs(e)/60,2):df(e,t)}function df(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=er(Math.trunc(r/60),2),o=er(r%60,2);return n+i+t+o}const JN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OY=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return JN(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",JN(r,t)).replace("{{time}}",gF(i,t))},PY={p:gF,P:OY},NY=/^D+$/,IY=/^Y+$/,AY=["D","DD","YY","YYYY"];function jY(e){return NY.test(e)}function DY(e){return IY.test(e)}function MY(e,t,n){const r=LY(e,t,n);if(console.warn(r),AY.includes(e))throw new RangeError(r)}function LY(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BY=/^'([^]*?)'?$/,$Y=/''/g,VY=/[a-zA-Z]/;function ns(e,t,n){var f,p,m,E,x,y,w,R;const r=ky(),i=(n==null?void 0:n.locale)??r.locale??fF,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(m=r.locale)==null?void 0:m.options)==null?void 0:E.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((R=(w=r.locale)==null?void 0:w.options)==null?void 0:R.weekStartsOn)??0,c=Ln(e);if(!qK(c))throw new RangeError("Invalid time value");let a=t.match(UY).map(_=>{const C=_[0];if(C==="p"||C==="P"){const I=PY[C];return I(_,i.formatLong)}return _}).join("").match(FY).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const C=_[0];if(C==="'")return{isToken:!1,value:zY(_)};if(YN[C])return{isToken:!0,value:_};if(C.match(VY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(a=i.localize.preprocessor(c,a));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return a.map(_=>{if(!_.isToken)return _.value;const C=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&DY(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jY(C))&&MY(C,t,String(e));const I=YN[C[0]];return I(c,C,i.localize,l)}).join("")}function zY(e){const t=e.match(BY);return t?t[1].replace($Y,"'"):e}function WY(e){const t=Ln(e),n=t.getFullYear(),r=t.getMonth(),i=Ps(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function HY(e){return Math.trunc(+Ln(e)/1e3)}function GY(e){const t=Ln(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function qY(e,t){return KK(GY(e),ts(e),t)+1}function e1(e,t){const n=Ln(e),r=Ln(t);return n.getTime()>r.getTime()}function vF(e,t){const n=Ln(e),r=Ln(t);return+n<+r}function xk(e,t){const n=Ln(e),r=Ln(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function KY(e,t){const n=Ln(e),r=Ln(t);return n.getFullYear()===r.getFullYear()}function nC(e,t){return Po(e,-t)}function rC(e,t){const n=Ln(e),r=n.getFullYear(),i=n.getDate(),o=Ps(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const s=WY(o);return n.setMonth(t,Math.min(i,s)),n}function ZN(e,t){const n=Ln(e);return isNaN(+n)?Ps(e,NaN):(n.setFullYear(t),n)}const nh=RK,yF=P.createContext({}),nn=({...e})=>u.jsx(yF.Provider,{value:{name:e.name},children:u.jsx(hk,{...e})}),$_=()=>{const e=P.useContext(yF),t=P.useContext(bF),{getFieldState:n,formState:r}=Ry(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},bF=P.createContext({}),Bt=P.forwardRef(({className:e,...t},n)=>{const r=P.useId();return u.jsx(bF.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:it("space-y-2",e),...t})})});Bt.displayName="FormItem";const $t=P.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=$_();return u.jsx(Ai,{ref:n,className:it(r&&"text-destructive",e),htmlFor:i,...t})});$t.displayName="FormLabel";const vn=P.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=$_();return u.jsx(xc,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});vn.displayName="FormControl";const YY=P.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=$_();return u.jsx("p",{ref:n,id:r,className:it("text-sm text-muted-foreground",e),...t})});YY.displayName="FormDescription";const Vt=P.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=$_(),s=i?String(i==null?void 0:i.message):t;return s?u.jsx("p",{ref:r,id:o,className:it("text-sm font-medium text-destructive",e),...n,children:s}):null});Vt.displayName="FormMessage";var Sk="Popover",[xF,Sae]=Rc(Sk,[bm]),Oy=bm(),[QY,cd]=xF(Sk),SF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,c=Oy(t),a=P.useRef(null),[l,f]=P.useState(!1),[p=!1,m]=pl({prop:r,defaultProp:i,onChange:o});return u.jsx(QR,{...c,children:u.jsx(QY,{scope:t,contentId:vc(),triggerRef:a,open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(E=>!E),[m]),hasCustomAnchor:l,onCustomAnchorAdd:P.useCallback(()=>f(!0),[]),onCustomAnchorRemove:P.useCallback(()=>f(!1),[]),modal:s,children:n})})};SF.displayName=Sk;var _F="PopoverAnchor",XY=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cd(_F,n),o=Oy(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:c}=i;return P.useEffect(()=>(s(),()=>c()),[s,c]),u.jsx(I_,{...o,...r,ref:t})});XY.displayName=_F;var wF="PopoverTrigger",EF=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cd(wF,n),o=Oy(n),s=xn(t,i.triggerRef),c=u.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":OF(i.open),...r,ref:s,onClick:Ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:u.jsx(I_,{asChild:!0,...o,children:c})});EF.displayName=wF;var _k="PopoverPortal",[JY,ZY]=xF(_k,{forceMount:void 0}),CF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=cd(_k,t);return u.jsx(JY,{scope:t,forceMount:n,children:u.jsx(uo,{present:n||o.open,children:u.jsx(hm,{asChild:!0,container:i,children:r})})})};CF.displayName=_k;var Xp="PopoverContent",TF=P.forwardRef((e,t)=>{const n=ZY(Xp,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=cd(Xp,e.__scopePopover);return u.jsx(uo,{present:r||o.open,children:o.modal?u.jsx(eQ,{...i,ref:t}):u.jsx(tQ,{...i,ref:t})})});TF.displayName=Xp;var eQ=P.forwardRef((e,t)=>{const n=cd(Xp,e.__scopePopover),r=P.useRef(null),i=xn(t,r),o=P.useRef(!1);return P.useEffect(()=>{const s=r.current;if(s)return D_(s)},[]),u.jsx(_y,{as:xc,allowPinchZoom:!0,children:u.jsx(RF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),o.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,a=c.button===0&&c.ctrlKey===!0,l=c.button===2||a;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),tQ=P.forwardRef((e,t)=>{const n=cd(Xp,e.__scopePopover),r=P.useRef(!1),i=P.useRef(!1);return u.jsx(RF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var a,l;(a=e.onInteractOutside)==null||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),RF=P.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:f,...p}=e,m=cd(Xp,n),E=Oy(n);return k_(),u.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(fm,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:a,onFocusOutside:l,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(XR,{"data-state":OF(m.open),role:"dialog",id:m.contentId,...E,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kF="PopoverClose",nQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cd(kF,n);return u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});nQ.displayName=kF;var rQ="PopoverArrow",iQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Oy(n);return u.jsx(JR,{...i,...r,ref:t})});iQ.displayName=rQ;function OF(e){return e?"open":"closed"}var oQ=SF,sQ=EF,aQ=CF,PF=TF;const ey=oQ,ty=sQ,Jp=P.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>u.jsx(aQ,{children:u.jsx(PF,{ref:i,align:t,sideOffset:n,className:it("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Jp.displayName=PF.displayName;var Wt=function(){return Wt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wt.apply(this,arguments)};function cQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function NF(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Py(e){return e.mode==="multiple"}function Ny(e){return e.mode==="range"}function V_(e){return e.mode==="single"}var lQ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function uQ(e,t){return ns(e,"LLLL y",t)}function dQ(e,t){return ns(e,"d",t)}function fQ(e,t){return ns(e,"LLLL",t)}function hQ(e){return"".concat(e)}function pQ(e,t){return ns(e,"cccccc",t)}function mQ(e,t){return ns(e,"yyyy",t)}var gQ=Object.freeze({__proto__:null,formatCaption:uQ,formatDay:dQ,formatMonthCaption:fQ,formatWeekNumber:hQ,formatWeekdayName:pQ,formatYearCaption:mQ}),vQ=function(e,t,n){return ns(e,"do MMMM (EEEE)",n)},yQ=function(){return"Month: "},bQ=function(){return"Go to next month"},xQ=function(){return"Go to previous month"},SQ=function(e,t){return ns(e,"cccc",t)},_Q=function(e){return"Week n. ".concat(e)},wQ=function(){return"Year: "},EQ=Object.freeze({__proto__:null,labelDay:vQ,labelMonthDropdown:yQ,labelNext:bQ,labelPrevious:xQ,labelWeekNumber:_Q,labelWeekday:SQ,labelYearDropdown:wQ});function CQ(){var e="buttons",t=lQ,n=fF,r={},i={},o=1,s={},c=new Date;return{captionLayout:e,classNames:t,formatters:gQ,labels:EQ,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:c,mode:"default"}}function TQ(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,s=e.toDate;return r?o=ts(r):t&&(o=new Date(t,0,1)),i?s=yk(i):n&&(s=new Date(n,11,31)),{fromDate:o?Qp(o):void 0,toDate:s?Qp(s):void 0}}var IF=P.createContext(void 0);function RQ(e){var t,n=e.initialProps,r=CQ(),i=TQ(n),o=i.fromDate,s=i.toDate,c=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;c!=="buttons"&&(!o||!s)&&(c="buttons");var a;(V_(n)||Py(n)||Ny(n))&&(a=n.onSelect);var l=Wt(Wt(Wt({},r),n),{captionLayout:c,classNames:Wt(Wt({},r.classNames),n.classNames),components:Wt({},n.components),formatters:Wt(Wt({},r.formatters),n.formatters),fromDate:o,labels:Wt(Wt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Wt(Wt({},r.modifiers),n.modifiers),modifiersClassNames:Wt(Wt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:a,styles:Wt(Wt({},r.styles),n.styles),toDate:s});return u.jsx(IF.Provider,{value:l,children:e.children})}function Sr(){var e=P.useContext(IF);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AF(e){var t=Sr(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function kQ(e){return u.jsx("svg",Wt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jF(e){var t,n,r=e.onChange,i=e.value,o=e.children,s=e.caption,c=e.className,a=e.style,l=Sr(),f=(n=(t=l.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:kQ;return u.jsxs("div",{className:c,style:a,children:[u.jsx("span",{className:l.classNames.vhidden,children:e["aria-label"]}),u.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:i,onChange:r,children:o}),u.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[s,u.jsx(f,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function OQ(e){var t,n=Sr(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,c=n.formatters.formatMonthCaption,a=n.classNames,l=n.components,f=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var p=[];if(KY(r,i))for(var m=ts(r),E=r.getMonth();E<=i.getMonth();E++)p.push(rC(m,E));else for(var m=ts(new Date),E=0;E<=11;E++)p.push(rC(m,E));var x=function(w){var R=Number(w.target.value),_=rC(ts(e.displayMonth),R);e.onChange(_)},y=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:jF;return u.jsx(y,{name:"months","aria-label":f(),className:a.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:s}),children:p.map(function(w){return u.jsx("option",{value:w.getMonth(),children:c(w,{locale:s})},w.getMonth())})})}function PQ(e){var t,n=e.displayMonth,r=Sr(),i=r.fromDate,o=r.toDate,s=r.locale,c=r.styles,a=r.classNames,l=r.components,f=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,m=[];if(!i)return u.jsx(u.Fragment,{});if(!o)return u.jsx(u.Fragment,{});for(var E=i.getFullYear(),x=o.getFullYear(),y=E;y<=x;y++)m.push(ZN(uF(new Date),y));var w=function(_){var C=ZN(ts(n),Number(_.target.value));e.onChange(C)},R=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:jF;return u.jsx(R,{name:"years","aria-label":p(),className:a.dropdown_year,style:c.dropdown_year,onChange:w,value:n.getFullYear(),caption:f(n,{locale:s}),children:m.map(function(_){return u.jsx("option",{value:_.getFullYear(),children:f(_,{locale:s})},_.getFullYear())})})}function NQ(e,t){var n=P.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function IQ(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,s=e.fromDate,c=e.numberOfMonths,a=c===void 0?1:c;if(o&&Zv(o,i)<0){var l=-1*(a-1);i=Ma(o,l)}return s&&Zv(i,s)<0&&(i=s),ts(i)}function AQ(){var e=Sr(),t=IQ(e),n=NQ(t,e.month),r=n[0],i=n[1],o=function(s){var c;if(!e.disableNavigation){var a=ts(s);i(a),(c=e.onMonthChange)===null||c===void 0||c.call(e,a)}};return[r,o]}function jQ(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=ts(e),o=ts(Ma(i,r)),s=Zv(o,i),c=[],a=0;a<s;a++){var l=Ma(i,a);c.push(l)}return n&&(c=c.reverse()),c}function DQ(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,s=r?o:1,c=ts(e);if(!n)return Ma(c,s);var a=Zv(n,e);if(!(a<o))return Ma(c,s)}}function MQ(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,s=r?o:1,c=ts(e);if(!n)return Ma(c,-s);var a=Zv(c,n);if(!(a<=0))return Ma(c,-s)}}var DF=P.createContext(void 0);function LQ(e){var t=Sr(),n=AQ(),r=n[0],i=n[1],o=jQ(r,t),s=DQ(r,t),c=MQ(r,t),a=function(p){return o.some(function(m){return xk(p,m)})},l=function(p,m){a(p)||(m&&vF(p,m)?i(Ma(p,1+t.numberOfMonths*-1)):i(p))},f={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:l,previousMonth:c,nextMonth:s,isDateDisplayed:a};return u.jsx(DF.Provider,{value:f,children:e.children})}function Iy(){var e=P.useContext(DF);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function eI(e){var t,n=Sr(),r=n.classNames,i=n.styles,o=n.components,s=Iy().goToMonth,c=function(f){s(Ma(f,e.displayIndex?-e.displayIndex:0))},a=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:AF,l=u.jsx(a,{id:e.id,displayMonth:e.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:l}),u.jsx(OQ,{onChange:c,displayMonth:e.displayMonth}),u.jsx(PQ,{onChange:c,displayMonth:e.displayMonth})]})}function FQ(e){return u.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UQ(e){return u.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var bS=P.forwardRef(function(e,t){var n=Sr(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var s=o.join(" "),c=Wt(Wt({},i.button_reset),i.button);return e.style&&Object.assign(c,e.style),u.jsx("button",Wt({},e,{ref:t,type:"button",className:s,style:c}))});function BQ(e){var t,n,r=Sr(),i=r.dir,o=r.locale,s=r.classNames,c=r.styles,a=r.labels,l=a.labelPrevious,f=a.labelNext,p=r.components;if(!e.nextMonth&&!e.previousMonth)return u.jsx(u.Fragment,{});var m=l(e.previousMonth,{locale:o}),E=[s.nav_button,s.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:o}),y=[s.nav_button,s.nav_button_next].join(" "),w=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:UQ,R=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:FQ;return u.jsxs("div",{className:s.nav,style:c.nav,children:[!e.hidePrevious&&u.jsx(bS,{name:"previous-month","aria-label":m,className:E,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?u.jsx(w,{className:s.nav_icon,style:c.nav_icon}):u.jsx(R,{className:s.nav_icon,style:c.nav_icon})}),!e.hideNext&&u.jsx(bS,{name:"next-month","aria-label":x,className:y,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?u.jsx(R,{className:s.nav_icon,style:c.nav_icon}):u.jsx(w,{className:s.nav_icon,style:c.nav_icon})})]})}function tI(e){var t=Sr().numberOfMonths,n=Iy(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,c=s.findIndex(function(x){return xk(e.displayMonth,x)}),a=c===0,l=c===s.length-1,f=t>1&&(a||!l),p=t>1&&(l||!a),m=function(){r&&o(r)},E=function(){i&&o(i)};return u.jsx(BQ,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:p,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:E})}function $Q(e){var t,n=Sr(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,c=n.components,a=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:AF,l;return i?l=u.jsx(a,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?l=u.jsx(eI,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?l=u.jsxs(u.Fragment,{children:[u.jsx(eI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),u.jsx(tI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):l=u.jsxs(u.Fragment,{children:[u.jsx(a,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),u.jsx(tI,{displayMonth:e.displayMonth,id:e.id})]}),u.jsx("div",{className:r.caption,style:o.caption,children:l})}function VQ(e){var t=Sr(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function zQ(e,t,n){for(var r=n?Vf(new Date):_c(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var s=Po(r,o);i.push(s)}return i}function WQ(){var e=Sr(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,s=e.ISOWeek,c=e.formatters.formatWeekdayName,a=e.labels.labelWeekday,l=zQ(i,o,s);return u.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:t.head_cell}),l.map(function(f,p){return u.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":a(f,{locale:i}),children:c(f,{locale:i})},p)})]})}function HQ(){var e,t=Sr(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:WQ;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(o,{})})}function GQ(e){var t=Sr(),n=t.locale,r=t.formatters.formatDay;return u.jsx(u.Fragment,{children:r(e.date,{locale:n})})}var wk=P.createContext(void 0);function qQ(e){if(!Py(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return u.jsx(wk.Provider,{value:t,children:e.children})}return u.jsx(KQ,{initialProps:e.initialProps,children:e.children})}function KQ(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,s=function(l,f,p){var m,E;(m=t.onDayClick)===null||m===void 0||m.call(t,l,f,p);var x=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var y=!!(!f.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var w=r?NF([],r):[];if(f.selected){var R=w.findIndex(function(_){return Yo(l,_)});w.splice(R,1)}else w.push(l);(E=t.onSelect)===null||E===void 0||E.call(t,w,l,f,p)}}},c={disabled:[]};r&&c.disabled.push(function(l){var f=o&&r.length>o-1,p=r.some(function(m){return Yo(m,l)});return!!(f&&!p)});var a={selected:r,onDayClick:s,modifiers:c};return u.jsx(wk.Provider,{value:a,children:n})}function Ek(){var e=P.useContext(wk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function YQ(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Yo(i,e)&&Yo(r,e)?void 0:Yo(i,e)?{from:i,to:void 0}:Yo(r,e)?void 0:e1(r,e)?{from:e,to:i}:{from:r,to:e}:i?e1(e,i)?{from:i,to:e}:{from:e,to:i}:r?vF(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Ck=P.createContext(void 0);function QQ(e){if(!Ny(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(Ck.Provider,{value:t,children:e.children})}return u.jsx(XQ,{initialProps:e.initialProps,children:e.children})}function XQ(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,s=i.to,c=t.min,a=t.max,l=function(E,x,y){var w,R;(w=t.onDayClick)===null||w===void 0||w.call(t,E,x,y);var _=YQ(E,r);(R=t.onSelect)===null||R===void 0||R.call(t,_,E,x,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],s?(f.range_end=[s],Yo(o,s)||(f.range_middle=[{after:o,before:s}])):f.range_end=[o]):s&&(f.range_start=[s],f.range_end=[s]),c&&(o&&!s&&f.disabled.push({after:nC(o,c-1),before:Po(o,c-1)}),o&&s&&f.disabled.push({after:o,before:Po(o,c-1)}),!o&&s&&f.disabled.push({after:nC(s,c-1),before:Po(s,c-1)})),a){if(o&&!s&&(f.disabled.push({before:Po(o,-a+1)}),f.disabled.push({after:Po(o,a-1)})),o&&s){var p=pc(s,o)+1,m=a-p;f.disabled.push({before:nC(o,m)}),f.disabled.push({after:Po(s,m)})}!o&&s&&(f.disabled.push({before:Po(s,-a+1)}),f.disabled.push({after:Po(s,a-1)}))}return u.jsx(Ck.Provider,{value:{selected:r,onDayClick:l,modifiers:f},children:n})}function Tk(){var e=P.useContext(Ck);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $b(e){return Array.isArray(e)?NF([],e):e!==void 0?[e]:[]}function JQ(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=$b(i)}),t}var La;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(La||(La={}));var ZQ=La.Selected,Kc=La.Disabled,eX=La.Hidden,tX=La.Today,iC=La.RangeEnd,oC=La.RangeMiddle,sC=La.RangeStart,nX=La.Outside;function rX(e,t,n){var r,i=(r={},r[ZQ]=$b(e.selected),r[Kc]=$b(e.disabled),r[eX]=$b(e.hidden),r[tX]=[e.today],r[iC]=[],r[oC]=[],r[sC]=[],r[nX]=[],r);return e.fromDate&&i[Kc].push({before:e.fromDate}),e.toDate&&i[Kc].push({after:e.toDate}),Py(e)?i[Kc]=i[Kc].concat(t.modifiers[Kc]):Ny(e)&&(i[Kc]=i[Kc].concat(n.modifiers[Kc]),i[sC]=n.modifiers[sC],i[oC]=n.modifiers[oC],i[iC]=n.modifiers[iC]),i}var MF=P.createContext(void 0);function iX(e){var t=Sr(),n=Ek(),r=Tk(),i=rX(t,n,r),o=JQ(t.modifiers),s=Wt(Wt({},i),o);return u.jsx(MF.Provider,{value:s,children:e.children})}function LF(){var e=P.useContext(MF);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function oX(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function sX(e){return!!(e&&typeof e=="object"&&"from"in e)}function aX(e){return!!(e&&typeof e=="object"&&"after"in e)}function cX(e){return!!(e&&typeof e=="object"&&"before"in e)}function lX(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function uX(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=pc(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=pc(e,r)>=0&&pc(i,e)>=0;return s}return i?Yo(i,e):r?Yo(r,e):!1}function dX(e){return vk(e)}function fX(e){return Array.isArray(e)&&e.every(vk)}function hX(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(dX(n))return Yo(e,n);if(fX(n))return n.includes(e);if(sX(n))return uX(e,n);if(lX(n))return n.dayOfWeek.includes(e.getDay());if(oX(n)){var r=pc(n.before,e),i=pc(n.after,e),o=r>0,s=i<0,c=e1(n.before,n.after);return c?s&&o:o||s}return aX(n)?pc(e,n.after)>0:cX(n)?pc(n.before,e)>0:typeof n=="function"?n(e):!1})}function Rk(e,t,n){var r=Object.keys(t).reduce(function(o,s){var c=t[s];return hX(e,c)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!xk(e,n)&&(i.outside=!0),i}function pX(e,t){for(var n=ts(e[0]),r=yk(e[e.length-1]),i,o,s=n;s<=r;){var c=Rk(s,t),a=!c.disabled&&!c.hidden;if(!a){s=Po(s,1);continue}if(c.selected)return s;c.today&&!o&&(o=s),i||(i=s),s=Po(s,1)}return o||i}var mX=365;function FF(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,s=t.retry,c=s===void 0?{count:0,lastFocused:e}:s,a=i.weekStartsOn,l=i.fromDate,f=i.toDate,p=i.locale,m={day:Po,week:ZT,month:Ma,year:WK,startOfWeek:function(w){return i.ISOWeek?Vf(w):_c(w,{locale:p,weekStartsOn:a})},endOfWeek:function(w){return i.ISOWeek?dF(w):bk(w,{locale:p,weekStartsOn:a})}},E=m[n](e,r==="after"?1:-1);r==="before"&&l?E=HK([l,E]):r==="after"&&f&&(E=GK([f,E]));var x=!0;if(o){var y=Rk(E,o);x=!y.disabled&&!y.hidden}return x?E:c.count>mX?c.lastFocused:FF(E,{moveBy:n,direction:r,context:i,modifiers:o,retry:Wt(Wt({},c),{count:c.count+1})})}var UF=P.createContext(void 0);function gX(e){var t=Iy(),n=LF(),r=P.useState(),i=r[0],o=r[1],s=P.useState(),c=s[0],a=s[1],l=pX(t.displayMonths,n),f=i??(c&&t.isDateDisplayed(c))?c:l,p=function(){a(i),o(void 0)},m=function(w){o(w)},E=Sr(),x=function(w,R){if(i){var _=FF(i,{moveBy:w,direction:R,context:E,modifiers:n});Yo(i,_)||(t.goToDate(_,i),m(_))}},y={focusedDay:i,focusTarget:f,blur:p,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return u.jsx(UF.Provider,{value:y,children:e.children})}function kk(){var e=P.useContext(UF);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function vX(e,t){var n=LF(),r=Rk(e,n,t);return r}var Ok=P.createContext(void 0);function yX(e){if(!V_(e.initialProps)){var t={selected:void 0};return u.jsx(Ok.Provider,{value:t,children:e.children})}return u.jsx(bX,{initialProps:e.initialProps,children:e.children})}function bX(e){var t=e.initialProps,n=e.children,r=function(o,s,c){var a,l,f;if((a=t.onDayClick)===null||a===void 0||a.call(t,o,s,c),s.selected&&!t.required){(l=t.onSelect)===null||l===void 0||l.call(t,void 0,o,s,c);return}(f=t.onSelect)===null||f===void 0||f.call(t,o,o,s,c)},i={selected:t.selected,onDayClick:r};return u.jsx(Ok.Provider,{value:i,children:n})}function BF(){var e=P.useContext(Ok);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function xX(e,t){var n=Sr(),r=BF(),i=Ek(),o=Tk(),s=kk(),c=s.focusDayAfter,a=s.focusDayBefore,l=s.focusWeekAfter,f=s.focusWeekBefore,p=s.blur,m=s.focus,E=s.focusMonthBefore,x=s.focusMonthAfter,y=s.focusYearBefore,w=s.focusYearAfter,R=s.focusStartOfWeek,_=s.focusEndOfWeek,C=function(ve){var Y,Q,ne,fe;V_(n)?(Y=r.onDayClick)===null||Y===void 0||Y.call(r,e,t,ve):Py(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,ve):Ny(n)?(ne=o.onDayClick)===null||ne===void 0||ne.call(o,e,t,ve):(fe=n.onDayClick)===null||fe===void 0||fe.call(n,e,t,ve)},I=function(ve){var Y;m(e),(Y=n.onDayFocus)===null||Y===void 0||Y.call(n,e,t,ve)},j=function(ve){var Y;p(),(Y=n.onDayBlur)===null||Y===void 0||Y.call(n,e,t,ve)},U=function(ve){var Y;(Y=n.onDayMouseEnter)===null||Y===void 0||Y.call(n,e,t,ve)},V=function(ve){var Y;(Y=n.onDayMouseLeave)===null||Y===void 0||Y.call(n,e,t,ve)},z=function(ve){var Y;(Y=n.onDayPointerEnter)===null||Y===void 0||Y.call(n,e,t,ve)},q=function(ve){var Y;(Y=n.onDayPointerLeave)===null||Y===void 0||Y.call(n,e,t,ve)},X=function(ve){var Y;(Y=n.onDayTouchCancel)===null||Y===void 0||Y.call(n,e,t,ve)},J=function(ve){var Y;(Y=n.onDayTouchEnd)===null||Y===void 0||Y.call(n,e,t,ve)},G=function(ve){var Y;(Y=n.onDayTouchMove)===null||Y===void 0||Y.call(n,e,t,ve)},ee=function(ve){var Y;(Y=n.onDayTouchStart)===null||Y===void 0||Y.call(n,e,t,ve)},ce=function(ve){var Y;(Y=n.onDayKeyUp)===null||Y===void 0||Y.call(n,e,t,ve)},xe=function(ve){var Y;switch(ve.key){case"ArrowLeft":ve.preventDefault(),ve.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowRight":ve.preventDefault(),ve.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowDown":ve.preventDefault(),ve.stopPropagation(),l();break;case"ArrowUp":ve.preventDefault(),ve.stopPropagation(),f();break;case"PageUp":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?y():E();break;case"PageDown":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?w():x();break;case"Home":ve.preventDefault(),ve.stopPropagation(),R();break;case"End":ve.preventDefault(),ve.stopPropagation(),_();break}(Y=n.onDayKeyDown)===null||Y===void 0||Y.call(n,e,t,ve)},Se={onClick:C,onFocus:I,onBlur:j,onKeyDown:xe,onKeyUp:ce,onMouseEnter:U,onMouseLeave:V,onPointerEnter:z,onPointerLeave:q,onTouchCancel:X,onTouchEnd:J,onTouchMove:G,onTouchStart:ee};return Se}function SX(){var e=Sr(),t=BF(),n=Ek(),r=Tk(),i=V_(e)?t.selected:Py(e)?n.selected:Ny(e)?r.selected:void 0;return i}function _X(e){return Object.values(La).includes(e)}function wX(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(_X(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function EX(e,t){var n=Wt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Wt(Wt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function CX(e,t,n){var r,i,o,s=Sr(),c=kk(),a=vX(e,t),l=xX(e,a),f=SX(),p=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var U;a.outside||c.focusedDay&&p&&Yo(c.focusedDay,e)&&((U=n.current)===null||U===void 0||U.focus())},[c.focusedDay,e,n,p,a.outside]);var m=wX(s,a).join(" "),E=EX(s,a),x=!!(a.outside&&!s.showOutsideDays||a.hidden),y=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:GQ,w=u.jsx(y,{date:e,displayMonth:t,activeModifiers:a}),R={style:E,className:m,children:w,role:"gridcell"},_=c.focusTarget&&Yo(c.focusTarget,e)&&!a.outside,C=c.focusedDay&&Yo(c.focusedDay,e),I=Wt(Wt(Wt({},R),(r={disabled:a.disabled,role:"gridcell"},r["aria-selected"]=a.selected,r.tabIndex=C||_?0:-1,r)),l),j={isButton:p,isHidden:x,activeModifiers:a,selectedDays:f,buttonProps:I,divProps:R};return j}function TX(e){var t=P.useRef(null),n=CX(e.date,e.displayMonth,t);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(bS,Wt({name:"day",ref:t},n.buttonProps)):u.jsx("div",Wt({},n.divProps))}function RX(e){var t=e.number,n=e.dates,r=Sr(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,c=r.locale,a=r.labels.labelWeekNumber,l=r.formatters.formatWeekNumber,f=l(Number(t),{locale:c});if(!i)return u.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:f});var p=a(Number(t),{locale:c}),m=function(E){i(t,n,E)};return u.jsx(bS,{name:"week-number","aria-label":p,className:s.weeknumber,style:o.weeknumber,onClick:m,children:f})}function kX(e){var t,n,r=Sr(),i=r.styles,o=r.classNames,s=r.showWeekNumber,c=r.components,a=(t=c==null?void 0:c.Day)!==null&&t!==void 0?t:TX,l=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:RX,f;return s&&(f=u.jsx("td",{className:o.cell,style:i.cell,children:u.jsx(l,{number:e.weekNumber,dates:e.dates})})),u.jsxs("tr",{className:o.row,style:i.row,children:[f,e.dates.map(function(p){return u.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:u.jsx(a,{displayMonth:e.displayMonth,date:p})},HY(p))})]})}function nI(e,t,n){for(var r=n!=null&&n.ISOWeek?dF(t):bk(t,n),i=n!=null&&n.ISOWeek?Vf(e):_c(e,n),o=pc(r,i),s=[],c=0;c<=o;c++)s.push(Po(i,c));var a=s.reduce(function(l,f){var p=n!=null&&n.ISOWeek?hF(f):mF(f,n),m=l.find(function(E){return E.weekNumber===p});return m?(m.dates.push(f),l):(l.push({weekNumber:p,dates:[f]}),l)},[]);return a}function OX(e,t){var n=nI(ts(e),yk(e),t);if(t!=null&&t.useFixedWeeks){var r=qY(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=ZT(o,6-r),c=nI(ZT(o,1),s,t);n.push.apply(n,c)}}return n}function PX(e){var t,n,r,i=Sr(),o=i.locale,s=i.classNames,c=i.styles,a=i.hideHead,l=i.fixedWeeks,f=i.components,p=i.weekStartsOn,m=i.firstWeekContainsDate,E=i.ISOWeek,x=OX(e.displayMonth,{useFixedWeeks:!!l,ISOWeek:E,locale:o,weekStartsOn:p,firstWeekContainsDate:m}),y=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:HQ,w=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:kX,R=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:VQ;return u.jsxs("table",{id:e.id,className:s.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!a&&u.jsx(y,{}),u.jsx("tbody",{className:s.tbody,style:c.tbody,children:x.map(function(_){return u.jsx(w,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),u.jsx(R,{displayMonth:e.displayMonth})]})}function NX(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var IX=NX()?P.useLayoutEffect:P.useEffect,aC=!1,AX=0;function rI(){return"react-day-picker-".concat(++AX)}function jX(e){var t,n=e??(aC?rI():null),r=P.useState(n),i=r[0],o=r[1];return IX(function(){i===null&&o(rI())},[]),P.useEffect(function(){aC===!1&&(aC=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function DX(e){var t,n,r=Sr(),i=r.dir,o=r.classNames,s=r.styles,c=r.components,a=Iy().displayMonths,l=jX(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,p=[o.month],m=s.month,E=e.displayIndex===0,x=e.displayIndex===a.length-1,y=!E&&!x;i==="rtl"&&(t=[E,x],x=t[0],E=t[1]),E&&(p.push(o.caption_start),m=Wt(Wt({},m),s.caption_start)),x&&(p.push(o.caption_end),m=Wt(Wt({},m),s.caption_end)),y&&(p.push(o.caption_between),m=Wt(Wt({},m),s.caption_between));var w=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:$Q;return u.jsxs("div",{className:p.join(" "),style:m,children:[u.jsx(w,{id:l,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),u.jsx(PX,{id:f,"aria-labelledby":l,displayMonth:e.displayMonth})]},e.displayIndex)}function MX(e){var t=Sr(),n=t.classNames,r=t.styles;return u.jsx("div",{className:n.months,style:r.months,children:e.children})}function LX(e){var t,n,r=e.initialProps,i=Sr(),o=kk(),s=Iy(),c=P.useState(!1),a=c[0],l=c[1];P.useEffect(function(){i.initialFocus&&o.focusTarget&&(a||(o.focus(o.focusTarget),l(!0)))},[i.initialFocus,a,o.focus,o.focusTarget,o]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var p=Wt(Wt({},i.styles.root),i.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var w;return Wt(Wt({},x),(w={},w[y]=r[y],w))},{}),E=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:MX;return u.jsx("div",Wt({className:f.join(" "),style:p,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:u.jsx(E,{children:s.displayMonths.map(function(x,y){return u.jsx(DX,{displayIndex:y,displayMonth:x},y)})})}))}function FX(e){var t=e.children,n=cQ(e,["children"]);return u.jsx(RQ,{initialProps:n,children:u.jsx(LQ,{children:u.jsx(yX,{initialProps:n,children:u.jsx(qQ,{initialProps:n,children:u.jsx(QQ,{initialProps:n,children:u.jsx(iX,{children:u.jsx(gX,{children:t})})})})})})})}function UX(e){return u.jsx(FX,Wt({},e,{children:u.jsx(LX,{initialProps:e})}))}function Zp({className:e,classNames:t,showOutsideDays:n=!0,...r}){return u.jsx(UX,{showOutsideDays:n,className:it("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:it(VT({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:it(VT({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>u.jsx(Gz,{className:"h-4 w-4"}),IconRight:({...i})=>u.jsx(PR,{className:"h-4 w-4"})},...r})}Zp.displayName="Calendar";var Pk="Dialog",[$F,_ae]=Rc(Pk),[BX,Ua]=$F(Pk),VF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,c=P.useRef(null),a=P.useRef(null),[l=!1,f]=pl({prop:r,defaultProp:i,onChange:o});return u.jsx(BX,{scope:t,triggerRef:c,contentRef:a,contentId:vc(),titleId:vc(),descriptionId:vc(),open:l,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(p=>!p),[f]),modal:s,children:n})};VF.displayName=Pk;var zF="DialogTrigger",$X=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(zF,n),o=xn(t,i.triggerRef);return u.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ak(i.open),...r,ref:o,onClick:Ke(e.onClick,i.onOpenToggle)})});$X.displayName=zF;var Nk="DialogPortal",[VX,WF]=$F(Nk,{forceMount:void 0}),HF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Ua(Nk,t);return u.jsx(VX,{scope:t,forceMount:n,children:P.Children.map(r,s=>u.jsx(uo,{present:n||o.open,children:u.jsx(hm,{asChild:!0,container:i,children:s})}))})};HF.displayName=Nk;var xS="DialogOverlay",GF=P.forwardRef((e,t)=>{const n=WF(xS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ua(xS,e.__scopeDialog);return o.modal?u.jsx(uo,{present:r||o.open,children:u.jsx(zX,{...i,ref:t})}):null});GF.displayName=xS;var zX=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(xS,n);return u.jsx(_y,{as:xc,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Pt.div,{"data-state":Ak(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),zf="DialogContent",qF=P.forwardRef((e,t)=>{const n=WF(zf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ua(zf,e.__scopeDialog);return u.jsx(uo,{present:r||o.open,children:o.modal?u.jsx(WX,{...i,ref:t}):u.jsx(HX,{...i,ref:t})})});qF.displayName=zf;var WX=P.forwardRef((e,t)=>{const n=Ua(zf,e.__scopeDialog),r=P.useRef(null),i=xn(t,n.contentRef,r);return P.useEffect(()=>{const o=r.current;if(o)return D_(o)},[]),u.jsx(KF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&o.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault())})}),HX=P.forwardRef((e,t)=>{const n=Ua(zf,e.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return u.jsx(KF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var a,l;(a=e.onInteractOutside)==null||a.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),KF=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,c=Ua(zf,n),a=P.useRef(null),l=xn(t,a);return k_(),u.jsxs(u.Fragment,{children:[u.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(fm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ak(c.open),...s,ref:l,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(GX,{titleId:c.titleId}),u.jsx(KX,{contentRef:a,descriptionId:c.descriptionId})]})]})}),Ik="DialogTitle",YF=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(Ik,n);return u.jsx(Pt.h2,{id:i.titleId,...r,ref:t})});YF.displayName=Ik;var QF="DialogDescription",XF=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(QF,n);return u.jsx(Pt.p,{id:i.descriptionId,...r,ref:t})});XF.displayName=QF;var JF="DialogClose",ZF=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ua(JF,n);return u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});ZF.displayName=JF;function Ak(e){return e?"open":"closed"}var eU="DialogTitleWarning",[wae,tU]=nz(eU,{contentName:zf,titleName:Ik,docsSlug:"dialog"}),GX=({titleId:e})=>{const t=tU(eU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},qX="DialogDescriptionWarning",KX=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tU(qX).contentName}}.`;return P.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},YX=VF,QX=HF,nU=GF,rU=qF,iU=YF,oU=XF,sU=ZF;const ld=YX,XX=QX,JX=sU,aU=P.forwardRef(({className:e,...t},n)=>u.jsx(nU,{ref:n,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aU.displayName=nU.displayName;const _l=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(XX,{children:[u.jsx(aU,{}),u.jsxs(rU,{ref:r,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(sU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ad,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_l.displayName=rU.displayName;const wl=({className:e,...t})=>u.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wl.displayName="DialogHeader";const El=P.forwardRef(({className:e,...t},n)=>u.jsx(iU,{ref:n,className:it("text-lg font-semibold leading-none tracking-tight",e),...t}));El.displayName=iU.displayName;const ZX=P.forwardRef(({className:e,...t},n)=>u.jsx(oU,{ref:n,className:it("text-sm text-muted-foreground",e),...t}));ZX.displayName=oU.displayName;const eJ=({defaultValues:e,onSubmit:t,onCancel:n})=>{const r=th({defaultValues:e});return u.jsx(nh,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-4",children:[u.jsx(nn,{control:r.control,name:"mobile",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Mobile"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter mobile",...i,readOnly:!0})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:r.control,name:"dob",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Date of Birth"}),u.jsx(vn,{children:u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!i.value&&"text-muted-foreground"),children:[i.value?ns(i.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(Jp,{className:"w-auto p-0",align:"start",children:u.jsx(Zp,{mode:"single",selected:i.value,onSelect:i.onChange,initialFocus:!0})})]})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:r.control,name:"balance",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Balance"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"0",...i,onChange:o=>i.onChange(Number(o.target.value))})}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:i=>{i.preventDefault(),r.reset(),n()},children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Update"})]})]})})},tJ=({open:e,setOpen:t,defaultValues:n,onUpdate:r})=>{const i=()=>{t(!1)};return u.jsx(ld,{open:e,onOpenChange:t,children:u.jsxs(_l,{children:[u.jsx(wl,{children:u.jsx(El,{children:"Edit User"})}),u.jsx(eJ,{defaultValues:n,onSubmit:r,onCancel:i})]})})},As=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:it("w-full caption-bottom text-sm",e),...t})}));As.displayName="Table";const js=P.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:it("[&_tr]:border-b",e),...t}));js.displayName="TableHeader";const Ds=P.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:it("[&_tr:last-child]:border-0",e),...t}));Ds.displayName="TableBody";const nJ=P.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:it("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nJ.displayName="TableFooter";const Tn=P.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:it("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Tn.displayName="TableRow";const qe=P.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:it("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qe.displayName="TableHead";const Fe=P.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:it("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableCell";const rJ=P.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:it("mt-4 text-sm text-muted-foreground",e),...t}));rJ.displayName="TableCaption";const iJ=({users:e,isLoading:t,handleEdit:n,handleToggleStatus:r})=>{const i=Sl();return u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Role"}),u.jsx(qe,{children:"Date of Birth"}),u.jsx(qe,{children:"Language"}),u.jsx(qe,{children:" Point"}),u.jsx(qe,{children:"Balance"}),u.jsx(qe,{children:"Refer Code"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Last Login"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:t?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):e.map(o=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:o.mobile}),u.jsx(Fe,{children:o.userRole}),u.jsx(Fe,{children:o.dob?new Date(o.dob).toLocaleDateString():"-"}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o.lang})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o==null?void 0:o.points})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o==null?void 0:o.balance})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex flex-col items-start",children:o.referralCode})}),u.jsxs(Fe,{children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.isVerified?"Verified":"Not Verified"}),o.isBlocked&&u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 ms-2",children:"Blocked"})]}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(o.lastLoginAt).toLocaleDateString()}),u.jsx("span",{children:new Date(o.lastLoginAt).toLocaleTimeString()})]})}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>n(o),children:u.jsx(NR,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>r(o._id),children:u.jsx(Vz,{className:"h-4 w-4 text-red-600"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{i(`/dashboard/userDetails/${o._id}`)},children:u.jsx(Yz,{className:"h-4 w-4"})})]})})]},o._id))})]})})},oJ=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),[i,o]=P.useState(""),{users:s,isLoading:c,currentPage:a,totalPages:l}=Mn(y=>y.user),f=Yn();P.useEffect(()=>{p(1)},[i]);const p=y=>{f(Lb({page:y,search:i}))},m=y=>{f(Fb(y))},E=y=>{r(y),t(!0)},x=y=>{f(Ub({mobile:y.mobile,dob:y.dob,balance:y.balance})).then(w=>{w.type==="updateUser/fulfilled"&&(t(!1),Uu({title:"User updated successfully",description:"User details has been updated successfully"}))})};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Users Management"})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search user by mobile",value:i,onChange:y=>{o(y.target.value)},className:"max-w-sm"})}),u.jsx(tJ,{open:e,setOpen:t,defaultValues:n,onUpdate:x}),u.jsx(iJ,{users:s,isLoading:c,handleEdit:E,handleToggleStatus:m}),l>=1&&u.jsx(sa,{currentPage:a,totalPages:l,onPageChange:p})]})},iI=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ve(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},cU=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?iI(r.ref,n,e):r.refs&&r.refs.forEach(i=>iI(i,n,e))}},sJ=(e,t)=>{t.shouldUseNativeValidation&&cU(e,t);const n={};for(const r in e){const i=Ve(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(aJ(t.names||Object.keys(e),r)){const s=Object.assign({},Ve(n,r));Hn(s,"root",o),Hn(n,r,s)}else Hn(n,r,o)}return n},aJ=(e,t)=>e.some(n=>n.startsWith(t+"."));var cJ=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[s]={message:c.message,type:c.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return e.push(p)})}),t){var a=n[s].types,l=a&&a[r.code];n[s]=tF(s,t,n,i,l?[].concat(l,r.message):r.message)}e.shift()}return n},Ay=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,c){try{var a=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return o.shouldUseNativeValidation&&cU({},o),{errors:{},values:n.raw?r:l}})}catch(l){return c(l)}return a&&a.then?a.then(void 0,c):a}(0,function(s){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(s))return{values:{},errors:sJ(cJ(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}};const rh=P.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));rh.displayName="Textarea";function lJ({form:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsx(nn,{control:e.control,name:"title",render:({field:t})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter quiz title",...t})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:e.control,name:"description",render:({field:t})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Description"}),u.jsx(vn,{children:u.jsx(rh,{placeholder:"Enter quiz description",...t})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:e.control,name:"bonusPercent",render:({field:t})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Refer Percentage"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Enter refer bonus percentage",...t,onChange:n=>t.onChange(Number(n.target.value))})}),u.jsx(Vt,{})]})})]})}function uJ({form:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(nn,{control:e.control,name:"startDate",render:({field:t})=>u.jsxs(Bt,{className:"flex flex-col",children:[u.jsx($t,{children:"Start Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(Jp,{className:"w-auto p-0",align:"start",children:u.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date||n<new Date("1900-01-01"),initialFocus:!0})})]}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:e.control,name:"endDate",render:({field:t})=>u.jsxs(Bt,{className:"flex flex-col",children:[u.jsx($t,{children:"End Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(Jp,{className:"w-auto p-0",align:"start",children:u.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date||n<new Date("1900-01-01"),initialFocus:!0})})]}),u.jsx(Vt,{})]})})]}),u.jsx(nn,{control:e.control,name:"duration",render:({field:t})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Duration (minutes)"}),u.jsx(vn,{children:u.jsx(sn,{min:0,step:1,type:"number",placeholder:"0",...t,onChange:n=>t.onChange(parseInt(n.target.value))})}),u.jsx(Vt,{})]})})]})}function jk(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Dk="Radio",[dJ,lU]=Rc(Dk),[fJ,hJ]=dJ(Dk),uU=P.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:s,value:c="on",onCheck:a,form:l,...f}=e,[p,m]=P.useState(null),E=xn(t,w=>m(w)),x=P.useRef(!1),y=p?l||!!p.closest("form"):!0;return u.jsxs(fJ,{scope:n,checked:i,disabled:s,children:[u.jsx(Pt.button,{type:"button",role:"radio","aria-checked":i,"data-state":hU(i),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:E,onClick:Ke(e.onClick,w=>{i||a==null||a(),y&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),y&&u.jsx(pJ,{control:p,bubbles:!x.current,name:r,value:c,checked:i,required:o,disabled:s,form:l,style:{transform:"translateX(-100%)"}})]})});uU.displayName=Dk;var dU="RadioIndicator",fU=P.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=hJ(dU,n);return u.jsx(uo,{present:r||o.checked,children:u.jsx(Pt.span,{"data-state":hU(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});fU.displayName=dU;var pJ=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=P.useRef(null),s=jk(n),c=qR(t);return P.useEffect(()=>{const a=o.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(a,n),a.dispatchEvent(m)}},[s,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hU(e){return e?"checked":"unchecked"}var mJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mk="RadioGroup",[gJ,Eae]=Rc(Mk,[j_,lU]),pU=j_(),mU=lU(),[vJ,yJ]=gJ(Mk),gU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:s=!1,disabled:c=!1,orientation:a,dir:l,loop:f=!0,onValueChange:p,...m}=e,E=pU(n),x=by(l),[y,w]=pl({prop:o,defaultProp:i,onChange:p});return u.jsx(vJ,{scope:n,name:r,required:s,disabled:c,value:y,onValueChange:w,children:u.jsx(VL,{asChild:!0,...E,orientation:a,dir:x,loop:f,children:u.jsx(Pt.div,{role:"radiogroup","aria-required":s,"aria-orientation":a,"data-disabled":c?"":void 0,dir:x,...m,ref:t})})})});gU.displayName=Mk;var vU="RadioGroupItem",yU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=yJ(vU,n),s=o.disabled||r,c=pU(n),a=mU(n),l=P.useRef(null),f=xn(t,l),p=o.value===i.value,m=P.useRef(!1);return P.useEffect(()=>{const E=y=>{mJ.includes(y.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",x)}},[]),u.jsx(zL,{asChild:!0,...c,focusable:!s,active:p,children:u.jsx(uU,{disabled:s,required:o.required,checked:p,...a,...i,name:o.name,ref:f,onCheck:()=>o.onValueChange(i.value),onKeyDown:Ke(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:Ke(i.onFocus,()=>{var E;m.current&&((E=l.current)==null||E.click())})})})});yU.displayName=vU;var bJ="RadioGroupIndicator",bU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=mU(n);return u.jsx(fU,{...i,...r,ref:t})});bU.displayName=bJ;var xU=gU,SU=yU,xJ=bU;const _U=P.forwardRef(({className:e,...t},n)=>u.jsx(xU,{className:it("grid gap-2",e),...t,ref:n}));_U.displayName=xU.displayName;const wU=P.forwardRef(({className:e,...t},n)=>u.jsx(SU,{ref:n,className:it("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(xJ,{className:"flex items-center justify-center",children:u.jsx(pM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wU.displayName=SU.displayName;function SJ({form:e}){const t=e.watch("questions")||[],n=()=>{const c=e.getValues("questions")||[];e.setValue("questions",[...c,{question:"",options:[{option:"",isCorrect:!0},{option:"",isCorrect:!1}]}])},r=c=>{const l=[...e.getValues("questions")];l[c].options.push({option:"",isCorrect:!1}),e.setValue("questions",l)},i=c=>{const l=e.getValues("questions").filter((f,p)=>p!==c);e.setValue("questions",l)},o=(c,a)=>{const f=[...e.getValues("questions")];f[c].options=f[c].options.filter((p,m)=>m!==a),e.setValue("questions",f)},s=(c,a)=>{const f=[...e.getValues("questions")];f[c].options=f[c].options.map((p,m)=>({...p,isCorrect:m===a})),e.setValue("questions",f)};return u.jsxs("div",{className:"space-y-6",children:[t.map((c,a)=>{var l,f;return u.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:"font-medium",children:["Question ",a+1]}),u.jsx(Ot,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(a),children:u.jsx(TT,{className:"h-4 w-4"})})]}),u.jsx(nn,{control:e.control,name:`questions.${a}.question`,render:({field:p})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Question Text"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter question",...p})}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx($t,{children:"Options"}),u.jsx(_U,{onValueChange:p=>s(a,parseInt(p)),value:(l=c==null?void 0:c.options)==null?void 0:l.findIndex(p=>p.isCorrect).toString(),children:(f=c==null?void 0:c.options)==null?void 0:f.map((p,m)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(wU,{value:m.toString(),id:`q${a}-opt${m}`}),u.jsx(nn,{control:e.control,name:`questions.${a}.options.${m}.option`,render:({field:E})=>u.jsxs(Bt,{className:"flex-1",children:[u.jsx(vn,{children:u.jsx(sn,{placeholder:`Option ${m+1}`,...E})}),u.jsx(Vt,{})]})}),c.options.length>2&&u.jsx(Ot,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(a,m),children:u.jsx(TT,{className:"h-4 w-4"})})]},m))}),u.jsxs(Ot,{type:"button",variant:"outline",size:"sm",onClick:()=>r(a),children:[u.jsx(Yu,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]},a)}),u.jsxs(Ot,{type:"button",variant:"outline",onClick:n,children:[u.jsx(Yu,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})}var jn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),s={};for(const c of o)s[c]=i[c];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(jn||(jn={}));var oI;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(oI||(oI={}));const tt=jn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ff=e=>{switch(typeof e){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return isNaN(e)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(e)?tt.array:e===null?tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tt.promise:typeof Map<"u"&&e instanceof Map?tt.map:typeof Set<"u"&&e instanceof Set?tt.set:typeof Date<"u"&&e instanceof Date?tt.date:tt.object;default:return tt.unknown}},Be=jn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ra extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let c=r,a=0;for(;a<s.path.length;){const l=s.path[a];a===s.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(n(s))):c[l]=c[l]||{_errors:[]},c=c[l],a++}}};return i(this),r}static assert(t){if(!(t instanceof ra))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,jn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ra.create=e=>new ra(e);const ny=(e,t)=>{let n;switch(e.code){case Be.invalid_type:e.received===tt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,jn.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${jn.joinValues(e.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${jn.joinValues(e.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${jn.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:jn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=t.defaultError,jn.assertNever(e)}return{message:n}};let _J=ny;function t1(){return _J}const n1=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const a=r.filter(l=>!!l).slice().reverse();for(const l of a)c=l(s,{data:t,defaultError:c}).message;return{...i,path:o,message:c}};function et(e,t){const n=t1(),r=n1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ny?void 0:ny].filter(i=>!!i)});e.common.issues.push(r)}class Ao{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return rn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ao.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return rn;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const rn=Object.freeze({status:"aborted"}),ev=e=>({status:"dirty",value:e}),rs=e=>({status:"valid",value:e}),sI=e=>e.status==="aborted",aI=e=>e.status==="dirty",SS=e=>e.status==="valid",_S=e=>typeof Promise<"u"&&e instanceof Promise;function wS(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function EU(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));var tv,nv;class wc{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cI=(e,t)=>{if(SS(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ra(e.common.issues);return this._error=n,this._error}}};function pn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,c)=>{var a,l;const{message:f}=e;return s.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:(a=f??r)!==null&&a!==void 0?a:c.defaultError}:s.code!=="invalid_type"?{message:c.defaultError}:{message:(l=f??n)!==null&&l!==void 0?l:c.defaultError}},description:i}}class wn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ff(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ff(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ao,ctx:{common:t.parent.common,data:t.data,parsedType:ff(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(_S(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ff(t)},o=this._parseSync({data:t,path:i.path,parent:i});return cI(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ff(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(_S(i)?i:Promise.resolve(i));return cI(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),c=()=>o.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(a=>a?!0:(c(),!1)):s?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new bl({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return al.create(this,this._def)}nullable(){return Hf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yc.create(this,this._def)}promise(){return iy.create(this,this._def)}or(t){return TS.create([this,t],this._def)}and(t){return RS.create(this,t,this._def)}transform(t){return new bl({...pn(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new IS({...pn(this._def),innerType:this,defaultValue:n,typeName:Ht.ZodDefault})}brand(){return new kU({typeName:Ht.ZodBranded,type:this,...pn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new AS({...pn(this._def),innerType:this,catchValue:n,typeName:Ht.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return z_.create(this,t)}readonly(){return jS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wJ=/^c[^\s-]{8,}$/i,EJ=/^[0-9a-z]+$/,CJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,TJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RJ=/^[a-z0-9_-]{21}$/i,kJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cC;const NJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IJ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,AJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jJ=new RegExp(`^${CU}$`);function TU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function DJ(e){return new RegExp(`^${TU(e)}$`)}function MJ(e){let t=`${CU}T${TU(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function LJ(e,t){return!!((t==="v4"||!t)&&NJ.test(e)||(t==="v6"||!t)&&IJ.test(e))}class il extends wn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tt.string){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.string,received:o.parsedType}),rn}const r=new Ao;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,c=t.data.length<o.value;(s||c)&&(i=this._getOrReturnCtx(t,i),s?et(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&et(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")OJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"email",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")cC||(cC=new RegExp(PJ,"u")),cC.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"emoji",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")TJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"uuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")RJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"nanoid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")wJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"cuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")EJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"cuid2",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")CJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"ulid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),et(i,{validation:"url",code:Be.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"regex",code:Be.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?MJ(o).test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?jJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?DJ(o).test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?kJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"duration",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?LJ(t.data,o.version)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"ip",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?AJ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"base64",code:Be.invalid_string,message:o.message}),r.dirty()):jn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Be.invalid_string,...xt.errToObj(r)})}_addCheck(t){return new il({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xt.errToObj(n)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new il({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new il({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new il({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}il.create=e=>{var t;return new il({checks:[],typeName:Ht.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pn(e)})};function FJ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class em extends wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tt.number){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.number,received:o.parsedType}),rn}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="int"?jn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),et(r,{code:Be.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?FJ(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_finite,message:o.message}),i.dirty()):jn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xt.toString(n))}setLimit(t,n,r,i){return new em({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xt.toString(i)}]})}_addCheck(t){return new em({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&jn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}em.create=e=>new em({checks:[],typeName:Ht.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pn(e)});class tm extends wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==tt.bigint){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.bigint,received:o.parsedType}),rn}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):jn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xt.toString(n))}setLimit(t,n,r,i){return new tm({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xt.toString(i)}]})}_addCheck(t){return new tm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tm.create=e=>{var t;return new tm({checks:[],typeName:Ht.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pn(e)})};class r1 extends wn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tt.boolean){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.boolean,received:r.parsedType}),rn}return rs(t.data)}}r1.create=e=>new r1({typeName:Ht.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pn(e)});class ry extends wn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tt.date){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.date,received:o.parsedType}),rn}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_date}),rn}const r=new Ao;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):jn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ry({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ry.create=e=>new ry({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ht.ZodDate,...pn(e)});class i1 extends wn{_parse(t){if(this._getType(t)!==tt.symbol){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.symbol,received:r.parsedType}),rn}return rs(t.data)}}i1.create=e=>new i1({typeName:Ht.ZodSymbol,...pn(e)});class ES extends wn{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.undefined,received:r.parsedType}),rn}return rs(t.data)}}ES.create=e=>new ES({typeName:Ht.ZodUndefined,...pn(e)});class CS extends wn{_parse(t){if(this._getType(t)!==tt.null){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.null,received:r.parsedType}),rn}return rs(t.data)}}CS.create=e=>new CS({typeName:Ht.ZodNull,...pn(e)});class o1 extends wn{constructor(){super(...arguments),this._any=!0}_parse(t){return rs(t.data)}}o1.create=e=>new o1({typeName:Ht.ZodAny,...pn(e)});class Pp extends wn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rs(t.data)}}Pp.create=e=>new Pp({typeName:Ht.ZodUnknown,...pn(e)});class td extends wn{_parse(t){const n=this._getOrReturnCtx(t);return et(n,{code:Be.invalid_type,expected:tt.never,received:n.parsedType}),rn}}td.create=e=>new td({typeName:Ht.ZodNever,...pn(e)});class s1 extends wn{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.void,received:r.parsedType}),rn}return rs(t.data)}}s1.create=e=>new s1({typeName:Ht.ZodVoid,...pn(e)});class yc extends wn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==tt.array)return et(n,{code:Be.invalid_type,expected:tt.array,received:n.parsedType}),rn;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(s||c)&&(et(n,{code:s?Be.too_big:Be.too_small,minimum:c?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(et(n,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(et(n,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,c)=>i.type._parseAsync(new wc(n,s,n.path,c)))).then(s=>Ao.mergeArray(r,s));const o=[...n.data].map((s,c)=>i.type._parseSync(new wc(n,s,n.path,c)));return Ao.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new yc({...this._def,minLength:{value:t,message:xt.toString(n)}})}max(t,n){return new yc({...this._def,maxLength:{value:t,message:xt.toString(n)}})}length(t,n){return new yc({...this._def,exactLength:{value:t,message:xt.toString(n)}})}nonempty(t){return this.min(1,t)}}yc.create=(e,t)=>new yc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...pn(t)});function sp(e){if(e instanceof Kr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=al.create(sp(r))}return new Kr({...e._def,shape:()=>t})}else return e instanceof yc?new yc({...e._def,type:sp(e.element)}):e instanceof al?al.create(sp(e.unwrap())):e instanceof Hf?Hf.create(sp(e.unwrap())):e instanceof yl?yl.create(e.items.map(t=>sp(t))):e}class Kr extends wn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=jn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==tt.object){const l=this._getOrReturnCtx(t);return et(l,{code:Be.invalid_type,expected:tt.object,received:l.parsedType}),rn}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),c=[];if(!(this._def.catchall instanceof td&&this._def.unknownKeys==="strip"))for(const l in i.data)s.includes(l)||c.push(l);const a=[];for(const l of s){const f=o[l],p=i.data[l];a.push({key:{status:"valid",value:l},value:f._parse(new wc(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof td){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of c)a.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(l==="strict")c.length>0&&(et(i,{code:Be.unrecognized_keys,keys:c}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of c){const p=i.data[f];a.push({key:{status:"valid",value:f},value:l._parse(new wc(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of a){const p=await f.key,m=await f.value;l.push({key:p,value:m,alwaysSet:f.alwaysSet})}return l}).then(l=>Ao.mergeObjectSync(r,l)):Ao.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,c;const a=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=xt.errToObj(t).message)!==null&&c!==void 0?c:a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ht.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const n={};return jn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Kr({...this._def,shape:()=>n})}omit(t){const n={};return jn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Kr({...this._def,shape:()=>n})}deepPartial(){return sp(this)}partial(t){const n={};return jn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Kr({...this._def,shape:()=>n})}required(t){const n={};return jn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof al;)o=o._def.innerType;n[r]=o}}),new Kr({...this._def,shape:()=>n})}keyof(){return RU(jn.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:td.create(),typeName:Ht.ZodObject,...pn(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:td.create(),typeName:Ht.ZodObject,...pn(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:td.create(),typeName:Ht.ZodObject,...pn(t)});class TS extends wn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const s=o.map(c=>new ra(c.ctx.common.issues));return et(n,{code:Be.invalid_union,unionErrors:s}),rn}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const a of r){const l={...n,common:{...n.common,issues:[]},parent:null},f=a._parseSync({data:n.data,path:n.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=s.map(a=>new ra(a));return et(n,{code:Be.invalid_union,unionErrors:c}),rn}}get options(){return this._def.options}}TS.create=(e,t)=>new TS({options:e,typeName:Ht.ZodUnion,...pn(t)});const Xc=e=>e instanceof OS?Xc(e.schema):e instanceof bl?Xc(e.innerType()):e instanceof PS?[e.value]:e instanceof Wf?e.options:e instanceof NS?jn.objectValues(e.enum):e instanceof IS?Xc(e._def.innerType):e instanceof ES?[void 0]:e instanceof CS?[null]:e instanceof al?[void 0,...Xc(e.unwrap())]:e instanceof Hf?[null,...Xc(e.unwrap())]:e instanceof kU||e instanceof jS?Xc(e.unwrap()):e instanceof AS?Xc(e._def.innerType):[];class Lk extends wn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.object)return et(n,{code:Be.invalid_type,expected:tt.object,received:n.parsedType}),rn;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(et(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=Xc(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of s){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,o)}}return new Lk({typeName:Ht.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...pn(r)})}}function a1(e,t){const n=ff(e),r=ff(t);if(e===t)return{valid:!0,data:e};if(n===tt.object&&r===tt.object){const i=jn.objectKeys(t),o=jn.objectKeys(e).filter(c=>i.indexOf(c)!==-1),s={...e,...t};for(const c of o){const a=a1(e[c],t[c]);if(!a.valid)return{valid:!1};s[c]=a.data}return{valid:!0,data:s}}else if(n===tt.array&&r===tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],c=t[o],a=a1(s,c);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return n===tt.date&&r===tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class RS extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(sI(o)||sI(s))return rn;const c=a1(o.value,s.value);return c.valid?((aI(o)||aI(s))&&n.dirty(),{status:n.value,value:c.data}):(et(r,{code:Be.invalid_intersection_types}),rn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}RS.create=(e,t,n)=>new RS({left:e,right:t,typeName:Ht.ZodIntersection,...pn(n)});class yl extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.array)return et(r,{code:Be.invalid_type,expected:tt.array,received:r.parsedType}),rn;if(r.data.length<this._def.items.length)return et(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rn;!this._def.rest&&r.data.length>this._def.items.length&&(et(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,c)=>{const a=this._def.items[c]||this._def.rest;return a?a._parse(new wc(r,s,r.path,c)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ao.mergeArray(n,s)):Ao.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new yl({...this._def,rest:t})}}yl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yl({items:e,typeName:Ht.ZodTuple,rest:null,...pn(t)})};class kS extends wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.object)return et(r,{code:Be.invalid_type,expected:tt.object,received:r.parsedType}),rn;const i=[],o=this._def.keyType,s=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new wc(r,c,r.path,c)),value:s._parse(new wc(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Ao.mergeObjectAsync(n,i):Ao.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof wn?new kS({keyType:t,valueType:n,typeName:Ht.ZodRecord,...pn(r)}):new kS({keyType:il.create(),valueType:t,typeName:Ht.ZodRecord,...pn(n)})}}class c1 extends wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.map)return et(r,{code:Be.invalid_type,expected:tt.map,received:r.parsedType}),rn;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([c,a],l)=>({key:i._parse(new wc(r,c,r.path,[l,"key"])),value:o._parse(new wc(r,a,r.path,[l,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const a of s){const l=await a.key,f=await a.value;if(l.status==="aborted"||f.status==="aborted")return rn;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(l.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const a of s){const l=a.key,f=a.value;if(l.status==="aborted"||f.status==="aborted")return rn;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(l.value,f.value)}return{status:n.value,value:c}}}}c1.create=(e,t,n)=>new c1({valueType:t,keyType:e,typeName:Ht.ZodMap,...pn(n)});class nm extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.set)return et(r,{code:Be.invalid_type,expected:tt.set,received:r.parsedType}),rn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(et(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(et(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(a){const l=new Set;for(const f of a){if(f.status==="aborted")return rn;f.status==="dirty"&&n.dirty(),l.add(f.value)}return{status:n.value,value:l}}const c=[...r.data.values()].map((a,l)=>o._parse(new wc(r,a,r.path,l)));return r.common.async?Promise.all(c).then(a=>s(a)):s(c)}min(t,n){return new nm({...this._def,minSize:{value:t,message:xt.toString(n)}})}max(t,n){return new nm({...this._def,maxSize:{value:t,message:xt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}nm.create=(e,t)=>new nm({valueType:e,minSize:null,maxSize:null,typeName:Ht.ZodSet,...pn(t)});class vv extends wn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.function)return et(n,{code:Be.invalid_type,expected:tt.function,received:n.parsedType}),rn;function r(c,a){return n1({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t1(),ny].filter(l=>!!l),issueData:{code:Be.invalid_arguments,argumentsError:a}})}function i(c,a){return n1({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t1(),ny].filter(l=>!!l),issueData:{code:Be.invalid_return_type,returnTypeError:a}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof iy){const c=this;return rs(async function(...a){const l=new ra([]),f=await c._def.args.parseAsync(a,o).catch(E=>{throw l.addIssue(r(a,E)),l}),p=await Reflect.apply(s,this,f);return await c._def.returns._def.type.parseAsync(p,o).catch(E=>{throw l.addIssue(i(p,E)),l})})}else{const c=this;return rs(function(...a){const l=c._def.args.safeParse(a,o);if(!l.success)throw new ra([r(a,l.error)]);const f=Reflect.apply(s,this,l.data),p=c._def.returns.safeParse(f,o);if(!p.success)throw new ra([i(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new vv({...this._def,args:yl.create(t).rest(Pp.create())})}returns(t){return new vv({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new vv({args:t||yl.create([]).rest(Pp.create()),returns:n||Pp.create(),typeName:Ht.ZodFunction,...pn(r)})}}class OS extends wn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}OS.create=(e,t)=>new OS({getter:e,typeName:Ht.ZodLazy,...pn(t)});class PS extends wn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return et(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),rn}return{status:"valid",value:t.data}}get value(){return this._def.value}}PS.create=(e,t)=>new PS({value:e,typeName:Ht.ZodLiteral,...pn(t)});function RU(e,t){return new Wf({values:e,typeName:Ht.ZodEnum,...pn(t)})}class Wf extends wn{constructor(){super(...arguments),tv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return et(n,{expected:jn.joinValues(r),received:n.parsedType,code:Be.invalid_type}),rn}if(wS(this,tv)||EU(this,tv,new Set(this._def.values)),!wS(this,tv).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return et(n,{received:n.data,code:Be.invalid_enum_value,options:r}),rn}return rs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Wf.create(t,{...this._def,...n})}exclude(t,n=this._def){return Wf.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}tv=new WeakMap;Wf.create=RU;class NS extends wn{constructor(){super(...arguments),nv.set(this,void 0)}_parse(t){const n=jn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==tt.string&&r.parsedType!==tt.number){const i=jn.objectValues(n);return et(r,{expected:jn.joinValues(i),received:r.parsedType,code:Be.invalid_type}),rn}if(wS(this,nv)||EU(this,nv,new Set(jn.getValidEnumValues(this._def.values))),!wS(this,nv).has(t.data)){const i=jn.objectValues(n);return et(r,{received:r.data,code:Be.invalid_enum_value,options:i}),rn}return rs(t.data)}get enum(){return this._def.values}}nv=new WeakMap;NS.create=(e,t)=>new NS({values:e,typeName:Ht.ZodNativeEnum,...pn(t)});class iy extends wn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.promise&&n.common.async===!1)return et(n,{code:Be.invalid_type,expected:tt.promise,received:n.parsedType}),rn;const r=n.parsedType===tt.promise?n.data:Promise.resolve(n.data);return rs(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}iy.create=(e,t)=>new iy({type:e,typeName:Ht.ZodPromise,...pn(t)});class bl extends wn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{et(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async c=>{if(n.value==="aborted")return rn;const a=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return a.status==="aborted"?rn:a.status==="dirty"||n.value==="dirty"?ev(a.value):a});{if(n.value==="aborted")return rn;const c=this._def.schema._parseSync({data:s,path:r.path,parent:r});return c.status==="aborted"?rn:c.status==="dirty"||n.value==="dirty"?ev(c.value):c}}if(i.type==="refinement"){const s=c=>{const a=i.refinement(c,o);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?rn:(c.status==="dirty"&&n.dirty(),s(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?rn:(c.status==="dirty"&&n.dirty(),s(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!SS(s))return s;const c=i.transform(s.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>SS(s)?Promise.resolve(i.transform(s.value,o)).then(c=>({status:n.value,value:c})):s);jn.assertNever(i)}}bl.create=(e,t,n)=>new bl({schema:e,typeName:Ht.ZodEffects,effect:t,...pn(n)});bl.createWithPreprocess=(e,t,n)=>new bl({schema:t,effect:{type:"preprocess",transform:e},typeName:Ht.ZodEffects,...pn(n)});class al extends wn{_parse(t){return this._getType(t)===tt.undefined?rs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}al.create=(e,t)=>new al({innerType:e,typeName:Ht.ZodOptional,...pn(t)});class Hf extends wn{_parse(t){return this._getType(t)===tt.null?rs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hf.create=(e,t)=>new Hf({innerType:e,typeName:Ht.ZodNullable,...pn(t)});class IS extends wn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===tt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}IS.create=(e,t)=>new IS({innerType:e,typeName:Ht.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pn(t)});class AS extends wn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _S(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ra(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ra(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}AS.create=(e,t)=>new AS({innerType:e,typeName:Ht.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pn(t)});class l1 extends wn{_parse(t){if(this._getType(t)!==tt.nan){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.nan,received:r.parsedType}),rn}return{status:"valid",value:t.data}}}l1.create=e=>new l1({typeName:Ht.ZodNaN,...pn(e)});class kU extends wn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class z_ extends wn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?rn:o.status==="dirty"?(n.dirty(),ev(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new z_({in:t,out:n,typeName:Ht.ZodPipeline})}}class jS extends wn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(SS(i)&&(i.value=Object.freeze(i.value)),i);return _S(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}jS.create=(e,t)=>new jS({innerType:e,typeName:Ht.ZodReadonly,...pn(t)});Kr.lazycreate;var Ht;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const Vn=il.create,kf=em.create;l1.create;tm.create;const DS=r1.create,MS=ry.create;i1.create;ES.create;CS.create;o1.create;Pp.create;td.create;s1.create;const Bu=yc.create,Of=Kr.create;Kr.strictCreate;TS.create;Lk.create;RS.create;yl.create;kS.create;c1.create;nm.create;vv.create;OS.create;PS.create;const UJ=Wf.create;NS.create;iy.create;bl.create;al.create;Hf.create;bl.createWithPreprocess;z_.create;const BJ=Of({title:Vn().min(1,"Title is required").max(100,"Title is too long"),description:Vn().min(1,"Description is required").max(500,"Description is too long"),standard:Vn().min(null,"Standard is required").optional().nullable().default(null),subject:Vn().min(null,"Subject is required").optional().nullable().default(null),startDate:MS({required_error:"Start date is required"}),endDate:MS({required_error:"End date is required"}),duration:kf().min(0,"Duration is not less then 0.").max(480,"Duration cannot exceed 8 hours").default(0).optional(),ageGroup:Vn().min(0,"Age group is required").optional(),price:kf().min(0,"Price cannot be negative").default(0),bonusPercent:kf().min(0,"Refer bonus cannot be negative").optional(),isActive:DS().default(!0),questions:Bu(Of({question:Vn().min(1,"Question text is required"),options:Bu(Of({option:Vn().min(1,"Option text is required"),isCorrect:DS()})).min(2,"At least two options are required")})).min(1,"At least one question is required")}),Vb=wt("create",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.post(G6,e)).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),cl=wt("fetchAll",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.get(K6)).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),lC=wt("fetchStandardById",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.get(q6.replace(":id",e))).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),zb=wt("updateStandard",async({id:e,data:t},{rejectWithValue:n})=>{var r;try{return(await mt.put(Y6.replace(":id",e),t)).data}catch(i){return n(((r=i.response)==null?void 0:r.data)||"Unknown error")}}),Wb=wt("toggleStandardStatus",async(e,{rejectWithValue:t})=>{var n;try{return(await mt.post(Q6,{stdId:e})).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),$J=is({name:"standard",initialState:{standards:[],currentStandard:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Vb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Vb.fulfilled,(t,n)=>{t.isLoading=!1,t.standards.push(n.payload)}).addCase(Vb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to create standard."}).addCase(cl.pending,t=>{t.isLoading=!0,t.error=null}).addCase(cl.fulfilled,(t,n)=>{t.isLoading=!1,t.standards=n.payload}).addCase(cl.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to fetch standards."}).addCase(lC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(lC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentStandard=n.payload}).addCase(lC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to fetch standard by ID."}).addCase(zb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(zb.fulfilled,(t,n)=>{t.isLoading=!1,t.standards=t.standards.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(zb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to update standard."}).addCase(Wb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Wb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.standards.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.standards[r].isActive=!t.standards[r].isActive)}).addCase(Wb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to toggle standard status."})}}),VJ=$J.reducer,zJ={subjects:[],currentsubject:null,isLoading:null,error:null},Hb=wt("createsubject",async(e,{rejectWithValue:t})=>{try{return(await mt.post(X6,e)).data}catch(n){return t(n.response.data)}}),Pf=wt("getAllsubject",async(e,{rejectWithValue:t})=>{try{return(await mt.get(Z6,{params:{standard:e}})).data}catch(n){return t(n.response.data)}}),uC=wt("subjectById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(J6.replace(":id",e))).data}catch(n){return t(n.response.data)}}),Gb=wt("updatasubject",async({id:e,data:t},{rejectWithValue:n})=>{try{return(await mt.put(e8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),qb=wt("togglesubject",async(e,{rejectWithValue:t})=>{try{return(await mt.post(t8,{subjectId:e})).data}catch(n){return t(n.response.data)}}),WJ=is({name:"subject",initialState:zJ,reducers:{},extraReducers:e=>{e.addCase(Hb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Hb.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects.unshift(n.payload)}).addCase(Hb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Pf.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Pf.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects=n.payload}).addCase(Pf.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(uC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(uC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentsubject=n.payload}).addCase(uC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Gb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Gb.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects=t.subjects.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(Gb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(qb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(qb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.subjects.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.subjects[r].isActive=!t.subjects[r].isActive)}).addCase(qb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),HJ=WJ.reducer,$u=({placeholder:e,name:t,control:n,onSearch:r,listing:i,onItemSelect:o,canLocalSearch:s=!0})=>{var x;const[c,a]=P.useState(""),{field:{value:l,onChange:f}}=fk({name:t,control:n}),p=y=>{f(y),o(y)},m=y=>{y.stopPropagation(),f(null),s?a(""):r(""),o("")},E=i==null?void 0:i.filter(y=>{var w;return(w=y==null?void 0:y.label)==null?void 0:w.toLowerCase().includes(c.toLowerCase())});return u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs(ak,{children:[u.jsx(ck,{asChild:!0,children:u.jsx(Ot,{variant:"outline",className:"w-full justify-between",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsx("span",{className:"font-normal",children:l?(x=i.find(y=>y.id===l))==null?void 0:x.label:e}),!l&&u.jsx(v_,{className:"h-4 w-4 ml-2 text-gray-500"})]})})}),u.jsxs(U_,{className:"w-64 max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"sticky top-0 bg-white p-2 z-10",children:u.jsx(sn,{placeholder:"Search...",value:c,onChange:y=>{s?a(y.target.value):r(y.target.value)},className:"mb-2"})}),E.map(y=>u.jsx(lk,{onSelect:()=>p(y.id),className:`flex items-center space-x-2 ${l===y.id?"bg-gray-200":""}`,children:u.jsx("span",{children:y.label})},y.id))]})]}),l&&u.jsx(Ot,{variant:"ghost",size:"icon",className:"absolute right-0",onClick:m,children:u.jsx(ad,{className:"h-4 w-4 text-gray-500"})})]})};function GJ({form:e}){const{standards:t,isLoading:n}=Mn(a=>a.standard),{subjects:r,isLoading:i}=Mn(a=>a.subject),o=Yn();P.useEffect(()=>{s(),c("")},[]);const s=()=>{o(cl())},c=a=>{o(Pf(a))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(nn,{control:e.control,name:"standard",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Standard"}),n?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select standard",name:"standard",control:e.control,onSearch:()=>{},listing:t.map(l=>({id:l._id,label:l.std})),onItemSelect:l=>c(l)}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:e.control,name:"subject",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Subject"}),i?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select subject",name:"subject",control:e.control,onSearch:()=>{},listing:r.map(l=>{var f;return{id:l._id,label:l.standard?l.subject+" - "+((f=l.standard)==null?void 0:f.std):l.subject}}),onItemSelect:l=>{}}),u.jsx(Vt,{})]})})]}),u.jsx(nn,{control:e.control,name:"ageGroup",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Age Group"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"e.g., 8-12 years",...a})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:e.control,name:"price",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Price"}),u.jsx(vn,{children:u.jsx(sn,{min:0,step:1,type:"number",placeholder:"0",...a,onChange:l=>a.onChange(Number(l.target.value))})}),u.jsx(Vt,{})]})})]})}const Kb=wt("quiz/createQuiz",async(e,{rejectWithValue:t})=>{try{return(await mt.post(g8,e)).data}catch(n){return t(n.response.data)}}),yv=wt("quiz/fetchQuizzes",async({page:e,search:t=""},{rejectWithValue:n})=>{try{return(await mt.get(y8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Yb=wt("quiz/fetchQuizById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(`${v8}/${e}`)).data}catch(n){return t(n.response.data)}}),Qb=wt("quiz/updateQuiz",async({id:e,quizData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${b8}/${e}`,t)).data}catch(r){return n(r.response.data)}}),Xb=wt("quiz/toggleQuiz",async(e,{rejectWithValue:t})=>{try{return(await mt.post(x8,{quizId:e})).data}catch(n){return t(n.response.data)}}),Jb=wt("quiz/getQuizResult",async({quizId:e,page:t},{rejectWithValue:n})=>{try{return(await mt.post(S8,{quizId:e,page:t})).data}catch(r){return n(r.response.data)}}),qJ={quizzes:[],currentQuiz:null,isLoading:!1,currentPage:1,totalPages:1,error:null,quizResult:[],isQuizResultLoading:!1,qrCurrentPage:1,qrTotalPages:1},OU=is({name:"quiz",initialState:qJ,reducers:{setCurrentQuiz:(e,t)=>{e.currentQuiz=t.payload,console.log("currentQuiz :>> ",t.payload)}},extraReducers:e=>{e.addCase(yv.pending,t=>{t.isLoading=!0}).addCase(yv.fulfilled,(t,n)=>{t.isLoading=!1,t.quizzes=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(yv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.message||"Something went wrong"}).addCase(Kb.pending,t=>{t.isLoading=!0}).addCase(Kb.fulfilled,(t,n)=>{t.isLoading=!1,t.quizzes.push(n.payload),t.quizzes.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(Kb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.message||"Something went wrong"}).addCase(Qb.pending,t=>{t.isLoading=!0}).addCase(Qb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.quizzes.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.quizzes[r]=n.payload)}).addCase(Qb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Yb.pending,t=>{t.isLoading=!0}).addCase(Yb.fulfilled,(t,n)=>{t.isLoading=!1,t.currentQuiz=n.payload}).addCase(Yb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Xb.pending,t=>{t.isLoading=!0}).addCase(Xb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.quizzes.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.quizzes[r].isActive=!t.quizzes[r].isActive)}).addCase(Xb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Jb.pending,t=>{t.isQuizResultLoading=!0,t.error=null}).addCase(Jb.fulfilled,(t,n)=>{t.isQuizResultLoading=!1,t.error=null,t.quizResult=n.payload.docs,t.qrCurrentPage=n.payload.currentPage,t.qrTotalPages=n.payload.totalPages}).addCase(Jb.rejected,(t,n)=>{t.isQuizResultLoading=!1,t.error=n.payload.message||"Something went wrong"})}}),{setCurrentQuiz:KJ}=OU.actions,YJ=OU.reducer;function QJ({open:e,onOpenChange:t,editQuiz:n}){const{toast:r}=Tc(),{isLoading:i}=Mn(l=>l.quiz),o=Yn(),s=th({resolver:Ay(BJ),defaultValues:{title:"",description:"",startDate:new Date(new Date().setDate(new Date().getDate()+1)),endDate:new Date(new Date().setDate(new Date().getDate()+2)),duration:0,ageGroup:"",standard:"",subject:"",price:0,isActive:!0,questions:[],bonusPercent:0}});P.useEffect(()=>{n?(s.setValue("title",n.title),s.setValue("description",n.description),s.setValue("startDate",new Date(n.startDate)),s.setValue("endDate",new Date(n.endDate)),s.setValue("duration",n.duration),s.setValue("ageGroup",n.ageGroup),s.setValue("standard",n.standard),s.setValue("subject",n.subject),s.setValue("price",n.price),s.setValue("bonusPercent",n==null?void 0:n.bonusPercent),s.setValue("isActive",n.isActive),s.setValue("questions",n.questions)):s.reset()},[n,s]);const c=l=>{const f={...l,subject:l.subject===""?null:l.subject,standard:l.standard===""?null:l.standard};n?o(Qb({id:n._id,quizData:f})).then(p=>{p.type=="quiz/updateQuiz/fulfilled"&&(r({title:"Quiz Updated",description:"The quiz has been successfully updated."}),a(),t(!1))}).catch(p=>{}):o(Kb(f)).then(p=>{p.type=="quiz/createQuiz/fulfilled"&&(r({title:"Quiz Created",description:"The quiz has been successfully created."}),a(),t(!1))}).catch(p=>{})},a=()=>{s.clearErrors(),s.reset()};return u.jsx(ld,{open:e,onOpenChange:l=>{a(),t(l)},children:u.jsxs(_l,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:l=>l.preventDefault(),children:[u.jsx(wl,{children:u.jsx(El,{children:"Add New Quiz"})}),u.jsx(nh,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-6",children:[u.jsx(lJ,{form:s}),u.jsx(GJ,{form:s}),u.jsx(uJ,{form:s}),u.jsx(SJ,{form:s}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{type:"reset",variant:"outline",onClick:()=>{a(),t(!1)},children:"Cancel"}),u.jsx(Ot,{type:"submit",disabled:i,children:i?"Submitting ....":n?"Update Quiz":"Add Quiz"})]})]})})]})})}const XJ=({quizId:e})=>{const{quizResult:t,isQuizResultLoading:n,qrCurrentPage:r,qrTotalPages:i}=Mn(c=>c.quiz),o=Yn(),s=c=>{o(Jb({quizId:e,page:c}))};return P.useEffect(()=>{s(1)},[]),u.jsxs("div",{className:"bg-white rounded-md border",children:[n?u.jsx("div",{className:"text-center",children:"Loading..."}):u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Participant Name"}),u.jsx(qe,{children:"Participant Mobile"}),u.jsx(qe,{children:"Score"}),u.jsx(qe,{children:"Time Taken"}),u.jsx(qe,{children:"Started At"}),u.jsx(qe,{children:"Submitted At"})]})}),u.jsx(Ds,{children:t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center",children:"No Quiz Results Available."})}):t.map(c=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:c.userId.name}),u.jsx(Fe,{children:c.userId.mobile}),u.jsx(Fe,{children:c.score}),u.jsxs(Fe,{children:[Math.floor(c.timeTaken/36e5)>0&&`${Math.floor(c.timeTaken/36e5)} hours `,Math.floor(c.timeTaken%36e5/6e4)," minutes"," ",(c.timeTaken%6e4/1e3).toFixed(0)," seconds"]}),u.jsx(Fe,{children:c.startedAt?`${new Date(c.startedAt).toLocaleString()}`:"-"}),u.jsx(Fe,{children:c.submittedAt?`${new Date(c.submittedAt).toLocaleString()}`:"-"})]},c._id))})]}),i>=1&&u.jsx(sa,{currentPage:r,totalPages:i,onPageChange:s})]})},JJ=()=>{const[e,t]=P.useState(""),{quizzes:n,isLoading:r,error:i,currentPage:o,totalPages:s}=Mn(y=>y.quiz),[c,a]=P.useState(!1),[l,f]=P.useState(""),p=Yn();P.useEffect(()=>{x(1)},[e]);const m=y=>{p(Xb(y))},E=y=>{p(Yb(y._id))},x=y=>{p(yv({page:y,search:e}))};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search quizzes by title",value:e,onChange:y=>{t(y.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"border rounded-lg bg-white",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Start Date"}),u.jsx(qe,{children:"End Date"}),u.jsx(qe,{children:"Duration (mins)"}),u.jsx(qe,{children:"Price ()"}),u.jsx(qe,{children:"Refer Bonus"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:Array.isArray(n)&&n.map((y,w)=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:y.title}),u.jsx(Fe,{children:new Date(y.startDate).toLocaleDateString()}),u.jsx(Fe,{children:new Date(y.endDate).toLocaleDateString()}),u.jsx(Fe,{children:y.duration}),u.jsx(Fe,{children:y.price?`${y.price}`:"Free"}),u.jsx(Fe,{children:y==null?void 0:y.bonusPercent}),u.jsxs(Fe,{children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${y.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.isActive?"Active":"InActive"}),new Date>new Date(y.endDate)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-80 ms-2",children:"Complete"}):new Date>=new Date(y.startDate)&&new Date<=new Date(y.endDate)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800 ms-2",children:"Running"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800 ms-2",children:"Upcoming"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(y),children:u.jsx(i6,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",className:y.isActive?"text-red-500":"text-green-500",onClick:()=>m(y._id),children:y.isActive?u.jsx(ad,{className:"h-4 w-4"}):u.jsx(my,{className:"h-4 w-4"})})]}),new Date>=new Date(y.startDate)&&u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{a(!0),f(y._id)},children:u.jsx(Hz,{className:"h-4 w-4"})})]})]},y._id))})]})}),s>=1&&u.jsx(sa,{currentPage:o,totalPages:s,onPageChange:x}),u.jsx(ld,{open:c,onOpenChange:a,children:u.jsxs(_l,{className:"lg:max-w-[1300px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(wl,{children:[u.jsx(El,{children:"Quiz Results"}),u.jsx(JX,{})]}),u.jsx(XJ,{quizId:l})]})})]})},ZJ=()=>{const[e,t]=P.useState(!1),n=Yn(),{currentQuiz:r}=Mn(o=>o.quiz);P.useEffect(()=>{n(yv({page:1,search:""}))},[]);const i=()=>{n(KJ(null))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Quiz Management"}),u.jsxs(Ot,{onClick:()=>t(!0),children:[u.jsx(Yu,{className:"h-4 w-4 mr-2"}),"Add Quiz"]})]}),u.jsx(JJ,{}),u.jsx(QJ,{open:e||!!r,onOpenChange:o=>{i(),t(o)},editQuiz:r})]})},eZ={payments:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Zb=wt("fetchAllPayment",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(OM,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),tZ=is({name:"payment",initialState:eZ,reducers:{},extraReducers:e=>{e.addCase(Zb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Zb.fulfilled,(t,n)=>{t.isLoading=!1,t.payments=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Zb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),nZ=tZ.reducer,rZ=()=>{const[e,t]=P.useState(""),{payments:n,currentPage:r,totalPages:i,isLoading:o}=Mn(a=>a.payment),s=Yn(),c=a=>{s(Zb({page:a,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&c(1)},[e]),u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"space-y-1",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Payment Records"})})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search user by mobile",value:e,onChange:a=>{t(a.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Label"}),u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Amount"}),u.jsx(qe,{children:"Purchase Date"}),u.jsx(qe,{children:"Status"})]})}),u.jsx(Ds,{children:n.map(a=>{var l,f;return u.jsxs(Tn,{children:[u.jsx(Fe,{children:a.quizId?a.quizId.title:(l=a==null?void 0:a.courseId)==null?void 0:l.title}),u.jsx(Fe,{children:a.quizId?"Quiz":"Course"}),u.jsx(Fe,{children:(f=a==null?void 0:a.userId)==null?void 0:f.mobile}),u.jsxs(Fe,{children:["",(a==null?void 0:a.amount)/100]}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(a.paymentDate).toLocaleDateString()}),u.jsx("span",{children:new Date(a.paymentDate).toLocaleTimeString()})]})}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":a.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a==null?void 0:a.paymentStatus})})]},a._id)})})]})}),i>=1&&u.jsx(sa,{currentPage:r,totalPages:i,onPageChange:c})]})},Vu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vu.displayName="Card";const zu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("flex flex-col space-y-1.5 p-6",e),...t}));zu.displayName="CardHeader";const Wu=P.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:it("text-2xl font-semibold leading-none tracking-tight",e),...t}));Wu.displayName="CardTitle";const iZ=P.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:it("text-sm text-muted-foreground",e),...t}));iZ.displayName="CardDescription";const Hu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("p-6 pt-0",e),...t}));Hu.displayName="CardContent";const oZ=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:it("flex items-center p-6 pt-0",e),...t}));oZ.displayName="CardFooter";const sZ=()=>{const{totalUser:e,activeQuiz:t,payment:n}=Mn(r=>r.auth);return u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Wu,{className:"text-sm font-medium",children:"Total Revenue"}),u.jsx(mM,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Hu,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:["",n/100]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue from quiz and course purchases"})]})]}),u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Wu,{className:"text-sm font-medium",children:"Total Users"}),u.jsx(yM,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Hu,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Wu,{className:"text-sm font-medium",children:"Active Quizzes"}),u.jsx(CT,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Hu,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Published quizzes"})]})]})]})},aZ={lessons:[],isLoading:!1,error:null,totalPages:1,currentPage:1},ex=wt("lesson/fetchlesson",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(w8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),bv=wt("lesson/addlesson",async({courseId:e,lessons:t},{rejectWithValue:n})=>{try{return(await mt.post(_8,{courseId:e,lessons:t})).data}catch(r){return n(r)}}),xv=wt("lesson/updatelesson",async({id:e,courseData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${E8}/${e}`,t)).data}catch(r){return n(r)}}),tx=wt("lesson/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await mt.post(C8,{lessonId:e})).data}catch(n){return t(n)}}),cZ=is({name:"lesson",initialState:aZ,reducers:{},extraReducers:e=>{e.addCase(ex.pending,t=>{t.isLoading=!0}).addCase(ex.fulfilled,(t,n)=>{t.isLoading=!1,t.lessons=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(ex.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message||"Failed to fetch courses"}).addCase(bv.pending,(t,n)=>{t.isLoading=!0}).addCase(bv.fulfilled,(t,n)=>{t.isLoading=!1,t.lessons.push(...n.payload),t.lessons.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(bv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(xv.pending,(t,n)=>{t.isLoading=!0}).addCase(xv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(xv.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.lessons.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.lessons[r]=n.payload)}).addCase(tx.pending,(t,n)=>{}).addCase(tx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(tx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.lessons.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.lessons[r].isActive=!t.lessons[r].isActive)})}}),lZ=cZ.reducer;function u1(e,[t,n]){return Math.min(n,Math.max(t,e))}var uZ=[" ","Enter","ArrowUp","ArrowDown"],dZ=[" ","Enter"],jy="Select",[W_,H_,fZ]=f_(jy),[xm,Cae]=Rc(jy,[fZ,bm]),G_=bm(),[hZ,ud]=xm(jy),[pZ,mZ]=xm(jy),PU=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:c,onValueChange:a,dir:l,name:f,autoComplete:p,disabled:m,required:E,form:x}=e,y=G_(t),[w,R]=P.useState(null),[_,C]=P.useState(null),[I,j]=P.useState(!1),U=by(l),[V=!1,z]=pl({prop:r,defaultProp:i,onChange:o}),[q,X]=pl({prop:s,defaultProp:c,onChange:a}),J=P.useRef(null),G=w?x||!!w.closest("form"):!0,[ee,ce]=P.useState(new Set),xe=Array.from(ee).map(Se=>Se.props.value).join(";");return u.jsx(QR,{...y,children:u.jsxs(hZ,{required:E,scope:t,trigger:w,onTriggerChange:R,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:I,onValueNodeHasChildrenChange:j,contentId:vc(),value:q,onValueChange:X,open:V,onOpenChange:z,dir:U,triggerPointerDownPosRef:J,disabled:m,children:[u.jsx(W_.Provider,{scope:t,children:u.jsx(pZ,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(Se=>{ce(ve=>new Set(ve).add(Se))},[]),onNativeOptionRemove:P.useCallback(Se=>{ce(ve=>{const Y=new Set(ve);return Y.delete(Se),Y})},[]),children:n})}),G?u.jsxs(tB,{"aria-hidden":!0,required:E,tabIndex:-1,name:f,autoComplete:p,value:q,onChange:Se=>X(Se.target.value),disabled:m,form:x,children:[q===void 0?u.jsx("option",{value:""}):null,Array.from(ee)]},xe):null]})})};PU.displayName=jy;var NU="SelectTrigger",IU=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=G_(n),s=ud(NU,n),c=s.disabled||r,a=xn(t,s.onTriggerChange),l=H_(n),f=P.useRef("touch"),[p,m,E]=nB(y=>{const w=l().filter(C=>!C.disabled),R=w.find(C=>C.value===s.value),_=rB(w,y,R);_!==void 0&&s.onValueChange(_.value)}),x=y=>{c||(s.onOpenChange(!0),E()),y&&(s.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(I_,{asChild:!0,...o,children:u.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eB(s.value)?"":void 0,...i,ref:a,onClick:Ke(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:Ke(i.onPointerDown,y=>{f.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Ke(i.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&uZ.includes(y.key)&&(x(),y.preventDefault())})})})});IU.displayName=NU;var AU="SelectValue",jU=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...c}=e,a=ud(AU,n),{onValueNodeHasChildrenChange:l}=a,f=o!==void 0,p=xn(t,a.onValueNodeChange);return Yi(()=>{l(f)},[l,f]),u.jsx(Pt.span,{...c,ref:p,style:{pointerEvents:"none"},children:eB(a.value)?u.jsx(u.Fragment,{children:s}):o})});jU.displayName=AU;var gZ="SelectIcon",DU=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return u.jsx(Pt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});DU.displayName=gZ;var vZ="SelectPortal",MU=e=>u.jsx(hm,{asChild:!0,...e});MU.displayName=vZ;var Gf="SelectContent",LU=P.forwardRef((e,t)=>{const n=ud(Gf,e.__scopeSelect),[r,i]=P.useState();if(Yi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Jf.createPortal(u.jsx(FU,{scope:e.__scopeSelect,children:u.jsx(W_.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(UU,{...e,ref:t})});LU.displayName=Gf;var Ea=10,[FU,dd]=xm(Gf),yZ="SelectContentImpl",UU=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:c,sideOffset:a,align:l,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:E,sticky:x,hideWhenDetached:y,avoidCollisions:w,...R}=e,_=ud(Gf,n),[C,I]=P.useState(null),[j,U]=P.useState(null),V=xn(t,Ye=>I(Ye)),[z,q]=P.useState(null),[X,J]=P.useState(null),G=H_(n),[ee,ce]=P.useState(!1),xe=P.useRef(!1);P.useEffect(()=>{if(C)return D_(C)},[C]),k_();const Se=P.useCallback(Ye=>{const[lt,...Mt]=G().map(qt=>qt.ref.current),[Xt]=Mt.slice(-1),Lt=document.activeElement;for(const qt of Ye)if(qt===Lt||(qt==null||qt.scrollIntoView({block:"nearest"}),qt===lt&&j&&(j.scrollTop=0),qt===Xt&&j&&(j.scrollTop=j.scrollHeight),qt==null||qt.focus(),document.activeElement!==Lt))return},[G,j]),ve=P.useCallback(()=>Se([z,C]),[Se,z,C]);P.useEffect(()=>{ee&&ve()},[ee,ve]);const{onOpenChange:Y,triggerPointerDownPosRef:Q}=_;P.useEffect(()=>{if(C){let Ye={x:0,y:0};const lt=Xt=>{var Lt,qt;Ye={x:Math.abs(Math.round(Xt.pageX)-(((Lt=Q.current)==null?void 0:Lt.x)??0)),y:Math.abs(Math.round(Xt.pageY)-(((qt=Q.current)==null?void 0:qt.y)??0))}},Mt=Xt=>{Ye.x<=10&&Ye.y<=10?Xt.preventDefault():C.contains(Xt.target)||Y(!1),document.removeEventListener("pointermove",lt),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",lt),document.addEventListener("pointerup",Mt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",lt),document.removeEventListener("pointerup",Mt,{capture:!0})}}},[C,Y,Q]),P.useEffect(()=>{const Ye=()=>Y(!1);return window.addEventListener("blur",Ye),window.addEventListener("resize",Ye),()=>{window.removeEventListener("blur",Ye),window.removeEventListener("resize",Ye)}},[Y]);const[ne,fe]=nB(Ye=>{const lt=G().filter(Lt=>!Lt.disabled),Mt=lt.find(Lt=>Lt.ref.current===document.activeElement),Xt=rB(lt,Ye,Mt);Xt&&setTimeout(()=>Xt.ref.current.focus())}),Te=P.useCallback((Ye,lt,Mt)=>{const Xt=!xe.current&&!Mt;(_.value!==void 0&&_.value===lt||Xt)&&(q(Ye),Xt&&(xe.current=!0))},[_.value]),He=P.useCallback(()=>C==null?void 0:C.focus(),[C]),Le=P.useCallback((Ye,lt,Mt)=>{const Xt=!xe.current&&!Mt;(_.value!==void 0&&_.value===lt||Xt)&&J(Ye)},[_.value]),bt=r==="popper"?d1:BU,Gt=bt===d1?{side:c,sideOffset:a,align:l,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:E,sticky:x,hideWhenDetached:y,avoidCollisions:w}:{};return u.jsx(FU,{scope:n,content:C,viewport:j,onViewportChange:U,itemRefCallback:Te,selectedItem:z,onItemLeave:He,itemTextRefCallback:Le,focusSelectedItem:ve,selectedItemText:X,position:r,isPositioned:ee,searchRef:ne,children:u.jsx(_y,{as:xc,allowPinchZoom:!0,children:u.jsx(xy,{asChild:!0,trapped:_.open,onMountAutoFocus:Ye=>{Ye.preventDefault()},onUnmountAutoFocus:Ke(i,Ye=>{var lt;(lt=_.trigger)==null||lt.focus({preventScroll:!0}),Ye.preventDefault()}),children:u.jsx(fm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Ye=>Ye.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(bt,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ye=>Ye.preventDefault(),...R,...Gt,onPlaced:()=>ce(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ke(R.onKeyDown,Ye=>{const lt=Ye.ctrlKey||Ye.altKey||Ye.metaKey;if(Ye.key==="Tab"&&Ye.preventDefault(),!lt&&Ye.key.length===1&&fe(Ye.key),["ArrowUp","ArrowDown","Home","End"].includes(Ye.key)){let Xt=G().filter(Lt=>!Lt.disabled).map(Lt=>Lt.ref.current);if(["ArrowUp","End"].includes(Ye.key)&&(Xt=Xt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ye.key)){const Lt=Ye.target,qt=Xt.indexOf(Lt);Xt=Xt.slice(qt+1)}setTimeout(()=>Se(Xt)),Ye.preventDefault()}})})})})})})});UU.displayName=yZ;var bZ="SelectItemAlignedPosition",BU=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=ud(Gf,n),s=dd(Gf,n),[c,a]=P.useState(null),[l,f]=P.useState(null),p=xn(t,V=>f(V)),m=H_(n),E=P.useRef(!1),x=P.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:R,focusSelectedItem:_}=s,C=P.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&l&&y&&w&&R){const V=o.trigger.getBoundingClientRect(),z=l.getBoundingClientRect(),q=o.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(o.dir!=="rtl"){const Lt=X.left-z.left,qt=q.left-Lt,Fn=V.left-qt,Qn=V.width+Fn,ut=Math.max(Qn,z.width),Ar=window.innerWidth-Ea,Mi=u1(qt,[Ea,Math.max(Ea,Ar-ut)]);c.style.minWidth=Qn+"px",c.style.left=Mi+"px"}else{const Lt=z.right-X.right,qt=window.innerWidth-q.right-Lt,Fn=window.innerWidth-V.right-qt,Qn=V.width+Fn,ut=Math.max(Qn,z.width),Ar=window.innerWidth-Ea,Mi=u1(qt,[Ea,Math.max(Ea,Ar-ut)]);c.style.minWidth=Qn+"px",c.style.right=Mi+"px"}const J=m(),G=window.innerHeight-Ea*2,ee=y.scrollHeight,ce=window.getComputedStyle(l),xe=parseInt(ce.borderTopWidth,10),Se=parseInt(ce.paddingTop,10),ve=parseInt(ce.borderBottomWidth,10),Y=parseInt(ce.paddingBottom,10),Q=xe+Se+ee+Y+ve,ne=Math.min(w.offsetHeight*5,Q),fe=window.getComputedStyle(y),Te=parseInt(fe.paddingTop,10),He=parseInt(fe.paddingBottom,10),Le=V.top+V.height/2-Ea,bt=G-Le,Gt=w.offsetHeight/2,Ye=w.offsetTop+Gt,lt=xe+Se+Ye,Mt=Q-lt;if(lt<=Le){const Lt=J.length>0&&w===J[J.length-1].ref.current;c.style.bottom="0px";const qt=l.clientHeight-y.offsetTop-y.offsetHeight,Fn=Math.max(bt,Gt+(Lt?He:0)+qt+ve),Qn=lt+Fn;c.style.height=Qn+"px"}else{const Lt=J.length>0&&w===J[0].ref.current;c.style.top="0px";const Fn=Math.max(Le,xe+y.offsetTop+(Lt?Te:0)+Gt)+Mt;c.style.height=Fn+"px",y.scrollTop=lt-Le+y.offsetTop}c.style.margin=`${Ea}px 0`,c.style.minHeight=ne+"px",c.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[m,o.trigger,o.valueNode,c,l,y,w,R,o.dir,r]);Yi(()=>C(),[C]);const[I,j]=P.useState();Yi(()=>{l&&j(window.getComputedStyle(l).zIndex)},[l]);const U=P.useCallback(V=>{V&&x.current===!0&&(C(),_==null||_(),x.current=!1)},[C,_]);return u.jsx(SZ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:E,onScrollButtonChange:U,children:u.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(Pt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});BU.displayName=bZ;var xZ="SelectPopperPosition",d1=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ea,...o}=e,s=G_(n);return u.jsx(XR,{...s,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d1.displayName=xZ;var[SZ,Fk]=xm(Gf,{}),f1="SelectViewport",$U=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=dd(f1,n),s=Fk(f1,n),c=xn(t,o.onViewportChange),a=P.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(W_.Slot,{scope:n,children:u.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,l=>{const f=l.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&p){const E=Math.abs(a.current-f.scrollTop);if(E>0){const x=window.innerHeight-Ea*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),R=Math.max(y,w);if(R<x){const _=R+E,C=Math.min(x,_),I=_-C;p.style.height=C+"px",p.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}a.current=f.scrollTop})})})]})});$U.displayName=f1;var VU="SelectGroup",[_Z,wZ]=xm(VU),EZ=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=vc();return u.jsx(_Z,{scope:n,id:i,children:u.jsx(Pt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});EZ.displayName=VU;var zU="SelectLabel",WU=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=wZ(zU,n);return u.jsx(Pt.div,{id:i.id,...r,ref:t})});WU.displayName=zU;var LS="SelectItem",[CZ,HU]=xm(LS),GU=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,c=ud(LS,n),a=dd(LS,n),l=c.value===r,[f,p]=P.useState(o??""),[m,E]=P.useState(!1),x=xn(t,_=>{var C;return(C=a.itemRefCallback)==null?void 0:C.call(a,_,r,i)}),y=vc(),w=P.useRef("touch"),R=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(CZ,{scope:n,value:r,disabled:i,textId:y,isSelected:l,onItemTextChange:P.useCallback(_=>{p(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(W_.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:u.jsx(Pt.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":l&&m,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:Ke(s.onFocus,()=>E(!0)),onBlur:Ke(s.onBlur,()=>E(!1)),onClick:Ke(s.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:Ke(s.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:Ke(s.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Ke(s.onPointerMove,_=>{var C;w.current=_.pointerType,i?(C=a.onItemLeave)==null||C.call(a):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(s.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=a.onItemLeave)==null||C.call(a))}),onKeyDown:Ke(s.onKeyDown,_=>{var I;((I=a.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(dZ.includes(_.key)&&R(),_.key===" "&&_.preventDefault())})})})})});GU.displayName=LS;var rv="SelectItemText",qU=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=ud(rv,n),c=dd(rv,n),a=HU(rv,n),l=mZ(rv,n),[f,p]=P.useState(null),m=xn(t,R=>p(R),a.onItemTextChange,R=>{var _;return(_=c.itemTextRefCallback)==null?void 0:_.call(c,R,a.value,a.disabled)}),E=f==null?void 0:f.textContent,x=P.useMemo(()=>u.jsx("option",{value:a.value,disabled:a.disabled,children:E},a.value),[a.disabled,a.value,E]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=l;return Yi(()=>(y(x),()=>w(x)),[y,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(Pt.span,{id:a.textId,...o,ref:m}),a.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Jf.createPortal(o.children,s.valueNode):null]})});qU.displayName=rv;var KU="SelectItemIndicator",YU=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return HU(KU,n).isSelected?u.jsx(Pt.span,{"aria-hidden":!0,...r,ref:t}):null});YU.displayName=KU;var h1="SelectScrollUpButton",QU=P.forwardRef((e,t)=>{const n=dd(h1,e.__scopeSelect),r=Fk(h1,e.__scopeSelect),[i,o]=P.useState(!1),s=xn(t,r.onScrollButtonChange);return Yi(()=>{if(n.viewport&&n.isPositioned){let c=function(){const l=a.scrollTop>0;o(l)};const a=n.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?u.jsx(JU,{...e,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=n;c&&a&&(c.scrollTop=c.scrollTop-a.offsetHeight)}}):null});QU.displayName=h1;var p1="SelectScrollDownButton",XU=P.forwardRef((e,t)=>{const n=dd(p1,e.__scopeSelect),r=Fk(p1,e.__scopeSelect),[i,o]=P.useState(!1),s=xn(t,r.onScrollButtonChange);return Yi(()=>{if(n.viewport&&n.isPositioned){let c=function(){const l=a.scrollHeight-a.clientHeight,f=Math.ceil(a.scrollTop)<l;o(f)};const a=n.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?u.jsx(JU,{...e,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=n;c&&a&&(c.scrollTop=c.scrollTop+a.offsetHeight)}}):null});XU.displayName=p1;var JU=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=dd("SelectScrollButton",n),s=P.useRef(null),c=H_(n),a=P.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return P.useEffect(()=>()=>a(),[a]),Yi(()=>{var f;const l=c().find(p=>p.ref.current===document.activeElement);(f=l==null?void 0:l.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),u.jsx(Pt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{a()})})}),TZ="SelectSeparator",ZU=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Pt.div,{"aria-hidden":!0,...r,ref:t})});ZU.displayName=TZ;var m1="SelectArrow",RZ=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=G_(n),o=ud(m1,n),s=dd(m1,n);return o.open&&s.position==="popper"?u.jsx(JR,{...i,...r,ref:t}):null});RZ.displayName=m1;function eB(e){return e===""||e===void 0}var tB=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=P.useRef(null),o=xn(t,i),s=jk(n);return P.useEffect(()=>{const c=i.current,a=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==n&&f){const p=new Event("change",{bubbles:!0});f.call(c,n),c.dispatchEvent(p)}},[s,n]),u.jsx(h_,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});tB.displayName="BubbleSelect";function nB(e){const t=$r(e),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(s=>{const c=n.current+s;t(c),function a(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(c)},[t]),o=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function rB(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=kZ(e,Math.max(o,0));i.length===1&&(s=s.filter(l=>l!==n));const a=s.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function kZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var OZ=PU,iB=IU,PZ=jU,NZ=DU,IZ=MU,oB=LU,AZ=$U,sB=WU,aB=GU,jZ=qU,DZ=YU,cB=QU,lB=XU,uB=ZU;const yf=OZ,bf=PZ,Ru=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(iB,{ref:r,className:it("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(NZ,{asChild:!0,children:u.jsx(v_,{className:"h-4 w-4 opacity-50"})})]}));Ru.displayName=iB.displayName;const dB=P.forwardRef(({className:e,...t},n)=>u.jsx(cB,{ref:n,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(qz,{className:"h-4 w-4"})}));dB.displayName=cB.displayName;const fB=P.forwardRef(({className:e,...t},n)=>u.jsx(lB,{ref:n,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(v_,{className:"h-4 w-4"})}));fB.displayName=lB.displayName;const ku=P.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>u.jsx(IZ,{children:u.jsxs(oB,{ref:i,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(dB,{}),u.jsx(AZ,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(fB,{})]})}));ku.displayName=oB.displayName;const MZ=P.forwardRef(({className:e,...t},n)=>u.jsx(sB,{ref:n,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));MZ.displayName=sB.displayName;const Qo=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(aB,{ref:r,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(DZ,{children:u.jsx(my,{className:"h-4 w-4"})})}),u.jsx(jZ,{children:t})]}));Qo.displayName=aB.displayName;const LZ=P.forwardRef(({className:e,...t},n)=>u.jsx(uB,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));LZ.displayName=uB.displayName;const FZ=g_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hB({className:e,variant:t,...n}){return u.jsx("div",{className:it(FZ({variant:t}),e),...n})}function UZ(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var Uk="ScrollArea",[pB,Tae]=Rc(Uk),[BZ,aa]=pB(Uk),mB=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[c,a]=P.useState(null),[l,f]=P.useState(null),[p,m]=P.useState(null),[E,x]=P.useState(null),[y,w]=P.useState(null),[R,_]=P.useState(0),[C,I]=P.useState(0),[j,U]=P.useState(!1),[V,z]=P.useState(!1),q=xn(t,J=>a(J)),X=by(i);return u.jsx(BZ,{scope:n,type:r,dir:X,scrollHideDelay:o,scrollArea:c,viewport:l,onViewportChange:f,content:p,onContentChange:m,scrollbarX:E,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:U,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:V,onScrollbarYEnabledChange:z,onCornerWidthChange:_,onCornerHeightChange:I,children:u.jsx(Pt.div,{dir:X,...s,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});mB.displayName=Uk;var gB="ScrollAreaViewport",vB=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:o,...s}=e,c=aa(gB,n),a=P.useRef(null),l=xn(t,a,c.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),u.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:l,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:QZ({asChild:i,children:r},f=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});vB.displayName=gB;var Oc="ScrollAreaScrollbar",Bk=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=aa(Oc,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,c=e.orientation==="horizontal";return P.useEffect(()=>(c?o(!0):s(!0),()=>{c?o(!1):s(!1)}),[c,o,s]),i.type==="hover"?u.jsx($Z,{...r,ref:t,forceMount:n}):i.type==="scroll"?u.jsx(VZ,{...r,ref:t,forceMount:n}):i.type==="auto"?u.jsx(yB,{...r,ref:t,forceMount:n}):i.type==="always"?u.jsx($k,{...r,ref:t}):null});Bk.displayName=Oc;var $Z=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=aa(Oc,e.__scopeScrollArea),[o,s]=P.useState(!1);return P.useEffect(()=>{const c=i.scrollArea;let a=0;if(c){const l=()=>{window.clearTimeout(a),s(!0)},f=()=>{a=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",l),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(a),c.removeEventListener("pointerenter",l),c.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(uo,{present:n||o,children:u.jsx(yB,{"data-state":o?"visible":"hidden",...r,ref:t})})}),VZ=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=aa(Oc,e.__scopeScrollArea),o=e.orientation==="horizontal",s=K_(()=>a("SCROLL_END"),100),[c,a]=UZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(c==="idle"){const l=window.setTimeout(()=>a("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[c,i.scrollHideDelay,a]),P.useEffect(()=>{const l=i.viewport,f=o?"scrollLeft":"scrollTop";if(l){let p=l[f];const m=()=>{const E=l[f];p!==E&&(a("SCROLL"),s()),p=E};return l.addEventListener("scroll",m),()=>l.removeEventListener("scroll",m)}},[i.viewport,o,a,s]),u.jsx(uo,{present:n||c!=="hidden",children:u.jsx($k,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ke(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:Ke(e.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),yB=P.forwardRef((e,t)=>{const n=aa(Oc,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=P.useState(!1),c=e.orientation==="horizontal",a=K_(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(c?l:f)}},10);return rm(n.viewport,a),rm(n.content,a),u.jsx(uo,{present:r||o,children:u.jsx($k,{"data-state":o?"visible":"hidden",...i,ref:t})})}),$k=P.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=aa(Oc,e.__scopeScrollArea),o=P.useRef(null),s=P.useRef(0),[c,a]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=wB(c.viewport,c.content),f={...r,sizes:c,onSizesChange:a,hasThumb:l>0&&l<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function p(m,E){return KZ(m,s.current,c,E)}return n==="horizontal"?u.jsx(zZ,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollLeft,E=lI(m,c,i.dir);o.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=p(m,i.dir))}}):n==="vertical"?u.jsx(WZ,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollTop,E=lI(m,c);o.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=p(m))}}):null}),zZ=P.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=aa(Oc,e.__scopeScrollArea),[s,c]=P.useState(),a=P.useRef(null),l=xn(t,a,o.onScrollbarXChange);return P.useEffect(()=>{a.current&&c(getComputedStyle(a.current))},[a]),u.jsx(xB,{"data-orientation":"horizontal",...i,ref:l,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":q_(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),CB(m,p)&&f.preventDefault()}},onResize:()=>{a.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:US(s.paddingLeft),paddingEnd:US(s.paddingRight)}})}})}),WZ=P.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=aa(Oc,e.__scopeScrollArea),[s,c]=P.useState(),a=P.useRef(null),l=xn(t,a,o.onScrollbarYChange);return P.useEffect(()=>{a.current&&c(getComputedStyle(a.current))},[a]),u.jsx(xB,{"data-orientation":"vertical",...i,ref:l,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":q_(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),CB(m,p)&&f.preventDefault()}},onResize:()=>{a.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:US(s.paddingTop),paddingEnd:US(s.paddingBottom)}})}})}),[HZ,bB]=pB(Oc),xB=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:f,onResize:p,...m}=e,E=aa(Oc,n),[x,y]=P.useState(null),w=xn(t,q=>y(q)),R=P.useRef(null),_=P.useRef(""),C=E.viewport,I=r.content-r.viewport,j=$r(f),U=$r(a),V=K_(p,10);function z(q){if(R.current){const X=q.clientX-R.current.left,J=q.clientY-R.current.top;l({x:X,y:J})}}return P.useEffect(()=>{const q=X=>{const J=X.target;(x==null?void 0:x.contains(J))&&j(X,I)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[C,x,I,j]),P.useEffect(U,[r,U]),rm(x,V),rm(E.content,V),u.jsx(HZ,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:$r(o),onThumbPointerUp:$r(s),onThumbPositionChange:U,onThumbPointerDown:$r(c),children:u.jsx(Pt.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Ke(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),R.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),z(q))}),onPointerMove:Ke(e.onPointerMove,z),onPointerUp:Ke(e.onPointerUp,q=>{const X=q.target;X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=_.current,E.viewport&&(E.viewport.style.scrollBehavior=""),R.current=null})})})}),FS="ScrollAreaThumb",SB=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=bB(FS,e.__scopeScrollArea);return u.jsx(uo,{present:n||i.hasThumb,children:u.jsx(GZ,{ref:t,...r})})}),GZ=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=aa(FS,n),s=bB(FS,n),{onThumbPositionChange:c}=s,a=xn(t,p=>s.onThumbChange(p)),l=P.useRef(),f=K_(()=>{l.current&&(l.current(),l.current=void 0)},100);return P.useEffect(()=>{const p=o.viewport;if(p){const m=()=>{if(f(),!l.current){const E=YZ(p,c);l.current=E,c()}};return c(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[o.viewport,f,c]),u.jsx(Pt.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ke(e.onPointerDownCapture,p=>{const E=p.target.getBoundingClientRect(),x=p.clientX-E.left,y=p.clientY-E.top;s.onThumbPointerDown({x,y})}),onPointerUp:Ke(e.onPointerUp,s.onThumbPointerUp)})});SB.displayName=FS;var Vk="ScrollAreaCorner",_B=P.forwardRef((e,t)=>{const n=aa(Vk,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(qZ,{...e,ref:t}):null});_B.displayName=Vk;var qZ=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=aa(Vk,n),[o,s]=P.useState(0),[c,a]=P.useState(0),l=!!(o&&c);return rm(i.scrollbarX,()=>{var p;const f=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(f),a(f)}),rm(i.scrollbarY,()=>{var p;const f=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),l?u.jsx(Pt.div,{...r,ref:t,style:{width:o,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function US(e){return e?parseInt(e,10):0}function wB(e,t){const n=e/t;return isNaN(n)?0:n}function q_(e){const t=wB(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function KZ(e,t,n,r="ltr"){const i=q_(n),o=i/2,s=t||o,c=i-s,a=n.scrollbar.paddingStart+s,l=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,p=r==="ltr"?[0,f]:[f*-1,0];return EB([a,l],p)(e)}function lI(e,t,n="ltr"){const r=q_(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,c=o-r,a=n==="ltr"?[0,s]:[s*-1,0],l=u1(e,a);return EB([0,s],[0,c])(l)}function EB(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function CB(e,t){return e>0&&e<t}var YZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,c=n.top!==o.top;(s||c)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function K_(e,t){const n=$r(e),r=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),P.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function rm(e,t){const n=$r(t);Yi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}function QZ(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const i=P.Children.only(r);return P.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var TB=mB,XZ=vB,JZ=_B;const RB=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(TB,{ref:r,className:it("relative overflow-hidden",e),...n,children:[u.jsx(XZ,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(kB,{}),u.jsx(JZ,{})]}));RB.displayName=TB.displayName;const kB=P.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(Bk,{ref:r,orientation:t,className:it("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(SB,{className:"relative flex-1 rounded-full bg-border"})}));kB.displayName=Bk.displayName;const ZZ=({lessons:e,currentIndex:t,setCurrentIndex:n,removeLesson:r})=>u.jsx(RB,{className:"h-[60px] w-full ",children:u.jsx("div",{className:"flex gap-2 p-1  flex-wrap",children:e.map((i,o)=>u.jsxs(hB,{variant:t===o?"default":"secondary",className:"cursor-pointer whitespace-nowrap flex items-center ",onClick:()=>n(o),children:[i.title||`Lesson ${o+1}`,e.length>1&&u.jsx(ad,{className:"h-3 w-3 ml-1 inline-block",onClick:s=>{s.stopPropagation(),r(o)}})]},o))})});var zk="Switch",[eee,Rae]=Rc(zk),[tee,nee]=eee(zk),OB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:c,value:a="on",onCheckedChange:l,form:f,...p}=e,[m,E]=P.useState(null),x=xn(t,C=>E(C)),y=P.useRef(!1),w=m?f||!!m.closest("form"):!0,[R=!1,_]=pl({prop:i,defaultProp:o,onChange:l});return u.jsxs(tee,{scope:n,checked:R,disabled:c,children:[u.jsx(Pt.button,{type:"button",role:"switch","aria-checked":R,"aria-required":s,"data-state":IB(R),"data-disabled":c?"":void 0,disabled:c,value:a,...p,ref:x,onClick:Ke(e.onClick,C=>{_(I=>!I),w&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),w&&u.jsx(ree,{control:m,bubbles:!y.current,name:r,value:a,checked:R,required:s,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});OB.displayName=zk;var PB="SwitchThumb",NB=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=nee(PB,n);return u.jsx(Pt.span,{"data-state":IB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});NB.displayName=PB;var ree=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=P.useRef(null),s=jk(n),c=qR(t);return P.useEffect(()=>{const a=o.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(a,n),a.dispatchEvent(m)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function IB(e){return e?"checked":"unchecked"}var AB=OB,iee=NB;const fd=P.forwardRef(({className:e,...t},n)=>u.jsx(AB,{className:it("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:u.jsx(iee,{className:it("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fd.displayName=AB.displayName;const oee=({lesson:e,updateLesson:t})=>u.jsxs("div",{className:"space-y-4 px-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"title",children:"Title"}),u.jsx(sn,{id:"title",value:e.title,onChange:n=>t({title:n.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"description",children:"Description"}),u.jsx(rh,{id:"description",value:e.description,onChange:n=>t({description:n.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialType",children:"Material Type"}),u.jsxs(yf,{value:e.materialType,onValueChange:n=>t({materialType:n}),children:[u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select material type"})}),u.jsxs(ku,{children:[u.jsx(Qo,{value:"none",children:"None"}),u.jsx(Qo,{value:"pdf",children:"PDF"}),u.jsx(Qo,{value:"video",children:"Video"})]})]})]}),e.materialType!=="none"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialUrl",children:"Material URL"}),u.jsx(sn,{id:"materialUrl",value:e.materialUrl,onChange:n=>t({materialUrl:n.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(fd,{id:"isMaterial",checked:e.isMaterial,onCheckedChange:n=>t({isMaterial:n})}),u.jsx(Ai,{htmlFor:"isMaterial",children:"Has Material"})]})]}),see={courses:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Sv=wt("courses/fetchCourses",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(h8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),nx=wt("courses/addCourse",async(e,{rejectWithValue:t})=>{try{return(await mt.post(f8,e)).data}catch(n){return t(n)}}),rx=wt("courses/updateCourse",async({id:e,courseData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${p8}/${e}`,t)).data}catch(r){return n(r)}}),ix=wt("courses/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await mt.post(m8,{courseId:e})).data}catch(n){return t(n)}}),aee=is({name:"courses",initialState:see,reducers:{},extraReducers:e=>{e.addCase(Sv.pending,t=>{t.isLoading=!0}).addCase(Sv.fulfilled,(t,n)=>{t.isLoading=!1,t.courses=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(Sv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message||"Failed to fetch courses"}).addCase(nx.pending,(t,n)=>{t.isLoading=!0}).addCase(nx.fulfilled,(t,n)=>{t.isLoading=!1,t.courses.push(n.payload),t.courses.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(nx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(rx.pending,(t,n)=>{t.isLoading=!0}).addCase(rx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(rx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.courses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.courses[r]=n.payload)}).addCase(ix.pending,(t,n)=>{}).addCase(ix.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(ix.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.courses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.courses[r].isActive=!t.courses[r].isActive)})}}),cee=aee.reducer,lee={board:[],currentboard:null,isLoading:!1,error:null},ox=wt("createboard",async(e,{rejectWithValue:t})=>{try{return(await mt.post(n8,e)).data}catch(n){return t(n.response.data)}}),Nf=wt("getAllboard",async(e,{rejectWithValue:t})=>{try{return(await mt.get(i8)).data}catch(n){return t(n.response.data)}}),dC=wt("boardById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(r8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),sx=wt("updataboard",async({_id:e,data:t},{rejectWithValue:n})=>{try{return(await mt.put(o8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),ax=wt("toggleboard",async(e,{rejectWithValue:t})=>{try{return(await mt.post(s8,e)).data}catch(n){return t(n.response.data)}}),uee=is({name:"board",initialState:lee,reducers:{},extraReducers:e=>{e.addCase(ox.pending,t=>{t.isLoading=!0}).addCase(ox.fulfilled,(t,n)=>{t.isLoading=!1,t.board.push(n.payload),t.board.sort((r,i)=>r.createdAt<i.createdAt?-1:1)}).addCase(ox.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Nf.pending,t=>{t.isLoading=!0}).addCase(Nf.fulfilled,(t,n)=>{t.isLoading=!1,t.board=n.payload}).addCase(Nf.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(dC.pending,t=>{t.isLoading=!0}).addCase(dC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentboard=n.payload}).addCase(dC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(sx.pending,t=>{t.isLoading=!0}).addCase(sx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.board.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.board[r]=n.payload)}).addCase(sx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(ax.pending,t=>{t.isLoading=!0}).addCase(ax.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.board.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.board[r].isActive=!t.board[r].isActive)}).addCase(ax.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),dee=uee.reducer,fee=({isOpen:e,onClose:t})=>{const[n,r]=P.useState([{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]);console.log(n);const[i,o]=P.useState(0),[s,c]=P.useState(""),{toast:a}=Tc(),l=Yn();P.useEffect(()=>{e&&(l(Sv({page:1,search:""})),l(cl()),l(Pf()),l(Nf()))},[e,l]);const{courses:f,standards:p,subjects:m}=Mn(C=>({courses:C.course.courses,standards:C.standard.standards,subjects:C.subject.subjects})),{board:E,isLoading:x}=Mn(C=>C.board),y=async C=>{C.preventDefault();try{const I=await l(bv({courseId:s,lessons:n}));if(bv.fulfilled.match(I))a({title:"Success",description:"Lessons added successfully"}),t();else throw new Error("Failed to save lessons")}catch(I){a({title:"Error",description:I.message||"Failed to save lessons",variant:"destructive"})}},w=()=>{r([...n,{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]),o(n.length)},R=C=>{const I=n.filter((j,U)=>U!==C);r(I),i>=C&&i>0&&o(i-1)},_=(C,I)=>{const j=n.map((U,V)=>V===C?{...U,...I}:U);r(j)};return u.jsx(ld,{open:e,onOpenChange:t,children:u.jsxs(_l,{className:"sm:max-w-[600px] max-h-[90vh] flex flex-col",children:[u.jsx(wl,{children:u.jsx(El,{children:"Add New Lessons"})}),u.jsxs("div",{className:"space-y-4 mb-4 px-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"course",children:"Select Course"}),u.jsxs(yf,{value:n[i].courseId||"",onValueChange:C=>_(i,{courseId:C}),children:[u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select a course"})}),u.jsx(ku,{children:f.map(C=>u.jsx(Qo,{value:C._id,children:C.title},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"standard",children:"Select Standard"}),u.jsxs(yf,{value:n[i].standard||"",onValueChange:C=>_(i,{standard:C}),children:[u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select a standard"})}),u.jsx(ku,{children:p.map(C=>u.jsx(Qo,{value:C._id,children:C.std},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"subject",children:"Select Subject"}),u.jsxs(yf,{value:n[i].subject||"",onValueChange:C=>_(i,{subject:C}),children:[u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select a subject"})}),u.jsx(ku,{children:m.map(C=>u.jsx(Qo,{value:C._id,children:C.subject},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"board",children:"Select Board"}),u.jsxs(yf,{value:n[i].boardId||"",onValueChange:C=>_(i,{boardId:C}),children:[u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select a board"})}),u.jsx(ku,{children:E==null?void 0:E.map(C=>u.jsx(Qo,{value:C._id,children:C.boardname},C._id))})]})]})]}),u.jsxs("div",{className:"flex gap-4 mb-4 px-2",children:[u.jsx(ZZ,{lessons:n,currentIndex:i,setCurrentIndex:o,removeLesson:R}),u.jsx(Ot,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:u.jsx(Yu,{className:"h-4 w-4"})})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4 flex-1 overflow-y-auto",children:[u.jsx(oee,{lesson:n[i],updateLesson:C=>_(i,C)}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:t,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Add Lessons"})]})]})]})})},hee=({isOpen:e,onClose:t,lesson:n})=>{const[r,i]=P.useState({title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:""});P.useEffect(()=>{n&&i({title:n.title,description:n.description,materialType:n.materialType,materialUrl:n.materialUrl,isMaterial:n.isMaterial,courseId:n.courseId})},[n]);const{toast:o}=Tc(),s=Yn(),c=a=>{a.preventDefault(),console.log(r,"edit data"),t();try{const l=s(xv({id:n._id,courseData:r}));xv.fulfilled.match(l)&&o({title:"Success",description:"Lesson updated successfully"})}catch(l){o({title:"Error",description:l.message||"Failed to update lesson",variant:"destructive"})}};return n?u.jsx(ld,{open:e,onOpenChange:t,children:u.jsxs(_l,{className:"sm:max-w-[425px]",children:[u.jsx(wl,{children:u.jsx(El,{children:"Edit Lesson"})}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"title",children:"Title"}),u.jsx(sn,{id:"title",value:r.title,onChange:a=>i({...r,title:a.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"description",children:"Description"}),u.jsx(rh,{id:"description",value:r.description,onChange:a=>i({...r,description:a.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialType",children:"Material Type"}),u.jsxs(yf,{value:r.materialType,onValueChange:a=>i({...r,materialType:a}),children:[u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select material type"})}),u.jsxs(ku,{children:[u.jsx(Qo,{value:"none",children:"None"}),u.jsx(Qo,{value:"pdf",children:"PDF"}),u.jsx(Qo,{value:"video",children:"Video"})]})]})]}),r.materialType!=="none"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ai,{htmlFor:"materialUrl",children:"Material URL"}),u.jsx(sn,{id:"materialUrl",value:r.materialUrl,onChange:a=>i({...r,materialUrl:a.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(fd,{id:"isMaterial",checked:r.isMaterial,onCheckedChange:a=>i({...r,isMaterial:a})}),u.jsx(Ai,{htmlFor:"isMaterial",children:"Has Material"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:t,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Save Changes"})]})]})]})}):null},pee=({lessons:e,onEdit:t})=>{const n=Yn(),r=i=>{n(tx(i))};return u.jsx("div",{className:"relative overflow-x-auto",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Material Type"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Created At"}),u.jsx(qe,{className:"text-right",children:"Actions"})]})}),u.jsx(Ds,{children:e.map(i=>u.jsxs(Tn,{children:[u.jsx(Fe,{className:"font-medium",children:i.title}),u.jsx(Fe,{children:u.jsx(hB,{variant:i.materialType==="none"?"secondary":"default",children:i.materialType})}),u.jsx(Fe,{children:u.jsx(fd,{checked:i.isActive,onCheckedChange:()=>{r(i._id)},className:"data-[state=checked]:bg-green-500"})}),u.jsx(Fe,{children:new Date(i.createdAt).toLocaleDateString()}),u.jsx(Fe,{className:"text-right",children:u.jsx(Ot,{variant:"ghost",size:"sm",onClick:()=>t(i),className:"hover:bg-gray-100",children:u.jsx(NR,{className:"h-4 w-4"})})})]},i._id))})]})})},mee=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(!1),[i,o]=P.useState(null),[s,c]=P.useState(""),a=Yn(),{lessons:l,isLoading:f,currentPage:p,totalPages:m}=Mn(y=>y.lesson);P.useEffect(()=>{E(1)},[s]);const E=y=>{a(ex({page:y,search:s}))},x=y=>{o(y),r(!0)};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lessons"}),u.jsxs(Ot,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[u.jsx(Yu,{className:"h-4 w-4"}),"Add Lesson"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search lesson by title",value:s,onChange:y=>{c(y.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsx(pee,{lessons:l,onEdit:x})}),u.jsx(fee,{isOpen:e,onClose:()=>t(!1)}),u.jsx(hee,{isOpen:n,onClose:()=>r(!1),lesson:i}),m>=1&&u.jsx(sa,{currentPage:p,totalPages:m,onPageChange:E})]})},gee=Of({title:Vn().min(1,"Title is required"),description:Vn().min(10,"Description must be at least 10 characters"),price:kf().min(0,"Price must be 0 or greater"),duration:Vn().min(1,"Duration is required"),features:Bu(Vn().min(1,"Feature cannot be empty")),thumbnail:Vn().url("Must be a valid URL"),standard:Vn().min(1,"Standard is required"),subject:Vn().min(1,"Subject is required"),boardId:Vn().min(1,"Board is required"),skillLevel:UJ(["Beginner","Intermediate","Advanced"]),lessons:Bu(Vn()),isActive:DS(),bookPDF:Bu(Vn().url("Must be a valid URL")).optional(),bonusPercent:kf().min(0,"Price must be 0 or greater").optional()});function vee({initialData:e,onSubmit:t,onCancel:n}){const{standards:r,isLoading:i}=Mn(_=>_.standard),{subjects:o,isLoading:s}=Mn(_=>_.subject),{board:c,isLoading:a}=Mn(_=>_.board),l=Yn();P.useEffect(()=>{l(cl()),l(Nf()),f("")},[]);const f=_=>{l(Pf(_))},p=th({resolver:Ay(gee),defaultValues:{title:"",description:"",price:0,duration:"",features:[""],thumbnail:"",standard:"",subject:"",boardId:"",skillLevel:"Beginner",lessons:[],isActive:!0,bookPDF:[],bonusPercent:0}}),{fields:m,append:E,remove:x}=GN({control:p.control,name:"features"}),{fields:y,append:w,remove:R}=GN({control:p.control,name:"bookPDF"});return P.useEffect(()=>{e?Object.keys(e).forEach(_=>{_==="standard"||_==="subject"?p.setValue(_,e[_]._id):_==="bookPDF"?p.setValue(_,e[_]||[]):p.setValue(_,e[_])}):(p.clearErrors(),p.reset())},[e,p]),u.jsx(nh,{...p,children:u.jsxs("form",{onSubmit:p.handleSubmit(t),className:"space-y-6",children:[u.jsx(nn,{control:p.control,name:"title",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Course title",..._})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"description",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Description"}),u.jsx(vn,{children:u.jsx(rh,{placeholder:"Course description",..._})}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(nn,{control:p.control,name:"price",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Price"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"0",..._,onChange:C=>_.onChange(Number(C.target.value))})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"duration",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Duration"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"e.g., 2 months",..._})}),u.jsx(Vt,{})]})})]}),u.jsx(nn,{control:p.control,name:"thumbnail",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Thumbnail URL"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"https://...",..._})}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(nn,{control:p.control,name:"standard",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Standard"}),i?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select standard",name:"standard",control:p.control,onSearch:()=>{},listing:r.map(C=>({id:C._id,label:C.std})),onItemSelect:C=>f(C)}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"subject",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Subject"}),s?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select subject",name:"subject",control:p.control,onSearch:()=>{},listing:o.map(C=>{var I;return{id:C._id,label:C.standard?C.subject+" - "+((I=C.standard)==null?void 0:I.std):C.subject}}),onItemSelect:C=>{}}),u.jsx(Vt,{})]})})]}),u.jsx(nn,{control:p.control,name:"boardId",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Board"}),a?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select board",name:"boardId",control:p.control,onSearch:()=>{},listing:c.map(C=>({id:C._id,label:C.boardname})),onItemSelect:C=>{console.log("Selected board ID:",C)}}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"bonusPercent",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Refer Bonus Percentage"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Enter refer bonus percentage",..._,onChange:C=>_.onChange(Number(C.target.value))})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"skillLevel",render:({field:_})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Skill Level"}),u.jsxs(yf,{onValueChange:_.onChange,defaultValue:_.value,children:[u.jsx(vn,{children:u.jsx(Ru,{children:u.jsx(bf,{placeholder:"Select skill level"})})}),u.jsxs(ku,{children:[u.jsx(Qo,{value:"Beginner",children:"Beginner"}),u.jsx(Qo,{value:"Intermediate",children:"Intermediate"}),u.jsx(Qo,{value:"Advanced",children:"Advanced"})]})]}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"features",render:()=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Features"}),m.map((_,C)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vn,{children:u.jsx(sn,{...p.register(`features.${C}`),placeholder:"Feature"})}),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>x(C),children:"Remove"})]},_.id)),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>E(""),className:"mt-2",children:"Add Feature"}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:p.control,name:"bookPDF",render:()=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Book PDF Links (Optional)"}),y.map((_,C)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vn,{children:u.jsx(sn,{...p.register(`bookPDF.${C}`),placeholder:"PDF Link"})}),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>R(C),children:"Remove"})]},_.id)),u.jsx(Ot,{type:"button",variant:"outline",onClick:()=>w(""),className:"mt-2",children:"Add PDF Link"}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(Ot,{variant:"outline",onClick:n,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:e?"Update Course":"Add Course"})]})]})})}function yee({open:e,onClose:t,course:n,onSubmit:r}){return u.jsx(ld,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(_l,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[u.jsx(wl,{children:u.jsx(El,{children:n?"Edit Course":"Add New Course"})}),u.jsx(vee,{initialData:n,onSubmit:r,onCancel:t})]})})}const bee=()=>{const e=Yn(),{toast:t}=Tc(),[n,r]=P.useState(!1),[i,o]=P.useState(),[s,c]=P.useState(""),{courses:a,isLoading:l,currentPage:f,totalPages:p}=Mn(_=>_.course);P.useEffect(()=>{R(1)},[s]);const m=()=>{o(void 0),r(!0)},E=_=>{o(_),r(!0)},x=()=>{r(!1),o(void 0)},y=_=>{i?e(rx({id:i._id,courseData:_})).then(C=>{C.type=="courses/updateCourse/fulfilled"&&(t({title:"Success",description:"Course updated successfully."}),x())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})}):e(nx(_)).then(C=>{C.type=="courses/addCourse/fulfilled"&&(t({title:"Success",description:"Course added successfully"}),x())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})})},w=_=>{e(ix(_._id))},R=_=>{e(Sv({page:_,search:s}))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Courses"}),u.jsxs(Ot,{onClick:m,children:[u.jsx(Yu,{className:"mr-2 h-4 w-4"})," Add Course"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search courses by title",value:s,onChange:_=>{c(_.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Subject"}),u.jsx(qe,{children:"Standard"}),u.jsx(qe,{children:"Price ()"}),u.jsx(qe,{children:"Refer Bonus"}),u.jsx(qe,{children:"Skill Level"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{className:"text-right",children:"Actions"})]})}),u.jsx(Ds,{children:l?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):a.length===0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"No courses found"})}):a.map(_=>u.jsxs(Tn,{children:[u.jsx(Fe,{className:"font-medium",children:_.title}),u.jsx(Fe,{children:_.subject?_.subject.subject:"-"}),u.jsx(Fe,{children:_.standard?_.standard.std:"-"}),u.jsx(Fe,{children:_.price===0?"Free":`${_.price}`}),u.jsx(Fe,{children:_==null?void 0:_.bonusPercent}),u.jsx(Fe,{children:_.skillLevel}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),u.jsxs(Fe,{className:"text-right",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(_),children:u.jsx(gM,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.isActive?u.jsx(ad,{className:"h-4 w-4"}):u.jsx(my,{className:"h-4 w-4"})})]})]},_._id))})]})}),p>=1&&u.jsx(sa,{currentPage:f,totalPages:p,onPageChange:R}),u.jsx(yee,{open:n,onClose:x,course:i,onSubmit:y})]})};var xee=function(t){return See(t)&&!_ee(t)};function See(e){return!!e&&typeof e=="object"}function _ee(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Cee(e)}var wee=typeof Symbol=="function"&&Symbol.for,Eee=wee?Symbol.for("react.element"):60103;function Cee(e){return e.$$typeof===Eee}function Tee(e){return Array.isArray(e)?[]:{}}function BS(e,t){return t.clone!==!1&&t.isMergeableObject(e)?oy(Tee(e),e,t):e}function Ree(e,t,n){return e.concat(t).map(function(r){return BS(r,n)})}function kee(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=BS(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=BS(t[i],n):r[i]=oy(e[i],t[i],n)}),r}function oy(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ree,n.isMergeableObject=n.isMergeableObject||xee;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):kee(e,t,n):BS(t,n)}oy.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return oy(r,i,n)},{})};var g1=oy,jB=typeof global=="object"&&global&&global.Object===Object&&global,Oee=typeof self=="object"&&self&&self.Object===Object&&self,Pc=jB||Oee||Function("return this")(),nd=Pc.Symbol,DB=Object.prototype,Pee=DB.hasOwnProperty,Nee=DB.toString,qg=nd?nd.toStringTag:void 0;function Iee(e){var t=Pee.call(e,qg),n=e[qg];try{e[qg]=void 0;var r=!0}catch{}var i=Nee.call(e);return r&&(t?e[qg]=n:delete e[qg]),i}var Aee=Object.prototype,jee=Aee.toString;function Dee(e){return jee.call(e)}var Mee="[object Null]",Lee="[object Undefined]",uI=nd?nd.toStringTag:void 0;function ih(e){return e==null?e===void 0?Lee:Mee:uI&&uI in Object(e)?Iee(e):Dee(e)}function MB(e,t){return function(n){return e(t(n))}}var Wk=MB(Object.getPrototypeOf,Object);function oh(e){return e!=null&&typeof e=="object"}var Fee="[object Object]",Uee=Function.prototype,Bee=Object.prototype,LB=Uee.toString,$ee=Bee.hasOwnProperty,Vee=LB.call(Object);function dI(e){if(!oh(e)||ih(e)!=Fee)return!1;var t=Wk(e);if(t===null)return!0;var n=$ee.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&LB.call(n)==Vee}function zee(){this.__data__=[],this.size=0}function FB(e,t){return e===t||e!==e&&t!==t}function Y_(e,t){for(var n=e.length;n--;)if(FB(e[n][0],t))return n;return-1}var Wee=Array.prototype,Hee=Wee.splice;function Gee(e){var t=this.__data__,n=Y_(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Hee.call(t,n,1),--this.size,!0}function qee(e){var t=this.__data__,n=Y_(t,e);return n<0?void 0:t[n][1]}function Kee(e){return Y_(this.__data__,e)>-1}function Yee(e,t){var n=this.__data__,r=Y_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Cl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cl.prototype.clear=zee;Cl.prototype.delete=Gee;Cl.prototype.get=qee;Cl.prototype.has=Kee;Cl.prototype.set=Yee;function Qee(){this.__data__=new Cl,this.size=0}function Xee(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Jee(e){return this.__data__.get(e)}function Zee(e){return this.__data__.has(e)}function Dy(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ete="[object AsyncFunction]",tte="[object Function]",nte="[object GeneratorFunction]",rte="[object Proxy]";function UB(e){if(!Dy(e))return!1;var t=ih(e);return t==tte||t==nte||t==ete||t==rte}var fC=Pc["__core-js_shared__"],fI=function(){var e=/[^.]+$/.exec(fC&&fC.keys&&fC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ite(e){return!!fI&&fI in e}var ote=Function.prototype,ste=ote.toString;function sh(e){if(e!=null){try{return ste.call(e)}catch{}try{return e+""}catch{}}return""}var ate=/[\\^$.*+?()[\]{}|]/g,cte=/^\[object .+?Constructor\]$/,lte=Function.prototype,ute=Object.prototype,dte=lte.toString,fte=ute.hasOwnProperty,hte=RegExp("^"+dte.call(fte).replace(ate,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pte(e){if(!Dy(e)||ite(e))return!1;var t=UB(e)?hte:cte;return t.test(sh(e))}function mte(e,t){return e==null?void 0:e[t]}function ah(e,t){var n=mte(e,t);return pte(n)?n:void 0}var sy=ah(Pc,"Map"),ay=ah(Object,"create");function gte(){this.__data__=ay?ay(null):{},this.size=0}function vte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yte="__lodash_hash_undefined__",bte=Object.prototype,xte=bte.hasOwnProperty;function Ste(e){var t=this.__data__;if(ay){var n=t[e];return n===yte?void 0:n}return xte.call(t,e)?t[e]:void 0}var _te=Object.prototype,wte=_te.hasOwnProperty;function Ete(e){var t=this.__data__;return ay?t[e]!==void 0:wte.call(t,e)}var Cte="__lodash_hash_undefined__";function Tte(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ay&&t===void 0?Cte:t,this}function qf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qf.prototype.clear=gte;qf.prototype.delete=vte;qf.prototype.get=Ste;qf.prototype.has=Ete;qf.prototype.set=Tte;function Rte(){this.size=0,this.__data__={hash:new qf,map:new(sy||Cl),string:new qf}}function kte(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Q_(e,t){var n=e.__data__;return kte(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ote(e){var t=Q_(this,e).delete(e);return this.size-=t?1:0,t}function Pte(e){return Q_(this,e).get(e)}function Nte(e){return Q_(this,e).has(e)}function Ite(e,t){var n=Q_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function hd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hd.prototype.clear=Rte;hd.prototype.delete=Ote;hd.prototype.get=Pte;hd.prototype.has=Nte;hd.prototype.set=Ite;var Ate=200;function jte(e,t){var n=this.__data__;if(n instanceof Cl){var r=n.__data__;if(!sy||r.length<Ate-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hd(r)}return n.set(e,t),this.size=n.size,this}function Sm(e){var t=this.__data__=new Cl(e);this.size=t.size}Sm.prototype.clear=Qee;Sm.prototype.delete=Xee;Sm.prototype.get=Jee;Sm.prototype.has=Zee;Sm.prototype.set=jte;function Dte(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var hI=function(){try{var e=ah(Object,"defineProperty");return e({},"",{}),e}catch{}}();function BB(e,t,n){t=="__proto__"&&hI?hI(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Mte=Object.prototype,Lte=Mte.hasOwnProperty;function $B(e,t,n){var r=e[t];(!(Lte.call(e,t)&&FB(r,n))||n===void 0&&!(t in e))&&BB(e,t,n)}function X_(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var c=t[o],a=void 0;a===void 0&&(a=e[c]),i?BB(n,c,a):$B(n,c,a)}return n}function Fte(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Ute="[object Arguments]";function pI(e){return oh(e)&&ih(e)==Ute}var VB=Object.prototype,Bte=VB.hasOwnProperty,$te=VB.propertyIsEnumerable,Vte=pI(function(){return arguments}())?pI:function(e){return oh(e)&&Bte.call(e,"callee")&&!$te.call(e,"callee")},My=Array.isArray;function zte(){return!1}var zB=typeof _s=="object"&&_s&&!_s.nodeType&&_s,mI=zB&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Wte=mI&&mI.exports===zB,gI=Wte?Pc.Buffer:void 0,Hte=gI?gI.isBuffer:void 0,WB=Hte||zte,Gte=9007199254740991,qte=/^(?:0|[1-9]\d*)$/;function Kte(e,t){var n=typeof e;return t=t??Gte,!!t&&(n=="number"||n!="symbol"&&qte.test(e))&&e>-1&&e%1==0&&e<t}var Yte=9007199254740991;function HB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yte}var Qte="[object Arguments]",Xte="[object Array]",Jte="[object Boolean]",Zte="[object Date]",ene="[object Error]",tne="[object Function]",nne="[object Map]",rne="[object Number]",ine="[object Object]",one="[object RegExp]",sne="[object Set]",ane="[object String]",cne="[object WeakMap]",lne="[object ArrayBuffer]",une="[object DataView]",dne="[object Float32Array]",fne="[object Float64Array]",hne="[object Int8Array]",pne="[object Int16Array]",mne="[object Int32Array]",gne="[object Uint8Array]",vne="[object Uint8ClampedArray]",yne="[object Uint16Array]",bne="[object Uint32Array]",Rr={};Rr[dne]=Rr[fne]=Rr[hne]=Rr[pne]=Rr[mne]=Rr[gne]=Rr[vne]=Rr[yne]=Rr[bne]=!0;Rr[Qte]=Rr[Xte]=Rr[lne]=Rr[Jte]=Rr[une]=Rr[Zte]=Rr[ene]=Rr[tne]=Rr[nne]=Rr[rne]=Rr[ine]=Rr[one]=Rr[sne]=Rr[ane]=Rr[cne]=!1;function xne(e){return oh(e)&&HB(e.length)&&!!Rr[ih(e)]}function Hk(e){return function(t){return e(t)}}var GB=typeof _s=="object"&&_s&&!_s.nodeType&&_s,_v=GB&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Sne=_v&&_v.exports===GB,hC=Sne&&jB.process,im=function(){try{var e=_v&&_v.require&&_v.require("util").types;return e||hC&&hC.binding&&hC.binding("util")}catch{}}(),vI=im&&im.isTypedArray,_ne=vI?Hk(vI):xne,wne=Object.prototype,Ene=wne.hasOwnProperty;function qB(e,t){var n=My(e),r=!n&&Vte(e),i=!n&&!r&&WB(e),o=!n&&!r&&!i&&_ne(e),s=n||r||i||o,c=s?Fte(e.length,String):[],a=c.length;for(var l in e)(t||Ene.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Kte(l,a)))&&c.push(l);return c}var Cne=Object.prototype;function Gk(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Cne;return e===n}var Tne=MB(Object.keys,Object),Rne=Object.prototype,kne=Rne.hasOwnProperty;function One(e){if(!Gk(e))return Tne(e);var t=[];for(var n in Object(e))kne.call(e,n)&&n!="constructor"&&t.push(n);return t}function KB(e){return e!=null&&HB(e.length)&&!UB(e)}function qk(e){return KB(e)?qB(e):One(e)}function Pne(e,t){return e&&X_(t,qk(t),e)}function Nne(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ine=Object.prototype,Ane=Ine.hasOwnProperty;function jne(e){if(!Dy(e))return Nne(e);var t=Gk(e),n=[];for(var r in e)r=="constructor"&&(t||!Ane.call(e,r))||n.push(r);return n}function Kk(e){return KB(e)?qB(e,!0):jne(e)}function Dne(e,t){return e&&X_(t,Kk(t),e)}var YB=typeof _s=="object"&&_s&&!_s.nodeType&&_s,yI=YB&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Mne=yI&&yI.exports===YB,bI=Mne?Pc.Buffer:void 0,xI=bI?bI.allocUnsafe:void 0;function Lne(e,t){if(t)return e.slice();var n=e.length,r=xI?xI(n):new e.constructor(n);return e.copy(r),r}function QB(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Fne(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function XB(){return[]}var Une=Object.prototype,Bne=Une.propertyIsEnumerable,SI=Object.getOwnPropertySymbols,Yk=SI?function(e){return e==null?[]:(e=Object(e),Fne(SI(e),function(t){return Bne.call(e,t)}))}:XB;function $ne(e,t){return X_(e,Yk(e),t)}function JB(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Vne=Object.getOwnPropertySymbols,ZB=Vne?function(e){for(var t=[];e;)JB(t,Yk(e)),e=Wk(e);return t}:XB;function zne(e,t){return X_(e,ZB(e),t)}function e4(e,t,n){var r=t(e);return My(e)?r:JB(r,n(e))}function Wne(e){return e4(e,qk,Yk)}function Hne(e){return e4(e,Kk,ZB)}var v1=ah(Pc,"DataView"),y1=ah(Pc,"Promise"),b1=ah(Pc,"Set"),x1=ah(Pc,"WeakMap"),_I="[object Map]",Gne="[object Object]",wI="[object Promise]",EI="[object Set]",CI="[object WeakMap]",TI="[object DataView]",qne=sh(v1),Kne=sh(sy),Yne=sh(y1),Qne=sh(b1),Xne=sh(x1),el=ih;(v1&&el(new v1(new ArrayBuffer(1)))!=TI||sy&&el(new sy)!=_I||y1&&el(y1.resolve())!=wI||b1&&el(new b1)!=EI||x1&&el(new x1)!=CI)&&(el=function(e){var t=ih(e),n=t==Gne?e.constructor:void 0,r=n?sh(n):"";if(r)switch(r){case qne:return TI;case Kne:return _I;case Yne:return wI;case Qne:return EI;case Xne:return CI}return t});var Jne=Object.prototype,Zne=Jne.hasOwnProperty;function ere(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Zne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var RI=Pc.Uint8Array;function Qk(e){var t=new e.constructor(e.byteLength);return new RI(t).set(new RI(e)),t}function tre(e,t){var n=t?Qk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var nre=/\w*$/;function rre(e){var t=new e.constructor(e.source,nre.exec(e));return t.lastIndex=e.lastIndex,t}var kI=nd?nd.prototype:void 0,OI=kI?kI.valueOf:void 0;function ire(e){return OI?Object(OI.call(e)):{}}function ore(e,t){var n=t?Qk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var sre="[object Boolean]",are="[object Date]",cre="[object Map]",lre="[object Number]",ure="[object RegExp]",dre="[object Set]",fre="[object String]",hre="[object Symbol]",pre="[object ArrayBuffer]",mre="[object DataView]",gre="[object Float32Array]",vre="[object Float64Array]",yre="[object Int8Array]",bre="[object Int16Array]",xre="[object Int32Array]",Sre="[object Uint8Array]",_re="[object Uint8ClampedArray]",wre="[object Uint16Array]",Ere="[object Uint32Array]";function Cre(e,t,n){var r=e.constructor;switch(t){case pre:return Qk(e);case sre:case are:return new r(+e);case mre:return tre(e,n);case gre:case vre:case yre:case bre:case xre:case Sre:case _re:case wre:case Ere:return ore(e,n);case cre:return new r;case lre:case fre:return new r(e);case ure:return rre(e);case dre:return new r;case hre:return ire(e)}}var PI=Object.create,Tre=function(){function e(){}return function(t){if(!Dy(t))return{};if(PI)return PI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Rre(e){return typeof e.constructor=="function"&&!Gk(e)?Tre(Wk(e)):{}}var kre="[object Map]";function Ore(e){return oh(e)&&el(e)==kre}var NI=im&&im.isMap,Pre=NI?Hk(NI):Ore,Nre="[object Set]";function Ire(e){return oh(e)&&el(e)==Nre}var II=im&&im.isSet,Are=II?Hk(II):Ire,jre=1,Dre=2,Mre=4,t4="[object Arguments]",Lre="[object Array]",Fre="[object Boolean]",Ure="[object Date]",Bre="[object Error]",n4="[object Function]",$re="[object GeneratorFunction]",Vre="[object Map]",zre="[object Number]",r4="[object Object]",Wre="[object RegExp]",Hre="[object Set]",Gre="[object String]",qre="[object Symbol]",Kre="[object WeakMap]",Yre="[object ArrayBuffer]",Qre="[object DataView]",Xre="[object Float32Array]",Jre="[object Float64Array]",Zre="[object Int8Array]",eie="[object Int16Array]",tie="[object Int32Array]",nie="[object Uint8Array]",rie="[object Uint8ClampedArray]",iie="[object Uint16Array]",oie="[object Uint32Array]",yr={};yr[t4]=yr[Lre]=yr[Yre]=yr[Qre]=yr[Fre]=yr[Ure]=yr[Xre]=yr[Jre]=yr[Zre]=yr[eie]=yr[tie]=yr[Vre]=yr[zre]=yr[r4]=yr[Wre]=yr[Hre]=yr[Gre]=yr[qre]=yr[nie]=yr[rie]=yr[iie]=yr[oie]=!0;yr[Bre]=yr[n4]=yr[Kre]=!1;function wv(e,t,n,r,i,o){var s,c=t&jre,a=t&Dre,l=t&Mre;if(s!==void 0)return s;if(!Dy(e))return e;var f=My(e);if(f){if(s=ere(e),!c)return QB(e,s)}else{var p=el(e),m=p==n4||p==$re;if(WB(e))return Lne(e,c);if(p==r4||p==t4||m&&!i){if(s=a||m?{}:Rre(e),!c)return a?zne(e,Dne(s,e)):$ne(e,Pne(s,e))}else{if(!yr[p])return i?e:{};s=Cre(e,p,c)}}o||(o=new Sm);var E=o.get(e);if(E)return E;o.set(e,s),Are(e)?e.forEach(function(w){s.add(wv(w,t,n,w,e,o))}):Pre(e)&&e.forEach(function(w,R){s.set(R,wv(w,t,n,R,e,o))});var x=l?a?Hne:Wne:a?Kk:qk,y=f?void 0:x(e);return Dte(y||e,function(w,R){y&&(R=w,w=e[R]),$B(s,R,wv(w,t,n,R,e,o))}),s}var sie=1,aie=4;function iv(e){return wv(e,sie|aie)}var AI=Array.isArray,jI=Object.keys,cie=Object.prototype.hasOwnProperty,lie=typeof Element<"u";function S1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=AI(e),r=AI(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!S1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var c=e instanceof Date,a=t instanceof Date;if(c!=a)return!1;if(c&&a)return e.getTime()==t.getTime();var l=e instanceof RegExp,f=t instanceof RegExp;if(l!=f)return!1;if(l&&f)return e.toString()==t.toString();var p=jI(e);if(o=p.length,o!==jI(t).length)return!1;for(i=o;i--!==0;)if(!cie.call(t,p[i]))return!1;if(lie&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=p[i],!(s==="_owner"&&e.$$typeof)&&!S1(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var uie=function(t,n){try{return S1(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const mu=Yf(uie);var die=4;function DI(e){return wv(e,die)}function i4(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var fie="[object Symbol]";function Xk(e){return typeof e=="symbol"||oh(e)&&ih(e)==fie}var hie="Expected a function";function Jk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Jk.Cache||hd),n}Jk.Cache=hd;var pie=500;function mie(e){var t=Jk(e,function(r){return n.size===pie&&n.clear(),r}),n=t.cache;return t}var gie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vie=/\\(\\)?/g,yie=mie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gie,function(n,r,i,o){t.push(i?o.replace(vie,"$1"):r||n)}),t}),bie=1/0;function xie(e){if(typeof e=="string"||Xk(e))return e;var t=e+"";return t=="0"&&1/e==-bie?"-0":t}var Sie=1/0,MI=nd?nd.prototype:void 0,LI=MI?MI.toString:void 0;function o4(e){if(typeof e=="string")return e;if(My(e))return i4(e,o4)+"";if(Xk(e))return LI?LI.call(e):"";var t=e+"";return t=="0"&&1/e==-Sie?"-0":t}function _ie(e){return e==null?"":o4(e)}function s4(e){return My(e)?i4(e,xie):Xk(e)?[e]:QB(yie(_ie(e)))}var a4={exports:{}},rr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=typeof Symbol=="function"&&Symbol.for,Zk=Di?Symbol.for("react.element"):60103,eO=Di?Symbol.for("react.portal"):60106,J_=Di?Symbol.for("react.fragment"):60107,Z_=Di?Symbol.for("react.strict_mode"):60108,ew=Di?Symbol.for("react.profiler"):60114,tw=Di?Symbol.for("react.provider"):60109,nw=Di?Symbol.for("react.context"):60110,tO=Di?Symbol.for("react.async_mode"):60111,rw=Di?Symbol.for("react.concurrent_mode"):60111,iw=Di?Symbol.for("react.forward_ref"):60112,ow=Di?Symbol.for("react.suspense"):60113,wie=Di?Symbol.for("react.suspense_list"):60120,sw=Di?Symbol.for("react.memo"):60115,aw=Di?Symbol.for("react.lazy"):60116,Eie=Di?Symbol.for("react.block"):60121,Cie=Di?Symbol.for("react.fundamental"):60117,Tie=Di?Symbol.for("react.responder"):60118,Rie=Di?Symbol.for("react.scope"):60119;function Ms(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zk:switch(e=e.type,e){case tO:case rw:case J_:case ew:case Z_:case ow:return e;default:switch(e=e&&e.$$typeof,e){case nw:case iw:case aw:case sw:case tw:return e;default:return t}}case eO:return t}}}function c4(e){return Ms(e)===rw}rr.AsyncMode=tO;rr.ConcurrentMode=rw;rr.ContextConsumer=nw;rr.ContextProvider=tw;rr.Element=Zk;rr.ForwardRef=iw;rr.Fragment=J_;rr.Lazy=aw;rr.Memo=sw;rr.Portal=eO;rr.Profiler=ew;rr.StrictMode=Z_;rr.Suspense=ow;rr.isAsyncMode=function(e){return c4(e)||Ms(e)===tO};rr.isConcurrentMode=c4;rr.isContextConsumer=function(e){return Ms(e)===nw};rr.isContextProvider=function(e){return Ms(e)===tw};rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zk};rr.isForwardRef=function(e){return Ms(e)===iw};rr.isFragment=function(e){return Ms(e)===J_};rr.isLazy=function(e){return Ms(e)===aw};rr.isMemo=function(e){return Ms(e)===sw};rr.isPortal=function(e){return Ms(e)===eO};rr.isProfiler=function(e){return Ms(e)===ew};rr.isStrictMode=function(e){return Ms(e)===Z_};rr.isSuspense=function(e){return Ms(e)===ow};rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===J_||e===rw||e===ew||e===Z_||e===ow||e===wie||typeof e=="object"&&e!==null&&(e.$$typeof===aw||e.$$typeof===sw||e.$$typeof===tw||e.$$typeof===nw||e.$$typeof===iw||e.$$typeof===Cie||e.$$typeof===Tie||e.$$typeof===Rie||e.$$typeof===Eie)};rr.typeOf=Ms;a4.exports=rr;var kie=a4.exports,nO=kie,Oie={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Nie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rO={};rO[nO.ForwardRef]=Nie;rO[nO.Memo]=l4;function FI(e){return nO.isMemo(e)?l4:rO[e.$$typeof]||Oie}var Iie=Object.defineProperty,Aie=Object.getOwnPropertyNames,UI=Object.getOwnPropertySymbols,jie=Object.getOwnPropertyDescriptor,Die=Object.getPrototypeOf,BI=Object.prototype;function u4(e,t,n){if(typeof t!="string"){if(BI){var r=Die(t);r&&r!==BI&&u4(e,r,n)}var i=Aie(t);UI&&(i=i.concat(UI(t)));for(var o=FI(e),s=FI(t),c=0;c<i.length;++c){var a=i[c];if(!Pie[a]&&!(n&&n[a])&&!(s&&s[a])&&!(o&&o[a])){var l=jie(t,a);try{Iie(e,a,l)}catch{}}}}return e}var Mie=u4;const Lie=Yf(Mie);function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}function d4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ou(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cw=P.createContext(void 0);cw.displayName="FormikContext";var Fie=cw.Provider,Uie=cw.Consumer;function f4(){var e=P.useContext(cw);return e}var VI=function(t){return Array.isArray(t)&&t.length===0},Hi=function(t){return typeof t=="function"},Ly=function(t){return t!==null&&typeof t=="object"},Bie=function(t){return String(Math.floor(Number(t)))===t},pC=function(t){return Object.prototype.toString.call(t)==="[object String]"},h4=function(t){return P.Children.count(t)===0},mC=function(t){return Ly(t)&&Hi(t.then)};function Nr(e,t,n,r){r===void 0&&(r=0);for(var i=s4(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function bc(e,t,n){for(var r=DI(e),i=r,o=0,s=s4(t);o<s.length-1;o++){var c=s[o],a=Nr(e,s.slice(0,o+1));if(a&&(Ly(a)||Array.isArray(a)))i=i[c]=DI(a);else{var l=s[o+1];i=i[c]=Bie(l)&&Number(l)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function p4(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],c=e[s];Ly(c)?n.get(c)||(n.set(c,!0),r[s]=Array.isArray(c)?[]:{},p4(c,t,n,r[s])):r[s]=t}return r}function $ie(e,t){switch(t.type){case"SET_VALUES":return tr({},e,{values:t.payload});case"SET_TOUCHED":return tr({},e,{touched:t.payload});case"SET_ERRORS":return mu(e.errors,t.payload)?e:tr({},e,{errors:t.payload});case"SET_STATUS":return tr({},e,{status:t.payload});case"SET_ISSUBMITTING":return tr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return tr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return tr({},e,{values:bc(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return tr({},e,{touched:bc(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return tr({},e,{errors:bc(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return tr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return tr({},e,{touched:p4(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return tr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return tr({},e,{isSubmitting:!1});default:return e}}var af={},hb={};function Vie(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,c=e.isInitialValid,a=e.enableReinitialize,l=a===void 0?!1:a,f=e.onSubmit,p=Ou(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=tr({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:f},p),E=P.useRef(m.initialValues),x=P.useRef(m.initialErrors||af),y=P.useRef(m.initialTouched||hb),w=P.useRef(m.initialStatus),R=P.useRef(!1),_=P.useRef({});P.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var C=P.useState(0),I=C[1],j=P.useRef({values:iv(m.initialValues),errors:iv(m.initialErrors)||af,touched:iv(m.initialTouched)||hb,status:iv(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),U=j.current,V=P.useCallback(function(re){var de=j.current;j.current=$ie(de,re),de!==j.current&&I(function(Re){return Re+1})},[]),z=P.useCallback(function(re,de){return new Promise(function(Re,De){var nt=m.validate(re,de);nt==null?Re(af):mC(nt)?nt.then(function(St){Re(St||af)},function(St){De(St)}):Re(nt)})},[m.validate]),q=P.useCallback(function(re,de){var Re=m.validationSchema,De=Hi(Re)?Re(de):Re,nt=de&&De.validateAt?De.validateAt(de,re):Hie(re,De);return new Promise(function(St,Sn){nt.then(function(){St(af)},function(Qr){Qr.name==="ValidationError"?St(Wie(Qr)):Sn(Qr)})})},[m.validationSchema]),X=P.useCallback(function(re,de){return new Promise(function(Re){return Re(_.current[re].validate(de))})},[]),J=P.useCallback(function(re){var de=Object.keys(_.current).filter(function(De){return Hi(_.current[De].validate)}),Re=de.length>0?de.map(function(De){return X(De,Nr(re,De))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Re).then(function(De){return De.reduce(function(nt,St,Sn){return St==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||St&&(nt=bc(nt,de[Sn],St)),nt},{})})},[X]),G=P.useCallback(function(re){return Promise.all([J(re),m.validationSchema?q(re):{},m.validate?z(re):{}]).then(function(de){var Re=de[0],De=de[1],nt=de[2],St=g1.all([Re,De,nt],{arrayMerge:Gie});return St})},[m.validate,m.validationSchema,J,z,q]),ee=Ks(function(re){return re===void 0&&(re=U.values),V({type:"SET_ISVALIDATING",payload:!0}),G(re).then(function(de){return R.current&&(V({type:"SET_ISVALIDATING",payload:!1}),V({type:"SET_ERRORS",payload:de})),de})});P.useEffect(function(){s&&R.current===!0&&mu(E.current,m.initialValues)&&ee(E.current)},[s,ee]);var ce=P.useCallback(function(re){var de=re&&re.values?re.values:E.current,Re=re&&re.errors?re.errors:x.current?x.current:m.initialErrors||{},De=re&&re.touched?re.touched:y.current?y.current:m.initialTouched||{},nt=re&&re.status?re.status:w.current?w.current:m.initialStatus;E.current=de,x.current=Re,y.current=De,w.current=nt;var St=function(){V({type:"RESET_FORM",payload:{isSubmitting:!!re&&!!re.isSubmitting,errors:Re,touched:De,status:nt,values:de,isValidating:!!re&&!!re.isValidating,submitCount:re&&re.submitCount&&typeof re.submitCount=="number"?re.submitCount:0}})};if(m.onReset){var Sn=m.onReset(U.values,Fn);mC(Sn)?Sn.then(St):St()}else St()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);P.useEffect(function(){R.current===!0&&!mu(E.current,m.initialValues)&&l&&(E.current=m.initialValues,ce(),s&&ee(E.current))},[l,m.initialValues,ce,s,ee]),P.useEffect(function(){l&&R.current===!0&&!mu(x.current,m.initialErrors)&&(x.current=m.initialErrors||af,V({type:"SET_ERRORS",payload:m.initialErrors||af}))},[l,m.initialErrors]),P.useEffect(function(){l&&R.current===!0&&!mu(y.current,m.initialTouched)&&(y.current=m.initialTouched||hb,V({type:"SET_TOUCHED",payload:m.initialTouched||hb}))},[l,m.initialTouched]),P.useEffect(function(){l&&R.current===!0&&!mu(w.current,m.initialStatus)&&(w.current=m.initialStatus,V({type:"SET_STATUS",payload:m.initialStatus}))},[l,m.initialStatus,m.initialTouched]);var xe=Ks(function(re){if(_.current[re]&&Hi(_.current[re].validate)){var de=Nr(U.values,re),Re=_.current[re].validate(de);return mC(Re)?(V({type:"SET_ISVALIDATING",payload:!0}),Re.then(function(De){return De}).then(function(De){V({type:"SET_FIELD_ERROR",payload:{field:re,value:De}}),V({type:"SET_ISVALIDATING",payload:!1})})):(V({type:"SET_FIELD_ERROR",payload:{field:re,value:Re}}),Promise.resolve(Re))}else if(m.validationSchema)return V({type:"SET_ISVALIDATING",payload:!0}),q(U.values,re).then(function(De){return De}).then(function(De){V({type:"SET_FIELD_ERROR",payload:{field:re,value:Nr(De,re)}}),V({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Se=P.useCallback(function(re,de){var Re=de.validate;_.current[re]={validate:Re}},[]),ve=P.useCallback(function(re){delete _.current[re]},[]),Y=Ks(function(re,de){V({type:"SET_TOUCHED",payload:re});var Re=de===void 0?i:de;return Re?ee(U.values):Promise.resolve()}),Q=P.useCallback(function(re){V({type:"SET_ERRORS",payload:re})},[]),ne=Ks(function(re,de){var Re=Hi(re)?re(U.values):re;V({type:"SET_VALUES",payload:Re});var De=de===void 0?n:de;return De?ee(Re):Promise.resolve()}),fe=P.useCallback(function(re,de){V({type:"SET_FIELD_ERROR",payload:{field:re,value:de}})},[]),Te=Ks(function(re,de,Re){V({type:"SET_FIELD_VALUE",payload:{field:re,value:de}});var De=Re===void 0?n:Re;return De?ee(bc(U.values,re,de)):Promise.resolve()}),He=P.useCallback(function(re,de){var Re=de,De=re,nt;if(!pC(re)){re.persist&&re.persist();var St=re.target?re.target:re.currentTarget,Sn=St.type,Qr=St.name,fi=St.id,fo=St.value,Cn=St.checked,kn=St.outerHTML,Ls=St.options,Ba=St.multiple;Re=de||Qr||fi,De=/number|range/.test(Sn)?(nt=parseFloat(fo),isNaN(nt)?"":nt):/checkbox/.test(Sn)?Kie(Nr(U.values,Re),Cn,fo):Ls&&Ba?qie(Ls):fo}Re&&Te(Re,De)},[Te,U.values]),Le=Ks(function(re){if(pC(re))return function(de){return He(de,re)};He(re)}),bt=Ks(function(re,de,Re){de===void 0&&(de=!0),V({type:"SET_FIELD_TOUCHED",payload:{field:re,value:de}});var De=Re===void 0?i:Re;return De?ee(U.values):Promise.resolve()}),Gt=P.useCallback(function(re,de){re.persist&&re.persist();var Re=re.target,De=Re.name,nt=Re.id,St=Re.outerHTML,Sn=de||De||nt;bt(Sn,!0)},[bt]),Ye=Ks(function(re){if(pC(re))return function(de){return Gt(de,re)};Gt(re)}),lt=P.useCallback(function(re){Hi(re)?V({type:"SET_FORMIK_STATE",payload:re}):V({type:"SET_FORMIK_STATE",payload:function(){return re}})},[]),Mt=P.useCallback(function(re){V({type:"SET_STATUS",payload:re})},[]),Xt=P.useCallback(function(re){V({type:"SET_ISSUBMITTING",payload:re})},[]),Lt=Ks(function(){return V({type:"SUBMIT_ATTEMPT"}),ee().then(function(re){var de=re instanceof Error,Re=!de&&Object.keys(re).length===0;if(Re){var De;try{if(De=Qn(),De===void 0)return}catch(nt){throw nt}return Promise.resolve(De).then(function(nt){return R.current&&V({type:"SUBMIT_SUCCESS"}),nt}).catch(function(nt){if(R.current)throw V({type:"SUBMIT_FAILURE"}),nt})}else if(R.current&&(V({type:"SUBMIT_FAILURE"}),de))throw re})}),qt=Ks(function(re){re&&re.preventDefault&&Hi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Hi(re.stopPropagation)&&re.stopPropagation(),Lt().catch(function(de){console.warn("Warning: An unhandled error was caught from submitForm()",de)})}),Fn={resetForm:ce,validateForm:ee,validateField:xe,setErrors:Q,setFieldError:fe,setFieldTouched:bt,setFieldValue:Te,setStatus:Mt,setSubmitting:Xt,setTouched:Y,setValues:ne,setFormikState:lt,submitForm:Lt},Qn=Ks(function(){return f(U.values,Fn)}),ut=Ks(function(re){re&&re.preventDefault&&Hi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Hi(re.stopPropagation)&&re.stopPropagation(),ce()}),Ar=P.useCallback(function(re){return{value:Nr(U.values,re),error:Nr(U.errors,re),touched:!!Nr(U.touched,re),initialValue:Nr(E.current,re),initialTouched:!!Nr(y.current,re),initialError:Nr(x.current,re)}},[U.errors,U.touched,U.values]),Mi=P.useCallback(function(re){return{setValue:function(Re,De){return Te(re,Re,De)},setTouched:function(Re,De){return bt(re,Re,De)},setError:function(Re){return fe(re,Re)}}},[Te,bt,fe]),Z=P.useCallback(function(re){var de=Ly(re),Re=de?re.name:re,De=Nr(U.values,Re),nt={name:Re,value:De,onChange:Le,onBlur:Ye};if(de){var St=re.type,Sn=re.value,Qr=re.as,fi=re.multiple;St==="checkbox"?Sn===void 0?nt.checked=!!De:(nt.checked=!!(Array.isArray(De)&&~De.indexOf(Sn)),nt.value=Sn):St==="radio"?(nt.checked=De===Sn,nt.value=Sn):Qr==="select"&&fi&&(nt.value=nt.value||[],nt.multiple=!0)}return nt},[Ye,Le,U.values]),pe=P.useMemo(function(){return!mu(E.current,U.values)},[E.current,U.values]),Ce=P.useMemo(function(){return typeof c<"u"?pe?U.errors&&Object.keys(U.errors).length===0:c!==!1&&Hi(c)?c(m):c:U.errors&&Object.keys(U.errors).length===0},[c,pe,U.errors,m]),Qe=tr({},U,{initialValues:E.current,initialErrors:x.current,initialTouched:y.current,initialStatus:w.current,handleBlur:Ye,handleChange:Le,handleReset:ut,handleSubmit:qt,resetForm:ce,setErrors:Q,setFormikState:lt,setFieldTouched:bt,setFieldValue:Te,setFieldError:fe,setStatus:Mt,setSubmitting:Xt,setTouched:Y,setValues:ne,submitForm:Lt,validateForm:ee,validateField:xe,isValid:Ce,dirty:pe,unregisterField:ve,registerField:Se,getFieldProps:Z,getFieldMeta:Ar,getFieldHelpers:Mi,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Qe}function zie(e){var t=Vie(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return P.useImperativeHandle(o,function(){return t}),P.createElement(Fie,{value:t},n?P.createElement(n,t):i?i(t):r?Hi(r)?r(t):h4(r)?null:P.Children.only(r):null)}function Wie(e){var t={};if(e.inner){if(e.inner.length===0)return bc(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Nr(t,s.path)||(t=bc(t,s.path,s.message))}}return t}function Hie(e,t,n,r){n===void 0&&(n=!1);var i=_1(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function _1(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||dI(i)?_1(i):i!==""?i:void 0}):dI(e[r])?t[r]=_1(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function Gie(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var c=n.clone!==!1,a=c&&n.isMergeableObject(o);r[s]=a?g1(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=g1(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function qie(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Kie(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var Yie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function Ks(e){var t=P.useRef(e);return Yie(function(){t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function zI(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,c=e.className,a=Ou(e,["validate","name","render","children","as","component","className"]),l=f4(),f=Ou(l,["validate","validationSchema"]),p=f.registerField,m=f.unregisterField;P.useEffect(function(){return p(n,{validate:t}),function(){m(n)}},[p,m,n,t]);var E=f.getFieldProps(tr({name:n},a)),x=f.getFieldMeta(n),y={field:E,form:f};if(r)return r(tr({},y,{meta:x}));if(Hi(i))return i(tr({},y,{meta:x}));if(s){if(typeof s=="string"){var w=a.innerRef,R=Ou(a,["innerRef"]);return P.createElement(s,tr({ref:w},E,R,{className:c}),i)}return P.createElement(s,tr({field:E,form:f},a,{className:c}),i)}var _=o||"input";if(typeof _=="string"){var C=a.innerRef,I=Ou(a,["innerRef"]);return P.createElement(_,tr({ref:C},E,I,{className:c}),i)}return P.createElement(_,tr({},E,a,{className:c}),i)}var m4=P.forwardRef(function(e,t){var n=e.action,r=Ou(e,["action"]),i=n??"#",o=f4(),s=o.handleReset,c=o.handleSubmit;return P.createElement("form",tr({onSubmit:c,ref:t,onReset:s,action:i},r))});m4.displayName="Form";function Qie(e){var t=function(i){return P.createElement(Uie,null,function(o){return P.createElement(e,tr({},i,{formik:o}))})},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",Lie(t,e)}var Xie=function(t,n,r){var i=Kf(t),o=i[n];return i.splice(n,1),i.splice(r,0,o),i},Jie=function(t,n,r){var i=Kf(t),o=i[n];return i[n]=i[r],i[r]=o,i},gC=function(t,n,r){var i=Kf(t);return i.splice(n,0,r),i},Zie=function(t,n,r){var i=Kf(t);return i[n]=r,i},Kf=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(tr({},t,{length:n+1}))}else return[]},WI=function(t,n){var r=typeof t=="function"?t:n;return function(i){if(Array.isArray(i)||Ly(i)){var o=Kf(i);return r(o)}return i}},eoe=function(e){d4(t,e);function t(r){var i;return i=e.call(this,r)||this,i.updateArrayField=function(o,s,c){var a=i.props,l=a.name,f=a.formik.setFormikState;f(function(p){var m=WI(c,o),E=WI(s,o),x=bc(p.values,l,o(Nr(p.values,l))),y=c?m(Nr(p.errors,l)):void 0,w=s?E(Nr(p.touched,l)):void 0;return VI(y)&&(y=void 0),VI(w)&&(w=void 0),tr({},p,{values:x,errors:c?bc(p.errors,l,y):p.errors,touched:s?bc(p.touched,l,w):p.touched})})},i.push=function(o){return i.updateArrayField(function(s){return[].concat(Kf(s),[iv(o)])},!1,!1)},i.handlePush=function(o){return function(){return i.push(o)}},i.swap=function(o,s){return i.updateArrayField(function(c){return Jie(c,o,s)},!0,!0)},i.handleSwap=function(o,s){return function(){return i.swap(o,s)}},i.move=function(o,s){return i.updateArrayField(function(c){return Xie(c,o,s)},!0,!0)},i.handleMove=function(o,s){return function(){return i.move(o,s)}},i.insert=function(o,s){return i.updateArrayField(function(c){return gC(c,o,s)},function(c){return gC(c,o,null)},function(c){return gC(c,o,null)})},i.handleInsert=function(o,s){return function(){return i.insert(o,s)}},i.replace=function(o,s){return i.updateArrayField(function(c){return Zie(c,o,s)},!1,!1)},i.handleReplace=function(o,s){return function(){return i.replace(o,s)}},i.unshift=function(o){var s=-1;return i.updateArrayField(function(c){var a=c?[o].concat(c):[o];return s=a.length,a},function(c){return c?[null].concat(c):[null]},function(c){return c?[null].concat(c):[null]}),s},i.handleUnshift=function(o){return function(){return i.unshift(o)}},i.handleRemove=function(o){return function(){return i.remove(o)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind($I(i)),i.pop=i.pop.bind($I(i)),i}var n=t.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!mu(Nr(i.formik.values,i.name),Nr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var o;return this.updateArrayField(function(s){var c=s?Kf(s):[];return o||(o=c[i]),Hi(c.splice)&&c.splice(i,1),Hi(c.every)&&c.every(function(a){return a===void 0})?[]:c},!0,!0),o},n.pop=function(){var i;return this.updateArrayField(function(o){var s=o.slice();return i||(i=s&&s.pop&&s.pop()),s},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,s=o.component,c=o.render,a=o.children,l=o.name,f=o.formik,p=Ou(f,["validate","validationSchema"]),m=tr({},i,{form:p,name:l});return s?P.createElement(s,m):c?c(m):a?typeof a=="function"?a(m):h4(a)?null:P.Children.only(a):null},t}(P.Component);eoe.defaultProps={validateOnChange:!0};var toe=function(e){d4(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(i){return Nr(this.props.formik.errors,this.props.name)!==Nr(i.formik.errors,this.props.name)||Nr(this.props.formik.touched,this.props.name)!==Nr(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,o=i.component,s=i.formik,c=i.render,a=i.children,l=i.name,f=Ou(i,["component","formik","render","children","name"]),p=Nr(s.touched,l),m=Nr(s.errors,l);return p&&m?c?Hi(c)?c(m):null:a?Hi(a)?a(m):null:o?P.createElement(o,f,m):m:null},t}(P.Component),noe=Qie(toe);function ch(e){this._maxSize=e,this.clear()}ch.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ch.prototype.get=function(e){return this._values[e]};ch.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var roe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,g4=/^\d+$/,ioe=/^\d/,ooe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,soe=/^\s*(['"]?)(.*?)(\1)\s*$/,iO=512,HI=new ch(iO),GI=new ch(iO),qI=new ch(iO),If={Cache:ch,split:w1,normalizePath:vC,setter:function(e){var t=vC(e);return GI.get(e)||GI.set(e,function(r,i){for(var o=0,s=t.length,c=r;o<s-1;){var a=t[o];if(a==="__proto__"||a==="constructor"||a==="prototype")return r;c=c[t[o++]]}c[t[o]]=i})},getter:function(e,t){var n=vC(e);return qI.get(e)||qI.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(oO(n)||g4.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){aoe(Array.isArray(e)?e:w1(e),t,n)}};function vC(e){return HI.get(e)||HI.set(e,w1(e).map(function(t){return t.replace(soe,"$2")}))}function w1(e){return e.match(roe)||[""]}function aoe(e,t,n){var r=e.length,i,o,s,c;for(o=0;o<r;o++)i=e[o],i&&(uoe(i)&&(i='"'+i+'"'),c=oO(i),s=!c&&/^\d+$/.test(i),t.call(n,i,c,s,o,e))}function oO(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function coe(e){return e.match(ioe)&&!e.match(g4)}function loe(e){return ooe.test(e)}function uoe(e){return!oO(e)&&(coe(e)||loe(e))}const doe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,lw=e=>e.match(doe)||[],uw=e=>e[0].toUpperCase()+e.slice(1),sO=(e,t)=>lw(e).join(t).toLowerCase(),v4=e=>lw(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),foe=e=>uw(v4(e)),hoe=e=>sO(e,"_"),poe=e=>sO(e,"-"),moe=e=>uw(sO(e," ")),goe=e=>lw(e).map(uw).join(" ");var yC={words:lw,upperFirst:uw,camelCase:v4,pascalCase:foe,snakeCase:hoe,kebabCase:poe,sentenceCase:moe,titleCase:goe},aO={exports:{}};aO.exports=function(e){return y4(voe(e),e)};aO.exports.array=y4;function y4(e,t){var n=e.length,r=new Array(n),i={},o=n,s=yoe(t),c=boe(e);for(t.forEach(function(l){if(!c.has(l[0])||!c.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||a(e[o],o,new Set);return r;function a(l,f,p){if(p.has(l)){var m;try{m=", node was:"+JSON.stringify(l)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!c.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[f]){i[f]=!0;var E=s.get(l)||new Set;if(E=Array.from(E),f=E.length){p.add(l);do{var x=E[--f];a(x,c.get(x),p)}while(f);p.delete(l)}r[--n]=l}}}function voe(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function yoe(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function boe(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var xoe=aO.exports;const Soe=Yf(xoe),_oe=Object.prototype.toString,woe=Error.prototype.toString,Eoe=RegExp.prototype.toString,Coe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Toe=/^Symbol\((.*)\)(.*)$/;function Roe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function KI(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return Roe(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return Coe.call(e).replace(Toe,"Symbol($1)");const r=_oe.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+woe.call(e)+"]":r==="RegExp"?Eoe.call(e):null}function Gu(e,t){let n=KI(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=KI(this[r],t);return o!==null?o:i},2)}function b4(e){return e==null?[]:[].concat(e)}let x4,S4,_4,koe=/\$\{\s*(\w+)\s*\}/g;x4=Symbol.toStringTag;class YI{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[x4]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],b4(t).forEach(o=>{if(Go.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}S4=Symbol.hasInstance;_4=Symbol.toStringTag;class Go extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(koe,(i,o)=>Gu(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new YI(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_4]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Go)}static[S4](t){return YI[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ac={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Gu(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Gu(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Gu(n,!0)}\``+i}},Wo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ooe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},E1={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Poe={isValue:"${path} field must be ${value}"},cx={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Noe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ioe={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Gu(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Gu(n,!0)}\``}return Go.formatError(ac.notType,e)}};Object.assign(Object.create(null),{mixed:ac,string:Wo,number:Ooe,date:E1,object:cx,array:Noe,boolean:Poe,tuple:Ioe});const cO=e=>e&&e.__isYupSchema__;class $S{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...c)=>c.every(a=>a===r);return new $S(t,(c,a)=>{var l;let f=s(...c)?i:o;return(l=f==null?void 0:f(a))!=null?l:a})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!cO(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const pb={context:"$",value:"."};class lh{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===pb.context,this.isValue=this.key[0]===pb.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?pb.context:this.isValue?pb.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&If.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}lh.prototype.__isYupRef=!0;const xf=e=>e==null;function op(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},c,a){const{name:l,test:f,params:p,message:m,skipAbsent:E}=e;let{parent:x,context:y,abortEarly:w=s.spec.abortEarly,disableStackTrace:R=s.spec.disableStackTrace}=i;function _(J){return lh.isRef(J)?J.getValue(n,x,y):J}function C(J={}){const G=Object.assign({value:n,originalValue:o,label:s.spec.label,path:J.path||r,spec:s.spec,disableStackTrace:J.disableStackTrace||R},p,J.params);for(const ce of Object.keys(G))G[ce]=_(G[ce]);const ee=new Go(Go.formatError(J.message||m,G),n,G.path,J.type||l,G.disableStackTrace);return ee.params=G,ee}const I=w?c:a;let j={path:r,parent:x,type:l,from:i.from,createError:C,resolve:_,options:i,originalValue:o,schema:s};const U=J=>{Go.isError(J)?I(J):J?a(null):I(C())},V=J=>{Go.isError(J)?I(J):c(J)};if(E&&xf(n))return U(!0);let q;try{var X;if(q=f.call(j,n,j),typeof((X=q)==null?void 0:X.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(q).then(U,V)}}catch(J){V(J);return}U(q)}return t.OPTIONS=e,t}function Aoe(e,t,n,r=n){let i,o,s;return t?(If.forEach(t,(c,a,l)=>{let f=a?c.slice(1,c.length-1):c;e=e.resolve({context:r,parent:i,value:n});let p=e.type==="tuple",m=l?parseInt(f,10):0;if(e.innerType||p){if(p&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[m],e=p?e.spec.types[m]:e.innerType}if(!l){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[f],e=e.fields[f]}o=f,s=a?"["+c+"]":"."+c}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class VS extends Set{describe(){const t=[];for(const n of this.values())t.push(lh.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new VS(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function bp(e,t=new Map){if(cO(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=bp(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,bp(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(bp(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=bp(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Ec{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new VS,this._blacklist=new VS,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ac.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=bp(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&xf(o))return o;let s=Gu(t),c=Gu(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(c!==s?`result of cast: ${c}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:c=this.spec.strict}=n,a=t;c||(a=this._cast(a,Object.assign({assert:!1},n)));let l=[];for(let f of Object.values(this.internalTests))f&&l.push(f);this.runTests({path:o,value:a,originalValue:s,options:n,tests:l},r,f=>{if(f.length)return i(f,a);this.runTests({path:o,value:a,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:c,path:a,options:l}=t,f=y=>{i||(i=!0,n(y,s))},p=y=>{i||(i=!0,r(y,s))},m=o.length,E=[];if(!m)return p([]);let x={value:s,originalValue:c,path:a,options:l,schema:this};for(let y=0;y<o.length;y++){const w=o[y];w(x,f,function(_){_&&(Array.isArray(_)?E.push(..._):E.push(_)),--m<=0&&p(E)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const c=t??n;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const a=typeof c=="number";let l=r[c];const f=Object.assign({},s,{strict:!0,parent:r,value:l,originalValue:o[c],key:void 0,[a?"index":"key"]:c,path:a||c.includes(".")?`${i||""}[${a?c:`"${c}"`}]`:(i?`${i}.`:"")+t});return(p,m,E)=>this.resolve(f)._validate(l,f,m,E)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,c)=>i._validate(t,n,(a,l)=>{Go.isError(a)&&(a.value=l),c(a)},(a,l)=>{a.length?c(new Go(a,l,void 0,void 0,o)):s(l)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(c,a)=>{throw Go.isError(c)&&(c.value=a),c},(c,a)=>{if(c.length)throw new Go(c,t,void 0,void 0,s);o=a}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(Go.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(Go.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):bp(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=op({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=op({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=ac.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ac.notNull){return this.nullability(!1,t)}required(t=ac.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=ac.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=op(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=b4(t).map(o=>new lh(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new $S(i,n):$S.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=op({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=ac.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=op({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=ac.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=op({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,l,f)=>f.findIndex(p=>p.name===a.name)===l)}}}Ec.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Ec.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=Aoe(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Ec.prototype[e]=Ec.prototype.oneOf;for(const e of["not","nope"])Ec.prototype[e]=Ec.prototype.notOneOf;const joe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Doe(e){const t=C1(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function C1(e){var t,n;const r=joe.exec(e);return r?{year:Yc(r[1]),month:Yc(r[2],1)-1,day:Yc(r[3],1),hour:Yc(r[4]),minute:Yc(r[5]),second:Yc(r[6]),millisecond:r[7]?Yc(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Yc(r[10]),minuteOffset:Yc(r[11])}:null}function Yc(e,t=0){return Number(e)||t}let Moe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Loe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Foe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Uoe="^\\d{4}-\\d{2}-\\d{2}",Boe="\\d{2}:\\d{2}:\\d{2}",$oe="(([+-]\\d{2}(:?\\d{2})?)|Z)",Voe=new RegExp(`${Uoe}T${Boe}(\\.\\d+)?${$oe}$`),zoe=e=>xf(e)||e===e.trim(),Woe={}.toString();function om(){return new w4}class w4 extends Ec{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===Woe?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||ac.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Wo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Wo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Wo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Wo.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=Wo.email){return this.matches(Moe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Wo.url){return this.matches(Loe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Wo.uuid){return this.matches(Foe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(Voe,{name:"datetime",message:n||Wo.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Wo.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=C1(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||Wo.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=C1(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Wo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:zoe})}lowercase(t=Wo.lowercase){return this.transform(n=>xf(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>xf(n)||n===n.toLowerCase()})}uppercase(t=Wo.uppercase){return this.transform(n=>xf(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>xf(n)||n===n.toUpperCase()})}}om.prototype=w4.prototype;let Hoe=new Date(""),Goe=e=>Object.prototype.toString.call(e)==="[object Date]";class dw extends Ec{constructor(){super({type:"date",check(t){return Goe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=Doe(t),isNaN(t)?dw.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(lh.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=E1.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=E1.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}dw.INVALID_DATE=Hoe;dw.prototype;function qoe(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,c])=>`${s}-${c}`));function o(s,c){let a=If.split(s)[0];r.add(a),i.has(`${c}-${a}`)||n.push([c,a])}for(const s of Object.keys(e)){let c=e[s];r.add(s),lh.isRef(c)&&c.isSibling?o(c.path,s):cO(c)&&"deps"in c&&c.deps.forEach(a=>o(a,s))}return Soe.array(Array.from(r),n).reverse()}function QI(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function E4(e){return(t,n)=>QI(e,t)-QI(e,n)}const Koe=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function lx(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=lx(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=lx(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(lx)}):"optional"in e?e.optional():e}const Yoe=(e,t)=>{const n=[...If.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=If.getter(If.join(n),!0)(e);return!!(i&&r in i)};let XI=e=>Object.prototype.toString.call(e)==="[object Object]";function JI(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Qoe=E4([]);function C4(e){return new T4(e)}class T4 extends Ec{constructor(t){super({type:"object",check(n){return XI(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Qoe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),a={},l=Object.assign({},n,{parent:a,__validating:n.__validating||!1}),f=!1;for(const p of c){let m=o[p],E=p in i;if(m){let x,y=i[p];l.path=(n.path?`${n.path}.`:"")+p,m=m.resolve({value:y,context:n.context,parent:a});let w=m instanceof Ec?m.spec:void 0,R=w==null?void 0:w.strict;if(w!=null&&w.strip){f=f||p in i;continue}x=!n.__validating||!R?m.cast(i[p],l):i[p],x!==void 0&&(a[p]=x)}else E&&!s&&(a[p]=i[p]);(E!==p in a||a[p]!==i[p])&&(f=!0)}return f?a:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:c=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(a,l)=>{if(!c||!XI(l)){i(a,l);return}s=s||l;let f=[];for(let p of this._nodes){let m=this.fields[p];!m||lh.isRef(m)||f.push(m.asNestedTest({options:n,key:p,parent:l,parentPath:n.path,originalParent:s}))}this.runTests({tests:f,value:l,originalValue:s,options:n},r,p=>{i(p.sort(this._sortErrors).concat(a),l)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=qoe(t,n),r._sortErrors=E4(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return lx(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=If.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return Yoe(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(Koe)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||cx.exact,test(n){if(n==null)return!0;const r=JI(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=cx.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=JI(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=cx.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(yC.camelCase)}snakeCase(){return this.transformKeys(yC.snakeCase)}constantCase(){return this.transformKeys(t=>yC.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let c=t;(i=c)!=null&&i.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[o]})),r.fields[o]=s.describe(c)}return r}}C4.prototype=T4.prototype;const lO=({formFields:e,onSubmit:t,initialValues:n})=>{const r=C4(e.reduce((i,o)=>(o.validation&&(i[o.name]=o.validation),i),{}));return u.jsx(zie,{initialValues:n,validationSchema:r,onSubmit:t,children:()=>u.jsxs(m4,{children:[e.map(i=>{var o;return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:i.name,className:"block font-medium",children:i.label}),i.type==="select"?u.jsxs(zI,{as:"select",id:i.name,name:i.name,className:"w-full border rounded px-2 py-1",children:[u.jsxs("option",{value:"",children:["Select ",i.label]}),(o=i.options)==null?void 0:o.map(s=>u.jsx("option",{value:s.value,children:s.label},s.value))]}):u.jsx(zI,{id:i.name,name:i.name,type:i.type,placeholder:i.placeholder,className:"w-full border rounded px-2 py-1"}),u.jsx(noe,{name:i.name,component:"div",className:"text-red-500 text-sm"})]},i.name)}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]})})};var R4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ZI=ht.createContext&&ht.createContext(R4),Xoe=["attr","size","title"];function Joe(e,t){if(e==null)return{};var n=Zoe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zoe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ese(e,t,n){return t=tse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k4(e){return e&&e.map((t,n)=>ht.createElement(t.tag,WS({key:n},t.attr),k4(t.child)))}function O4(e){return t=>ht.createElement(rse,zS({attr:WS({},e.attr)},t),k4(e.child))}function rse(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=Joe(e,Xoe),c=i||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),ht.createElement("svg",zS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:a,style:WS(WS({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),e.children)};return ZI!==void 0?ht.createElement(ZI.Consumer,null,n=>t(n)):t(R4)}function fw(e){return O4({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function ise(e){return O4({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}const hw=({isOpen:e,onClose:t,children:n})=>e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:u.jsxs("div",{className:"bg-white rounded shadow-lg w-3/4 max-w-lg p-6 relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-black",onClick:t,children:u.jsx(ise,{})}),n]})}):null,ose=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{board:o,isLoading:s}=Mn(m=>m.board);P.useEffect(()=>{i(Nf())},[i]);const c=[{name:"boardname",label:"Board Name",type:"text",placeholder:"Enter Board Full Name",validation:om().required("Board Name is required.")},{name:"boardshortname",label:"Board Short Name",type:"text",placeholder:"Enter Board Short Name",validation:om().required("Board Short Name is required.")}],a=c.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{i(n?sx({_id:n._id,data:m}):ox(m)),t(!1),r(null)},f=m=>{i(ax({boardId:m}))},p=m=>{r(m),t(!0)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Boards"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Board"})]}),u.jsxs(hw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Board":"Add Board"}),u.jsx(lO,{formFields:c,initialValues:n||a,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Full Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Short Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.boardname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.boardshortname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(fd,{id:m._id,checked:m.isActive,onCheckedChange:()=>f(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(m),children:u.jsx(fw,{})})})]},m._id||E))})]})]})})},sse=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{standards:o,isLoading:s}=Mn(m=>m.standard);console.log(o,"standards"),P.useEffect(()=>{i(cl())},[i]);const c=[{name:"std",label:"Standard Name",type:"text",placeholder:"Enter standard name",validation:om().required("Standard Name is required.")}],a=c.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{console.log(m,"values"),i(n?zb({id:n._id,data:m}):Vb(m)),t(!1),r(null)},f=m=>{console.log(m,"update data"),r(m),t(!0)},p=m=>{console.log(m,"toggle"),i(Wb(m))};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Standards"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Standard"})]}),u.jsxs(hw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Standard":"Add Standard"}),u.jsx(lO,{formFields:c,initialValues:n||a,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.std}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(fd,{id:m._id,checked:m.isActive,onCheckedChange:()=>p(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>f(m),children:u.jsx(fw,{})})})]},m._id||E))})]})]})},ase={activitys:[],currentactivity:null,isLoading:!1,error:null},ux=wt("createactivity",async(e,{rejectWithValue:t})=>{try{return(await mt.post(a8,e)).data}catch(n){return t(n.response.data)}}),dx=wt("getAllactivity",async(e,{rejectWithValue:t})=>{try{return(await mt.get(l8)).data}catch(n){return t(n.response.data)}}),bC=wt("activityById",async(e,{rejectWithValue:t})=>{try{return(await mt.get(c8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),fx=wt("updataactivity",async({id:e,data:t},{rejectWithValue:n})=>{try{return(await mt.put(u8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),hx=wt("toggleactivity",async(e,{rejectWithValue:t})=>{try{return(await mt.post(d8,{activityId:e})).data}catch(n){return t(n.response.data)}}),cse=is({name:"activity",initialState:ase,reducers:{},extraReducers:e=>{e.addCase(ux.pending,t=>{t.isLoading=!0,t.error=null}).addCase(ux.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys.push(n.payload)}).addCase(ux.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(dx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(dx.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys=n.payload}).addCase(dx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(bC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(bC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentactivity=n.payload}).addCase(bC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(fx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(fx.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys=t.activitys.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(fx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(hx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(hx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.activitys.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.activitys[r].isActive=!t.activitys[r].isActive)}).addCase(hx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),lse=cse.reducer,use=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{activitys:o,isLoading:s}=Mn(m=>m.activity);P.useEffect(()=>{i(dx())},[i]);const c=[{name:"activityname",label:"Activity Name",type:"text",placeholder:"Enter Activity name",validation:om().required("Activity Name is required.")}],a=c.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{i(n?fx({id:n._id,data:m}):ux(m)),t(!1),r(null)},f=m=>{r(m),t(!0)},p=m=>{i(hx(m))};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Activity"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Standard"})]}),u.jsxs(hw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Standard":"Add Standard"}),u.jsx(lO,{formFields:c,initialValues:n||a,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Activity Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.activityname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(fd,{id:m._id,checked:m.isActive,onCheckedChange:()=>p(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>f(m),children:u.jsx(fw,{})})})]},m._id||E))})]})]})})};var uO={},dO={};Object.defineProperty(dO,"__esModule",{value:!0});class dse{constructor(t){this.instance=void 0,this.options=t,typeof window<"u"&&(this.instance=new window.Razorpay(this.options))}on(t,n){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(t,n)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}dO.default=dse;var fse=ll&&ll.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hse=ll&&ll.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pse=ll&&ll.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&fse(t,e,n);return hse(t,e),t},mse=ll&&ll.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uO,"__esModule",{value:!0});var P4=uO.useRazorpay=void 0;const xC=pse(P),gse=mse(dO),vse=()=>{const[e,t]=xC.useState(!1),[n,r]=xC.useState(),i=typeof window<"u",o=()=>!(!i||!("Razorpay"in window));function s(c){return new Promise((a,l)=>{const f=window.document.createElement("script");f.src=c,f.onload=function(){a()},f.onerror=function(p){l(p.toString())},document.body.appendChild(f)})}return xC.useEffect(()=>{i&&(t(!0),o()||s("https://checkout.razorpay.com/v1/checkout.js").then(()=>{r(void 0)}).catch(c=>{c instanceof Error?r(c.message):r("Unknown Error")}).finally(()=>t(!1)))},[]),{error:n,isLoading:e,Razorpay:gse.default}};P4=uO.useRazorpay=vse;var N4={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ll,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(o,s,c){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:c})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=8)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},r.default=r.CLASS_NAMES},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(o){var s="."+o;return document.querySelector(s)},r.stringToNode=function(o){var s=document.createElement("div");return s.innerHTML=o.trim(),s.firstChild},r.insertAfter=function(o,s){var c=s.nextSibling;s.parentNode.insertBefore(o,c)},r.removeNode=function(o){o.parentElement.removeChild(o)},r.throwErr=function(o){throw o=o.replace(/ +(?= )/g,""),"SweetAlert: "+(o=o.trim())},r.isPlainObject=function(o){if(Object.prototype.toString.call(o)!=="[object Object]")return!1;var s=Object.getPrototypeOf(o);return s===null||s===Object.prototype},r.ordinalSuffixOf=function(o){var s=o%10,c=o%100;return s===1&&c!==11?o+"st":s===2&&c!==12?o+"nd":s===3&&c!==13?o+"rd":o+"th"}},function(n,r,i){function o(m){for(var E in m)r.hasOwnProperty(E)||(r[E]=m[E])}Object.defineProperty(r,"__esModule",{value:!0}),o(i(25));var s=i(26);r.overlayMarkup=s.default,o(i(27)),o(i(28)),o(i(29));var c=i(0),a=c.default.MODAL_TITLE,l=c.default.MODAL_TEXT,f=c.default.ICON,p=c.default.FOOTER;r.iconMarkup=`
  <div class="`+f+'"></div>',r.titleMarkup=`
  <div class="`+a+`"></div>
`,r.textMarkup=`
  <div class="`+l+'"></div>',r.footerMarkup=`
  <div class="`+p+`"></div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var s={visible:!0,text:null,value:null,className:"",closeModal:!0},c=Object.assign({},s,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},s,{text:"OK",value:!0});r.defaultButtonList={cancel:c,confirm:a};var l=function(E){switch(E){case r.CONFIRM_KEY:return a;case r.CANCEL_KEY:return c;default:var x=E.charAt(0).toUpperCase()+E.slice(1);return Object.assign({},s,{text:x,value:E})}},f=function(E,x){var y=l(E);return x===!0?Object.assign({},y,{visible:!0}):typeof x=="string"?Object.assign({},y,{visible:!0,text:x}):o.isPlainObject(x)?Object.assign({visible:!0},y,x):Object.assign({},y,{visible:!1})},p=function(E){for(var x={},y=0,w=Object.keys(E);y<w.length;y++){var R=w[y],_=E[R],C=f(R,_);x[R]=C}return x.cancel||(x.cancel=c),x},m=function(E){var x={};switch(E.length){case 1:x[r.CANCEL_KEY]=Object.assign({},c,{visible:!1});break;case 2:x[r.CANCEL_KEY]=f(r.CANCEL_KEY,E[0]),x[r.CONFIRM_KEY]=f(r.CONFIRM_KEY,E[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+E.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return x};r.getButtonListOpts=function(E){var x=r.defaultButtonList;return typeof E=="string"?x[r.CONFIRM_KEY]=f(r.CONFIRM_KEY,E):Array.isArray(E)?x=m(E):o.isPlainObject(E)?x=p(E):E===!0?x=m([!0,!0]):E===!1?x=m([!1,!1]):E===void 0&&(x=r.defaultButtonList),x}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),c=i(0),a=c.default.MODAL,l=c.default.OVERLAY,f=i(30),p=i(31),m=i(32),E=i(33);r.injectElIntoModal=function(R){var _=o.getNode(a),C=o.stringToNode(R);return _.appendChild(C),C};var x=function(R){R.className=a,R.textContent=""},y=function(R,_){x(R);var C=_.className;C&&R.classList.add(C)};r.initModalContent=function(R){var _=o.getNode(a);y(_,R),f.default(R.icon),p.initTitle(R.title),p.initText(R.text),E.default(R.content),m.default(R.buttons,R.dangerMode)};var w=function(){var R=o.getNode(l),_=o.stringToNode(s.modalMarkup);R.appendChild(_)};r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s={isOpen:!1,promise:null,actions:{},timer:null},c=Object.assign({},s);r.resetState=function(){c=Object.assign({},s)},r.setActionValue=function(l){if(typeof l=="string")return a(o.CONFIRM_KEY,l);for(var f in l)a(f,l[f])};var a=function(l,f){c.actions[l]||(c.actions[l]={}),Object.assign(c.actions[l],{value:f})};r.setActionOptionsFor=function(l,f){var p=(f===void 0?{}:f).closeModal,m=p===void 0||p;Object.assign(c.actions[l],{closeModal:m})},r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),c=i(0),a=c.default.OVERLAY,l=c.default.SHOW_MODAL,f=c.default.BUTTON,p=c.default.BUTTON_LOADING,m=i(5);r.openModal=function(){o.getNode(a).classList.add(l),m.default.isOpen=!0};var E=function(){o.getNode(a).classList.remove(l),m.default.isOpen=!1};r.onAction=function(x){x===void 0&&(x=s.CANCEL_KEY);var y=m.default.actions[x],w=y.value;if(y.closeModal===!1){var R=f+"--"+x;o.getNode(R).classList.add(p)}else E();m.default.promise.resolve(w)},r.getState=function(){var x=Object.assign({},m.default);return delete x.promise,delete x.timer,x},r.stopLoading=function(){for(var x=document.querySelectorAll("."+f),y=0;y<x.length;y++)x[y].classList.remove(p)}},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){n.exports=o.sweetAlert=i(9)}).call(r,i(7))},function(n,r,i){(function(o){n.exports=o.swal=i(10)}).call(r,i(7))},function(n,r,i){typeof window<"u"&&i(11),i(16);var o=i(23).default;n.exports=o},function(n,r,i){var o=i(12);typeof o=="string"&&(o=[[n.i,o,""]]);var s={insertAt:"top"};s.transform=void 0,i(14)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){r=n.exports=i(13)(void 0),r.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,r){function i(s,c){var a=s[1]||"",l=s[3];if(!l)return a;if(c&&typeof btoa=="function"){var f=o(l);return[a].concat(l.sources.map(function(p){return"/*# sourceURL="+l.sourceRoot+p+" */"})).concat([f]).join(`
`)}return[a].join(`
`)}function o(s){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"}n.exports=function(s){var c=[];return c.toString=function(){return this.map(function(a){var l=i(a,s);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},c.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var f={},p=0;p<this.length;p++){var m=this[p][0];typeof m=="number"&&(f[m]=!0)}for(p=0;p<a.length;p++){var E=a[p];typeof E[0]=="number"&&f[E[0]]||(l&&!E[2]?E[2]=l:l&&(E[2]="("+E[2]+") and ("+l+")"),c.push(E))}},c}},function(n,r,i){function o(z,q){for(var X=0;X<z.length;X++){var J=z[X],G=w[J.id];if(G){G.refs++;for(var ee=0;ee<G.parts.length;ee++)G.parts[ee](J.parts[ee]);for(;ee<J.parts.length;ee++)G.parts.push(m(J.parts[ee],q))}else{for(var ce=[],ee=0;ee<J.parts.length;ee++)ce.push(m(J.parts[ee],q));w[J.id]={id:J.id,refs:1,parts:ce}}}}function s(z,q){for(var X=[],J={},G=0;G<z.length;G++){var ee=z[G],ce=q.base?ee[0]+q.base:ee[0],xe=ee[1],Se=ee[2],ve=ee[3],Y={css:xe,media:Se,sourceMap:ve};J[ce]?J[ce].parts.push(Y):X.push(J[ce]={id:ce,parts:[Y]})}return X}function c(z,q){var X=_(z.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var J=j[j.length-1];if(z.insertAt==="top")J?J.nextSibling?X.insertBefore(q,J.nextSibling):X.appendChild(q):X.insertBefore(q,X.firstChild),j.push(q);else{if(z.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");X.appendChild(q)}}function a(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z);var q=j.indexOf(z);q>=0&&j.splice(q,1)}function l(z){var q=document.createElement("style");return z.attrs.type="text/css",p(q,z.attrs),c(z,q),q}function f(z){var q=document.createElement("link");return z.attrs.type="text/css",z.attrs.rel="stylesheet",p(q,z.attrs),c(z,q),q}function p(z,q){Object.keys(q).forEach(function(X){z.setAttribute(X,q[X])})}function m(z,q){var X,J,G,ee;if(q.transform&&z.css){if(!(ee=q.transform(z.css)))return function(){};z.css=ee}if(q.singleton){var ce=I++;X=C||(C=l(q)),J=E.bind(null,X,ce,!1),G=E.bind(null,X,ce,!0)}else z.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=f(q),J=y.bind(null,X,q),G=function(){a(X),X.href&&URL.revokeObjectURL(X.href)}):(X=l(q),J=x.bind(null,X),G=function(){a(X)});return J(z),function(xe){if(xe){if(xe.css===z.css&&xe.media===z.media&&xe.sourceMap===z.sourceMap)return;J(z=xe)}else G()}}function E(z,q,X,J){var G=X?"":J.css;if(z.styleSheet)z.styleSheet.cssText=V(q,G);else{var ee=document.createTextNode(G),ce=z.childNodes;ce[q]&&z.removeChild(ce[q]),ce.length?z.insertBefore(ee,ce[q]):z.appendChild(ee)}}function x(z,q){var X=q.css,J=q.media;if(J&&z.setAttribute("media",J),z.styleSheet)z.styleSheet.cssText=X;else{for(;z.firstChild;)z.removeChild(z.firstChild);z.appendChild(document.createTextNode(X))}}function y(z,q,X){var J=X.css,G=X.sourceMap,ee=q.convertToAbsoluteUrls===void 0&&G;(q.convertToAbsoluteUrls||ee)&&(J=U(J)),G&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(G))))+" */");var ce=new Blob([J],{type:"text/css"}),xe=z.href;z.href=URL.createObjectURL(ce),xe&&URL.revokeObjectURL(xe)}var w={},R=function(z){var q;return function(){return q===void 0&&(q=z.apply(this,arguments)),q}}(function(){return window&&document&&document.all&&!window.atob}),_=function(z){var q={};return function(X){return q[X]===void 0&&(q[X]=z.call(this,X)),q[X]}}(function(z){return document.querySelector(z)}),C=null,I=0,j=[],U=i(15);n.exports=function(z,q){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");q=q||{},q.attrs=typeof q.attrs=="object"?q.attrs:{},q.singleton||(q.singleton=R()),q.insertInto||(q.insertInto="head"),q.insertAt||(q.insertAt="bottom");var X=s(z,q);return o(X,q),function(J){for(var G=[],ee=0;ee<X.length;ee++){var ce=X[ee],xe=w[ce.id];xe.refs--,G.push(xe)}J&&o(s(J,q),q);for(var ee=0;ee<G.length;ee++){var xe=G[ee];if(xe.refs===0){for(var Se=0;Se<xe.parts.length;Se++)xe.parts[Se]();delete w[xe.id]}}}};var V=function(){var z=[];return function(q,X){return z[q]=X,z.filter(Boolean).join(`
`)}}()},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,c=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,l){var f=l.trim().replace(/^"(.*)"$/,function(m,E){return E}).replace(/^'(.*)'$/,function(m,E){return E});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(f))return a;var p;return p=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:c+f.replace(/^\.\//,""),"url("+JSON.stringify(p)+")"})}},function(n,r,i){var o=i(17);typeof window>"u"||window.Promise||(window.Promise=o),i(21),String.prototype.includes||(String.prototype.includes=function(s,c){return typeof c!="number"&&(c=0),!(c+s.length>this.length)&&this.indexOf(s,c)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,c){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),l=a.length>>>0;if(l===0)return!1;for(var f=0|c,p=Math.max(f>=0?f:l-Math.abs(f),0);p<l;){if(function(m,E){return m===E||typeof m=="number"&&typeof E=="number"&&isNaN(m)&&isNaN(E)}(a[p],s))return!0;p++}return!1}}),typeof window<"u"&&function(s){s.forEach(function(c){c.hasOwnProperty("remove")||Object.defineProperty(c,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,r,i){(function(o){(function(s){function c(){}function a(R,_){return function(){R.apply(_,arguments)}}function l(R){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof R!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(R,this)}function f(R,_){for(;R._state===3;)R=R._value;if(R._state===0)return void R._deferreds.push(_);R._handled=!0,l._immediateFn(function(){var C=R._state===1?_.onFulfilled:_.onRejected;if(C===null)return void(R._state===1?p:m)(_.promise,R._value);var I;try{I=C(R._value)}catch(j){return void m(_.promise,j)}p(_.promise,I)})}function p(R,_){try{if(_===R)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var C=_.then;if(_ instanceof l)return R._state=3,R._value=_,void E(R);if(typeof C=="function")return void y(a(C,_),R)}R._state=1,R._value=_,E(R)}catch(I){m(R,I)}}function m(R,_){R._state=2,R._value=_,E(R)}function E(R){R._state===2&&R._deferreds.length===0&&l._immediateFn(function(){R._handled||l._unhandledRejectionFn(R._value)});for(var _=0,C=R._deferreds.length;_<C;_++)f(R,R._deferreds[_]);R._deferreds=null}function x(R,_,C){this.onFulfilled=typeof R=="function"?R:null,this.onRejected=typeof _=="function"?_:null,this.promise=C}function y(R,_){var C=!1;try{R(function(I){C||(C=!0,p(_,I))},function(I){C||(C=!0,m(_,I))})}catch(I){if(C)return;C=!0,m(_,I)}}var w=setTimeout;l.prototype.catch=function(R){return this.then(null,R)},l.prototype.then=function(R,_){var C=new this.constructor(c);return f(this,new x(R,_,C)),C},l.all=function(R){var _=Array.prototype.slice.call(R);return new l(function(C,I){function j(z,q){try{if(q&&(typeof q=="object"||typeof q=="function")){var X=q.then;if(typeof X=="function")return void X.call(q,function(J){j(z,J)},I)}_[z]=q,--U==0&&C(_)}catch(J){I(J)}}if(_.length===0)return C([]);for(var U=_.length,V=0;V<_.length;V++)j(V,_[V])})},l.resolve=function(R){return R&&typeof R=="object"&&R.constructor===l?R:new l(function(_){_(R)})},l.reject=function(R){return new l(function(_,C){C(R)})},l.race=function(R){return new l(function(_,C){for(var I=0,j=R.length;I<j;I++)R[I].then(_,C)})},l._immediateFn=typeof o=="function"&&function(R){o(R)}||function(R){w(R,0)},l._unhandledRejectionFn=function(R){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",R)},l._setImmediateFn=function(R){l._immediateFn=R},l._setUnhandledRejectionFn=function(R){l._unhandledRejectionFn=R},n!==void 0&&n.exports?n.exports=l:s.Promise||(s.Promise=l)})(this)}).call(r,i(18).setImmediate)},function(n,r,i){function o(c,a){this._id=c,this._clearFn=a}var s=Function.prototype.apply;r.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(c,a){clearTimeout(c._idleTimeoutId),c._idleTimeout=a},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var a=c._idleTimeout;a>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},a))},i(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,i){(function(o,s){(function(c,a){function l(C){typeof C!="function"&&(C=new Function(""+C));for(var I=new Array(arguments.length-1),j=0;j<I.length;j++)I[j]=arguments[j+1];var U={callback:C,args:I};return y[x]=U,E(x),x++}function f(C){delete y[C]}function p(C){var I=C.callback,j=C.args;switch(j.length){case 0:I();break;case 1:I(j[0]);break;case 2:I(j[0],j[1]);break;case 3:I(j[0],j[1],j[2]);break;default:I.apply(a,j)}}function m(C){if(w)setTimeout(m,0,C);else{var I=y[C];if(I){w=!0;try{p(I)}finally{f(C),w=!1}}}}if(!c.setImmediate){var E,x=1,y={},w=!1,R=c.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(c);_=_&&_.setTimeout?_:c,{}.toString.call(c.process)==="[object process]"?function(){E=function(C){s.nextTick(function(){m(C)})}}():function(){if(c.postMessage&&!c.importScripts){var C=!0,I=c.onmessage;return c.onmessage=function(){C=!1},c.postMessage("","*"),c.onmessage=I,C}}()?function(){var C="setImmediate$"+Math.random()+"$",I=function(j){j.source===c&&typeof j.data=="string"&&j.data.indexOf(C)===0&&m(+j.data.slice(C.length))};c.addEventListener?c.addEventListener("message",I,!1):c.attachEvent("onmessage",I),E=function(j){c.postMessage(C+j,"*")}}():c.MessageChannel?function(){var C=new MessageChannel;C.port1.onmessage=function(I){m(I.data)},E=function(I){C.port2.postMessage(I)}}():R&&"onreadystatechange"in R.createElement("script")?function(){var C=R.documentElement;E=function(I){var j=R.createElement("script");j.onreadystatechange=function(){m(I),j.onreadystatechange=null,C.removeChild(j),j=null},C.appendChild(j)}}():function(){E=function(C){setTimeout(m,0,C)}}(),_.setImmediate=l,_.clearImmediate=f}})(typeof self>"u"?o===void 0?this:o:self)}).call(r,i(7),i(20))},function(n,r){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(C){if(m===setTimeout)return setTimeout(C,0);if((m===i||!m)&&setTimeout)return m=setTimeout,setTimeout(C,0);try{return m(C,0)}catch{try{return m.call(null,C,0)}catch{return m.call(this,C,0)}}}function c(C){if(E===clearTimeout)return clearTimeout(C);if((E===o||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(C);try{return E(C)}catch{try{return E.call(null,C)}catch{return E.call(this,C)}}}function a(){R&&y&&(R=!1,y.length?w=y.concat(w):_=-1,w.length&&l())}function l(){if(!R){var C=s(a);R=!0;for(var I=w.length;I;){for(y=w,w=[];++_<I;)y&&y[_].run();_=-1,I=w.length}y=null,R=!1,c(C)}}function f(C,I){this.fun=C,this.array=I}function p(){}var m,E,x=n.exports={};(function(){try{m=typeof setTimeout=="function"?setTimeout:i}catch{m=i}try{E=typeof clearTimeout=="function"?clearTimeout:o}catch{E=o}})();var y,w=[],R=!1,_=-1;x.nextTick=function(C){var I=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)I[j-1]=arguments[j];w.push(new f(C,I)),w.length!==1||R||s(l)},f.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=p,x.addListener=p,x.once=p,x.off=p,x.removeListener=p,x.removeAllListeners=p,x.emit=p,x.prependListener=p,x.prependOnceListener=p,x.listeners=function(C){return[]},x.binding=function(C){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(C){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(n,r,i){i(22).polyfill()},function(n,r,i){function o(c,a){if(c==null)throw new TypeError("Cannot convert first argument to object");for(var l=Object(c),f=1;f<arguments.length;f++){var p=arguments[f];if(p!=null)for(var m=Object.keys(Object(p)),E=0,x=m.length;E<x;E++){var y=m[E],w=Object.getOwnPropertyDescriptor(p,y);w!==void 0&&w.enumerable&&(l[y]=p[y])}}return l}function s(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}n.exports={assign:o,polyfill:s}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(24),s=i(6),c=i(5),a=i(36),l=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(typeof window<"u"){var m=a.getOpts.apply(void 0,f);return new Promise(function(E,x){c.default.promise={resolve:E,reject:x},o.default(m),setTimeout(function(){s.openModal()})})}};l.close=s.onAction,l.getState=s.getState,l.setActionValue=c.setActionValue,l.stopLoading=s.stopLoading,l.setDefaults=a.setDefaults,r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(0),c=s.default.MODAL,a=i(4),l=i(34),f=i(35),p=i(1);r.init=function(m){o.getNode(c)||(document.body||p.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),l.default(),a.default()),a.initModalContent(m),f.default(m)},r.default=r.init},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.MODAL;r.modalMarkup=`
  <div class="`+s+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.OVERLAY,c=`<div 
    class="`+s+`"
    tabIndex="-1">
  </div>`;r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.ICON;r.errorIconMarkup=function(){var c=s+"--error",a=c+"__line";return`
    <div class="`+c+`__x-mark">
      <span class="`+a+" "+a+`--left"></span>
      <span class="`+a+" "+a+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var c=s+"--warning";return`
    <span class="`+c+`__body">
      <span class="`+c+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var c=s+"--success";return`
    <span class="`+c+"__line "+c+`__line--long"></span>
    <span class="`+c+"__line "+c+`__line--tip"></span>

    <div class="`+c+`__ring"></div>
    <div class="`+c+`__hide-corners"></div>
  `}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.CONTENT;r.contentMarkup=`
  <div class="`+s+`">

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.BUTTON_CONTAINER,c=o.default.BUTTON,a=o.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+s+`">

    <button
      class="`+c+`"
    ></button>

    <div class="`+a+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=i(2),c=i(0),a=c.default.ICON,l=c.default.ICON_CUSTOM,f=["error","warning","success","info"],p={error:s.errorIconMarkup(),warning:s.warningIconMarkup(),success:s.successIconMarkup()},m=function(y,w){var R=a+"--"+y;w.classList.add(R);var _=p[y];_&&(w.innerHTML=_)},E=function(y,w){w.classList.add(l);var R=document.createElement("img");R.src=y,w.appendChild(R)},x=function(y){if(y){var w=o.injectElIntoModal(s.iconMarkup);f.includes(y)?m(y,w):E(y,w)}};r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),s=i(4),c=function(a){navigator.userAgent.includes("AppleWebKit")&&(a.style.display="none",a.offsetHeight,a.style.display="")};r.initTitle=function(a){if(a){var l=s.injectElIntoModal(o.titleMarkup);l.textContent=a,c(l)}},r.initText=function(a){if(a){var l=document.createDocumentFragment();a.split(`
`).forEach(function(p,m,E){l.appendChild(document.createTextNode(p)),m<E.length-1&&l.appendChild(document.createElement("br"))});var f=s.injectElIntoModal(o.textMarkup);f.appendChild(l),c(f)}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(4),c=i(0),a=c.default.BUTTON,l=c.default.DANGER_BUTTON,f=i(3),p=i(2),m=i(6),E=i(5),x=function(w,R,_){var C=R.text,I=R.value,j=R.className,U=R.closeModal,V=o.stringToNode(p.buttonMarkup),z=V.querySelector("."+a),q=a+"--"+w;z.classList.add(q),j&&(Array.isArray(j)?j:j.split(" ")).filter(function(J){return J.length>0}).forEach(function(J){z.classList.add(J)}),_&&w===f.CONFIRM_KEY&&z.classList.add(l),z.textContent=C;var X={};return X[w]=I,E.setActionValue(X),E.setActionOptionsFor(w,{closeModal:U}),z.addEventListener("click",function(){return m.onAction(w)}),V},y=function(w,R){var _=s.injectElIntoModal(p.footerMarkup);for(var C in w){var I=w[C],j=x(C,I,R);I.visible&&_.appendChild(j)}_.children.length===0&&_.remove()};r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s=i(4),c=i(2),a=i(5),l=i(6),f=i(0),p=f.default.CONTENT,m=function(y){y.addEventListener("input",function(w){var R=w.target,_=R.value;a.setActionValue(_)}),y.addEventListener("keyup",function(w){if(w.key==="Enter")return l.onAction(o.CONFIRM_KEY)}),setTimeout(function(){y.focus(),a.setActionValue("")},0)},E=function(y,w,R){var _=document.createElement(w),C=p+"__"+w;_.classList.add(C);for(var I in R){var j=R[I];_[I]=j}w==="input"&&m(_),y.appendChild(_)},x=function(y){if(y){var w=s.injectElIntoModal(c.contentMarkup),R=y.element,_=y.attributes;typeof R=="string"?E(w,R,_):w.appendChild(R)}};r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),c=function(){var a=o.stringToNode(s.overlayMarkup);document.body.appendChild(a)};r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(5),s=i(6),c=i(1),a=i(3),l=i(0),f=l.default.MODAL,p=l.default.BUTTON,m=l.default.OVERLAY,E=function(J){J.preventDefault(),_()},x=function(J){J.preventDefault(),C()},y=function(J){if(o.default.isOpen)switch(J.key){case"Escape":return s.onAction(a.CANCEL_KEY)}},w=function(J){if(o.default.isOpen)switch(J.key){case"Tab":return E(J)}},R=function(J){if(o.default.isOpen)return J.key==="Tab"&&J.shiftKey?x(J):void 0},_=function(){var J=c.getNode(p);J&&(J.tabIndex=0,J.focus())},C=function(){var J=c.getNode(f),G=J.querySelectorAll("."+p),ee=G.length-1,ce=G[ee];ce&&ce.focus()},I=function(J){J[J.length-1].addEventListener("keydown",w)},j=function(J){J[0].addEventListener("keydown",R)},U=function(){var J=c.getNode(f),G=J.querySelectorAll("."+p);G.length&&(I(G),j(G))},V=function(J){if(c.getNode(m)===J.target)return s.onAction(a.CANCEL_KEY)},z=function(J){var G=c.getNode(m);G.removeEventListener("click",V),J&&G.addEventListener("click",V)},q=function(J){o.default.timer&&clearTimeout(o.default.timer),J&&(o.default.timer=window.setTimeout(function(){return s.onAction(a.CANCEL_KEY)},J))},X=function(J){J.closeOnEsc?document.addEventListener("keyup",y):document.removeEventListener("keyup",y),J.dangerMode?_():C(),U(),z(J.closeOnClickOutside),q(J.timer)};r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),c=i(37),a=i(38),l={title:null,text:null,icon:null,buttons:s.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},f=Object.assign({},l);r.setDefaults=function(R){f=Object.assign({},l,R)};var p=function(R){var _=R&&R.button,C=R&&R.buttons;return _!==void 0&&C!==void 0&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),_!==void 0?{confirm:_}:C},m=function(R){return o.ordinalSuffixOf(R+1)},E=function(R,_){o.throwErr(m(_)+" argument ('"+R+"') is invalid")},x=function(R,_){var C=R+1,I=_[C];o.isPlainObject(I)||I===void 0||o.throwErr("Expected "+m(C)+" argument ('"+I+"') to be a plain object")},y=function(R,_){var C=R+1,I=_[C];I!==void 0&&o.throwErr("Unexpected "+m(C)+" argument ("+I+")")},w=function(R,_,C,I){var j=typeof _,U=j==="string",V=_ instanceof Element;if(U){if(C===0)return{text:_};if(C===1)return{text:_,title:I[0]};if(C===2)return x(C,I),{icon:_};E(_,C)}else{if(V&&C===0)return x(C,I),{content:_};if(o.isPlainObject(_))return y(C,I),_;E(_,C)}};r.getOpts=function(){for(var R=[],_=0;_<arguments.length;_++)R[_]=arguments[_];var C={};R.forEach(function(U,V){var z=w(0,U,V,R);Object.assign(C,z)});var I=p(C);C.buttons=s.getButtonListOpts(I),delete C.button,C.content=c.getContentOpts(C.content);var j=Object.assign({},l,f,C);return Object.keys(j).forEach(function(U){a.DEPRECATED_OPTS[U]&&a.logDeprecation(U)}),j}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(c){var a={};return o.isPlainObject(c)?Object.assign(a,c):c instanceof Element?{element:c}:c==="input"?s:null}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(o){var s=r.DEPRECATED_OPTS[o],c=s.onlyRename,a=s.replacement,l=s.subOption,f=s.link,p=c?"renamed":"deprecated",m='SweetAlert warning: "'+o+'" option has been '+p+".";a&&(m+=" Please use"+(l?' "'+l+'" in ':" ")+'"'+a+'" instead.');var E="https://sweetalert.js.org";m+=f?" More details: "+E+f:" More details: "+E+"/guides/#upgrading-from-1x",console.warn(m)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(N4);var yse=N4.exports;const tA=Yf(yse),bse=()=>{const e=Sl(),[t,n]=P.useState(null),{error:r,isLoading:i,Razorpay:o}=P4(),[s]=WV(),c=s.get("receiptId");P.useEffect(()=>{c&&(async()=>{try{const f=await mr.post(`${kT}${P8}`,{receiptId:c});n(f.data.data)}catch(f){console.error("Error fetching checkout data:",f),tA("Oops!",f.message,"error")}})()},[c]);const a=()=>{if(!t)return;const l={key:t.key,amount:t.amount,currency:"INR",name:t.name,description:t.description,order_id:t.orderId,prefill:{name:t.name,email:t.email,contact:t.contact},handler:async p=>{try{(await mr.post(`${kT}${N8}`,{razorpay_order_id:p.razorpay_order_id,razorpay_payment_id:p.razorpay_payment_id,razorpay_signature:p.razorpay_signature})).data.status==="ok"?e(`/payment-status/success?orderId=${t.orderId}`):e(`/payment-status/failed?orderId=${t.orderId}`)}catch(m){console.error("Error verifying payment:",m),tA("Oops!",m.message,"error")}}};new o(l).open()};return t?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #E3F2FD, #BBDEFB)"},"aria-disabled":!i,children:u.jsxs("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"90%",padding:"20px",textAlign:"center",boxSizing:"border-box"},children:[u.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"10px",color:"#333"},children:"Secure Checkout"}),u.jsxs("div",{style:{textAlign:"left",marginBottom:"20px",fontSize:"0.95rem",color:"#555"},children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Order ID:"})," ",t.orderId]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Amount:"})," ",t.amount/100]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Currency:"})," ",t.currency]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Description:"})," ",t.description]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",t.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",t.email]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Contact:"})," ",t.contact]})]}),u.jsx("button",{onClick:a,style:{backgroundColor:"#387ADE",color:"#fff",fontSize:"1.1rem",padding:"12px 20px",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},children:"Proceed to Checkout"}),u.jsx("p",{children:r&&u.jsxs("p",{children:["Error loading Razorpay: ",r]})})]})}):u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:"Loading..."})},xse=()=>{const{status:e}=UD(),n=new URLSearchParams(window.location.search).get("orderId"),r=()=>{window.location.href=`kt://payment-${e}?orderId=${n}`},i=e==="success",o={margin:0,fontFamily:"Arial, sans-serif",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:i?"linear-gradient(135deg, #4caf50, #81c784)":"linear-gradient(135deg, #f44336, #e57373)",color:"#fff"},s={width:"100px",height:"100px",margin:"0 auto 20px",borderRadius:"50%",background:"#fff",display:"flex",justifyContent:"center",alignItems:"center",color:i?"#4caf50":"#f44336",fontSize:"50px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},c={background:"#fff",color:i?"#4caf50":"#f44336",border:"none",padding:"10px 20px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",textDecoration:"none",transition:"background 0.3s"};return u.jsx("div",{style:o,children:u.jsxs("div",{className:"container",style:{textAlign:"center",animation:"fadeIn 1s ease-in-out"},children:[u.jsx("div",{style:s,children:i?"":""}),u.jsx("h1",{children:i?"Payment Successful":"Payment Failed"}),u.jsx("p",{children:i?"Your payment has been processed successfully. Thank you!":"Unfortunately, your payment could not be processed. Please try again."}),u.jsx("button",{style:c,onClick:r,children:"Back to App"})]})})},Sse=Of({name:Vn().min(1,"Name is required"),email:Vn().email("Invalid email format"),mobile:Vn().regex(/^\d+$/,"Mobile must be a valid number"),image:Vn().optional(),expertise:Bu(Vn()).min(1,"At least one area of expertise is required"),experienceYears:kf().min(0,"Experience must be at least 0 years"),bio:Vn().optional(),isActive:DS().default(!0)});function _se({initialData:e,onSubmit:t,onCancel:n}){const r=th({resolver:Ay(Sse),defaultValues:{name:"",email:"",mobile:"",image:"",expertise:[""],experienceYears:0,bio:"",isActive:!0}});return P.useEffect(()=>{e?Object.keys(e).forEach(i=>{r.setValue(i,e[i])}):(r.clearErrors(),r.reset())},[e,r]),u.jsx(nh,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-6",children:[u.jsx(nn,{control:r.control,name:"name",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Name"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Mentore Name",...i})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:r.control,name:"email",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Email"}),u.jsx(vn,{children:u.jsx(sn,{type:"email",placeholder:"Mentor Email",...i})}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(nn,{control:r.control,name:"mobile",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Mobile"}),u.jsx(vn,{children:u.jsx(sn,{type:"tel",placeholder:"Mentore Mobile",...i,onChange:o=>{const s=o.target.value;/^\d*$/.test(s)&&i.onChange(s)}})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:r.control,name:"experienceYears",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Experience Years"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Experience Years",...i,onChange:o=>i.onChange(Number(o.target.value))})}),u.jsx(Vt,{})]})})]}),u.jsx(nn,{control:r.control,name:"image",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Image URL"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"https://...",...i})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:r.control,name:"expertise",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Expertise"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Comma-separated expertise areas (e.g., Math, Science)",value:i.value.join(", "),onChange:o=>i.onChange(o.target.value.split(",").map(s=>s.trim()))})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:r.control,name:"bio",render:({field:i})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Bio"}),u.jsx(vn,{children:u.jsx(rh,{placeholder:"Short bio about the mentor",...i})}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(Ot,{variant:"outline",onClick:n,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:e?"Update Mentore":"Add Mentore"})]})]})})}function wse({open:e,onClose:t,mentore:n,onSubmit:r}){return u.jsx(ld,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(_l,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[u.jsx(wl,{children:u.jsx(El,{children:n?"Edit Mentore":"Add New Mentore"})}),u.jsx(_se,{initialData:n,onSubmit:r,onCancel:t})]})})}const Ese={mentors:[],isLoading:!1,error:null,totalPages:1,currentPage:1},px=wt("creatementore",async(e,{rejectWithValue:t})=>{try{return(await mt.post(T8,e)).data}catch(n){return t(n)}}),mx=wt("fetchmentore",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(R8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),gx=wt("updatementore",async({id:e,mentoreData:t},{rejectWithValue:n})=>{try{return(await mt.put(`${k8}/${e}`,t)).data}catch(r){return n(r)}}),vx=wt("togglementoreStatus",async(e,{rejectWithValue:t})=>{try{return(await mt.post(O8,{mentorId:e})).data}catch(n){return t(n)}}),Cse=is({name:"mentors",initialState:Ese,reducers:{},extraReducers:e=>{e.addCase(px.pending,(t,n)=>{t.isLoading=!0}).addCase(px.fulfilled,(t,n)=>{t.isLoading=!1,t.mentors.push(n.payload),t.mentors.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(px.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Uu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(mx.pending,t=>{t.isLoading=!0}).addCase(mx.fulfilled,(t,n)=>{t.isLoading=!1,t.mentors=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(mx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Uu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(gx.pending,(t,n)=>{t.isLoading=!0}).addCase(gx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Uu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(gx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.mentors.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.mentors[r]=n.payload)}).addCase(vx.pending,(t,n)=>{}).addCase(vx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(vx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.mentors.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.mentors[r].isActive=!t.mentors[r].isActive)})}}),Tse=Cse.reducer,Rse=()=>{const e=Yn(),{toast:t}=Tc(),[n,r]=P.useState(!1),[i,o]=P.useState(),[s,c]=P.useState(""),{mentors:a,isLoading:l,currentPage:f,totalPages:p}=Mn(_=>_.mentore);P.useEffect(()=>{R(1)},[s]);const m=()=>{o(void 0),r(!0)},E=_=>{o(_),r(!0)},x=()=>{r(!1),o(void 0)},y=_=>{console.log("creatementore :>> ",_),i?e(gx({id:i._id,mentoreData:_})).then(C=>{C.type=="updatementore/fulfilled"&&(t({title:"Success",description:"Mentore updated successfully."}),x())}):e(px(_)).then(C=>{C.type=="creatementore/fulfilled"&&(t({title:"Success",description:"Mentore added successfully"}),x())})},w=_=>{e(vx(_._id))},R=_=>{e(mx({page:_,search:s}))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Mentore"}),u.jsxs(Ot,{onClick:m,children:[u.jsx(Yu,{className:"mr-2 h-4 w-4"})," Add Mentore"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search mentor by name, mobile, email",value:s,onChange:_=>{c(_.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Name"}),u.jsx(qe,{children:"Profile"}),u.jsx(qe,{children:"Email"}),u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Expertise"}),u.jsx(qe,{children:"ExperienceYears"}),u.jsx(qe,{children:"Bio"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{className:"text-right",children:"Actions"})]})}),u.jsx(Ds,{children:l?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):a.length===0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:7,className:"text-center py-10",children:"No Mentore found"})}):a.map(_=>u.jsxs(Tn,{children:[u.jsx(Fe,{className:"font-medium",children:_.name}),u.jsx(Fe,{children:u.jsx("img",{src:_.image?_.image:"../assets/images/placeholder.webp",alt:_.name,className:"h-13 w-12 rounded-full object-cover"})}),u.jsx(Fe,{children:_.email?_.email:"-"}),u.jsx(Fe,{children:_.mobile?_.mobile:"-"}),u.jsx(Fe,{children:_.expertise.join(", ")}),u.jsx(Fe,{children:_.experienceYears}),u.jsx(Fe,{children:_.bio}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),u.jsxs(Fe,{className:"text-right",children:[u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(_),children:u.jsx(gM,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.isActive?u.jsx(ad,{className:"h-4 w-4"}):u.jsx(my,{className:"h-4 w-4"})})]})]},_._id))})]})}),p>=1&&u.jsx(sa,{currentPage:f,totalPages:p,onPageChange:R}),u.jsx(wse,{open:n,onClose:x,mentore:i,onSubmit:y})]})},I4=({items:e,name:t,control:n,isLoading:r,search:i,onSearch:o})=>{const{field:{value:s,onChange:c}}=fk({name:t,control:n}),a=l=>{s.includes(l)?c(s.filter(f=>f!==l)):c([...s,l])};return u.jsxs(ak,{children:[u.jsx(ck,{asChild:!0,children:u.jsx(vn,{children:u.jsx(Ot,{variant:"outline",role:"combobox",className:it("w-full justify-between",!s.length&&"text-muted-foreground"),children:s&&s.length>0?`${s.length} ${t} selected`:`Select ${t}`})})}),u.jsxs(U_,{className:"w-[400px] p-0 max-h-[200px] overflow-auto",children:[u.jsx("div",{className:"p-2",children:u.jsx(sn,{placeholder:"Search...",value:i,onChange:l=>o(l.target.value.trim())})}),r?u.jsx("div",{className:"p-4 text-center",children:"Loading..."}):e.length===0?u.jsx("div",{className:"p-4 text-center",children:"No data available"}):e.map(l=>u.jsx(H2,{checked:s.includes(l.id),onCheckedChange:()=>a(l.id),className:"flex items-center space-x-2",children:l.label},l.id))]})]})},kse={offers:[],isLoading:!1,error:null,currentPage:1,totalPages:1,courses:[],isLoadingCourse:!1,quizzes:[],isLoadingQuiz:!1},yx=wt("fetchOffers",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(B8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),bx=wt("createOffer",async(e,{rejectWithValue:t})=>{try{return(await mt.post($8,e)).data}catch(n){return t(n.response.data)}}),SC=wt("fetchOfferDetails",async(e,{rejectWithValue:t})=>{try{return(await mt.get(V8(e))).data}catch(n){return t(n.response.data)}}),xx=wt("updateOffer",async({id:e,updatedData:t},{rejectWithValue:n})=>{try{return(await mt.put(z8(e),t)).data}catch(r){return n(r.response.data)}}),Sx=wt("deleteOffer",async(e,{rejectWithValue:t})=>{try{return{...(await mt.delete(W8(e))).data,id:e}}catch(n){return t(n.response.data)}}),_x=wt("searchEligibleQuizzes",async(e,{rejectWithValue:t})=>{try{return(await mt.post(H8,e)).data}catch(n){return t(n.response.data)}}),wx=wt("searchEligibleCourses",async(e,{rejectWithValue:t})=>{try{return(await mt.post(G8,e)).data}catch(n){return t(n.response.data)}}),Ose=is({name:"offer",initialState:kse,reducers:{},extraReducers:e=>{e.addCase(yx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(yx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers=n.payload.offers,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(yx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(bx.pending,t=>{t.error=null}).addCase(bx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers.push(n.payload)}).addCase(bx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Uu({title:"Error",description:n.payload.message,variant:"destructive"})}).addCase(SC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(SC.fulfilled,(t,n)=>{t.isLoading=!1,t.offers.findIndex(i=>i._id===n.payload._id)===-1&&t.offers.push(n.payload)}).addCase(SC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(xx.pending,t=>{t.error=null}).addCase(xx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.offers.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.offers[r]=n.payload)}).addCase(xx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Uu({title:"Error",description:n.payload.message,variant:"destructive"})}).addCase(Sx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Sx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers=t.offers.filter(r=>r._id!==n.payload.id)}).addCase(Sx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(wx.pending,t=>{t.isLoadingCourse=!0,t.error=null}).addCase(wx.fulfilled,(t,n)=>{t.isLoadingCourse=!1,t.courses=n.payload.courses}).addCase(wx.rejected,(t,n)=>{t.isLoadingCourse=!1,t.error=n.payload}).addCase(_x.pending,t=>{t.isLoadingQuiz=!0,t.error=null}).addCase(_x.fulfilled,(t,n)=>{t.isLoadingQuiz=!1,t.quizzes=n.payload.quizzes}).addCase(_x.rejected,(t,n)=>{t.isLoadingQuiz=!1,t.error=n.payload})}}),Pse=Ose.reducer,Nse=({courses:e,form:t,isLoading:n})=>{const r=e.map(a=>({id:a._id,label:a.title})),[i,o]=P.useState(""),s=Yn();P.useEffect(()=>{c(i)},[i]);const c=a=>{s(wx({search:a}))};return u.jsx(hk,{control:t.control,name:"courses",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Courses"}),u.jsx(I4,{items:r,name:"courses",control:t.control,isLoading:n,onSearch:o,search:i}),u.jsx(Vt,{})]})})},Ise=({quizzes:e,form:t,isLoading:n})=>{const r=e.map(a=>({id:a._id,label:a.title})),[i,o]=P.useState(""),s=Yn();P.useEffect(()=>{c(i)},[i]);const c=a=>{s(_x({search:a}))};return u.jsx(hk,{control:t.control,name:"quizzes",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Quizzes"}),u.jsx(I4,{items:r,name:"quizzes",control:t.control,isLoading:n,onSearch:o,search:i}),u.jsx(Vt,{})]})})};function Ase({form:e}){return u.jsxs("div",{className:"flex gap-4",children:[u.jsx(nn,{control:e.control,name:"startAt",render:({field:t})=>u.jsxs(Bt,{className:"flex-1",children:[u.jsx($t,{children:"Start Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(Jp,{className:"w-auto p-0",align:"start",children:u.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date,initialFocus:!0})})]}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:e.control,name:"endAt",render:({field:t})=>u.jsxs(Bt,{className:"flex-1",children:[u.jsx($t,{children:"End Date"}),u.jsxs(ey,{children:[u.jsx(ty,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?ns(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(Jp,{className:"w-auto p-0",align:"start",children:u.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<e.getValues("startAt"),initialFocus:!0})})]}),u.jsx(Vt,{})]})})]})}const jse=Of({title:Vn().min(1,"Title is required"),description:Vn().min(1,"Description is required"),image:Vn().min(1,"Image is required"),offrPer:kf().min(0).max(100),startAt:MS(),endAt:MS(),courses:Bu(Vn()).default([]),quizzes:Bu(Vn()).default([])});function Dse({initialData:e,onSubmit:t}){const{courses:n,quizzes:r,isLoadingCourse:i,isLoadingQuiz:o}=Mn(c=>c.offer);Yn();const s=th({resolver:Ay(jse),defaultValues:{title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",image:(e==null?void 0:e.image)??"",offrPer:(e==null?void 0:e.offrPer)??0,startAt:e!=null&&e.startAt?new Date(e.startAt):new Date,endAt:e!=null&&e.endAt?new Date(e.endAt):new Date,courses:Array.isArray(e==null?void 0:e.courses)?e.courses:[],quizzes:Array.isArray(e==null?void 0:e.quizzes)?e.quizzes:[]}});return u.jsx(nh,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(t),className:"space-y-6",children:[u.jsx(nn,{control:s.control,name:"title",render:({field:c})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter offer title",...c})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:s.control,name:"description",render:({field:c})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Description"}),u.jsx(vn,{children:u.jsx(rh,{placeholder:"Enter offer description",...c})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:s.control,name:"image",render:({field:c})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Offer Image"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter offer image",...c})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:s.control,name:"offrPer",render:({field:c})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Offer Percentage"}),u.jsx(vn,{children:u.jsx(sn,{type:"number",placeholder:"Enter offer percentage",...c,onChange:a=>c.onChange(Number(a.target.value))})}),u.jsx(Vt,{})]})}),u.jsx(Ase,{form:s}),u.jsx(Nse,{form:s,courses:n,isLoading:i}),u.jsx(Ise,{form:s,quizzes:r,isLoading:o}),u.jsx(Ot,{type:"submit",className:"w-full",children:e?"Update Offer":"Create Offer"})]})})}function Mse({isLoading:e,offers:t,onEdit:n,onDelete:r}){return u.jsx("div",{className:"bg-white rounded-md border",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Percentage"}),u.jsx(qe,{children:"Offer Applied"}),u.jsx(qe,{children:"Start Date"}),u.jsx(qe,{children:"End Date"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:e?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center",children:"Loading..."})}):t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:6,className:"text-center",children:"No Offer Available."})}):t.map(i=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:i.title}),u.jsxs(Fe,{children:[i.offrPer,"%"]}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{children:[i.courses.length," ",i.courses.length>1?"Courses":"Course"]}),u.jsxs("span",{children:[i.quizzes.length," ",i.quizzes.length>1?"Quizzes":"Quiz"]})]})}),u.jsx(Fe,{children:ns(new Date(i.startAt),"PPP")}),u.jsx(Fe,{children:ns(new Date(i.endAt),"PPP")}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ot,{variant:"outline",size:"icon",onClick:()=>n(i),children:u.jsx(NR,{className:"h-4 w-4"})}),u.jsx(Ot,{variant:"destructive",size:"icon",onClick:()=>r(i._id),children:u.jsx(TT,{className:"h-4 w-4"})})]})})]},i._id))})]})})}const Lse=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),{toast:i}=Tc(),{currentPage:o,totalPages:s,isLoading:c,offers:a}=Mn(w=>w.offer),[l,f]=P.useState(""),p=Yn();P.useEffect(()=>{m(1)},[l]);const m=w=>{p(yx({page:w,search:l}))},E=w=>{n?p(xx({id:n._id,updatedData:w})).then(R=>{R.type=="updateOffer/fulfilled"&&(i({title:"Offer updated",description:"The offer has been successfully updated."}),t(!1),r(null))}):p(bx(w)).then(R=>{R.type=="createOffer/fulfilled"&&(i({title:"Offer created",description:"The new offer has been successfully created."}),t(!1),r(null))})},x=w=>{r(w),t(!0)},y=w=>{p(Sx(w)).then(R=>{R.type=="deleteOffer/fulfilled"&&i({title:"Offer deleted",description:"The offer has been successfully deleted.",variant:"destructive"})})};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Offers Management"}),u.jsxs(Ot,{onClick:()=>{r(null),t(!0)},children:[u.jsx(Yu,{className:"mr-2 h-4 w-4"}),"Add New Offer"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search offer by title",value:l,onChange:w=>{f(w.target.value)},className:"max-w-sm"})}),u.jsx(ld,{open:e,onOpenChange:t,children:u.jsxs(_l,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(wl,{children:u.jsx(El,{children:n?"Edit Offer":"Create New Offer"})}),u.jsx(Dse,{initialData:n||void 0,onSubmit:E})]})}),u.jsx(Mse,{isLoading:c,offers:a,onEdit:x,onDelete:y}),s>=1&&u.jsx(sa,{currentPage:o,totalPages:s,onPageChange:m})]})},Fse=({isOpen:e,onClose:t,initialValues:n,onSubmit:r,dropdownItems:i})=>{const o=th({defaultValues:{subject:"",standard:""}}),s=i.map(a=>({label:a.std,id:a._id}));P.useEffect(()=>{var a;o.reset({subject:(n==null?void 0:n.subject)||"",standard:((a=n==null?void 0:n.standard)==null?void 0:a._id)||""})},[o,n]);const c=()=>{t()};return u.jsxs(hw,{isOpen:e,onClose:c,children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Subject":"Add Subject"}),u.jsx(nh,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(r),className:"space-y-4",children:[u.jsx(nn,{control:o.control,name:"subject",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Subject Name"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Enter subject name",...a})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:o.control,name:"standard",render:({field:a})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Standard"}),u.jsx($u,{placeholder:"Select items",name:"standard",control:o.control,onSearch:()=>{},listing:s,onItemSelect:l=>{}}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(Ot,{variant:"outline",onClick:c,children:"Cancel"}),u.jsx(Ot,{type:"submit",children:"Submit"})]})]})})]})},Use=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Yn(),{subjects:o,isLoading:s}=Mn(E=>E.subject),{standards:c,isLoading:a}=Mn(E=>E.standard);P.useEffect(()=>{i(Pf("")),i(cl())},[i]),[{name:"subject",label:"Subject Name",type:"text",placeholder:"Enter subject name",validation:om().required("Subject Name is required.")},{name:"standard",label:"Standard",type:"select",options:c.map(E=>({value:E._id,label:E.std}))}].reduce((E,x)=>(E[x.name]="",E),{});const f=E=>{i(n?Gb({id:n._id,data:E}):Hb(E)),t(!1),r(null)},p=E=>{r(E),t(!0)},m=E=>{i(qb(E))};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Subjects"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Subject"})]}),u.jsx(Fse,{isOpen:e,onClose:()=>t(!1),initialValues:n,onSubmit:f,dropdownItems:c}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Subject Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((E,x)=>{var y;return u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:x+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.subject}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.standard?(y=E.standard)==null?void 0:y.std:"-"}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(fd,{id:E._id,checked:E.isActive,onCheckedChange:()=>m(E._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(E),children:u.jsx(fw,{})})})]},E._id)})})]})]})})};function Bse(e,t=[]){let n=[];function r(o,s){const c=P.createContext(s),a=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][a])||c,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][a])||c,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(c){const a=(c==null?void 0:c[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return i.scopeName=e,[r,$se(i,...t)]}function $se(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((c,{useScope:a,scopeName:l})=>{const p=a(o)[`__scope${l}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var fO="Progress",hO=100,[Vse,kae]=Bse(fO),[zse,Wse]=Vse(fO),A4=P.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=Hse,...s}=e;(i||i===0)&&!nA(i)&&console.error(Gse(`${i}`,"Progress"));const c=nA(i)?i:hO;r!==null&&!rA(r,c)&&console.error(qse(`${r}`,"Progress"));const a=rA(r,c)?r:null,l=HS(a)?o(a,c):void 0;return u.jsx(zse,{scope:n,value:a,max:c,children:u.jsx(Pt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":HS(a)?a:void 0,"aria-valuetext":l,role:"progressbar","data-state":M4(a,c),"data-value":a??void 0,"data-max":c,...s,ref:t})})});A4.displayName=fO;var j4="ProgressIndicator",D4=P.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Wse(j4,n);return u.jsx(Pt.div,{"data-state":M4(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});D4.displayName=j4;function Hse(e,t){return`${Math.round(e/t*100)}%`}function M4(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function HS(e){return typeof e=="number"}function nA(e){return HS(e)&&!isNaN(e)&&e>0}function rA(e,t){return HS(e)&&!isNaN(e)&&e<=t&&e>=0}function Gse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hO}\`.`}function qse(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var L4=A4,Kse=D4;const F4=P.forwardRef(({className:e,value:t,...n},r)=>u.jsx(L4,{ref:r,className:it("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:u.jsx(Kse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));F4.displayName=L4.displayName;const Ex=wt("fetchAllPayment",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await mt.get(OM,{params:{page:e,userId:t}})).data}catch(r){return n(r.response.data)}}),Cx=wt("fetchUserQuizResult",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await mt.post(L8,{page:e,userId:t})).data}catch(r){return n(r)}}),Tx=wt("fetchUserCourseTracking",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await mt.post(F8,{page:e,userId:t})).data}catch(r){return n(r)}}),U4=wt("fetchUserDetails",async(e,{rejectWithValue:t})=>{try{return(await mt.post(U8,{userId:e})).data}catch(n){return t(n)}}),Yse={error:"",isLoading:!1,payments:[],pyCurrentPage:1,pyTotalPage:0,quizResult:[],qrCurrentPage:1,qrTotalPages:0,user:null,courseTracking:[],crCurrentPage:1,crTotalPage:0},Qse=is({name:"userDetail",initialState:Yse,reducers:{},extraReducers:e=>{e.addCase(U4.fulfilled,(t,n)=>{t.user=n.payload}).addCase(Tx.pending,(t,n)=>{}).addCase(Tx.fulfilled,(t,n)=>{t.courseTracking=n.payload.courseTracking}).addCase(Tx.rejected,(t,n)=>{}).addCase(Cx.pending,(t,n)=>{}).addCase(Cx.fulfilled,(t,n)=>{t.quizResult=n.payload.docs,t.qrCurrentPage=n.payload.currentPage,t.qrTotalPages=n.payload.totalPages}).addCase(Cx.rejected,(t,n)=>{}).addCase(Ex.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Ex.fulfilled,(t,n)=>{t.isLoading=!1,t.payments=n.payload.docs,t.pyCurrentPage=n.payload.currentPage,t.pyTotalPage=n.payload.totalPages}).addCase(Ex.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),Xse=Qse.reducer,Jse=({userId:e})=>{const{courseTracking:t,crCurrentPage:n,crTotalPage:r}=Mn(s=>s.userDetail),i=Yn(),o=s=>{i(Tx({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(Vu,{className:"pb-5",children:[u.jsx(zu,{children:u.jsx(Wu,{children:"Course Progress"})}),u.jsx(Hu,{className:"space-y-6",children:t.length==0?u.jsx("p",{className:"text-center",children:"No course progress found"}):t.map(s=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"font-medium",children:s.courseTitle}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.completionRate,"%"]})]}),u.jsx(F4,{value:s.completionRate,className:"h-2"})]},s._id))}),r>=1&&u.jsx(sa,{currentPage:n,totalPages:r,onPageChange:o})]})},Zse=({userId:e})=>{const{payments:t,pyCurrentPage:n,pyTotalPage:r}=Mn(s=>s.userDetail),i=Yn(),o=s=>{i(Ex({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(Vu,{className:"pb-5",children:[u.jsx(zu,{children:u.jsx(Wu,{children:"Payment History"})}),u.jsx(Hu,{children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Item"}),u.jsx(qe,{children:"Type"}),u.jsx(qe,{children:"Amount"}),u.jsx(qe,{children:"Status"}),u.jsx(qe,{children:"Date"})]})}),u.jsx(Ds,{children:t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:5,className:"text-center py-10",children:"No payment found"})}):t.map(s=>{var c;return u.jsxs(Tn,{children:[u.jsx(Fe,{children:s.courseId?"Course":s.quizId?"Quiz":"-"}),u.jsx(Fe,{children:s.quizId?s.quizId.title:(c=s==null?void 0:s.courseId)==null?void 0:c.title}),u.jsxs(Fe,{children:["$",s.amount/100]}),u.jsx(Fe,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":s.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.paymentStatus})}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(s.paymentDate).toLocaleDateString()}),u.jsx("span",{children:new Date(s.paymentDate).toLocaleTimeString()})]})})]},s._id)})})]})}),r>=1&&u.jsx(sa,{currentPage:n,totalPages:r,onPageChange:o})]})},eae=({userId:e})=>{const{quizResult:t,qrCurrentPage:n,qrTotalPages:r}=Mn(s=>s.userDetail),i=Yn(),o=s=>{i(Cx({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(Vu,{className:"pb-5",children:[u.jsx(zu,{children:u.jsx(Wu,{children:"Quiz Results"})}),u.jsx(Hu,{children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Quiz Name"}),u.jsx(qe,{children:"Score"}),u.jsx(qe,{children:"Date"})]})}),u.jsx(Ds,{children:t.length==0?u.jsx(Tn,{children:u.jsx(Fe,{colSpan:3,className:"text-center py-10",children:"No quiz result found"})}):t.map(s=>u.jsxs(Tn,{children:[u.jsx(Fe,{children:s.quizId.title}),u.jsx(Fe,{children:u.jsxs("span",{className:"font-medium",children:[s.score," / ",s.totalQuestions]})}),u.jsx(Fe,{children:s.submittedAt?new Date(s.submittedAt).toLocaleTimeString():"-"})]},s._id))})]})}),r>=1&&u.jsx(sa,{currentPage:n,totalPages:r,onPageChange:o})]})},tae=({userId:e})=>{var i,o;const{user:t}=Mn(s=>s.userDetail),n=Yn(),r=()=>{n(U4(e))};return P.useEffect(()=>{r()},[]),u.jsxs(Vu,{children:[u.jsxs(zu,{className:"flex flex-row items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(a6,{className:"h-8 w-8 text-blue-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Wu,{children:t==null?void 0:t.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.mobile})]}),u.jsx("div",{className:"text-sm text-muted-foreground text-right",children:u.jsxs("p",{children:["Last Login: ",new Date(t==null?void 0:t.lastLoginAt).toLocaleDateString()," ",new Date(t==null?void 0:t.lastLoginAt).toLocaleTimeString()]})})]}),u.jsx(Hu,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(qp,{className:"h-4 w-4"}),"Basic Information"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",new Date(t==null?void 0:t.dob).toLocaleDateString()]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Standard:"})," ",((i=t==null?void 0:t.stdId)==null?void 0:i.std)??""]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Board:"})," ",((o=t==null?void 0:t.boardId)==null?void 0:o.boardshortname)??""]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(vM,{className:"h-4 w-4"}),"Academic Details"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"School:"})," ",t==null?void 0:t.schoolName]}),u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subjects:"})," ",u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t==null?void 0:t.subject.map(s=>u.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs",children:s.subject},s._id))})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(t6,{className:"h-4 w-4"}),"Extra Activities"]}),u.jsx("div",{className:"space-y-2",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:t==null?void 0:t.activity.map(s=>u.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full text-xs",children:s.activityname},s._id))})})]}),u.jsxs("div",{className:"space-y-3 md:col-span-2 lg:col-span-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(o6,{className:"h-4 w-4"}),"Learning Progress"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCourses)??0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Enrolled Courses"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.completedQuizzes)??0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Quizzes"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:new Date(t==null?void 0:t.createdAt).toLocaleDateString()}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Member Since"})]})]})]})]})})]})},nae=()=>{const{id:e}=UD();return u.jsx("div",{className:"container mx-auto py-8 px-4",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx(tae,{userId:e}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsx(Jse,{userId:e}),u.jsx(eae,{userId:e})]}),u.jsx(Zse,{userId:e})]})})},rae={transactions:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Rx=wt("fetchAllTransactions",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await mt.get(D8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),iae=is({name:"transaction",initialState:rae,reducers:{},extraReducers:e=>{e.addCase(Rx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Rx.fulfilled,(t,n)=>{t.isLoading=!1,t.transactions=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Rx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),oae=iae.reducer,sae=()=>{const[e,t]=P.useState(""),{transactions:n,currentPage:r,totalPages:i,isLoading:o}=Mn(a=>a.transaction),s=Yn(),c=a=>{s(Rx({page:a,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&c(1)},[e]),u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"space-y-1",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Transaction Records"})})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(sn,{placeholder:"Search user by mobile",value:e,onChange:a=>{t(a.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Referral Name"}),u.jsx(qe,{children:"Referral Mobile"}),u.jsx(qe,{children:"Name"}),u.jsx(qe,{children:"Mobile"}),u.jsx(qe,{children:"Amount"}),u.jsx(qe,{children:"Points"}),u.jsx(qe,{children:"Transaction Type"}),u.jsx(qe,{children:"Transaction Date"})]})}),u.jsx(Ds,{children:n.map(a=>{var l,f,p,m;return console.log("=========================================",a),u.jsxs(Tn,{children:[u.jsx(Fe,{children:(l=a==null?void 0:a.referredBy)==null?void 0:l.name}),u.jsx(Fe,{children:(f=a==null?void 0:a.referredBy)==null?void 0:f.mobile}),u.jsx(Fe,{children:(p=a==null?void 0:a.referredTo)==null?void 0:p.name}),u.jsx(Fe,{children:(m=a==null?void 0:a.referredTo)==null?void 0:m.mobile}),u.jsxs(Fe,{children:["",(a==null?void 0:a.amount)/100||0]}),u.jsx(Fe,{children:a==null?void 0:a.points}),u.jsx(Fe,{children:(a==null?void 0:a.transactionType)==="C"?"Withdraw":"Deposit"}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(a==null?void 0:a.date).toLocaleDateString()}),u.jsx("span",{children:new Date(a==null?void 0:a.date).toLocaleTimeString()})]})})]},a==null?void 0:a._id)})})]})}),i>=1&&u.jsx(sa,{currentPage:r,totalPages:i,onPageChange:c})]})};var B4={exports:{}};/*! For license information please see amazon-ivs-web-broadcast.js.LICENSE.txt */(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={2505:(s,c,a)=>{s.exports=a(8015)},5592:(s,c,a)=>{var l=a(9516),f=a(7522),p=a(3948),m=a(9106),E=a(9615),x=a(2012),y=a(4202),w=a(4896),R=a(5845),_=a(8563),C=a(5656);s.exports=function(I){return new Promise(function(j,U){var V,z=I.data,q=I.headers,X=I.responseType;function J(){I.cancelToken&&I.cancelToken.unsubscribe(V),I.signal&&I.signal.removeEventListener("abort",V)}l.isFormData(z)&&l.isStandardBrowserEnv()&&delete q["Content-Type"];var G=new XMLHttpRequest;if(I.auth){var ee=I.auth.username||"",ce=I.auth.password?unescape(encodeURIComponent(I.auth.password)):"";q.Authorization="Basic "+btoa(ee+":"+ce)}var xe=E(I.baseURL,I.url);function Se(){if(G){var Q="getAllResponseHeaders"in G?x(G.getAllResponseHeaders()):null,ne={data:X&&X!=="text"&&X!=="json"?G.response:G.responseText,status:G.status,statusText:G.statusText,headers:Q,config:I,request:G};f(function(fe){j(fe),J()},function(fe){U(fe),J()},ne),G=null}}if(G.open(I.method.toUpperCase(),m(xe,I.params,I.paramsSerializer),!0),G.timeout=I.timeout,"onloadend"in G?G.onloadend=Se:G.onreadystatechange=function(){G&&G.readyState===4&&(G.status!==0||G.responseURL&&G.responseURL.indexOf("file:")===0)&&setTimeout(Se)},G.onabort=function(){G&&(U(new R("Request aborted",R.ECONNABORTED,I,G)),G=null)},G.onerror=function(){U(new R("Network Error",R.ERR_NETWORK,I,G,G)),G=null},G.ontimeout=function(){var Q=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded",ne=I.transitional||w;I.timeoutErrorMessage&&(Q=I.timeoutErrorMessage),U(new R(Q,ne.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,I,G)),G=null},l.isStandardBrowserEnv()){var ve=(I.withCredentials||y(xe))&&I.xsrfCookieName?p.read(I.xsrfCookieName):void 0;ve&&(q[I.xsrfHeaderName]=ve)}"setRequestHeader"in G&&l.forEach(q,function(Q,ne){z===void 0&&ne.toLowerCase()==="content-type"?delete q[ne]:G.setRequestHeader(ne,Q)}),l.isUndefined(I.withCredentials)||(G.withCredentials=!!I.withCredentials),X&&X!=="json"&&(G.responseType=I.responseType),typeof I.onDownloadProgress=="function"&&G.addEventListener("progress",I.onDownloadProgress),typeof I.onUploadProgress=="function"&&G.upload&&G.upload.addEventListener("progress",I.onUploadProgress),(I.cancelToken||I.signal)&&(V=function(Q){G&&(U(!Q||Q&&Q.type?new _:Q),G.abort(),G=null)},I.cancelToken&&I.cancelToken.subscribe(V),I.signal&&(I.signal.aborted?V():I.signal.addEventListener("abort",V))),z||(z=null);var Y=C(xe);Y&&["http","https","file"].indexOf(Y)===-1?U(new R("Unsupported protocol "+Y+":",R.ERR_BAD_REQUEST,I)):G.send(z)})}},8015:(s,c,a)=>{var l=a(9516),f=a(9012),p=a(5155),m=a(5343),E=function x(y){var w=new p(y),R=f(p.prototype.request,w);return l.extend(R,p.prototype,w),l.extend(R,w),R.create=function(_){return x(m(y,_))},R}(a(7412));E.Axios=p,E.CanceledError=a(8563),E.CancelToken=a(3191),E.isCancel=a(3864),E.VERSION=a(9641).version,E.toFormData=a(6440),E.AxiosError=a(5845),E.Cancel=E.CanceledError,E.all=function(x){return Promise.all(x)},E.spread=a(7980),E.isAxiosError=a(5019),s.exports=E,s.exports.default=E},3191:(s,c,a)=>{var l=a(8563);function f(p){if(typeof p!="function")throw new TypeError("executor must be a function.");var m;this.promise=new Promise(function(x){m=x});var E=this;this.promise.then(function(x){if(E._listeners){var y,w=E._listeners.length;for(y=0;y<w;y++)E._listeners[y](x);E._listeners=null}}),this.promise.then=function(x){var y,w=new Promise(function(R){E.subscribe(R),y=R}).then(x);return w.cancel=function(){E.unsubscribe(y)},w},p(function(x){E.reason||(E.reason=new l(x),m(E.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.prototype.subscribe=function(p){this.reason?p(this.reason):this._listeners?this._listeners.push(p):this._listeners=[p]},f.prototype.unsubscribe=function(p){if(this._listeners){var m=this._listeners.indexOf(p);m!==-1&&this._listeners.splice(m,1)}},f.source=function(){var p;return{token:new f(function(m){p=m}),cancel:p}},s.exports=f},8563:(s,c,a)=>{var l=a(5845);function f(p){l.call(this,p??"canceled",l.ERR_CANCELED),this.name="CanceledError"}a(9516).inherits(f,l,{__CANCEL__:!0}),s.exports=f},3864:s=>{s.exports=function(c){return!(!c||!c.__CANCEL__)}},5155:(s,c,a)=>{var l=a(9516),f=a(9106),p=a(3471),m=a(4490),E=a(5343),x=a(9615),y=a(4841),w=y.validators;function R(_){this.defaults=_,this.interceptors={request:new p,response:new p}}R.prototype.request=function(_,C){typeof _=="string"?(C=C||{}).url=_:C=_||{},(C=E(this.defaults,C)).method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var I=C.transitional;I!==void 0&&y.assertOptions(I,{silentJSONParsing:w.transitional(w.boolean),forcedJSONParsing:w.transitional(w.boolean),clarifyTimeoutError:w.transitional(w.boolean)},!1);var j=[],U=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(C)===!1||(U=U&&ee.synchronous,j.unshift(ee.fulfilled,ee.rejected))});var V,z=[];if(this.interceptors.response.forEach(function(ee){z.push(ee.fulfilled,ee.rejected)}),!U){var q=[m,void 0];for(Array.prototype.unshift.apply(q,j),q=q.concat(z),V=Promise.resolve(C);q.length;)V=V.then(q.shift(),q.shift());return V}for(var X=C;j.length;){var J=j.shift(),G=j.shift();try{X=J(X)}catch(ee){G(ee);break}}try{V=m(X)}catch(ee){return Promise.reject(ee)}for(;z.length;)V=V.then(z.shift(),z.shift());return V},R.prototype.getUri=function(_){_=E(this.defaults,_);var C=x(_.baseURL,_.url);return f(C,_.params,_.paramsSerializer)},l.forEach(["delete","get","head","options"],function(_){R.prototype[_]=function(C,I){return this.request(E(I||{},{method:_,url:C,data:(I||{}).data}))}}),l.forEach(["post","put","patch"],function(_){function C(I){return function(j,U,V){return this.request(E(V||{},{method:_,headers:I?{"Content-Type":"multipart/form-data"}:{},url:j,data:U}))}}R.prototype[_]=C(),R.prototype[_+"Form"]=C(!0)}),s.exports=R},5845:(s,c,a)=>{var l=a(9516);function f(E,x,y,w,R){Error.call(this),this.message=E,this.name="AxiosError",x&&(this.code=x),y&&(this.config=y),w&&(this.request=w),R&&(this.response=R)}l.inherits(f,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var p=f.prototype,m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(E){m[E]={value:E}}),Object.defineProperties(f,m),Object.defineProperty(p,"isAxiosError",{value:!0}),f.from=function(E,x,y,w,R,_){var C=Object.create(p);return l.toFlatObject(E,C,function(I){return I!==Error.prototype}),f.call(C,E.message,x,y,w,R),C.name=E.name,_&&Object.assign(C,_),C},s.exports=f},3471:(s,c,a)=>{var l=a(9516);function f(){this.handlers=[]}f.prototype.use=function(p,m,E){return this.handlers.push({fulfilled:p,rejected:m,synchronous:!!E&&E.synchronous,runWhen:E?E.runWhen:null}),this.handlers.length-1},f.prototype.eject=function(p){this.handlers[p]&&(this.handlers[p]=null)},f.prototype.forEach=function(p){l.forEach(this.handlers,function(m){m!==null&&p(m)})},s.exports=f},9615:(s,c,a)=>{var l=a(9137),f=a(4680);s.exports=function(p,m){return p&&!l(m)?f(p,m):m}},4490:(s,c,a)=>{var l=a(9516),f=a(2881),p=a(3864),m=a(7412),E=a(8563);function x(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new E}s.exports=function(y){return x(y),y.headers=y.headers||{},y.data=f.call(y,y.data,y.headers,y.transformRequest),y.headers=l.merge(y.headers.common||{},y.headers[y.method]||{},y.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(w){delete y.headers[w]}),(y.adapter||m.adapter)(y).then(function(w){return x(y),w.data=f.call(y,w.data,w.headers,y.transformResponse),w},function(w){return p(w)||(x(y),w&&w.response&&(w.response.data=f.call(y,w.response.data,w.response.headers,y.transformResponse))),Promise.reject(w)})}},5343:(s,c,a)=>{var l=a(9516);s.exports=function(f,p){p=p||{};var m={};function E(C,I){return l.isPlainObject(C)&&l.isPlainObject(I)?l.merge(C,I):l.isPlainObject(I)?l.merge({},I):l.isArray(I)?I.slice():I}function x(C){return l.isUndefined(p[C])?l.isUndefined(f[C])?void 0:E(void 0,f[C]):E(f[C],p[C])}function y(C){if(!l.isUndefined(p[C]))return E(void 0,p[C])}function w(C){return l.isUndefined(p[C])?l.isUndefined(f[C])?void 0:E(void 0,f[C]):E(void 0,p[C])}function R(C){return C in p?E(f[C],p[C]):C in f?E(void 0,f[C]):void 0}var _={url:y,method:y,data:y,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:R};return l.forEach(Object.keys(f).concat(Object.keys(p)),function(C){var I=_[C]||x,j=I(C);l.isUndefined(j)&&I!==R||(m[C]=j)}),m}},7522:(s,c,a)=>{var l=a(5845);s.exports=function(f,p,m){var E=m.config.validateStatus;m.status&&E&&!E(m.status)?p(new l("Request failed with status code "+m.status,[l.ERR_BAD_REQUEST,l.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m)):f(m)}},2881:(s,c,a)=>{var l=a(9516),f=a(7412);s.exports=function(p,m,E){var x=this||f;return l.forEach(E,function(y){p=y.call(x,p,m)}),p}},7412:(s,c,a)=>{var l=a(9516),f=a(7018),p=a(5845),m=a(4896),E=a(6440),x={"Content-Type":"application/x-www-form-urlencoded"};function y(_,C){!l.isUndefined(_)&&l.isUndefined(_["Content-Type"])&&(_["Content-Type"]=C)}var w,R={transitional:m,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(w=a(5592)),w),transformRequest:[function(_,C){if(f(C,"Accept"),f(C,"Content-Type"),l.isFormData(_)||l.isArrayBuffer(_)||l.isBuffer(_)||l.isStream(_)||l.isFile(_)||l.isBlob(_))return _;if(l.isArrayBufferView(_))return _.buffer;if(l.isURLSearchParams(_))return y(C,"application/x-www-form-urlencoded;charset=utf-8"),_.toString();var I,j=l.isObject(_),U=C&&C["Content-Type"];if((I=l.isFileList(_))||j&&U==="multipart/form-data"){var V=this.env&&this.env.FormData;return E(I?{"files[]":_}:_,V&&new V)}return j||U==="application/json"?(y(C,"application/json"),function(z,q,X){if(l.isString(z))try{return(q||JSON.parse)(z),l.trim(z)}catch(J){if(J.name!=="SyntaxError")throw J}return(0,JSON.stringify)(z)}(_)):_}],transformResponse:[function(_){var C=this.transitional||R.transitional,I=C&&C.silentJSONParsing,j=C&&C.forcedJSONParsing,U=!I&&this.responseType==="json";if(U||j&&l.isString(_)&&_.length)try{return JSON.parse(_)}catch(V){if(U)throw V.name==="SyntaxError"?p.from(V,p.ERR_BAD_RESPONSE,this,null,this.response):V}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:a(1534)},validateStatus:function(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(_){R.headers[_]={}}),l.forEach(["post","put","patch"],function(_){R.headers[_]=l.merge(x)}),s.exports=R},4896:s=>{s.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9641:s=>{s.exports={version:"0.27.2"}},9012:s=>{s.exports=function(c,a){return function(){for(var l=new Array(arguments.length),f=0;f<l.length;f++)l[f]=arguments[f];return c.apply(a,l)}}},9106:(s,c,a)=>{var l=a(9516);function f(p){return encodeURIComponent(p).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}s.exports=function(p,m,E){if(!m)return p;var x;if(E)x=E(m);else if(l.isURLSearchParams(m))x=m.toString();else{var y=[];l.forEach(m,function(R,_){R!=null&&(l.isArray(R)?_+="[]":R=[R],l.forEach(R,function(C){l.isDate(C)?C=C.toISOString():l.isObject(C)&&(C=JSON.stringify(C)),y.push(f(_)+"="+f(C))}))}),x=y.join("&")}if(x){var w=p.indexOf("#");w!==-1&&(p=p.slice(0,w)),p+=(p.indexOf("?")===-1?"?":"&")+x}return p}},4680:s=>{s.exports=function(c,a){return a?c.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):c}},3948:(s,c,a)=>{var l=a(9516);s.exports=l.isStandardBrowserEnv()?{write:function(f,p,m,E,x,y){var w=[];w.push(f+"="+encodeURIComponent(p)),l.isNumber(m)&&w.push("expires="+new Date(m).toGMTString()),l.isString(E)&&w.push("path="+E),l.isString(x)&&w.push("domain="+x),y===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(f){var p=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return p?decodeURIComponent(p[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:s=>{s.exports=function(c){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(c)}},5019:(s,c,a)=>{var l=a(9516);s.exports=function(f){return l.isObject(f)&&f.isAxiosError===!0}},4202:(s,c,a)=>{var l=a(9516);s.exports=l.isStandardBrowserEnv()?function(){var f,p=/(msie|trident)/i.test(navigator.userAgent),m=document.createElement("a");function E(x){var y=x;return p&&(m.setAttribute("href",y),y=m.href),m.setAttribute("href",y),{href:m.href,protocol:m.protocol?m.protocol.replace(/:$/,""):"",host:m.host,search:m.search?m.search.replace(/^\?/,""):"",hash:m.hash?m.hash.replace(/^#/,""):"",hostname:m.hostname,port:m.port,pathname:m.pathname.charAt(0)==="/"?m.pathname:"/"+m.pathname}}return f=E(window.location.href),function(x){var y=l.isString(x)?E(x):x;return y.protocol===f.protocol&&y.host===f.host}}():function(){return!0}},7018:(s,c,a)=>{var l=a(9516);s.exports=function(f,p){l.forEach(f,function(m,E){E!==p&&E.toUpperCase()===p.toUpperCase()&&(f[p]=m,delete f[E])})}},1534:s=>{s.exports=null},2012:(s,c,a)=>{var l=a(9516),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];s.exports=function(p){var m,E,x,y={};return p&&l.forEach(p.split(`
`),function(w){if(x=w.indexOf(":"),m=l.trim(w.substr(0,x)).toLowerCase(),E=l.trim(w.substr(x+1)),m){if(y[m]&&f.indexOf(m)>=0)return;y[m]=m==="set-cookie"?(y[m]?y[m]:[]).concat([E]):y[m]?y[m]+", "+E:E}}),y}},5656:s=>{s.exports=function(c){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(c);return a&&a[1]||""}},7980:s=>{s.exports=function(c){return function(a){return c.apply(null,a)}}},6440:(s,c,a)=>{var l=a(9516);s.exports=function(f,p){p=p||new FormData;var m=[];function E(x){return x===null?"":l.isDate(x)?x.toISOString():l.isArrayBuffer(x)||l.isTypedArray(x)?typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}return function x(y,w){if(l.isPlainObject(y)||l.isArray(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+w);m.push(y),l.forEach(y,function(R,_){if(!l.isUndefined(R)){var C,I=w?w+"."+_:_;if(R&&!w&&typeof R=="object"){if(l.endsWith(_,"{}"))R=JSON.stringify(R);else if(l.endsWith(_,"[]")&&(C=l.toArray(R)))return void C.forEach(function(j){!l.isUndefined(j)&&p.append(I,E(j))})}x(R,I)}}),m.pop()}else p.append(w,E(y))}(f),p}},4841:(s,c,a)=>{var l=a(9641).version,f=a(5845),p={};["object","boolean","number","function","string","symbol"].forEach(function(E,x){p[E]=function(y){return typeof y===E||"a"+(x<1?"n ":" ")+E}});var m={};p.transitional=function(E,x,y){function w(R,_){return"[Axios v"+l+"] Transitional option '"+R+"'"+_+(y?". "+y:"")}return function(R,_,C){if(E===!1)throw new f(w(_," has been removed"+(x?" in "+x:"")),f.ERR_DEPRECATED);return x&&!m[_]&&(m[_]=!0,console.warn(w(_," has been deprecated since v"+x+" and will be removed in the near future"))),!E||E(R,_,C)}},s.exports={assertOptions:function(E,x,y){if(typeof E!="object")throw new f("options must be an object",f.ERR_BAD_OPTION_VALUE);for(var w=Object.keys(E),R=w.length;R-- >0;){var _=w[R],C=x[_];if(C){var I=E[_],j=I===void 0||C(I,_,E);if(j!==!0)throw new f("option "+_+" must be "+j,f.ERR_BAD_OPTION_VALUE)}else if(y!==!0)throw new f("Unknown option "+_,f.ERR_BAD_OPTION)}},validators:p}},9516:(s,c,a)=>{var l,f=a(9012),p=Object.prototype.toString,m=(l=Object.create(null),function(G){var ee=p.call(G);return l[ee]||(l[ee]=ee.slice(8,-1).toLowerCase())});function E(G){return G=G.toLowerCase(),function(ee){return m(ee)===G}}function x(G){return Array.isArray(G)}function y(G){return G===void 0}var w=E("ArrayBuffer");function R(G){return G!==null&&typeof G=="object"}function _(G){if(m(G)!=="object")return!1;var ee=Object.getPrototypeOf(G);return ee===null||ee===Object.prototype}var C=E("Date"),I=E("File"),j=E("Blob"),U=E("FileList");function V(G){return p.call(G)==="[object Function]"}var z=E("URLSearchParams");function q(G,ee){if(G!=null)if(typeof G!="object"&&(G=[G]),x(G))for(var ce=0,xe=G.length;ce<xe;ce++)ee.call(null,G[ce],ce,G);else for(var Se in G)Object.prototype.hasOwnProperty.call(G,Se)&&ee.call(null,G[Se],Se,G)}var X,J=(X=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(G){return X&&G instanceof X});s.exports={isArray:x,isArrayBuffer:w,isBuffer:function(G){return G!==null&&!y(G)&&G.constructor!==null&&!y(G.constructor)&&typeof G.constructor.isBuffer=="function"&&G.constructor.isBuffer(G)},isFormData:function(G){var ee="[object FormData]";return G&&(typeof FormData=="function"&&G instanceof FormData||p.call(G)===ee||V(G.toString)&&G.toString()===ee)},isArrayBufferView:function(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):G&&G.buffer&&w(G.buffer)},isString:function(G){return typeof G=="string"},isNumber:function(G){return typeof G=="number"},isObject:R,isPlainObject:_,isUndefined:y,isDate:C,isFile:I,isBlob:j,isFunction:V,isStream:function(G){return R(G)&&V(G.pipe)},isURLSearchParams:z,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:q,merge:function G(){var ee={};function ce(ve,Y){_(ee[Y])&&_(ve)?ee[Y]=G(ee[Y],ve):_(ve)?ee[Y]=G({},ve):x(ve)?ee[Y]=ve.slice():ee[Y]=ve}for(var xe=0,Se=arguments.length;xe<Se;xe++)q(arguments[xe],ce);return ee},extend:function(G,ee,ce){return q(ee,function(xe,Se){G[Se]=ce&&typeof xe=="function"?f(xe,ce):xe}),G},trim:function(G){return G.trim?G.trim():G.replace(/^\s+|\s+$/g,"")},stripBOM:function(G){return G.charCodeAt(0)===65279&&(G=G.slice(1)),G},inherits:function(G,ee,ce,xe){G.prototype=Object.create(ee.prototype,xe),G.prototype.constructor=G,ce&&Object.assign(G.prototype,ce)},toFlatObject:function(G,ee,ce){var xe,Se,ve,Y={};ee=ee||{};do{for(Se=(xe=Object.getOwnPropertyNames(G)).length;Se-- >0;)Y[ve=xe[Se]]||(ee[ve]=G[ve],Y[ve]=!0);G=Object.getPrototypeOf(G)}while(G&&(!ce||ce(G,ee))&&G!==Object.prototype);return ee},kindOf:m,kindOfTest:E,endsWith:function(G,ee,ce){G=String(G),(ce===void 0||ce>G.length)&&(ce=G.length),ce-=ee.length;var xe=G.indexOf(ee,ce);return xe!==-1&&xe===ce},toArray:function(G){if(!G)return null;var ee=G.length;if(y(ee))return null;for(var ce=new Array(ee);ee-- >0;)ce[ee]=G[ee];return ce},isTypedArray:J,isFileList:U}},6880:function(s){s.exports=function(c){var a={};function l(f){if(a[f])return a[f].exports;var p=a[f]={i:f,l:!1,exports:{}};return c[f].call(p.exports,p,p.exports,l),p.l=!0,p.exports}return l.m=c,l.c=a,l.d=function(f,p,m){l.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:m})},l.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},l.t=function(f,p){if(1&p&&(f=l(f)),8&p||4&p&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),2&p&&typeof f!="string")for(var E in f)l.d(m,E,(function(x){return f[x]}).bind(null,E));return m},l.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return l.d(p,"a",p),p},l.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},l.p="",l(l.s=90)}({17:function(c,a,l){a.__esModule=!0,a.default=void 0;var f=l(18),p=function(){function m(){}return m.getFirstMatch=function(E,x){var y=x.match(E);return y&&y.length>0&&y[1]||""},m.getSecondMatch=function(E,x){var y=x.match(E);return y&&y.length>1&&y[2]||""},m.matchAndReturnConst=function(E,x,y){if(E.test(x))return y},m.getWindowsVersionName=function(E){switch(E){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},m.getMacOSVersionName=function(E){var x=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(x.push(0),x[0]===10)switch(x[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},m.getAndroidVersionName=function(E){var x=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(x.push(0),!(x[0]===1&&x[1]<5))return x[0]===1&&x[1]<6?"Cupcake":x[0]===1&&x[1]>=6?"Donut":x[0]===2&&x[1]<2?"Eclair":x[0]===2&&x[1]===2?"Froyo":x[0]===2&&x[1]>2?"Gingerbread":x[0]===3?"Honeycomb":x[0]===4&&x[1]<1?"Ice Cream Sandwich":x[0]===4&&x[1]<4?"Jelly Bean":x[0]===4&&x[1]>=4?"KitKat":x[0]===5?"Lollipop":x[0]===6?"Marshmallow":x[0]===7?"Nougat":x[0]===8?"Oreo":x[0]===9?"Pie":void 0},m.getVersionPrecision=function(E){return E.split(".").length},m.compareVersions=function(E,x,y){y===void 0&&(y=!1);var w=m.getVersionPrecision(E),R=m.getVersionPrecision(x),_=Math.max(w,R),C=0,I=m.map([E,x],function(j){var U=_-m.getVersionPrecision(j),V=j+new Array(U+1).join(".0");return m.map(V.split("."),function(z){return new Array(20-z.length).join("0")+z}).reverse()});for(y&&(C=_-Math.min(w,R)),_-=1;_>=C;){if(I[0][_]>I[1][_])return 1;if(I[0][_]===I[1][_]){if(_===C)return 0;_-=1}else if(I[0][_]<I[1][_])return-1}},m.map=function(E,x){var y,w=[];if(Array.prototype.map)return Array.prototype.map.call(E,x);for(y=0;y<E.length;y+=1)w.push(x(E[y]));return w},m.find=function(E,x){var y,w;if(Array.prototype.find)return Array.prototype.find.call(E,x);for(y=0,w=E.length;y<w;y+=1){var R=E[y];if(x(R,y))return R}},m.assign=function(E){for(var x,y,w=E,R=arguments.length,_=new Array(R>1?R-1:0),C=1;C<R;C++)_[C-1]=arguments[C];if(Object.assign)return Object.assign.apply(Object,[E].concat(_));var I=function(){var j=_[x];typeof j=="object"&&j!==null&&Object.keys(j).forEach(function(U){w[U]=j[U]})};for(x=0,y=_.length;x<y;x+=1)I();return E},m.getBrowserAlias=function(E){return f.BROWSER_ALIASES_MAP[E]},m.getBrowserTypeByAlias=function(E){return f.BROWSER_MAP[E]||""},m}();a.default=p,c.exports=a.default},18:function(c,a,l){a.__esModule=!0,a.ENGINE_MAP=a.OS_MAP=a.PLATFORMS_MAP=a.BROWSER_MAP=a.BROWSER_ALIASES_MAP=void 0,a.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},a.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},a.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},a.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},a.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(c,a,l){a.__esModule=!0,a.default=void 0;var f,p=(f=l(91))&&f.__esModule?f:{default:f},m=l(18);function E(y,w){for(var R=0;R<w.length;R++){var _=w[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}var x=function(){function y(){}var w,R,_;return y.getParser=function(C,I){if(I===void 0&&(I=!1),typeof C!="string")throw new Error("UserAgent should be a string");return new p.default(C,I)},y.parse=function(C){return new p.default(C).getResult()},w=y,_=[{key:"BROWSER_MAP",get:function(){return m.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return m.ENGINE_MAP}},{key:"OS_MAP",get:function(){return m.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return m.PLATFORMS_MAP}}],(R=null)&&E(w.prototype,R),_&&E(w,_),y}();a.default=x,c.exports=a.default},91:function(c,a,l){a.__esModule=!0,a.default=void 0;var f=y(l(92)),p=y(l(93)),m=y(l(94)),E=y(l(95)),x=y(l(17));function y(R){return R&&R.__esModule?R:{default:R}}var w=function(){function R(C,I){if(I===void 0&&(I=!1),C==null||C==="")throw new Error("UserAgent parameter can't be empty");this._ua=C,this.parsedResult={},I!==!0&&this.parse()}var _=R.prototype;return _.getUA=function(){return this._ua},_.test=function(C){return C.test(this._ua)},_.parseBrowser=function(){var C=this;this.parsedResult.browser={};var I=x.default.find(f.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.browser=I.describe(this.getUA())),this.parsedResult.browser},_.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},_.getBrowserName=function(C){return C?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},_.getBrowserVersion=function(){return this.getBrowser().version},_.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},_.parseOS=function(){var C=this;this.parsedResult.os={};var I=x.default.find(p.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.os=I.describe(this.getUA())),this.parsedResult.os},_.getOSName=function(C){var I=this.getOS().name;return C?String(I).toLowerCase()||"":I||""},_.getOSVersion=function(){return this.getOS().version},_.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},_.getPlatformType=function(C){C===void 0&&(C=!1);var I=this.getPlatform().type;return C?String(I).toLowerCase()||"":I||""},_.parsePlatform=function(){var C=this;this.parsedResult.platform={};var I=x.default.find(m.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.platform=I.describe(this.getUA())),this.parsedResult.platform},_.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},_.getEngineName=function(C){return C?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},_.parseEngine=function(){var C=this;this.parsedResult.engine={};var I=x.default.find(E.default,function(j){if(typeof j.test=="function")return j.test(C);if(j.test instanceof Array)return j.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.engine=I.describe(this.getUA())),this.parsedResult.engine},_.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},_.getResult=function(){return x.default.assign({},this.parsedResult)},_.satisfies=function(C){var I=this,j={},U=0,V={},z=0;if(Object.keys(C).forEach(function(Se){var ve=C[Se];typeof ve=="string"?(V[Se]=ve,z+=1):typeof ve=="object"&&(j[Se]=ve,U+=1)}),U>0){var q=Object.keys(j),X=x.default.find(q,function(Se){return I.isOS(Se)});if(X){var J=this.satisfies(j[X]);if(J!==void 0)return J}var G=x.default.find(q,function(Se){return I.isPlatform(Se)});if(G){var ee=this.satisfies(j[G]);if(ee!==void 0)return ee}}if(z>0){var ce=Object.keys(V),xe=x.default.find(ce,function(Se){return I.isBrowser(Se,!0)});if(xe!==void 0)return this.compareVersion(V[xe])}},_.isBrowser=function(C,I){I===void 0&&(I=!1);var j=this.getBrowserName().toLowerCase(),U=C.toLowerCase(),V=x.default.getBrowserTypeByAlias(U);return I&&V&&(U=V.toLowerCase()),U===j},_.compareVersion=function(C){var I=[0],j=C,U=!1,V=this.getBrowserVersion();if(typeof V=="string")return C[0]===">"||C[0]==="<"?(j=C.substr(1),C[1]==="="?(U=!0,j=C.substr(2)):I=[],C[0]===">"?I.push(1):I.push(-1)):C[0]==="="?j=C.substr(1):C[0]==="~"&&(U=!0,j=C.substr(1)),I.indexOf(x.default.compareVersions(V,j,U))>-1},_.isOS=function(C){return this.getOSName(!0)===String(C).toLowerCase()},_.isPlatform=function(C){return this.getPlatformType(!0)===String(C).toLowerCase()},_.isEngine=function(C){return this.getEngineName(!0)===String(C).toLowerCase()},_.is=function(C,I){return I===void 0&&(I=!1),this.isBrowser(C,I)||this.isOS(C)||this.isPlatform(C)},_.some=function(C){var I=this;return C===void 0&&(C=[]),C.some(function(j){return I.is(j)})},R}();a.default=w,c.exports=a.default},92:function(c,a,l){a.__esModule=!0,a.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=/version\/(\d+(\.?_?\d+)+)/i,E=[{test:[/googlebot/i],describe:function(x){var y={name:"Googlebot"},w=p.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/opera/i],describe:function(x){var y={name:"Opera"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/opr\/|opios/i],describe:function(x){var y={name:"Opera"},w=p.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/SamsungBrowser/i],describe:function(x){var y={name:"Samsung Internet for Android"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/Whale/i],describe:function(x){var y={name:"NAVER Whale Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/MZBrowser/i],describe:function(x){var y={name:"MZ Browser"},w=p.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/focus/i],describe:function(x){var y={name:"Focus"},w=p.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/swing/i],describe:function(x){var y={name:"Swing"},w=p.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/coast/i],describe:function(x){var y={name:"Opera Coast"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(x){var y={name:"Opera Touch"},w=p.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/yabrowser/i],describe:function(x){var y={name:"Yandex Browser"},w=p.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/ucbrowser/i],describe:function(x){var y={name:"UC Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/Maxthon|mxios/i],describe:function(x){var y={name:"Maxthon"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/epiphany/i],describe:function(x){var y={name:"Epiphany"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/puffin/i],describe:function(x){var y={name:"Puffin"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/sleipnir/i],describe:function(x){var y={name:"Sleipnir"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/k-meleon/i],describe:function(x){var y={name:"K-Meleon"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/micromessenger/i],describe:function(x){var y={name:"WeChat"},w=p.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/qqbrowser/i],describe:function(x){var y={name:/qqbrowserlite/i.test(x)?"QQ Browser Lite":"QQ Browser"},w=p.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/msie|trident/i],describe:function(x){var y={name:"Internet Explorer"},w=p.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/\sedg\//i],describe:function(x){var y={name:"Microsoft Edge"},w=p.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/edg([ea]|ios)/i],describe:function(x){var y={name:"Microsoft Edge"},w=p.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/vivaldi/i],describe:function(x){var y={name:"Vivaldi"},w=p.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/seamonkey/i],describe:function(x){var y={name:"SeaMonkey"},w=p.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/sailfish/i],describe:function(x){var y={name:"Sailfish"},w=p.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,x);return w&&(y.version=w),y}},{test:[/silk/i],describe:function(x){var y={name:"Amazon Silk"},w=p.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/phantom/i],describe:function(x){var y={name:"PhantomJS"},w=p.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/slimerjs/i],describe:function(x){var y={name:"SlimerJS"},w=p.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(x){var y={name:"BlackBerry"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/(web|hpw)[o0]s/i],describe:function(x){var y={name:"WebOS Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/bada/i],describe:function(x){var y={name:"Bada"},w=p.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/tizen/i],describe:function(x){var y={name:"Tizen"},w=p.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/qupzilla/i],describe:function(x){var y={name:"QupZilla"},w=p.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/firefox|iceweasel|fxios/i],describe:function(x){var y={name:"Firefox"},w=p.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/electron/i],describe:function(x){var y={name:"Electron"},w=p.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/MiuiBrowser/i],describe:function(x){var y={name:"Miui"},w=p.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/chromium/i],describe:function(x){var y={name:"Chromium"},w=p.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/chrome|crios|crmo/i],describe:function(x){var y={name:"Chrome"},w=p.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/GSA/i],describe:function(x){var y={name:"Google Search"},w=p.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){var y=!x.test(/like android/i),w=x.test(/android/i);return y&&w},describe:function(x){var y={name:"Android Browser"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/playstation 4/i],describe:function(x){var y={name:"PlayStation 4"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/safari|applewebkit/i],describe:function(x){var y={name:"Safari"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/.*/i],describe:function(x){var y=x.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:p.default.getFirstMatch(y,x),version:p.default.getSecondMatch(y,x)}}}];a.default=E,c.exports=a.default},93:function(c,a,l){a.__esModule=!0,a.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=l(18),E=[{test:[/Roku\/DVP/],describe:function(x){var y=p.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,x);return{name:m.OS_MAP.Roku,version:y}}},{test:[/windows phone/i],describe:function(x){var y=p.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.WindowsPhone,version:y}}},{test:[/windows /i],describe:function(x){var y=p.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,x),w=p.default.getWindowsVersionName(y);return{name:m.OS_MAP.Windows,version:y,versionName:w}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(x){var y={name:m.OS_MAP.iOS},w=p.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,x);return w&&(y.version=w),y}},{test:[/macintosh/i],describe:function(x){var y=p.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,x).replace(/[_\s]/g,"."),w=p.default.getMacOSVersionName(y),R={name:m.OS_MAP.MacOS,version:y};return w&&(R.versionName=w),R}},{test:[/(ipod|iphone|ipad)/i],describe:function(x){var y=p.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,x).replace(/[_\s]/g,".");return{name:m.OS_MAP.iOS,version:y}}},{test:function(x){var y=!x.test(/like android/i),w=x.test(/android/i);return y&&w},describe:function(x){var y=p.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,x),w=p.default.getAndroidVersionName(y),R={name:m.OS_MAP.Android,version:y};return w&&(R.versionName=w),R}},{test:[/(web|hpw)[o0]s/i],describe:function(x){var y=p.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,x),w={name:m.OS_MAP.WebOS};return y&&y.length&&(w.version=y),w}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(x){var y=p.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,x)||p.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,x)||p.default.getFirstMatch(/\bbb(\d+)/i,x);return{name:m.OS_MAP.BlackBerry,version:y}}},{test:[/bada/i],describe:function(x){var y=p.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.Bada,version:y}}},{test:[/tizen/i],describe:function(x){var y=p.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.Tizen,version:y}}},{test:[/linux/i],describe:function(){return{name:m.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:m.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(x){var y=p.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.PlayStation4,version:y}}}];a.default=E,c.exports=a.default},94:function(c,a,l){a.__esModule=!0,a.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=l(18),E=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(x){var y=p.default.getFirstMatch(/(can-l01)/i,x)&&"Nova",w={type:m.PLATFORMS_MAP.mobile,vendor:"Huawei"};return y&&(w.model=y),w}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(x){var y=x.test(/ipod|iphone/i),w=x.test(/like (ipod|iphone)/i);return y&&!w},describe:function(x){var y=p.default.getFirstMatch(/(ipod|iphone)/i,x);return{type:m.PLATFORMS_MAP.mobile,vendor:"Apple",model:y}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getBrowserName(!0)==="blackberry"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(x){return x.getBrowserName(!0)==="bada"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getBrowserName()==="windows phone"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(x){var y=Number(String(x.getOSVersion()).split(".")[0]);return x.getOSName(!0)==="android"&&y>=3},describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(x){return x.getOSName(!0)==="android"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getOSName(!0)==="macos"},describe:function(){return{type:m.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(x){return x.getOSName(!0)==="windows"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(x){return x.getOSName(!0)==="linux"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(x){return x.getOSName(!0)==="playstation 4"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}},{test:function(x){return x.getOSName(!0)==="roku"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}}];a.default=E,c.exports=a.default},95:function(c,a,l){a.__esModule=!0,a.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=l(18),E=[{test:function(x){return x.getBrowserName(!0)==="microsoft edge"},describe:function(x){if(/\sedg\//i.test(x))return{name:m.ENGINE_MAP.Blink};var y=p.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,x);return{name:m.ENGINE_MAP.EdgeHTML,version:y}}},{test:[/trident/i],describe:function(x){var y={name:m.ENGINE_MAP.Trident},w=p.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){return x.test(/presto/i)},describe:function(x){var y={name:m.ENGINE_MAP.Presto},w=p.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){var y=x.test(/gecko/i),w=x.test(/like gecko/i);return y&&!w},describe:function(x){var y={name:m.ENGINE_MAP.Gecko},w=p.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:m.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(x){var y={name:m.ENGINE_MAP.WebKit},w=p.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}}];a.default=E,c.exports=a.default}})},228:s=>{var c=Object.prototype.hasOwnProperty,a="~";function l(){}function f(x,y,w){this.fn=x,this.context=y,this.once=w||!1}function p(x,y,w,R,_){if(typeof w!="function")throw new TypeError("The listener must be a function");var C=new f(w,R||x,_),I=a?a+y:y;return x._events[I]?x._events[I].fn?x._events[I]=[x._events[I],C]:x._events[I].push(C):(x._events[I]=C,x._eventsCount++),x}function m(x,y){--x._eventsCount==0?x._events=new l:delete x._events[y]}function E(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1)),E.prototype.eventNames=function(){var x,y,w=[];if(this._eventsCount===0)return w;for(y in x=this._events)c.call(x,y)&&w.push(a?y.slice(1):y);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(x)):w},E.prototype.listeners=function(x){var y=a?a+x:x,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var R=0,_=w.length,C=new Array(_);R<_;R++)C[R]=w[R].fn;return C},E.prototype.listenerCount=function(x){var y=a?a+x:x,w=this._events[y];return w?w.fn?1:w.length:0},E.prototype.emit=function(x,y,w,R,_,C){var I=a?a+x:x;if(!this._events[I])return!1;var j,U,V=this._events[I],z=arguments.length;if(V.fn){switch(V.once&&this.removeListener(x,V.fn,void 0,!0),z){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,y),!0;case 3:return V.fn.call(V.context,y,w),!0;case 4:return V.fn.call(V.context,y,w,R),!0;case 5:return V.fn.call(V.context,y,w,R,_),!0;case 6:return V.fn.call(V.context,y,w,R,_,C),!0}for(U=1,j=new Array(z-1);U<z;U++)j[U-1]=arguments[U];V.fn.apply(V.context,j)}else{var q,X=V.length;for(U=0;U<X;U++)switch(V[U].once&&this.removeListener(x,V[U].fn,void 0,!0),z){case 1:V[U].fn.call(V[U].context);break;case 2:V[U].fn.call(V[U].context,y);break;case 3:V[U].fn.call(V[U].context,y,w);break;case 4:V[U].fn.call(V[U].context,y,w,R);break;default:if(!j)for(q=1,j=new Array(z-1);q<z;q++)j[q-1]=arguments[q];V[U].fn.apply(V[U].context,j)}}return!0},E.prototype.on=function(x,y,w){return p(this,x,y,w,!1)},E.prototype.once=function(x,y,w){return p(this,x,y,w,!0)},E.prototype.removeListener=function(x,y,w,R){var _=a?a+x:x;if(!this._events[_])return this;if(!y)return m(this,_),this;var C=this._events[_];if(C.fn)C.fn!==y||R&&!C.once||w&&C.context!==w||m(this,_);else{for(var I=0,j=[],U=C.length;I<U;I++)(C[I].fn!==y||R&&!C[I].once||w&&C[I].context!==w)&&j.push(C[I]);j.length?this._events[_]=j.length===1?j[0]:j:m(this,_)}return this},E.prototype.removeAllListeners=function(x){var y;return x?(y=a?a+x:x,this._events[y]&&m(this,y)):(this._events=new l,this._eventsCount=0),this},E.prototype.off=E.prototype.removeListener,E.prototype.addListener=E.prototype.on,E.prefixed=a,E.EventEmitter=E,s.exports=E},8954:s=>{var c;c=()=>(()=>{var a={228:f=>{var p=Object.prototype.hasOwnProperty,m="~";function E(){}function x(_,C,I){this.fn=_,this.context=C,this.once=I||!1}function y(_,C,I,j,U){if(typeof I!="function")throw new TypeError("The listener must be a function");var V=new x(I,j||_,U),z=m?m+C:C;return _._events[z]?_._events[z].fn?_._events[z]=[_._events[z],V]:_._events[z].push(V):(_._events[z]=V,_._eventsCount++),_}function w(_,C){--_._eventsCount==0?_._events=new E:delete _._events[C]}function R(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(m=!1)),R.prototype.eventNames=function(){var _,C,I=[];if(this._eventsCount===0)return I;for(C in _=this._events)p.call(_,C)&&I.push(m?C.slice(1):C);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(_)):I},R.prototype.listeners=function(_){var C=m?m+_:_,I=this._events[C];if(!I)return[];if(I.fn)return[I.fn];for(var j=0,U=I.length,V=new Array(U);j<U;j++)V[j]=I[j].fn;return V},R.prototype.listenerCount=function(_){var C=m?m+_:_,I=this._events[C];return I?I.fn?1:I.length:0},R.prototype.emit=function(_,C,I,j,U,V){var z=m?m+_:_;if(!this._events[z])return!1;var q,X,J=this._events[z],G=arguments.length;if(J.fn){switch(J.once&&this.removeListener(_,J.fn,void 0,!0),G){case 1:return J.fn.call(J.context),!0;case 2:return J.fn.call(J.context,C),!0;case 3:return J.fn.call(J.context,C,I),!0;case 4:return J.fn.call(J.context,C,I,j),!0;case 5:return J.fn.call(J.context,C,I,j,U),!0;case 6:return J.fn.call(J.context,C,I,j,U,V),!0}for(X=1,q=new Array(G-1);X<G;X++)q[X-1]=arguments[X];J.fn.apply(J.context,q)}else{var ee,ce=J.length;for(X=0;X<ce;X++)switch(J[X].once&&this.removeListener(_,J[X].fn,void 0,!0),G){case 1:J[X].fn.call(J[X].context);break;case 2:J[X].fn.call(J[X].context,C);break;case 3:J[X].fn.call(J[X].context,C,I);break;case 4:J[X].fn.call(J[X].context,C,I,j);break;default:if(!q)for(ee=1,q=new Array(G-1);ee<G;ee++)q[ee-1]=arguments[ee];J[X].fn.apply(J[X].context,q)}}return!0},R.prototype.on=function(_,C,I){return y(this,_,C,I,!1)},R.prototype.once=function(_,C,I){return y(this,_,C,I,!0)},R.prototype.removeListener=function(_,C,I,j){var U=m?m+_:_;if(!this._events[U])return this;if(!C)return w(this,U),this;var V=this._events[U];if(V.fn)V.fn!==C||j&&!V.once||I&&V.context!==I||w(this,U);else{for(var z=0,q=[],X=V.length;z<X;z++)(V[z].fn!==C||j&&!V[z].once||I&&V[z].context!==I)&&q.push(V[z]);q.length?this._events[U]=q.length===1?q[0]:q:w(this,U)}return this},R.prototype.removeAllListeners=function(_){var C;return _?(C=m?m+_:_,this._events[C]&&w(this,C)):(this._events=new E,this._eventsCount=0),this},R.prototype.off=R.prototype.removeListener,R.prototype.addListener=R.prototype.on,R.prefixed=m,R.EventEmitter=R,f.exports=R},815:function(f,p){var m,E,x=this&&this.__extends||(m=function(Y,Q){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(ne[Te]=fe[Te])},m(Y,Q)},function(Y,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function ne(){this.constructor=Y}m(Y,Q),Y.prototype=Q===null?Object.create(Q):(ne.prototype=Q.prototype,new ne)});function y(Y){return 60*Y*60}function w(Y){return 60*Y*60*24}Object.defineProperty(p,"__esModule",{value:!0}),p.daysToSeconds=p.hoursToSeconds=p.ConfigurationHolder=p.ConfigurationManager=p.Env=void 0,function(Y){Y.BETA="beta",Y.PROD="prod",Y.CUSTOM="custom"}(E||(p.Env=E={})),p.hoursToSeconds=y,p.daysToSeconds=w;var R=function(Y){function Q(ne){return Y.call(this,ne)||this}return x(Q,Y),Q}(Error),_="data",C="metrics",I=y(1),j=w(3),U=y(2),V="base64",z=function(){function Y(Q,ne){var fe,Te,He,Le,bt,Gt,Ye,lt;if(!ne.fileKey)throw new Error("options.fileKey cannot be empty");var Mt=(fe=ne.clock)!==null&&fe!==void 0?fe:new xe,Xt=Mt.getMillis();switch(this.context=Q,this.fileKey=ne.fileKey,this.env=ne.standardEnv,ne.standardEnv){case E.BETA:this.fetchServer="beta.ivs-device-config-beta.live-video.net";break;case E.PROD:this.fetchServer="prod.ivs-device-config.live-video.net";break;case E.CUSTOM:if(!ne.customServer)throw new Error("Custom env requires options.customServer");this.fetchServer=ne.customServer;break;default:throw new Error("Invalid value for standardEnv: ".concat(ne.standardEnv))}this.trace=(Te=ne.trace)!==null&&Te!==void 0?Te:new G(this.env),this.fetch=(He=ne.fetch)!==null&&He!==void 0?He:new J(Q),this.storage=new ce("amazon_ivs_device_config_v1_"+ne.fileKey,Q.localStorage),this.state=new ve(this.storage,"state"),this.refresh={refreshIntervalSeconds:(Le=ne.refresh.refreshIntervalSeconds)!==null&&Le!==void 0?Le:I,retryCount:(bt=ne.refresh.retryCount)!==null&&bt!==void 0?bt:3,retryIntervalSeconds:(Gt=ne.refresh.retryIntervalSeconds)!==null&&Gt!==void 0?Gt:10,maxCacheAgeSeconds:(Ye=ne.refresh.maxCacheAgeSeconds)!==null&&Ye!==void 0?Ye:j,stopRefreshAfterSeconds:(lt=ne.refresh.stopRefreshAfterSeconds)!==null&&lt!==void 0?lt:U,canRefreshNow:ne.refresh.canRefreshNow},this.clock=Mt,this.isInitialRefreshDone=!1;var Lt=0,qt=this.state.getState();qt&&qt.fetchServer===this.fetchServer&&qt.lastFetchWhenMs&&(Lt=qt.lastFetchWhenMs);var Fn=Mt.getMillis(),Qn=(Fn-Lt)/1e3;if(Qn<=this.refresh.maxCacheAgeSeconds){var ut=this.storage.getJson(_);ut&&ut.fetchServer===this.fetchServer&&this.setData(ut.json)}if(this.lastUseMs=Fn,Qn>=this.refresh.refreshIntervalSeconds||Lt==0)this.trace.onTrace("Will start refresh right now"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),0);else{var Ar=Math.round(this.refresh.refreshIntervalSeconds-Qn);this.trace.onTrace("Will start refresh in "+Ar+" seconds"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*Ar),this.isInitialRefreshDone=!0}var Mi=Mt.getMillis();this.initialLoadTime=Mi-Xt}return Y.getInstance=function(Q,ne){try{if(!(Q.fetch&&Q.setTimeout&&Q.clearTimeout&&Q.localStorage))return void console.log("Context needs to provide fetch, setTimeout, clearTimeout, localStorage")}catch(fe){return void console.error("Error checking for context properties "+fe)}if(this.gInstance){if(this.gInstance.fileKey!=ne.fileKey)throw new Error("Existing instance has file key ".concat(this.gInstance.fileKey,", now asking for ").concat(ne.fileKey));return this.gInstance}return this.gInstance=new Y(Q,ne),this.gInstance},Y.prototype.getConfigurationHolder=function(Q){var ne,fe=this,Te=this.clock.getMillis();this.lastUseMs=Te;var He=(ne=Q.analytics)!==null&&ne!==void 0?ne:new ee(this.env);this.context.setTimeout(function(){fe.emitMetrics(He)});var Le=0,bt=this.state.getState();return bt&&bt.fetchServer===this.fetchServer&&bt.lastFetchWhenMs&&(Le=bt.lastFetchWhenMs),(Te-Le)/1e3<=this.refresh.maxCacheAgeSeconds?new q(He,this.properties):new q(He,void 0)},Y.prototype.getFetchUrl=function(){var Q="https://".concat(this.fetchServer,"/").concat(this.fileKey,".json"),ne=new URL(Q);return ne.searchParams.set("version","1.0"),ne},Y.clearInstance=function(){var Q;(Q=this.gInstance)===null||Q===void 0||Q.clearInstanceImpl(),this.gInstance=void 0},Y.prototype.clearInstanceImpl=function(){this.context.clearTimeout(this.fetchTask),this.fetchTask=void 0,this.context.clearTimeout(this.retryTask),this.retryTask=void 0},Y.prototype.startRefresh=function(){var Q=this;this.trace.onTrace("Starting refresh request..."),this.fetchTask=void 0,this.retryTask&&(this.context.clearTimeout(this.retryTask),this.retryTask=void 0);var ne=this.clock.getMillis();return(ne-this.lastUseMs)/1e3>this.refresh.stopRefreshAfterSeconds?(this.trace.onTrace("Actually will not refresh due to refresh timeout"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):this.isInitialRefreshDone&&!this.refresh.canRefreshNow()?(this.trace.onTrace("Will not refresh due to callback having returned false"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):void this.fetchData().then(function(fe){Q.processResponse(fe,ne)}).catch(function(fe){Q.exceptionMetrics(fe),Q.trace.onTrace("Fetch error: "+fe),Q.refresh.retryCount>0&&Q.scheduleRetry(1)}).finally(function(){Q.isInitialRefreshDone=!0,Q.fetchTask=Q.context.setTimeout(Q.startRefresh.bind(Q),1e3*Q.refresh.refreshIntervalSeconds)})},Y.prototype.fetchData=function(){var Q=this.getFetchUrl(),ne=new Headers,fe=this.state.getState();return fe.fetchServer===this.fetchServer&&(fe.lastFetchWhenFullMs&&this.clock.getMillis()-fe.lastFetchWhenFullMs>1e3*y(24)?this.trace.onTrace("Forcing full refresh"):this.properties&&fe.lastFetchEtagHeader&&ne.set("If-None-Match",fe.lastFetchEtagHeader)),this.incrementMetrics("fetch_attempt_count"),this.fetch.fetchUrl(Q,ne)},Y.prototype.processResponse=function(Q,ne){var fe={fetchServer:this.fetchServer,lastFetchWhenMs:this.clock.getMillis()},Te=Q.headers.get("etag");Te&&(fe.lastFetchEtagHeader=Te);try{if(Q.status<300&&Q.json)if(this.setData(Q.json)){this.trace.onTrace("Successfully parsed fetched data"),this.storage.setJson(_,{fetchServer:this.fetchServer,json:Q.json});var He=this.clock.getMillis();fe.lastFetchWhenFullMs=He,this.incrementMetricsWithDuration("success_new_data_count",He-ne)}else this.incrementMetrics("fail_invalid_data_count");else{if(Q.status!==304){var Le="Unexpected http fetch status: "+Q.status;throw this.trace.onTrace(Le),new R(Le)}this.trace.onTrace("Server said no change in data"),He=this.clock.getMillis(),this.incrementMetricsWithDuration("success_no_change_count",He-ne)}}finally{this.state.setState(fe)}},Y.prototype.scheduleRetry=function(Q){var ne=this;this.retryTask&&this.context.clearTimeout(this.retryTask);var fe=Q*this.refresh.retryIntervalSeconds;this.retryTask=this.context.setTimeout(function(){ne.retryTask=void 0,ne.fetchRetry(Q)},1e3*fe)},Y.prototype.fetchRetry=function(Q){var ne=this;this.trace.onTrace("Starting retry request ".concat(Q,"..."));var fe=this.clock.getMillis();this.fetchData().then(function(Te){ne.processResponse(Te,fe)}).catch(function(Te){ne.exceptionMetrics(Te),ne.trace.onTrace("Fetch error: "+Te),ne.refresh.retryCount>Q&&ne.scheduleRetry(Q+1)})},Y.prototype.setData=function(Q){if(!Q)return!1;if(Q.version!=="1.0")return this.trace.onTrace("Data version is not 1.0, not applying"),!1;var ne=Q.properties;if(!ne||!Array.isArray(ne))return this.trace.onTrace("Data properties is not an array, not applying"),!1;for(var fe=new Map,Te=0,He=ne;Te<He.length;Te++){var Le=He[Te];if(Le.name&&Le.type&&this.isValidValueType(Le.type)){if(Le.value_string&&typeof Le.value_string!="string"){this.trace.onTrace("Invalid type of value.value_string "+typeof Le.value_string);continue}if(Le.value_number&&typeof Le.value_number!="number"){this.trace.onTrace("Invalid type of value.value_number "+typeof Le.value_number);continue}if(Le.value_boolean&&typeof Le.value_boolean!="boolean"){this.trace.onTrace("Invalid type of value.value_boolean "+typeof Le.value_boolean);continue}if(Le.value_json&&typeof Le.value_json!="string"){this.trace.onTrace("Invalid type of value.value_json "+typeof Le.value_json);continue}if(Le.value_analytics&&typeof Le.value_analytics!="string"){this.trace.onTrace("Invalid type of item.value_analytics "+typeof Le.value_analytics);continue}var bt=new Se(Le.name,this.parseValueType(Le.type),Le.value_string,Le.value_number,Le.value_boolean,Le.value_json,Le.value_analytics,Le.encoding);fe.set(bt.name,bt)}}return fe.size!=0&&(this.properties=fe,!0)},Y.prototype.isValidValueType=function(Q){return Q==="string"||Q==="number"||Q==="boolean"||Q=="json"},Y.prototype.parseValueType=function(Q){switch(Q){case"string":return X.STRING;case"number":return X.NUMBER;case"boolean":return X.BOOLEAN;case"json":return X.JSON;default:throw new Error("Unsupported value type ".concat(Q))}},Y.prototype.emitMetrics=function(Q){var ne,fe,Te,He,Le,bt,Gt,Ye,lt=(ne=this.storage.getJson(C))!==null&&ne!==void 0?ne:{},Mt={initial_load_time:this.initialLoadTime,fetch_attempt_count:(fe=lt.fetch_attempt_count)!==null&&fe!==void 0?fe:0,fetch_duration_average:(Te=lt.fetch_duration_average)!==null&&Te!==void 0?Te:0,success_no_change_count:(He=lt.success_no_change_count)!==null&&He!==void 0?He:0,success_new_data_count:(Le=lt.success_new_data_count)!==null&&Le!==void 0?Le:0,fail_exception_count:(bt=lt.fail_exception_count)!==null&&bt!==void 0?bt:0,fail_http_error_count:(Gt=lt.fail_http_error_count)!==null&&Gt!==void 0?Gt:0,fail_invalid_data_count:(Ye=lt.fail_invalid_data_count)!==null&&Ye!==void 0?Ye:0};Q.onMetrics(Mt),lt.fetch_attempt_count=0,lt.success_no_change_count=0,lt.success_new_data_count=0,lt.fail_exception_count=0,lt.fail_http_error_count=0,lt.fail_invalid_data_count=0,this.storage.setJson(C,lt)},Y.prototype.exceptionMetrics=function(Q){Q instanceof R||Q.message.startsWith("http error")?this.incrementMetrics("fail_http_error_count"):this.incrementMetrics("fail_exception_count")},Y.prototype.incrementMetrics=function(Q){var ne,fe,Te=(ne=this.storage.getJson(C))!==null&&ne!==void 0?ne:{};Te[Q]=((fe=Te[Q])!==null&&fe!==void 0?fe:0)+1,this.storage.setJson(C,Te)},Y.prototype.incrementMetricsWithDuration=function(Q,ne){var fe,Te,He=(fe=this.storage.getJson(C))!==null&&fe!==void 0?fe:{};He[Q]=((Te=He[Q])!==null&&Te!==void 0?Te:0)+1,ne>0&&(He.fetch_duration_average!==void 0?He.fetch_duration_average=.9*He.fetch_duration_average+.1*ne|0:He.fetch_duration_average=ne),this.storage.setJson(C,He)},Y}();p.ConfigurationManager=z;var q=function(){function Y(Q,ne){this.analytics=Q,this.properties=ne}return Y.prototype.getSize=function(){return this.properties?this.properties.size:-1},Y.prototype.getStringValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.STRING){var He=(ne=Te.valueString)!==null&&ne!==void 0?ne:"";return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He),He}this.analytics.onError(Q,"Type is not string")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getNumberValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.NUMBER){var He=(ne=Te.valueNumber)!==null&&ne!==void 0?ne:0;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He.toString()),He}this.analytics.onError(Q,"Type is not number")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getBooleanValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.BOOLEAN){var He=(ne=Te.valueBoolean)!==null&&ne!==void 0&&ne;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He.toString()),He}this.analytics.onError(Q,"Type is not boolean")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getJsonValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.JSON){var He=Te.valueJson;if(!He)return this.analytics.onValue(Q,(ne=Te.valueAnalytics)!==null&&ne!==void 0?ne:""),null;try{var Le=JSON.parse(He);return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He),Le}catch{return void this.analytics.onError(Q,"Json parse error")}}this.analytics.onError(Q,"Type is not json")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y}();p.ConfigurationHolder=q;var X,J=function(){function Y(Q){this.context=Q}return Y.prototype.fetchUrl=function(Q,ne){var fe=this;return new Promise(function(Te,He){fe.context.fetch(Q,{headers:ne,cache:"no-store"}).then(function(Le){if(Le.status>=400)He(new R("http error ".concat(Le.status,", ").concat(Le.statusText)));else{var bt={status:Le.status,headers:Le.headers};Le.json().then(function(Gt){bt.json=Gt}).catch(function(){}).finally(function(){Te(bt)})}}).catch(function(Le){He(Le)})})},Y}(),G=function(){function Y(Q){this.env=Q}return Y.prototype.onTrace=function(Q){this.env!=E.PROD&&console.log("Configuration: "+Q)},Y}(),ee=function(){function Y(Q){this.env=Q}return Y.prototype.onMetrics=function(Q){this.env!=E.PROD&&console.log("Metrics",Q)},Y.prototype.onValue=function(Q,ne){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": value = ").concat(ne))},Y.prototype.onError=function(Q,ne){this.env!=E.PROD&&console.error("Configuration for ".concat(Q,": error = ").concat(ne))},Y.prototype.onTrace=function(Q,ne){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": trace = ").concat(ne))},Y}(),ce=function(){function Y(Q,ne){this.prefix=Q,this.storage=ne}return Y.prototype.getJson=function(Q){var ne=this.prefix+"_"+Q;try{var fe=this.storage.getItem(ne);if(fe)return JSON.parse(fe)}catch(Te){console.error("Error getting local storage key ".concat(ne)+Te)}return null},Y.prototype.setJson=function(Q,ne){var fe=this.prefix+"_"+Q;try{this.storage.setItem(fe,JSON.stringify(ne))}catch(Te){console.error("Error setting local storage key ".concat(fe,": ")+Te)}},Y}(),xe=function(){function Y(){}return Y.prototype.getMillis=function(){return Date.now()},Y}();(function(Y){Y[Y.STRING=0]="STRING",Y[Y.NUMBER=1]="NUMBER",Y[Y.BOOLEAN=2]="BOOLEAN",Y[Y.JSON=3]="JSON"})(X||(X={}));var Se=function(Y,Q,ne,fe,Te,He,Le,bt){switch(this.name=Y,this.type=Q,this.valueString=ne,this.valueNumber=fe,this.valueBoolean=Te,this.valueJson=He,this.valueAnalytics=Le,this.type){case X.STRING:bt===V&&ne&&(this.valueString=atob(ne));break;case X.JSON:bt===V&&He&&(this.valueJson=atob(He))}},ve=function(){function Y(Q,ne){var fe;this.storage=Q,this.key=ne,this.state=(fe=Q.getJson(ne))!==null&&fe!==void 0?fe:{}}return Y.prototype.getState=function(){return this.state},Y.prototype.setState=function(Q){Object.assign(this.state,Q),this.storage.setJson(this.key,this.state)},Y}()},456:function(f,p,m){var E=this&&this.__createBinding||(Object.create?function(y,w,R,_){_===void 0&&(_=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,_,C)}:function(y,w,R,_){_===void 0&&(_=R),y[_]=w[R]}),x=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),x(m(903),p)},903:function(f,p,m){var E=this&&this.__spreadArray||function(w,R,_){if(_||arguments.length===2)for(var C,I=0,j=R.length;I<j;I++)!C&&I in R||(C||(C=Array.prototype.slice.call(R,0,I)),C[I]=R[I]);return w.concat(C||Array.prototype.slice.call(R))};Object.defineProperty(p,"__esModule",{value:!0}),p.TypedEmitter=void 0;var x=m(228),y=function(){function w(R){var _=R.propagateErrors;this.emitter=new x.EventEmitter,this.propagateErrors=_!=null&&_}return w.prototype.on=function(R,_){_.call=this.wrapCall(R,_),this.emitter.on(R,_)},w.prototype.off=function(R,_){this.emitter.off(R,_)},w.prototype.emit=function(R){for(var _,C=[],I=1;I<arguments.length;I++)C[I-1]=arguments[I];(_=this.emitter).emit.apply(_,E([R],C,!1))},w.prototype.removeAllListeners=function(){this.emitter.removeAllListeners()},w.prototype.wrapCall=function(R,_){var C=this;return function(I){for(var j=[],U=1;U<arguments.length;U++)j[U-1]=arguments[U];if(C.propagateErrors)_.apply(I,j);else try{_.apply(I,j)}catch(q){var V="Error in callback for ".concat(R),z=_.name;return z&&(V+=" for function ".concat(z)),void console.error(V,q)}}},w}();p.TypedEmitter=y},987:function(f,p,m){var E,x=this&&this.__extends||(E=function(j,U){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,z){V.__proto__=z}||function(V,z){for(var q in z)Object.prototype.hasOwnProperty.call(z,q)&&(V[q]=z[q])},E(j,U)},function(j,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function V(){this.constructor=j}E(j,U),j.prototype=U===null?Object.create(U):(V.prototype=U.prototype,new V)}),y=this&&this.__createBinding||(Object.create?function(j,U,V,z){z===void 0&&(z=V);var q=Object.getOwnPropertyDescriptor(U,V);q&&!("get"in q?!U.__esModule:q.writable||q.configurable)||(q={enumerable:!0,get:function(){return U[V]}}),Object.defineProperty(j,z,q)}:function(j,U,V,z){z===void 0&&(z=V),j[z]=U[V]}),w=this&&this.__setModuleDefault||(Object.create?function(j,U){Object.defineProperty(j,"default",{enumerable:!0,value:U})}:function(j,U){j.default=U}),R=this&&this.__importStar||function(j){if(j&&j.__esModule)return j;var U={};if(j!=null)for(var V in j)V!=="default"&&Object.prototype.hasOwnProperty.call(j,V)&&y(U,j,V);return w(U,j),U};Object.defineProperty(p,"__esModule",{value:!0}),p.createFsm=p.FsmWildcardState=p.RejectedTransitionError=p.InvalidStateTransitionError=void 0;var _=R(m(293)),C=function(j){function U(V,z){var q=j.call(this,"Invalid transition from '".concat(z,"' via event '").concat(V,"'"))||this;return q.name="InvalidStateTransitionError",q}return x(U,j),U}(Error);p.InvalidStateTransitionError=C;var I=function(j){function U(V,z,q){var X=j.call(this,"Transition from '".concat(z,"' via event '").concat(V,"' was rejected for: ").concat(q))||this;return X.name="RejectedTransitionError",X}return x(U,j),U}(Error);p.RejectedTransitionError=I,p.FsmWildcardState="*",p.createFsm=function(j){var U,V=j.transitions,z=j.callbacks,q=j.initialState,X=function(J){var G,ee=(G=V[J])===null||G===void 0?void 0:G.from;return!!ee&&(typeof ee=="string"?ee===p.FsmWildcardState:ee.includes(q))};return{canTransition:X,transition:function(J,G){var ee,ce,xe,Se,ve,Y;if(!X(J))return _.err(new C(String(q),String(J)));var Q=V[J];return Q.shouldTransition===void 0||Q.shouldTransition(q)?((ce=(ee=z==null?void 0:z[q])===null||ee===void 0?void 0:ee.onExiting)===null||ce===void 0||ce.call(ee),(xe=z==null?void 0:z.onStateExiting)===null||xe===void 0||xe.call(z,q),U=q,q=Q.to,(ve=(Se=z==null?void 0:z[q])===null||Se===void 0?void 0:Se.onChanged)===null||ve===void 0||ve.call(Se,U,G),(Y=z==null?void 0:z.onStateChanged)===null||Y===void 0||Y.call(z,U,q,G),_.ok(q)):_.err(new I(String(q),String(J),"shouldTransition returned false"))},previousState:function(){return U},currentState:function(){return q}}}},156:function(f,p,m){var E=this&&this.__createBinding||(Object.create?function(y,w,R,_){_===void 0&&(_=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,_,C)}:function(y,w,R,_){_===void 0&&(_=R),y[_]=w[R]}),x=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),p.VERSION=void 0,p.VERSION="0.2.0",x(m(815),p),x(m(456),p),x(m(987),p),x(m(293),p)},293:(f,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getErr=p.getOk_or=p.getOk=p.isNotOk=p.isOk=p.err=p.ok=void 0,p.ok=function(m){return{ok:!0,value:m}},p.err=function(m){return{ok:!1,error:m}},p.isOk=function(m){return m.ok===!0},p.isNotOk=function(m){return!(0,p.isOk)(m)},p.getOk=function(m){return m.ok===!0?m.value:void 0},p.getOk_or=function(m,E){return m.ok===!0?m.value:E},p.getErr=function(m){return m.ok===!0?void 0:m.error}}},l={};return function f(p){var m=l[p];if(m!==void 0)return m.exports;var E=l[p]={exports:{}};return a[p].call(E.exports,E,E.exports,f),E.exports}(156)})(),s.exports=c()},1549:(s,c,a)=>{var l=a(2032),f=a(3862),p=a(6721),m=a(2749),E=a(5749);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=f,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},79:(s,c,a)=>{var l=a(3702),f=a(80),p=a(4739),m=a(8655),E=a(1175);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=f,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},8223:(s,c,a)=>{var l=a(6110)(a(9325),"Map");s.exports=l},3661:(s,c,a)=>{var l=a(3040),f=a(7670),p=a(289),m=a(4509),E=a(2949);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=f,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},7217:(s,c,a)=>{var l=a(79),f=a(1420),p=a(938),m=a(3605),E=a(9817),x=a(945);function y(w){var R=this.__data__=new l(w);this.size=R.size}y.prototype.clear=f,y.prototype.delete=p,y.prototype.get=m,y.prototype.has=E,y.prototype.set=x,s.exports=y},1873:(s,c,a)=>{var l=a(9325).Symbol;s.exports=l},7828:(s,c,a)=>{var l=a(9325).Uint8Array;s.exports=l},1033:s=>{s.exports=function(c,a,l){switch(l.length){case 0:return c.call(a);case 1:return c.call(a,l[0]);case 2:return c.call(a,l[0],l[1]);case 3:return c.call(a,l[0],l[1],l[2])}return c.apply(a,l)}},695:(s,c,a)=>{var l=a(8096),f=a(2428),p=a(6449),m=a(3656),E=a(361),x=a(7167),y=Object.prototype.hasOwnProperty;s.exports=function(w,R){var _=p(w),C=!_&&f(w),I=!_&&!C&&m(w),j=!_&&!C&&!I&&x(w),U=_||C||I||j,V=U?l(w.length,String):[],z=V.length;for(var q in w)!R&&!y.call(w,q)||U&&(q=="length"||I&&(q=="offset"||q=="parent")||j&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||E(q,z))||V.push(q);return V}},7805:(s,c,a)=>{var l=a(3360),f=a(5288);s.exports=function(p,m,E){(E!==void 0&&!f(p[m],E)||E===void 0&&!(m in p))&&l(p,m,E)}},6547:(s,c,a)=>{var l=a(3360),f=a(5288),p=Object.prototype.hasOwnProperty;s.exports=function(m,E,x){var y=m[E];p.call(m,E)&&f(y,x)&&(x!==void 0||E in m)||l(m,E,x)}},6025:(s,c,a)=>{var l=a(5288);s.exports=function(f,p){for(var m=f.length;m--;)if(l(f[m][0],p))return m;return-1}},3360:(s,c,a)=>{var l=a(3243);s.exports=function(f,p,m){p=="__proto__"&&l?l(f,p,{configurable:!0,enumerable:!0,value:m,writable:!0}):f[p]=m}},9344:(s,c,a)=>{var l=a(3805),f=Object.create,p=function(){function m(){}return function(E){if(!l(E))return{};if(f)return f(E);m.prototype=E;var x=new m;return m.prototype=void 0,x}}();s.exports=p},6649:(s,c,a)=>{var l=a(3221)();s.exports=l},2552:(s,c,a)=>{var l=a(1873),f=a(659),p=a(9350),m=l?l.toStringTag:void 0;s.exports=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":m&&m in Object(E)?f(E):p(E)}},7534:(s,c,a)=>{var l=a(2552),f=a(346);s.exports=function(p){return f(p)&&l(p)=="[object Arguments]"}},5083:(s,c,a)=>{var l=a(1882),f=a(7296),p=a(3805),m=a(7473),E=/^\[object .+?Constructor\]$/,x=Function.prototype,y=Object.prototype,w=x.toString,R=y.hasOwnProperty,_=RegExp("^"+w.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function(C){return!(!p(C)||f(C))&&(l(C)?_:E).test(m(C))}},4901:(s,c,a)=>{var l=a(2552),f=a(294),p=a(346),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,s.exports=function(E){return p(E)&&f(E.length)&&!!m[l(E)]}},2903:(s,c,a)=>{var l=a(3805),f=a(5527),p=a(181),m=Object.prototype.hasOwnProperty;s.exports=function(E){if(!l(E))return p(E);var x=f(E),y=[];for(var w in E)(w!="constructor"||!x&&m.call(E,w))&&y.push(w);return y}},5250:(s,c,a)=>{var l=a(7217),f=a(7805),p=a(6649),m=a(2824),E=a(3805),x=a(7241),y=a(4974);s.exports=function w(R,_,C,I,j){R!==_&&p(_,function(U,V){if(j||(j=new l),E(U))m(R,_,V,C,w,I,j);else{var z=I?I(y(R,V),U,V+"",R,_,j):void 0;z===void 0&&(z=U),f(R,V,z)}},x)}},2824:(s,c,a)=>{var l=a(7805),f=a(3290),p=a(1961),m=a(3007),E=a(5529),x=a(2428),y=a(6449),w=a(3693),R=a(3656),_=a(1882),C=a(3805),I=a(1331),j=a(7167),U=a(4974),V=a(9884);s.exports=function(z,q,X,J,G,ee,ce){var xe=U(z,X),Se=U(q,X),ve=ce.get(Se);if(ve)l(z,X,ve);else{var Y=ee?ee(xe,Se,X+"",z,q,ce):void 0,Q=Y===void 0;if(Q){var ne=y(Se),fe=!ne&&R(Se),Te=!ne&&!fe&&j(Se);Y=Se,ne||fe||Te?y(xe)?Y=xe:w(xe)?Y=m(xe):fe?(Q=!1,Y=f(Se,!0)):Te?(Q=!1,Y=p(Se,!0)):Y=[]:I(Se)||x(Se)?(Y=xe,x(xe)?Y=V(xe):C(xe)&&!_(xe)||(Y=E(Se))):Q=!1}Q&&(ce.set(Se,Y),G(Y,Se,J,ee,ce),ce.delete(Se)),l(z,X,Y)}}},9302:(s,c,a)=>{var l=a(3488),f=a(6757),p=a(2865);s.exports=function(m,E){return p(f(m,E,l),m+"")}},9570:(s,c,a)=>{var l=a(7334),f=a(3243),p=a(3488),m=f?function(E,x){return f(E,"toString",{configurable:!0,enumerable:!1,value:l(x),writable:!0})}:p;s.exports=m},8096:s=>{s.exports=function(c,a){for(var l=-1,f=Array(c);++l<c;)f[l]=a(l);return f}},7301:s=>{s.exports=function(c){return function(a){return c(a)}}},9653:(s,c,a)=>{var l=a(7828);s.exports=function(f){var p=new f.constructor(f.byteLength);return new l(p).set(new l(f)),p}},3290:(s,c,a)=>{s=a.nmd(s);var l=a(9325),f=c&&!c.nodeType&&c,p=f&&s&&!s.nodeType&&s,m=p&&p.exports===f?l.Buffer:void 0,E=m?m.allocUnsafe:void 0;s.exports=function(x,y){if(y)return x.slice();var w=x.length,R=E?E(w):new x.constructor(w);return x.copy(R),R}},1961:(s,c,a)=>{var l=a(9653);s.exports=function(f,p){var m=p?l(f.buffer):f.buffer;return new f.constructor(m,f.byteOffset,f.length)}},3007:s=>{s.exports=function(c,a){var l=-1,f=c.length;for(a||(a=Array(f));++l<f;)a[l]=c[l];return a}},1791:(s,c,a)=>{var l=a(6547),f=a(3360);s.exports=function(p,m,E,x){var y=!E;E||(E={});for(var w=-1,R=m.length;++w<R;){var _=m[w],C=x?x(E[_],p[_],_,E,p):void 0;C===void 0&&(C=p[_]),y?f(E,_,C):l(E,_,C)}return E}},5481:(s,c,a)=>{var l=a(9325)["__core-js_shared__"];s.exports=l},999:(s,c,a)=>{var l=a(9302),f=a(6800);s.exports=function(p){return l(function(m,E){var x=-1,y=E.length,w=y>1?E[y-1]:void 0,R=y>2?E[2]:void 0;for(w=p.length>3&&typeof w=="function"?(y--,w):void 0,R&&f(E[0],E[1],R)&&(w=y<3?void 0:w,y=1),m=Object(m);++x<y;){var _=E[x];_&&p(m,_,x,w)}return m})}},3221:s=>{s.exports=function(c){return function(a,l,f){for(var p=-1,m=Object(a),E=f(a),x=E.length;x--;){var y=E[c?x:++p];if(l(m[y],y,m)===!1)break}return a}}},3243:(s,c,a)=>{var l=a(6110),f=function(){try{var p=l(Object,"defineProperty");return p({},"",{}),p}catch{}}();s.exports=f},4840:(s,c,a)=>{var l=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g;s.exports=l},2651:(s,c,a)=>{var l=a(4218);s.exports=function(f,p){var m=f.__data__;return l(p)?m[typeof p=="string"?"string":"hash"]:m.map}},6110:(s,c,a)=>{var l=a(5083),f=a(392);s.exports=function(p,m){var E=f(p,m);return l(E)?E:void 0}},8879:(s,c,a)=>{var l=a(4335)(Object.getPrototypeOf,Object);s.exports=l},659:(s,c,a)=>{var l=a(1873),f=Object.prototype,p=f.hasOwnProperty,m=f.toString,E=l?l.toStringTag:void 0;s.exports=function(x){var y=p.call(x,E),w=x[E];try{x[E]=void 0;var R=!0}catch{}var _=m.call(x);return R&&(y?x[E]=w:delete x[E]),_}},392:s=>{s.exports=function(c,a){return c==null?void 0:c[a]}},2032:(s,c,a)=>{var l=a(1042);s.exports=function(){this.__data__=l?l(null):{},this.size=0}},3862:s=>{s.exports=function(c){var a=this.has(c)&&delete this.__data__[c];return this.size-=a?1:0,a}},6721:(s,c,a)=>{var l=a(1042),f=Object.prototype.hasOwnProperty;s.exports=function(p){var m=this.__data__;if(l){var E=m[p];return E==="__lodash_hash_undefined__"?void 0:E}return f.call(m,p)?m[p]:void 0}},2749:(s,c,a)=>{var l=a(1042),f=Object.prototype.hasOwnProperty;s.exports=function(p){var m=this.__data__;return l?m[p]!==void 0:f.call(m,p)}},5749:(s,c,a)=>{var l=a(1042);s.exports=function(f,p){var m=this.__data__;return this.size+=this.has(f)?0:1,m[f]=l&&p===void 0?"__lodash_hash_undefined__":p,this}},5529:(s,c,a)=>{var l=a(9344),f=a(8879),p=a(5527);s.exports=function(m){return typeof m.constructor!="function"||p(m)?{}:l(f(m))}},361:s=>{var c=/^(?:0|[1-9]\d*)$/;s.exports=function(a,l){var f=typeof a;return!!(l=l??9007199254740991)&&(f=="number"||f!="symbol"&&c.test(a))&&a>-1&&a%1==0&&a<l}},6800:(s,c,a)=>{var l=a(5288),f=a(4894),p=a(361),m=a(3805);s.exports=function(E,x,y){if(!m(y))return!1;var w=typeof x;return!!(w=="number"?f(y)&&p(x,y.length):w=="string"&&x in y)&&l(y[x],E)}},4218:s=>{s.exports=function(c){var a=typeof c;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?c!=="__proto__":c===null}},7296:(s,c,a)=>{var l,f=a(5481),p=(l=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";s.exports=function(m){return!!p&&p in m}},5527:s=>{var c=Object.prototype;s.exports=function(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||c)}},3702:s=>{s.exports=function(){this.__data__=[],this.size=0}},80:(s,c,a)=>{var l=a(6025),f=Array.prototype.splice;s.exports=function(p){var m=this.__data__,E=l(m,p);return!(E<0)&&(E==m.length-1?m.pop():f.call(m,E,1),--this.size,!0)}},4739:(s,c,a)=>{var l=a(6025);s.exports=function(f){var p=this.__data__,m=l(p,f);return m<0?void 0:p[m][1]}},8655:(s,c,a)=>{var l=a(6025);s.exports=function(f){return l(this.__data__,f)>-1}},1175:(s,c,a)=>{var l=a(6025);s.exports=function(f,p){var m=this.__data__,E=l(m,f);return E<0?(++this.size,m.push([f,p])):m[E][1]=p,this}},3040:(s,c,a)=>{var l=a(1549),f=a(79),p=a(8223);s.exports=function(){this.size=0,this.__data__={hash:new l,map:new(p||f),string:new l}}},7670:(s,c,a)=>{var l=a(2651);s.exports=function(f){var p=l(this,f).delete(f);return this.size-=p?1:0,p}},289:(s,c,a)=>{var l=a(2651);s.exports=function(f){return l(this,f).get(f)}},4509:(s,c,a)=>{var l=a(2651);s.exports=function(f){return l(this,f).has(f)}},2949:(s,c,a)=>{var l=a(2651);s.exports=function(f,p){var m=l(this,f),E=m.size;return m.set(f,p),this.size+=m.size==E?0:1,this}},1042:(s,c,a)=>{var l=a(6110)(Object,"create");s.exports=l},181:s=>{s.exports=function(c){var a=[];if(c!=null)for(var l in Object(c))a.push(l);return a}},6009:(s,c,a)=>{s=a.nmd(s);var l=a(4840),f=c&&!c.nodeType&&c,p=f&&s&&!s.nodeType&&s,m=p&&p.exports===f&&l.process,E=function(){try{var x=p&&p.require&&p.require("util").types;return x||m&&m.binding&&m.binding("util")}catch{}}();s.exports=E},9350:s=>{var c=Object.prototype.toString;s.exports=function(a){return c.call(a)}},4335:s=>{s.exports=function(c,a){return function(l){return c(a(l))}}},6757:(s,c,a)=>{var l=a(1033),f=Math.max;s.exports=function(p,m,E){return m=f(m===void 0?p.length-1:m,0),function(){for(var x=arguments,y=-1,w=f(x.length-m,0),R=Array(w);++y<w;)R[y]=x[m+y];y=-1;for(var _=Array(m+1);++y<m;)_[y]=x[y];return _[m]=E(R),l(p,this,_)}}},9325:(s,c,a)=>{var l=a(4840),f=typeof self=="object"&&self&&self.Object===Object&&self,p=l||f||Function("return this")();s.exports=p},4974:s=>{s.exports=function(c,a){if((a!=="constructor"||typeof c[a]!="function")&&a!="__proto__")return c[a]}},2865:(s,c,a)=>{var l=a(9570),f=a(1811)(l);s.exports=f},1811:s=>{var c=Date.now;s.exports=function(a){var l=0,f=0;return function(){var p=c(),m=16-(p-f);if(f=p,m>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}},1420:(s,c,a)=>{var l=a(79);s.exports=function(){this.__data__=new l,this.size=0}},938:s=>{s.exports=function(c){var a=this.__data__,l=a.delete(c);return this.size=a.size,l}},3605:s=>{s.exports=function(c){return this.__data__.get(c)}},9817:s=>{s.exports=function(c){return this.__data__.has(c)}},945:(s,c,a)=>{var l=a(79),f=a(8223),p=a(3661);s.exports=function(m,E){var x=this.__data__;if(x instanceof l){var y=x.__data__;if(!f||y.length<199)return y.push([m,E]),this.size=++x.size,this;x=this.__data__=new p(y)}return x.set(m,E),this.size=x.size,this}},7473:s=>{var c=Function.prototype.toString;s.exports=function(a){if(a!=null){try{return c.call(a)}catch{}try{return a+""}catch{}}return""}},7334:s=>{s.exports=function(c){return function(){return c}}},5288:s=>{s.exports=function(c,a){return c===a||c!=c&&a!=a}},3488:s=>{s.exports=function(c){return c}},2428:(s,c,a)=>{var l=a(7534),f=a(346),p=Object.prototype,m=p.hasOwnProperty,E=p.propertyIsEnumerable,x=l(function(){return arguments}())?l:function(y){return f(y)&&m.call(y,"callee")&&!E.call(y,"callee")};s.exports=x},6449:s=>{var c=Array.isArray;s.exports=c},4894:(s,c,a)=>{var l=a(1882),f=a(294);s.exports=function(p){return p!=null&&f(p.length)&&!l(p)}},3693:(s,c,a)=>{var l=a(4894),f=a(346);s.exports=function(p){return f(p)&&l(p)}},3656:(s,c,a)=>{s=a.nmd(s);var l=a(9325),f=a(9935),p=c&&!c.nodeType&&c,m=p&&s&&!s.nodeType&&s,E=m&&m.exports===p?l.Buffer:void 0,x=(E?E.isBuffer:void 0)||f;s.exports=x},1882:(s,c,a)=>{var l=a(2552),f=a(3805);s.exports=function(p){if(!f(p))return!1;var m=l(p);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},294:s=>{s.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},3805:s=>{s.exports=function(c){var a=typeof c;return c!=null&&(a=="object"||a=="function")}},346:s=>{s.exports=function(c){return c!=null&&typeof c=="object"}},1331:(s,c,a)=>{var l=a(2552),f=a(8879),p=a(346),m=Function.prototype,E=Object.prototype,x=m.toString,y=E.hasOwnProperty,w=x.call(Object);s.exports=function(R){if(!p(R)||l(R)!="[object Object]")return!1;var _=f(R);if(_===null)return!0;var C=y.call(_,"constructor")&&_.constructor;return typeof C=="function"&&C instanceof C&&x.call(C)==w}},7167:(s,c,a)=>{var l=a(4901),f=a(7301),p=a(6009),m=p&&p.isTypedArray,E=m?f(m):l;s.exports=E},7241:(s,c,a)=>{var l=a(695),f=a(2903),p=a(4894);s.exports=function(m){return p(m)?l(m,!0):f(m)}},2543:function(s,c,a){var l;s=a.nmd(s),(function(){var f,p="Expected a function",m="__lodash_hash_undefined__",E="__lodash_placeholder__",x=16,y=32,w=64,R=128,_=256,C=1/0,I=9007199254740991,j=NaN,U=4294967295,V=[["ary",R],["bind",1],["bindKey",2],["curry",8],["curryRight",x],["flip",512],["partial",y],["partialRight",w],["rearg",_]],z="[object Arguments]",q="[object Array]",X="[object Boolean]",J="[object Date]",G="[object Error]",ee="[object Function]",ce="[object GeneratorFunction]",xe="[object Map]",Se="[object Number]",ve="[object Object]",Y="[object Promise]",Q="[object RegExp]",ne="[object Set]",fe="[object String]",Te="[object Symbol]",He="[object WeakMap]",Le="[object ArrayBuffer]",bt="[object DataView]",Gt="[object Float32Array]",Ye="[object Float64Array]",lt="[object Int8Array]",Mt="[object Int16Array]",Xt="[object Int32Array]",Lt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Fn="[object Uint16Array]",Qn="[object Uint32Array]",ut=/\b__p \+= '';/g,Ar=/\b(__p \+=) '' \+/g,Mi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,Ce=RegExp(Z.source),Qe=RegExp(pe.source),re=/<%-([\s\S]+?)%>/g,de=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,De=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sn=/[\\^$.*+?()[\]{}|]/g,Qr=RegExp(Sn.source),fi=/^\s+/,fo=/\s/,Cn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kn=/\{\n\/\* \[wrapped with (.+)\] \*/,Ls=/,? & /,Ba=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Et=/[()=,{}\[\]\/\s]/,uh=/\\(\\)?/g,pd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ca=/\w*$/,Tl=/^[-+]0x[0-9a-f]+$/i,Rl=/^0b[01]+$/i,md=/^\[object .+?Constructor\]$/,Nc=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Jt="\\ud800-\\udfff",or="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",an="\\u2700-\\u27bf",Ft="a-z\\xdf-\\xf6\\xf8-\\xff",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ze="\\ufe0e\\ufe0f",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="[']",_n="["+Jt+"]",Xn="["+pt+"]",Un="["+or+"]",Li="\\d+",gd="["+an+"]",vd="["+Ft+"]",_m="[^"+Jt+pt+Li+an+Ft+dt+"]",dh="\\ud83c[\\udffb-\\udfff]",wm="[^"+Jt+"]",fh="(?:\\ud83c[\\udde6-\\uddff]){2}",hh="[\\ud800-\\udbff][\\udc00-\\udfff]",kl="["+dt+"]",Fy="\\u200d",Ol="(?:"+vd+"|"+_m+")",yd="(?:"+kl+"|"+_m+")",Pl="(?:['](?:d|ll|m|re|s|t|ve))?",Nl="(?:['](?:D|LL|M|RE|S|T|VE))?",Il="(?:"+Un+"|"+dh+")?",bd="["+Ze+"]?",xd=bd+Il+("(?:"+Fy+"(?:"+[wm,fh,hh].join("|")+")"+bd+Il+")*"),ph="(?:"+[gd,fh,hh].join("|")+")"+xd,Em="(?:"+[wm+Un+"?",Un,fh,hh,_n].join("|")+")",Lo=RegExp(Ct,"g"),Fs=RegExp(Un,"g"),Al=RegExp(dh+"(?="+dh+")|"+Em+xd,"g"),Uy=RegExp([kl+"?"+vd+"+"+Pl+"(?="+[Xn,kl,"$"].join("|")+")",yd+"+"+Nl+"(?="+[Xn,kl+Ol,"$"].join("|")+")",kl+"?"+Ol+"+"+Pl,kl+"+"+Nl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Li,ph].join("|"),"g"),pw=RegExp("["+Fy+Jt+or+Ze+"]"),Sd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tm=-1,Jn={};Jn[Gt]=Jn[Ye]=Jn[lt]=Jn[Mt]=Jn[Xt]=Jn[Lt]=Jn[qt]=Jn[Fn]=Jn[Qn]=!0,Jn[z]=Jn[q]=Jn[Le]=Jn[X]=Jn[bt]=Jn[J]=Jn[G]=Jn[ee]=Jn[xe]=Jn[Se]=Jn[ve]=Jn[Q]=Jn[ne]=Jn[fe]=Jn[He]=!1;var Gn={};Gn[z]=Gn[q]=Gn[Le]=Gn[bt]=Gn[X]=Gn[J]=Gn[Gt]=Gn[Ye]=Gn[lt]=Gn[Mt]=Gn[Xt]=Gn[xe]=Gn[Se]=Gn[ve]=Gn[Q]=Gn[ne]=Gn[fe]=Gn[Te]=Gn[Lt]=Gn[qt]=Gn[Fn]=Gn[Qn]=!0,Gn[G]=Gn[ee]=Gn[He]=!1;var Rm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},km=parseFloat,By=parseInt,$y=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,ln=typeof self=="object"&&self&&self.Object===Object&&self,Xr=$y||ln||Function("return this")(),mh=c&&!c.nodeType&&c,on=mh&&s&&!s.nodeType&&s,gh=on&&on.exports===mh,_d=gh&&$y.process,bi=function(){try{var ye=on&&on.require&&on.require("util").types;return ye||_d&&_d.binding&&_d.binding("util")}catch{}}(),$a=bi&&bi.isArrayBuffer,Om=bi&&bi.isDate,Pm=bi&&bi.isMap,vh=bi&&bi.isRegExp,yh=bi&&bi.isSet,wd=bi&&bi.isTypedArray;function Fi(ye,me,Ie){switch(Ie.length){case 0:return ye.call(me);case 1:return ye.call(me,Ie[0]);case 2:return ye.call(me,Ie[0],Ie[1]);case 3:return ye.call(me,Ie[0],Ie[1],Ie[2])}return ye.apply(me,Ie)}function mw(ye,me,Ie,Je){for(var Kt=-1,Ut=ye==null?0:ye.length;++Kt<Ut;){var Dr=ye[Kt];me(Je,Dr,Ie(Dr),ye)}return Je}function ho(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Vy(ye,me){for(var Ie=ye==null?0:ye.length;Ie--&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Ic(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je;)if(!me(ye[Ie],Ie,ye))return!1;return!0}function Va(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length,Kt=0,Ut=[];++Ie<Je;){var Dr=ye[Ie];me(Dr,Ie,ye)&&(Ut[Kt++]=Dr)}return Ut}function bh(ye,me){return!!(ye!=null&&ye.length)&&jl(ye,me,0)>-1}function Nm(ye,me,Ie){for(var Je=-1,Kt=ye==null?0:ye.length;++Je<Kt;)if(Ie(me,ye[Je]))return!0;return!1}function sr(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length,Kt=Array(Je);++Ie<Je;)Kt[Ie]=me(ye[Ie],Ie,ye);return Kt}function la(ye,me){for(var Ie=-1,Je=me.length,Kt=ye.length;++Ie<Je;)ye[Kt+Ie]=me[Ie];return ye}function xh(ye,me,Ie,Je){var Kt=-1,Ut=ye==null?0:ye.length;for(Je&&Ut&&(Ie=ye[++Kt]);++Kt<Ut;)Ie=me(Ie,ye[Kt],Kt,ye);return Ie}function gw(ye,me,Ie,Je){var Kt=ye==null?0:ye.length;for(Je&&Kt&&(Ie=ye[--Kt]);Kt--;)Ie=me(Ie,ye[Kt],Kt,ye);return Ie}function Im(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je;)if(me(ye[Ie],Ie,ye))return!0;return!1}var vw=_h("length");function zy(ye,me,Ie){var Je;return Ie(ye,function(Kt,Ut,Dr){if(me(Kt,Ut,Dr))return Je=Ut,!1}),Je}function Sh(ye,me,Ie,Je){for(var Kt=ye.length,Ut=Ie+(Je?1:-1);Je?Ut--:++Ut<Kt;)if(me(ye[Ut],Ut,ye))return Ut;return-1}function jl(ye,me,Ie){return me==me?function(Je,Kt,Ut){for(var Dr=Ut-1,ss=Je.length;++Dr<ss;)if(Je[Dr]===Kt)return Dr;return-1}(ye,me,Ie):Sh(ye,Wy,Ie)}function yw(ye,me,Ie,Je){for(var Kt=Ie-1,Ut=ye.length;++Kt<Ut;)if(Je(ye[Kt],me))return Kt;return-1}function Wy(ye){return ye!=ye}function Hy(ye,me){var Ie=ye==null?0:ye.length;return Ie?jm(ye,me)/Ie:j}function _h(ye){return function(me){return me==null?f:me[ye]}}function Am(ye){return function(me){return ye==null?f:ye[me]}}function Gy(ye,me,Ie,Je,Kt){return Kt(ye,function(Ut,Dr,ss){Ie=Je?(Je=!1,Ut):me(Ie,Ut,Dr,ss)}),Ie}function jm(ye,me){for(var Ie,Je=-1,Kt=ye.length;++Je<Kt;){var Ut=me(ye[Je]);Ut!==f&&(Ie=Ie===f?Ut:Ie+Ut)}return Ie}function _r(ye,me){for(var Ie=-1,Je=Array(ye);++Ie<ye;)Je[Ie]=me(Ie);return Je}function Ed(ye){return ye&&ye.slice(0,Ac(ye)+1).replace(fi,"")}function po(ye){return function(me){return ye(me)}}function Dl(ye,me){return sr(me,function(Ie){return ye[Ie]})}function Cd(ye,me){return ye.has(me)}function Td(ye,me){for(var Ie=-1,Je=ye.length;++Ie<Je&&jl(me,ye[Ie],0)>-1;);return Ie}function qy(ye,me){for(var Ie=ye.length;Ie--&&jl(me,ye[Ie],0)>-1;);return Ie}var Ky=Am({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Dm=Am({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mo(ye){return"\\"+Rm[ye]}function os(ye){return pw.test(ye)}function wh(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je,Kt){Ie[++me]=[Kt,Je]}),Ie}function Yy(ye,me){return function(Ie){return ye(me(Ie))}}function jr(ye,me){for(var Ie=-1,Je=ye.length,Kt=0,Ut=[];++Ie<Je;){var Dr=ye[Ie];Dr!==me&&Dr!==E||(ye[Ie]=E,Ut[Kt++]=Ie)}return Ut}function go(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je){Ie[++me]=Je}),Ie}function Qy(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je){Ie[++me]=[Je,Je]}),Ie}function vo(ye){return os(ye)?function(me){for(var Ie=Al.lastIndex=0;Al.test(me);)++Ie;return Ie}(ye):vw(ye)}function Fo(ye){return os(ye)?function(me){return me.match(Al)||[]}(ye):function(me){return me.split("")}(ye)}function Ac(ye){for(var me=ye.length;me--&&fo.test(ye.charAt(me)););return me}var gt=Am({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Rd=function ye(me){var Ie,Je=(me=me==null?Xr:Rd.defaults(Xr.Object(),me,Rd.pick(Xr,Cm))).Array,Kt=me.Date,Ut=me.Error,Dr=me.Function,ss=me.Math,ar=me.Object,Mm=me.RegExp,bw=me.String,Qi=me.TypeError,za=Je.prototype,xw=Dr.prototype,Ml=ar.prototype,jc=me["__core-js_shared__"],Eh=xw.toString,zn=Ml.hasOwnProperty,Ll=0,Lm=(Ie=/[^.]+$/.exec(jc&&jc.keys&&jc.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",Ch=Ml.toString,Sw=Eh.call(ar),Xy=Xr._,_w=Mm("^"+Eh.call(zn).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wa=gh?me.Buffer:f,Ha=me.Symbol,kd=me.Uint8Array,Th=Wa?Wa.allocUnsafe:f,Od=Yy(ar.getPrototypeOf,ar),Pd=ar.create,Jy=Ml.propertyIsEnumerable,Fl=za.splice,Fm=Ha?Ha.isConcatSpreadable:f,Ul=Ha?Ha.iterator:f,Ge=Ha?Ha.toStringTag:f,wr=function(){try{var d=$c(ar,"defineProperty");return d({},"",{}),d}catch{}}(),ww=me.clearTimeout!==Xr.clearTimeout&&me.clearTimeout,Ew=Kt&&Kt.now!==Xr.Date.now&&Kt.now,Cw=me.setTimeout!==Xr.setTimeout&&me.setTimeout,Rh=ss.ceil,yo=ss.floor,kh=ar.getOwnPropertySymbols,Tw=Wa?Wa.isBuffer:f,Ga=me.isFinite,Zy=za.join,Xi=Yy(ar.keys,ar),gr=ss.max,Wr=ss.min,Zt=Kt.now,Nd=me.parseInt,Id=ss.random,Rw=za.reverse,Ad=$c(me,"DataView"),Jr=$c(me,"Map"),ua=$c(me,"Promise"),Dc=$c(me,"Set"),xi=$c(me,"WeakMap"),Ae=$c(ar,"create"),Si=xi&&new xi,Bl={},Oh=tc(Ad),Ph=tc(Jr),Um=tc(ua),Nh=tc(Dc),Bm=tc(xi),Ih=Ha?Ha.prototype:f,da=Ih?Ih.valueOf:f,$m=Ih?Ih.toString:f;function H(d){if(Pr(d)&&!ft(d)&&!(d instanceof yn)){if(d instanceof Ji)return d;if(zn.call(d,"__wrapped__"))return C0(d)}return new Ji(d)}var Mc=function(){function d(){}return function(v){if(!qn(v))return{};if(Pd)return Pd(v);d.prototype=v;var k=new d;return d.prototype=f,k}}();function $l(){}function Ji(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=f}function yn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function qa(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function as(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function Us(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function Ka(d){var v=-1,k=d==null?0:d.length;for(this.__data__=new Us;++v<k;)this.add(d[v])}function Uo(d){var v=this.__data__=new as(d);this.size=v.size}function Vm(d,v){var k=ft(d),D=!k&&zc(d),$=!k&&!D&&In(d),K=!k&&!D&&!$&&M(d),te=k||D||$||K,se=te?_r(d.length,bw):[],he=se.length;for(var Pe in d)!v&&!zn.call(d,Pe)||te&&(Pe=="length"||$&&(Pe=="offset"||Pe=="parent")||K&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||$o(Pe,he))||se.push(Pe);return se}function jd(d){var v=d.length;return v?d[Zm(0,v-1)]:f}function e0(d,v){return Mr(Bi(d),Lc(v,0,d.length))}function t0(d){return Mr(Bi(d))}function cs(d,v,k){(k!==f&&!vs(d[v],k)||k===f&&!(v in d))&&Bs(d,v,k)}function Vl(d,v,k){var D=d[v];zn.call(d,v)&&vs(D,k)&&(k!==f||v in d)||Bs(d,v,k)}function zl(d,v){for(var k=d.length;k--;)if(vs(d[k][0],v))return k;return-1}function n0(d,v,k,D){return ls(d,function($,K,te){v(D,$,k($),te)}),D}function zm(d,v){return d&&So(v,vt(v),d)}function Bs(d,v,k){v=="__proto__"&&wr?wr(d,v,{configurable:!0,enumerable:!0,value:k,writable:!0}):d[v]=k}function Ah(d,v){for(var k=-1,D=v.length,$=Je(D),K=d==null;++k<D;)$[k]=K?f:Qt(d,v[k]);return $}function Lc(d,v,k){return d==d&&(k!==f&&(d=d<=k?d:k),v!==f&&(d=d>=v?d:v)),d}function bo(d,v,k,D,$,K){var te,se=1&v,he=2&v,Pe=4&v;if(k&&(te=$?k(d,D,$,K):k(d)),te!==f)return te;if(!qn(d))return d;var ke=ft(d);if(ke){if(te=function(Ne){var We=Ne.length,jt=new Ne.constructor(We);return We&&typeof Ne[0]=="string"&&zn.call(Ne,"index")&&(jt.index=Ne.index,jt.input=Ne.input),jt}(d),!se)return Bi(d,te)}else{var Me=Ei(d),at=Me==ee||Me==ce;if(In(d))return ig(d,se);if(Me==ve||Me==z||at&&!$){if(te=he||at?{}:Gh(d),!se)return he?function(Ne,We){return So(Ne,_0(Ne),We)}(d,function(Ne,We){return Ne&&So(We,yt(We),Ne)}(te,d)):function(Ne,We){return So(Ne,hg(Ne),We)}(d,zm(te,d))}else{if(!Gn[Me])return $?d:{};te=function(Ne,We,jt){var Xe=Ne.constructor;switch(We){case Le:return og(Ne);case X:case J:return new Xe(+Ne);case bt:return function(tn,$n){var _t=$n?og(tn.buffer):tn.buffer;return new tn.constructor(_t,tn.byteOffset,tn.byteLength)}(Ne,jt);case Gt:case Ye:case lt:case Mt:case Xt:case Lt:case qt:case Fn:case Qn:return fs(Ne,jt);case xe:return new Xe;case Se:case fe:return new Xe(Ne);case Q:return function(tn){var $n=new tn.constructor(tn.source,ca.exec(tn));return $n.lastIndex=tn.lastIndex,$n}(Ne);case ne:return new Xe;case Te:return fn=Ne,da?ar(da.call(fn)):{}}var fn}(d,Me,se)}}K||(K=new Uo);var rt=K.get(d);if(rt)return rt;K.set(d,te),T(d)?d.forEach(function(Ne){te.add(bo(Ne,v,k,Ne,d,K))}):S(d)&&d.forEach(function(Ne,We){te.set(We,bo(Ne,v,k,We,d,K))});var kt=ke?f:(Pe?he?Wn:Zi:he?yt:vt)(d);return ho(kt||d,function(Ne,We){kt&&(Ne=d[We=Ne]),Vl(te,We,bo(Ne,v,k,We,d,K))}),te}function r0(d,v,k){var D=k.length;if(d==null)return!D;for(d=ar(d);D--;){var $=k[D],K=v[$],te=d[$];if(te===f&&!($ in d)||!K(te))return!1}return!0}function ot(d,v,k){if(typeof d!="function")throw new Qi(p);return Jl(function(){d.apply(f,k)},v)}function Wl(d,v,k,D){var $=-1,K=bh,te=!0,se=d.length,he=[],Pe=v.length;if(!se)return he;k&&(v=sr(v,po(k))),D?(K=Nm,te=!1):v.length>=200&&(K=Cd,te=!1,v=new Ka(v));e:for(;++$<se;){var ke=d[$],Me=k==null?ke:k(ke);if(ke=D||ke!==0?ke:0,te&&Me==Me){for(var at=Pe;at--;)if(v[at]===Me)continue e;he.push(ke)}else K(v,Me,D)||he.push(ke)}return he}H.templateSettings={escape:re,evaluate:de,interpolate:Re,variable:"",imports:{_:H}},H.prototype=$l.prototype,H.prototype.constructor=H,Ji.prototype=Mc($l.prototype),Ji.prototype.constructor=Ji,yn.prototype=Mc($l.prototype),yn.prototype.constructor=yn,qa.prototype.clear=function(){this.__data__=Ae?Ae(null):{},this.size=0},qa.prototype.delete=function(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v},qa.prototype.get=function(d){var v=this.__data__;if(Ae){var k=v[d];return k===m?f:k}return zn.call(v,d)?v[d]:f},qa.prototype.has=function(d){var v=this.__data__;return Ae?v[d]!==f:zn.call(v,d)},qa.prototype.set=function(d,v){var k=this.__data__;return this.size+=this.has(d)?0:1,k[d]=Ae&&v===f?m:v,this},as.prototype.clear=function(){this.__data__=[],this.size=0},as.prototype.delete=function(d){var v=this.__data__,k=zl(v,d);return!(k<0)&&(k==v.length-1?v.pop():Fl.call(v,k,1),--this.size,!0)},as.prototype.get=function(d){var v=this.__data__,k=zl(v,d);return k<0?f:v[k][1]},as.prototype.has=function(d){return zl(this.__data__,d)>-1},as.prototype.set=function(d,v){var k=this.__data__,D=zl(k,d);return D<0?(++this.size,k.push([d,v])):k[D][1]=v,this},Us.prototype.clear=function(){this.size=0,this.__data__={hash:new qa,map:new(Jr||as),string:new qa}},Us.prototype.delete=function(d){var v=Gd(this,d).delete(d);return this.size-=v?1:0,v},Us.prototype.get=function(d){return Gd(this,d).get(d)},Us.prototype.has=function(d){return Gd(this,d).has(d)},Us.prototype.set=function(d,v){var k=Gd(this,d),D=k.size;return k.set(d,v),this.size+=k.size==D?0:1,this},Ka.prototype.add=Ka.prototype.push=function(d){return this.__data__.set(d,m),this},Ka.prototype.has=function(d){return this.__data__.has(d)},Uo.prototype.clear=function(){this.__data__=new as,this.size=0},Uo.prototype.delete=function(d){var v=this.__data__,k=v.delete(d);return this.size=v.size,k},Uo.prototype.get=function(d){return this.__data__.get(d)},Uo.prototype.has=function(d){return this.__data__.has(d)},Uo.prototype.set=function(d,v){var k=this.__data__;if(k instanceof as){var D=k.__data__;if(!Jr||D.length<199)return D.push([d,v]),this.size=++k.size,this;k=this.__data__=new Us(D)}return k.set(d,v),this.size=k.size,this};var ls=lg(xo),Zr=lg(Hm,!0);function i0(d,v){var k=!0;return ls(d,function(D,$,K){return k=!!v(D,$,K)}),k}function Dd(d,v,k){for(var D=-1,$=d.length;++D<$;){var K=d[D],te=v(K);if(te!=null&&(se===f?te==te&&!N(te):k(te,se)))var se=te,he=K}return he}function o0(d,v){var k=[];return ls(d,function(D,$,K){v(D,$,K)&&k.push(D)}),k}function ei(d,v,k,D,$){var K=-1,te=d.length;for(k||(k=w0),$||($=[]);++K<te;){var se=d[K];v>0&&k(se)?v>1?ei(se,v-1,k,D,$):la($,se):D||($[$.length]=se)}return $}var jh=f0(),Wm=f0(!0);function xo(d,v){return d&&jh(d,v,vt)}function Hm(d,v){return d&&Wm(d,v,vt)}function Dh(d,v){return Va(v,function(k){return _o(d[k])})}function Ya(d,v){for(var k=0,D=(v=Ja(v,d)).length;d!=null&&k<D;)d=d[hs(v[k++])];return k&&k==D?d:f}function Gm(d,v,k){var D=v(d);return ft(d)?D:la(D,k(d))}function Ui(d){return d==null?d===f?"[object Undefined]":"[object Null]":Ge&&Ge in ar(d)?function(v){var k=zn.call(v,Ge),D=v[Ge];try{v[Ge]=f;var $=!0}catch{}var K=Ch.call(v);return $&&(k?v[Ge]=D:delete v[Ge]),K}(d):function(v){return Ch.call(v)}(d)}function fa(d,v){return d>v}function _i(d,v){return d!=null&&zn.call(d,v)}function Hl(d,v){return d!=null&&v in ar(d)}function Gl(d,v,k){for(var D=k?Nm:bh,$=d[0].length,K=d.length,te=K,se=Je(K),he=1/0,Pe=[];te--;){var ke=d[te];te&&v&&(ke=sr(ke,po(v))),he=Wr(ke.length,he),se[te]=!k&&(v||$>=120&&ke.length>=120)?new Ka(te&&ke):f}ke=d[0];var Me=-1,at=se[0];e:for(;++Me<$&&Pe.length<he;){var rt=ke[Me],kt=v?v(rt):rt;if(rt=k||rt!==0?rt:0,!(at?Cd(at,kt):D(Pe,kt,k))){for(te=K;--te;){var Ne=se[te];if(!(Ne?Cd(Ne,kt):D(d[te],kt,k)))continue e}at&&at.push(kt),Pe.push(rt)}}return Pe}function Nn(d,v,k){var D=(d=Ri(d,v=Ja(v,d)))==null?d:d[hs(Zn(v))];return D==null?f:Fi(D,d,k)}function Fc(d){return Pr(d)&&Ui(d)==z}function us(d,v,k,D,$){return d===v||(d==null||v==null||!Pr(d)&&!Pr(v)?d!=d&&v!=v:function(K,te,se,he,Pe,ke){var Me=ft(K),at=ft(te),rt=Me?q:Ei(K),kt=at?q:Ei(te),Ne=(rt=rt==z?ve:rt)==ve,We=(kt=kt==z?ve:kt)==ve,jt=rt==kt;if(jt&&In(K)){if(!In(te))return!1;Me=!0,Ne=!1}if(jt&&!Ne)return ke||(ke=new Uo),Me||M(K)?Wd(K,te,se,he,Pe,ke):function(_t,Dt,mi,ri,Co,Er,no){switch(mi){case bt:if(_t.byteLength!=Dt.byteLength||_t.byteOffset!=Dt.byteOffset)return!1;_t=_t.buffer,Dt=Dt.buffer;case Le:return!(_t.byteLength!=Dt.byteLength||!Er(new kd(_t),new kd(Dt)));case X:case J:case Se:return vs(+_t,+Dt);case G:return _t.name==Dt.name&&_t.message==Dt.message;case Q:case fe:return _t==Dt+"";case xe:var rc=wh;case ne:var ou=1&ri;if(rc||(rc=go),_t.size!=Dt.size&&!ou)return!1;var I0=no.get(_t);if(I0)return I0==Dt;ri|=2,no.set(_t,Dt);var Vw=Wd(rc(_t),rc(Dt),ri,Co,Er,no);return no.delete(_t),Vw;case Te:if(da)return da.call(_t)==da.call(Dt)}return!1}(K,te,rt,se,he,Pe,ke);if(!(1&se)){var Xe=Ne&&zn.call(K,"__wrapped__"),fn=We&&zn.call(te,"__wrapped__");if(Xe||fn){var tn=Xe?K.value():K,$n=fn?te.value():te;return ke||(ke=new Uo),Pe(tn,$n,se,he,ke)}}return jt?(ke||(ke=new Uo),function(_t,Dt,mi,ri,Co,Er){var no=1&mi,rc=Zi(_t),ou=rc.length,I0=Zi(Dt),Vw=I0.length;if(ou!=Vw&&!no)return!1;for(var A0=ou;A0--;){var sf=rc[A0];if(!(no?sf in Dt:zn.call(Dt,sf)))return!1}var pO=Er.get(_t),mO=Er.get(Dt);if(pO&&mO)return pO==Dt&&mO==_t;var j0=!0;Er.set(_t,Dt),Er.set(Dt,_t);for(var zw=no;++A0<ou;){var D0=_t[sf=rc[A0]],M0=Dt[sf];if(ri)var gO=no?ri(M0,D0,sf,Dt,_t,Er):ri(D0,M0,sf,_t,Dt,Er);if(!(gO===f?D0===M0||Co(D0,M0,mi,ri,Er):gO)){j0=!1;break}zw||(zw=sf=="constructor")}if(j0&&!zw){var L0=_t.constructor,F0=Dt.constructor;L0==F0||!("constructor"in _t)||!("constructor"in Dt)||typeof L0=="function"&&L0 instanceof L0&&typeof F0=="function"&&F0 instanceof F0||(j0=!1)}return Er.delete(_t),Er.delete(Dt),j0}(K,te,se,he,Pe,ke)):!1}(d,v,k,D,us,$))}function Mh(d,v,k,D){var $=k.length,K=$,te=!D;if(d==null)return!K;for(d=ar(d);$--;){var se=k[$];if(te&&se[2]?se[1]!==d[se[0]]:!(se[0]in d))return!1}for(;++$<K;){var he=(se=k[$])[0],Pe=d[he],ke=se[1];if(te&&se[2]){if(Pe===f&&!(he in d))return!1}else{var Me=new Uo;if(D)var at=D(Pe,ke,he,d,v,Me);if(!(at===f?us(ke,Pe,3,D,Me):at))return!1}}return!0}function Qa(d){return!(!qn(d)||(v=d,Lm&&Lm in v))&&(_o(d)?_w:md).test(tc(d));var v}function Md(d){return typeof d=="function"?d:d==null?pr:typeof d=="object"?ft(d)?Ym(d[0],d[1]):a0(d):Hs(d)}function Uc(d){if(!Ql(d))return Xi(d);var v=[];for(var k in ar(d))zn.call(d,k)&&k!="constructor"&&v.push(k);return v}function qm(d){if(!qn(d))return function($){var K=[];if($!=null)for(var te in ar($))K.push(te);return K}(d);var v=Ql(d),k=[];for(var D in d)(D!="constructor"||!v&&zn.call(d,D))&&k.push(D);return k}function Km(d,v){return d<v}function s0(d,v){var k=-1,D=Lr(d)?Je(d.length):[];return ls(d,function($,K,te){D[++k]=v($,K,te)}),D}function a0(d){var v=fg(d);return v.length==1&&v[0][2]?E0(v[0][0],v[0][1]):function(k){return k===d||Mh(k,d,v)}}function Ym(d,v){return pg(d)&&mg(v)?E0(hs(d),v):function(k){var D=Qt(k,d);return D===f&&D===v?zt(k,d):us(v,D,3)}}function Ld(d,v,k,D,$){d!==v&&jh(v,function(K,te){if($||($=new Uo),qn(K))(function(he,Pe,ke,Me,at,rt,kt){var Ne=gg(he,ke),We=gg(Pe,ke),jt=kt.get(We);if(jt)return void cs(he,ke,jt);var Xe=rt?rt(Ne,We,ke+"",he,Pe,kt):f,fn=Xe===f;if(fn){var tn=ft(We),$n=!tn&&In(We),_t=!tn&&!$n&&M(We);Xe=We,tn||$n||_t?ft(Ne)?Xe=Ne:Fr(Ne)?Xe=Bi(Ne):$n?(fn=!1,Xe=ig(We,!0)):_t?(fn=!1,Xe=fs(We,!0)):Xe=[]:g(We)||zc(We)?(Xe=Ne,zc(Ne)?Xe=ge(Ne):qn(Ne)&&!_o(Ne)||(Xe=Gh(We))):fn=!1}fn&&(kt.set(We,Xe),at(Xe,We,Me,rt,kt),kt.delete(We)),cs(he,ke,Xe)})(d,v,te,k,Ld,D,$);else{var se=D?D(gg(d,te),K,te+"",d,v,$):f;se===f&&(se=K),cs(d,te,se)}},yt)}function ds(d,v){var k=d.length;if(k)return $o(v+=v<0?k:0,k)?d[v]:f}function Qm(d,v,k){v=v.length?sr(v,function(K){return ft(K)?function(te){return Ya(te,K.length===1?K[0]:K)}:K}):[pr];var D=-1;v=sr(v,po(Rt()));var $=s0(d,function(K,te,se){var he=sr(v,function(Pe){return Pe(K)});return{criteria:he,index:++D,value:K}});return function(K,te){var se=K.length;for(K.sort(te);se--;)K[se]=K[se].value;return K}($,function(K,te){return function(se,he,Pe){for(var ke=-1,Me=se.criteria,at=he.criteria,rt=Me.length,kt=Pe.length;++ke<rt;){var Ne=sg(Me[ke],at[ke]);if(Ne)return ke>=kt?Ne:Ne*(Pe[ke]=="desc"?-1:1)}return se.index-he.index}(K,te,k)})}function Xm(d,v,k){for(var D=-1,$=v.length,K={};++D<$;){var te=v[D],se=Ya(d,te);k(se,te)&&Fd(K,Ja(te,d),se)}return K}function Jm(d,v,k,D){var $=D?yw:jl,K=-1,te=v.length,se=d;for(d===v&&(v=Bi(v)),k&&(se=sr(d,po(k)));++K<te;)for(var he=0,Pe=v[K],ke=k?k(Pe):Pe;(he=$(se,ke,he,D))>-1;)se!==d&&Fl.call(se,he,1),Fl.call(d,he,1);return d}function c0(d,v){for(var k=d?v.length:0,D=k-1;k--;){var $=v[k];if(k==D||$!==K){var K=$;$o($)?Fl.call(d,$,1):tg(d,$)}}return d}function Zm(d,v){return d+yo(Id()*(v-d+1))}function eg(d,v){var k="";if(!d||v<1||v>I)return k;do v%2&&(k+=d),(v=yo(v/2))&&(d+=d);while(v);return k}function mn(d,v){return $i(Xl(d,v,pr),d+"")}function kw(d){return jd(An(d))}function Ow(d,v){var k=An(d);return Mr(k,Lc(v,0,k.length))}function Fd(d,v,k,D){if(!qn(d))return d;for(var $=-1,K=(v=Ja(v,d)).length,te=K-1,se=d;se!=null&&++$<K;){var he=hs(v[$]),Pe=k;if(he==="__proto__"||he==="constructor"||he==="prototype")return d;if($!=te){var ke=se[he];(Pe=D?D(ke,he,se):f)===f&&(Pe=qn(ke)?ke:$o(v[$+1])?[]:{})}Vl(se,he,Pe),se=se[he]}return d}var l0=Si?function(d,v){return Si.set(d,v),d}:pr,Lh=wr?function(d,v){return wr(d,"toString",{configurable:!0,enumerable:!1,value:Vi(v),writable:!0})}:pr;function Pw(d){return Mr(An(d))}function Bo(d,v,k){var D=-1,$=d.length;v<0&&(v=-v>$?0:$+v),(k=k>$?$:k)<0&&(k+=$),$=v>k?0:k-v>>>0,v>>>=0;for(var K=Je($);++D<$;)K[D]=d[D+v];return K}function ql(d,v){var k;return ls(d,function(D,$,K){return!(k=v(D,$,K))}),!!k}function ha(d,v,k){var D=0,$=d==null?D:d.length;if(typeof v=="number"&&v==v&&$<=2147483647){for(;D<$;){var K=D+$>>>1,te=d[K];te!==null&&!N(te)&&(k?te<=v:te<v)?D=K+1:$=K}return $}return pa(d,v,pr,k)}function pa(d,v,k,D){var $=0,K=d==null?0:d.length;if(K===0)return 0;for(var te=(v=k(v))!=v,se=v===null,he=N(v),Pe=v===f;$<K;){var ke=yo(($+K)/2),Me=k(d[ke]),at=Me!==f,rt=Me===null,kt=Me==Me,Ne=N(Me);if(te)var We=D||kt;else We=Pe?kt&&(D||at):se?kt&&at&&(D||!rt):he?kt&&at&&!rt&&(D||!Ne):!rt&&!Ne&&(D?Me<=v:Me<v);We?$=ke+1:K=ke}return Wr(K,4294967294)}function Ud(d,v){for(var k=-1,D=d.length,$=0,K=[];++k<D;){var te=d[k],se=v?v(te):te;if(!k||!vs(se,he)){var he=se;K[$++]=te===0?0:te}}return K}function ma(d){return typeof d=="number"?d:N(d)?j:+d}function wi(d){if(typeof d=="string")return d;if(ft(d))return sr(d,wi)+"";if(N(d))return $m?$m.call(d):"";var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function Xa(d,v,k){var D=-1,$=bh,K=d.length,te=!0,se=[],he=se;if(k)te=!1,$=Nm;else if(K>=200){var Pe=v?null:Nw(d);if(Pe)return go(Pe);te=!1,$=Cd,he=new Ka}else he=v?[]:se;e:for(;++D<K;){var ke=d[D],Me=v?v(ke):ke;if(ke=k||ke!==0?ke:0,te&&Me==Me){for(var at=he.length;at--;)if(he[at]===Me)continue e;v&&he.push(Me),se.push(ke)}else $(he,Me,k)||(he!==se&&he.push(Me),se.push(ke))}return se}function tg(d,v){return(d=Ri(d,v=Ja(v,d)))==null||delete d[hs(Zn(v))]}function Bd(d,v,k,D){return Fd(d,v,k(Ya(d,v)),D)}function Fh(d,v,k,D){for(var $=d.length,K=D?$:-1;(D?K--:++K<$)&&v(d[K],K,d););return k?Bo(d,D?0:K,D?K+1:$):Bo(d,D?K+1:0,D?$:K)}function u0(d,v){var k=d;return k instanceof yn&&(k=k.value()),xh(v,function(D,$){return $.func.apply($.thisArg,la([D],$.args))},k)}function Bc(d,v,k){var D=d.length;if(D<2)return D?Xa(d[0]):[];for(var $=-1,K=Je(D);++$<D;)for(var te=d[$],se=-1;++se<D;)se!=$&&(K[$]=Wl(K[$]||te,d[se],v,k));return Xa(ei(K,1),v,k)}function d0(d,v,k){for(var D=-1,$=d.length,K=v.length,te={};++D<$;){var se=D<K?v[D]:f;k(te,d[D],se)}return te}function ng(d){return Fr(d)?d:[]}function $d(d){return typeof d=="function"?d:pr}function Ja(d,v){return ft(d)?d:pg(d,v)?[d]:Zl(le(d))}var Uh=mn;function Za(d,v,k){var D=d.length;return k=k===f?D:k,!v&&k>=D?d:Bo(d,v,k)}var rg=ww||function(d){return Xr.clearTimeout(d)};function ig(d,v){if(v)return d.slice();var k=d.length,D=Th?Th(k):new d.constructor(k);return d.copy(D),D}function og(d){var v=new d.constructor(d.byteLength);return new kd(v).set(new kd(d)),v}function fs(d,v){var k=v?og(d.buffer):d.buffer;return new d.constructor(k,d.byteOffset,d.length)}function sg(d,v){if(d!==v){var k=d!==f,D=d===null,$=d==d,K=N(d),te=v!==f,se=v===null,he=v==v,Pe=N(v);if(!se&&!Pe&&!K&&d>v||K&&te&&he&&!se&&!Pe||D&&te&&he||!k&&he||!$)return 1;if(!D&&!K&&!Pe&&d<v||Pe&&k&&$&&!D&&!K||se&&k&&$||!te&&$||!he)return-1}return 0}function ag(d,v,k,D){for(var $=-1,K=d.length,te=k.length,se=-1,he=v.length,Pe=gr(K-te,0),ke=Je(he+Pe),Me=!D;++se<he;)ke[se]=v[se];for(;++$<te;)(Me||$<K)&&(ke[k[$]]=d[$]);for(;Pe--;)ke[se++]=d[$++];return ke}function cg(d,v,k,D){for(var $=-1,K=d.length,te=-1,se=k.length,he=-1,Pe=v.length,ke=gr(K-se,0),Me=Je(ke+Pe),at=!D;++$<ke;)Me[$]=d[$];for(var rt=$;++he<Pe;)Me[rt+he]=v[he];for(;++te<se;)(at||$<K)&&(Me[rt+k[te]]=d[$++]);return Me}function Bi(d,v){var k=-1,D=d.length;for(v||(v=Je(D));++k<D;)v[k]=d[k];return v}function So(d,v,k,D){var $=!k;k||(k={});for(var K=-1,te=v.length;++K<te;){var se=v[K],he=D?D(k[se],d[se],se,k,d):f;he===f&&(he=d[se]),$?Bs(k,se,he):Vl(k,se,he)}return k}function ec(d,v){return function(k,D){var $=ft(k)?mw:n0,K=v?v():{};return $(k,d,Rt(D,2),K)}}function ga(d){return mn(function(v,k){var D=-1,$=k.length,K=$>1?k[$-1]:f,te=$>2?k[2]:f;for(K=d.length>3&&typeof K=="function"?($--,K):f,te&&Ci(k[0],k[1],te)&&(K=$<3?f:K,$=1),v=ar(v);++D<$;){var se=k[D];se&&d(v,se,D,K)}return v})}function lg(d,v){return function(k,D){if(k==null)return k;if(!Lr(k))return d(k,D);for(var $=k.length,K=v?$:-1,te=ar(k);(v?K--:++K<$)&&D(te[K],K,te)!==!1;);return k}}function f0(d){return function(v,k,D){for(var $=-1,K=ar(v),te=D(v),se=te.length;se--;){var he=te[d?se:++$];if(k(K[he],he,K)===!1)break}return v}}function h0(d){return function(v){var k=os(v=le(v))?Fo(v):f,D=k?k[0]:v.charAt(0),$=k?Za(k,1).join(""):v.slice(1);return D[d]()+$}}function Kl(d){return function(v){return xh(Pi(lr(v).replace(Lo,"")),d,"")}}function Vd(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var k=Mc(d.prototype),D=d.apply(k,v);return qn(D)?D:k}}function p0(d){return function(v,k,D){var $=ar(v);if(!Lr(v)){var K=Rt(k,3);v=vt(v),k=function(se){return K($[se],se,$)}}var te=d(v,k,D);return te>-1?$[K?v[te]:te]:f}}function m0(d){return ai(function(v){var k=v.length,D=k,$=Ji.prototype.thru;for(d&&v.reverse();D--;){var K=v[D];if(typeof K!="function")throw new Qi(p);if($&&!te&&Hd(K)=="wrapper")var te=new Ji([],!0)}for(D=te?D:k;++D<k;){var se=Hd(K=v[D]),he=se=="wrapper"?Wh(K):f;te=he&&qd(he[0])&&he[1]==424&&!he[4].length&&he[9]==1?te[Hd(he[0])].apply(te,he[3]):K.length==1&&qd(K)?te[se]():te.thru(K)}return function(){var Pe=arguments,ke=Pe[0];if(te&&Pe.length==1&&ft(ke))return te.plant(ke).value();for(var Me=0,at=k?v[Me].apply(this,Pe):ke;++Me<k;)at=v[Me].call(this,at);return at}})}function zd(d,v,k,D,$,K,te,se,he,Pe){var ke=v&R,Me=1&v,at=2&v,rt=24&v,kt=512&v,Ne=at?f:Vd(d);return function We(){for(var jt=arguments.length,Xe=Je(jt),fn=jt;fn--;)Xe[fn]=arguments[fn];if(rt)var tn=Yl(We),$n=function(ri,Co){for(var Er=ri.length,no=0;Er--;)ri[Er]===Co&&++no;return no}(Xe,tn);if(D&&(Xe=ag(Xe,D,$,rt)),K&&(Xe=cg(Xe,K,te,rt)),jt-=$n,rt&&jt<Pe){var _t=jr(Xe,tn);return y0(d,v,zd,We.placeholder,k,Xe,_t,se,he,Pe-jt)}var Dt=Me?k:this,mi=at?Dt[d]:d;return jt=Xe.length,se?Xe=function(ri,Co){for(var Er=ri.length,no=Wr(Co.length,Er),rc=Bi(ri);no--;){var ou=Co[no];ri[no]=$o(ou,Er)?rc[ou]:f}return ri}(Xe,se):kt&&jt>1&&Xe.reverse(),ke&&he<jt&&(Xe.length=he),this&&this!==Xr&&this instanceof We&&(mi=Ne||Vd(mi)),mi.apply(Dt,Xe)}}function g0(d,v){return function(k,D){return function($,K,te,se){return xo($,function(he,Pe,ke){K(se,te(he),Pe,ke)}),se}(k,d,v(D),{})}}function Bh(d,v){return function(k,D){var $;if(k===f&&D===f)return v;if(k!==f&&($=k),D!==f){if($===f)return D;typeof k=="string"||typeof D=="string"?(k=wi(k),D=wi(D)):(k=ma(k),D=ma(D)),$=d(k,D)}return $}}function $h(d){return ai(function(v){return v=sr(v,po(Rt())),mn(function(k){var D=this;return d(v,function($){return Fi($,D,k)})})})}function Vh(d,v){var k=(v=v===f?" ":wi(v)).length;if(k<2)return k?eg(v,d):v;var D=eg(v,Rh(d/vo(v)));return os(v)?Za(Fo(D),0,d).join(""):D.slice(0,d)}function v0(d){return function(v,k,D){return D&&typeof D!="number"&&Ci(v,k,D)&&(k=D=f),v=B(v),k===f?(k=v,v=0):k=B(k),function($,K,te,se){for(var he=-1,Pe=gr(Rh((K-$)/(te||1)),0),ke=Je(Pe);Pe--;)ke[se?Pe:++he]=$,$+=te;return ke}(v,k,D=D===f?v<k?1:-1:B(D),d)}}function zh(d){return function(v,k){return typeof v=="string"&&typeof k=="string"||(v=be(v),k=be(k)),d(v,k)}}function y0(d,v,k,D,$,K,te,se,he,Pe){var ke=8&v;v|=ke?y:w,4&(v&=~(ke?w:y))||(v&=-4);var Me=[d,v,$,ke?K:f,ke?te:f,ke?f:K,ke?f:te,se,he,Pe],at=k.apply(f,Me);return qd(d)&&vg(at,Me),at.placeholder=D,yg(at,d,v)}function ug(d){var v=ss[d];return function(k,D){if(k=be(k),(D=D==null?0:Wr(W(D),292))&&Ga(k)){var $=(le(k)+"e").split("e");return+(($=(le(v($[0]+"e"+(+$[1]+D)))+"e").split("e"))[0]+"e"+(+$[1]-D))}return v(k)}}var Nw=Dc&&1/go(new Dc([,-0]))[1]==C?function(d){return new Dc(d)}:Vo;function b0(d){return function(v){var k=Ei(v);return k==xe?wh(v):k==ne?Qy(v):function(D,$){return sr($,function(K){return[K,D[K]]})}(v,d(v))}}function va(d,v,k,D,$,K,te,se){var he=2&v;if(!he&&typeof d!="function")throw new Qi(p);var Pe=D?D.length:0;if(Pe||(v&=-97,D=$=f),te=te===f?te:gr(W(te),0),se=se===f?se:W(se),Pe-=$?$.length:0,v&w){var ke=D,Me=$;D=$=f}var at=he?f:Wh(d),rt=[d,v,k,D,$,ke,Me,K,te,se];if(at&&function(Ne,We){var jt=Ne[1],Xe=We[1],fn=jt|Xe,tn=fn<131,$n=Xe==R&&jt==8||Xe==R&&jt==_&&Ne[7].length<=We[8]||Xe==384&&We[7].length<=We[8]&&jt==8;if(!tn&&!$n)return Ne;1&Xe&&(Ne[2]=We[2],fn|=1&jt?0:4);var _t=We[3];if(_t){var Dt=Ne[3];Ne[3]=Dt?ag(Dt,_t,We[4]):_t,Ne[4]=Dt?jr(Ne[3],E):We[4]}(_t=We[5])&&(Dt=Ne[5],Ne[5]=Dt?cg(Dt,_t,We[6]):_t,Ne[6]=Dt?jr(Ne[5],E):We[6]),(_t=We[7])&&(Ne[7]=_t),Xe&R&&(Ne[8]=Ne[8]==null?We[8]:Wr(Ne[8],We[8])),Ne[9]==null&&(Ne[9]=We[9]),Ne[0]=We[0],Ne[1]=fn}(rt,at),d=rt[0],v=rt[1],k=rt[2],D=rt[3],$=rt[4],!(se=rt[9]=rt[9]===f?he?0:d.length:gr(rt[9]-Pe,0))&&24&v&&(v&=-25),v&&v!=1)kt=v==8||v==x?function(Ne,We,jt){var Xe=Vd(Ne);return function fn(){for(var tn=arguments.length,$n=Je(tn),_t=tn,Dt=Yl(fn);_t--;)$n[_t]=arguments[_t];var mi=tn<3&&$n[0]!==Dt&&$n[tn-1]!==Dt?[]:jr($n,Dt);return(tn-=mi.length)<jt?y0(Ne,We,zd,fn.placeholder,f,$n,mi,f,f,jt-tn):Fi(this&&this!==Xr&&this instanceof fn?Xe:Ne,this,$n)}}(d,v,se):v!=y&&v!=33||$.length?zd.apply(f,rt):function(Ne,We,jt,Xe){var fn=1&We,tn=Vd(Ne);return function $n(){for(var _t=-1,Dt=arguments.length,mi=-1,ri=Xe.length,Co=Je(ri+Dt),Er=this&&this!==Xr&&this instanceof $n?tn:Ne;++mi<ri;)Co[mi]=Xe[mi];for(;Dt--;)Co[mi++]=arguments[++_t];return Fi(Er,fn?jt:this,Co)}}(d,v,k,D);else var kt=function(Ne,We,jt){var Xe=1&We,fn=Vd(Ne);return function tn(){return(this&&this!==Xr&&this instanceof tn?fn:Ne).apply(Xe?jt:this,arguments)}}(d,v,k);return yg((at?l0:vg)(kt,rt),d,v)}function dg(d,v,k,D){return d===f||vs(d,Ml[k])&&!zn.call(D,k)?v:d}function x0(d,v,k,D,$,K){return qn(d)&&qn(v)&&(K.set(v,d),Ld(d,v,f,x0,K),K.delete(v)),d}function S0(d){return g(d)?f:d}function Wd(d,v,k,D,$,K){var te=1&k,se=d.length,he=v.length;if(se!=he&&!(te&&he>se))return!1;var Pe=K.get(d),ke=K.get(v);if(Pe&&ke)return Pe==v&&ke==d;var Me=-1,at=!0,rt=2&k?new Ka:f;for(K.set(d,v),K.set(v,d);++Me<se;){var kt=d[Me],Ne=v[Me];if(D)var We=te?D(Ne,kt,Me,v,d,K):D(kt,Ne,Me,d,v,K);if(We!==f){if(We)continue;at=!1;break}if(rt){if(!Im(v,function(jt,Xe){if(!Cd(rt,Xe)&&(kt===jt||$(kt,jt,k,D,K)))return rt.push(Xe)})){at=!1;break}}else if(kt!==Ne&&!$(kt,Ne,k,D,K)){at=!1;break}}return K.delete(d),K.delete(v),at}function ai(d){return $i(Xl(d,f,ni),d+"")}function Zi(d){return Gm(d,vt,hg)}function Wn(d){return Gm(d,yt,_0)}var Wh=Si?function(d){return Si.get(d)}:Vo;function Hd(d){for(var v=d.name+"",k=Bl[v],D=zn.call(Bl,v)?k.length:0;D--;){var $=k[D],K=$.func;if(K==null||K==d)return $.name}return v}function Yl(d){return(zn.call(H,"placeholder")?H:d).placeholder}function Rt(){var d=H.iteratee||li;return d=d===li?Md:d,arguments.length?d(arguments[0],arguments[1]):d}function Gd(d,v){var k,D,$=d.__data__;return((D=typeof(k=v))=="string"||D=="number"||D=="symbol"||D=="boolean"?k!=="__proto__":k===null)?$[typeof v=="string"?"string":"hash"]:$.map}function fg(d){for(var v=vt(d),k=v.length;k--;){var D=v[k],$=d[D];v[k]=[D,$,mg($)]}return v}function $c(d,v){var k=function(D,$){return D==null?f:D[$]}(d,v);return Qa(k)?k:f}var hg=kh?function(d){return d==null?[]:(d=ar(d),Va(kh(d),function(v){return Jy.call(d,v)}))}:zo,_0=kh?function(d){for(var v=[];d;)la(v,hg(d)),d=Od(d);return v}:zo,Ei=Ui;function Hh(d,v,k){for(var D=-1,$=(v=Ja(v,d)).length,K=!1;++D<$;){var te=hs(v[D]);if(!(K=d!=null&&k(d,te)))break;d=d[te]}return K||++D!=$?K:!!($=d==null?0:d.length)&&Jh($)&&$o(te,$)&&(ft(d)||zc(d))}function Gh(d){return typeof d.constructor!="function"||Ql(d)?{}:Mc(Od(d))}function w0(d){return ft(d)||zc(d)||!!(Fm&&d&&d[Fm])}function $o(d,v){var k=typeof d;return!!(v=v??I)&&(k=="number"||k!="symbol"&&ue.test(d))&&d>-1&&d%1==0&&d<v}function Ci(d,v,k){if(!qn(k))return!1;var D=typeof v;return!!(D=="number"?Lr(k)&&$o(v,k.length):D=="string"&&v in k)&&vs(k[v],d)}function pg(d,v){if(ft(d))return!1;var k=typeof d;return!(k!="number"&&k!="symbol"&&k!="boolean"&&d!=null&&!N(d))||nt.test(d)||!De.test(d)||v!=null&&d in ar(v)}function qd(d){var v=Hd(d),k=H[v];if(typeof k!="function"||!(v in yn.prototype))return!1;if(d===k)return!0;var D=Wh(k);return!!D&&d===D[0]}(Ad&&Ei(new Ad(new ArrayBuffer(1)))!=bt||Jr&&Ei(new Jr)!=xe||ua&&Ei(ua.resolve())!=Y||Dc&&Ei(new Dc)!=ne||xi&&Ei(new xi)!=He)&&(Ei=function(d){var v=Ui(d),k=v==ve?d.constructor:f,D=k?tc(k):"";if(D)switch(D){case Oh:return bt;case Ph:return xe;case Um:return Y;case Nh:return ne;case Bm:return He}return v});var Ti=jc?_o:nc;function Ql(d){var v=d&&d.constructor;return d===(typeof v=="function"&&v.prototype||Ml)}function mg(d){return d==d&&!qn(d)}function E0(d,v){return function(k){return k!=null&&k[d]===v&&(v!==f||d in ar(k))}}function Xl(d,v,k){return v=gr(v===f?d.length-1:v,0),function(){for(var D=arguments,$=-1,K=gr(D.length-v,0),te=Je(K);++$<K;)te[$]=D[v+$];$=-1;for(var se=Je(v+1);++$<v;)se[$]=D[$];return se[v]=k(te),Fi(d,this,se)}}function Ri(d,v){return v.length<2?d:Ya(d,Bo(v,0,-1))}function gg(d,v){if((v!=="constructor"||typeof d[v]!="function")&&v!="__proto__")return d[v]}var vg=bg(l0),Jl=Cw||function(d,v){return Xr.setTimeout(d,v)},$i=bg(Lh);function yg(d,v,k){var D=v+"";return $i(d,function($,K){var te=K.length;if(!te)return $;var se=te-1;return K[se]=(te>1?"& ":"")+K[se],K=K.join(te>2?", ":" "),$.replace(Cn,`{
/* [wrapped with `+K+`] */
`)}(D,function($,K){return ho(V,function(te){var se="_."+te[0];K&te[1]&&!bh($,se)&&$.push(se)}),$.sort()}(function($){var K=$.match(kn);return K?K[1].split(Ls):[]}(D),k)))}function bg(d){var v=0,k=0;return function(){var D=Zt(),$=16-(D-k);if(k=D,$>0){if(++v>=800)return arguments[0]}else v=0;return d.apply(f,arguments)}}function Mr(d,v){var k=-1,D=d.length,$=D-1;for(v=v===f?D:v;++k<v;){var K=Zm(k,$),te=d[K];d[K]=d[k],d[k]=te}return d.length=v,d}var Zl=function(d){var v=ef(d,function(D){return k.size===500&&k.clear(),D}),k=v.cache;return v}(function(d){var v=[];return d.charCodeAt(0)===46&&v.push(""),d.replace(St,function(k,D,$,K){v.push($?K.replace(uh,"$1"):D||k)}),v});function hs(d){if(typeof d=="string"||N(d))return d;var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function tc(d){if(d!=null){try{return Eh.call(d)}catch{}try{return d+""}catch{}}return""}function C0(d){if(d instanceof yn)return d.clone();var v=new Ji(d.__wrapped__,d.__chain__);return v.__actions__=Bi(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}var Iw=mn(function(d,v){return Fr(d)?Wl(d,ei(v,1,Fr,!0)):[]}),Aw=mn(function(d,v){var k=Zn(v);return Fr(k)&&(k=f),Fr(d)?Wl(d,ei(v,1,Fr,!0),Rt(k,2)):[]}),Kd=mn(function(d,v){var k=Zn(v);return Fr(k)&&(k=f),Fr(d)?Wl(d,ei(v,1,Fr,!0),f,k):[]});function ti(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var $=k==null?0:W(k);return $<0&&($=gr(D+$,0)),Sh(d,Rt(v,3),$)}function Yd(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var $=D-1;return k!==f&&($=W(k),$=k<0?gr(D+$,0):Wr($,D-1)),Sh(d,Rt(v,3),$,!0)}function ni(d){return d!=null&&d.length?ei(d,1):[]}function $s(d){return d&&d.length?d[0]:f}var jw=mn(function(d){var v=sr(d,ng);return v.length&&v[0]===d[0]?Gl(v):[]}),Qd=mn(function(d){var v=Zn(d),k=sr(d,ng);return v===Zn(k)?v=f:k.pop(),k.length&&k[0]===d[0]?Gl(k,Rt(v,2)):[]}),qh=mn(function(d){var v=Zn(d),k=sr(d,ng);return(v=typeof v=="function"?v:f)&&k.pop(),k.length&&k[0]===d[0]?Gl(k,f,v):[]});function Zn(d){var v=d==null?0:d.length;return v?d[v-1]:f}var ki=mn(Vc);function Vc(d,v){return d&&d.length&&v&&v.length?Jm(d,v):d}var xg=ai(function(d,v){var k=d==null?0:d.length,D=Ah(d,v);return c0(d,sr(v,function($){return $o($,k)?+$:$}).sort(sg)),D});function Sg(d){return d==null?d:Rw.call(d)}var ya=mn(function(d){return Xa(ei(d,1,Fr,!0))}),On=mn(function(d){var v=Zn(d);return Fr(v)&&(v=f),Xa(ei(d,1,Fr,!0),Rt(v,2))}),Dw=mn(function(d){var v=Zn(d);return v=typeof v=="function"?v:f,Xa(ei(d,1,Fr,!0),f,v)});function _g(d){if(!d||!d.length)return[];var v=0;return d=Va(d,function(k){if(Fr(k))return v=gr(k.length,v),!0}),_r(v,function(k){return sr(d,_h(k))})}function T0(d,v){if(!d||!d.length)return[];var k=_g(d);return v==null?k:sr(k,function(D){return Fi(v,f,D)})}var Mw=mn(function(d,v){return Fr(d)?Wl(d,v):[]}),Kh=mn(function(d){return Bc(Va(d,Fr))}),Xd=mn(function(d){var v=Zn(d);return Fr(v)&&(v=f),Bc(Va(d,Fr),Rt(v,2))}),Jd=mn(function(d){var v=Zn(d);return v=typeof v=="function"?v:f,Bc(Va(d,Fr),f,v)}),Lw=mn(_g),Fw=mn(function(d){var v=d.length,k=v>1?d[v-1]:f;return k=typeof k=="function"?(d.pop(),k):f,T0(d,k)});function R0(d){var v=H(d);return v.__chain__=!0,v}function Yh(d,v){return v(d)}var ps=ai(function(d){var v=d.length,k=v?d[0]:0,D=this.__wrapped__,$=function(K){return Ah(K,d)};return!(v>1||this.__actions__.length)&&D instanceof yn&&$o(k)?((D=D.slice(k,+k+(v?1:0))).__actions__.push({func:Yh,args:[$],thisArg:f}),new Ji(D,this.__chain__).thru(function(K){return v&&!K.length&&K.push(f),K})):this.thru($)}),ms=ec(function(d,v,k){zn.call(d,k)?++d[k]:Bs(d,k,1)}),eu=p0(ti),tu=p0(Yd);function gs(d,v){return(ft(d)?ho:ls)(d,Rt(v,3))}function wg(d,v){return(ft(d)?Vy:Zr)(d,Rt(v,3))}var Eg=ec(function(d,v,k){zn.call(d,k)?d[k].push(v):Bs(d,k,[v])}),ba=mn(function(d,v,k){var D=-1,$=typeof v=="function",K=Lr(d)?Je(d.length):[];return ls(d,function(te){K[++D]=$?Fi(v,te,k):Nn(te,v,k)}),K}),Or=ec(function(d,v,k){Bs(d,k,v)});function ci(d,v){return(ft(d)?sr:s0)(d,Rt(v,3))}var Uw=ec(function(d,v,k){d[k?0:1].push(v)},function(){return[[],[]]}),k0=mn(function(d,v){if(d==null)return[];var k=v.length;return k>1&&Ci(d,v[0],v[1])?v=[]:k>2&&Ci(v[0],v[1],v[2])&&(v=[v[0]]),Qm(d,ei(v,1),[])}),Qh=Ew||function(){return Xr.Date.now()};function Cg(d,v,k){return v=k?f:v,v=d&&v==null?d.length:v,va(d,R,f,f,f,f,v)}function Tg(d,v){var k;if(typeof v!="function")throw new Qi(p);return d=W(d),function(){return--d>0&&(k=v.apply(this,arguments)),d<=1&&(v=f),k}}var Rg=mn(function(d,v,k){var D=1;if(k.length){var $=jr(k,Yl(Rg));D|=y}return va(d,D,v,k,$)}),kg=mn(function(d,v,k){var D=3;if(k.length){var $=jr(k,Yl(kg));D|=y}return va(v,D,d,k,$)});function Zd(d,v,k){var D,$,K,te,se,he,Pe=0,ke=!1,Me=!1,at=!0;if(typeof d!="function")throw new Qi(p);function rt(Xe){var fn=D,tn=$;return D=$=f,Pe=Xe,te=d.apply(tn,fn)}function kt(Xe){var fn=Xe-he;return he===f||fn>=v||fn<0||Me&&Xe-Pe>=K}function Ne(){var Xe=Qh();if(kt(Xe))return We(Xe);se=Jl(Ne,function(fn){var tn=v-(fn-he);return Me?Wr(tn,K-(fn-Pe)):tn}(Xe))}function We(Xe){return se=f,at&&D?rt(Xe):(D=$=f,te)}function jt(){var Xe=Qh(),fn=kt(Xe);if(D=arguments,$=this,he=Xe,fn){if(se===f)return function(tn){return Pe=tn,se=Jl(Ne,v),ke?rt(tn):te}(he);if(Me)return rg(se),se=Jl(Ne,v),rt(he)}return se===f&&(se=Jl(Ne,v)),te}return v=be(v)||0,qn(k)&&(ke=!!k.leading,K=(Me="maxWait"in k)?gr(be(k.maxWait)||0,v):K,at="trailing"in k?!!k.trailing:at),jt.cancel=function(){se!==f&&rg(se),Pe=0,D=he=$=se=f},jt.flush=function(){return se===f?te:We(Qh())},jt}var Og=mn(function(d,v){return ot(d,1,v)}),Bw=mn(function(d,v,k){return ot(d,be(v)||0,k)});function ef(d,v){if(typeof d!="function"||v!=null&&typeof v!="function")throw new Qi(p);var k=function(){var D=arguments,$=v?v.apply(this,D):D[0],K=k.cache;if(K.has($))return K.get($);var te=d.apply(this,D);return k.cache=K.set($,te)||K,te};return k.cache=new(ef.Cache||Us),k}function Xh(d){if(typeof d!="function")throw new Qi(p);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}ef.Cache=Us;var Oi=Uh(function(d,v){var k=(v=v.length==1&&ft(v[0])?sr(v[0],po(Rt())):sr(ei(v,1),po(Rt()))).length;return mn(function(D){for(var $=-1,K=Wr(D.length,k);++$<K;)D[$]=v[$].call(this,D[$]);return Fi(d,this,D)})}),tf=mn(function(d,v){var k=jr(v,Yl(tf));return va(d,y,f,v,k)}),xa=mn(function(d,v){var k=jr(v,Yl(xa));return va(d,w,f,v,k)}),$w=ai(function(d,v){return va(d,_,f,f,f,v)});function vs(d,v){return d===v||d!=d&&v!=v}var O0=zh(fa),P0=zh(function(d,v){return d>=v}),zc=Fc(function(){return arguments}())?Fc:function(d){return Pr(d)&&zn.call(d,"callee")&&!Jy.call(d,"callee")},ft=Je.isArray,eo=$a?po($a):function(d){return Pr(d)&&Ui(d)==Le};function Lr(d){return d!=null&&Jh(d.length)&&!_o(d)}function Fr(d){return Pr(d)&&Lr(d)}var In=Tw||nc,N0=Om?po(Om):function(d){return Pr(d)&&Ui(d)==J};function Pg(d){if(!Pr(d))return!1;var v=Ui(d);return v==G||v=="[object DOMException]"||typeof d.message=="string"&&typeof d.name=="string"&&!g(d)}function _o(d){if(!qn(d))return!1;var v=Ui(d);return v==ee||v==ce||v=="[object AsyncFunction]"||v=="[object Proxy]"}function Ng(d){return typeof d=="number"&&d==W(d)}function Jh(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=I}function qn(d){var v=typeof d;return d!=null&&(v=="object"||v=="function")}function Pr(d){return d!=null&&typeof d=="object"}var S=Pm?po(Pm):function(d){return Pr(d)&&Ei(d)==xe};function h(d){return typeof d=="number"||Pr(d)&&Ui(d)==Se}function g(d){if(!Pr(d)||Ui(d)!=ve)return!1;var v=Od(d);if(v===null)return!0;var k=zn.call(v,"constructor")&&v.constructor;return typeof k=="function"&&k instanceof k&&Eh.call(k)==Sw}var b=vh?po(vh):function(d){return Pr(d)&&Ui(d)==Q},T=yh?po(yh):function(d){return Pr(d)&&Ei(d)==ne};function O(d){return typeof d=="string"||!ft(d)&&Pr(d)&&Ui(d)==fe}function N(d){return typeof d=="symbol"||Pr(d)&&Ui(d)==Te}var M=wd?po(wd):function(d){return Pr(d)&&Jh(d.length)&&!!Jn[Ui(d)]},L=zh(Km),A=zh(function(d,v){return d<=v});function F(d){if(!d)return[];if(Lr(d))return O(d)?Fo(d):Bi(d);if(Ul&&d[Ul])return function(k){for(var D,$=[];!(D=k.next()).done;)$.push(D.value);return $}(d[Ul]());var v=Ei(d);return(v==xe?wh:v==ne?go:An)(d)}function B(d){return d?(d=be(d))===C||d===-1/0?17976931348623157e292*(d<0?-1:1):d==d?d:0:d===0?d:0}function W(d){var v=B(d),k=v%1;return v==v?k?v-k:v:0}function ie(d){return d?Lc(W(d),0,U):0}function be(d){if(typeof d=="number")return d;if(N(d))return j;if(qn(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=qn(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=Ed(d);var k=Rl.test(d);return k||Nc.test(d)?By(d.slice(2),k?2:8):Tl.test(d)?j:+d}function ge(d){return So(d,yt(d))}function le(d){return d==null?"":wi(d)}var ae=ga(function(d,v){if(Ql(v)||Lr(v))So(v,vt(v),d);else for(var k in v)zn.call(v,k)&&Vl(d,k,v[k])}),oe=ga(function(d,v){So(v,yt(v),d)}),we=ga(function(d,v,k,D){So(v,yt(v),d,D)}),ze=ga(function(d,v,k,D){So(v,vt(v),d,D)}),st=ai(Ah),Tt=mn(function(d,v){d=ar(d);var k=-1,D=v.length,$=D>2?v[2]:f;for($&&Ci(v[0],v[1],$)&&(D=1);++k<D;)for(var K=v[k],te=yt(K),se=-1,he=te.length;++se<he;){var Pe=te[se],ke=d[Pe];(ke===f||vs(ke,Ml[Pe])&&!zn.call(d,Pe))&&(d[Pe]=K[Pe])}return d}),Yt=mn(function(d){return d.push(f,x0),Fi(It,f,d)});function Qt(d,v,k){var D=d==null?f:Ya(d,v);return D===f?k:D}function zt(d,v){return d!=null&&Hh(d,v,Hl)}var Nt=g0(function(d,v,k){v!=null&&typeof v.toString!="function"&&(v=Ch.call(v)),d[v]=k},Vi(pr)),en=g0(function(d,v,k){v!=null&&typeof v.toString!="function"&&(v=Ch.call(v)),zn.call(d,v)?d[v].push(k):d[v]=[k]},Rt),un=mn(Nn);function vt(d){return Lr(d)?Vm(d):Uc(d)}function yt(d){return Lr(d)?Vm(d,!0):qm(d)}var cn=ga(function(d,v,k){Ld(d,v,k)}),It=ga(function(d,v,k,D){Ld(d,v,k,D)}),At=ai(function(d,v){var k={};if(d==null)return k;var D=!1;v=sr(v,function(K){return K=Ja(K,d),D||(D=K.length>1),K}),So(d,Wn(d),k),D&&(k=bo(k,7,S0));for(var $=v.length;$--;)tg(k,v[$]);return k}),dn=ai(function(d,v){return d==null?{}:function(k,D){return Xm(k,D,function($,K){return zt(k,K)})}(d,v)});function Pn(d,v){if(d==null)return{};var k=sr(Wn(d),function(D){return[D]});return v=Rt(v),Xm(d,k,function(D,$){return v(D,$[0])})}var Bn=b0(vt),ir=b0(yt);function An(d){return d==null?[]:Dl(d,vt(d))}var vr=Kl(function(d,v,k){return v=v.toLowerCase(),d+(k?cr(v):v)});function cr(d){return Hr(le(d).toLowerCase())}function lr(d){return(d=le(d))&&d.replace(_e,Ky).replace(Fs,"")}var ur=Kl(function(d,v,k){return d+(k?"-":"")+v.toLowerCase()}),dr=Kl(function(d,v,k){return d+(k?" ":"")+v.toLowerCase()}),fr=h0("toLowerCase"),Ur=Kl(function(d,v,k){return d+(k?"_":"")+v.toLowerCase()}),hr=Kl(function(d,v,k){return d+(k?" ":"")+Hr(v)}),hi=Kl(function(d,v,k){return d+(k?" ":"")+v.toUpperCase()}),Hr=h0("toUpperCase");function Pi(d,v,k){return d=le(d),(v=k?f:v)===f?function(D){return Sd.test(D)}(d)?function(D){return D.match(Uy)||[]}(d):function(D){return D.match(Ba)||[]}(d):d.match(v)||[]}var Ni=mn(function(d,v){try{return Fi(d,f,v)}catch(k){return Pg(k)?k:new Ut(k)}}),pi=ai(function(d,v){return ho(v,function(k){k=hs(k),Bs(d,k,Rg(d[k],d))}),d});function Vi(d){return function(){return d}}var to=m0(),wo=m0(!0);function pr(d){return d}function li(d){return Md(typeof d=="function"?d:bo(d,1))}var Vs=mn(function(d,v){return function(k){return Nn(k,d,v)}}),Sa=mn(function(d,v){return function(k){return Nn(d,k,v)}});function Eo(d,v,k){var D=vt(v),$=Dh(v,D);k!=null||qn(v)&&($.length||!D.length)||(k=v,v=d,d=this,$=Dh(v,vt(v)));var K=!(qn(k)&&"chain"in k&&!k.chain),te=_o(d);return ho($,function(se){var he=v[se];d[se]=he,te&&(d.prototype[se]=function(){var Pe=this.__chain__;if(K||Pe){var ke=d(this.__wrapped__);return(ke.__actions__=Bi(this.__actions__)).push({func:he,args:arguments,thisArg:d}),ke.__chain__=Pe,ke}return he.apply(d,la([this.value()],arguments))})}),d}function Vo(){}var _a=$h(sr),zs=$h(Ic),Ws=$h(Im);function Hs(d){return pg(d)?_h(hs(d)):function(v){return function(k){return Ya(k,v)}}(d)}var Gs=v0(),qs=v0(!0);function zo(){return[]}function nc(){return!1}var nu=Bh(function(d,v){return d+v},0),ru=ug("ceil"),iu=Bh(function(d,v){return d/v},1),nf=ug("floor"),Wc,rf=Bh(function(d,v){return d*v},1),of=ug("round"),Hc=Bh(function(d,v){return d-v},0);return H.after=function(d,v){if(typeof v!="function")throw new Qi(p);return d=W(d),function(){if(--d<1)return v.apply(this,arguments)}},H.ary=Cg,H.assign=ae,H.assignIn=oe,H.assignInWith=we,H.assignWith=ze,H.at=st,H.before=Tg,H.bind=Rg,H.bindAll=pi,H.bindKey=kg,H.castArray=function(){if(!arguments.length)return[];var d=arguments[0];return ft(d)?d:[d]},H.chain=R0,H.chunk=function(d,v,k){v=(k?Ci(d,v,k):v===f)?1:gr(W(v),0);var D=d==null?0:d.length;if(!D||v<1)return[];for(var $=0,K=0,te=Je(Rh(D/v));$<D;)te[K++]=Bo(d,$,$+=v);return te},H.compact=function(d){for(var v=-1,k=d==null?0:d.length,D=0,$=[];++v<k;){var K=d[v];K&&($[D++]=K)}return $},H.concat=function(){var d=arguments.length;if(!d)return[];for(var v=Je(d-1),k=arguments[0],D=d;D--;)v[D-1]=arguments[D];return la(ft(k)?Bi(k):[k],ei(v,1))},H.cond=function(d){var v=d==null?0:d.length,k=Rt();return d=v?sr(d,function(D){if(typeof D[1]!="function")throw new Qi(p);return[k(D[0]),D[1]]}):[],mn(function(D){for(var $=-1;++$<v;){var K=d[$];if(Fi(K[0],this,D))return Fi(K[1],this,D)}})},H.conforms=function(d){return function(v){var k=vt(v);return function(D){return r0(D,v,k)}}(bo(d,1))},H.constant=Vi,H.countBy=ms,H.create=function(d,v){var k=Mc(d);return v==null?k:zm(k,v)},H.curry=function d(v,k,D){var $=va(v,8,f,f,f,f,f,k=D?f:k);return $.placeholder=d.placeholder,$},H.curryRight=function d(v,k,D){var $=va(v,x,f,f,f,f,f,k=D?f:k);return $.placeholder=d.placeholder,$},H.debounce=Zd,H.defaults=Tt,H.defaultsDeep=Yt,H.defer=Og,H.delay=Bw,H.difference=Iw,H.differenceBy=Aw,H.differenceWith=Kd,H.drop=function(d,v,k){var D=d==null?0:d.length;return D?Bo(d,(v=k||v===f?1:W(v))<0?0:v,D):[]},H.dropRight=function(d,v,k){var D=d==null?0:d.length;return D?Bo(d,0,(v=D-(v=k||v===f?1:W(v)))<0?0:v):[]},H.dropRightWhile=function(d,v){return d&&d.length?Fh(d,Rt(v,3),!0,!0):[]},H.dropWhile=function(d,v){return d&&d.length?Fh(d,Rt(v,3),!0):[]},H.fill=function(d,v,k,D){var $=d==null?0:d.length;return $?(k&&typeof k!="number"&&Ci(d,v,k)&&(k=0,D=$),function(K,te,se,he){var Pe=K.length;for((se=W(se))<0&&(se=-se>Pe?0:Pe+se),(he=he===f||he>Pe?Pe:W(he))<0&&(he+=Pe),he=se>he?0:ie(he);se<he;)K[se++]=te;return K}(d,v,k,D)):[]},H.filter=function(d,v){return(ft(d)?Va:o0)(d,Rt(v,3))},H.flatMap=function(d,v){return ei(ci(d,v),1)},H.flatMapDeep=function(d,v){return ei(ci(d,v),C)},H.flatMapDepth=function(d,v,k){return k=k===f?1:W(k),ei(ci(d,v),k)},H.flatten=ni,H.flattenDeep=function(d){return d!=null&&d.length?ei(d,C):[]},H.flattenDepth=function(d,v){return d!=null&&d.length?ei(d,v=v===f?1:W(v)):[]},H.flip=function(d){return va(d,512)},H.flow=to,H.flowRight=wo,H.fromPairs=function(d){for(var v=-1,k=d==null?0:d.length,D={};++v<k;){var $=d[v];D[$[0]]=$[1]}return D},H.functions=function(d){return d==null?[]:Dh(d,vt(d))},H.functionsIn=function(d){return d==null?[]:Dh(d,yt(d))},H.groupBy=Eg,H.initial=function(d){return d!=null&&d.length?Bo(d,0,-1):[]},H.intersection=jw,H.intersectionBy=Qd,H.intersectionWith=qh,H.invert=Nt,H.invertBy=en,H.invokeMap=ba,H.iteratee=li,H.keyBy=Or,H.keys=vt,H.keysIn=yt,H.map=ci,H.mapKeys=function(d,v){var k={};return v=Rt(v,3),xo(d,function(D,$,K){Bs(k,v(D,$,K),D)}),k},H.mapValues=function(d,v){var k={};return v=Rt(v,3),xo(d,function(D,$,K){Bs(k,$,v(D,$,K))}),k},H.matches=function(d){return a0(bo(d,1))},H.matchesProperty=function(d,v){return Ym(d,bo(v,1))},H.memoize=ef,H.merge=cn,H.mergeWith=It,H.method=Vs,H.methodOf=Sa,H.mixin=Eo,H.negate=Xh,H.nthArg=function(d){return d=W(d),mn(function(v){return ds(v,d)})},H.omit=At,H.omitBy=function(d,v){return Pn(d,Xh(Rt(v)))},H.once=function(d){return Tg(2,d)},H.orderBy=function(d,v,k,D){return d==null?[]:(ft(v)||(v=v==null?[]:[v]),ft(k=D?f:k)||(k=k==null?[]:[k]),Qm(d,v,k))},H.over=_a,H.overArgs=Oi,H.overEvery=zs,H.overSome=Ws,H.partial=tf,H.partialRight=xa,H.partition=Uw,H.pick=dn,H.pickBy=Pn,H.property=Hs,H.propertyOf=function(d){return function(v){return d==null?f:Ya(d,v)}},H.pull=ki,H.pullAll=Vc,H.pullAllBy=function(d,v,k){return d&&d.length&&v&&v.length?Jm(d,v,Rt(k,2)):d},H.pullAllWith=function(d,v,k){return d&&d.length&&v&&v.length?Jm(d,v,f,k):d},H.pullAt=xg,H.range=Gs,H.rangeRight=qs,H.rearg=$w,H.reject=function(d,v){return(ft(d)?Va:o0)(d,Xh(Rt(v,3)))},H.remove=function(d,v){var k=[];if(!d||!d.length)return k;var D=-1,$=[],K=d.length;for(v=Rt(v,3);++D<K;){var te=d[D];v(te,D,d)&&(k.push(te),$.push(D))}return c0(d,$),k},H.rest=function(d,v){if(typeof d!="function")throw new Qi(p);return mn(d,v=v===f?v:W(v))},H.reverse=Sg,H.sampleSize=function(d,v,k){return v=(k?Ci(d,v,k):v===f)?1:W(v),(ft(d)?e0:Ow)(d,v)},H.set=function(d,v,k){return d==null?d:Fd(d,v,k)},H.setWith=function(d,v,k,D){return D=typeof D=="function"?D:f,d==null?d:Fd(d,v,k,D)},H.shuffle=function(d){return(ft(d)?t0:Pw)(d)},H.slice=function(d,v,k){var D=d==null?0:d.length;return D?(k&&typeof k!="number"&&Ci(d,v,k)?(v=0,k=D):(v=v==null?0:W(v),k=k===f?D:W(k)),Bo(d,v,k)):[]},H.sortBy=k0,H.sortedUniq=function(d){return d&&d.length?Ud(d):[]},H.sortedUniqBy=function(d,v){return d&&d.length?Ud(d,Rt(v,2)):[]},H.split=function(d,v,k){return k&&typeof k!="number"&&Ci(d,v,k)&&(v=k=f),(k=k===f?U:k>>>0)?(d=le(d))&&(typeof v=="string"||v!=null&&!b(v))&&!(v=wi(v))&&os(d)?Za(Fo(d),0,k):d.split(v,k):[]},H.spread=function(d,v){if(typeof d!="function")throw new Qi(p);return v=v==null?0:gr(W(v),0),mn(function(k){var D=k[v],$=Za(k,0,v);return D&&la($,D),Fi(d,this,$)})},H.tail=function(d){var v=d==null?0:d.length;return v?Bo(d,1,v):[]},H.take=function(d,v,k){return d&&d.length?Bo(d,0,(v=k||v===f?1:W(v))<0?0:v):[]},H.takeRight=function(d,v,k){var D=d==null?0:d.length;return D?Bo(d,(v=D-(v=k||v===f?1:W(v)))<0?0:v,D):[]},H.takeRightWhile=function(d,v){return d&&d.length?Fh(d,Rt(v,3),!1,!0):[]},H.takeWhile=function(d,v){return d&&d.length?Fh(d,Rt(v,3)):[]},H.tap=function(d,v){return v(d),d},H.throttle=function(d,v,k){var D=!0,$=!0;if(typeof d!="function")throw new Qi(p);return qn(k)&&(D="leading"in k?!!k.leading:D,$="trailing"in k?!!k.trailing:$),Zd(d,v,{leading:D,maxWait:v,trailing:$})},H.thru=Yh,H.toArray=F,H.toPairs=Bn,H.toPairsIn=ir,H.toPath=function(d){return ft(d)?sr(d,hs):N(d)?[d]:Bi(Zl(le(d)))},H.toPlainObject=ge,H.transform=function(d,v,k){var D=ft(d),$=D||In(d)||M(d);if(v=Rt(v,4),k==null){var K=d&&d.constructor;k=$?D?new K:[]:qn(d)&&_o(K)?Mc(Od(d)):{}}return($?ho:xo)(d,function(te,se,he){return v(k,te,se,he)}),k},H.unary=function(d){return Cg(d,1)},H.union=ya,H.unionBy=On,H.unionWith=Dw,H.uniq=function(d){return d&&d.length?Xa(d):[]},H.uniqBy=function(d,v){return d&&d.length?Xa(d,Rt(v,2)):[]},H.uniqWith=function(d,v){return v=typeof v=="function"?v:f,d&&d.length?Xa(d,f,v):[]},H.unset=function(d,v){return d==null||tg(d,v)},H.unzip=_g,H.unzipWith=T0,H.update=function(d,v,k){return d==null?d:Bd(d,v,$d(k))},H.updateWith=function(d,v,k,D){return D=typeof D=="function"?D:f,d==null?d:Bd(d,v,$d(k),D)},H.values=An,H.valuesIn=function(d){return d==null?[]:Dl(d,yt(d))},H.without=Mw,H.words=Pi,H.wrap=function(d,v){return tf($d(v),d)},H.xor=Kh,H.xorBy=Xd,H.xorWith=Jd,H.zip=Lw,H.zipObject=function(d,v){return d0(d||[],v||[],Vl)},H.zipObjectDeep=function(d,v){return d0(d||[],v||[],Fd)},H.zipWith=Fw,H.entries=Bn,H.entriesIn=ir,H.extend=oe,H.extendWith=we,Eo(H,H),H.add=nu,H.attempt=Ni,H.camelCase=vr,H.capitalize=cr,H.ceil=ru,H.clamp=function(d,v,k){return k===f&&(k=v,v=f),k!==f&&(k=(k=be(k))==k?k:0),v!==f&&(v=(v=be(v))==v?v:0),Lc(be(d),v,k)},H.clone=function(d){return bo(d,4)},H.cloneDeep=function(d){return bo(d,5)},H.cloneDeepWith=function(d,v){return bo(d,5,v=typeof v=="function"?v:f)},H.cloneWith=function(d,v){return bo(d,4,v=typeof v=="function"?v:f)},H.conformsTo=function(d,v){return v==null||r0(d,v,vt(v))},H.deburr=lr,H.defaultTo=function(d,v){return d==null||d!=d?v:d},H.divide=iu,H.endsWith=function(d,v,k){d=le(d),v=wi(v);var D=d.length,$=k=k===f?D:Lc(W(k),0,D);return(k-=v.length)>=0&&d.slice(k,$)==v},H.eq=vs,H.escape=function(d){return(d=le(d))&&Qe.test(d)?d.replace(pe,Dm):d},H.escapeRegExp=function(d){return(d=le(d))&&Qr.test(d)?d.replace(Sn,"\\$&"):d},H.every=function(d,v,k){var D=ft(d)?Ic:i0;return k&&Ci(d,v,k)&&(v=f),D(d,Rt(v,3))},H.find=eu,H.findIndex=ti,H.findKey=function(d,v){return zy(d,Rt(v,3),xo)},H.findLast=tu,H.findLastIndex=Yd,H.findLastKey=function(d,v){return zy(d,Rt(v,3),Hm)},H.floor=nf,H.forEach=gs,H.forEachRight=wg,H.forIn=function(d,v){return d==null?d:jh(d,Rt(v,3),yt)},H.forInRight=function(d,v){return d==null?d:Wm(d,Rt(v,3),yt)},H.forOwn=function(d,v){return d&&xo(d,Rt(v,3))},H.forOwnRight=function(d,v){return d&&Hm(d,Rt(v,3))},H.get=Qt,H.gt=O0,H.gte=P0,H.has=function(d,v){return d!=null&&Hh(d,v,_i)},H.hasIn=zt,H.head=$s,H.identity=pr,H.includes=function(d,v,k,D){d=Lr(d)?d:An(d),k=k&&!D?W(k):0;var $=d.length;return k<0&&(k=gr($+k,0)),O(d)?k<=$&&d.indexOf(v,k)>-1:!!$&&jl(d,v,k)>-1},H.indexOf=function(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var $=k==null?0:W(k);return $<0&&($=gr(D+$,0)),jl(d,v,$)},H.inRange=function(d,v,k){return v=B(v),k===f?(k=v,v=0):k=B(k),function(D,$,K){return D>=Wr($,K)&&D<gr($,K)}(d=be(d),v,k)},H.invoke=un,H.isArguments=zc,H.isArray=ft,H.isArrayBuffer=eo,H.isArrayLike=Lr,H.isArrayLikeObject=Fr,H.isBoolean=function(d){return d===!0||d===!1||Pr(d)&&Ui(d)==X},H.isBuffer=In,H.isDate=N0,H.isElement=function(d){return Pr(d)&&d.nodeType===1&&!g(d)},H.isEmpty=function(d){if(d==null)return!0;if(Lr(d)&&(ft(d)||typeof d=="string"||typeof d.splice=="function"||In(d)||M(d)||zc(d)))return!d.length;var v=Ei(d);if(v==xe||v==ne)return!d.size;if(Ql(d))return!Uc(d).length;for(var k in d)if(zn.call(d,k))return!1;return!0},H.isEqual=function(d,v){return us(d,v)},H.isEqualWith=function(d,v,k){var D=(k=typeof k=="function"?k:f)?k(d,v):f;return D===f?us(d,v,f,k):!!D},H.isError=Pg,H.isFinite=function(d){return typeof d=="number"&&Ga(d)},H.isFunction=_o,H.isInteger=Ng,H.isLength=Jh,H.isMap=S,H.isMatch=function(d,v){return d===v||Mh(d,v,fg(v))},H.isMatchWith=function(d,v,k){return k=typeof k=="function"?k:f,Mh(d,v,fg(v),k)},H.isNaN=function(d){return h(d)&&d!=+d},H.isNative=function(d){if(Ti(d))throw new Ut("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Qa(d)},H.isNil=function(d){return d==null},H.isNull=function(d){return d===null},H.isNumber=h,H.isObject=qn,H.isObjectLike=Pr,H.isPlainObject=g,H.isRegExp=b,H.isSafeInteger=function(d){return Ng(d)&&d>=-9007199254740991&&d<=I},H.isSet=T,H.isString=O,H.isSymbol=N,H.isTypedArray=M,H.isUndefined=function(d){return d===f},H.isWeakMap=function(d){return Pr(d)&&Ei(d)==He},H.isWeakSet=function(d){return Pr(d)&&Ui(d)=="[object WeakSet]"},H.join=function(d,v){return d==null?"":Zy.call(d,v)},H.kebabCase=ur,H.last=Zn,H.lastIndexOf=function(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var $=D;return k!==f&&($=($=W(k))<0?gr(D+$,0):Wr($,D-1)),v==v?function(K,te,se){for(var he=se+1;he--;)if(K[he]===te)return he;return he}(d,v,$):Sh(d,Wy,$,!0)},H.lowerCase=dr,H.lowerFirst=fr,H.lt=L,H.lte=A,H.max=function(d){return d&&d.length?Dd(d,pr,fa):f},H.maxBy=function(d,v){return d&&d.length?Dd(d,Rt(v,2),fa):f},H.mean=function(d){return Hy(d,pr)},H.meanBy=function(d,v){return Hy(d,Rt(v,2))},H.min=function(d){return d&&d.length?Dd(d,pr,Km):f},H.minBy=function(d,v){return d&&d.length?Dd(d,Rt(v,2),Km):f},H.stubArray=zo,H.stubFalse=nc,H.stubObject=function(){return{}},H.stubString=function(){return""},H.stubTrue=function(){return!0},H.multiply=rf,H.nth=function(d,v){return d&&d.length?ds(d,W(v)):f},H.noConflict=function(){return Xr._===this&&(Xr._=Xy),this},H.noop=Vo,H.now=Qh,H.pad=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;if(!v||D>=v)return d;var $=(v-D)/2;return Vh(yo($),k)+d+Vh(Rh($),k)},H.padEnd=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;return v&&D<v?d+Vh(v-D,k):d},H.padStart=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;return v&&D<v?Vh(v-D,k)+d:d},H.parseInt=function(d,v,k){return k||v==null?v=0:v&&(v=+v),Nd(le(d).replace(fi,""),v||0)},H.random=function(d,v,k){if(k&&typeof k!="boolean"&&Ci(d,v,k)&&(v=k=f),k===f&&(typeof v=="boolean"?(k=v,v=f):typeof d=="boolean"&&(k=d,d=f)),d===f&&v===f?(d=0,v=1):(d=B(d),v===f?(v=d,d=0):v=B(v)),d>v){var D=d;d=v,v=D}if(k||d%1||v%1){var $=Id();return Wr(d+$*(v-d+km("1e-"+(($+"").length-1))),v)}return Zm(d,v)},H.reduce=function(d,v,k){var D=ft(d)?xh:Gy,$=arguments.length<3;return D(d,Rt(v,4),k,$,ls)},H.reduceRight=function(d,v,k){var D=ft(d)?gw:Gy,$=arguments.length<3;return D(d,Rt(v,4),k,$,Zr)},H.repeat=function(d,v,k){return v=(k?Ci(d,v,k):v===f)?1:W(v),eg(le(d),v)},H.replace=function(){var d=arguments,v=le(d[0]);return d.length<3?v:v.replace(d[1],d[2])},H.result=function(d,v,k){var D=-1,$=(v=Ja(v,d)).length;for($||($=1,d=f);++D<$;){var K=d==null?f:d[hs(v[D])];K===f&&(D=$,K=k),d=_o(K)?K.call(d):K}return d},H.round=of,H.runInContext=ye,H.sample=function(d){return(ft(d)?jd:kw)(d)},H.size=function(d){if(d==null)return 0;if(Lr(d))return O(d)?vo(d):d.length;var v=Ei(d);return v==xe||v==ne?d.size:Uc(d).length},H.snakeCase=Ur,H.some=function(d,v,k){var D=ft(d)?Im:ql;return k&&Ci(d,v,k)&&(v=f),D(d,Rt(v,3))},H.sortedIndex=function(d,v){return ha(d,v)},H.sortedIndexBy=function(d,v,k){return pa(d,v,Rt(k,2))},H.sortedIndexOf=function(d,v){var k=d==null?0:d.length;if(k){var D=ha(d,v);if(D<k&&vs(d[D],v))return D}return-1},H.sortedLastIndex=function(d,v){return ha(d,v,!0)},H.sortedLastIndexBy=function(d,v,k){return pa(d,v,Rt(k,2),!0)},H.sortedLastIndexOf=function(d,v){if(d!=null&&d.length){var k=ha(d,v,!0)-1;if(vs(d[k],v))return k}return-1},H.startCase=hr,H.startsWith=function(d,v,k){return d=le(d),k=k==null?0:Lc(W(k),0,d.length),v=wi(v),d.slice(k,k+v.length)==v},H.subtract=Hc,H.sum=function(d){return d&&d.length?jm(d,pr):0},H.sumBy=function(d,v){return d&&d.length?jm(d,Rt(v,2)):0},H.template=function(d,v,k){var D=H.templateSettings;k&&Ci(d,v,k)&&(v=f),d=le(d),v=we({},v,D,dg);var $,K,te=we({},v.imports,D.imports,dg),se=vt(te),he=Dl(te,se),Pe=0,ke=v.interpolate||Oe,Me="__p += '",at=Mm((v.escape||Oe).source+"|"+ke.source+"|"+(ke===Re?pd:Oe).source+"|"+(v.evaluate||Oe).source+"|$","g"),rt="//# sourceURL="+(zn.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tm+"]")+`
`;d.replace(at,function(We,jt,Xe,fn,tn,$n){return Xe||(Xe=fn),Me+=d.slice(Pe,$n).replace($e,mo),jt&&($=!0,Me+=`' +
__e(`+jt+`) +
'`),tn&&(K=!0,Me+=`';
`+tn+`;
__p += '`),Xe&&(Me+=`' +
((__t = (`+Xe+`)) == null ? '' : __t) +
'`),Pe=$n+We.length,We}),Me+=`';
`;var kt=zn.call(v,"variable")&&v.variable;if(kt){if(Et.test(kt))throw new Ut("Invalid `variable` option passed into `_.template`")}else Me=`with (obj) {
`+Me+`
}
`;Me=(K?Me.replace(ut,""):Me).replace(Ar,"$1").replace(Mi,"$1;"),Me="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var Ne=Ni(function(){return Dr(se,rt+"return "+Me).apply(f,he)});if(Ne.source=Me,Pg(Ne))throw Ne;return Ne},H.times=function(d,v){if((d=W(d))<1||d>I)return[];var k=U,D=Wr(d,U);v=Rt(v),d-=U;for(var $=_r(D,v);++k<d;)v(k);return $},H.toFinite=B,H.toInteger=W,H.toLength=ie,H.toLower=function(d){return le(d).toLowerCase()},H.toNumber=be,H.toSafeInteger=function(d){return d?Lc(W(d),-9007199254740991,I):d===0?d:0},H.toString=le,H.toUpper=function(d){return le(d).toUpperCase()},H.trim=function(d,v,k){if((d=le(d))&&(k||v===f))return Ed(d);if(!d||!(v=wi(v)))return d;var D=Fo(d),$=Fo(v);return Za(D,Td(D,$),qy(D,$)+1).join("")},H.trimEnd=function(d,v,k){if((d=le(d))&&(k||v===f))return d.slice(0,Ac(d)+1);if(!d||!(v=wi(v)))return d;var D=Fo(d);return Za(D,0,qy(D,Fo(v))+1).join("")},H.trimStart=function(d,v,k){if((d=le(d))&&(k||v===f))return d.replace(fi,"");if(!d||!(v=wi(v)))return d;var D=Fo(d);return Za(D,Td(D,Fo(v))).join("")},H.truncate=function(d,v){var k=30,D="...";if(qn(v)){var $="separator"in v?v.separator:$;k="length"in v?W(v.length):k,D="omission"in v?wi(v.omission):D}var K=(d=le(d)).length;if(os(d)){var te=Fo(d);K=te.length}if(k>=K)return d;var se=k-vo(D);if(se<1)return D;var he=te?Za(te,0,se).join(""):d.slice(0,se);if($===f)return he+D;if(te&&(se+=he.length-se),b($)){if(d.slice(se).search($)){var Pe,ke=he;for($.global||($=Mm($.source,le(ca.exec($))+"g")),$.lastIndex=0;Pe=$.exec(ke);)var Me=Pe.index;he=he.slice(0,Me===f?se:Me)}}else if(d.indexOf(wi($),se)!=se){var at=he.lastIndexOf($);at>-1&&(he=he.slice(0,at))}return he+D},H.unescape=function(d){return(d=le(d))&&Ce.test(d)?d.replace(Z,gt):d},H.uniqueId=function(d){var v=++Ll;return le(d)+v},H.upperCase=hi,H.upperFirst=Hr,H.each=gs,H.eachRight=wg,H.first=$s,Eo(H,(Wc={},xo(H,function(d,v){zn.call(H.prototype,v)||(Wc[v]=d)}),Wc),{chain:!1}),H.VERSION="4.17.21",ho(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){H[d].placeholder=H}),ho(["drop","take"],function(d,v){yn.prototype[d]=function(k){k=k===f?1:gr(W(k),0);var D=this.__filtered__&&!v?new yn(this):this.clone();return D.__filtered__?D.__takeCount__=Wr(k,D.__takeCount__):D.__views__.push({size:Wr(k,U),type:d+(D.__dir__<0?"Right":"")}),D},yn.prototype[d+"Right"]=function(k){return this.reverse()[d](k).reverse()}}),ho(["filter","map","takeWhile"],function(d,v){var k=v+1,D=k==1||k==3;yn.prototype[d]=function($){var K=this.clone();return K.__iteratees__.push({iteratee:Rt($,3),type:k}),K.__filtered__=K.__filtered__||D,K}}),ho(["head","last"],function(d,v){var k="take"+(v?"Right":"");yn.prototype[d]=function(){return this[k](1).value()[0]}}),ho(["initial","tail"],function(d,v){var k="drop"+(v?"":"Right");yn.prototype[d]=function(){return this.__filtered__?new yn(this):this[k](1)}}),yn.prototype.compact=function(){return this.filter(pr)},yn.prototype.find=function(d){return this.filter(d).head()},yn.prototype.findLast=function(d){return this.reverse().find(d)},yn.prototype.invokeMap=mn(function(d,v){return typeof d=="function"?new yn(this):this.map(function(k){return Nn(k,d,v)})}),yn.prototype.reject=function(d){return this.filter(Xh(Rt(d)))},yn.prototype.slice=function(d,v){d=W(d);var k=this;return k.__filtered__&&(d>0||v<0)?new yn(k):(d<0?k=k.takeRight(-d):d&&(k=k.drop(d)),v!==f&&(k=(v=W(v))<0?k.dropRight(-v):k.take(v-d)),k)},yn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},yn.prototype.toArray=function(){return this.take(U)},xo(yn.prototype,function(d,v){var k=/^(?:filter|find|map|reject)|While$/.test(v),D=/^(?:head|last)$/.test(v),$=H[D?"take"+(v=="last"?"Right":""):v],K=D||/^find/.test(v);$&&(H.prototype[v]=function(){var te=this.__wrapped__,se=D?[1]:arguments,he=te instanceof yn,Pe=se[0],ke=he||ft(te),Me=function(jt){var Xe=$.apply(H,la([jt],se));return D&&at?Xe[0]:Xe};ke&&k&&typeof Pe=="function"&&Pe.length!=1&&(he=ke=!1);var at=this.__chain__,rt=!!this.__actions__.length,kt=K&&!at,Ne=he&&!rt;if(!K&&ke){te=Ne?te:new yn(this);var We=d.apply(te,se);return We.__actions__.push({func:Yh,args:[Me],thisArg:f}),new Ji(We,at)}return kt&&Ne?d.apply(this,se):(We=this.thru(Me),kt?D?We.value()[0]:We.value():We)})}),ho(["pop","push","shift","sort","splice","unshift"],function(d){var v=za[d],k=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",D=/^(?:pop|shift)$/.test(d);H.prototype[d]=function(){var $=arguments;if(D&&!this.__chain__){var K=this.value();return v.apply(ft(K)?K:[],$)}return this[k](function(te){return v.apply(ft(te)?te:[],$)})}}),xo(yn.prototype,function(d,v){var k=H[v];if(k){var D=k.name+"";zn.call(Bl,D)||(Bl[D]=[]),Bl[D].push({name:v,func:k})}}),Bl[zd(f,2).name]=[{name:"wrapper",func:f}],yn.prototype.clone=function(){var d=new yn(this.__wrapped__);return d.__actions__=Bi(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Bi(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Bi(this.__views__),d},yn.prototype.reverse=function(){if(this.__filtered__){var d=new yn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},yn.prototype.value=function(){var d=this.__wrapped__.value(),v=this.__dir__,k=ft(d),D=v<0,$=k?d.length:0,K=function($n,_t,Dt){for(var mi=-1,ri=Dt.length;++mi<ri;){var Co=Dt[mi],Er=Co.size;switch(Co.type){case"drop":$n+=Er;break;case"dropRight":_t-=Er;break;case"take":_t=Wr(_t,$n+Er);break;case"takeRight":$n=gr($n,_t-Er)}}return{start:$n,end:_t}}(0,$,this.__views__),te=K.start,se=K.end,he=se-te,Pe=D?se:te-1,ke=this.__iteratees__,Me=ke.length,at=0,rt=Wr(he,this.__takeCount__);if(!k||!D&&$==he&&rt==he)return u0(d,this.__actions__);var kt=[];e:for(;he--&&at<rt;){for(var Ne=-1,We=d[Pe+=v];++Ne<Me;){var jt=ke[Ne],Xe=jt.iteratee,fn=jt.type,tn=Xe(We);if(fn==2)We=tn;else if(!tn){if(fn==1)continue e;break e}}kt[at++]=We}return kt},H.prototype.at=ps,H.prototype.chain=function(){return R0(this)},H.prototype.commit=function(){return new Ji(this.value(),this.__chain__)},H.prototype.next=function(){this.__values__===f&&(this.__values__=F(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?f:this.__values__[this.__index__++]}},H.prototype.plant=function(d){for(var v,k=this;k instanceof $l;){var D=C0(k);D.__index__=0,D.__values__=f,v?$.__wrapped__=D:v=D;var $=D;k=k.__wrapped__}return $.__wrapped__=d,v},H.prototype.reverse=function(){var d=this.__wrapped__;if(d instanceof yn){var v=d;return this.__actions__.length&&(v=new yn(this)),(v=v.reverse()).__actions__.push({func:Yh,args:[Sg],thisArg:f}),new Ji(v,this.__chain__)}return this.thru(Sg)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function(){return u0(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Ul&&(H.prototype[Ul]=function(){return this}),H}();Xr._=Rd,(l=(function(){return Rd}).call(c,a,c,s))===f||(s.exports=l)}).call(this)},5364:(s,c,a)=>{var l=a(5250),f=a(999)(function(p,m,E){l(p,m,E)});s.exports=f},9935:s=>{s.exports=function(){return!1}},9884:(s,c,a)=>{var l=a(1791),f=a(7241);s.exports=function(p){return l(p,f(p))}},5602:s=>{var c=s.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(a){return a.encoding?"rtpmap:%d %s/%s/%s":a.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(a){return a.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(a){return a.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(a){return"extmap:%d"+(a.direction?"/%s":"%v")+(a["encrypt-uri"]?" %s":"%v")+" %s"+(a.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(a){return a.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(a){var l="candidate:%s %d %s %d %s %d typ %s";return l+=a.raddr!=null?" raddr %s rport %d":"%v%v",l+=a.tcptype!=null?" tcptype %s":"%v",a.generation!=null&&(l+=" generation %d"),l+=a["network-id"]!=null?" network-id %d":"%v",l+=a["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(a){var l="ssrc:%d";return a.attribute!=null&&(l+=" %s",a.value!=null&&(l+=":%s")),l}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(a){return a.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(a){return a.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(a){return"imageattr:%s %s %s"+(a.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(a){return"simulcast:%s %s"+(a.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(a){return"ts-refclk:%s"+(a.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(a){var l="mediaclk:";return l+=a.id!=null?"id=%s %s":"%v%s",l+=a.mediaClockValue!=null?"=%s":"",l+=a.rateNumerator!=null?" rate=%s":"",l+=a.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(c).forEach(function(a){c[a].forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})})},7363:(s,c,a)=>{var l=a(5020),f=a(3804);c.M9=f,c.qg=l.parse,c.Sl=l.parseParams,l.parseFmtpConfig,l.parsePayloads,l.parseRemoteCandidates,l.parseImageAttributes,l.parseSimulcastStreamList},5020:(s,c,a)=>{var l=function(x){return String(Number(x))===x?Number(x):x},f=function(x,y,w){var R=x.name&&x.names;x.push&&!y[x.push]?y[x.push]=[]:R&&!y[x.name]&&(y[x.name]={});var _=x.push?{}:R?y[x.name]:y;(function(C,I,j,U){if(U&&!j)I[U]=l(C[1]);else for(var V=0;V<j.length;V+=1)C[V+1]!=null&&(I[j[V]]=l(C[V+1]))})(w.match(x.reg),_,x.names,x.name),x.push&&y[x.push].push(_)},p=a(5602),m=RegExp.prototype.test.bind(/^([a-z])=(.*)/);c.parse=function(x){var y={},w=[],R=y;return x.split(/(\r\n|\r|\n)/).filter(m).forEach(function(_){var C=_[0],I=_.slice(2);C==="m"&&(w.push({rtp:[],fmtp:[]}),R=w[w.length-1]);for(var j=0;j<(p[C]||[]).length;j+=1){var U=p[C][j];if(U.reg.test(I))return f(U,R,I)}}),y.media=w,y};var E=function(x,y){var w=y.split(/=(.+)/,2);return w.length===2?x[w[0]]=l(w[1]):w.length===1&&y.length>1&&(x[w[0]]=void 0),x};c.parseParams=function(x){return x.split(/;\s?/).reduce(E,{})},c.parseFmtpConfig=c.parseParams,c.parsePayloads=function(x){return x.toString().split(" ").map(Number)},c.parseRemoteCandidates=function(x){for(var y=[],w=x.split(" ").map(l),R=0;R<w.length;R+=3)y.push({component:w[R],ip:w[R+1],port:w[R+2]});return y},c.parseImageAttributes=function(x){return x.split(" ").map(function(y){return y.substring(1,y.length-1).split(",").reduce(E,{})})},c.parseSimulcastStreamList=function(x){return x.split(";").map(function(y){return y.split(",").map(function(w){var R,_=!1;return w[0]!=="~"?R=l(w):(R=l(w.substring(1,w.length)),_=!0),{scid:R,paused:_}})})}},3804:(s,c,a)=>{var l=a(5602),f=/%[sdv%]/g,p=function(y){var w=1,R=arguments,_=R.length;return y.replace(f,function(C){if(w>=_)return C;var I=R[w];switch(w+=1,C){case"%%":return"%";case"%s":return String(I);case"%d":return Number(I);case"%v":return""}})},m=function(y,w,R){var _=[y+"="+(w.format instanceof Function?w.format(w.push?R:R[w.name]):w.format)];if(w.names)for(var C=0;C<w.names.length;C+=1){var I=w.names[C];w.name?_.push(R[w.name][I]):_.push(R[w.names[C]])}else _.push(R[w.name]);return p.apply(null,_)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],x=["i","c","b","a"];s.exports=function(y,w){w=w||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(I){I.payloads==null&&(I.payloads="")});var R=w.outerOrder||E,_=w.innerOrder||x,C=[];return R.forEach(function(I){l[I].forEach(function(j){j.name in y&&y[j.name]!=null?C.push(m(I,j,y)):j.push in y&&y[j.push]!=null&&y[j.push].forEach(function(U){C.push(m(I,j,U))})})}),y.media.forEach(function(I){C.push(m("m",l.m[0],I)),_.forEach(function(j){l[j].forEach(function(U){U.name in I&&I[U.name]!=null?C.push(m(j,U,I)):U.push in I&&I[U.push]!=null&&I[U.push].forEach(function(V){C.push(m(j,U,V))})})})}),C.join(`\r
`)+`\r
`}},7963:s=>{const c={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};c.localCName=c.generateIdentifier(),c.splitLines=function(a){return a.trim().split(`
`).map(l=>l.trim())},c.splitSections=function(a){return a.split(`
m=`).map((l,f)=>(f>0?"m="+l:l).trim()+`\r
`)},c.getDescription=function(a){const l=c.splitSections(a);return l&&l[0]},c.getMediaSections=function(a){const l=c.splitSections(a);return l.shift(),l},c.matchPrefix=function(a,l){return c.splitLines(a).filter(f=>f.indexOf(l)===0)},c.parseCandidate=function(a){let l;l=a.indexOf("a=candidate:")===0?a.substring(12).split(" "):a.substring(10).split(" ");const f={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let p=8;p<l.length;p+=2)switch(l[p]){case"raddr":f.relatedAddress=l[p+1];break;case"rport":f.relatedPort=parseInt(l[p+1],10);break;case"tcptype":f.tcpType=l[p+1];break;case"ufrag":f.ufrag=l[p+1],f.usernameFragment=l[p+1];break;default:f[l[p]]===void 0&&(f[l[p]]=l[p+1])}return f},c.writeCandidate=function(a){const l=[];l.push(a.foundation);const f=a.component;f==="rtp"?l.push(1):f==="rtcp"?l.push(2):l.push(f),l.push(a.protocol.toUpperCase()),l.push(a.priority),l.push(a.address||a.ip),l.push(a.port);const p=a.type;return l.push("typ"),l.push(p),p!=="host"&&a.relatedAddress&&a.relatedPort&&(l.push("raddr"),l.push(a.relatedAddress),l.push("rport"),l.push(a.relatedPort)),a.tcpType&&a.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(l.push("ufrag"),l.push(a.usernameFragment||a.ufrag)),"candidate:"+l.join(" ")},c.parseIceOptions=function(a){return a.substring(14).split(" ")},c.parseRtpMap=function(a){let l=a.substring(9).split(" ");const f={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),f.name=l[0],f.clockRate=parseInt(l[1],10),f.channels=l.length===3?parseInt(l[2],10):1,f.numChannels=f.channels,f},c.writeRtpMap=function(a){let l=a.payloadType;a.preferredPayloadType!==void 0&&(l=a.preferredPayloadType);const f=a.channels||a.numChannels||1;return"a=rtpmap:"+l+" "+a.name+"/"+a.clockRate+(f!==1?"/"+f:"")+`\r
`},c.parseExtmap=function(a){const l=a.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},c.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&a.direction!=="sendrecv"?"/"+a.direction:"")+" "+a.uri+(a.attributes?" "+a.attributes:"")+`\r
`},c.parseFmtp=function(a){const l={};let f;const p=a.substring(a.indexOf(" ")+1).split(";");for(let m=0;m<p.length;m++)f=p[m].trim().split("="),l[f[0].trim()]=f[1];return l},c.writeFmtp=function(a){let l="",f=a.payloadType;if(a.preferredPayloadType!==void 0&&(f=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){const p=[];Object.keys(a.parameters).forEach(m=>{a.parameters[m]!==void 0?p.push(m+"="+a.parameters[m]):p.push(m)}),l+="a=fmtp:"+f+" "+p.join(";")+`\r
`}return l},c.parseRtcpFb=function(a){const l=a.substring(a.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},c.writeRtcpFb=function(a){let l="",f=a.payloadType;return a.preferredPayloadType!==void 0&&(f=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(p=>{l+="a=rtcp-fb:"+f+" "+p.type+(p.parameter&&p.parameter.length?" "+p.parameter:"")+`\r
`}),l},c.parseSsrcMedia=function(a){const l=a.indexOf(" "),f={ssrc:parseInt(a.substring(7,l),10)},p=a.indexOf(":",l);return p>-1?(f.attribute=a.substring(l+1,p),f.value=a.substring(p+1)):f.attribute=a.substring(l+1),f},c.parseSsrcGroup=function(a){const l=a.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(f=>parseInt(f,10))}},c.getMid=function(a){const l=c.matchPrefix(a,"a=mid:")[0];if(l)return l.substring(6)},c.parseFingerprint=function(a){const l=a.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},c.getDtlsParameters=function(a,l){return{role:"auto",fingerprints:c.matchPrefix(a+l,"a=fingerprint:").map(c.parseFingerprint)}},c.writeDtlsParameters=function(a,l){let f="a=setup:"+l+`\r
`;return a.fingerprints.forEach(p=>{f+="a=fingerprint:"+p.algorithm+" "+p.value+`\r
`}),f},c.parseCryptoLine=function(a){const l=a.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},c.writeCryptoLine=function(a){return"a=crypto:"+a.tag+" "+a.cryptoSuite+" "+(typeof a.keyParams=="object"?c.writeCryptoKeyParams(a.keyParams):a.keyParams)+(a.sessionParams?" "+a.sessionParams.join(" "):"")+`\r
`},c.parseCryptoKeyParams=function(a){if(a.indexOf("inline:")!==0)return null;const l=a.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},c.writeCryptoKeyParams=function(a){return a.keyMethod+":"+a.keySalt+(a.lifeTime?"|"+a.lifeTime:"")+(a.mkiValue&&a.mkiLength?"|"+a.mkiValue+":"+a.mkiLength:"")},c.getCryptoParameters=function(a,l){return c.matchPrefix(a+l,"a=crypto:").map(c.parseCryptoLine)},c.getIceParameters=function(a,l){const f=c.matchPrefix(a+l,"a=ice-ufrag:")[0],p=c.matchPrefix(a+l,"a=ice-pwd:")[0];return f&&p?{usernameFragment:f.substring(12),password:p.substring(10)}:null},c.writeIceParameters=function(a){let l="a=ice-ufrag:"+a.usernameFragment+`\r
a=ice-pwd:`+a.password+`\r
`;return a.iceLite&&(l+=`a=ice-lite\r
`),l},c.parseRtpParameters=function(a){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},f=c.splitLines(a)[0].split(" ");l.profile=f[2];for(let m=3;m<f.length;m++){const E=f[m],x=c.matchPrefix(a,"a=rtpmap:"+E+" ")[0];if(x){const y=c.parseRtpMap(x),w=c.matchPrefix(a,"a=fmtp:"+E+" ");switch(y.parameters=w.length?c.parseFmtp(w[0]):{},y.rtcpFeedback=c.matchPrefix(a,"a=rtcp-fb:"+E+" ").map(c.parseRtcpFb),l.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(y.name.toUpperCase())}}}c.matchPrefix(a,"a=extmap:").forEach(m=>{l.headerExtensions.push(c.parseExtmap(m))});const p=c.matchPrefix(a,"a=rtcp-fb:* ").map(c.parseRtcpFb);return l.codecs.forEach(m=>{p.forEach(E=>{m.rtcpFeedback.find(x=>x.type===E.type&&x.parameter===E.parameter)||m.rtcpFeedback.push(E)})}),l},c.writeRtpDescription=function(a,l){let f="";f+="m="+a+" ",f+=l.codecs.length>0?"9":"0",f+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",f+=l.codecs.map(m=>m.preferredPayloadType!==void 0?m.preferredPayloadType:m.payloadType).join(" ")+`\r
`,f+=`c=IN IP4 0.0.0.0\r
`,f+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(m=>{f+=c.writeRtpMap(m),f+=c.writeFmtp(m),f+=c.writeRtcpFb(m)});let p=0;return l.codecs.forEach(m=>{m.maxptime>p&&(p=m.maxptime)}),p>0&&(f+="a=maxptime:"+p+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(m=>{f+=c.writeExtmap(m)}),f},c.parseRtpEncodingParameters=function(a){const l=[],f=c.parseRtpParameters(a),p=f.fecMechanisms.indexOf("RED")!==-1,m=f.fecMechanisms.indexOf("ULPFEC")!==-1,E=c.matchPrefix(a,"a=ssrc:").map(_=>c.parseSsrcMedia(_)).filter(_=>_.attribute==="cname"),x=E.length>0&&E[0].ssrc;let y;const w=c.matchPrefix(a,"a=ssrc-group:FID").map(_=>_.substring(17).split(" ").map(C=>parseInt(C,10)));w.length>0&&w[0].length>1&&w[0][0]===x&&(y=w[0][1]),f.codecs.forEach(_=>{if(_.name.toUpperCase()==="RTX"&&_.parameters.apt){let C={ssrc:x,codecPayloadType:parseInt(_.parameters.apt,10)};x&&y&&(C.rtx={ssrc:y}),l.push(C),p&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:x,mechanism:m?"red+ulpfec":"red"},l.push(C))}}),l.length===0&&x&&l.push({ssrc:x});let R=c.matchPrefix(a,"b=");return R.length&&(R=R[0].indexOf("b=TIAS:")===0?parseInt(R[0].substring(7),10):R[0].indexOf("b=AS:")===0?1e3*parseInt(R[0].substring(5),10)*.95-16e3:void 0,l.forEach(_=>{_.maxBitrate=R})),l},c.parseRtcpParameters=function(a){const l={},f=c.matchPrefix(a,"a=ssrc:").map(E=>c.parseSsrcMedia(E)).filter(E=>E.attribute==="cname")[0];f&&(l.cname=f.value,l.ssrc=f.ssrc);const p=c.matchPrefix(a,"a=rtcp-rsize");l.reducedSize=p.length>0,l.compound=p.length===0;const m=c.matchPrefix(a,"a=rtcp-mux");return l.mux=m.length>0,l},c.writeRtcpParameters=function(a){let l="";return a.reducedSize&&(l+=`a=rtcp-rsize\r
`),a.mux&&(l+=`a=rtcp-mux\r
`),a.ssrc!==void 0&&a.cname&&(l+="a=ssrc:"+a.ssrc+" cname:"+a.cname+`\r
`),l},c.parseMsid=function(a){let l;const f=c.matchPrefix(a,"a=msid:");if(f.length===1)return l=f[0].substring(7).split(" "),{stream:l[0],track:l[1]};const p=c.matchPrefix(a,"a=ssrc:").map(m=>c.parseSsrcMedia(m)).filter(m=>m.attribute==="msid");return p.length>0?(l=p[0].value.split(" "),{stream:l[0],track:l[1]}):void 0},c.parseSctpDescription=function(a){const l=c.parseMLine(a),f=c.matchPrefix(a,"a=max-message-size:");let p;f.length>0&&(p=parseInt(f[0].substring(19),10)),isNaN(p)&&(p=65536);const m=c.matchPrefix(a,"a=sctp-port:");if(m.length>0)return{port:parseInt(m[0].substring(12),10),protocol:l.fmt,maxMessageSize:p};const E=c.matchPrefix(a,"a=sctpmap:");if(E.length>0){const x=E[0].substring(10).split(" ");return{port:parseInt(x[0],10),protocol:x[1],maxMessageSize:p}}},c.writeSctpDescription=function(a,l){let f=[];return f=a.protocol!=="DTLS/SCTP"?["m="+a.kind+" 9 "+a.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:["m="+a.kind+" 9 "+a.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&f.push("a=max-message-size:"+l.maxMessageSize+`\r
`),f.join("")},c.generateSessionId=function(){return Math.random().toString().substr(2,22)},c.writeSessionBoilerplate=function(a,l,f){let p;const m=l!==void 0?l:2;return p=a||c.generateSessionId(),`v=0\r
o=`+(f||"thisisadapterortc")+" "+p+" "+m+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},c.getDirection=function(a,l){const f=c.splitLines(a);for(let p=0;p<f.length;p++)switch(f[p]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return f[p].substring(2)}return l?c.getDirection(l):"sendrecv"},c.getKind=function(a){return c.splitLines(a)[0].split(" ")[0].substring(2)},c.isRejected=function(a){return a.split(" ",2)[1]==="0"},c.parseMLine=function(a){const l=c.splitLines(a)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},c.parseOLine=function(a){const l=c.matchPrefix(a,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},c.isValidSDP=function(a){if(typeof a!="string"||a.length===0)return!1;const l=c.splitLines(a);for(let f=0;f<l.length;f++)if(l[f].length<2||l[f].charAt(1)!=="=")return!1;return!0},s.exports=c},5512:s=>{s.exports=function(c,a,l,f){var p=self||window;try{try{var m;try{m=new p.Blob([c])}catch{(m=new(p.BlobBuilder||p.WebKitBlobBuilder||p.MozBlobBuilder||p.MSBlobBuilder)).append(c),m=m.getBlob()}var E=p.URL||p.webkitURL,x=E.createObjectURL(m),y=new p[a](x,l);return E.revokeObjectURL(x),y}catch{return new p[a]("data:application/javascript,".concat(encodeURIComponent(c)),l)}}catch{if(!f)throw Error("Inline worker is not supported");return new p[a](f,l)}}},8630:(s,c,a)=>{var l;(function(f){(function(){var p=typeof globalThis=="object"?globalThis:typeof a.g=="object"?a.g:typeof self=="object"?self:typeof this=="object"?this:function(){try{return Function("return this;")()}catch{}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch{}}(),m=E(f);function E(x,y){return function(w,R){Object.defineProperty(x,w,{configurable:!0,writable:!0,value:R}),y&&y(w,R)}}p.Reflect!==void 0&&(m=E(p.Reflect,m)),function(x,y){var w=Object.prototype.hasOwnProperty,R=typeof Symbol=="function",_=R&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",C=R&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",I=typeof Object.create=="function",j={__proto__:[]}instanceof Array,U=!I&&!j,V={create:I?function(){return Nc(Object.create(null))}:j?function(){return Nc({__proto__:null})}:function(){return Nc({})},has:U?function(ue,_e){return w.call(ue,_e)}:function(ue,_e){return _e in ue},get:U?function(ue,_e){return w.call(ue,_e)?ue[_e]:void 0}:function(ue,_e){return ue[_e]}},z=Object.getPrototypeOf(Function),q=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Tl(),X=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Rl(),J=typeof WeakMap=="function"?WeakMap:md(),G=R?Symbol.for("@reflect-metadata:registry"):void 0,ee=Et(),ce=uh(ee);function xe(ue,_e,Oe,$e){if(ut(Oe)){if(!Re(ue))throw new TypeError;if(!nt(_e))throw new TypeError;return bt(ue,_e)}if(!Re(ue))throw new TypeError;if(!Z(_e))throw new TypeError;if(!Z($e)&&!ut($e)&&!Ar($e))throw new TypeError;return Ar($e)&&($e=void 0),Gt(ue,_e,Oe=de(Oe),$e)}function Se(ue,_e){function Oe($e,Jt){if(!Z($e))throw new TypeError;if(!ut(Jt)&&!St(Jt))throw new TypeError;Lt(ue,_e,$e,Jt)}return Oe}function ve(ue,_e,Oe,$e){if(!Z(Oe))throw new TypeError;return ut($e)||($e=de($e)),Lt(ue,_e,Oe,$e)}function Y(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Ye(ue,_e,Oe)}function Q(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),lt(ue,_e,Oe)}function ne(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Mt(ue,_e,Oe)}function fe(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Xt(ue,_e,Oe)}function Te(ue,_e){if(!Z(ue))throw new TypeError;return ut(_e)||(_e=de(_e)),qt(ue,_e)}function He(ue,_e){if(!Z(ue))throw new TypeError;return ut(_e)||(_e=de(_e)),Fn(ue,_e)}function Le(ue,_e,Oe){if(!Z(_e))throw new TypeError;if(ut(Oe)||(Oe=de(Oe)),!Z(_e))throw new TypeError;ut(Oe)||(Oe=de(Oe));var $e=ca(_e,Oe,!1);return!ut($e)&&$e.OrdinaryDeleteMetadata(ue,_e,Oe)}function bt(ue,_e){for(var Oe=ue.length-1;Oe>=0;--Oe){var $e=(0,ue[Oe])(_e);if(!ut($e)&&!Ar($e)){if(!nt($e))throw new TypeError;_e=$e}}return _e}function Gt(ue,_e,Oe,$e){for(var Jt=ue.length-1;Jt>=0;--Jt){var or=(0,ue[Jt])(_e,Oe,$e);if(!ut(or)&&!Ar(or)){if(!Z(or))throw new TypeError;$e=or}}return $e}function Ye(ue,_e,Oe){if(lt(ue,_e,Oe))return!0;var $e=Ls(_e);return!Ar($e)&&Ye(ue,$e,Oe)}function lt(ue,_e,Oe){var $e=ca(_e,Oe,!1);return!ut($e)&&Qe($e.OrdinaryHasOwnMetadata(ue,_e,Oe))}function Mt(ue,_e,Oe){if(lt(ue,_e,Oe))return Xt(ue,_e,Oe);var $e=Ls(_e);return Ar($e)?void 0:Mt(ue,$e,Oe)}function Xt(ue,_e,Oe){var $e=ca(_e,Oe,!1);if(!ut($e))return $e.OrdinaryGetOwnMetadata(ue,_e,Oe)}function Lt(ue,_e,Oe,$e){ca(Oe,$e,!0).OrdinaryDefineOwnMetadata(ue,_e,Oe,$e)}function qt(ue,_e){var Oe=Fn(ue,_e),$e=Ls(ue);if($e===null)return Oe;var Jt=qt($e,_e);if(Jt.length<=0)return Oe;if(Oe.length<=0)return Jt;for(var or=new X,an=[],Ft=0,dt=Oe;Ft<dt.length;Ft++){var Ze=dt[Ft];or.has(Ze)||(or.add(Ze),an.push(Ze))}for(var pt=0,Ct=Jt;pt<Ct.length;pt++)Ze=Ct[pt],or.has(Ze)||(or.add(Ze),an.push(Ze));return an}function Fn(ue,_e){var Oe=ca(ue,_e,!1);return Oe?Oe.OrdinaryOwnMetadataKeys(ue,_e):[]}function Qn(ue){if(ue===null)return 1;switch(typeof ue){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ue===null?1:6;default:return 6}}function ut(ue){return ue===void 0}function Ar(ue){return ue===null}function Mi(ue){return typeof ue=="symbol"}function Z(ue){return typeof ue=="object"?ue!==null:typeof ue=="function"}function pe(ue,_e){switch(Qn(ue)){case 0:case 1:case 2:case 3:case 4:case 5:return ue}var Oe="string",$e=Qr(ue,_);if($e!==void 0){var Jt=$e.call(ue,Oe);if(Z(Jt))throw new TypeError;return Jt}return Ce(ue)}function Ce(ue,_e){var Oe,$e;{var Jt=ue.toString;if(De(Jt)&&!Z($e=Jt.call(ue))||De(Oe=ue.valueOf)&&!Z($e=Oe.call(ue)))return $e}throw new TypeError}function Qe(ue){return!!ue}function re(ue){return""+ue}function de(ue){var _e=pe(ue);return Mi(_e)?_e:re(_e)}function Re(ue){return Array.isArray?Array.isArray(ue):ue instanceof Object?ue instanceof Array:Object.prototype.toString.call(ue)==="[object Array]"}function De(ue){return typeof ue=="function"}function nt(ue){return typeof ue=="function"}function St(ue){switch(Qn(ue)){case 3:case 4:return!0;default:return!1}}function Sn(ue,_e){return ue===_e||ue!=ue&&_e!=_e}function Qr(ue,_e){var Oe=ue[_e];if(Oe!=null){if(!De(Oe))throw new TypeError;return Oe}}function fi(ue){var _e=Qr(ue,C);if(!De(_e))throw new TypeError;var Oe=_e.call(ue);if(!Z(Oe))throw new TypeError;return Oe}function fo(ue){return ue.value}function Cn(ue){var _e=ue.next();return!_e.done&&_e}function kn(ue){var _e=ue.return;_e&&_e.call(ue)}function Ls(ue){var _e=Object.getPrototypeOf(ue);if(typeof ue!="function"||ue===z||_e!==z)return _e;var Oe=ue.prototype,$e=Oe&&Object.getPrototypeOf(Oe);if($e==null||$e===Object.prototype)return _e;var Jt=$e.constructor;return typeof Jt!="function"||Jt===ue?_e:Jt}function Ba(){var ue,_e,Oe,$e;ut(G)||y.Reflect===void 0||G in y.Reflect||typeof y.Reflect.defineMetadata!="function"||(ue=pd(y.Reflect));var Jt=new J,or={registerProvider:an,getProvider:dt,setProvider:pt};return or;function an(Ct){if(!Object.isExtensible(or))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ue===Ct:break;case ut(_e):_e=Ct;break;case _e===Ct:break;case ut(Oe):Oe=Ct;break;case Oe===Ct:break;default:$e===void 0&&($e=new X),$e.add(Ct)}}function Ft(Ct,_n){if(!ut(_e)){if(_e.isProviderFor(Ct,_n))return _e;if(!ut(Oe)){if(Oe.isProviderFor(Ct,_n))return _e;if(!ut($e))for(var Xn=fi($e);;){var Un=Cn(Xn);if(!Un)return;var Li=fo(Un);if(Li.isProviderFor(Ct,_n))return kn(Xn),Li}}}if(!ut(ue)&&ue.isProviderFor(Ct,_n))return ue}function dt(Ct,_n){var Xn,Un=Jt.get(Ct);return ut(Un)||(Xn=Un.get(_n)),ut(Xn)&&(ut(Xn=Ft(Ct,_n))||(ut(Un)&&(Un=new q,Jt.set(Ct,Un)),Un.set(_n,Xn))),Xn}function Ze(Ct){if(ut(Ct))throw new TypeError;return _e===Ct||Oe===Ct||!ut($e)&&$e.has(Ct)}function pt(Ct,_n,Xn){if(!Ze(Xn))throw new Error("Metadata provider not registered.");var Un=dt(Ct,_n);if(Un!==Xn){if(!ut(Un))return!1;var Li=Jt.get(Ct);ut(Li)&&(Li=new q,Jt.set(Ct,Li)),Li.set(_n,Xn)}return!0}}function Et(){var ue;return!ut(G)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&(ue=y.Reflect[G]),ut(ue)&&(ue=Ba()),!ut(G)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&Object.defineProperty(y.Reflect,G,{enumerable:!1,configurable:!1,writable:!1,value:ue}),ue}function uh(ue){var _e=new J,Oe={isProviderFor:function(Ze,pt){var Ct=_e.get(Ze);return!ut(Ct)&&Ct.has(pt)},OrdinaryDefineOwnMetadata:an,OrdinaryHasOwnMetadata:Jt,OrdinaryGetOwnMetadata:or,OrdinaryOwnMetadataKeys:Ft,OrdinaryDeleteMetadata:dt};return ee.registerProvider(Oe),Oe;function $e(Ze,pt,Ct){var _n=_e.get(Ze),Xn=!1;if(ut(_n)){if(!Ct)return;_n=new q,_e.set(Ze,_n),Xn=!0}var Un=_n.get(pt);if(ut(Un)){if(!Ct)return;if(Un=new q,_n.set(pt,Un),!ue.setProvider(Ze,pt,Oe))throw _n.delete(pt),Xn&&_e.delete(Ze),new Error("Wrong provider for target.")}return Un}function Jt(Ze,pt,Ct){var _n=$e(pt,Ct,!1);return!ut(_n)&&Qe(_n.has(Ze))}function or(Ze,pt,Ct){var _n=$e(pt,Ct,!1);if(!ut(_n))return _n.get(Ze)}function an(Ze,pt,Ct,_n){$e(Ct,_n,!0).set(Ze,pt)}function Ft(Ze,pt){var Ct=[],_n=$e(Ze,pt,!1);if(ut(_n))return Ct;for(var Xn=fi(_n.keys()),Un=0;;){var Li=Cn(Xn);if(!Li)return Ct.length=Un,Ct;var gd=fo(Li);try{Ct[Un]=gd}catch(vd){try{kn(Xn)}finally{throw vd}}Un++}}function dt(Ze,pt,Ct){var _n=$e(pt,Ct,!1);if(ut(_n)||!_n.delete(Ze))return!1;if(_n.size===0){var Xn=_e.get(pt);ut(Xn)||(Xn.delete(Ct),Xn.size===0&&_e.delete(Xn))}return!0}}function pd(ue){var _e=ue.defineMetadata,Oe=ue.hasOwnMetadata,$e=ue.getOwnMetadata,Jt=ue.getOwnMetadataKeys,or=ue.deleteMetadata,an=new J;return{isProviderFor:function(Ft,dt){var Ze=an.get(Ft);return!(ut(Ze)||!Ze.has(dt))||!!Jt(Ft,dt).length&&(ut(Ze)&&(Ze=new X,an.set(Ft,Ze)),Ze.add(dt),!0)},OrdinaryDefineOwnMetadata:_e,OrdinaryHasOwnMetadata:Oe,OrdinaryGetOwnMetadata:$e,OrdinaryOwnMetadataKeys:Jt,OrdinaryDeleteMetadata:or}}function ca(ue,_e,Oe){var $e=ee.getProvider(ue,_e);if(!ut($e))return $e;if(Oe){if(ee.setProvider(ue,_e,ce))return ce;throw new Error("Illegal state.")}}function Tl(){var ue={},_e=[],Oe=function(){function an(Ft,dt,Ze){this._index=0,this._keys=Ft,this._values=dt,this._selector=Ze}return an.prototype["@@iterator"]=function(){return this},an.prototype[C]=function(){return this},an.prototype.next=function(){var Ft=this._index;if(Ft>=0&&Ft<this._keys.length){var dt=this._selector(this._keys[Ft],this._values[Ft]);return Ft+1>=this._keys.length?(this._index=-1,this._keys=_e,this._values=_e):this._index++,{value:dt,done:!1}}return{value:void 0,done:!0}},an.prototype.throw=function(Ft){throw this._index>=0&&(this._index=-1,this._keys=_e,this._values=_e),Ft},an.prototype.return=function(Ft){return this._index>=0&&(this._index=-1,this._keys=_e,this._values=_e),{value:Ft,done:!0}},an}();return function(){function an(){this._keys=[],this._values=[],this._cacheKey=ue,this._cacheIndex=-2}return Object.defineProperty(an.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),an.prototype.has=function(Ft){return this._find(Ft,!1)>=0},an.prototype.get=function(Ft){var dt=this._find(Ft,!1);return dt>=0?this._values[dt]:void 0},an.prototype.set=function(Ft,dt){var Ze=this._find(Ft,!0);return this._values[Ze]=dt,this},an.prototype.delete=function(Ft){var dt=this._find(Ft,!1);if(dt>=0){for(var Ze=this._keys.length,pt=dt+1;pt<Ze;pt++)this._keys[pt-1]=this._keys[pt],this._values[pt-1]=this._values[pt];return this._keys.length--,this._values.length--,Sn(Ft,this._cacheKey)&&(this._cacheKey=ue,this._cacheIndex=-2),!0}return!1},an.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ue,this._cacheIndex=-2},an.prototype.keys=function(){return new Oe(this._keys,this._values,$e)},an.prototype.values=function(){return new Oe(this._keys,this._values,Jt)},an.prototype.entries=function(){return new Oe(this._keys,this._values,or)},an.prototype["@@iterator"]=function(){return this.entries()},an.prototype[C]=function(){return this.entries()},an.prototype._find=function(Ft,dt){if(!Sn(this._cacheKey,Ft)){this._cacheIndex=-1;for(var Ze=0;Ze<this._keys.length;Ze++)if(Sn(this._keys[Ze],Ft)){this._cacheIndex=Ze;break}}return this._cacheIndex<0&&dt&&(this._cacheIndex=this._keys.length,this._keys.push(Ft),this._values.push(void 0)),this._cacheIndex},an}();function $e(an,Ft){return an}function Jt(an,Ft){return Ft}function or(an,Ft){return[an,Ft]}}function Rl(){return function(){function ue(){this._map=new q}return Object.defineProperty(ue.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ue.prototype.has=function(_e){return this._map.has(_e)},ue.prototype.add=function(_e){return this._map.set(_e,_e),this},ue.prototype.delete=function(_e){return this._map.delete(_e)},ue.prototype.clear=function(){this._map.clear()},ue.prototype.keys=function(){return this._map.keys()},ue.prototype.values=function(){return this._map.keys()},ue.prototype.entries=function(){return this._map.entries()},ue.prototype["@@iterator"]=function(){return this.keys()},ue.prototype[C]=function(){return this.keys()},ue}()}function md(){var ue=16,_e=V.create(),Oe=$e();return function(){function dt(){this._key=$e()}return dt.prototype.has=function(Ze){var pt=Jt(Ze,!1);return pt!==void 0&&V.has(pt,this._key)},dt.prototype.get=function(Ze){var pt=Jt(Ze,!1);return pt!==void 0?V.get(pt,this._key):void 0},dt.prototype.set=function(Ze,pt){return Jt(Ze,!0)[this._key]=pt,this},dt.prototype.delete=function(Ze){var pt=Jt(Ze,!1);return pt!==void 0&&delete pt[this._key]},dt.prototype.clear=function(){this._key=$e()},dt}();function $e(){var dt;do dt="@@WeakMap@@"+Ft();while(V.has(_e,dt));return _e[dt]=!0,dt}function Jt(dt,Ze){if(!w.call(dt,Oe)){if(!Ze)return;Object.defineProperty(dt,Oe,{value:V.create()})}return dt[Oe]}function or(dt,Ze){for(var pt=0;pt<Ze;++pt)dt[pt]=255*Math.random()|0;return dt}function an(dt){if(typeof Uint8Array=="function"){var Ze=new Uint8Array(dt);return typeof crypto<"u"?crypto.getRandomValues(Ze):typeof msCrypto<"u"?msCrypto.getRandomValues(Ze):or(Ze,dt),Ze}return or(new Array(dt),dt)}function Ft(){var dt=an(ue);dt[6]=79&dt[6]|64,dt[8]=191&dt[8]|128;for(var Ze="",pt=0;pt<ue;++pt){var Ct=dt[pt];pt!==4&&pt!==6&&pt!==8||(Ze+="-"),Ct<16&&(Ze+="0"),Ze+=Ct.toString(16).toLowerCase()}return Ze}}function Nc(ue){return ue.__=void 0,delete ue.__,ue}x("decorate",xe),x("metadata",Se),x("defineMetadata",ve),x("hasMetadata",Y),x("hasOwnMetadata",Q),x("getMetadata",ne),x("getOwnMetadata",fe),x("getMetadataKeys",Te),x("getOwnMetadataKeys",He),x("deleteMetadata",Le)}(m,p),p.Reflect===void 0&&(p.Reflect=f)})()})(l||(l={}))}},r={};function i(s){var c=r[s];if(c!==void 0)return c.exports;var a=r[s]={id:s,loaded:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=s=>{var c=s&&s.__esModule?()=>s.default:()=>s;return i.d(c,{a:c}),c},i.d=(s,c)=>{for(var a in c)i.o(c,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:c[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,c)=>Object.prototype.hasOwnProperty.call(s,c),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var o={};return(()=>{i.r(o),i.d(o,{BASIC_FULL_HD_LANDSCAPE:()=>Tm,BASIC_FULL_HD_PORTRAIT:()=>Jn,BASIC_LANDSCAPE:()=>Sd,BASIC_PORTRAIT:()=>Cm,BroadcastClientError:()=>Et,BroadcastClientEvents:()=>jr,ConnectionState:()=>gt,Errors:()=>f,InitialLayerPreference:()=>Hl,JitterBufferMinDelay:()=>_i,LOG_LEVEL:()=>Cn,LocalStageStream:()=>k0,LocalStageStreamEvents:()=>gs,LogLevels:()=>Cn,RemoteStageStream:()=>ef,RemoteStageStreamEvents:()=>eu,STAGE_MAX_AUDIO_BITRATE_KBPS:()=>Uc,STAGE_MAX_AUDIO_BITRATE_KBPS_DEFAULT:()=>qm,STAGE_MAX_BITRATE:()=>us,STAGE_MAX_FRAMERATE:()=>Qa,STAGE_MIN_AUDIO_BITRATE_KBPS:()=>Md,STAGE_MIN_BITRATE:()=>Fc,STAGE_MIN_FRAMERATE:()=>Mh,STANDARD_LANDSCAPE:()=>Gn,STANDARD_PORTRAIT:()=>Rm,Stage:()=>Jh,StageConnectionState:()=>Wn,StageErrorCategory:()=>ya,StageErrorCode:()=>On,StageEvents:()=>In,StageLeftReason:()=>qn,StageParticipantPublishState:()=>Or,StageParticipantSubscribeState:()=>ci,StageStream:()=>Eg,StageStreamLayerSelectedReason:()=>tu,StreamType:()=>me,SubscribeType:()=>ki,__version:()=>Ul,create:()=>Fm,default:()=>Pr,isSupported:()=>fo});var s={};i.r(s),i.d(s,{fixNegotiationNeeded:()=>Q,shimAddTrackRemoveTrack:()=>ve,shimAddTrackRemoveTrackWithNative:()=>Se,shimGetDisplayMedia:()=>X,shimGetSendersWithDtmf:()=>ee,shimGetStats:()=>ce,shimGetUserMedia:()=>q,shimMediaStream:()=>J,shimOnTrack:()=>G,shimPeerConnection:()=>Y,shimSenderReceiverGetStats:()=>xe});var c={};i.r(c),i.d(c,{shimAddTransceiver:()=>lt,shimCreateAnswer:()=>Lt,shimCreateOffer:()=>Xt,shimGetDisplayMedia:()=>fe,shimGetParameters:()=>Mt,shimGetUserMedia:()=>ne,shimOnTrack:()=>Te,shimPeerConnection:()=>He,shimRTCDataChannel:()=>Ye,shimReceiverGetStats:()=>bt,shimRemoveStream:()=>Gt,shimSenderGetStats:()=>Le});var a={};i.r(a),i.d(a,{shimAudioContext:()=>Ce,shimCallbacksAPI:()=>Qn,shimConstraints:()=>Ar,shimCreateOfferLegacy:()=>pe,shimGetUserMedia:()=>ut,shimLocalStreamsAPI:()=>qt,shimRTCIceServerUrls:()=>Mi,shimRemoteStreamsAPI:()=>Fn,shimTrackEventTransceiver:()=>Z});var l={};i.r(l),i.d(l,{removeExtmapAllowMixed:()=>Sn,shimAddIceCandidateNullOrEmpty:()=>Qr,shimConnectionState:()=>St,shimMaxMessageSize:()=>De,shimParameterlessSetLocalDescription:()=>fi,shimRTCIceCandidate:()=>de,shimRTCIceCandidateRelayProtocol:()=>Re,shimSendThrowTypeError:()=>nt});var f={};i.r(f),i.d(f,{ADD_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>Nc,ADD_DEVICE_COMPOSITION_MISSING_ERROR:()=>md,ADD_DEVICE_CONSTRAINTS_ERROR:()=>Oe,ADD_DEVICE_DEVICE_ERROR:()=>Tl,ADD_DEVICE_NAME_EXISTS_ERROR:()=>Rl,ADD_DEVICE_NAME_MISSING_ERROR:()=>ue,ADD_DEVICE_UNSUPPORTED:()=>_e,BROADCAST_CONFIGURATION_ERROR:()=>Xn,BROADCAST_ERROR:()=>uh,CAMERA_ERROR:()=>pd,CLIENT_INVALID_ERROR:()=>dh,EXCHANGE_POSITION_DEVICE_NOT_FOUND_ERROR:()=>dt,FAILED_TO_ADD_IMAGE_ERROR:()=>Ze,INGEST_ENDPOINT_TYPE_ERROR:()=>Li,INGEST_ENDPOINT_URL_ERROR:()=>gd,INPUT_ERROR:()=>ca,INVALID_STREAM_KEY:()=>_n,LOGGER_TYPE_ERROR:()=>_m,LOG_LEVEL_TYPE_ERROR:()=>vd,NETWORK_RECONNECT_CONFIGURATION_ERROR:()=>wm,NETWORK_RECONNECT_CONFIGURATION_INVALID_TIMEOUT_ERROR:()=>fh,PEER_CONNECTION_ERROR:()=>Ct,PEER_SETUP_ERROR:()=>pt,REMOVE_DEVICE_NOT_FOUND_ERROR:()=>$e,REMOVE_IMAGE_NOT_FOUND_ERROR:()=>Jt,STAGE_TOKEN_TYPE_ERROR:()=>kl,STAGE_WHIP_OVERRIDE_ERROR:()=>Fy,STREAM_CONFIGURATION_ERROR:()=>Un,STREAM_KEY_INVALID_CHAR_ERROR:()=>hh,UPDATE_VIDEO_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>an,UPDATE_VIDEO_DEVICE_COMPOSITION_MISSING_ERROR:()=>or,UPDATE_VIDEO_DEVICE_COMPOSITION_NAME_NOT_FOUND_ERROR:()=>Ft});var p={};i.r(p),i.d(p,{BASIC_FULL_HD_LANDSCAPE:()=>Tm,BASIC_FULL_HD_PORTRAIT:()=>Jn,BASIC_LANDSCAPE:()=>Sd,BASIC_PORTRAIT:()=>Cm,BroadcastClientError:()=>Et,BroadcastClientEvents:()=>jr,ConnectionState:()=>gt,Errors:()=>f,LOG_LEVEL:()=>Cn,LogLevels:()=>Cn,STANDARD_LANDSCAPE:()=>Gn,STANDARD_PORTRAIT:()=>Rm,__version:()=>Ul,create:()=>Fm,isSupported:()=>fo});let m=!0,E=!0;function x(S,h,g){const b=S.match(h);return b&&b.length>=g&&parseInt(b[g],10)}function y(S,h,g){if(!S.RTCPeerConnection)return;const b=S.RTCPeerConnection.prototype,T=b.addEventListener;b.addEventListener=function(N,M){if(N!==h)return T.apply(this,arguments);const L=A=>{const F=g(A);F&&(M.handleEvent?M.handleEvent(F):M(F))};return this._eventMap=this._eventMap||{},this._eventMap[h]||(this._eventMap[h]=new Map),this._eventMap[h].set(M,L),T.apply(this,[N,L])};const O=b.removeEventListener;b.removeEventListener=function(N,M){if(N!==h||!this._eventMap||!this._eventMap[h])return O.apply(this,arguments);if(!this._eventMap[h].has(M))return O.apply(this,arguments);const L=this._eventMap[h].get(M);return this._eventMap[h].delete(M),this._eventMap[h].size===0&&delete this._eventMap[h],Object.keys(this._eventMap).length===0&&delete this._eventMap,O.apply(this,[N,L])},Object.defineProperty(b,"on"+h,{get(){return this["_on"+h]},set(N){this["_on"+h]&&(this.removeEventListener(h,this["_on"+h]),delete this["_on"+h]),N&&this.addEventListener(h,this["_on"+h]=N)},enumerable:!0,configurable:!0})}function w(S){return typeof S!="boolean"?new Error("Argument type: "+typeof S+". Please use a boolean."):(m=S,S?"adapter.js logging disabled":"adapter.js logging enabled")}function R(S){return typeof S!="boolean"?new Error("Argument type: "+typeof S+". Please use a boolean."):(E=!S,"adapter.js deprecation warnings "+(S?"disabled":"enabled"))}function _(){if(typeof window=="object"){if(m)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function C(S,h){E&&console.warn(S+" is deprecated, please use "+h+" instead.")}function I(S){return Object.prototype.toString.call(S)==="[object Object]"}function j(S){return I(S)?Object.keys(S).reduce(function(h,g){const b=I(S[g]),T=b?j(S[g]):S[g],O=b&&!Object.keys(T).length;return T===void 0||O?h:Object.assign(h,{[g]:T})},{}):S}function U(S,h,g){h&&!g.has(h.id)&&(g.set(h.id,h),Object.keys(h).forEach(b=>{b.endsWith("Id")?U(S,S.get(h[b]),g):b.endsWith("Ids")&&h[b].forEach(T=>{U(S,S.get(T),g)})}))}function V(S,h,g){const b=g?"outbound-rtp":"inbound-rtp",T=new Map;if(h===null)return T;const O=[];return S.forEach(N=>{N.type==="track"&&N.trackIdentifier===h.id&&O.push(N)}),O.forEach(N=>{S.forEach(M=>{M.type===b&&M.trackId===N.id&&U(S,M,T)})}),T}const z=_;function q(S,h){const g=S&&S.navigator;if(!g.mediaDevices)return;const b=function(N){if(typeof N!="object"||N.mandatory||N.optional)return N;const M={};return Object.keys(N).forEach(L=>{if(L==="require"||L==="advanced"||L==="mediaSource")return;const A=typeof N[L]=="object"?N[L]:{ideal:N[L]};A.exact!==void 0&&typeof A.exact=="number"&&(A.min=A.max=A.exact);const F=function(B,W){return B?B+W.charAt(0).toUpperCase()+W.slice(1):W==="deviceId"?"sourceId":W};if(A.ideal!==void 0){M.optional=M.optional||[];let B={};typeof A.ideal=="number"?(B[F("min",L)]=A.ideal,M.optional.push(B),B={},B[F("max",L)]=A.ideal,M.optional.push(B)):(B[F("",L)]=A.ideal,M.optional.push(B))}A.exact!==void 0&&typeof A.exact!="number"?(M.mandatory=M.mandatory||{},M.mandatory[F("",L)]=A.exact):["min","max"].forEach(B=>{A[B]!==void 0&&(M.mandatory=M.mandatory||{},M.mandatory[F(B,L)]=A[B])})}),N.advanced&&(M.optional=(M.optional||[]).concat(N.advanced)),M},T=function(N,M){if(h.version>=61)return M(N);if((N=JSON.parse(JSON.stringify(N)))&&typeof N.audio=="object"){const L=function(A,F,B){F in A&&!(B in A)&&(A[B]=A[F],delete A[F])};L((N=JSON.parse(JSON.stringify(N))).audio,"autoGainControl","googAutoGainControl"),L(N.audio,"noiseSuppression","googNoiseSuppression"),N.audio=b(N.audio)}if(N&&typeof N.video=="object"){let L=N.video.facingMode;L=L&&(typeof L=="object"?L:{ideal:L});const A=h.version<66;if(L&&(L.exact==="user"||L.exact==="environment"||L.ideal==="user"||L.ideal==="environment")&&(!g.mediaDevices.getSupportedConstraints||!g.mediaDevices.getSupportedConstraints().facingMode||A)){let F;if(delete N.video.facingMode,L.exact==="environment"||L.ideal==="environment"?F=["back","rear"]:L.exact!=="user"&&L.ideal!=="user"||(F=["front"]),F)return g.mediaDevices.enumerateDevices().then(B=>{let W=(B=B.filter(ie=>ie.kind==="videoinput")).find(ie=>F.some(be=>ie.label.toLowerCase().includes(be)));return!W&&B.length&&F.includes("back")&&(W=B[B.length-1]),W&&(N.video.deviceId=L.exact?{exact:W.deviceId}:{ideal:W.deviceId}),N.video=b(N.video),z("chrome: "+JSON.stringify(N)),M(N)})}N.video=b(N.video)}return z("chrome: "+JSON.stringify(N)),M(N)},O=function(N){return h.version>=64?N:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[N.name]||N.name,message:N.message,constraint:N.constraint||N.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(g.getUserMedia=(function(N,M,L){T(N,A=>{g.webkitGetUserMedia(A,M,F=>{L&&L(O(F))})})}).bind(g),g.mediaDevices.getUserMedia){const N=g.mediaDevices.getUserMedia.bind(g.mediaDevices);g.mediaDevices.getUserMedia=function(M){return T(M,L=>N(L).then(A=>{if(L.audio&&!A.getAudioTracks().length||L.video&&!A.getVideoTracks().length)throw A.getTracks().forEach(F=>{F.stop()}),new DOMException("","NotFoundError");return A},A=>Promise.reject(O(A))))}}}function X(S,h){S.navigator.mediaDevices&&"getDisplayMedia"in S.navigator.mediaDevices||S.navigator.mediaDevices&&(typeof h=="function"?S.navigator.mediaDevices.getDisplayMedia=function(g){return h(g).then(b=>{const T=g.video&&g.video.width,O=g.video&&g.video.height,N=g.video&&g.video.frameRate;return g.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:b,maxFrameRate:N||3}},T&&(g.video.mandatory.maxWidth=T),O&&(g.video.mandatory.maxHeight=O),S.navigator.mediaDevices.getUserMedia(g)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function J(S){S.MediaStream=S.MediaStream||S.webkitMediaStream}function G(S){if(typeof S=="object"&&S.RTCPeerConnection&&!("ontrack"in S.RTCPeerConnection.prototype)){Object.defineProperty(S.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(g){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=g)},enumerable:!0,configurable:!0});const h=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=g=>{g.stream.addEventListener("addtrack",b=>{let T;T=S.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.track.id):{track:b.track};const O=new Event("track");O.track=b.track,O.receiver=T,O.transceiver={receiver:T},O.streams=[g.stream],this.dispatchEvent(O)}),g.stream.getTracks().forEach(b=>{let T;T=S.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.id):{track:b};const O=new Event("track");O.track=b,O.receiver=T,O.transceiver={receiver:T},O.streams=[g.stream],this.dispatchEvent(O)})},this.addEventListener("addstream",this._ontrackpoly)),h.apply(this,arguments)}}else y(S,"track",h=>(h.transceiver||Object.defineProperty(h,"transceiver",{value:{receiver:h.receiver}}),h))}function ee(S){if(typeof S=="object"&&S.RTCPeerConnection&&!("getSenders"in S.RTCPeerConnection.prototype)&&"createDTMFSender"in S.RTCPeerConnection.prototype){const h=function(T,O){return{track:O,get dtmf(){return this._dtmf===void 0&&(O.kind==="audio"?this._dtmf=T.createDTMFSender(O):this._dtmf=null),this._dtmf},_pc:T}};if(!S.RTCPeerConnection.prototype.getSenders){S.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const T=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addTrack=function(N,M){let L=T.apply(this,arguments);return L||(L=h(this,N),this._senders.push(L)),L};const O=S.RTCPeerConnection.prototype.removeTrack;S.RTCPeerConnection.prototype.removeTrack=function(N){O.apply(this,arguments);const M=this._senders.indexOf(N);M!==-1&&this._senders.splice(M,1)}}const g=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(T){this._senders=this._senders||[],g.apply(this,[T]),T.getTracks().forEach(O=>{this._senders.push(h(this,O))})};const b=S.RTCPeerConnection.prototype.removeStream;S.RTCPeerConnection.prototype.removeStream=function(T){this._senders=this._senders||[],b.apply(this,[T]),T.getTracks().forEach(O=>{const N=this._senders.find(M=>M.track===O);N&&this._senders.splice(this._senders.indexOf(N),1)})}}else if(typeof S=="object"&&S.RTCPeerConnection&&"getSenders"in S.RTCPeerConnection.prototype&&"createDTMFSender"in S.RTCPeerConnection.prototype&&S.RTCRtpSender&&!("dtmf"in S.RTCRtpSender.prototype)){const h=S.RTCPeerConnection.prototype.getSenders;S.RTCPeerConnection.prototype.getSenders=function(){const g=h.apply(this,[]);return g.forEach(b=>b._pc=this),g},Object.defineProperty(S.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ce(S){if(!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){const[g,b,T]=arguments;if(arguments.length>0&&typeof g=="function")return h.apply(this,arguments);if(h.length===0&&(arguments.length===0||typeof g!="function"))return h.apply(this,[]);const O=function(M){const L={};return M.result().forEach(A=>{const F={id:A.id,timestamp:A.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[A.type]||A.type};A.names().forEach(B=>{F[B]=A.stat(B)}),L[F.id]=F}),L},N=function(M){return new Map(Object.keys(M).map(L=>[L,M[L]]))};if(arguments.length>=2){const M=function(L){b(N(O(L)))};return h.apply(this,[M,g])}return new Promise((M,L)=>{h.apply(this,[function(A){M(N(O(A)))},L])}).then(b,T)}}function xe(S){if(!(typeof S=="object"&&S.RTCPeerConnection&&S.RTCRtpSender&&S.RTCRtpReceiver))return;if(!("getStats"in S.RTCRtpSender.prototype)){const g=S.RTCPeerConnection.prototype.getSenders;g&&(S.RTCPeerConnection.prototype.getSenders=function(){const T=g.apply(this,[]);return T.forEach(O=>O._pc=this),T});const b=S.RTCPeerConnection.prototype.addTrack;b&&(S.RTCPeerConnection.prototype.addTrack=function(){const T=b.apply(this,arguments);return T._pc=this,T}),S.RTCRtpSender.prototype.getStats=function(){const T=this;return this._pc.getStats().then(O=>V(O,T.track,!0))}}if(!("getStats"in S.RTCRtpReceiver.prototype)){const g=S.RTCPeerConnection.prototype.getReceivers;g&&(S.RTCPeerConnection.prototype.getReceivers=function(){const b=g.apply(this,[]);return b.forEach(T=>T._pc=this),b}),y(S,"track",b=>(b.receiver._pc=b.srcElement,b)),S.RTCRtpReceiver.prototype.getStats=function(){const b=this;return this._pc.getStats().then(T=>V(T,b.track,!1))}}if(!("getStats"in S.RTCRtpSender.prototype)||!("getStats"in S.RTCRtpReceiver.prototype))return;const h=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof S.MediaStreamTrack){const g=arguments[0];let b,T,O;return this.getSenders().forEach(N=>{N.track===g&&(b?O=!0:b=N)}),this.getReceivers().forEach(N=>(N.track===g&&(T?O=!0:T=N),N.track===g)),O||b&&T?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):b?b.getStats():T?T.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return h.apply(this,arguments)}}function Se(S){S.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(O=>this._shimmedLocalStreams[O][0])};const h=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addTrack=function(O,N){if(!N)return h.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const M=h.apply(this,arguments);return this._shimmedLocalStreams[N.id]?this._shimmedLocalStreams[N.id].indexOf(M)===-1&&this._shimmedLocalStreams[N.id].push(M):this._shimmedLocalStreams[N.id]=[N,M],M};const g=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(O){this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(L=>{if(this.getSenders().find(A=>A.track===L))throw new DOMException("Track already exists.","InvalidAccessError")});const N=this.getSenders();g.apply(this,arguments);const M=this.getSenders().filter(L=>N.indexOf(L)===-1);this._shimmedLocalStreams[O.id]=[O].concat(M)};const b=S.RTCPeerConnection.prototype.removeStream;S.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],b.apply(this,arguments)};const T=S.RTCPeerConnection.prototype.removeTrack;S.RTCPeerConnection.prototype.removeTrack=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(N=>{const M=this._shimmedLocalStreams[N].indexOf(O);M!==-1&&this._shimmedLocalStreams[N].splice(M,1),this._shimmedLocalStreams[N].length===1&&delete this._shimmedLocalStreams[N]}),T.apply(this,arguments)}}function ve(S,h){if(!S.RTCPeerConnection)return;if(S.RTCPeerConnection.prototype.addTrack&&h.version>=65)return Se(S);const g=S.RTCPeerConnection.prototype.getLocalStreams;S.RTCPeerConnection.prototype.getLocalStreams=function(){const L=g.apply(this);return this._reverseStreams=this._reverseStreams||{},L.map(A=>this._reverseStreams[A.id])};const b=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(L){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},L.getTracks().forEach(A=>{if(this.getSenders().find(F=>F.track===A))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[L.id]){const A=new S.MediaStream(L.getTracks());this._streams[L.id]=A,this._reverseStreams[A.id]=L,L=A}b.apply(this,[L])};const T=S.RTCPeerConnection.prototype.removeStream;function O(L,A){let F=A.sdp;return Object.keys(L._reverseStreams||[]).forEach(B=>{const W=L._reverseStreams[B],ie=L._streams[W.id];F=F.replace(new RegExp(ie.id,"g"),W.id)}),new RTCSessionDescription({type:A.type,sdp:F})}S.RTCPeerConnection.prototype.removeStream=function(L){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},T.apply(this,[this._streams[L.id]||L]),delete this._reverseStreams[this._streams[L.id]?this._streams[L.id].id:L.id],delete this._streams[L.id]},S.RTCPeerConnection.prototype.addTrack=function(L,A){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const F=[].slice.call(arguments,1);if(F.length!==1||!F[0].getTracks().find(W=>W===L))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(W=>W.track===L))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const B=this._streams[A.id];if(B)B.addTrack(L),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const W=new S.MediaStream([L]);this._streams[A.id]=W,this._reverseStreams[W.id]=A,this.addStream(W)}return this.getSenders().find(W=>W.track===L)},["createOffer","createAnswer"].forEach(function(L){const A=S.RTCPeerConnection.prototype[L],F={[L](){const B=arguments;return arguments.length&&typeof arguments[0]=="function"?A.apply(this,[W=>{const ie=O(this,W);B[0].apply(null,[ie])},W=>{B[1]&&B[1].apply(null,W)},arguments[2]]):A.apply(this,arguments).then(W=>O(this,W))}};S.RTCPeerConnection.prototype[L]=F[L]});const N=S.RTCPeerConnection.prototype.setLocalDescription;S.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(L,A){let F=A.sdp;return Object.keys(L._reverseStreams||[]).forEach(B=>{const W=L._reverseStreams[B],ie=L._streams[W.id];F=F.replace(new RegExp(W.id,"g"),ie.id)}),new RTCSessionDescription({type:A.type,sdp:F})}(this,arguments[0]),N.apply(this,arguments)):N.apply(this,arguments)};const M=Object.getOwnPropertyDescriptor(S.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(S.RTCPeerConnection.prototype,"localDescription",{get(){const L=M.get.apply(this);return L.type===""?L:O(this,L)}}),S.RTCPeerConnection.prototype.removeTrack=function(L){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!L._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(L._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let A;this._streams=this._streams||{},Object.keys(this._streams).forEach(F=>{this._streams[F].getTracks().find(B=>L.track===B)&&(A=this._streams[F])}),A&&(A.getTracks().length===1?this.removeStream(this._reverseStreams[A.id]):A.removeTrack(L.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Y(S,h){!S.RTCPeerConnection&&S.webkitRTCPeerConnection&&(S.RTCPeerConnection=S.webkitRTCPeerConnection),S.RTCPeerConnection&&h.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(g){const b=S.RTCPeerConnection.prototype[g],T={[g](){return arguments[0]=new(g==="addIceCandidate"?S.RTCIceCandidate:S.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};S.RTCPeerConnection.prototype[g]=T[g]})}function Q(S,h){y(S,"negotiationneeded",g=>{const b=g.target;if(!(h.version<72||b.getConfiguration&&b.getConfiguration().sdpSemantics==="plan-b")||b.signalingState==="stable")return g})}function ne(S,h){const g=S&&S.navigator,b=S&&S.MediaStreamTrack;if(g.getUserMedia=function(T,O,N){C("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),g.mediaDevices.getUserMedia(T).then(O,N)},!(h.version>55&&"autoGainControl"in g.mediaDevices.getSupportedConstraints())){const T=function(N,M,L){M in N&&!(L in N)&&(N[L]=N[M],delete N[M])},O=g.mediaDevices.getUserMedia.bind(g.mediaDevices);if(g.mediaDevices.getUserMedia=function(N){return typeof N=="object"&&typeof N.audio=="object"&&(N=JSON.parse(JSON.stringify(N)),T(N.audio,"autoGainControl","mozAutoGainControl"),T(N.audio,"noiseSuppression","mozNoiseSuppression")),O(N)},b&&b.prototype.getSettings){const N=b.prototype.getSettings;b.prototype.getSettings=function(){const M=N.apply(this,arguments);return T(M,"mozAutoGainControl","autoGainControl"),T(M,"mozNoiseSuppression","noiseSuppression"),M}}if(b&&b.prototype.applyConstraints){const N=b.prototype.applyConstraints;b.prototype.applyConstraints=function(M){return this.kind==="audio"&&typeof M=="object"&&(M=JSON.parse(JSON.stringify(M)),T(M,"autoGainControl","mozAutoGainControl"),T(M,"noiseSuppression","mozNoiseSuppression")),N.apply(this,[M])}}}}function fe(S,h){S.navigator.mediaDevices&&"getDisplayMedia"in S.navigator.mediaDevices||S.navigator.mediaDevices&&(S.navigator.mediaDevices.getDisplayMedia=function(g){if(!g||!g.video){const b=new DOMException("getDisplayMedia without video constraints is undefined");return b.name="NotFoundError",b.code=8,Promise.reject(b)}return g.video===!0?g.video={mediaSource:h}:g.video.mediaSource=h,S.navigator.mediaDevices.getUserMedia(g)})}function Te(S){typeof S=="object"&&S.RTCTrackEvent&&"receiver"in S.RTCTrackEvent.prototype&&!("transceiver"in S.RTCTrackEvent.prototype)&&Object.defineProperty(S.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function He(S,h){if(typeof S!="object"||!S.RTCPeerConnection&&!S.mozRTCPeerConnection)return;!S.RTCPeerConnection&&S.mozRTCPeerConnection&&(S.RTCPeerConnection=S.mozRTCPeerConnection),h.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(T){const O=S.RTCPeerConnection.prototype[T],N={[T](){return arguments[0]=new(T==="addIceCandidate"?S.RTCIceCandidate:S.RTCSessionDescription)(arguments[0]),O.apply(this,arguments)}};S.RTCPeerConnection.prototype[T]=N[T]});const g={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},b=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){const[T,O,N]=arguments;return b.apply(this,[T||null]).then(M=>{if(h.version<53&&!O)try{M.forEach(L=>{L.type=g[L.type]||L.type})}catch(L){if(L.name!=="TypeError")throw L;M.forEach((A,F)=>{M.set(F,Object.assign({},A,{type:g[A.type]||A.type}))})}return M}).then(O,N)}}function Le(S){if(typeof S!="object"||!S.RTCPeerConnection||!S.RTCRtpSender||S.RTCRtpSender&&"getStats"in S.RTCRtpSender.prototype)return;const h=S.RTCPeerConnection.prototype.getSenders;h&&(S.RTCPeerConnection.prototype.getSenders=function(){const b=h.apply(this,[]);return b.forEach(T=>T._pc=this),b});const g=S.RTCPeerConnection.prototype.addTrack;g&&(S.RTCPeerConnection.prototype.addTrack=function(){const b=g.apply(this,arguments);return b._pc=this,b}),S.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function bt(S){if(typeof S!="object"||!S.RTCPeerConnection||!S.RTCRtpSender||S.RTCRtpSender&&"getStats"in S.RTCRtpReceiver.prototype)return;const h=S.RTCPeerConnection.prototype.getReceivers;h&&(S.RTCPeerConnection.prototype.getReceivers=function(){const g=h.apply(this,[]);return g.forEach(b=>b._pc=this),g}),y(S,"track",g=>(g.receiver._pc=g.srcElement,g)),S.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Gt(S){S.RTCPeerConnection&&!("removeStream"in S.RTCPeerConnection.prototype)&&(S.RTCPeerConnection.prototype.removeStream=function(h){C("removeStream","removeTrack"),this.getSenders().forEach(g=>{g.track&&h.getTracks().includes(g.track)&&this.removeTrack(g)})})}function Ye(S){S.DataChannel&&!S.RTCDataChannel&&(S.RTCDataChannel=S.DataChannel)}function lt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.addTransceiver;h&&(S.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let g=arguments[1]&&arguments[1].sendEncodings;g===void 0&&(g=[]),g=[...g];const b=g.length>0;b&&g.forEach(O=>{if("rid"in O&&!/^[a-z0-9]{0,16}$/i.test(O.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in O&&!(parseFloat(O.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in O&&!(parseFloat(O.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const T=h.apply(this,arguments);if(b){const{sender:O}=T,N=O.getParameters();(!("encodings"in N)||N.encodings.length===1&&Object.keys(N.encodings[0]).length===0)&&(N.encodings=g,O.sendEncodings=g,this.setParametersPromises.push(O.setParameters(N).then(()=>{delete O.sendEncodings}).catch(()=>{delete O.sendEncodings})))}return T})}function Mt(S){if(typeof S!="object"||!S.RTCRtpSender)return;const h=S.RTCRtpSender.prototype.getParameters;h&&(S.RTCRtpSender.prototype.getParameters=function(){const g=h.apply(this,arguments);return"encodings"in g||(g.encodings=[].concat(this.sendEncodings||[{}])),g})}function Xt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.createOffer;S.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>h.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):h.apply(this,arguments)}}function Lt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.createAnswer;S.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>h.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):h.apply(this,arguments)}}function qt(S){if(typeof S=="object"&&S.RTCPeerConnection){if("getLocalStreams"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in S.RTCPeerConnection.prototype)){const h=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addStream=function(g){this._localStreams||(this._localStreams=[]),this._localStreams.includes(g)||this._localStreams.push(g),g.getAudioTracks().forEach(b=>h.call(this,b,g)),g.getVideoTracks().forEach(b=>h.call(this,b,g))},S.RTCPeerConnection.prototype.addTrack=function(g,...b){return b&&b.forEach(T=>{this._localStreams?this._localStreams.includes(T)||this._localStreams.push(T):this._localStreams=[T]}),h.apply(this,arguments)}}"removeStream"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.removeStream=function(h){this._localStreams||(this._localStreams=[]);const g=this._localStreams.indexOf(h);if(g===-1)return;this._localStreams.splice(g,1);const b=h.getTracks();this.getSenders().forEach(T=>{b.includes(T.track)&&this.removeTrack(T)})})}}function Fn(S){if(typeof S=="object"&&S.RTCPeerConnection&&("getRemoteStreams"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in S.RTCPeerConnection.prototype))){Object.defineProperty(S.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(g){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=g),this.addEventListener("track",this._onaddstreampoly=b=>{b.streams.forEach(T=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(T))return;this._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,this.dispatchEvent(O)})})}});const h=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){const g=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(T=>{if(g._remoteStreams||(g._remoteStreams=[]),g._remoteStreams.indexOf(T)>=0)return;g._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,g.dispatchEvent(O)})}),h.apply(g,arguments)}}}function Qn(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype,g=h.createOffer,b=h.createAnswer,T=h.setLocalDescription,O=h.setRemoteDescription,N=h.addIceCandidate;h.createOffer=function(L,A){const F=arguments.length>=2?arguments[2]:arguments[0],B=g.apply(this,[F]);return A?(B.then(L,A),Promise.resolve()):B},h.createAnswer=function(L,A){const F=arguments.length>=2?arguments[2]:arguments[0],B=b.apply(this,[F]);return A?(B.then(L,A),Promise.resolve()):B};let M=function(L,A,F){const B=T.apply(this,[L]);return F?(B.then(A,F),Promise.resolve()):B};h.setLocalDescription=M,M=function(L,A,F){const B=O.apply(this,[L]);return F?(B.then(A,F),Promise.resolve()):B},h.setRemoteDescription=M,M=function(L,A,F){const B=N.apply(this,[L]);return F?(B.then(A,F),Promise.resolve()):B},h.addIceCandidate=M}function ut(S){const h=S&&S.navigator;if(h.mediaDevices&&h.mediaDevices.getUserMedia){const g=h.mediaDevices,b=g.getUserMedia.bind(g);h.mediaDevices.getUserMedia=T=>b(Ar(T))}!h.getUserMedia&&h.mediaDevices&&h.mediaDevices.getUserMedia&&(h.getUserMedia=(function(g,b,T){h.mediaDevices.getUserMedia(g).then(b,T)}).bind(h))}function Ar(S){return S&&S.video!==void 0?Object.assign({},S,{video:j(S.video)}):S}function Mi(S){if(!S.RTCPeerConnection)return;const h=S.RTCPeerConnection;S.RTCPeerConnection=function(g,b){if(g&&g.iceServers){const T=[];for(let O=0;O<g.iceServers.length;O++){let N=g.iceServers[O];N.urls===void 0&&N.url?(C("RTCIceServer.url","RTCIceServer.urls"),N=JSON.parse(JSON.stringify(N)),N.urls=N.url,delete N.url,T.push(N)):T.push(g.iceServers[O])}g.iceServers=T}return new h(g,b)},S.RTCPeerConnection.prototype=h.prototype,"generateCertificate"in h&&Object.defineProperty(S.RTCPeerConnection,"generateCertificate",{get:()=>h.generateCertificate})}function Z(S){typeof S=="object"&&S.RTCTrackEvent&&"receiver"in S.RTCTrackEvent.prototype&&!("transceiver"in S.RTCTrackEvent.prototype)&&Object.defineProperty(S.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pe(S){const h=S.RTCPeerConnection.prototype.createOffer;S.RTCPeerConnection.prototype.createOffer=function(g){if(g){g.offerToReceiveAudio!==void 0&&(g.offerToReceiveAudio=!!g.offerToReceiveAudio);const b=this.getTransceivers().find(O=>O.receiver.track.kind==="audio");g.offerToReceiveAudio===!1&&b?b.direction==="sendrecv"?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":b.direction==="recvonly"&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):g.offerToReceiveAudio!==!0||b||this.addTransceiver("audio",{direction:"recvonly"}),g.offerToReceiveVideo!==void 0&&(g.offerToReceiveVideo=!!g.offerToReceiveVideo);const T=this.getTransceivers().find(O=>O.receiver.track.kind==="video");g.offerToReceiveVideo===!1&&T?T.direction==="sendrecv"?T.setDirection?T.setDirection("sendonly"):T.direction="sendonly":T.direction==="recvonly"&&(T.setDirection?T.setDirection("inactive"):T.direction="inactive"):g.offerToReceiveVideo!==!0||T||this.addTransceiver("video",{direction:"recvonly"})}return h.apply(this,arguments)}}function Ce(S){typeof S!="object"||S.AudioContext||(S.AudioContext=S.webkitAudioContext)}var Qe=i(7963),re=i.n(Qe);function de(S){if(!S.RTCIceCandidate||S.RTCIceCandidate&&"foundation"in S.RTCIceCandidate.prototype)return;const h=S.RTCIceCandidate;S.RTCIceCandidate=function(g){if(typeof g=="object"&&g.candidate&&g.candidate.indexOf("a=")===0&&((g=JSON.parse(JSON.stringify(g))).candidate=g.candidate.substring(2)),g.candidate&&g.candidate.length){const b=new h(g),T=re().parseCandidate(g.candidate);for(const O in T)O in b||Object.defineProperty(b,O,{value:T[O]});return b.toJSON=function(){return{candidate:b.candidate,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex,usernameFragment:b.usernameFragment}},b}return new h(g)},S.RTCIceCandidate.prototype=h.prototype,y(S,"icecandidate",g=>(g.candidate&&Object.defineProperty(g,"candidate",{value:new S.RTCIceCandidate(g.candidate),writable:"false"}),g))}function Re(S){!S.RTCIceCandidate||S.RTCIceCandidate&&"relayProtocol"in S.RTCIceCandidate.prototype||y(S,"icecandidate",h=>{if(h.candidate){const g=re().parseCandidate(h.candidate.candidate);g.type==="relay"&&(h.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[g.priority>>24])}return h})}function De(S,h){if(!S.RTCPeerConnection)return;"sctp"in S.RTCPeerConnection.prototype||Object.defineProperty(S.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const g=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,h.browser==="chrome"&&h.version>=76){const{sdpSemantics:b}=this.getConfiguration();b==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(b){if(!b||!b.sdp)return!1;const T=re().splitSections(b.sdp);return T.shift(),T.some(O=>{const N=re().parseMLine(O);return N&&N.kind==="application"&&N.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const b=function(L){const A=L.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(A===null||A.length<2)return-1;const F=parseInt(A[1],10);return F!=F?-1:F}(arguments[0]),T=function(L){let A=65536;return h.browser==="firefox"&&(A=h.version<57?L===-1?16384:2147483637:h.version<60?h.version===57?65535:65536:2147483637),A}(b),O=function(L,A){let F=65536;h.browser==="firefox"&&h.version===57&&(F=65535);const B=re().matchPrefix(L.sdp,"a=max-message-size:");return B.length>0?F=parseInt(B[0].substring(19),10):h.browser==="firefox"&&A!==-1&&(F=2147483637),F}(arguments[0],b);let N;N=T===0&&O===0?Number.POSITIVE_INFINITY:T===0||O===0?Math.max(T,O):Math.min(T,O);const M={};Object.defineProperty(M,"maxMessageSize",{get:()=>N}),this._sctp=M}return g.apply(this,arguments)}}function nt(S){if(!S.RTCPeerConnection||!("createDataChannel"in S.RTCPeerConnection.prototype))return;function h(b,T){const O=b.send;b.send=function(){const N=arguments[0],M=N.length||N.size||N.byteLength;if(b.readyState==="open"&&T.sctp&&M>T.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+T.sctp.maxMessageSize+" bytes)");return O.apply(b,arguments)}}const g=S.RTCPeerConnection.prototype.createDataChannel;S.RTCPeerConnection.prototype.createDataChannel=function(){const b=g.apply(this,arguments);return h(b,this),b},y(S,"datachannel",b=>(h(b.channel,b.target),b))}function St(S){if(!S.RTCPeerConnection||"connectionState"in S.RTCPeerConnection.prototype)return;const h=S.RTCPeerConnection.prototype;Object.defineProperty(h,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(h,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(g){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),g&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=g)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(g=>{const b=h[g];h[g]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=T=>{const O=T.target;if(O._lastConnectionState!==O.connectionState){O._lastConnectionState=O.connectionState;const N=new Event("connectionstatechange",T);O.dispatchEvent(N)}return T},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),b.apply(this,arguments)}})}function Sn(S,h){if(!S.RTCPeerConnection||h.browser==="chrome"&&h.version>=71||h.browser==="safari"&&h.version>=605)return;const g=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(b){if(b&&b.sdp&&b.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const T=b.sdp.split(`
`).filter(O=>O.trim()!=="a=extmap-allow-mixed").join(`
`);S.RTCSessionDescription&&b instanceof S.RTCSessionDescription?arguments[0]=new S.RTCSessionDescription({type:b.type,sdp:T}):b.sdp=T}return g.apply(this,arguments)}}function Qr(S,h){if(!S.RTCPeerConnection||!S.RTCPeerConnection.prototype)return;const g=S.RTCPeerConnection.prototype.addIceCandidate;g&&g.length!==0&&(S.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(h.browser==="chrome"&&h.version<78||h.browser==="firefox"&&h.version<68||h.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():g.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function fi(S,h){if(!S.RTCPeerConnection||!S.RTCPeerConnection.prototype)return;const g=S.RTCPeerConnection.prototype.setLocalDescription;g&&g.length!==0&&(S.RTCPeerConnection.prototype.setLocalDescription=function(){let b=arguments[0]||{};if(typeof b!="object"||b.type&&b.sdp)return g.apply(this,arguments);if(b={type:b.type,sdp:b.sdp},!b.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":b.type="offer";break;default:b.type="answer"}return b.sdp||b.type!=="offer"&&b.type!=="answer"?g.apply(this,[b]):(b.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(T=>g.apply(this,[T]))})}(function({window:S}={},h={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const g=_,b=function(O){const N={browser:null,version:null};if(O===void 0||!O.navigator||!O.navigator.userAgent)return N.browser="Not a browser.",N;const{navigator:M}=O;if(M.mozGetUserMedia)N.browser="firefox",N.version=x(M.userAgent,/Firefox\/(\d+)\./,1);else if(M.webkitGetUserMedia||O.isSecureContext===!1&&O.webkitRTCPeerConnection)N.browser="chrome",N.version=x(M.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!O.RTCPeerConnection||!M.userAgent.match(/AppleWebKit\/(\d+)\./))return N.browser="Not a supported browser.",N;N.browser="safari",N.version=x(M.userAgent,/AppleWebKit\/(\d+)\./,1),N.supportsUnifiedPlan=O.RTCRtpTransceiver&&"currentDirection"in O.RTCRtpTransceiver.prototype}return N}(S),T={browserDetails:b,commonShim:l,extractVersion:x,disableLog:w,disableWarnings:R,sdp:Qe};switch(b.browser){case"chrome":if(!s||!Y||!h.shimChrome)return g("Chrome shim is not included in this adapter release."),T;if(b.version===null)return g("Chrome shim can not determine version, not shimming."),T;g("adapter.js shimming chrome."),T.browserShim=s,Qr(S,b),fi(S),q(S,b),J(S),Y(S,b),G(S),ve(S,b),ee(S),ce(S),xe(S),Q(S,b),de(S),Re(S),St(S),De(S,b),nt(S),Sn(S,b);break;case"firefox":if(!c||!He||!h.shimFirefox)return g("Firefox shim is not included in this adapter release."),T;g("adapter.js shimming firefox."),T.browserShim=c,Qr(S,b),fi(S),ne(S,b),He(S,b),Te(S),Gt(S),Le(S),bt(S),Ye(S),lt(S),Mt(S),Xt(S),Lt(S),de(S),St(S),De(S,b),nt(S);break;case"safari":if(!a||!h.shimSafari)return g("Safari shim is not included in this adapter release."),T;g("adapter.js shimming safari."),T.browserShim=a,Qr(S,b),fi(S),Mi(S),pe(S),Qn(S),qt(S),Fn(S),Z(S),ut(S),Ce(S),de(S),Re(S),De(S,b),nt(S),Sn(S,b);break;default:g("Unsupported browser!")}})({window:typeof window>"u"?void 0:window}),i(8630);const fo=()=>typeof RTCPeerConnection=="function";var Cn,kn;(function(S){S[S.TRACE=0]="TRACE",S[S.DEBUG=1]="DEBUG",S[S.INFO=2]="INFO",S[S.WARN=3]="WARN",S[S.ERROR=4]="ERROR",S[S.SILENT=5]="SILENT"})(Cn||(Cn={})),function(S){S.TIME="Time",S.WEBRTC="WebRTC",S.EMITTER="Emitter",S.MEDIA="Media",S.SUBSCRIPTION="StageSubscription",S.PUBLICATION="StagePublication",S.CONNECTION="StageConnection",S.SOCKET="StageSocket",S.BROADCAST_STAGE_CLIENT="BroadcastStageClient",S.STAGE="Stage",S.REMOTE_PARTICIPANT="RemoteParticipant",S.LOCAL_PARTICIPANT="LocalParticipant",S.CONFIGURATION="Configuration",S.REMOTE_PLAYBACK="RemotePlaybackController",S.REMOTE_STAGE_STREAM="RemoteStageStream"}(kn||(kn={}));const Ls=12e4,Ba=3e5;class Et extends Error{constructor({name:h,message:g,code:b,details:T,cause:O,params:N}){super(g),Error.captureStackTrace&&Error.captureStackTrace(this,Et),this.name=h||"BroadcastClientError",this.message=g,this.code=b,this.details=T,this.cause=O,this.params=N}}const uh={name:"BroadcastError",code:1e3,message:"Unable to broadcast"},pd={name:"CameraError",code:2e3,message:"Camera could not be captured"},ca={name:"InputError",code:3e3,message:"Input could not be attached"},Tl={name:"AddDeviceError",code:4e3,message:"Device is missing"},Rl={name:"AddDeviceNameExistsError",code:4001,message:"Name is already registered"},md={name:"AddDeviceCompositionMissingError",code:4002,message:"VideoComposition is missing"},Nc={name:"AddDeviceCompositionIndexMissingError",code:4003,message:`VideoComposition's "index" property is missing`},ue={name:"AddDeviceNameMissingError",code:4004,message:"Name property is missing"},_e={name:"AddDeviceUnsupported",code:4005,message:"Unsupported device"},Oe={name:"AddDeviceConstraintsError",code:4006,message:"Constraints error"},$e={name:"RemoveDeviceNotFoundError",code:5e3,message:"Device not found"},Jt={name:"RemoveImageNotFoundError",code:6e3,message:"Image not found"},or={name:"UpdateVideoDeviceCompositionMissingError",code:7e3,message:"VideoComposition is missing"},an={name:"UpdateVideoDeviceCompositionIndexMissingError",code:7001,message:`VideoComposition's "index" property is missing`},Ft={name:"UpdateVideoDeviceCompositionNameMissingError",code:7002,message:"Video device with that name is not found"},dt={name:"ExchangePositionDeviceNotFoundError",code:8e3,message:"Device with that name is not found"},Ze={name:"FailedToAddImageError",code:9e3,message:"Failed to add image"},pt={name:"PeerSetupError",code:1e4,message:"Unexpected return value from setup request"},Ct={name:"PeerConnectionError",code:10001,message:"Peer connection has failed."},_n={name:"InvalidStreamKey",code:10003,message:"Invalid Stream Key."},Xn={name:"BroadcastConfigurationError",code:11e3,message:"Error when configuring broadcast client"},Un={name:"StreamConfigurationError",code:12e3,message:"Error when configuring stream"},Li={name:"IngestEndpointTypeError",code:13e3,message:"Ingest endpoint must be a string"},gd={name:"IngestEndpointUrlError",code:13001,message:"Ingest endpoint must be a valid https or rtmps URL"},vd={name:"LogLevelTypeError",code:14e3,message:"Log Level must be a valid integer between [0..5]"},_m={name:"LoggerTypeError",code:15e3,message:"Logger must be an object"},dh={name:"ClientInvalidError",code:16e3,message:"Client is no longer valid, possibly due to delete() invocation."},wm={name:"NetworkReconnectConfigurationError",code:17e3,message:"Error when configuring network reconnect"},fh={name:"NetworkReconnectConfigurationInvalidTimeoutError",code:17001,message:"Network reconnect timeout value must be a number between [10000, 300000]"},hh={name:"StreamKeyInvalidCharError",code:18e3,message:"Streamkey must contain only [A-Za-z0-9_-] characters"},kl={name:"StageTokenTypeError",code:19e3,message:"Stage token must be a string"},Fy={name:"StageWhipUrlOverrideError",code:19001,message:"Stage WHIP override URL must be a string starting with http"};var Ol,yd,Pl,Nl,Il,bd,xd,ph,Em,Lo=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)},Fs=function(S,h,g,b,T){if(typeof h=="function"?S!==h||!T:!h.has(S))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h.set(S,g),g};const Al=1920,Uy=1080,pw=Cn.ERROR,Sd={maxResolution:{width:852,height:480},maxFramerate:30,maxBitrate:1500},Cm={maxResolution:{width:480,height:852},maxFramerate:30,maxBitrate:1500},Tm={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:3500},Jn={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:3500},Gn={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:8500},Rm={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:8500},km={reconnect:!1,timeout:Ls};function By(S){var h,g;if(typeof S!="string"&&S!==void 0)throw new Et(Li);if(S){if(S.startsWith("https"))return S;{const b=/(?<protocol>(rtmps|https):\/\/)?(?<id>.+)\.(?<environment>(?=\S*['-])([a-zA-Z'-]+))\.live-video\.net.*/.exec(S);if(((h=b==null?void 0:b.groups)===null||h===void 0?void 0:h.protocol)==="rtmps"&&console.warn("rtmps server url detected; please pass in the ingest endpoint (no rtmps:// protocol) instead"),(g=b==null?void 0:b.groups)===null||g===void 0?void 0:g.id)return`https://${b.groups.id}.webrtc.live-video.net:4443`;throw new Et(gd)}}return""}class $y{constructor(h,g,b=Sd,T,O=km){this.LOG_LEVEL=Cn,this.BASIC_LANDSCAPE=Sd,this.BASIC_PORTRAIT=Cm,this.BASIC_FULL_HD_LANDSCAPE=Tm,this.BASIC_FULL_HD_PORTRAIT=Jn,this.STANDARD_LANDSCAPE=Gn,this.STANDARD_PORTRAIT=Rm,Ol.set(this,void 0),yd.set(this,void 0),Pl.set(this,Sd),Nl.set(this,void 0),Il.set(this,km),bd.set(this,N=>{if(!N)throw new Et(Object.assign(Object.assign({},Un),{details:"missing stream configuration"}));if(!(N.maxBitrate<=8500&&N.maxBitrate>=200))throw new Et(Object.assign(Object.assign({},Un),{details:"maxBitrate must be between 200 and 8500"}));if(!(N.maxFramerate<=60&&N.maxFramerate>=10))throw new Et(Object.assign(Object.assign({},Un),{details:"maxFramerate must be between 10 and 60"}));const M=N.maxResolution.width,L=N.maxResolution.height;if(M>Al||L>Al||M<160||L<160||M===Al&&L>Uy||L===Al&&M>Uy)throw new Et(Object.assign(Object.assign({},Un),{details:"maxResolution values must be between 1080x1920 or 1920x1080"}))}),xd.set(this,N=>{if(!N)return;const M=Number(N),L=Number.isInteger(M),A=M>=Cn.TRACE,F=M<=Cn.SILENT;if(!L||!A||!F)throw new Et(vd)}),ph.set(this,N=>{if(N&&typeof N!="object")throw new Et(_m)}),Em.set(this,N=>{if(!N)return;if(typeof N!="object"||typeof N.reconnect!="boolean")throw new Et(wm);const{timeout:M}=N;if(M!==void 0&&(Number.isNaN(M)||typeof M!="number"||M<1e4||M>Ba))throw new Et(fh)}),Lo(this,ph,"f").call(this,T),Lo(this,xd,"f").call(this,g),Lo(this,bd,"f").call(this,b),Fs(this,Ol,h),Fs(this,yd,g),Fs(this,Pl,b),Fs(this,Nl,T),Fs(this,Il,O)}get ingestEndpoint(){return Lo(this,Ol,"f")}set ingestEndpoint(h){Fs(this,Ol,By(h))}get streamConfig(){return Lo(this,Pl,"f")}set streamConfig(h){Lo(this,bd,"f").call(this,h),Fs(this,Pl,h)}get logLevel(){return Lo(this,yd,"f")}set logLevel(h){Lo(this,xd,"f").call(this,h),Fs(this,yd,h)}get logger(){return Lo(this,Nl,"f")}set logger(h){Lo(this,ph,"f").call(this,h),Fs(this,Nl,h)}get networkReconnectConfig(){return Lo(this,Il,"f")}set networkReconnectConfig(h){Lo(this,Em,"f").call(this,h),Fs(this,Il,h)}}Ol=new WeakMap,yd=new WeakMap,Pl=new WeakMap,Nl=new WeakMap,Il=new WeakMap,bd=new WeakMap,xd=new WeakMap,ph=new WeakMap,Em=new WeakMap;var ln,Xr=i(228),mh=i(6880);(function(S){S.PUBLISHED_VIDEO_STATS="ivs_broadcast_webrtc_published_video_stats",S.PUBLISHED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_published_video_stats_window",S.PUBLISHED_AUDIO_STATS="ivs_broadcast_webrtc_published_audio_stats",S.PUBLISHED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_published_audio_stats_window",S.SUBSCRIBED_VIDEO_STATS="ivs_broadcast_webrtc_subscribed_video_stats",S.SUBSCRIBED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_video_stats_window",S.SUBSCRIBED_AUDIO_STATS="ivs_broadcast_webrtc_subscribed_audio_stats",S.SUBSCRIBED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_audio_stats_window",S.PUBLISH="ivs_broadcast_multihost_publish",S.UNPUBLISH="ivs_broadcast_multihost_unpublish",S.SUBSCRIBE="ivs_broadcast_multihost_subscribe",S.UNSUBSCRIBE="ivs_broadcast_multihost_unsubscribe",S.PUBLISH_STARTED="ivs_broadcast_multihost_publish_started",S.PUBLISH_FAILED="ivs_broadcast_multihost_publish_failed",S.PUBLISH_ENDED="ivs_broadcast_multihost_publish_ended",S.STATE_UPDATED="ivs_broadcast_multihost_event_state_updated",S.SUBSCRIBE_STARTED="ivs_broadcast_multihost_subscribe_started",S.SUBSCRIBE_FAILED="ivs_broadcast_multihost_subscribe_failed",S.SUBSCRIBE_ENDED="ivs_broadcast_multihost_subscribe_ended",S.FIRST_FRAME="ivs_broadcast_multihost_first_frame",S.JOIN="ivs_broadcast_multihost_join",S.JOIN_ATTEMPT="ivs_broadcast_multihost_event_connect_attempt",S.JOIN_ATTEMPT_FAILED="ivs_broadcast_multihost_event_connect_failed",S.JOIN_ENDED="ivs_broadcast_multihost_join_ended",S.LEAVE="ivs_broadcast_multihost_leave",S.REASSIGNMENT_REQUEST="ivs_broadcast_multihost_reassignment_request",S.SERVER_REQUEST="ivs_broadcast_multihost_server_request",S.TRACE="ivs_broadcast_stage_trace",S.ERROR="ivs_broadcast_error",S.MINUTE="ivs_broadcast_multihost_minute",S.CONNECTION_STATE="ivs_broadcast_webrtc_connection_state",S.ICE_GATHERING_STATE="ivs_broadcast_webrtc_gathering_state",S.EDP_CONNECTED="ivs_broadcast_multihost_event_connected",S.EDP_DISCONNECTED="ivs_broadcast_multihost_event_disconnected",S.EDP_PONG="ivs_broadcast_multihost_edp_rtt",S.SIMULCAST_LAYER_INFO="ivs_broadcast_simulcast_layer_info",S.MULTIHOST_CONFIGURATION="ivs_broadcast_multihost_configuration",S.MULTIHOST_SUBSCRIBE_CONFIGURATION="ivs_broadcast_multihost_subscribe_configuration",S.PLAYBACK_LAYER_REQUEST="ivs_broadcast_multihost_playback_layer_request",S.PLAYBACK_LAYER_STATE="ivs_broadcast_multihost_playback_layer_state"})(ln||(ln={}));class on{constructor(h,g,b,T){let O="unknown";if(g.stageARN&&g.stageARN.startsWith("arn:aws:ivs:")){const N=g.stageARN.split(":");N.length===6&&(O=N[4])}this.event=h,this.properties={client_time:new Date().toISOString(),customer_id:O,device_software:window.navigator.userAgent,multihost_id:g.stageARN,participant_id:g.participantID,participant_user_id:g.userID,platform:"web",sdk_version:"1.21.0",stage_arn:g.stageARN,trace_id:b.value},g.attrGsRole&&(this.properties.token_attribute_0=g.attrGsRole),g.attrGsSessionId&&(this.properties.token_attribute_1=g.attrGsSessionId),this.critical=T}}class gh extends on{constructor(h){super(ln.ERROR,h.token,h.traceId,!0),Object.assign(this.properties,{code:h.code,tag:h.tag,description:h.message,remote_participant_id:h.remoteParticipantId,request_uuid:h.requestUUID,is_nominal:h.nominal,is_fatal:h.fatal,details:h.details,location:h.location,event_count:h.count})}}function _d(S){const h=window.IVS_CLIENT_OVERRIDES;return typeof h=="object"?h[S]:S==="logLevel"?window.STAGES_LOG_LEVEL:S==="appLabel"?window.IVS_APP_LABEL:S==="whipUrl"?window.IVS_DATA_PLANE_ENDPOINT:void 0}function bi(S){const h=_d(S);if(typeof h=="string")return h}function $a(S){const h=_d(S);if(typeof h=="boolean")return h}function Om(){const S=_d("logLevel");if(typeof S=="number"&&Object.values(Cn).includes(S))return S}function Pm(){return $a("disableXdp")}function vh(){return $a("enableXdpPublish")}function yh(){return $a("preferMainProfile")}function wd(){return $a("enableInitialLayerOnSdp")}var Fi=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class mw{constructor(h="https://broadcast.stats.live-video.net/"){this.endpointUrl=h}send(h,g=!1){return Fi(this,void 0,void 0,function*(){const b=Date.now();for(const M of h)M.properties.batch_time_millis=b;const T=this.b64EncodeUnicode(JSON.stringify(h)),O={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},N=`data=${T}`;g?navigator.sendBeacon(this.endpointUrl,N):Fi(this,void 0,void 0,function*(){try{yield function(M,L,A={},F=""){return Fi(this,void 0,void 0,function*(){const B=new XMLHttpRequest;return B.open(M,L,!0),A&&Object.keys(A).forEach(W=>{A.hasOwnProperty(W)&&B.setRequestHeader(W,A[W])}),new Promise((W,ie)=>{B.onreadystatechange=()=>{B.readyState===4&&(B.status>=200&&B.status<300?W(B.responseText):ie(new Error(`Ingest ${M} ${L} responded ${B.status}
${B.responseText}`)))},B.send(F)})})}("POST",this.endpointUrl,O,N)}catch{}})})}b64EncodeUnicode(h){return btoa(encodeURIComponent(h).replace(/%([0-9A-F]{2})/g,(g,b)=>String.fromCharCode(+`0x${b}`)))}}function ho(S){if(!S)throw new Error("eventSender is not defined")}function Vy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,S=>{const h=16*Math.random()|0;return(S==="x"?h:3&h|8).toString(16)})}class Ic{constructor(){this.sharedProperties={},this.eventSender={},this.queuedEvents=[],this.genSessionId();const h=function(){const b=bi("analyticsPostUrl");if(b!==void 0)return b}()||"https://broadcast.stats.live-video.net/",g=function(){const b=bi("appLabel");if(b!==void 0)return b.substring(0,64)}();this.eventSender=new mw(h),this.initSharedProperties({appLabel:g}),this.errorReports=new Map}start(){this.flushInterval||(this.flushInterval=window.setInterval(()=>{this.queueAggregateErrors({force:!1}),this.flushEvents()},1e3))}stop(h){let g=!1;clearInterval(this.flushInterval),this.flushInterval=void 0,this.queueAggregateErrors({force:!0}),h&&(this.queuedEvents=this.queuedEvents.filter(b=>b.critical),g=!0),this.flushEvents(g),this.genSessionId()}trackEvent(h,g=!1){let b=this.sharedProperties;g&&(b={global_session_id:Ic.globalSessionId,session_id:this.sharedProperties.session_id,browser:this.sharedProperties.browser,browser_family:this.sharedProperties.browser_family,browser_version:this.sharedProperties.browser_version,os_name:this.sharedProperties.os_name,os_version:this.sharedProperties.os_version,is_backgrounded:this.sharedProperties.is_backgrounded}),(document==null?void 0:document.visibilityState)==="hidden"&&(b.is_backgrounded=!0),"data"in h?(h.data.properties=Object.assign({},b,h.data.properties),this.queuedEvents.push(h.data)):(h.properties=Object.assign({},b,h.properties),this.queuedEvents.push(h))}trackEventNoSharedProps(h){this.trackEvent(h,!0)}trackErrorAndThrow(h){throw this.trackError(h),h}trackError(h){const g=`${h.code}${h.fatal}${h.nominal}${h.tag}${h.traceId.value}`,b=this.errorReports.get(g),T={error:h,queuedAt:Date.now(),count:0};return b?(b.count===0&&(b.error=h),b.count+=1,b.queuedAt+6e4<=Date.now()?(this.trackErrorReportIfNeeded(b),void this.errorReports.set(g,T)):void 0):(this.errorReports.set(g,T),void this.trackEvent(new gh(h)))}queueAggregateErrors({force:h=!1}){this.errorReports.forEach((g,b)=>{const T=g.queuedAt+6e4;!h&&T>Date.now()||(this.trackErrorReportIfNeeded(g),this.errorReports.delete(b))})}trackErrorReportIfNeeded(h){if(h.count===0)return;const g=h.error;g.count=h.count,this.trackEvent(new gh(g))}batchEvents(h){ho(this.eventSender);const g=h.map(b=>(b.data.properties=Object.assign({},this.sharedProperties,b.data.properties),b.data));this.eventSender.send(g)}initSharedProperties({appLabel:h}){const g=mh.getParser(navigator.userAgent),b=this.parseSemver(String(g.getBrowserVersion()));this.sharedProperties={browser:navigator.appVersion,browser_family:g.getBrowserName().toLowerCase(),browser_version:`${b.major}.${b.minor}`,customer_id:"ivs",host:window.location.hostname,os_name:g.getOSName(),os_version:String(g.getOSVersion()),platform:"web",global_session_id:Ic.globalSessionId,session_id:this.sessionId,sdk_version:"1.21.0",user_agent:navigator.userAgent,is_backgrounded:!1},h&&(this.sharedProperties.app_label=h)}genSessionId(){this.sessionId=Vy(),this.sharedProperties.session_id=this.sessionId}flushEvents(h=!1){ho(this.eventSender),this.queuedEvents.length>0&&this.eventSender.send(this.queuedEvents,h),this.queuedEvents=[]}parseSemver(h){const g=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/.exec(h)||/^(\d+)\.(\d+)[+|-]?(.*)?$/.exec(h)||/^(\d+)$/.exec(h)||[];return{major:parseInt(g[1],10)||0,minor:parseInt(g[2],10)||0,patch:parseInt(g[3],10)||0}}getSessionId(){return this.sessionId}}Ic.globalSessionId=Vy();class Va{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.CONGESTION_TIME,properties:b}}}class bh{constructor(h,g,b){this.transformProperties=(O,N,M)=>({duration:(O.getTime()-((N==null?void 0:N.getTime())||0))/1e3,ecn_negotiated:!1,ingest_session_id:M});const T=this.transformProperties(h,g,b);this.data={event:_r.CONNECTION_ESTABLISHED,properties:T}}}class Nm{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.CONNECTION_RTT,properties:b}}}class sr{constructor(h){this.transformProperties=b=>{var T;return{is_fatal:(T=b.isFatal)!==null&&T!==void 0&&T,value:b.value,code:b.code,description:b.description}};const g=this.transformProperties(h);this.data={event:_r.ERROR,properties:g}}}class la{constructor(h,g){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(h,g);this.data={event:_r.INPUT_DEVICE_ATTACHED,properties:b}}}class xh{constructor(h,g){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(h,g);this.data={event:_r.INPUT_DEVICE_DETACHED,properties:b}}}class gw{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.MEASURED_BITRATE,properties:b}}}class Im{constructor(h,g){this.transformProperties=(T,O)=>({minutes_logged:Math.round((T.timestamp-O)/6e4)});const b=this.transformProperties(h,g);this.data={event:_r.MINUTE_BROADCAST,properties:b}}}class vw{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.RECOMMENDED_BITRATE,properties:b}}}class zy{constructor(h){this.transformProperties=b=>({codec:b.mimeType,bitrate:0,sample_rate:b.clockRate,channel_count:b.channels});const g=this.transformProperties(h);this.data={event:_r.SESSION_AUDIO_ENCODER_CONFIGURED,properties:g}}}class Sh{constructor(h){this.transformProperties=b=>({codec:"audio",bitrate:32e3,sample_rate:b.sampleRate,channel_count:b.channelCount});const g=this.transformProperties(h);this.data={event:_r.SESSION_AUDIO_PROPERTIES,properties:g}}}class jl{constructor(h,g,b){this.transformProperties=(O,N,M)=>({codec:M.mimeType,codec_profile:N.profile,codec_level:N.level,rate_mode:"vbr",initial_bitrate:0,keyframe_interval:2,width:O.width,height:O.height,bframe_count:0,target_fps:O.frameRate});const T=this.transformProperties(h,g,b);this.data={event:_r.SESSION_VIDEO_ENCODER_CONFIGURED,properties:T}}}class yw{constructor(h){this.transformProperties=b=>({codec:"video",initial_bitrate:32e3,min_bitrate:0,max_bitrate:0,keyframe_interval:2,width:b.width,height:b.height,auto_bitrate_enabled:!0,bframes_enabled:!1,target_fps:b.frameRate});const g=this.transformProperties(h);this.data={event:_r.SESSION_VIDEO_PROPERTIES,properties:g}}}class Wy{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.SOURCE_AUDIO_LATENCY,properties:b}}}class Hy{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.SOURCE_VIDEO_LATENCY,properties:b}}}class _h{constructor(h,g){this.transformProperties=({protocol:T,hostname:O,port:N},M)=>({protocol:T,endpoint_host:O,endpoint_port:N,reason:M});const b=this.transformProperties(h,g);this.data={event:_r.START_BROADCAST,properties:b}}}class Am{constructor(h){this.transformProperties=({protocol:b,hostname:T,port:O})=>({protocol:b,endpoint_host:T,endpoint_port:O});const g=this.transformProperties(h);this.data={event:_r.STOP_BROADCAST,properties:g}}}class Gy{constructor(h){this.transformProperties=b=>({bytes_sent:b.bytesSent,header_bytes_sent:b.headerBytesSent,nack_count:b.nackCount,packets_sent:b.packetsSent,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent});const g=this.transformProperties(h);this.data={event:_r.WEBRTC_AUDIO_STATS,properties:g}}}class jm{constructor(h){this.transformProperties=b=>({bytes_sent:b.bytesSent,fir_count:b.firCount,frames_encoded:b.framesEncoded,frames_sent:b.framesSent,header_bytes_sent:b.headerBytesSent,huge_frames_sent:b.hugeFramesSent,key_frames_encoded:b.keyFramesEncoded,nack_count:b.nackCount,packets_sent:b.packetsSent,pli_count:b.pliCount,quality_limitation_reason:b.qualityLimitationReason,quality_limitation_resolution_changes:b.qualityLimitationResolutionChanges,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent,total_encode_time:b.totalEncodeTime,total_encoded_bytes_target:b.totalEncodedBytesTarget,total_packet_send_delay:b.totalPacketSendDelay});const g=this.transformProperties(h);this.data={event:_r.WEBRTC_VIDEO_STATS,properties:g}}}var _r,Ed;(function(S){S.START_BROADCAST="ivs_broadcast_start_broadcast",S.STOP_BROADCAST="ivs_broadcast_stop_broadcast",S.MINUTE_BROADCAST="ivs_broadcast_minute_broadcast",S.WEBRTC_AUDIO_STATS="ivs_broadcast_webrtc_audio_stats",S.WEBRTC_VIDEO_STATS="ivs_broadcast_webrtc_video_stats",S.WEBRTC_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_audio_stats_window",S.WEBRTC_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_video_stats_window",S.CONNECTION_ESTABLISHED="ivs_broadcast_connection_established",S.SESSION_VIDEO_PROPERTIES="ivs_broadcast_session_video_properties",S.SESSION_AUDIO_PROPERTIES="ivs_broadcast_session_audio_properties",S.SESSION_VIDEO_ENCODER_CONFIGURED="ivs_broadcast_session_video_encoder_configured",S.SESSION_AUDIO_ENCODER_CONFIGURED="ivs_broadcast_session_audio_encoder_configured",S.SOURCE_AUDIO_LATENCY="ivs_broadcast_source_audio_latency",S.SOURCE_VIDEO_LATENCY="ivs_broadcast_source_video_latency",S.INPUT_DEVICE_ATTACHED="ivs_broadcast_input_device_attached",S.INPUT_DEVICE_DETACHED="ivs_broadcast_input_device_detached",S.CONGESTION_TIME="ivs_broadcast_congestion_time",S.BUFFER_DURATION="ivs_broadcast_buffer_duration",S.MEASURED_BITRATE="ivs_broadcast_measured_bitrate",S.RECOMMENDED_BITRATE="ivs_broadcast_recommended_bitrate",S.CONNECTION_RTT="ivs_broadcast_connection_rtt",S.ERROR="ivs_broadcast_error"})(_r||(_r={})),function(S){S.USER_INITIATED="user-initiated",S.NETWORK_DISCONNECT="network-disconnect"}(Ed||(Ed={}));const po={[Cn.INFO]:"#528bff",[Cn.WARN]:"#ffb31a",[Cn.DEBUG]:"#00f593",[Cn.ERROR]:"#ff4f4d",[Cn.TRACE]:"",[Cn.SILENT]:"",[kn.TIME]:"#53535f",[kn.WEBRTC]:"#0e9bd8",[kn.SUBSCRIPTION]:"#ffc400",[kn.CONNECTION]:"#ff5edb",[kn.SOCKET]:"#8585ff",[kn.EMITTER]:"#adadb8",[kn.LOCAL_PARTICIPANT]:"#1DD21D",[kn.STAGE]:"#EC9806",[kn.REMOTE_PARTICIPANT]:"#0680EC",details:"#808080"},Dl=({label:S})=>`background: ${po[S]||"#333333"}; color: white; padding: 3px; margin-left: 3px;`,Cd=Object.entries(Cn),Td=(S,h,g)=>{const b=Dl({label:S}),[T]=Cd.find(([,be])=>be===Number(S))||[],O=`%c${T}`,N=Dl({label:h}),M=`%c${h}`,L=Dl({label:kn.TIME}),A=`%c[${new Date().toISOString()}]`,F=Dl({label:"details"}),B=`%c[${g}]`,W=[A,O,M],ie=[L,b,N];return g&&(W.push(B),ie.push(F)),[W.join(""),...ie]},qy={debug(S){console.groupCollapsed(...Td(Cn.DEBUG,S.scope,S.label)),console.debug(S.msg,Object.assign(Object.assign({},S),{level:"debug"})),console.groupEnd()},info(S){console.groupCollapsed(...Td(Cn.INFO,S.scope,S.label)),console.info(S.msg,Object.assign(Object.assign({},S),{level:"info"})),console.groupEnd()},warn(S){console.groupCollapsed(...Td(Cn.WARN,S.scope,S.label)),console.warn(S.msg,Object.assign(Object.assign({},S),{level:"warn"})),console.groupEnd()},error(S){console.groupCollapsed(...Td(Cn.ERROR,S.scope,S.label)),console.error(S),console.groupEnd()}};var Ky=function(S,h){var g={};for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&h.indexOf(b)<0&&(g[b]=S[b]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var T=0;for(b=Object.getOwnPropertySymbols(S);T<b.length;T++)h.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(S,b[T])&&(g[b[T]]=S[b[T]])}return g};Object.entries(Cn);class Dm{constructor(h=pw,g=qy){this.logLevel=h,this.loggerInstance=g}debug(h){var g,b;this.logLevel>Cn.DEBUG||(b=(g=this.loggerInstance).debug)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{level:"debug"}))))}info(h){var g,b;this.logLevel>Cn.INFO||(b=(g=this.loggerInstance).info)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{level:"info"}))))}warn(h){var g,b;this.logLevel>Cn.WARN||(b=(g=this.loggerInstance).warn)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{level:"warn"}))))}error(h){var g,b,{err:T}=h,O=Ky(h,["err"]);this.logLevel>Cn.ERROR||(b=(g=this.loggerInstance).error)===null||b===void 0||b.call(g,Object.assign({err:T},O))}}class mo{constructor(h,g){this.logger=h,this.scope=g}debug(h){var g,b;(b=(g=this.logger).debug)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{scope:this.scope}))))}info(h){var g,b;(b=(g=this.logger).info)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{scope:this.scope}))))}warn(h){var g,b;(b=(g=this.logger).warn)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{scope:this.scope}))))}error(h){var g,b,{err:T}=h,O=Ky(h,["err"]);(b=(g=this.logger).error)===null||b===void 0||b.call(g,Object.assign(Object.assign({err:T},O),{scope:this.scope}))}unwrap(){return this.logger}}class os{constructor(){this.min=0,this.max=0,this.sum=0,this.data=[]}push(h){(this.min===0||h<this.min)&&(this.min=h),h>=this.max&&(this.max=h),this.data.push(h),this.sum+=h}median(){this.data.sort();const h=this.data.length>>1;return this.data.length%2==0?this.data[h-1]+this.data[h]>>1:this.data[h]}percentile(h){if(this.data.length===0)return 0;if(h<=0)return this.data[0];if(h>=1)return this.data[this.data.length-1];const g=(this.data.length-1)*h,b=Math.floor(g),T=b+1,O=g%1;return T>=this.data.length?this.data[b]:this.data[b]*(1-O)+this.data[T]*O}}var wh=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Yy{constructor(h,g,b,T){this.peerClient=h,this.broadcastCanvasManager=g,this.analyticsTracker=T,this.logger=new mo(b,kn.EMITTER),this.previousBytesSent=0,this.startTimestamp=0,this.initializeSamples()}start(){this.logger.info({msg:"start emitter"}),this.collectSamplesTimerId=window.setInterval(()=>{this.collectSamples()},1e3),this.trackSamplesTimerId=window.setInterval(()=>{this.trackSamples()},3e4),this.trackPeerConnectionStatsTimerId=window.setInterval(()=>{this.trackPeerConnectionStats()},6e4),this.trackSamples()}stop(){clearInterval(this.collectSamplesTimerId),clearInterval(this.trackSamplesTimerId),clearInterval(this.trackPeerConnectionStatsTimerId),this.collectSamplesTimerId=void 0,this.trackSamplesTimerId=void 0,this.trackPeerConnectionStatsTimerId=void 0}trackPeerConnectionStats(){return wh(this,void 0,void 0,function*(){(yield this.peerClient.getReports()).forEach(h=>{if(h.type==="outbound-rtp")switch(h.kind){case"audio":this.analyticsTracker.trackEvent(new Gy(h));break;case"video":{const g=new jm(h),b=new Im(h,this.startTimestamp);this.analyticsTracker.batchEvents([g,b]);break}default:this.logger.warn({msg:"unknown report kind: ",reportKind:h.kind})}})})}collectSamples(){return wh(this,void 0,void 0,function*(){let h=0;this.audioLatencySamples.push(this.broadcastCanvasManager.getAudioLatency()),this.videoLatencySamples.push(this.broadcastCanvasManager.getVideoLatency()),(yield this.peerClient.getReports()).forEach(b=>{switch(b.type){case"candidate-pair":b.nominated&&(this.rttSamples.push(b.currentRoundTripTime),this.recommendedBitrateSamples.push(b.availableOutgoingBitrate));break;case"outbound-rtp":h+=b.bytesSent||0,this.startTimestamp===0&&b.kind==="video"&&(this.startTimestamp=b.timestamp)}});const g=8*Math.round(h-this.previousBytesSent);this.previousBytesSent=h,this.measuredBitrateSamples.push(g)})}trackSamples(){const g=new Wy(this.audioLatencySamples,30),b=new Hy(this.videoLatencySamples,30),T=new Va(this.congestionTimeSamples,30),O=new gw(this.measuredBitrateSamples,30),N=new vw(this.recommendedBitrateSamples,30),M=new Nm(this.rttSamples,30);this.analyticsTracker.batchEvents([g,b,T,O,N,M]),this.initializeSamples()}initializeSamples(){this.audioLatencySamples=new os,this.videoLatencySamples=new os,this.congestionTimeSamples=new os,this.measuredBitrateSamples=new os,this.recommendedBitrateSamples=new os,this.rttSamples=new os}}const jr={CONNECTION_STATE_CHANGE:"connectionStateChange",ERROR:"clientError",ACTIVE_STATE_CHANGE:"activeStateChange"},go="connectionStateChange",Qy="sdpNegotiated",vo="clientError",Fo="seiMessageReceived",Ac="transformError";var gt;(function(S){S.CLOSED="closed",S.COMPLETED="completed",S.CONNECTED="connected",S.CONNECTING="connecting",S.DISCONNECTED="disconnected",S.FAILED="failed",S.IDLE="idle",S.NEW="new",S.NONE="none"})(gt||(gt={}));const Rd=S=>{const h=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("web-contents-media-stream")?"tab":void 0},g=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("window")&&O.displaySurface==="window"?"window":void 0},b=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("screen")&&O.displaySurface==="monitor"?"screen":void 0};return(h(T=S)||g(T)||b(T)?void 0:"camera")||b(S)||g(S)||h(S)||"unknown";var T};function ye(S,h){return S.find(g=>g.kind===h)}var me;(function(S){S.VIDEO="video",S.AUDIO="audio"})(me||(me={}));class Ie{constructor(){this.mediaTracks=new Map([[me.VIDEO,void 0],[me.AUDIO,void 0]])}setTrack(h,g){this.mediaTracks.set(h,g)}getTrack(h){return this.mediaTracks.get(h)}}class Je{constructor(){this.levelAsymmetryAllowed=!1,this.packetisationMode=!1,this.profile="",this.level=0}extractVideoSdpFmtpLine(h){return h?(h.split("\r").join(";").split(`
`).join(";").split(" ").join(";").split(";").map(g=>g.trim()).filter(Boolean).forEach(g=>{const b=g.split("=");if(b.length===2)switch(b[0]){case"level-asymmetry-allowed":b[1]==="1"?this.levelAsymmetryAllowed=!0:this.levelAsymmetryAllowed=!1;break;case"packetization-mode":b[1]==="1"?this.packetisationMode=!0:this.packetisationMode=!1;break;case"profile-level-id":this.profile=this.getProfileFromId(b[1]),this.level=this.getLevelFromId(b[1])}}),{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}):{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}}getProfileFromId(h){const g=h.substr(0,2),b=h.substr(2,2);switch(g.substr(0,2)){case"42":return"baseline";case"4d":return"main";case"58":return"extended";case"64":return"high";case"6e":return b==="00"?"high 10":"high 10 intra";case"7a":return b==="00"?"high 42":"high 42 intra";case"f4":return b==="00"?"high 44":"high 44 intra";default:return"unknown"}}getLevelFromId(h){return parseInt(h.substr(4,2),16)}}function Kt(S){return btoa(JSON.stringify(S))}var Ut,Dr=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};(function(S){S.IDLE="idle",S.EXECUTING="executing",S.RECONNECTING="reconnecting"})(Ut||(Ut={}));class ss{constructor(h,g=12e4,b,T){this.state=Ut.IDLE,this.failureCallback=()=>{},this.peerClient=h,this.timeout=g,this.logger=b,this.emitter=T}onFailure(h){this.failureCallback=h}setStartConfig(h,g){this.ingestEndpoint=h,this.streamKey=g}execute(){const{id:h}=this;this.state===Ut.IDLE&&(this.state=Ut.EXECUTING,this.emitter.emit(jr.CONNECTION_STATE_CHANGE,gt.CONNECTING),this.logger.info({msg:"Starting execution of reconnect strategy.",id:h}),this.startTimeoutTimer(this.timeout),this.executeStrategy())}startTimeoutTimer(h){this.timeoutTimerId=window.setTimeout(()=>{this.state!==Ut.IDLE&&(this.logger.info({msg:"Reconnect strategy timed out."}),this.stop(),this.emitter.emit(jr.CONNECTION_STATE_CHANGE,gt.FAILED),this.failureCallback())},h)}stop(){this.state=Ut.IDLE,clearTimeout(this.timeoutTimerId),this.stopStrategy()}reconnect(){return Dr(this,void 0,void 0,function*(){if(this.ingestEndpoint&&this.streamKey){const h=this.peerClient.getConnectionState();try{this.logger.info({msg:"Attempting reconnect."}),h===gt.CONNECTED?this.logger.info({msg:"Already connected! Stopping reconnect strategy."}):(yield this.peerClient.start(this.ingestEndpoint,this.streamKey),this.logger.info({msg:"Reconnect succeeded!"})),this.stop()}catch(g){throw this.logger.error({err:g}),g}}})}isActive(){return this.state!==Ut.IDLE}}class ar extends ss{constructor(){super(...arguments),this.id="ExponentialBackoffStrategy"}executeStrategy(){let h=5e3;const g=()=>Dr(this,void 0,void 0,function*(){if(this.state===Ut.EXECUTING)try{this.state=Ut.RECONNECTING,yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed. Trying again in: ",nextRetry:h}),this.state=Ut.EXECUTING,this.currentTimeoutId=window.setTimeout(g,h),h*=2}});this.currentTimeoutId=window.setTimeout(g,0)}stopStrategy(){clearTimeout(this.currentTimeoutId)}}class Mm extends ss{constructor(){super(...arguments),this.id="NetworkApiStrategy",this.onConnectionChange=()=>Dr(this,void 0,void 0,function*(){if(navigator.onLine&&this.state===Ut.EXECUTING){this.state=Ut.RECONNECTING;try{yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed."}),this.state=Ut.EXECUTING}}})}executeStrategy(){navigator.connection.addEventListener("change",this.onConnectionChange),this.onConnectionChange()}stopStrategy(){navigator.connection.removeEventListener("change",this.onConnectionChange)}}class bw{static create(h,g=km,b,T){const{reconnect:O,timeout:N}=g;if(O){const M=mh.getParser(navigator.userAgent).getBrowserName().toLowerCase();return["edge","chrome"].includes(M)&&navigator.connection?new Mm(h,N,b,T):new ar(h,N,b,T)}}}var Qi,za=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},xw=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)};const Ml=S=>!!S;function jc(S){if(!S)throw new Error("PeerConnection is not defined")}const Eh={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:{exact:!0},enableRtpDataChannels:{exact:!1},optional:[{googHighStartBitrate:{exact:0}},{googPayloadPadding:{exact:!0}},{googScreencastMinBitrate:{exact:100}},{googCpuOveruseDetection:{exact:!0}},{googCpuOveruseEncodeUsage:{exact:!0}},{googCpuUnderuseThreshold:{exact:55}},{googCpuOveruseThreshold:{exact:85}},{enableDscp:{exact:!0}}]};class zn{constructor(h,g,b,T,O){this.config=h,this.emitter=g,this.mediaStreamManager=b,this.analyticsTracker=O,this.establishConnection=(N,M)=>za(this,void 0,void 0,function*(){var L,A,F;jc(this.peerConnection);try{const B=yield this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});yield this.handleLocalDescription(B),yield this.sendSetupRequest(N,M,B)}catch(B){if(B instanceof Error){(L=(F=B).code)!==null&&L!==void 0||(F.code=pt.code);const W=new Et(Object.assign(Object.assign({},pt),{name:B.name,message:B.message,code:B==null?void 0:B.code,cause:B}));throw!((A=this.reconnectStrategy)===null||A===void 0)&&A.isActive()||this.handleError(B.code,B.message),this.stop(),W}}}),this.getSessionId=()=>this.ingestSessionId,this.getConnectionState=()=>{var N;if(!this.peerConnection)return gt.NONE;const M=(N=this.reconnectStrategy)===null||N===void 0?void 0:N.isActive(),L=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;switch(L){case"new":return gt.NEW;case"closed":return gt.CLOSED;case"disconnected":return M?gt.CONNECTING:gt.DISCONNECTED;case"failed":return M?gt.CONNECTING:gt.FAILED;case"idle":return gt.IDLE;case"checking":case"connecting":return gt.CONNECTING;case"completed":case"connected":return gt.CONNECTED;default:return this.logger.warn({msg:"Unhandled connection state:",rawState:L}),gt.IDLE}},this.onConnectionStateChange=()=>{var N;const M=this.getConnectionState();switch(M){case gt.CONNECTED:{this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M);const L=new Date;this.analyticsTracker.trackEvent(new bh(L,this.connectionStartDate,this.ingestSessionId));const A=this.mediaStreamManager.getTrack(me.AUDIO),F=this.mediaStreamManager.getTrack(me.VIDEO);if(F){const B=F.getSettings();this.analyticsTracker.trackEvent(new yw(B))}if(A){const B=A.getSettings();this.analyticsTracker.trackEvent(new Sh(B))}(((N=this.peerConnection)===null||N===void 0?void 0:N.getSenders())||[]).forEach(B=>{var W;(((W=B.getParameters())===null||W===void 0?void 0:W.codecs)||[]).forEach(ie=>{var be;switch((be=B.track)===null||be===void 0?void 0:be.kind){case"video":{if(!F)break;const ge=new Je().extractVideoSdpFmtpLine(ie.sdpFmtpLine),le=F.getSettings();this.analyticsTracker.trackEvent(new jl(le,ge,ie));break}case"audio":if(!A)break;this.analyticsTracker.trackEvent(new zy(ie))}})});break}case gt.CONNECTING:this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M),this.connectionStartDate=new Date,this.disconnectionStartDate=void 0;break;case gt.FAILED:this.reconnectStrategy?this.reconnectStrategy.execute():(this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M),this.handleTerminalConnectionFailure());break;case gt.DISCONNECTED:this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M),this.disconnectionStartDate=new Date;break;default:this.emitter.emit(jr.CONNECTION_STATE_CHANGE,M)}},this.handleLocalDescription=N=>za(this,void 0,void 0,function*(){var M;return(M=this.peerConnection)===null||M===void 0?void 0:M.setLocalDescription(N)}),Qi.set(this,N=>{if(typeof N!="string")throw new Et(Li);try{new URL(N)}catch{throw new Et(gd)}}),this.logger=new mo(T,kn.WEBRTC),this.createReconnectStrategy(h)}start(h,g){var b;return za(this,void 0,void 0,function*(){xw(this,Qi,"f").call(this,h);const T=[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)].filter(Ml);if(this.createPeerConnection(),this.addTracks({tracks:T}),this.reconnectStrategy&&this.reconnectStrategy.setStartConfig(h,g),yield this.establishConnection(h,g),!((b=this.reconnectStrategy)===null||b===void 0)&&b.isActive()){const O=new URL(h);this.analyticsTracker.trackEvent(new _h({protocol:"webrtc",hostname:O.hostname,port:O.port},Ed.NETWORK_DISCONNECT))}})}stop(){var h,g,b,T;this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stopStreamDataChannel&&this.stopStreamDataChannel.readyState==="open"&&this.stopStreamDataChannel.send(" "),[gt.NEW,gt.CONNECTING,gt.CONNECTED].includes(this.getConnectionState())&&this.emitter.emit(jr.CONNECTION_STATE_CHANGE,gt.CLOSED),(h=this.peerConnection)===null||h===void 0||h.close(),(g=this.peerConnection)===null||g===void 0||g.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onConnectionStateChange),this.ingestSessionId=void 0,(T=this.reconnectStrategy)===null||T===void 0||T.stop()}addTracks(h){var g;if(jc(this.peerConnection),!h)return;const b=this.peerConnection.getSenders().map(O=>{var N;return(N=O.track)===null||N===void 0?void 0:N.id}),T=h.tracks.filter(O=>!b.includes(O.id));for(const O of T)(g=this.peerConnection)===null||g===void 0||g.addTrack(O)}getReports(){var h;return za(this,void 0,void 0,function*(){try{const g=(yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats())||[],b=[];return g.forEach(T=>{b.push(T)}),b}catch{return[]}})}sendSetupRequest(h,g,b){var T;return za(this,void 0,void 0,function*(){const O=yield fetch(`${h}/v1/offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({offer:Kt(b),streamKey:g},this.config.streamConfig))});if(!O.ok)throw function(M){let L=new Et(Object.assign({},pt));return(M==null?void 0:M.code)===1007&&(L=new Et(Object.assign({},_n))),M!=null&&M.message&&(L.message=M.message),L}(yield O.json());const N=yield O.json();N!=null&&N.answer&&(yield(T=this.peerConnection)===null||T===void 0?void 0:T.setRemoteDescription(function(M){return JSON.parse(atob(M))}(N.answer)),this.ingestSessionId=N.ingestSessionId)})}handleTerminalConnectionFailure(){const h=new Et(Ct);this.handleError(h.code,h.message)}handleError(h,g){this.analyticsTracker.trackEvent(new sr({code:h,description:g,isFatal:!0})),this.emitter.emit(jr.ERROR,{code:h,message:g})}createPeerConnection(){var h;const g=this.getConnectionState(),b=g!==gt.NONE,T=g!==gt.CLOSED,O=(h=this.reconnectStrategy)===null||h===void 0?void 0:h.isActive();b&&T&&!O||(this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stateCheckInterval=window.setInterval(()=>{const N=this.getConnectionState();if(this.reconnectStrategy&&N===gt.DISCONNECTED&&this.disconnectionStartDate){const M=Date.now()-this.disconnectionStartDate.getTime();this.logger.info({msg:"Time since disconnected:",timeSinceDisconnect:M}),M>1e4&&(this.disconnectionStartDate=void 0,this.reconnectStrategy.execute())}else N===gt.CLOSED&&(this.handleTerminalConnectionFailure(),clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0)},1e3),this.peerConnection=new RTCPeerConnection(Eh),this.stopStreamDataChannel=this.peerConnection.createDataChannel("stopStream"),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onConnectionStateChange))}createReconnectStrategy(h){if(this.reconnectStrategy=bw.create(this,h.networkReconnectConfig,this.logger,this.emitter),this.reconnectStrategy){this.reconnectStrategy.onFailure(this.handleTerminalConnectionFailure.bind(this));const g=this.reconnectStrategy.id;this.logger.info({msg:"Using reconnect strategy:",strategyId:g})}}}Qi=new WeakMap;var Ll,Lm,Ch=i(5364);(function(S){S.CONFIG="config",S.UPDATE="update",S.START="start",S.STOP="stop"})(Ll||(Ll={})),function(S){S.VIDEO_SEND="video/send",S.VIDEO_RECEIVE="video/receive",S.INSERT_SEI="insertSei"}(Lm||(Lm={}));var Sw=i(5512),Xy=i.n(Sw);function _w(){return Xy()(`/*! For license information please see scheduler.worker.worker.js.LICENSE.txt */
(()=>{"use strict";var i,t;!function(i){i.CONFIG="config",i.UPDATE="update",i.START="start",i.STOP="stop"}(i||(i={})),function(i){i.VIDEO_SEND="video/send",i.VIDEO_RECEIVE="video/receive",i.INSERT_SEI="insertSei"}(t||(t={}));const s=self;const n=new class Scheduler{constructor(){this.config={frameRate:60,isRunning:!1}}setConfig(i){this.config=Object.assign(Object.assign({},this.config),i),this.config.isRunning&&(this.stop(),this.start())}start(){this.config.isRunning||(this.intervalId=setInterval((()=>{s.postMessage({type:i.UPDATE})}),1e3/this.config.frameRate),this.config.isRunning=!0)}stop(){this.config.isRunning&&(clearInterval(this.intervalId),this.intervalId=void 0,this.config.isRunning=!1)}};s.addEventListener("message",(function(t){var s;if(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.type)switch(t.data.type){case i.CONFIG:n.setConfig(t.data.payload||{});break;case i.START:n.start();break;case i.STOP:n.stop()}}))})();`,"Worker",void 0,void 0)}var Wa=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ha{constructor(h,g,b){this.config=h,this.mediaStreamManager=g,this.analyticsTracker=b,this.handleWorkerEvent=M=>{var L;((L=M.data)===null||L===void 0?void 0:L.type)===Ll.UPDATE&&this.drawComposite()},this.mixer={video:[],audio:[]},this.schedulerWorker=new _w,this.running=!1,this.compositeEl=document.createElement("canvas"),this.compositeEl.height=this.config.streamConfig.maxResolution.height,this.compositeEl.width=this.config.streamConfig.maxResolution.width;const T=this.compositeEl.getContext("2d");if(T===null)throw new Et(Object.assign({},uh));this.compositeContext=T,this.compositeStream=this.compositeEl.captureStream(typeof CanvasCaptureMediaStreamTrack!==void 0?0:30);const O=ye(this.compositeStream.getTracks(),me.VIDEO);this.audioContext=new AudioContext,this.unlockAudioContext(),this.audioDestination=this.audioContext.createMediaStreamDestination(),this.setupSilence();const N=ye(this.audioDestination.stream.getTracks(),me.AUDIO);O&&this.mediaStreamManager.setTrack(me.VIDEO,O),N&&this.mediaStreamManager.setTrack(me.AUDIO,N),this.schedulerWorker.addEventListener("message",this.handleWorkerEvent),this.schedulerWorker.postMessage({type:Ll.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.previewElement=null,this.previewCtx=null,this.nextMix=new Date().getTime()}attachPreview(h){this.previewElement=h;const{width:g,height:b}=this.config.streamConfig.maxResolution;this.previewElement.width=g,this.previewElement.height=b,this.previewCtx=this.previewElement.getContext("2d")}detachPreview(){this.previewElement=null,this.previewCtx=null}setupSilence(){const h=this.audioContext.createConstantSource(),g=this.audioContext.createGain();g.gain.value=.001,h.connect(g),g.connect(this.audioDestination),h.start()}unlockAudioContext(){if(this.audioContext.state!=="suspended")return;const h=document.body,g=["touchstart","touchend","mousedown","keydown"],b=()=>{g.forEach(O=>{h.removeEventListener(O,T)})},T=()=>{this.audioContext.resume().then(b)};g.forEach(O=>{h.addEventListener(O,T,!1)})}getTracks(){return[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)]}getCanvasVideoTrack(){return this.mediaStreamManager.getTrack(me.VIDEO)}getAudioInputDevice(h){if(typeof h!="string")return;const g=this.mixer.audio.find(b=>{if(b.name===h)return b.source});return g==null?void 0:g.source}getVideoInputDevice(h){if(typeof h=="string")return this.mixer.video.find(g=>g.name===h)}getCanvasDimensions(){return{height:this.compositeEl.height,width:this.compositeEl.width}}addVideoInputDevice(h,g,b){var T;return Wa(this,void 0,void 0,function*(){if(typeof h!="object")throw new Et(Object.assign({},Tl));if(!g||typeof g!="string")throw new Et(Object.assign({},ue));if(this.mixer.video.some(W=>W.name===g))throw new Et(Object.assign({},Rl));if(!b)throw new Et(Object.assign({},md));if(typeof b.index!="number")throw new Et(Object.assign({},Nc));const O=function(){const W=document.createElement("video");return W.autoplay=!0,W.muted=!0,W.setAttribute("playsinline",""),W.setAttribute("webkit-playsinline",""),W}(),N=h.getVideoTracks(),[M]=N;if(!N.length)throw new Et(Object.assign({},pd));const L=M.getConstraints(),A=Ch({},L,{frameRate:this.config.streamConfig.maxFramerate});try{yield M.applyConstraints(A)}catch(W){let ie="Unknown constraints error";W instanceof Error&&(ie=W.message),this.analyticsTracker.trackEvent(new sr({description:`${Oe.message}: ${ie}`,isFatal:!1,code:Oe.code}))}const F=()=>Wa(this,void 0,void 0,function*(){let W=0;for(;W<5;)try{return void(yield O.play())}catch(ie){if(!(ie instanceof Error))throw new Error("unknown error trying to add video to broadcast");W++,yield new Promise(be=>setTimeout(be,150))}throw new Error("Error playing video, tries exceeded")}),B=new MediaStream([M]);O.srcObject=B;try{yield F();const W={name:g,element:O,position:b,source:B,render:!0},ie=((T=M.getSettings)===null||T===void 0?void 0:T.call(M))||{};this.analyticsTracker.trackEvent(new la(Rd(ie),ie)),this.mixer.video.push(W)}catch(W){throw new Et(Object.assign(Object.assign({},pd),{cause:W}))}})}addImageSource(h,g,b){var T;return Wa(this,void 0,void 0,function*(){if(!h)throw new Et(Object.assign({},Tl));if(!g||typeof g!="string")throw new Et(Object.assign({},ue));if(h.tagName==="image")throw new Et(Object.assign({},_e));if(this.mixer.video.some(N=>N.name===g))throw new Et(Object.assign({},Rl));if(!b)throw new Et(Object.assign({},md));if(typeof b.index!="number")throw new Et(Object.assign({},Nc));if(h instanceof Image){const N=(T=h.src)===null||T===void 0?void 0:T.slice();try{const M=h.src?new URL(h.src):{};if(M.host&&M.hostname){const L=yield fetch(h.src).then(F=>Wa(this,void 0,void 0,function*(){return F.blob()})),A=yield new Promise(F=>{const B=new FileReader;B.onload=()=>{F(B.result)},B.readAsDataURL(L)});h.src=A}}catch{throw new Et(Object.assign(Object.assign({},Ze),{params:{details:`Image URL: ${N}`}}))}}const O={name:g,element:h,position:b,render:!0};this.mixer.video.push(O)})}addAudioInputDevice(h,g){return Wa(this,void 0,void 0,function*(){if(typeof h!="object")throw new Et(Object.assign({},Tl));if(!g||typeof g!="string")throw new Et(Object.assign({},ue));if(this.mixer.audio.some(M=>M.name===g))throw new Et(Object.assign({},Rl));const b=h.getAudioTracks();if(!b.length)throw new Et(Object.assign({},ca));const T=this.audioContext.createMediaStreamSource(new MediaStream(b)),O=this.audioContext.createGain();O.gain.value=1,T.connect(O),O.connect(this.audioDestination);const N={name:g,source:h,audioTrackSource:T,gainNode:O};this.analyticsTracker.trackEvent(new la("audio",{deviceId:h.id})),this.mixer.audio.push(N)})}removeImage(h){const g=this.mixer.video.findIndex(b=>b.name===h);if(g<0)throw new Et(Object.assign({},Jt));this.mixer.video.splice(g,1)}removeVideoInputDevice(h){var g;const b=this.removeDevice(h,this.mixer.video);if(!b)throw new Et(Object.assign({},$e));{const T=ye(b.source.getTracks(),me.VIDEO);if(!T)throw new Et(Object.assign({},$e));b.element.srcObject=null,T.stop();const O=((g=T==null?void 0:T.getSettings)===null||g===void 0?void 0:g.call(T))||{};this.analyticsTracker.trackEvent(new xh(Rd(O),O))}}removeAudioInputDevice(h){const g=this.removeDevice(h,this.mixer.audio);if(g!=null&&g.audioTrackSource){for(const b of g.source.getTracks())b.stop(),this.analyticsTracker.trackEvent(new xh("audio",{deviceId:b.id}));g.gainNode.disconnect(this.audioDestination)}else if(!g)throw new Et(Object.assign({},$e))}updateVideoDeviceComposition(h,g){if(!h||typeof h!="string")throw new Et(Object.assign({},Ft));if(!g)throw new Et(Object.assign({},or));if(typeof g.index!="number")throw new Et(Object.assign({},an));this.mixer.video.forEach((b,T)=>{b.name===h&&(b.position=g)})}exchangeVideoDevicePositions(h,g){const b=this.getVideoInputDevice(h),T=this.getVideoInputDevice(g);if(!b)throw new Et(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${h}" not found`}}));if(!T)throw new Et(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${g}" not found`}}));const O=Object.assign({},b.position),N=Object.assign({},T.position);for(const M of this.mixer.video)M.name===h&&(kd(N.x)?M.position=Object.assign(Object.assign({},M.position),N):M.position={index:N.index}),M.name===g&&(kd(O.x)?M.position=Object.assign(Object.assign({},M.position),O):M.position={index:O.index})}start(){this.running||(this.running=!0,this.schedulerWorker.postMessage({type:Ll.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.schedulerWorker.postMessage({type:Ll.START}))}stop(){this.running&&(this.running=!1,this.schedulerWorker.removeEventListener("message",this.handleWorkerEvent))}isCapturing(){return this.running}getAudioLatency(){return this.audioContext.baseLatency}getVideoLatency(){var h;return((h=this.mediaStreamManager.getTrack(me.VIDEO))===null||h===void 0?void 0:h.getConstraints().latency)||0}disableVideo(){this.mixer.video.forEach(h=>{h.render=!1})}enableVideo(){this.mixer.video.forEach(h=>{h.render=!0})}disableAudio(){this.mixer.audio.forEach(h=>{h.audioTrackSource&&(h.gainNode.gain.value=0)})}enableAudio(){this.mixer.audio.forEach(h=>{h.audioTrackSource&&(h.gainNode.gain.value=1)})}getDrawRegion(h,g,b){var T,O,N,M;let L=(T=h.position.x)!==null&&T!==void 0?T:0,A=(O=h.position.y)!==null&&O!==void 0?O:0;const F=(N=h.position.width)!==null&&N!==void 0?N:g-L,B=(M=h.position.height)!==null&&M!==void 0?M:b-A,W=F/B;let ie=h.element.width,be=h.element.height;h.element instanceof HTMLVideoElement&&(ie=h.element.videoWidth,be=h.element.videoHeight);const ge=ie/be;let le=F,ae=B;return ge>W?(le=F,ae=2*Math.round(F/ge/2),A+=(B-ae)/2):ge<W&&(ae=B,le=2*Math.round(B*ge/2),L+=(F-le)/2),{x:L,y:A,width:le,height:ae}}drawComposite(){if(!this.shouldMix(new Date))return;this.compositeContext.clearRect(0,0,this.compositeEl.width,this.compositeEl.height),this.drawBlackScreen();const h=this.mixer.video.filter(g=>g.render);h.sort((g,b)=>g.position.index-b.position.index);for(const g of h){const{x:b,y:T,width:O,height:N}=this.getDrawRegion(g,this.compositeEl.width,this.compositeEl.height);this.compositeContext.drawImage(g.element,b,T,O,N)}this.previewElement&&this.previewCtx&&this.previewCtx.drawImage(this.compositeEl,0,0,this.previewElement.width,this.previewElement.height),this.requestCanvasCapture()}requestCanvasCapture(){typeof CanvasCaptureMediaStreamTrack!==void 0&&(typeof this.compositeStream.requestFrame=="function"?this.compositeStream.requestFrame():this.mediaStreamManager.getTrack(me.VIDEO).requestFrame())}drawBlackScreen(){this.compositeContext.fillStyle="#000000",this.compositeContext.fillRect(0,0,this.compositeEl.width,this.compositeEl.height)}removeDevice(h,g){const b=g.findIndex(T=>(O=>O.name===h)(T));if(!(b<0))return g.splice(b,1)[0]}shouldMix(h){if(h.getTime()<this.nextMix)return!1;for(;this.nextMix<=h.getTime();)this.nextMix+=1e3/this.config.streamConfig.maxFramerate;return!0}}function kd(S){return Number.isSafeInteger(S)}var Th,Od,Pd=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},Jy=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)};class Fl{constructor(h){this.config=h,Th.add(this),this.emitter=new Xr,this.isValid=!0,this.emitter.on(jr.ERROR,this.stopBroadcast),this.config.ingestEndpoint&&(this.url=new URL(this.config.ingestEndpoint)),this.analyticsTracker=new Ic,this.mediaStreamManager=new Ie;const g=new Dm(h.logLevel,h.logger);this.peerClient=new zn(this.config,this.emitter,this.mediaStreamManager,g,this.analyticsTracker),this.broadcastCanvasManager=new Ha(h,this.mediaStreamManager,this.analyticsTracker),this.peerStatsTracker=new Yy(this.peerClient,this.broadcastCanvasManager,g,this.analyticsTracker),this.broadcastCanvasManager.start(),Object.getOwnPropertyNames(Fl.prototype).forEach(b=>{this[b]=new Proxy(this[b],{apply:(T,O,N)=>{if(!O.isValid)throw new Et(Object.assign({},dh));return Reflect.apply(T,O,N)}})}),window.addEventListener("beforeunload",()=>{this.analyticsTracker.stop(!0)})}delete(){this.isValid=!1,this.peerClient.stop(),this.broadcastCanvasManager.stop(),this.emitter.removeAllListeners()}startBroadcast(h,g){return Pd(this,void 0,void 0,function*(){Jy(this,Th,"m",Od).call(this,h);const b=By(g||this.config.ingestEndpoint);this.analyticsTracker.start(),this.peerStatsTracker.start(),yield this.peerClient.start(b,h),this.emitter.emit(jr.ACTIVE_STATE_CHANGE,!0),this.url=new URL(b),this.url&&this.analyticsTracker.trackEvent(new _h({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port},Ed.USER_INITIATED))})}stopBroadcast(){var h,g,b;this.url&&this.analyticsTracker.trackEvent(new Am({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port})),(h=this.peerStatsTracker)===null||h===void 0||h.stop(),(g=this.peerClient)===null||g===void 0||g.stop(),(b=this.emitter)===null||b===void 0||b.emit(jr.ACTIVE_STATE_CHANGE,!1)}getCanvasDimensions(){return this.broadcastCanvasManager.getCanvasDimensions()}addVideoInputDevice(h,g,b){return Pd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addVideoInputDevice(h,g,b)})}addImageSource(h,g,b){return Pd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addImageSource(h,g,b)})}addAudioInputDevice(h,g){return Pd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addAudioInputDevice(h,g)})}removeVideoInputDevice(h){this.broadcastCanvasManager.removeVideoInputDevice(h)}removeAudioInputDevice(h){this.broadcastCanvasManager.removeAudioInputDevice(h)}removeImage(h){this.broadcastCanvasManager.removeImage(h)}updateVideoDeviceComposition(h,g){this.broadcastCanvasManager.updateVideoDeviceComposition(h,g)}exchangeVideoDevicePositions(h,g){this.broadcastCanvasManager.exchangeVideoDevicePositions(h,g)}getAudioInputDevice(h){return this.broadcastCanvasManager.getAudioInputDevice(h)}getVideoInputDevice(h){return this.broadcastCanvasManager.getVideoInputDevice(h)}getConnectionState(){return this.peerClient.getConnectionState()}getSessionId(){return this.peerClient.getSessionId()}on(h,g){this.emitter.on(h,g)}off(h,g){this.emitter.off(h,g)}getAudioContext(){return this.broadcastCanvasManager.audioContext}attachPreview(h){this.broadcastCanvasManager.attachPreview(h)}detachPreview(){this.broadcastCanvasManager.detachPreview()}disableVideo(){this.broadcastCanvasManager.disableVideo()}enableVideo(){this.broadcastCanvasManager.enableVideo()}disableAudio(){this.broadcastCanvasManager.disableAudio()}enableAudio(){this.broadcastCanvasManager.enableAudio()}}function Fm(S){return new Fl(function(h){const g=new $y;return g.streamConfig=h.streamConfig,g.ingestEndpoint=h.ingestEndpoint,g.logger=h.logger,g.logLevel=h.logLevel,g.networkReconnectConfig=h.networkReconnectConfig,g}(S))}Th=new WeakSet,Od=function(S){if(typeof S!="string"||!/^[a-zA-Z0-9_-]+$/.test(S))throw new Et(hh)};const Ul="1.21.0";var Ge,wr=i(2543);(function(S){S.PUBLISH="publish",S.SUBSCRIBE="subscribe",S.JOIN="join",S.LEAVE="leave"})(Ge||(Ge={}));const ww=2,Ew="X-Stages-Options",Cw="cap";class Rh extends on{constructor(h){super(ln.LEAVE,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.LEAVE,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint,reason:h.reason}),this.critical=!0}}class yo{constructor(){this.emitter=new Xr}on(h,g,b){g.call=function(T,O){return function(N,...M){try{O.apply(N,M)}catch(L){let A=`Error in callback for ${T}`;const F=O.name;return F&&(A+=` for function ${F}`),void console.error(`${A}
`,L)}}}(h,g),this.emitter.on(h,g,b)}off(h,g,b){this.emitter.off(h,g,b)}emit(h,...g){this.emitter.emit(h,...g)}removeAllListeners(){this.emitter.removeAllListeners()}}function kh(S){const h="0123456789abcdef";let g="";for(let b=0;b<S;b+=1)g+=h.charAt(Math.floor(16*Math.random()));return g}class Tw{constructor(){const h=kh;this.value=`${h(8)}-${h(4)}-${h(4)}-${h(4)}-${h(12)}`}}function Ga(){return new Tw}class Zy{constructor(){const h=(Date.now()/1e3|0).toString(16);this.value=`1-${h}-${kh(24)}`}}function Xi(){return new Zy}var gr=i(2505),Wr=i.n(gr);class Zt extends Et{constructor({token:h,traceId:g,code:b,tag:T,location:O,message:N,details:M,remoteParticipantId:L,requestUUID:A,fatal:F,nominal:B,action:W,count:ie=1}){super({name:"StageClientError",message:N,code:b}),Error.captureStackTrace&&Error.captureStackTrace(this,Zt),this.action=W,this.token=h,this.traceId=g,this.code=b,this.tag=T,this.location=O,this.message=N,this.details=M,this.remoteParticipantId=L,this.requestUUID=A,this.fatal=F,this.nominal=B,this.count=ie}}const Nd="signalling_session",Id="webrtc_sink",Rw="webrtc_unsink",Ad="webrtc_source";function Jr(S,h){switch(S){case Ge.PUBLISH:return Id;case Ge.SUBSCRIBE:return`webrtc_source:${h}`;default:return"unknown"}}function ua(S,h){var g,b,T,O;const N={code:S.code,message:`${S.message}: ${h.name} ${h.message}`,fatal:(g=S.fatal)!==null&&g!==void 0&&g,nominal:(b=S.nominal)!==null&&b!==void 0&&b};return h instanceof Zt&&(N.fatal=(T=h.fatal)!==null&&T!==void 0&&T,N.nominal=(O=h.nominal)!==null&&O!==void 0&&O),N}function Dc(S,h){if(S===0)return Ae.UNKNOWN_SERVER_ERROR;if(!(S<400))if(S>=400&&S<=403)switch(h){case xi.TokenExpired:return Ae.EXPIRED_TOKEN;case xi.NoPermissions:return Ae.TOKEN_PERMISSIONS_DENIED;case xi.StageAtCapacity:return Ae.STAGE_AT_CAPACITY;case xi.NoMatchingCodec:return Ae.NO_MATCHING_CODEC;default:return Ae.UNKNOWN_SERVER_ERROR}else{if(S===404)return h===xi.RemoteStreamNotFound?Ae.REMOTE_STREAM_NOT_FOUND:Ae.UNKNOWN_SERVER_ERROR;if(S===412)return h===xi.AbortedMHCPError?Ae.MHCP_ABORTED:Ae.UNKNOWN_SERVER_ERROR;if(S===429)return h===xi.StageAuthThrottled?Ae.STAGE_AUTH_THROTTLED:Ae.WHIP_TOO_MANY_REQUESTS;if(S!==500)return Ae.UNKNOWN_SERVER_ERROR;switch(h){case xi.InternalMHCPError:return Ae.INTERNAL_MHCP_ERROR;case xi.UnreachableMHCP:return Ae.UNREACHABLE_MHCP;case xi.InvalidSessionStatus:return Ae.INVALID_SESSION_STATUS;default:return Ae.INTERNAL_SERVER_ERROR}}}var xi;(function(S){S[S.Unspecified=2001]="Unspecified",S[S.TokenExpired=2002]="TokenExpired",S[S.NoPermissions=2003]="NoPermissions",S[S.RemoteStreamNotFound=2004]="RemoteStreamNotFound",S[S.StageAtCapacity=2005]="StageAtCapacity",S[S.InternalMHCPError=2006]="InternalMHCPError",S[S.UncategorizedMHCPError=2007]="UncategorizedMHCPError",S[S.UnreachableMHCP=2008]="UnreachableMHCP",S[S.InvalidSessionStatus=2010]="InvalidSessionStatus",S[S.PostWithoutOptions=2011]="PostWithoutOptions",S[S.AbortedMHCPError=2012]="AbortedMHCPError",S[S.StageAuthThrottled=2013]="StageAuthThrottled",S[S.NoMatchingCodec=2014]="NoMatchingCodec"})(xi||(xi={}));const Ae={MALFORMED_TOKEN:{code:1e3,message:"Token is malformed",fatal:!0,nominal:!0},EXPIRED_TOKEN:{code:1001,message:"Token expired and is no longer valid",fatal:!0,nominal:!0},UNPUBLISH_FAILURE:{code:1013,message:"Failed to unpublish",fatal:!1,nominal:!1},UNSUBSCRIBE_FAILURE:{code:1014,message:"Failed to unsubscribe",fatal:!1,nominal:!1},PUBLISH_FAILURE:{code:1015,message:"Failed to publish",fatal:!1,nominal:!1},SUBSCRIBE_FAILURE:{code:1016,message:"Failed to subscribe",fatal:!1,nominal:!1},JOIN_FAILURE:{code:1017,message:"Failed to join",fatal:!0,nominal:!1},JOIN_TIMED_OUT:{code:1019,message:"Join timed out",fatal:!0,nominal:!1},PUBLISH_TIMED_OUT:{code:1020,message:"Publish timed out",fatal:!1,nominal:!1},SUBSCRIBE_TIMED_OUT:{code:1021,message:"Subscribe timed out",fatal:!1,nominal:!1},NO_CANDIDATES:{code:1022,message:"No ICE candidates",fatal:!1,nominal:!1},OPERATION_ABORTED:{code:1023,message:"Request aborted",fatal:!1,nominal:!0},STAGE_AT_CAPACITY:{code:1024,message:"Stage at capacity",fatal:!0,nominal:!0},INTERNAL_SERVER_ERROR:{code:1025,message:"Internal server error",fatal:!0,nominal:!1},TOKEN_PERMISSIONS_DENIED:{code:1026,message:"Token permissions are not valid for the operation",fatal:!0,nominal:!1},REMOTE_STREAM_NOT_FOUND:{code:1027,message:"Contributor group (PUBLISH) or remote stream (SUBSCRIBE) not found",fatal:!0,nominal:!1},INTERNAL_MHCP_ERROR:{code:1028,message:"Authorization failed due to internal MHCP error",fatal:!0,nominal:!1},UNCATEGORIZED_MHCP_ERROR:{code:1029,message:"Authorization failed due to uncategorized MHCP error",fatal:!0,nominal:!1},UNREACHABLE_MHCP:{code:1030,message:"Authorization failed due to MHCP unreachable",fatal:!0,nominal:!1},INVALID_SESSION_STATUS:{code:1031,message:"Stream has already been published (PUBLISH) or subscribed to (SUBSCRIBE)",fatal:!0,nominal:!1},POST_WITHOUT_OPTIONS:{code:1032,message:"Cannot POST without OPTIONS in mandatory TURN",fatal:!0,nominal:!1},MHCP_ABORTED:{code:1033,message:"Publisher state conflict",fatal:!0,nominal:!1},STAGE_AUTH_THROTTLED:{code:1034,message:"Too many requests",fatal:!1,nominal:!1},NO_MATCHING_CODEC:{code:1035,message:"No matching codec found",fatal:!0,nominal:!1},CHIME_MEETING_NOT_FOUND:{code:1098,message:"Meeting or Attendee was deleted",fatal:!0,nominal:!0},UNKNOWN_SERVER_ERROR:{code:1099,message:"Service error code unknown or not found",fatal:!0,nominal:!1},XDP_CONNECTION_LOST:{code:1221,message:"Connection lost during SDP exchange",fatal:!1,nominal:!1},XDP_INVALID_ANSWER_MSG:{code:1222,message:"Invalid answer message received by client",fatal:!1,nominal:!1},XDP_TIMEOUT:{code:1223,message:"Failed to receive SDP answer within timeout period",fatal:!1,nominal:!1},XDP_UNEXPECTED_ERROR:{code:1224,message:"Unexpected error encountered",fatal:!1,nominal:!1},WEBSOCKET_MESSAGE_PARSE_FAILURE:{code:1204,message:"Failed to parse websocket message",fatal:!1,nominal:!1},WHIP_SESSION_RESOURCE_DELETED:{code:1206,message:"WHIP signaling session resource not found",fatal:!0,nominal:!0},WHIP_TOO_MANY_REQUESTS:{code:1207,message:"WHIP endpoint received too many requests",fatal:!1,nominal:!1},WHIP_OPTIONS_FAILURE:{code:1501,message:"Failed to get ICE Servers from OPTIONS",fatal:!1,nominal:!1},WHIP_POST_FAILURE:{code:1502,message:"WHIP post failure",fatal:!1,nominal:!1},WHIP_DELETE_FAILURE:{code:1503,message:"WHIP delete failure",fatal:!1,nominal:!1},WHIP_URL_MISSING:{code:1504,message:"WHIP delete failure",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_FAILED:{code:1510,message:"Set layer request failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_THROTTLED:{code:1511,message:"Too many set layer requests",fatal:!1,nominal:!0},WHEP_GET_LAYER_STATE_FAILED:{code:1512,message:"Get layer state failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_GET_LAYER_STATE_THROTTLED:{code:1513,message:"Too many get layer state requests",fatal:!1,nominal:!0},EVENT_PLANE_WS_CREATE_FAILED:{code:1300,message:"Error creating WebSocket",fatal:!0,nominal:!1},EVENT_PLANE_WS_UNEXPECTED_CLOSE:{code:1302,message:"Unexpectedly not connected to event plane",fatal:!1,nominal:!1},EVENT_PLANE_PING_SEND_FAIL:{code:1303,message:"Ping send fail",fatal:!1,nominal:!1},EVENT_PLANE_PONG_TIMEOUT:{code:1304,message:"Pong timed out",fatal:!1,nominal:!1},EVENT_PLANE_WS_CLOSE_BEFORE_OPEN:{code:1305,message:"Connect attempt closed by server",fatal:!1,nominal:!1},PEER_CONNECTION_NETWORK_FAILURE:{code:1400,message:"PeerConnection is lost due to unknown network error",fatal:!1,nominal:!1},CREATE_OFFER_FAILURE:{code:1402,message:"Failed to set local description",fatal:!1,nominal:!1},CREATE_PEER_CONNECTION_FAILURE:{code:1403,message:"Failed to create a peer connection",fatal:!1,nominal:!1},ICE_CANDIDATE_ERROR:{code:1404,message:"ICE candidate error",fatal:!1,nominal:!1},SET_ANSWER_FAILURE:{code:1405,message:"Failed to set remote answer",fatal:!1,nominal:!1},NETWORK_FAILURE:{code:1406,message:"Failed due to network problem",fatal:!1,nominal:!1},SEI_INSERT_NOT_PUBLISHING_VIDEO:{code:1460,message:"SEI failed to insert due to not publishing video",fatal:!1,nominal:!0},SEI_INSERT_INBAND_NOT_ENABLED:{code:1461,message:"SEI failed to insert due to in-band messaging not being enabled",fatal:!1,nominal:!0},REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID:{code:1470,message:"Invalid participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID:{code:1471,message:"Invalid remote participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE:{code:1472,message:"Invalid subscriber peer connection state for reassignment",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS:{code:1473,message:"Request rejected because client is already processing a previous reassignment request",fatal:!1,nominal:!1},UNEXPECTED_ERROR:{code:9999,message:"Encountered unexpected error condition. Expected StageClientError type.",fatal:!1,nominal:!1},TRANSFORM_UNEXPECTED_ERROR:{code:1480,message:"Unexpected error occurred during transform execution",fatal:!1,nominal:!1},TRANSFORM_TOO_MANY_ERRORS:{code:1481,message:"Transformer encountered too many consecutive errors",fatal:!1,nominal:!1},TRANSFORM_NOT_SUPPORTED_BY_PLATFORM:{code:1482,message:"Transforms are not supported by this platform",fatal:!1,nominal:!1},CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR:{code:1490,message:"Unexpected error occurred when handling incompatible codecs",fatal:!1,nominal:!1}};var Si;(function(S){S.UNPUBLISH="unpublish",S.UNSUBSCRIBE="unsubscribe",S.UNLOAD="unload",S.CONNECTION_FAIL="connection fail",S.REASSIGNMENT="reassignment"})(Si||(Si={}));const Bl="stageJoined",Oh="stageParticipantJoined",Ph="stageParticipantLeft",Um="stageParticipantKicked",Nh="stageParticipantUpdated",Bm="localPublishingChanged",Ih="stageRefresh",da="stateChange",$m="error",H="reassignmentRequest",Mc="incompatibleCodecs",$l="connectionStateChange",Ji="stageStreamUpdate",yn="error",qa="stageStreamSeiMessageReceived",as="transformError",Us="reassignmentStarted",Ka="reassignmentSuccess",Uo="reassignmentFailed",Vm="open",jd="closed",e0="messageParseError",t0="refresh",cs="error",Vl="stageStateMessage",zl="sdpAnswer",n0="disconnectMessage",zm="reassignmentMessage",Bs="incompatibleCodecs";function Ah(S){return g=function(b){return b.replace(/-/g,"+").replace(/_/g,"/").padEnd(b.length+(4-b.length%4)%4,"=")}(S),window.atob(g);var g}class Lc{constructor(h,g){this.analyticsTracker=g,this.rawToken=h;const b=h.split(".");if(b.length!==3)throw Error(`Token format incorrect. length: ${b.length}`);try{this.header=JSON.parse(Ah(b[0]))}catch(N){const M=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token header${M}`)}try{this.claims=JSON.parse(Ah(b[1]))}catch(N){const M=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token claims${M}`)}this.signature=b[2];const{claims:T}=this;this.stageARN=T.resource,this.participantID=T.jti,this.eventsURL=T.events_url,this.whipURL=bi("whipUrl")||T.whip_url,this.userID=T.user_id,this.expirationTime=T.exp,this.topic=T.topic,this.parseVersionFlags(T.version);const{attributes:O}=T;O&&(this.attrGsRole=O.gs_role,this.attrGsSessionId=O.gs_session_id)}getPublishEndpoint(){let h="";return this.whipURL&&this.participantID&&(h=`${this.whipURL}/publish/${this.participantID}`),h}getSubscribeEndpoint(h){let g="";return this.whipURL&&(g=`${this.whipURL}/subscribe/${h}`),g}assertTokenIsUnexpired(h,g,b,T){(!this.expirationTime||Date.now()/1e3>=this.expirationTime)&&this.analyticsTracker.trackErrorAndThrow(new Zt(Object.assign(Object.assign({},Ae.EXPIRED_TOKEN),{action:Ge.JOIN,location:b,tag:g,token:this,traceId:h,remoteParticipantId:T,message:Ae.EXPIRED_TOKEN.message,details:`Token expired at ${this.expirationTime} and is no longer valid`})))}parseVersionFlags(h){if(!h)return;const g=h.split(".");g.length===2&&(this.versionFlags=parseInt(g[1],10))}shouldSendSilentAudio(){return this.versionFlags===void 0||!!(this.versionFlags&ww)}}function bo(S,h){return new Lc(S,h)}class r0{constructor(h,g){this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=()=>{this.trailing&&this.trailingFn&&this.trailingFn(...this.trailingFnArgs),this.clear()},this.throttleDuration=h,this.trailing=!(g&&g.skipTrailing)}invoke(h,...g){return this.throttled?(this.trailingFn=h,this.trailingFnArgs=g,!1):(this.throttled=!0,this.timeout=window.setTimeout(this.unthrottle,this.throttleDuration),h(...g),!0)}clear(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn,delete this.trailingFnArgs}}var ot=i(8954);class Wl extends on{constructor(h,g,b,T,O,N,M,L){super(ln.SERVER_REQUEST,g,M,!0),Object.assign(this.properties,{action:h,http_method:T,remote_participant_id:N,request_uuid:O,url:b,transport:L})}}const ls="draft-ietf-wish-whip-04";var Zr,i0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};function Dd(S,h){return i0(this,void 0,void 0,function*(){S.validateStatus=b=>b>=200&&b<300||b===403;const g=yield Wr()(S);if(g.status===403){if(g.data.code===2003)throw new gr.AxiosError("Request failed with status code 403","ERR_BAD_REQUEST",S,g.request,g);return S.url===g.request.responseURL?(S.validateStatus=b=>b>=200&&b<300,Wr()(S)):(S.url=g.request.responseURL,h<5?Dd(S,h+1):(S.validateStatus=b=>b>=200&&b<300,Wr()(S)))}return g})}function o0(S){return i0(this,void 0,void 0,function*(){return Dd(S,0)})}function ei(){}function jh(S){switch(S){case"new":return gt.NEW;case"closed":return gt.CLOSED;case"disconnected":return gt.DISCONNECTED;case"failed":return gt.FAILED;case"idle":return gt.IDLE;case"checking":case"connecting":return gt.CONNECTING;case"completed":case"connected":return gt.CONNECTED;default:throw new Error(`unknown connecion state: ${S}`)}}function Wm(S,h,g){let b=document.createElement(h);const T=()=>{b&&(b.removeEventListener("loadeddata",O),b.removeEventListener("error",T),b.srcObject=null,b.src="",b=null)},O=()=>{T(),g(h)};return b.addEventListener("loadeddata",O),b.addEventListener("error",T),b.srcObject=S,T}class xo extends on{constructor(h,g,b,T,O){super(ln.TRACE,h,g,!1),Object.assign(this.properties,{action:T,message:b,remote_participant_id:O})}}class Hm extends on{constructor(h,g,b,T,O){super(ln.CONNECTION_STATE,g,b,!1),Object.assign(this.properties,{action:h,remote_participant_id:O,state:T})}}class Dh extends on{constructor(h,g,b,T,O){super(ln.ICE_GATHERING_STATE,g,b,!1),Object.assign(this.properties,{action:h,remote_participant_id:O,state:T})}}(function(S){S.POST="post",S.CONNECTED="connected",S.ICE_GATHERING="icegathering",S.SDP_EXCHANGE="sdpExchange",S.SET_REMOTE_DESC="setRemoteDesc",S.PEER_CONNECTION="peerConnection"})(Zr||(Zr={}));const Ya="start",Gm="stop";class Ui{constructor(h,g){this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0,this.action=h,this.traceId=g}markActionStart(){this.markStart(Zr.CONNECTED)}markPostStart(){this.markStart(Zr.POST)}markPostStop(){this.markStop(Zr.POST),this.postDuration=this.measure(Zr.POST)}markIceGatheringStart(){this.markStart(Zr.ICE_GATHERING)}markIceGatheringStop(){this.markStop(Zr.ICE_GATHERING),this.timeToCandidate=this.measure(Zr.ICE_GATHERING)}markActionStop(){this.markStop(Zr.CONNECTED),this.timeToConnected=this.measure(Zr.CONNECTED),this.markStop(Zr.PEER_CONNECTION),this.peerConnectionDuration=this.measure(Zr.PEER_CONNECTION)}markSetRemoteDescStart(){this.markStart(Zr.SET_REMOTE_DESC)}markSetRemoteDescStop(){const h=Zr.SET_REMOTE_DESC;this.markStop(h),this.setRemoteDescDuration=this.measure(h),this.markStart(Zr.PEER_CONNECTION)}markSdpExchangeStart(){this.markStart(Zr.SDP_EXCHANGE)}markSdpExchangeStop(){const h=Zr.SDP_EXCHANGE;this.markStop(h),this.sdpExchangeDuration=this.measure(h)}setTransport(h){this.sdpExchangeTransport=h}markStart(h){this.marks[`${this.namespace}.${h}.${Ya}`]=performance.now()}markStop(h){this.marks[`${this.namespace}.${h}.${Gm}`]=performance.now()}measure(h){const g=`${this.namespace}.${h}.${Ya}`,b=`${this.namespace}.${h}.${Gm}`,T=this.marks[g],O=this.marks[b];return T===void 0||O===void 0?0:O-T}get namespace(){return`ivswb.peerclient.${this.action}.${this.traceId.value}`}getMeasurements(){const{optionsDuration:h,postDuration:g,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:M,peerConnectionDuration:L}=this;return{optionsDuration:h,postDuration:g,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:M,peerConnectionDuration:L}}resetMeasurements(h){this.traceId=h,this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0}}var fa,_i,Hl;(function(S){S.VIDEO="video",S.AUDIO="audio"})(fa||(fa={})),function(S){S.DEFAULT="default",S.LOW="low",S.MEDIUM="medium",S.HIGH="high"}(_i||(_i={})),function(S){S.LOWEST_QUALITY="lowest_quality",S.HIGHEST_QUALITY="highest_quality"}(Hl||(Hl={}));var Gl=i(7363);class Nn{constructor(h){this.sdp=h}static splitLines(h){return h.trim().split(`
`).map(g=>g.trim())}static splitSections(h){return h.split(`
m=`).map((g,b)=>(b>0?`m=${g}`:g).trim()+Nn.CRLF)}getUniqueRtpHeaderExtensionId(h){const g=[];for(const T of h)if(/^a=extmap:/.test(T.trim())){const O=+T.split("a=extmap:")[1].split(" ")[0];g.includes(O)||g.push(O)}g.sort((T,O)=>T-O);let b=0;for(const T of g){if(T-b>1)return b+1;b=T}return b===14?-1:b+1}withVideoLayersAllocationRtpHeaderExtension(h){const g="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",b=h?h.getRtpHeaderExtensionId(g):-1,T=b===-1?this.getUniqueRtpHeaderExtensionId(Nn.splitLines(this.sdp)):b,O=Nn.splitSections(this.sdp),N=[];for(let L of O){if(/^m=video/.test(L)&&Nn.getRtpHeaderExtensionIdInSection(L,g)===-1){const A=Nn.splitLines(L),F=[];if(T===-1||this.hasRtpHeaderExtensionId(T)){N.push(L);continue}for(const B of A)if(F.push(B),/^a=sendrecv/.test(B.trim())){const W=`a=extmap:${T} ${g}`;F.push(W)}L=F.join(Nn.CRLF)+Nn.CRLF}else if(b!==-1&&/^m=video/.test(L)&&Nn.getRtpHeaderExtensionIdInSection(L,g)!==b){const A=Nn.splitLines(L),F=[];for(const B of A){if(/^a=extmap:/.test(B.trim())&&B.split("a=extmap:")[1].split(" ")[1]===g){if(!this.hasRtpHeaderExtensionId(b)){const W=`a=extmap:${b} ${g}`;F.push(W)}continue}F.push(B)}L=F.join(Nn.CRLF)+Nn.CRLF}N.push(L)}const M=N.join("");return new Nn(M)}withOpusAudioConfig(h,g){const b=Gl.qg(this.sdp);for(const T of b.media)if(T.type==="audio"){const{payload:O}=T.rtp.find(A=>A.codec==="opus");if(!O)continue;let N=T.fmtp.find(A=>A.payload===O);N||(N={payload:O,config:""});const M=Gl.Sl(N.config);if(M.maxaveragebitrate=h,typeof g=="boolean"){const A=g?1:0;M["sprop-stereo"]=A,M.stereo=A}let L="";for(const A of Object.keys(M))L+=`${A}=${M[A]}; `;N.config=L.trim()}return new Nn(Gl.M9(b))}static getRtpHeaderExtensionIdInSection(h,g){const b=Nn.splitLines(h);for(const T of b)if(/^a=extmap:/.test(T.trim())){const O=T.split("a=extmap:")[1].split(" "),N=+O[0];if(O[1]===g)return N}return-1}getRtpHeaderExtensionId(h){const g=Nn.splitSections(this.sdp);for(const b of g)if(/^m=video/.test(b)){const T=Nn.getRtpHeaderExtensionIdInSection(b,h);if(T!==-1)return T}return-1}hasRtpHeaderExtensionId(h){const g=Nn.splitLines(this.sdp);for(const b of g)if(/^a=extmap:/.test(b.trim())&&+b.split("a=extmap:")[1].split(" ")[0]===h)return!0;return!1}hasAudioNacksEnabled(){var h,g,b;return((b=(g=((h=Gl.qg(this.sdp).media.filter(T=>T.type==="audio")[0])!==null&&h!==void 0?h:{}).rtcpFb)===null||g===void 0?void 0:g.filter(T=>T.type==="nack"))!==null&&b!==void 0?b:[]).length>0}}Nn.CRLF=`\r
`,Nn.rfc7587LowestBitrate=6e3,Nn.rfc7587HighestBitrate=51e4;const Fc=200,us=2500,Mh=10,Qa=30,Md=12,Uc=128,qm=64,Km={[_i.DEFAULT]:0,[_i.LOW]:50,[_i.MEDIUM]:150,[_i.HIGH]:250},s0={[_i.DEFAULT]:0,[_i.LOW]:100,[_i.MEDIUM]:200,[_i.HIGH]:300};var a0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Ym="H264",Ld=S=>{const h=S==null?void 0:S.split("/");if((h==null?void 0:h.length)===2)return h[1]},ds=(S,h)=>{const g=Ld(S);if(S===void 0||g===void 0)return;const b={mimeSubtype:g};if(h){const T=(O=>{const N=O.split(";"),M=new Map;for(const L of N){const[A,F]=L.split("=");M.set(A,F)}return M})(h);switch(g){case Ym:{const O=T.get("profile-level-id");O&&((N,M)=>{if(M.length<6)return;const L=M.substring(0,4),A=parseInt(M.substring(4,6),16);N.profile=L,N.level=A})(b,O);break}case"H265":((O,N)=>{const M=N.get("profile-id")||"0",L=N.get("tier-flag")||"0",A=parseInt(N.get("level-id")||"0",10),F=[L,M].join("_");O.profile=F,O.level=A})(b,T)}}return b},Qm=(S,h)=>S.sort((g,b)=>{if(Ld(g.mimeType)===Ym){const T=ds(g.mimeType,g.sdpFmtpLine);if((T==null?void 0:T.profile)===h)return-1}return 0}),Xm=(S,h)=>{var g;const b=ds(S.mimeType,S.sdpFmtpLine);return(b==null?void 0:b.mimeSubtype.toLowerCase())===h.mime.toLowerCase()&&((g=b==null?void 0:b.profile)===null||g===void 0?void 0:g.toLowerCase().indexOf(h.config.toLowerCase()))===0},Jm=(S,h)=>h.filter(g=>!g.mimeType.endsWith("rtx")).filter(g=>g.mimeType.indexOf("packetization-mode=0")===-1).find(g=>S.reduce((b,T)=>b&&Xm(g,T)===!1,!0));class c0 extends on{constructor(h,g,b,T,O,N,M,L,A){var F,B;super(ln.PUBLISHED_VIDEO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(F=b==null?void 0:b.node)!==null&&F!==void 0?F:"",cluster:(B=b==null?void 0:b.cluster)!==null&&B!==void 0?B:""},((W,ie,be,ge,le,ae)=>{var oe,we,ze,st,Tt,Yt,Qt,zt,Nt,en,un,vt,yt,cn,It,At,dn,Pn,Bn,ir,An,vr,cr,lr,ur,dr,fr,Ur,hr,hi,Hr;const Pi=(we=(oe=W==null?void 0:W.qualityLimitationDurations)===null||oe===void 0?void 0:oe.cpu)!==null&&we!==void 0?we:0,Ni=(st=(ze=W==null?void 0:W.qualityLimitationDurations)===null||ze===void 0?void 0:ze.bandwidth)!==null&&st!==void 0?st:0,pi=Math.max((Tt=W==null?void 0:W.bytesSent)!==null&&Tt!==void 0?Tt:0,0),Vi=8*pi/(ae??1),to=Math.max((Yt=ie==null?void 0:ie.packetsLost)!==null&&Yt!==void 0?Yt:0,0),wo=Math.max((Qt=W==null?void 0:W.packetsSent)!==null&&Qt!==void 0?Qt:0,0),pr=to/Math.max(wo,1),li=ds(ge==null?void 0:ge.mimeType,ge==null?void 0:ge.sdpFmtpLine);return{active:!!(W!=null&&W.framesPerSecond)&&W.framesPerSecond!==0,bytes_sent:pi,codec_mime_type:li==null?void 0:li.mimeSubtype,codec_profile:li==null?void 0:li.profile,codec_level:li==null?void 0:li.level,configured_bitrate:le==null?void 0:le.max_bitrate,connection_bandwidth:(zt=be==null?void 0:be.availableOutgoingBitrate)!==null&&zt!==void 0?zt:0,encode_bitrate:Vi,encoder_implementation:(Nt=W==null?void 0:W.encoderImplementation)!==null&&Nt!==void 0?Nt:"unknown",fir_count:(en=W==null?void 0:W.firCount)!==null&&en!==void 0?en:0,fraction_packets_lost:pr,frame_height:Math.max((un=W==null?void 0:W.frameHeight)!==null&&un!==void 0?un:0,0),frame_width:Math.max((vt=W==null?void 0:W.frameWidth)!==null&&vt!==void 0?vt:0,0),frames_encoded:(yt=W==null?void 0:W.framesEncoded)!==null&&yt!==void 0?yt:0,frames_per_second:Math.max((cn=W==null?void 0:W.framesPerSecond)!==null&&cn!==void 0?cn:0,0),frames_sent:(It=W==null?void 0:W.framesSent)!==null&&It!==void 0?It:0,header_bytes_sent:(At=W==null?void 0:W.headerBytesSent)!==null&&At!==void 0?At:0,huge_frames_sent:(dn=W==null?void 0:W.hugeFramesSent)!==null&&dn!==void 0?dn:0,key_frames_encoded:(Pn=W==null?void 0:W.keyFramesEncoded)!==null&&Pn!==void 0?Pn:0,nack_count:(Bn=W==null?void 0:W.nackCount)!==null&&Bn!==void 0?Bn:0,packets_lost:to,packets_sent:wo,power_efficient_encoder:(ir=W==null?void 0:W.powerEfficientEncoder)!==null&&ir!==void 0&&ir,pli_count:(An=W==null?void 0:W.pliCount)!==null&&An!==void 0?An:0,quality_limitation_reason:(vr=W==null?void 0:W.qualityLimitationReason)!==null&&vr!==void 0?vr:"none",quality_limitation_resolution_changes:(cr=W==null?void 0:W.qualityLimitationResolutionChanges)!==null&&cr!==void 0?cr:0,quality_limitation_cpu_duration:Pi,quality_limitation_bandwidth_duration:Ni,retransmitted_bytes_sent:(lr=W==null?void 0:W.retransmittedBytesSent)!==null&&lr!==void 0?lr:0,retransmitted_packets_sent:(ur=W==null?void 0:W.retransmittedPacketsSent)!==null&&ur!==void 0?ur:0,rid:(dr=W==null?void 0:W.rid)!==null&&dr!==void 0?dr:"no-rid",scalability_mode:(fr=W==null?void 0:W.scalabilityMode)!==null&&fr!==void 0?fr:"unknown",target_bitrate:Math.max((Ur=W==null?void 0:W.targetBitrate)!==null&&Ur!==void 0?Ur:0,0),total_encode_time:(hr=W==null?void 0:W.totalEncodeTime)!==null&&hr!==void 0?hr:0,total_encoded_bytes_target:(hi=W==null?void 0:W.totalEncodedBytesTarget)!==null&&hi!==void 0?hi:0,total_packet_send_delay:(Hr=W==null?void 0:W.totalPacketSendDelay)!==null&&Hr!==void 0?Hr:0}})(T,O,N,M,L,A)))}}class Zm extends on{constructor(h,g,b,T,O,N,M,L,A,F,B,W){var ie,be,ge,le;super(ln.PUBLISHED_VIDEO_STATS_WINDOW,h,g,!1);const ae=Math.max(((ie=T==null?void 0:T.timestamp)!==null&&ie!==void 0?ie:0)-((be=O==null?void 0:O.timestamp)!==null&&be!==void 0?be:0),0);Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(ge=b==null?void 0:b.node)!==null&&ge!==void 0?ge:"",cluster:(le=b==null?void 0:b.cluster)!==null&&le!==void 0?le:"",window_size_ms:ae},((oe,we,ze,st,Tt,Yt,Qt,zt,Nt,en)=>{var un,vt,yt,cn,It,At,dn,Pn,Bn,ir,An,vr,cr,lr,ur,dr,fr,Ur,hr,hi,Hr,Pi,Ni,pi,Vi,to,wo,pr,li,Vs,Sa,Eo,Vo,_a,zs,Ws,Hs,Gs,qs,zo,nc,nu,ru,iu,nf,Wc,rf,of,Hc,d,v,k;const D=(vt=(un=oe==null?void 0:oe.qualityLimitationDurations)===null||un===void 0?void 0:un.cpu)!==null&&vt!==void 0?vt:0,$=(cn=(yt=we==null?void 0:we.qualityLimitationDurations)===null||yt===void 0?void 0:yt.cpu)!==null&&cn!==void 0?cn:0,K=(At=(It=oe==null?void 0:oe.qualityLimitationDurations)===null||It===void 0?void 0:It.bandwidth)!==null&&At!==void 0?At:0,te=(Pn=(dn=we==null?void 0:we.qualityLimitationDurations)===null||dn===void 0?void 0:dn.bandwidth)!==null&&Pn!==void 0?Pn:0,se=Math.max(((Bn=oe==null?void 0:oe.bytesSent)!==null&&Bn!==void 0?Bn:0)-((ir=we==null?void 0:we.bytesSent)!==null&&ir!==void 0?ir:0),0),he=typeof zt!="number"?1:zt/1e3,Pe=8*se/he,ke=Math.max(((An=ze==null?void 0:ze.packetsLost)!==null&&An!==void 0?An:0)-((vr=st==null?void 0:st.packetsLost)!==null&&vr!==void 0?vr:0),0),Me=Math.max(((cr=oe==null?void 0:oe.packetsSent)!==null&&cr!==void 0?cr:0)-((lr=we==null?void 0:we.packetsSent)!==null&&lr!==void 0?lr:0),0),at=ke/Math.max(Me,1),rt=ds(Yt==null?void 0:Yt.mimeType,Yt==null?void 0:Yt.sdpFmtpLine),kt=8*(en||0)/he;return{active:!!(oe!=null&&oe.framesPerSecond)&&(oe==null?void 0:oe.framesPerSecond)!==0,bytes_sent:se,codec_mime_type:rt==null?void 0:rt.mimeSubtype,codec_profile:rt==null?void 0:rt.profile,codec_level:rt==null?void 0:rt.level,configured_bitrate:Qt==null?void 0:Qt.max_bitrate,connection_bandwidth:(ur=Tt==null?void 0:Tt.availableOutgoingBitrate)!==null&&ur!==void 0?ur:0,encode_bitrate:Pe,encoder_implementation:(dr=oe==null?void 0:oe.encoderImplementation)!==null&&dr!==void 0?dr:"unknown",fir_count:Math.max(((fr=oe==null?void 0:oe.firCount)!==null&&fr!==void 0?fr:0)-((Ur=we==null?void 0:we.firCount)!==null&&Ur!==void 0?Ur:0),0),fraction_packets_lost:at,frame_height:Math.max((hr=oe==null?void 0:oe.frameHeight)!==null&&hr!==void 0?hr:0,0),frame_width:Math.max((hi=oe==null?void 0:oe.frameWidth)!==null&&hi!==void 0?hi:0,0),frames_encoded:Math.max(((Hr=oe==null?void 0:oe.framesEncoded)!==null&&Hr!==void 0?Hr:0)-((Pi=we==null?void 0:we.framesEncoded)!==null&&Pi!==void 0?Pi:0),0),frames_per_second:Math.max((Ni=oe==null?void 0:oe.framesPerSecond)!==null&&Ni!==void 0?Ni:0,0),frames_sent:Math.max(((pi=oe==null?void 0:oe.framesSent)!==null&&pi!==void 0?pi:0)-((Vi=we==null?void 0:we.framesSent)!==null&&Vi!==void 0?Vi:0),0),header_bytes_sent:Math.max(((to=oe==null?void 0:oe.headerBytesSent)!==null&&to!==void 0?to:0)-((wo=we==null?void 0:we.headerBytesSent)!==null&&wo!==void 0?wo:0),0),huge_frames_sent:Math.max(((pr=oe==null?void 0:oe.hugeFramesSent)!==null&&pr!==void 0?pr:0)-((li=we==null?void 0:we.hugeFramesSent)!==null&&li!==void 0?li:0),0),key_frames_encoded:Math.max(((Vs=oe==null?void 0:oe.keyFramesEncoded)!==null&&Vs!==void 0?Vs:0)-((Sa=we==null?void 0:we.keyFramesEncoded)!==null&&Sa!==void 0?Sa:0),0),nack_count:Math.max(((Eo=oe==null?void 0:oe.nackCount)!==null&&Eo!==void 0?Eo:0)-((Vo=we==null?void 0:we.nackCount)!==null&&Vo!==void 0?Vo:0),0),packets_lost:ke,packets_sent:Me,power_efficient_encoder:(_a=oe==null?void 0:oe.powerEfficientEncoder)!==null&&_a!==void 0&&_a,pli_count:Math.max(((zs=oe==null?void 0:oe.pliCount)!==null&&zs!==void 0?zs:0)-((Ws=we==null?void 0:we.pliCount)!==null&&Ws!==void 0?Ws:0),0),quality_limitation_reason:(Hs=oe==null?void 0:oe.qualityLimitationReason)!==null&&Hs!==void 0?Hs:"none",quality_limitation_resolution_changes:Math.max(((Gs=oe==null?void 0:oe.qualityLimitationResolutionChanges)!==null&&Gs!==void 0?Gs:0)-((qs=we==null?void 0:we.qualityLimitationResolutionChanges)!==null&&qs!==void 0?qs:0),0),quality_limitation_cpu_duration:Math.max(D-$,0),quality_limitation_bandwidth_duration:Math.max(K-te,0),retransmitted_bytes_sent:Math.max(((zo=oe==null?void 0:oe.retransmittedBytesSent)!==null&&zo!==void 0?zo:0)-((nc=we==null?void 0:we.retransmittedBytesSent)!==null&&nc!==void 0?nc:0),0),rid:(nu=oe==null?void 0:oe.rid)!==null&&nu!==void 0?nu:"no-rid",retransmitted_packets_sent:Math.max(((ru=oe==null?void 0:oe.retransmittedPacketsSent)!==null&&ru!==void 0?ru:0)-((iu=we==null?void 0:we.retransmittedPacketsSent)!==null&&iu!==void 0?iu:0),0),scalability_mode:(nf=oe==null?void 0:oe.scalabilityMode)!==null&&nf!==void 0?nf:"unknown",target_bitrate:Math.max((Wc=oe==null?void 0:oe.targetBitrate)!==null&&Wc!==void 0?Wc:0,0),total_encode_time:Math.max(((rf=oe==null?void 0:oe.totalEncodeTime)!==null&&rf!==void 0?rf:0)-((of=we==null?void 0:we.totalEncodeTime)!==null&&of!==void 0?of:0),0),total_encoded_bytes_target:Math.max(((Hc=oe==null?void 0:oe.totalEncodedBytesTarget)!==null&&Hc!==void 0?Hc:0)-((d=we==null?void 0:we.totalEncodedBytesTarget)!==null&&d!==void 0?d:0),0),total_packet_send_delay:Math.max(((v=oe==null?void 0:oe.totalPacketSendDelay)!==null&&v!==void 0?v:0)-((k=we==null?void 0:we.totalPacketSendDelay)!==null&&k!==void 0?k:0),0),sei_write_count:Nt,sei_bytes_sent:en,sei_bitrate:kt}})(T,O,N,M,L,A,F,ae,B,W)))}}class eg extends on{constructor(h,g,b,T,O,N,M,L,A,F){var B,W;super(ln.PUBLISHED_AUDIO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(B=b==null?void 0:b.node)!==null&&B!==void 0?B:"",cluster:(W=b==null?void 0:b.cluster)!==null&&W!==void 0?W:""},((ie,be,ge,le,ae,oe,we)=>{var ze,st,Tt,Yt,Qt,zt,Nt,en,un,vt,yt;const cn=Math.max((ze=ie==null?void 0:ie.bytesSent)!==null&&ze!==void 0?ze:0,0),It=8*cn/(oe??1),At=Math.max((st=be==null?void 0:be.packetsLost)!==null&&st!==void 0?st:0,0),dn=Math.max((Tt=ie==null?void 0:ie.packetsSent)!==null&&Tt!==void 0?Tt:0,0),Pn=At/Math.max(dn,1),Bn=ds(le==null?void 0:le.mimeType,le==null?void 0:le.sdpFmtpLine);return{audio_nacks_enabled:(Yt=we==null?void 0:we.audioNacks)!==null&&Yt!==void 0&&Yt,bytes_sent:cn,codec_mime_type:Bn==null?void 0:Bn.mimeSubtype,configured_bitrate:(Qt=ae==null?void 0:ae.max_audio_bitrate_bps)!==null&&Qt!==void 0?Qt:0,connection_bandwidth:(zt=ge==null?void 0:ge.availableOutgoingBitrate)!==null&&zt!==void 0?zt:0,encode_bitrate:It,fraction_packets_lost:Pn,header_bytes_sent:(Nt=ie==null?void 0:ie.headerBytesSent)!==null&&Nt!==void 0?Nt:0,nack_count:(en=ie==null?void 0:ie.nackCount)!==null&&en!==void 0?en:0,packets_lost:At,packets_sent:dn,retransmitted_bytes_sent:(un=ie==null?void 0:ie.retransmittedBytesSent)!==null&&un!==void 0?un:0,retransmitted_packets_sent:(vt=ie==null?void 0:ie.retransmittedPacketsSent)!==null&&vt!==void 0?vt:0,target_bitrate:(yt=ie==null?void 0:ie.targetBitrate)!==null&&yt!==void 0?yt:0}})(T,O,N,M,L,A,F)))}}class mn extends on{constructor(h,g,b,T,O,N,M,L,A,F,B){var W,ie,be,ge;super(ln.PUBLISHED_AUDIO_STATS_WINDOW,h,g,!1);const le=Math.max(((W=T==null?void 0:T.timestamp)!==null&&W!==void 0?W:0)-((ie=O==null?void 0:O.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(be=b==null?void 0:b.node)!==null&&be!==void 0?be:"",cluster:(ge=b==null?void 0:b.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le},((ae,oe,we,ze,st,Tt,Yt,Qt,zt)=>{var Nt,en,un,vt,yt,cn,It,At,dn,Pn,Bn,ir,An,vr,cr,lr,ur,dr,fr,Ur;const hr=Math.max(((Nt=ae==null?void 0:ae.bytesSent)!==null&&Nt!==void 0?Nt:0)-((en=oe==null?void 0:oe.bytesSent)!==null&&en!==void 0?en:0),0),hi=8*hr/(typeof Qt!="number"?1:Qt/1e3),Hr=Math.max(((un=we==null?void 0:we.packetsLost)!==null&&un!==void 0?un:0)-((vt=ze==null?void 0:ze.packetsLost)!==null&&vt!==void 0?vt:0),0),Pi=Math.max(((yt=ae==null?void 0:ae.packetsSent)!==null&&yt!==void 0?yt:0)-((cn=oe==null?void 0:oe.packetsSent)!==null&&cn!==void 0?cn:0),0),Ni=Hr/Math.max(Pi,1),pi=ds(Tt==null?void 0:Tt.mimeType,Tt==null?void 0:Tt.sdpFmtpLine);return{audio_nacks_enabled:(It=zt==null?void 0:zt.audioNacks)!==null&&It!==void 0&&It,bytes_sent:hr,codec_mime_type:pi==null?void 0:pi.mimeSubtype,configured_bitrate:(At=Yt==null?void 0:Yt.max_audio_bitrate_bps)!==null&&At!==void 0?At:0,connection_bandwidth:(dn=st==null?void 0:st.availableOutgoingBitrate)!==null&&dn!==void 0?dn:0,encode_bitrate:hi,fraction_packets_lost:Ni,header_bytes_sent:Math.max(((Pn=ae==null?void 0:ae.headerBytesSent)!==null&&Pn!==void 0?Pn:0)-((Bn=oe==null?void 0:oe.headerBytesSent)!==null&&Bn!==void 0?Bn:0),0),nack_count:Math.max(((ir=ae==null?void 0:ae.nackCount)!==null&&ir!==void 0?ir:0)-((An=oe==null?void 0:oe.nackCount)!==null&&An!==void 0?An:0),0),packets_lost:Hr,packets_sent:Math.max(((vr=ae==null?void 0:ae.packetsSent)!==null&&vr!==void 0?vr:0)-((cr=oe==null?void 0:oe.packetsSent)!==null&&cr!==void 0?cr:0),0),retransmitted_bytes_sent:Math.max(((lr=ae==null?void 0:ae.retransmittedBytesSent)!==null&&lr!==void 0?lr:0)-((ur=oe==null?void 0:oe.retransmittedBytesSent)!==null&&ur!==void 0?ur:0),0),retransmitted_packets_sent:Math.max(((dr=ae==null?void 0:ae.retransmittedPacketsSent)!==null&&dr!==void 0?dr:0)-((fr=oe==null?void 0:oe.retransmittedPacketsSent)!==null&&fr!==void 0?fr:0),0),target_bitrate:Math.max((Ur=ae==null?void 0:ae.targetBitrate)!==null&&Ur!==void 0?Ur:0,0)}})(T,O,N,M,L,A,F,le,B)))}}class kw extends on{constructor(h,g,b,T,O,N,M,L){var A,F;super(ln.SUBSCRIBED_VIDEO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(A=T==null?void 0:T.node)!==null&&A!==void 0?A:"",cluster:(F=T==null?void 0:T.cluster)!==null&&F!==void 0?F:"",remote_participant_id:b},((B,W,ie,be)=>{var ge,le,ae,oe,we,ze,st,Tt,Yt,Qt,zt,Nt,en,un,vt,yt,cn,It,At,dn,Pn,Bn,ir;let An=0;B!=null&&B.jitterBufferDelay&&(B!=null&&B.jitterBufferEmittedCount)&&B.jitterBufferEmittedCount>0&&(An=B.jitterBufferDelay/B.jitterBufferEmittedCount);const vr=be??1,cr=Math.max((ge=B==null?void 0:B.bytesReceived)!==null&&ge!==void 0?ge:0,0),lr=8*cr/vr;let ur=0;B!=null&&B.totalDecodeTime&&(B!=null&&B.framesDecoded)&&(ur=B.totalDecodeTime/Math.max(B==null?void 0:B.framesDecoded,1));const dr=Math.max((le=B==null?void 0:B.packetsLost)!==null&&le!==void 0?le:0,0),fr=Math.max((ae=B==null?void 0:B.packetsReceived)!==null&&ae!==void 0?ae:0,0),Ur=dr/Math.max(fr+dr,1),hr=ds(ie==null?void 0:ie.mimeType,ie==null?void 0:ie.sdpFmtpLine);return{bytes_received:cr,codec_mime_type:hr==null?void 0:hr.mimeSubtype,codec_profile:hr==null?void 0:hr.profile,codec_level:hr==null?void 0:hr.level,connection_bandwidth:(oe=W==null?void 0:W.availableIncomingBitrate)!==null&&oe!==void 0?oe:0,decode_bitrate:lr,decoder_implementation:(we=B==null?void 0:B.decoderImplementation)!==null&&we!==void 0?we:"unknown",fir_count:Math.max((ze=B==null?void 0:B.firCount)!==null&&ze!==void 0?ze:0,0),fraction_packets_lost:Ur,frame_decode_time_avg:ur,frame_height:Math.max((st=B==null?void 0:B.frameHeight)!==null&&st!==void 0?st:0,0),frame_width:Math.max((Tt=B==null?void 0:B.frameWidth)!==null&&Tt!==void 0?Tt:0,0),frames_decoded:Math.max((Yt=B==null?void 0:B.framesDecoded)!==null&&Yt!==void 0?Yt:0,0),frames_dropped:Math.max((Qt=B==null?void 0:B.framesDropped)!==null&&Qt!==void 0?Qt:0,0),frames_received:Math.max((zt=B==null?void 0:B.framesReceived)!==null&&zt!==void 0?zt:0,0),freeze_count:Math.max((Nt=B==null?void 0:B.freezeCount)!==null&&Nt!==void 0?Nt:0,0),frames_rendered:Math.max((en=B==null?void 0:B.framesRendered)!==null&&en!==void 0?en:0,0),frames_per_second:Math.max((un=B==null?void 0:B.framesPerSecond)!==null&&un!==void 0?un:0,0),header_bytes_received:Math.max((vt=B==null?void 0:B.headerBytesReceived)!==null&&vt!==void 0?vt:0,0),jitter_buffer_delay_avg:An,key_frames_decoded:Math.max((yt=B==null?void 0:B.keyFramesDecoded)!==null&&yt!==void 0?yt:0,0),nack_count:Math.max((cn=B==null?void 0:B.nackCount)!==null&&cn!==void 0?cn:0,0),packets_discarded:Math.max((It=B==null?void 0:B.packetsDiscarded)!==null&&It!==void 0?It:0,0),packets_lost:dr,packets_received:fr,pause_count:Math.max((At=B==null?void 0:B.pauseCount)!==null&&At!==void 0?At:0,0),pli_count:Math.max((dn=B==null?void 0:B.pliCount)!==null&&dn!==void 0?dn:0,0),power_efficient_decoder:(Pn=B==null?void 0:B.powerEfficientDecoder)!==null&&Pn!==void 0&&Pn,total_freezes_duration:Math.max((Bn=B==null?void 0:B.totalFreezesDuration)!==null&&Bn!==void 0?Bn:0,0),total_pauses_duration:Math.max((ir=B==null?void 0:B.totalPausesDuration)!==null&&ir!==void 0?ir:0,0)}})(O,N,M,L)))}}class Ow extends on{constructor(h,g,b,T,O,N,M,L,A,F,B){var W,ie,be,ge;super(ln.SUBSCRIBED_VIDEO_STATS_WINDOW,h,g,!1);const le=Math.max(((W=O==null?void 0:O.timestamp)!==null&&W!==void 0?W:0)-((ie=N==null?void 0:N.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(be=T==null?void 0:T.node)!==null&&be!==void 0?be:"",cluster:(ge=T==null?void 0:T.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le,remote_participant_id:b},((ae,oe,we,ze,st,Tt,Yt,Qt)=>{var zt,Nt,en,un,vt,yt,cn,It,At,dn,Pn,Bn,ir,An,vr,cr,lr,ur,dr,fr,Ur,hr,hi,Hr,Pi,Ni,pi,Vi,to,wo,pr,li,Vs,Sa,Eo,Vo,_a,zs,Ws,Hs,Gs,qs,zo;let nc=0,nu=0;if(ae!=null&&ae.jitterBufferEmittedCount&&(oe!=null&&oe.jitterBufferEmittedCount)&&ae.jitterBufferEmittedCount>oe.jitterBufferEmittedCount){ae!=null&&ae.jitterBufferDelay&&(oe!=null&&oe.jitterBufferDelay)&&(nc=(ae.jitterBufferDelay-oe.jitterBufferDelay)/(ae.jitterBufferEmittedCount-oe.jitterBufferEmittedCount));const $=oe==null?void 0:oe.jitterBufferMinimumDelay,K=ae==null?void 0:ae.jitterBufferMinimumDelay;$&&K&&(nu=(K-$)/(ae.jitterBufferEmittedCount-oe.jitterBufferEmittedCount))}const ru=Math.max(((zt=ae==null?void 0:ae.bytesReceived)!==null&&zt!==void 0?zt:0)-((Nt=oe==null?void 0:oe.bytesReceived)!==null&&Nt!==void 0?Nt:0),0),iu=typeof st!="number"?1:st/1e3,nf=8*ru/iu,Wc=Math.max(((en=ae==null?void 0:ae.totalDecodeTime)!==null&&en!==void 0?en:0)-((un=oe==null?void 0:oe.totalDecodeTime)!==null&&un!==void 0?un:0),0),rf=Math.max(((vt=ae==null?void 0:ae.framesDecoded)!==null&&vt!==void 0?vt:0)-((yt=oe==null?void 0:oe.framesDecoded)!==null&&yt!==void 0?yt:0),0),of=Wc/Math.max(rf,1),Hc=Math.max(((cn=ae==null?void 0:ae.packetsLost)!==null&&cn!==void 0?cn:0)-((It=oe==null?void 0:oe.packetsLost)!==null&&It!==void 0?It:0),0),d=Math.max(((At=ae==null?void 0:ae.packetsReceived)!==null&&At!==void 0?At:0)-((dn=oe==null?void 0:oe.packetsReceived)!==null&&dn!==void 0?dn:0),0),v=Hc/Math.max(d+Hc,1),k=ds(ze==null?void 0:ze.mimeType,ze==null?void 0:ze.sdpFmtpLine),D=8*(Qt||0)/iu;return{bytes_received:ru,codec_mime_type:k==null?void 0:k.mimeSubtype,codec_profile:k==null?void 0:k.profile,codec_level:k==null?void 0:k.level,connection_bandwidth:(Pn=we==null?void 0:we.availableIncomingBitrate)!==null&&Pn!==void 0?Pn:0,decode_bitrate:nf,decoder_implementation:(Bn=ae==null?void 0:ae.decoderImplementation)!==null&&Bn!==void 0?Bn:"unknown",fir_count:Math.max(((ir=ae==null?void 0:ae.firCount)!==null&&ir!==void 0?ir:0)-((An=oe==null?void 0:oe.firCount)!==null&&An!==void 0?An:0),0),fraction_packets_lost:v,frame_decode_time_avg:of,frame_height:Math.max((vr=ae==null?void 0:ae.frameHeight)!==null&&vr!==void 0?vr:0,0),frame_width:Math.max((cr=ae==null?void 0:ae.frameWidth)!==null&&cr!==void 0?cr:0,0),frames_decoded:Math.max(((lr=ae==null?void 0:ae.framesDecoded)!==null&&lr!==void 0?lr:0)-((ur=oe==null?void 0:oe.framesDecoded)!==null&&ur!==void 0?ur:0),0),frames_dropped:Math.max(((dr=ae==null?void 0:ae.framesDropped)!==null&&dr!==void 0?dr:0)-((fr=oe==null?void 0:oe.framesDropped)!==null&&fr!==void 0?fr:0),0),frames_received:Math.max(((Ur=ae==null?void 0:ae.framesReceived)!==null&&Ur!==void 0?Ur:0)-((hr=oe==null?void 0:oe.framesReceived)!==null&&hr!==void 0?hr:0),0),freeze_count:Math.max(((hi=ae==null?void 0:ae.freezeCount)!==null&&hi!==void 0?hi:0)-((Hr=oe==null?void 0:oe.freezeCount)!==null&&Hr!==void 0?Hr:0),0),frames_rendered:Math.max((Pi=ae==null?void 0:ae.framesRendered)!==null&&Pi!==void 0?Pi:0,0),frames_per_second:Math.max((Ni=ae==null?void 0:ae.framesPerSecond)!==null&&Ni!==void 0?Ni:0,0),header_bytes_received:Math.max(((pi=ae==null?void 0:ae.headerBytesReceived)!==null&&pi!==void 0?pi:0)-((Vi=oe==null?void 0:oe.headerBytesReceived)!==null&&Vi!==void 0?Vi:0),0),configured_jitter_buffer_min_delay_ms:Tt??0,jitter_buffer_min_obtainable_delay:nu,jitter_buffer_delay_avg:nc,key_frames_decoded:Math.max(((to=ae==null?void 0:ae.keyFramesDecoded)!==null&&to!==void 0?to:0)-((wo=oe==null?void 0:oe.keyFramesDecoded)!==null&&wo!==void 0?wo:0),0),nack_count:Math.max(((pr=ae==null?void 0:ae.nackCount)!==null&&pr!==void 0?pr:0)-((li=oe==null?void 0:oe.nackCount)!==null&&li!==void 0?li:0),0),packets_discarded:Math.max(((Vs=ae==null?void 0:ae.packetsDiscarded)!==null&&Vs!==void 0?Vs:0)-((Sa=oe==null?void 0:oe.packetsDiscarded)!==null&&Sa!==void 0?Sa:0),0),packets_lost:Hc,packets_received:d,pause_count:Math.max(((Eo=ae==null?void 0:ae.pauseCount)!==null&&Eo!==void 0?Eo:0)-((Vo=oe==null?void 0:oe.pauseCount)!==null&&Vo!==void 0?Vo:0),0),pli_count:Math.max(((_a=ae==null?void 0:ae.pliCount)!==null&&_a!==void 0?_a:0)-((zs=oe==null?void 0:oe.pliCount)!==null&&zs!==void 0?zs:0),0),power_efficient_decoder:(Ws=ae==null?void 0:ae.powerEfficientDecoder)!==null&&Ws!==void 0&&Ws,total_freezes_duration:Math.max(((Hs=ae==null?void 0:ae.totalFreezesDuration)!==null&&Hs!==void 0?Hs:0)-((Gs=oe==null?void 0:oe.totalFreezesDuration)!==null&&Gs!==void 0?Gs:0),0),total_pauses_duration:Math.max(((qs=ae==null?void 0:ae.totalPausesDuration)!==null&&qs!==void 0?qs:0)-((zo=oe==null?void 0:oe.totalPausesDuration)!==null&&zo!==void 0?zo:0),0),sei_read_count:Yt,sei_bytes_received:Qt,sei_bitrate:D}})(O,N,M,L,le,A,F,B)))}}class Fd extends on{constructor(h,g,b,T,O,N,M,L,A){var F,B;super(ln.SUBSCRIBED_AUDIO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(F=T==null?void 0:T.node)!==null&&F!==void 0?F:"",cluster:(B=T==null?void 0:T.cluster)!==null&&B!==void 0?B:"",remote_participant_id:b},((W,ie,be,ge,le)=>{var ae,oe,we,ze,st,Tt,Yt,Qt,zt,Nt,en,un,vt,yt,cn,It,At;let dn=0;W!=null&&W.jitterBufferDelay&&(W!=null&&W.jitterBufferEmittedCount)&&W.jitterBufferEmittedCount>0&&(dn=W.jitterBufferDelay/W.jitterBufferEmittedCount);const Pn=ge??1,Bn=Math.max((ae=W==null?void 0:W.bytesReceived)!==null&&ae!==void 0?ae:0,0),ir=8*Bn/Pn,An=Math.max((oe=W==null?void 0:W.packetsLost)!==null&&oe!==void 0?oe:0,0),vr=Math.max((we=W==null?void 0:W.packetsReceived)!==null&&we!==void 0?we:0,0),cr=An/Math.max(vr+An,1),lr=Math.max((ze=W==null?void 0:W.concealedSamples)!==null&&ze!==void 0?ze:0,0),ur=Math.max((st=W==null?void 0:W.totalSamplesReceived)!==null&&st!==void 0?st:0,0),dr=lr/Math.max(ur,1),fr=ds(be==null?void 0:be.mimeType,be==null?void 0:be.sdpFmtpLine);return{audio_level:(Tt=W==null?void 0:W.audioLevel)!==null&&Tt!==void 0?Tt:0,audio_nacks_enabled:(Yt=le==null?void 0:le.audioNacks)!==null&&Yt!==void 0&&Yt,bytes_received:Bn,codec_mime_type:fr==null?void 0:fr.mimeSubtype,connection_bandwidth:(Qt=ie==null?void 0:ie.availableIncomingBitrate)!==null&&Qt!==void 0?Qt:0,concealed_samples:lr,concealment_events:Math.max((zt=W==null?void 0:W.concealmentEvents)!==null&&zt!==void 0?zt:0,0),silent_concealed_samples:Math.max((Nt=W==null?void 0:W.silentConcealedSamples)!==null&&Nt!==void 0?Nt:0,0),decode_bitrate:ir,fraction_audio_concealed:dr,fraction_packets_lost:cr,header_bytes_received:Math.max((en=W==null?void 0:W.headerBytesReceived)!==null&&en!==void 0?en:0,0),inserted_samples_for_deceleration:Math.max((un=W==null?void 0:W.insertedSamplesForDeceleration)!==null&&un!==void 0?un:0,0),jitter_buffer_delay_avg:dn,packets_discarded:Math.max((vt=W==null?void 0:W.packetsDiscarded)!==null&&vt!==void 0?vt:0,0),retransmitted_packets_received:Math.max((yt=W==null?void 0:W.retransmittedPacketsReceived)!==null&&yt!==void 0?yt:0,0),retransmitted_bytes_received:Math.max((cn=W==null?void 0:W.retransmittedBytesReceived)!==null&&cn!==void 0?cn:0,0),packets_lost:An,packets_received:vr,nack_count:Math.max((It=W==null?void 0:W.nackCount)!==null&&It!==void 0?It:0,0),removed_samples_for_acceleration:Math.max((At=W==null?void 0:W.removedSamplesForAcceleration)!==null&&At!==void 0?At:0,0),total_samples_received:ur}})(O,N,M,L,A)))}}class l0 extends on{constructor(h,g,b,T,O,N,M,L,A,F){var B,W,ie,be;super(ln.SUBSCRIBED_AUDIO_STATS_WINDOW,h,g,!1);const ge=Math.max(((B=O==null?void 0:O.timestamp)!==null&&B!==void 0?B:0)-((W=N==null?void 0:N.timestamp)!==null&&W!==void 0?W:0),0);Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,window_size_ms:ge,node:(ie=T==null?void 0:T.node)!==null&&ie!==void 0?ie:"",cluster:(be=T==null?void 0:T.cluster)!==null&&be!==void 0?be:"",remote_participant_id:b},((le,ae,oe,we,ze,st,Tt)=>{var Yt,Qt,zt,Nt,en,un,vt,yt,cn,It,At,dn,Pn,Bn,ir,An,vr,cr,lr,ur,dr,fr,Ur,hr,hi,Hr,Pi,Ni,pi,Vi,to;let wo=0,pr=0;if(le!=null&&le.jitterBufferEmittedCount&&(ae!=null&&ae.jitterBufferEmittedCount)&&le.jitterBufferEmittedCount>ae.jitterBufferEmittedCount){le!=null&&le.jitterBufferDelay&&(ae!=null&&ae.jitterBufferDelay)&&(wo=(le.jitterBufferDelay-ae.jitterBufferDelay)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount));const qs=ae==null?void 0:ae.jitterBufferMinimumDelay,zo=le==null?void 0:le.jitterBufferMinimumDelay;qs&&zo&&(pr=(zo-qs)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount))}const li=typeof ze!="number"?1:ze/1e3,Vs=Math.max(((Yt=le==null?void 0:le.bytesReceived)!==null&&Yt!==void 0?Yt:0)-((Qt=ae==null?void 0:ae.bytesReceived)!==null&&Qt!==void 0?Qt:0),0),Sa=8*Vs/li,Eo=Math.max(((zt=le==null?void 0:le.packetsLost)!==null&&zt!==void 0?zt:0)-((Nt=ae==null?void 0:ae.packetsLost)!==null&&Nt!==void 0?Nt:0),0),Vo=Math.max(((en=le==null?void 0:le.packetsReceived)!==null&&en!==void 0?en:0)-((un=ae==null?void 0:ae.packetsReceived)!==null&&un!==void 0?un:0),0),_a=Eo/Math.max(Vo+Eo,1),zs=Math.max(((vt=le==null?void 0:le.concealedSamples)!==null&&vt!==void 0?vt:0)-((yt=ae==null?void 0:ae.concealedSamples)!==null&&yt!==void 0?yt:0),0),Ws=Math.max(((cn=le==null?void 0:le.totalSamplesReceived)!==null&&cn!==void 0?cn:0)-((It=ae==null?void 0:ae.totalSamplesReceived)!==null&&It!==void 0?It:0),0),Hs=zs/Math.max(Ws,1),Gs=ds(we==null?void 0:we.mimeType,we==null?void 0:we.sdpFmtpLine);return{audio_level:(At=le==null?void 0:le.audioLevel)!==null&&At!==void 0?At:0,audio_nacks_enabled:(dn=st==null?void 0:st.audioNacks)!==null&&dn!==void 0&&dn,bytes_received:Vs,codec_mime_type:Gs==null?void 0:Gs.mimeSubtype,connection_bandwidth:(Pn=oe==null?void 0:oe.availableIncomingBitrate)!==null&&Pn!==void 0?Pn:0,decode_bitrate:Sa,concealed_samples:zs,concealment_events:Math.max(((Bn=le==null?void 0:le.concealmentEvents)!==null&&Bn!==void 0?Bn:0)-((ir=ae==null?void 0:ae.concealmentEvents)!==null&&ir!==void 0?ir:0),0),silent_concealed_samples:Math.max(((An=le==null?void 0:le.silentConcealedSamples)!==null&&An!==void 0?An:0)-((vr=ae==null?void 0:ae.silentConcealedSamples)!==null&&vr!==void 0?vr:0),0),fraction_audio_concealed:Hs,fraction_packets_lost:_a,header_bytes_received:Math.max(((cr=le==null?void 0:le.headerBytesReceived)!==null&&cr!==void 0?cr:0)-((lr=ae==null?void 0:ae.headerBytesReceived)!==null&&lr!==void 0?lr:0),0),inserted_samples_for_deceleration:Math.max(((ur=le==null?void 0:le.insertedSamplesForDeceleration)!==null&&ur!==void 0?ur:0)-((dr=ae==null?void 0:ae.insertedSamplesForDeceleration)!==null&&dr!==void 0?dr:0),0),configured_jitter_buffer_min_delay_ms:Tt??0,jitter_buffer_min_obtainable_delay:pr,jitter_buffer_delay_avg:wo,packets_discarded:Math.max(((fr=le==null?void 0:le.packetsDiscarded)!==null&&fr!==void 0?fr:0)-((Ur=ae==null?void 0:ae.packetsDiscarded)!==null&&Ur!==void 0?Ur:0),0),packets_lost:Eo,packets_received:Vo,nack_count:Math.max(((hr=le==null?void 0:le.nackCount)!==null&&hr!==void 0?hr:0)-((hi=ae==null?void 0:ae.nackCount)!==null&&hi!==void 0?hi:0),0),removed_samples_for_acceleration:Math.max(((Hr=le==null?void 0:le.removedSamplesForAcceleration)!==null&&Hr!==void 0?Hr:0)-((Pi=ae==null?void 0:ae.removedSamplesForAcceleration)!==null&&Pi!==void 0?Pi:0),0),retransmitted_packets_received:Math.max(((Ni=le==null?void 0:le.retransmittedPacketsReceived)!==null&&Ni!==void 0?Ni:0)-((pi=ae==null?void 0:ae.retransmittedPacketsReceived)!==null&&pi!==void 0?pi:0),0),retransmitted_bytes_received:Math.max(((Vi=le==null?void 0:le.retransmittedBytesReceived)!==null&&Vi!==void 0?Vi:0)-((to=ae==null?void 0:ae.retransmittedBytesReceived)!==null&&to!==void 0?to:0),0),total_samples_received:Ws}})(O,N,M,L,ge,A,F)))}}class Lh extends on{constructor(h,g,b,T,O=Ge.PUBLISH,N=!1,M=""){super(ln.SIMULCAST_LAYER_INFO,h,g,!1),Object.assign(this.properties,{rid:b,active:T,selected:N,source:O===Ge.PUBLISH?"publisher":"subscriber",remote_participant_id:M})}}class Pw extends on{constructor(h,g,b,T){super(ln.MULTIHOST_CONFIGURATION,h,g,!1),Object.assign(this.properties,Object.assign(Object.assign({},b),{action:T}))}}class Bo extends on{constructor(h,g,b){super(ln.MULTIHOST_SUBSCRIBE_CONFIGURATION,h,g,!1),Object.assign(this.properties,Object.assign({},b))}}var ql,ha,pa;(function(S){S.Mobile="mobile",S.Tablet="tablet",S.Desktop="desktop",S.Tv="tv"})(ql||(ql={})),function(S){S.IOS="iOS",S.MacOS="macOS",S.Windows="Windows",S.Android="Android"}(ha||(ha={})),function(S){S.Safari="Safari",S.Firefox="Firefox",S.Chrome="Chrome",S.IE="Internet Explorer",S.Edge="Microsoft Edge"}(pa||(pa={}));const Ud=function(S){const h=ma(S);return{platform:{isMobile:wi(ql.Mobile,h),isTablet:wi(ql.Tablet,h),isDesktop:wi(ql.Desktop,h),isTv:wi(ql.Tv,h)},os:{name:tg(h),version:Xa(h),isIOS:Bd(ha.IOS,h),isMacOS:Bd(ha.MacOS,h),isWindows:Bd(ha.Windows,h),isAndroid:Bd(ha.Android,h)},browser:{name:u0(h),version:Fh(h),isSafari:Bc(pa.Safari,h),isFirefox:Bc(pa.Firefox,h),isChrome:Bc(pa.Chrome,h),isIE:Bc(pa.IE,h),isEdge:Bc(pa.Edge,h)}}}(window.navigator.userAgent);function ma(S){try{return mh.getParser(S||window.navigator.userAgent)}catch{}}function wi(S,h){return()=>(h||(h=ma()),!(!h||h.getPlatformType(!0)!==S.toLowerCase()))}function Xa(S){return()=>(S||(S=ma()),S&&S.getOSVersion()||"")}function tg(S){return()=>(S||(S=ma()),S&&S.getOSName()||"")}function Bd(S,h){return()=>(h||(h=ma()),!(!h||h.getOSName(!0)!==S.toLowerCase()))}function Fh(S){return()=>(S||(S=ma()),S&&S.getBrowserVersion()||"")}function u0(S){return()=>(S||(S=ma()),S&&S.getBrowserName()||"")}function Bc(S,h){return()=>(h||(h=ma()),!(!h||h.getBrowserName().toLowerCase()!==S.toLowerCase()))}const d0={active:!1,maxBitrate:2e5,rid:"low",maxFramerate:15,scaleResolutionDownBy:4},ng={width:320,height:180},$d={active:!1,maxBitrate:7e5,rid:"mid",maxFramerate:20,scaleResolutionDownBy:2},Ja={width:640,height:360},Uh={active:!1,maxBitrate:17e5,rid:"hi",maxFramerate:30,scaleResolutionDownBy:1},Za={width:1280,height:720};function rg(S){const{config:h}=S;return[{maxBitrate:h.maxBitrateBps}]}function ig(S,h){var g,b;const T=h==null?void 0:h.track,O=h==null?void 0:h.config;if(S&&T){const N=(0,wr.cloneDeep)([{encodingParams:d0,targetResolution:ng},{encodingParams:$d,targetResolution:Ja},{encodingParams:Uh,targetResolution:Za}]),{height:M,width:L}=T.getSettings(),A=M&&L?{width:L,height:M}:void 0;for(const W of N){W.encodingParams.active=!0;let ie=1;A&&(ie=Math.floor(Math.sqrt(A.width*A.height/(W.targetResolution.width*W.targetResolution.height))),ie=Math.max(ie,1)),W.encodingParams.scaleResolutionDownBy=ie}let F=(g=O==null?void 0:O.maxBitrateBps)!==null&&g!==void 0?g:Uh.maxBitrate;const B=(b=O==null?void 0:O.maxFramerate)!==null&&b!==void 0?b:Uh.maxFramerate;return F<$d.maxBitrate&&(F=Uh.maxBitrate),N[2].encodingParams.maxBitrate=F,N[2].encodingParams.maxFramerate=B,N[2].encodingParams.scaleResolutionDownBy=1,N.map(W=>W.encodingParams)}return O?[{maxBitrate:O.maxBitrateBps,maxFramerate:O.maxFramerate}]:[{maxBitrate:fs(us),maxFramerate:Qa}]}const og=1e3;function fs(S){return S*og}const sg=(S,...h)=>{const g=h.map(b=>typeof b!="object").filter(Boolean).length>0;if(typeof S=="object"&&!g)return(0,wr.merge)({},S,...h)},ag=S=>cg(S),cg=S=>(0,wr.cloneDeep)(S),Bi=S=>{switch(S){case Hl.HIGHEST_QUALITY:return"highest";case Hl.LOWEST_QUALITY:default:return"lowest"}};var So=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const ec="no-rid";class ga{constructor(h,g,b,T,O,N,M){this.analyticsTracker=O,this.receiveVideoTransformer=N,this.senderVideoTransformer=M,this.simulcastEnabled=!1,this.simulcastState={low:!1,mid:!1,hi:!1},this.sdp=new Nn(""),this.sdpFeatures={audioNacks:!1},this.multihostConfiguration=ga.defaultMultihostConfiguration(),this.prevOutboundVideoStats=new Map,this.prevInboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.sfuResource={node:"",cluster:""},this.connectionStartedTimestamp=Date.now(),this.prevVideoReceiverTransformerStats={seiReadCnt:0,seiBytesRead:0},this.prevVideoSenderTransformerStats={seiWriteCnt:0,seiBytesWritten:0},this.onPeerConnectionStateChange=()=>{switch(this.getConnectionState()){case gt.CONNECTED:this.connectionStartedTimestamp=Date.now(),this.setupIntervals();break;case gt.FAILED:this.flushStats()}},this.action=h,this.token=g,this.traceId=b,this.identifier=T}static defaultMultihostConfiguration(){return{video_codec:"unknown",width:0,height:0,max_bitrate:0,min_bitrate:0,target_fps:0,echo_cancellation:!1,auto_gain:!1,noise_suppression:!1,enable_simulcast:!1,max_audio_bitrate_bps:fs(Uc)}}set sdpAnswer(h){try{this.sdp=new Nn(h),this.sdpFeatures.audioNacks=this.sdp.hasAudioNacksEnabled()}catch{}}start(h,g=!1){this.peerConnection=h,this.simulcastEnabled=g,this.prevOutboundAudioStats=void 0,this.prevOutboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.peerConnection.addEventListener("connectionstatechange",this.onPeerConnectionStateChange)}stop(){var h;clearInterval(this.uploadStatsInterval),this.uploadStatsInterval=void 0,(h=this.peerConnection)===null||h===void 0||h.removeEventListener("connectionstatechange",this.onPeerConnectionStateChange)}updateSfuResource(h){this.sfuResource=h}updateMultihostConfiguration(h,g){var b,T,O,N,M,L;return So(this,void 0,void 0,function*(){if(this.action!==Ge.PUBLISH||!this.peerConnection)return;const A=ga.defaultMultihostConfiguration();if(g){const F=this.peerConnection.getSenders().filter(W=>W.track!==null&&W.track.kind==="video");F.length>0&&(yield F[0].getStats()).forEach(W=>{W.type==="codec"&&(A.video_codec=W.mimeType)});const B=g.track.getSettings();A.width=(b=B.width)!==null&&b!==void 0?b:0,A.height=(T=B.height)!==null&&T!==void 0?T:0,A.target_fps=(O=B.frameRate)!==null&&O!==void 0?O:0,g.config?(A.max_bitrate=g.config.maxBitrateBps,A.min_bitrate=g.config.minBitrateBps,A.enable_simulcast=g.config.simulcastEnabled):(A.max_bitrate=fs(us),A.min_bitrate=fs(Fc),A.enable_simulcast=!1)}if(h){const F=h.track.getSettings();A.auto_gain=(N=F.autoGainControl)!==null&&N!==void 0&&N,A.echo_cancellation=(M=F.echoCancellation)!==null&&M!==void 0&&M,A.noise_suppression=(L=F.noiseSuppression)!==null&&L!==void 0&&L,A.max_audio_bitrate_bps=h.config.maxBitrateBps,A.stereo=h.config.stereo}(0,wr.isEqual)(A,this.multihostConfiguration)||(this.analyticsTracker.trackEventNoSharedProps(new Pw(this.token,this.traceId,A,this.action)),this.multihostConfiguration=A)})}updateJitterBufferMinDelay(h){this.jitterBufferMinDelayInMs=h}setupIntervals(){this.action===Ge.PUBLISH&&this.simulcastEnabled&&!this.pollSimulcastLayerInterval&&(this.pollSimulcastLayers(),this.pollSimulcastLayerInterval=this.startInterval(this.pollSimulcastLayers,5e3)),this.uploadStatsInterval||(this.uploadStats(),this.uploadStatsInterval=this.startInterval(this.uploadStats,1e4))}startInterval(h,g){return setInterval(h.bind(this),g)}getConnectionState(){var h;if(!this.peerConnection)return gt.NONE;const g=(h=this.peerConnection.connectionState)!==null&&h!==void 0?h:this.peerConnection.iceConnectionState;try{return jh(g)}catch{return gt.IDLE}}pollSimulcastLayers(){var h;return So(this,void 0,void 0,function*(){if(this.getConnectionState()===gt.CONNECTED){const g=yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats();if(!g)return;g.forEach(b=>{var T;if(b.type==="outbound-rtp"){const O=((T=b.framesPerSecond)!==null&&T!==void 0?T:0)!==0;switch(b.rid){case"low":O!==this.simulcastState.low&&(this.simulcastState.low=O,this.analyticsTracker.trackEventNoSharedProps(new Lh(this.token,this.traceId,b.rid,O)));break;case"mid":O!==this.simulcastState.mid&&(this.simulcastState.mid=O,this.analyticsTracker.trackEventNoSharedProps(new Lh(this.token,this.traceId,b.rid,O)));break;case"hi":O!==this.simulcastState.hi&&(this.simulcastState.hi=O,this.analyticsTracker.trackEventNoSharedProps(new Lh(this.token,this.traceId,b.rid,O)))}}})}})}flushStats(){var h;return So(this,void 0,void 0,function*(){const g=yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats();g&&(this.action===Ge.PUBLISH?this.uploadPublisherStats(g):this.action===Ge.SUBSCRIBE&&this.uploadSubscriberStats(g))})}uploadStats(){var h;return So(this,void 0,void 0,function*(){if(this.getConnectionState()===gt.CONNECTED){const g=yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats();if(!g)return;this.action===Ge.PUBLISH?this.uploadPublisherStats(g):this.action===Ge.SUBSCRIBE&&this.uploadSubscriberStats(g)}})}uploadPublisherStats(h){const g={audio:{},video:[]},b=new Map,T=(Date.now()-this.connectionStartedTimestamp)/1e3,O=Object.assign({},this.multihostConfiguration),{seiWriteCnt:N,seiBytesWritten:M}=this.updateAndDiffSeiPublishStatsSinceLastUpdate(this.senderVideoTransformer.getSenderStats());h.forEach(L=>{if(L.type==="outbound-rtp"){const A=h.get(L.remoteId),F=this.prevRemoteInboundStats.get(L.remoteId);switch(A&&this.prevRemoteInboundStats.set(A.id,A),L.kind){case"audio":g.audio=this.updateOutboundAudio(L),g.audio.remoteInbound=A,g.audio.prevRemoteInbound=F,g.audio.codec=b.get(L.codecId);break;case"video":g.video.push(Object.assign({},this.updateOutboundVideo(L),{remoteInbound:A,prevRemoteInbound:F,codec:b.get(L.codecId)}))}}L.type==="candidate-pair"&&L.nominated&&(g.candidatePair=L),L.type==="codec"&&b.set(L.id,L)}),this.analyticsTracker.trackEventNoSharedProps(new eg(this.token,this.traceId,this.sfuResource,g.audio.outbound,g.audio.remoteInbound,g.candidatePair,g.audio.codec,O,T,this.sdpFeatures)),g.audio.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new mn(this.token,this.traceId,this.sfuResource,g.audio.outbound,g.audio.prevOutbound,g.audio.remoteInbound,g.audio.prevRemoteInbound,g.candidatePair,g.audio.codec,O,this.sdpFeatures)),g.video.forEach(L=>{this.analyticsTracker.trackEventNoSharedProps(new c0(this.token,this.traceId,this.sfuResource,L.outbound,L.remoteInbound,g.candidatePair,L.codec,O,T)),L.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new Zm(this.token,this.traceId,this.sfuResource,L.outbound,L.prevOutbound,L.remoteInbound,L.prevRemoteInbound,g.candidatePair,L.codec,O,N,M))})}uploadSubscriberStats(h){var g;const b={audio:{},video:{}},T=new Map,O=(Date.now()-this.connectionStartedTimestamp)/1e3,N=(g=this.jitterBufferMinDelayInMs)!==null&&g!==void 0?g:0,{seiReadCnt:M,seiBytesRead:L}=this.updateAndDiffSeiSubscribeStatsSinceLastUpdate(this.receiveVideoTransformer.getReceiverStats());h.forEach(A=>{if(A.type==="inbound-rtp")switch(A.kind){case"audio":b.audio=this.updateInboundAudio(A),b.audio.codec=T.get(A.codecId);break;case"video":b.video=this.updateInboundVideo(A),b.video.codec=T.get(A.codecId)}A.type==="candidate-pair"&&A.nominated&&(b.candidatePair=A),A.type==="codec"&&T.set(A.id,A)}),this.analyticsTracker.trackEventNoSharedProps(new Fd(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.candidatePair,b.audio.codec,O,this.sdpFeatures)),b.audio.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new l0(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.audio.prevInbound,b.candidatePair,b.audio.codec,this.sdpFeatures,N)),this.analyticsTracker.trackEventNoSharedProps(new kw(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.candidatePair,b.video.codec,O)),b.video.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new Ow(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.video.prevInbound,b.candidatePair,b.video.codec,N,M,L))}updateAndDiffSeiSubscribeStatsSinceLastUpdate(h){const g=this.prevVideoReceiverTransformerStats,b=h.seiReadCnt-g.seiReadCnt,T=h.seiBytesRead-g.seiBytesRead;return this.prevVideoReceiverTransformerStats={seiReadCnt:h.seiReadCnt,seiBytesRead:h.seiBytesRead},{seiReadCnt:b,seiBytesRead:T}}updateAndDiffSeiPublishStatsSinceLastUpdate(h){const g=this.prevVideoSenderTransformerStats,b=h.seiWriteCnt-g.seiWriteCnt,T=h.seiBytesWritten-g.seiBytesWritten;return this.prevVideoSenderTransformerStats={seiWriteCnt:h.seiWriteCnt,seiBytesWritten:h.seiBytesWritten},{seiWriteCnt:b,seiBytesWritten:T}}updateOutboundAudio(h){const g=h,b=this.prevOutboundAudioStats,T=h.id===(b==null?void 0:b.id)?b:void 0;return this.prevOutboundAudioStats=h,{outbound:g,prevOutbound:T}}updateInboundAudio(h){const g=h,b=this.prevInboundAudioStats,T=h.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundAudioStats=h,{inbound:g,prevInbound:T}}updateInboundVideo(h){const g=h,b=this.prevInboundVideoStats.get(ec),T=h.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundVideoStats.set(ec,h),{inbound:g,prevInbound:T}}updateOutboundVideo(h){const g=h,b=this.getPrevOutboundVideo(h),T=h.id===(b==null?void 0:b.id)?b:void 0;return this.setPrevVideoStat(h),{outbound:g,prevOutbound:T}}getPrevOutboundVideo(h){return this.simulcastEnabled&&h.rid&&this.prevOutboundVideoStats.has(h.rid)?this.prevOutboundVideoStats.get(h.rid):!this.simulcastEnabled&&this.prevOutboundVideoStats.has(ec)?this.prevOutboundVideoStats.get(ec):void 0}setPrevVideoStat(h){this.simulcastEnabled&&h.rid?this.prevOutboundVideoStats.set(h.rid,h):this.simulcastEnabled||this.prevOutboundVideoStats.set(ec,h)}}class lg extends on{constructor(h,g,b,T,O){super(ln.MINUTE,h,g,!1),Object.assign(this.properties,{action:T?Ge.PUBLISH:Ge.SUBSCRIBE,is_publishing:T,minutes_logged:b,subscribed_number:O})}}class f0 extends on{constructor(h){super(ln.PUBLISH,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:h.token.participantID})}}class h0 extends on{constructor(h){super(ln.UNPUBLISH,h.token,h.traceId,!0),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:h.token.participantID})}}class Kl extends on{constructor(h){var g,b,T,O;super(ln.SUBSCRIBE,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:h.subscribedId,subscribed_id:h.subscribedId,is_edp_connected:h.isEdpConnected,is_reassignment:h.isReassignment,node:(b=(g=h.preAttemptSfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.preAttemptSfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:""})}}class Vd extends on{constructor(h){super(ln.UNSUBSCRIBE,h.token,h.traceId,!0),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:h.unsubscribedId,unsubscribed_id:h.unsubscribedId})}}class p0 extends on{constructor(h){var g,b,T,O;super(ln.PUBLISH_STARTED,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,options_duration:h.optionsDuration,post_duration:h.postDuration,remote_participant_id:h.token.participantID,time_to_candidate:h.timeToCandidate,total_duration:h.totalDuration,edp_initial_connect_duration:h.edpInitialConnectDuration,edp_initial_connect_retry_times:h.edpInitialConnectRetries,edp_initial_state_duration:h.edpInitialStateDuration,edp_state_update_count:h.edpStateUpdateCount,sdp_exchange_duration:h.sdpExchangeDuration,sdp_exchange_transport:h.sdpExchangeTransport,set_remote_desc_duration:h.setRemoteDescDuration,peer_connection_duration:h.peerConnectionDuration,node:(b=(g=h.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",publish_retry_times:h.publishRetries,total_duration_with_retries:h.totalDurationWithRetries})}}class m0 extends on{constructor(h){super(ln.PUBLISH_FAILED,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,code:h.code,message:h.message,fatal:h.fatal,nominal:h.nominal})}}class zd extends on{constructor(h){super(ln.PUBLISH_ENDED,h.token,h.traceId,!0),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:h.token.participantID,unpublish_successful:h.isUnpublishSuccessful,reason:h.reason})}}class g0 extends on{constructor(h){var g,b,T,O;super(ln.SUBSCRIBE_STARTED,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,options_duration:h.optionsDuration,post_duration:h.postDuration,remote_participant_id:h.remoteParticipantId,time_to_candidate:h.timeToCandidate,total_duration:h.totalDuration,edp_initial_connect_duration:h.edpInitialConnectDuration,edp_initial_connect_retry_times:h.edpInitialConnectRetries,edp_initial_state_duration:h.edpInitialStateDuration,edp_initial_state_publishing_count:h.edpInitialStatePublishingCount,edp_state_update_count:h.edpStateUpdateCount,sdp_exchange_duration:h.sdpExchangeDuration,sdp_exchange_transport:h.sdpExchangeTransport,set_remote_desc_duration:h.setRemoteDescDuration,peer_connection_duration:h.peerConnectionDuration,node:(b=(g=h.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",total_duration_with_retries:h.totalDurationWithRetries,subscribe_retry_times:h.subscribeRetryTimes,is_reassignment:h.isReassignment})}}class Bh extends on{constructor(h){super(ln.SUBSCRIBE_FAILED,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:h.remoteParticipantId,code:h.code,message:h.message,fatal:h.fatal,nominal:h.nominal,is_reassignment:h.isReassignment})}}class $h extends on{constructor(h){super(ln.SUBSCRIBE_ENDED,h.token,h.traceId,!0),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:h.remoteParticipantId,unsubscribe_successful:h.isUnsubscribeSuccessful,reason:h.reason}),this.critical=!0}}class Vh extends on{constructor(h){super(ln.STATE_UPDATED,h.token,h.traceId,!1),Object.assign(this.properties,{audio_muted:h.isAudioMuted,is_disconnected:h.isDisconnected,is_publishing:h.isPublishing,other_participant_id:h.otherParticipantId,other_participant_user_id:h.otherParticipantUserId,video_stopped:h.isVideoStopped})}}class v0 extends on{constructor(h){var g,b,T,O,N;super(ln.FIRST_FRAME,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:h.remoteParticipantId,edp_initial_connect_duration:h.edpInitialConnectDuration,edp_initial_connect_retry_times:h.edpInitialConnectRetries,edp_initial_state_duration:h.edpInitialStateDuration,edp_initial_state_publishing_count:h.edpInitialStatePublishingCount,edp_state_update_count:h.edpStateUpdateCount,sdp_exchange_duration:h.sdpExchangeDuration,sdp_exchange_transport:h.sdpExchangeTransport,set_remote_desc_duration:h.setRemoteDescDuration,peer_connection_duration:h.peerConnectionDuration,node:(b=(g=h.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",video_was_paused:h.videoWasPaused,first_frame_duration:h.firstFrameDuration,total_duration_with_retries:h.totalDurationWithRetries,subscribe_retry_times:h.subscribeRetryTimes,media_type:h.mediaType,configured_jitter_buffer_min_delay_ms:(N=h.currentJitterBufferMinDelayInMs)!==null&&N!==void 0?N:0})}}class zh extends on{constructor(h){super(ln.EDP_PONG,h.token,h.traceId,!1),Object.assign(this.properties,{event_endpoint:h.eventEndpoint,protocol:h.protocol,edp_rtt:h.edpRttMs})}}class y0 extends on{constructor(h){super(ln.JOIN,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint})}}class ug extends on{constructor(h){super(ln.JOIN_ATTEMPT,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint})}}class Nw extends on{constructor(h){super(ln.JOIN_ATTEMPT_FAILED,h.token,h.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint,code:h.code,message:h.message,fatal:h.fatal,nominal:h.nominal,connect_retry_times:h.retryCnt})}}class b0 extends on{constructor(h){super(ln.EDP_DISCONNECTED,h.token,h.traceId,!1),Object.assign(this.properties,{event_endpoint:h.eventEndpoint,protocol:h.protocol}),this.critical=!0}}class va extends on{constructor(h){super(ln.EDP_CONNECTED,h.token,h.traceId,!1),Object.assign(this.properties,{event_endpoint:h.eventEndpoint,protocol:h.protocol,connect_retry_times:h.numRetries}),this.critical=!0}}var dg;(function(S){S.MESSAGE="message",S.RESPONSE="response"})(dg||(dg={}));class x0{constructor(h,g,b){this.token=h,this.analyticsTracker=b,this.protocol="",this.connecting=!1,this.closing=!1,this.windowUnloading=!1,this.latestPingTimestamp=0,this.pongCount=0,this.latestSequenceNumber=0,this.nextConnectionAttempt=0,this.pingInterval=0,this.pongTimeout=0,this.connectTimeout=0,this.beforeUnload=()=>{this.emitter.emit(jd,"beforeunload"),this.windowUnloading=!0},this.sendSdpOffer=(T,O,N,M,L,A,F,B)=>{var W;const ie={type:"aws:ivs:SDP_OFFER",payload:{whipUrl:O,requestId:M,traceId:N,platform:"web",sdk:"1.21.0",whipVersion:ls,content:T,contentType:"application/sdp"}};L&&(ie.payload.forceNode=L),A&&(ie.payload.assignmentToken=A),F&&(ie.payload.multiCodec=F);const be=wd()===void 0,ge=wd()||be;B&&ge&&(ie.payload.initialLayerPref=Bi(B)),(W=this.socket)===null||W===void 0||W.send(JSON.stringify(ie))},this.getRetryCount=()=>Math.max(this.connectionAttempts-1,0),this.trackJoinEnded=()=>{this.analyticsTracker.trackEventNoSharedProps(new b0({token:this.token,eventEndpoint:this.token.eventsURL,traceId:this.traceId,protocol:this.protocol}))},this.logger=new mo(g,kn.SOCKET),this.emitter=new Xr.EventEmitter,this.connectionAttempts=0,this.sentPing=!1,this.receivedPong=!1,this.traceId=Xi(),this.id=`[${Ga().value}] `,window.addEventListener("beforeunload",this.beforeUnload)}connect(h,g,b=!1){this.logger.debug({msg:`${this.id}connecting to ${this.addr}`}),this.addr=h,this.traceId=g,b&&!this.connecting&&(window.clearTimeout(this.connectTimeout),this.connectTimeout=window.setTimeout(this.connectTimedOut.bind(this),1e4)),this.attemptConnect(g)}attemptConnect(h){this.traceId=h||Xi(),this.connectionAttempts++,this.trackJoinAttempt(this.connectionAttempts);const{topic:g,rawToken:b}=this.token;this.connecting=!0,this.closing=!1;try{const T=encodeURIComponent(this.traceId.value);this.socket=this.createWebSocket(`${this.addr}?topic=${g}/publishers&traceid=${T}`,b),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onopen=this.onOpen.bind(this),this.protocol=this.socket.protocol}catch(T){const O=T instanceof Error?T.message:void 0,N=this.createError(Ae.EVENT_PLANE_WS_CREATE_FAILED,O);this.trackJoinFailed(N,this.getRetryCount()),this.emitter.emit(cs,N)}}send(h){var g;this.logger.debug({msg:`${this.id}sending ${JSON.stringify(h)}`}),this.isReady()?(g=this.socket)===null||g===void 0||g.send(JSON.stringify(h)):this.logger.warn({msg:"Trying to send data over stage socket that is not ready"})}close(){this.logger.debug({msg:`${this.id}closing`});const h=this.connecting,g=this.socket&&this.socket.readyState===this.socket.OPEN,b=this.socket&&this.socket.readyState===this.socket.CLOSING,T=this.getRetryCount();if(this.closing=!0,this.connecting=!1,this.cleanPingPongTimeouts(),window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.connectionAttempts=0,this.connectTimeout=0,this.socket){if(this.socket.close(),this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onopen=null,g)this.trackJoinEnded(),this.emitter.emit(jd,"intentional-close");else if(h&&!b){const O=this.createError(Ae.OPERATION_ABORTED);this.trackJoinFailed(O,T),this.analyticsTracker.trackError(O),this.emitter.emit(cs,O)}}}removeAllListeners(){window.removeEventListener("beforeunload",this.beforeUnload),this.emitter.removeAllListeners()}createWebSocket(h,g){return new WebSocket(h,g)}createError(h,g){return new Zt(Object.assign({action:Ge.JOIN,traceId:this.traceId,token:this.token,location:"StageSocket.connection",tag:Nd,details:g},h))}on(h,g){this.emitter.on(h,g)}off(h,g){this.emitter.off(h,g)}isReady(){return this.logger.debug({msg:`${this.id}isReady called`}),!!this.socket&&this.socket.readyState===this.socket.OPEN}onMessage(h){this.logger.debug({msg:`${this.id}received message: ${h.data}`});try{const g=JSON.parse(h.data);switch(g.type){case"STAGE_STATE":case"aws:ivs:STAGE_STATE":{const b=g.payload.sequenceNumber;b>this.latestSequenceNumber&&(this.latestSequenceNumber===0&&vh()&&this.connectTimeout>0&&this.triggerSocketOpen(g),this.emitter.emit(Vl,g),this.latestSequenceNumber=b);break}case"PONG":this.receivedPong=!0,this.pongCount%2==0&&this.analyticsTracker.trackEventNoSharedProps(new zh({token:this.token,eventEndpoint:this.token.eventsURL,protocol:this.protocol,traceId:this.traceId,edpRttMs:performance.now()-this.latestPingTimestamp})),this.pongCount++;break;case"REFRESH":this.emitter.emit(t0);break;case"aws:ivs:SDP_ANSWER":this.emitter.emit(zl,g.payload);break;case"aws:ivs:DISCONNECT":this.emitter.emit(n0,g.payload);break;case"aws:ivs:REASSIGN":this.emitter.emit(zm,g.payload);break;case"aws:ivs:INCOMPATIBLE_CODECS":this.emitter.emit(Bs,g.payload);break;default:(0,wr.noop)()}}catch(g){this.logger.debug({msg:`onMessage JSON Parse error: ${g}`}),this.emitter.emit(e0,g)}}onError(h){this.logger.debug({msg:`${this.id}error: ${JSON.stringify(h)}`})}onClose(h){if(this.logger.debug({msg:`${this.id}onClose triggered with code (closing = ${this.closing}, connecting = ${this.connecting})`}),this.cleanPingPongTimeouts(),this.closing)this.closing=!1;else if(!this.windowUnloading)if(this.connecting){let g=Math.pow(2,this.connectionAttempts-1);g>64&&(g=64),this.logger.debug({msg:`${this.id}reconnecting in ${g} seconds`}),window.clearTimeout(this.nextConnectionAttempt),this.nextConnectionAttempt=window.setTimeout(this.attemptConnect.bind(this),1e3*g);const b=this.createError(Ae.EVENT_PLANE_WS_CLOSE_BEFORE_OPEN,`code: ${h==null?void 0:h.code}, reason: ${h==null?void 0:h.reason}, wasClean: ${h==null?void 0:h.wasClean}`);this.trackJoinFailed(b,this.getRetryCount()),this.analyticsTracker.trackError(b)}else{this.logger.debug({msg:`${this.id}unexpected close`}),this.emitter.emit(jd,"unknown");const g=this.createError(Ae.EVENT_PLANE_WS_UNEXPECTED_CLOSE,`code: ${h==null?void 0:h.code}, reason: ${h==null?void 0:h.reason}, wasClean: ${h==null?void 0:h.wasClean}`);this.trackJoinEnded(),this.emitter.emit(cs,g)}}onOpen(){this.logger.debug({msg:`${this.id} socket opened`}),this.clearConnectionAttemptTimeouts(),vh()?this.connectTimeout=window.setTimeout(()=>{this.triggerSocketOpen()},1e4):this.triggerSocketOpen()}clearConnectionAttemptTimeouts(){window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.nextConnectionAttempt=0,this.connectTimeout=0}triggerSocketOpen(h){this.clearConnectionAttemptTimeouts();const g=this.getRetryCount();this.connectionAttempts=0,this.connecting=!1,this.trackJoinStarted(),this.emitter.emit(Vm,{retryCnt:g,traceId:this.traceId,initialStageState:h}),this.pingInterval=window.setInterval(this.ping.bind(this),3e4)}ping(){var h;this.logger.debug({msg:`${this.id}sending PING`});try{this.latestPingTimestamp=performance.now(),(h=this.socket)===null||h===void 0||h.send(JSON.stringify({type:"PING"})),this.sentPing=!0,this.receivedPong=!1,this.pongTimeout&&clearTimeout(this.pongTimeout),this.pongTimeout=window.setTimeout(this.pongTimedOut.bind(this),5e3)}catch(g){const b=g instanceof Error?g.message:void 0,T=this.createError(Ae.EVENT_PLANE_PING_SEND_FAIL,b);this.emitter.emit(cs,T)}}connectTimedOut(){const h=this.socket&&this.socket.readyState===this.socket.CONNECTING;this.connecting=!1,this.logger.debug({msg:`${this.id}Connect timed out!`});const g=this.createError(Ae.JOIN_TIMED_OUT);h&&this.trackJoinFailed(g,this.getRetryCount()),this.createError(Ae.JOIN_TIMED_OUT),this.emitter.emit(cs,g),this.close()}pongTimedOut(){if(this.sentPing&&!this.receivedPong){this.logger.debug({msg:`${this.id}Pong timed out!`});const h=this.createError(Ae.EVENT_PLANE_PONG_TIMEOUT);this.emitter.emit(cs,h)}}cleanPingPongTimeouts(){this.sentPing=this.receivedPong=!1,window.clearTimeout(this.pongTimeout),window.clearInterval(this.pingInterval)}trackJoinAttempt(h){const{token:g,traceId:b}=this;this.analyticsTracker.trackEvent(new ug({token:g,eventEndpoint:(g==null?void 0:g.eventsURL)||"",whipEndpoint:(g==null?void 0:g.whipURL)||"",traceId:b}))}trackJoinFailed(h,g){const{token:b,traceId:T,code:O,message:N,fatal:M,nominal:L}=h;this.analyticsTracker.trackEvent(new Nw({token:b,eventEndpoint:b.eventsURL,whipEndpoint:b.whipURL,traceId:T,code:O,message:N,fatal:M,nominal:L,retryCnt:g}))}trackJoinStarted(){this.analyticsTracker.trackEventNoSharedProps(new va({token:this.token,eventEndpoint:this.token.eventsURL,numRetries:this.getRetryCount(),protocol:this.protocol,traceId:this.traceId}))}}var S0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},Wd,ai,Zi,Wn;(function(S){S.SDP_EXCHANGE="xdp",S.JITTER_BUFFER_MIN_DELAY_MS="jit_buf_min_delay_ms"})(Wd||(Wd={})),function(S){S.USER_INITIATED="user-initiated",S.CLIENT_RECONNECT="reconnect",S.TOKEN_REUSED="token-reused",S.UNKNOWN="unknown",S.PARTICIPANT_DISCONNECTED="participant-disconnected",S.STAGE_DELETED="stage-deleted"}(ai||(ai={})),function(S){S[S.NOT_CONNECTED=0]="NOT_CONNECTED",S[S.CONNECTION_LOST=1]="CONNECTION_LOST",S[S.TIMEDOUT=2]="TIMEDOUT",S[S.ABORTED=3]="ABORTED",S[S.INVALID_MESSAGE=4]="INVALID_MESSAGE",S[S.UNEXPECTED_ERROR=5]="UNEXPECTED_ERROR"}(Zi||(Zi={})),function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"}(Wn||(Wn={}));class Wh extends yo{constructor(h,g,b){super(),this.token=h,this.nonScopedLogger=g,this.analyticsTracker=b,this.participants=new Map,this.disconnected=[],this.state={value:Wn.DISCONNECTED,context:{connectStartTime:0,hasConnected:!1}},this.features={sdpExchange:!1},this.stats=this.resetStats(),this.stageMinutesLogged=0,this.isStagePublishing=!1,this.onConnecting=(T,O)=>{this.logger.debug({msg:"onConnecting",context:T,event:O}),T.connectStartTime=performance.now();const N=O.type==="RECONNECT";N&&this.stageSocket.close();const{eventsURL:M}=this.token;this.emit(da,Wn.CONNECTING),this.state.value=Wn.CONNECTING;const L=!N;this.stageSocket.connect(M,this.traceId,L)},this.onConnected=(T,O)=>{this.logger.debug({msg:"onConnected",context:T,event:O}),T.hasConnected=!0,this.emit(Bl),this.emit(da,Wn.CONNECTED),this.state.value=Wn.CONNECTED},this.onDisconnected=(T,O)=>{this.logger.debug({msg:"onDisconnected",context:T}),this.state.value=Wn.DISCONNECTED,this.stopStageMinuteLoggedInterval(!0),this.stageSocket.close(),T.hasConnected=!1,this.participants=new Map,this.disconnected=[],this.stageSocket.removeAllListeners(),this.resetStats(),this.emit(da,Wn.DISCONNECTED,O)},this.onErrored=(T,O)=>{this.logger.error({msg:"Connection failure occurred",err:O.payload.error}),this.emit(da,Wn.ERRORED),this.emit($m,O.payload.error),this.state.value=Wn.ERRORED,T.hasConnected?this.processStateUpdate({type:"RECONNECT"}):this.stageSocket.close()},this.processStateUpdate=T=>{const O=this.state.value,N=this.state.context;switch(O){case Wn.DISCONNECTED:T.type==="CONNECT"&&this.onConnecting(N,T);break;case Wn.CONNECTING:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="CONNECT_SUCCESS"?this.onConnected(N,T):T.type==="ERROR"&&this.onErrored(N,T);break;case Wn.CONNECTED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="ERROR"&&this.onErrored(N,T);break;case Wn.ERRORED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"&&this.onDisconnected(N,T.reason)}},this.measureConnect=(T,O)=>{const N=this.stats.edpConnectCount,M=N+1,L=performance.now(),A=L-O;return Object.assign(this.stats,{edpConnectCount:M,edpConnectDuration:A}),N===0&&Object.assign(this.stats,{edpInitialStartConnectTime:O,edpInitialFinishConnectTime:L,edpInitialConnectDuration:A,edpInitialConnectRetries:T}),this.stats},this.measureStateUpdate=T=>{const{edpInitialFinishConnectTime:O}=this.stats,N=this.stats.edpStateUpdateCount,M=N+1;return Object.assign(this.stats,{edpStateUpdateCount:M}),N===0&&Object.assign(this.stats,{edpInitialStateDuration:performance.now()-O,edpInitialStatePublishingCount:T}),this.stats},this.trackMessageParseError=T=>{this.logger.error({msg:"Message Parse Error occurred",err:T.err});const O=new Zt({token:T.token,traceId:T.traceId,code:Ae.WEBSOCKET_MESSAGE_PARSE_FAILURE.code,tag:T.tag,location:T.location,message:T.message,details:T.err.message});this.analyticsTracker.trackEvent(new gh(O))},this.trackStageSocketMessageParseError=(T,O,N)=>{this.trackMessageParseError({token:T,traceId:O,tag:Nd,location:"StageConnection.onMessage",message:Ae.WEBSOCKET_MESSAGE_PARSE_FAILURE.message,err:N})},this.trackStageStateMessageParseError=(T,O,N,M)=>{this.trackMessageParseError({token:T,traceId:O,tag:Nd,location:"StageConnection.onStageStateMessage",message:M,err:N})},this.onDisconnectMessage=T=>{this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,this.traceId,`DISCONNECT message received: ${T.code}:${T.reason}`,Ge.JOIN));let O=ai.UNKNOWN;if(T.code==="PARTICIPANT_DISCONNECTED")O=ai.PARTICIPANT_DISCONNECTED;else if(T.code==="STAGE_DELETED")O=ai.STAGE_DELETED;else if(T.code==="TOKEN_REUSED"&&(O=ai.TOKEN_REUSED,$a("disableTokenReuseMessage")))return void console.warn("Token reuse is detected, but skipping as feature is disabled");console.warn(`Disconnecting client due to: ${T.reason}`),this.processStateUpdate({type:"DISCONNECT",reason:O})},this.onReassignmentMessage=T=>{this.emit(H,T)},this.onIncompatibleCodecsMessage=T=>{this.emit(Mc,T)},this.onStageStateMessage=(T,O,N)=>{var M,L;this.logger.debug({msg:"State Stage Message occurred",state:N});const A=N.payload,F=(M=A.participants)!==null&&M!==void 0?M:[],B=(L=A.disconnected)!==null&&L!==void 0?L:[],W=[],ie=[];this.measureStateUpdate(F.length),this.enableFeaturesBasedOnServerFeatures(A.serverFeatures||[]);const be=(ge,le)=>{this.analyticsTracker.trackEventNoSharedProps(new Vh({token:T,otherParticipantId:ge.id,otherParticipantUserId:ge.userId,isAudioMuted:ge.audioMuted,isVideoStopped:ge.videoStopped,isPublishing:ge.isPublishing,isDisconnected:le,traceId:O}))};this.participants.forEach(ge=>{const le=F.find(ae=>ae.id===ge.id);if(le){let ae=!0,oe=!1;["isPublishing","id","audioMuted","joinedAt","userId","videoStopped"].forEach(we=>{ae=ae&&le[we.toString()]===ge[we.toString()],ae||(ge[we.toString()]=le[we.toString()],oe=!0)}),Object.keys(ge.attributes).forEach(we=>{ae=ae&&le.attributes[we]===ge.attributes[we],ae||(ge.attributes=le.attributes,oe=!0)}),oe&&(be(ge,!1),this.emit(Nh,le))}else ie.push(ge)}),F.forEach(ge=>{this.participants.get(ge.id)||W.push(ge)}),ie.forEach(ge=>{this.participants.delete(ge.id),be(ge,!0),this.emit(Ph,ge)}),W.forEach(ge=>{this.participants.set(ge.id,ge),be(ge,!1),this.emit(Oh,ge)}),B.forEach(ge=>{this.disconnected.find(le=>le.id===ge.id)||(this.disconnected.push(ge),ge.status==="KICKED"&&this.emit(Um,ge))}),this.disconnected=B},this.nonScopedLogger=g,this.logger=new mo(g,kn.CONNECTION),this.stageSocket=new x0(h,this.nonScopedLogger,b),this.token=h,this.traceId=Xi()}resetStats(){return this.stats={isConnected:!1,edpInitialStartConnectTime:0,edpInitialFinishConnectTime:0,edpConnectCount:0,edpInitialConnectDuration:0,edpConnectDuration:0,edpInitialStateDuration:0,edpInitialStatePublishingCount:0,edpStateUpdateCount:0,edpInitialConnectRetries:0},this.stats}connect(h){return S0(this,void 0,void 0,function*(){return this.logger.debug({msg:"connect invoked",token:this.token,traceId:h}),this.traceId=h,this.state.value!==Wn.DISCONNECTED&&(this.logger.debug({msg:"Disconnecting previous connection"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.CLIENT_RECONNECT})),new Promise((g,b)=>{this.stageSocket.on(Vm,T=>{var O,N;const{retryCnt:M,initialStageState:L}=T;L&&this.enableFeaturesBasedOnServerFeatures((N=(O=L.payload)===null||O===void 0?void 0:O.serverFeatures)!==null&&N!==void 0?N:[]),this.traceId=T.traceId||Xi(),this.measureConnect(M,this.state.context.connectStartTime),this.processStateUpdate({type:"CONNECT_SUCCESS"}),this.startStageMinuteLoggedInterval(this.token,this.traceId),g(this.traceId)}),this.stageSocket.on(cs,T=>{b(T),this.processStateUpdate({type:"ERROR",payload:{error:T}})}),this.stageSocket.on(t0,()=>{this.logger.debug({msg:"Refresh event occurred"}),this.emit(Ih),this.processStateUpdate({type:"RECONNECT"})}),this.stageSocket.on(Vl,T=>this.onStageStateMessage(this.token,this.traceId,T)),this.stageSocket.on(e0,T=>this.trackStageSocketMessageParseError(this.token,this.traceId,T)),this.stageSocket.on(n0,this.onDisconnectMessage),this.stageSocket.on(zm,this.onReassignmentMessage),this.stageSocket.on(Bs,this.onIncompatibleCodecsMessage),this.stageSocket.on(jd,T=>{this.stopStageMinuteLoggedInterval()}),this.processStateUpdate({type:"CONNECT",payload:{token:this.token,traceId:h}})})})}disconnect(){return this.logger.debug({msg:"disconnect invoked"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.USER_INITIATED}),this.traceId}getParticipant(h){return this.participants.get(h)}listConnectedParticipants(){const h=[];return this.participants.forEach(g=>{g.subscribed&&h.push(g)}),h}listAvailableParticipants(){return Array.from(this.participants.values())}emitStageState(h,g){this.stageSocket.send({audioMuted:h,type:"SET_STATE",version:"0",videoStopped:g})}setStagePublishing(h){this.isStagePublishing=h,this.emit(Bm,this.isStagePublishing)}getIsStagePublishing(){return this.isStagePublishing}startStageMinuteLoggedInterval(h,g){this.uploadStageMinutesBroadcastInterval||(this.analyticsTracker.trackEvent(new lg(h,g,this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++,this.uploadStageMinutesBroadcastInterval=setInterval(()=>{this.analyticsTracker.trackEvent(new lg(h,g??Xi(),this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++},6e4))}stopStageMinuteLoggedInterval(h=!1){this.uploadStageMinutesBroadcastInterval&&(clearInterval(this.uploadStageMinutesBroadcastInterval),this.uploadStageMinutesBroadcastInterval=void 0),h&&(this.stageMinutesLogged=0)}enableFeaturesBasedOnServerFeatures(h){const g=(N,M)=>{this.trackStageStateMessageParseError(this.token,this.traceId,M,`Could not parse "${N}" from the Eevee server features list`)},b=h.includes(Wd.SDP_EXCHANGE);this.features.sdpExchange!==b&&(this.logger.debug({msg:`XDP SDP exchange feature toggled: ${b}`}),this.features.sdpExchange=b);const T=h.find(N=>N.indexOf(Wd.JITTER_BUFFER_MIN_DELAY_MS)!==-1),O=N=>{this.logger.debug({msg:`jitterBufferMinDelay feature updated to: ${N}`}),this.features.jitterBufferMinDelayInMs=N};if(T!==void 0)try{const N=T.split("=")[1],M=parseInt(N,10);if(isNaN(M))throw new Error("Unable to parse - result is NaN");if(M<0)throw new Error("Unable to apply - result is negative");this.features.jitterBufferMinDelayInMs!==void 0&&this.features.jitterBufferMinDelayInMs===M||O(M)}catch(N){g(T,N),O(void 0)}else O(void 0)}isConnected(){return this.state.value===Wn.CONNECTED}supportsSdpExchange(){return this.features.sdpExchange}jitterBufferMinDelayInMs(){return this.features.jitterBufferMinDelayInMs}getConnectionStats(){return Object.assign({},this.stats,{isConnected:this.isConnected()})}exchangeSdp(h,g,b,T,O,N,M,L,A){return S0(this,void 0,void 0,function*(){return this.isConnected()?new Promise((F,B)=>{const W=window.setTimeout(()=>{ie(),B(Zi.TIMEDOUT)},8e3),ie=()=>{window.clearTimeout(W),this.stageSocket.off(zl,be),this.stageSocket.off(cs,ge)},be=le=>{le.requestId===T&&(ie(),F(le))},ge=()=>{ie(),B(Zi.CONNECTION_LOST)};O==null||O.addEventListener("abort",()=>{ie(),B(Zi.ABORTED)}),this.stageSocket.on(zl,be),this.stageSocket.on(cs,ge),this.stageSocket.sendSdpOffer(h,g,b,T,N,M,L,A)}):Promise.reject(Zi.NOT_CONNECTED)})}}class Hd{constructor(h){this.token=h}}const Yl=new RegExp("^(?:[a-z+]+:)?//","i");function Rt(S){return Yl.test(S)}function Gd({sdpExchangeTransport:S,serverHttpResponse:h,serverErrorCode:g}){return`sdpExchangeTransport: ${S}, serverHttpResponse: ${h}, serverErrorCode: ${g}`}var fg=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const $c={[Zi.ABORTED]:Ae.OPERATION_ABORTED,[Zi.NOT_CONNECTED]:Ae.EVENT_PLANE_WS_UNEXPECTED_CLOSE,[Zi.CONNECTION_LOST]:Ae.XDP_CONNECTION_LOST,[Zi.TIMEDOUT]:Ae.XDP_TIMEOUT,[Zi.INVALID_MESSAGE]:Ae.XDP_INVALID_ANSWER_MSG,[Zi.UNEXPECTED_ERROR]:Ae.XDP_UNEXPECTED_ERROR};class hg extends Hd{constructor(h,g,b,T){super(h),this.token=h,this.stageConnection=g,this.contextData=b,this.analyticsTracker=T}exchange(h){return fg(this,void 0,void 0,function*(){const g=Ga(),{action:b}=this.contextData,{sdpOffer:T,url:O,traceId:N,forceNode:M,assignmentToken:L,multiCodec:A,abortController:F,initialLayerPreference:B}=h;let W;this.trackAttempt(O,g,N);try{W=yield this.stageConnection.exchangeSdp(T,O,N.value,g.value,F==null?void 0:F.signal,M,L,A,B)}catch(ze){if(typeof ze=="number")throw this.createClientSideErrorFromReasonCode(ze,N,g,b)}if(!W)return;const{httpStatusCode:ie,errorCode:be,location:ge,content:le,sessionDeleteLink:ae,subscriberControlLink:oe,videoLayersLink:we}=W;if(ie>=200&&ie<300)return{sdpAnswer:le,url:O,location:ge,sessionDeleteLink:ae,mediaControls:oe,layerControls:we};throw this.createServerSideError(N,g,ie,be,b)})}trackAttempt(h,g,b){const{remoteParticipantId:T,action:O}=this.contextData;this.analyticsTracker.trackEventNoSharedProps(new Wl(O,this.token,h,"POST",g.value,T,b,"xdp"))}createServerSideError(h,g,b,T,O){const N=this.baseErrorProps(h,g);let M=Dc(b,T);return M||(M=Ae.UNKNOWN_SERVER_ERROR),new Zt(Object.assign(Object.assign(Object.assign({action:O},N),M),{details:Gd({sdpExchangeTransport:"xdp",serverHttpResponse:b,serverErrorCode:T})}))}baseErrorProps(h,g){const{remoteParticipantId:b,action:T}=this.contextData;return{token:this.token,traceId:h,tag:Jr(T,b),location:"EdpSdpExchanger.exchange",requestUUID:g,remoteParticipantId:b}}createClientSideErrorFromReasonCode(h,g,b,T){const O=this.baseErrorProps(g,b),N=$c[h];return new Zt(N?Object.assign(Object.assign({action:T},O),N):Object.assign(Object.assign({action:T},O),Ae.XDP_INVALID_ANSWER_MSG))}getTransport(){return"sdp"}}var _0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ei extends Hd{constructor(h,g,b){super(h),this.contextData=g,this.analyticsTracker=b}exchange(h){var g,b,T;return _0(this,void 0,void 0,function*(){const O=Ga(),{token:N}=this,{action:M,remoteParticipantId:L}=this.contextData,{sdpOffer:A,url:F,traceId:B,forceNode:W,assignmentToken:ie,multiCodec:be,abortController:ge,initialLayerPreference:le}=h;try{const oe="POST",we="http";this.analyticsTracker.trackEventNoSharedProps(new Wl(M,N,F,oe,O.value,L,B,we));const ze={data:A,headers:{Authorization:`Bearer ${N.rawToken}`,"Content-Type":"application/sdp","X-Stages-Platform":"web","X-Stages-Request-ID":O.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":B.value,"X-Stages-WHIP-Version":ls,[Ew]:(ae=JSON.stringify({[Cw]:["sau"]}),btoa(ae).replace(/[^A-Za-z0-9+/]/g,""))},method:oe,responseType:"text",url:F,signal:ge==null?void 0:ge.signal,params:{}};W&&(ze.params.force_node=W),ie&&(ze.params.assignment_token=ie),be&&(ze.params.multi_codec=!0);const st=wd()===void 0,Tt=wd()||st;le&&ze.headers&&Tt&&(ze.headers["X-Stages-Initial-Layer-Pref"]=Bi(le));const{data:Yt,headers:Qt,request:zt}=yield o0(ze),Nt=this.parseWhipResource(F,Qt.location,Qt.link);return{url:zt.responseURL,sdpAnswer:Yt,location:Nt==null?void 0:Nt.location,sessionDeleteLink:Nt==null?void 0:Nt.sessionDeleteLink,mediaControls:Nt==null?void 0:Nt.mediaControls,layerControls:Nt==null?void 0:Nt.layerControls}}catch(oe){if(Wr().isCancel(oe))throw new Zt(Object.assign(Object.assign({},ua(Ae.OPERATION_ABORTED,oe)),{action:M,token:N,traceId:B,tag:Jr(M,L),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:L}));const we=Number((g=oe==null?void 0:oe.response)===null||g===void 0?void 0:g.status)||-1,ze=((T=(b=oe==null?void 0:oe.response)===null||b===void 0?void 0:b.data)===null||T===void 0?void 0:T.code)||-1,st=function(Tt,Yt){var Qt;return Tt instanceof gr.AxiosError&&Tt.response&&typeof Tt.response.status=="number"?Tt instanceof gr.AxiosError&&Tt.code==="ERR_NETWORK"?Ae.NETWORK_FAILURE:Dc(Number(Tt.response.status),(Qt=Tt.response.data)===null||Qt===void 0?void 0:Qt.code)||Yt:Yt}(oe,Ae.WHIP_POST_FAILURE);throw new Zt(Object.assign(Object.assign({},ua(st,oe)),{action:M,token:N,traceId:B,tag:Jr(M,L),details:Gd({sdpExchangeTransport:"http",serverHttpResponse:we,serverErrorCode:ze}),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:L}))}var ae})}parseWhipResource(h,g,b){const T=new URL(h);let O;return O=function(N,M,L){if(!L)return N;if(N||(N={}),Rt(L))return N.location=L,N;const A=M.port?`:${M.port}`:"";return N.location=`${M.protocol}//${M.hostname}${A}${L}`,N}(O,T,g),O=function(N,M,L){if(!L)return N;N||(N={});const A=N;return L.split(",").forEach(F=>{const B=/<(.+)>;\s?rel="([a-z:-]+)"/.exec(F);if((B==null?void 0:B.length)!==3)return;let W;if(Rt(B[1]))W=B[1];else{const ie=M.port?`:${M.port}`:"";W=`${M.protocol}//${M.hostname}${ie}${B[1]}`}switch(B[2]){case"urn:ietf:params:whip:ivs-stages:session-delete":A.sessionDeleteLink=W;break;case"urn:ietf:params:whep:core:playback-controls":A.mediaControls=W;break;case"urn:ietf:params:whep:ext:core:layer":A.layerControls=W;break;default:return}}),A}(O,T,b),O}getTransport(){return"http"}}function Hh(S){return S.track.kind===fa.AUDIO}function Gh(S){return S.track.kind===fa.VIDEO&&typeof S.config=="object"}const w0=(S,h)=>function(g){return g.kind===fa.AUDIO}(S)?((g,b)=>{var T;const O={maxBitrateBps:fs((T=b==null?void 0:b.maxAudioBitrateKbps)!==null&&T!==void 0?T:qm)},N=b==null?void 0:b.stereo;return typeof N=="boolean"&&(O.stereo=N),{track:g,config:O}})(S,h):((g,b)=>{var T,O,N,M,L;const A=(T=b==null?void 0:b.minBitrate)!==null&&T!==void 0?T:Fc,F=(O=b==null?void 0:b.maxBitrate)!==null&&O!==void 0?O:us,B=(N=b==null?void 0:b.maxFramerate)!==null&&N!==void 0?N:Qa,W=!!(!((M=b==null?void 0:b.simulcast)===null||M===void 0)&&M.enabled),ie=!!(!((L=b==null?void 0:b.inBandMessaging)===null||L===void 0)&&L.enabled);return{track:g,config:{minBitrateBps:fs(A),maxBitrateBps:fs(F),maxFramerate:B,simulcastEnabled:W,inBandMessagingEnabled:ie}}})(S,h),$o=(S,h)=>{if(typeof S=="number")return S;const g=h?Km:s0;return g[S]!==void 0?g[S]:0};function Ci(S){if(S<Fc||S>us)throw new Error(`Stage bitrate must be between ${Fc} kbps and ${us} kbps`)}function pg(S,h){let b=Object.assign({},{minBitrate:Fc,maxBitrate:us,maxFramerate:Qa,simulcast:{enabled:!1},maxAudioBitrateKbps:qm,stereo:!1,inBandMessaging:{enabled:!1}},(0,wr.cloneDeep)(h));return b=function(T,O){var N,M,L;const A=Object.assign({},(0,wr.cloneDeep)(O)),F=!Ud.browser.isChrome()&&!Ud.browser.isEdge(),B=(L=(M=(N=T.getSettings)===null||N===void 0?void 0:N.call(T))===null||M===void 0?void 0:M.displaySurface)!==null&&L!==void 0&&L,W=fs(A.maxBitrate)<$d.maxBitrate;return(F||B||W)&&(A.simulcast.enabled=!1),A}(S,b),Ci(b.maxBitrate),Ci(b.minBitrate),function(T){if(T&&(T>Qa||T<Mh))throw new Error(`framerate cannot exceed ${Qa} fps`)}(b.maxFramerate),function(T){if(T<Md||T>Uc)throw new Error(`Stage audio bitrate must be between ${Md} kbps and ${Uc} kbps`)}(b.maxAudioBitrateKbps),function(T){if(typeof T!="boolean")throw new Error("Stage stereo prop must be a boolean")}(b.stereo),function(T){if(typeof T!="object")throw new Error("In-band messaging config must be an object");if(typeof T.enabled!="boolean")throw new Error("In-band messaging config enabled property must be a boolean")}(b.inBandMessaging),b}function qd({stageErrorValue:S,action:h,token:g,traceId:b,tag:T,identifier:O,details:N}){return new Zt(Object.assign(Object.assign({},S),{token:g,traceId:b,location:"peer-client",tag:T,action:h,remoteParticipantId:O,details:N}))}var Ti;function Ql(S){var h;return!((h=S==null?void 0:S.sender)===null||h===void 0)&&h.createEncodedStreams?Ti.INSERTABLE_STREAMS:window.RTCRtpSender&&"transform"in RTCRtpSender.prototype&&window.RTCRtpScriptTransform?Ti.ENCODED_TRANSFORMS:Ti.NONE}function mg(S){var h;return!((h=S==null?void 0:S.receiver)===null||h===void 0)&&h.createEncodedStreams?Ti.INSERTABLE_STREAMS:window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&window.RTCRtpScriptTransform?Ti.ENCODED_TRANSFORMS:Ti.NONE}function E0(){return Xy()(`/*! For license information please see transform.worker.worker.js.LICENSE.txt */
(()=>{"use strict";const e=new Uint8Array([158,80,78,165,238,90,79,2,148,159,176,51,163,118,141,162]);var t;!function(e){e.VIDEO_SEND="video/send",e.VIDEO_RECEIVE="video/receive",e.INSERT_SEI="insertSei"}(t||(t={}));function n(t,n){const{transformerId:s,type:r,payloads:a}=n;let o=[];if("sei"===n.type){const{value:n,messages:s}=function(t,n){function s(e,t,n){return n+t.length<=e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function r(e,t){const n=function(e,t){return new Uint8Array([0,0,1,6,5,...t,...e])}(e,function(e){const t=[];for(;e>=255;)t.push(255),e-=255;return t.push(e),new Uint8Array(t)}(t.length+e.length)),s=function(e){const t=[...e];let n=3;for(;n<t.length-2;)0!==t[n]||0!==t[n+1]||0!==t[n+2]&&1!==t[n+2]&&2!==t[n+2]&&3!==t[n+2]?n+=1:(t.splice(n+2,0,3),n+=3);return t}(new Uint8Array([...n,...t,128]));return new Uint8Array(s)}function a(e,n){const r=function(e){const t=new DataView(e);for(let e=0;e<t.byteLength-4;e++)if(s(t,[0,0,1],e)){const n=31&t.getUint8(e+3);if(n>=1&&n<=5)return e}return-1}(t.data);if(r>=0){const e=new ArrayBuffer(t.data.byteLength+n.byteLength),s=new Uint8Array(e);return s.set(new Uint8Array(t.data.slice(0,r)),0),s.set(n,r),s.set(new Uint8Array(t.data.slice(r)),r+n.byteLength),e}return e}return function(){const s=[];for(let o=0;o<n.length;o+=1){const i=r(e,new Uint8Array(n[o]));t.data=a(t.data,i),s.push({uuid:e,payload:n[o]})}return{value:t,messages:s}}()}(t,a||[]);t=n,o=s}return{success:!0,frame:t,transformerId:s,type:r,seiResult:o}}const s=function(){let e=[];const t=new Map;return{add:({payload:t,repeatCount:n})=>(e.push({payload:t,repeatCount:n}),!0),poll(n){t.has(n)||t.set(n,[]),t.size>0&&(t.forEach((t=>{t.push(...e)})),e=[]);const s=t.get(n)||[],r=s.filter((e=>e.repeatCount>0)).map((e=>Object.assign(Object.assign({},e),{repeatCount:e.repeatCount-1})));return t.set(n,r),s}}}(),r=e=>(t,r)=>{try{const a=t.getMetadata().synchronizationSource,o=(s?s.poll(a):[]).map((e=>e.payload)),i=n(t,Object.assign(Object.assign({},e),{payloads:o}));r.enqueue(i.frame),self.postMessage(Object.assign({success:i.success,seiResult:i.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}},a=e=>(t,n)=>{try{const s=function(e,t){const{type:n,transformerId:s}=t;if("sei"===n){const t=function(e){function t(e,t,n){return n+t.length<e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function n(e){const t=[];let n=0;for(;n<e.length;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(t.push(e[n]),t.push(e[n+1]),n+=3):(t.push(e[n]),n+=1);return new Uint8Array(t)}function s(e){let t=2;const n=e.byteLength;for(;t<n;){let s=0;for(;t<n&&255===e[t];)s+=255,t++;s+=e[t],t++;const r=Math.min(t+s,n),a=new Uint8Array(e.slice(t,r));return{uuid:a.slice(0,16),payload:a.slice(16)}}}return{messages:function(e){const r=new DataView(e.data),a=[];let o=0;if(!t(r,[0,0,1],0)&&!t(r,[0,0,0,1],0))return[];for(;o<r.byteLength-5;)if(t(r,[0,0,1],o)){const i=o+3;o=i;const c=31&r.getUint8(o),u=31&r.getUint8(o+1);if(6===c&&5===u){for(;o<r.byteLength&&!t(r,[0,0,1],o);)o++;const c=o,u=s(n(new Uint8Array(e.data.slice(i,c))));u&&a.push(Object.assign({},u))}else o++}else o++;return a}(e),frame:e}}(e),{frame:r,messages:a}=t;return{success:!0,frame:r,type:n,transformerId:s,seiResult:a}}return{success:!0,frame:e,transformerId:s,type:n}}(t,e);n.enqueue(s.frame),self.postMessage(Object.assign({success:s.success,seiResult:s.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}};function o(e,t,n,s){const o=new TransformStream({transform:"video/send"===e?r(t):a(t)});n.pipeThrough(o).pipeTo(s)}const i=self;i.addEventListener("message",(function(e){var n,r,a;if(!(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.operation)||!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transformerId))return;const{operation:i,transformerId:c}=e.data;switch(i){case t.VIDEO_SEND:case t.VIDEO_RECEIVE:o(i,{method:i,transformerId:c,type:"sei"},e.data.readable,e.data.writable);break;case t.INSERT_SEI:s.add({payload:e.data.payload,repeatCount:null!==(a=e.data.repeatCount)&&void 0!==a?a:0})}})),i.addEventListener("rtctransform",(function(e){const t=e.transformer;if(!t)return;o(t.options.method,t.options,t.readable,t.writable)}))})();`,"Worker",void 0,void 0)}(function(S){S.NONE="none",S.ENCODED_TRANSFORMS="encodedTransforms",S.INSERTABLE_STREAMS="insertableStreams"})(Ti||(Ti={}));const Xl=(()=>{let S;return{getWorker:()=>(S||(S=new E0),S),destroy:()=>{S&&S.terminate(),S=void 0}}})();var Ri;(function(S){S.NOT_PUBLISHING_VIDEO="NOT_PUBLISHING_VIDEO",S.INBAND_MESSAGING_NOT_ENABLED="INBAND_MESSAGING_NOT_ENABLED",S.INVALID_REPEAT_COUNT="INVALID_REPEAT_COUNT",S.PAYLOAD_SIZE_INVALID="PAYLOAD_SIZE_INVALID",S.PAYLOAD_RATE_EXCEEDED="PAYLOAD_RATE_EXCEEDED",S.INVALID_TRACK_TYPE="INVALID_TRACK_TYPE"})(Ri||(Ri={}));class gg{constructor(h){this.maxFramerate=h,this.queued=[]}validateMessagePayload(h,g){if(h.byteLength<=0)return ot.err(Ri.PAYLOAD_SIZE_INVALID);if(g<0||g>30)return ot.err(Ri.INVALID_REPEAT_COUNT);if(h.byteLength>1024)return ot.err(Ri.PAYLOAD_SIZE_INVALID);this.queued=this.trimPastPayloads(this.queued,1e3);const{before:b,after:T}=this.getPayloadSums(this.queued);if(b+h.byteLength>10240||T+h.byteLength*Math.max(1,g)>10240)return ot.err(Ri.PAYLOAD_RATE_EXCEEDED);if(this.queued.push({byteLength:h.byteLength,timestamp:Date.now()}),g>0){const O=1e3/this.maxFramerate;let N=Date.now()+O;for(let M=0;M<g;M+=1)this.queued.push({byteLength:h.byteLength,timestamp:N}),N+=O}return ot.ok(!0)}trimPastPayloads(h,g){const b=Date.now()-g;return h.filter(T=>T.timestamp>b)}getPayloadSums(h){const g=Date.now();return h.reduce((b,T)=>{const{before:O,after:N}=b;return T.timestamp<=g?{before:O+T.byteLength,after:N}:{before:O,after:N+T.byteLength}},{before:0,after:0})}}const vg="seiMessageReceived",Jl="error";var $i;(function(S){S.CREATED="created",S.INITIALIZED="initialized",S.DESTROYED="destroyed"})($i||($i={}));class yg extends yo{constructor(){super(),this.state=$i.CREATED,this.transformerId=Ga().value,this.prevResultWasError=!1,this.consecutiveErrorResults=0,this.seiReadCnt=0,this.seiBytesRead=0,this.onMessage=h=>{this.onTransformResult(h.data)}}initializeInsertableStreams(h){var g,b;this.worker=Xl.getWorker();const T=h.receiver.createEncodedStreams(),{readable:O,writable:N}=T;(g=this.worker)===null||g===void 0||g.postMessage({operation:"video/receive",transformerId:this.transformerId,readable:O,writable:N},[O,N]),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initializeEncodedTransforms(h){var g;this.worker=Xl.getWorker();const b={method:"video/receive",type:"sei",transformerId:this.transformerId};h.receiver.transform=new RTCRtpScriptTransform(this.worker,b),(g=this.worker)===null||g===void 0||g.addEventListener("message",this.onMessage)}initialize(h,g){if(this.state!==$i.CREATED)return!1;const b=mg(h);if(b===Ti.NONE)return!1;if(g&&b===Ti.INSERTABLE_STREAMS)this.initializeInsertableStreams(h);else{if(g||b!==Ti.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(h)}return this.transceiver=h,this.state=$i.INITIALIZED,!0}onTransceiverAdd(h){return this.initialize(h,!0)}onTrackEvent(h){return h.track.kind==="video"&&this.initialize(h.transceiver,!1)}static isSupported(h){return mg(h)!==Ti.NONE}onTransformResult(h){return h.transformerId===this.transformerId&&(h.success?(this.prevResultWasError=!1,this.consecutiveErrorResults=0,!!h.seiResult&&(h.seiResult.forEach(g=>{const{payload:b,uuid:T}=g;this.updateReadStats(g),this.emit(vg,{uuid:T,payload:b})}),h.seiResult.length>0)):(this.prevResultWasError&&this.consecutiveErrorResults++,this.consecutiveErrorResults>=300&&this.onError(h,Ae.TRANSFORM_TOO_MANY_ERRORS),this.prevResultWasError=!0,this.onError(h,Ae.TRANSFORM_UNEXPECTED_ERROR),!1))}updateReadStats(h){this.seiReadCnt++,this.seiBytesRead+=h.payload.byteLength}getReceiverStats(){const{seiBytesRead:h,seiReadCnt:g}=this;return{seiReadCnt:g,seiBytesRead:h}}onError(h,g){const{type:b}=h;this.emit(Jl,{type:b,stageErrorValue:g})}destroy(){var h,g;this.state!==$i.DESTROYED&&(this.removeAllListeners(),(h=this.worker)===null||h===void 0||h.removeEventListener("message",this.onMessage),!((g=this.transceiver)===null||g===void 0)&&g.receiver&&(this.transceiver.receiver.transform=null),this.state=$i.DESTROYED)}getState(){return this.state}}class bg{constructor(){this.state=$i.CREATED,this.transformerId=Ga().value,this.seiWriteCnt=0,this.seiBytesWritten=0,this.onMessage=h=>{this.onTransformResult(h.data)}}initializeInsertableStreams(h,g){var b,T;this.worker=Xl.getWorker();const O=h.sender.createEncodedStreams(),{readable:N,writable:M}=O;(b=this.worker)===null||b===void 0||b.postMessage({operation:"video/send",transformerId:this.transformerId,readable:N,writable:M},[N,M]),(T=this.worker)===null||T===void 0||T.addEventListener("message",this.onMessage)}initializeEncodedTransforms(h,g){var b;this.worker=Xl.getWorker();const T={method:"video/send",type:"sei",transformerId:this.transformerId,encodingLayers:g};h.sender.transform=new RTCRtpScriptTransform(this.worker,T),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initialize(h){var g;if(this.state!==$i.CREATED)return!1;const b=Ql(h);if(b===Ti.NONE)return!1;const T=h.sender.getParameters(),O=((g=T==null?void 0:T.encodings)===null||g===void 0?void 0:g.length)||1;if(b===Ti.INSERTABLE_STREAMS)this.initializeInsertableStreams(h,O);else{if(b!==Ti.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(h,O)}return this.transceiver=h,this.state=$i.INITIALIZED,!0}static isSupported(h){return Ql(h)!==Ti.NONE}sendSeiMessage(h,g){var b;return this.state===$i.INITIALIZED&&this.transceiver?((b=this.worker)===null||b===void 0||b.postMessage({operation:"insertSei",transformerId:this.transformerId,payload:h,repeatCount:g}),ot.ok(!0)):ot.err(Ri.NOT_PUBLISHING_VIDEO)}onTransceiverAdd(h){return this.initialize(h)}onTrackEvent(h){return!1}onTransformResult(h){return h.transformerId===this.transformerId&&(h.success&&this.updateSendStats(h),h.success)}updateSendStats(h){h.seiResult&&h.seiResult.forEach(g=>{this.seiWriteCnt++,this.seiBytesWritten+=g.payload.byteLength})}getSenderStats(){const{seiBytesWritten:h,seiWriteCnt:g}=this;return{seiWriteCnt:g,seiBytesWritten:h}}destroy(){var h;this.state!==$i.DESTROYED&&(!((h=this.transceiver)===null||h===void 0)&&h.receiver&&(this.transceiver.receiver.transform=null),this.state=$i.DESTROYED)}getState(){return this.state}}var Mr=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};let Zl=null;class hs extends yo{constructor(h,g,b,T,O,N,M,L,A){var F;if(super(),this.analyticsTracker=N,this.subscribeConfig=A,this.sfuResource={node:"",cluster:""},this.stageCapabilities={simulcastNegotiated:!1},this.incompatibleCodecs=new Set,this.connect=({audioOnly:B=!1,traceId:W,iceRestartOptions:ie})=>Mr(this,void 0,void 0,function*(){const{token:be,tag:ge,identifier:le,action:ae}=this,oe=!!ie,we=new AbortController;let ze,st,Tt;this.abortController=we,this.traceId=W,this.perfTracker.resetMeasurements(W);const Yt=()=>{ze&&this.off(vo,ze),st&&this.off(go,st)},Qt=new Promise((zt,Nt)=>{const en=function({action:yt,token:cn,traceId:It,tag:At,identifier:dn}){const Pn=yt===Ge.SUBSCRIBE?Ae.SUBSCRIBE_TIMED_OUT:Ae.PUBLISH_TIMED_OUT;return new Zt(Object.assign(Object.assign({},Pn),{action:yt,token:cn,traceId:It,tag:At,location:"connect",remoteParticipantId:dn}))}({action:ae,token:be,traceId:W,tag:ge,identifier:le}),un=function({action:yt,token:cn,traceId:It,tag:At}){const dn=Ae.OPERATION_ABORTED;return new Zt(Object.assign(Object.assign({},dn),{token:cn,traceId:It,location:"peer-client.connect",tag:At,action:yt}))}({action:ae,token:be,traceId:W,tag:ge}),vt=setTimeout(()=>{this.stop(),this.analyticsTracker.trackError(en),Nt(en)},1e4);ze=yt=>{clearTimeout(vt),oe||this.stop(),Nt(yt)},st=yt=>{if(yt===gt.CONNECTED)clearTimeout(vt),zt();else if(yt===gt.FAILED){const cn=function({action:It,token:At,traceId:dn,tag:Pn}){return new Zt(Object.assign(Object.assign({},Ae.PEER_CONNECTION_NETWORK_FAILURE),{token:At,traceId:dn,location:"peer-client.connect",tag:Pn,action:It}))}({action:ae,token:be,traceId:W,tag:ge});clearTimeout(vt),Nt(cn)}},this.on(vo,ze),this.on(go,st),Tt=()=>{clearTimeout(vt)},we.signal.aborted&&(clearTimeout(vt),Nt(un)),we.signal.addEventListener("abort",()=>{clearTimeout(vt),Nt(un)})});try{const zt=yield Promise.all([Mr(this,void 0,void 0,function*(){oe||(yield this.start(),this.mediaStream=yield this.initializePeerConnection(B));const en=ie==null?void 0:ie.assignmentToken,un=ie==null?void 0:ie.nodeOverride;return yield this.exchangeSdp({iceRestart:oe,nodeOverride:un,assignmentToken:en,abortController:we}),this.mediaStream}),Qt]);this.statsReporter.traceId=W;const Nt=zt[0];if(this.abortController=void 0,!oe&&ae===Ge.PUBLISH)try{yield this.verifyOrUpdateTransceiverSync()}catch(en){this.logger.error({err:en,msg:"error syncing transceivers"})}return{mediaStream:Nt}}catch(zt){throw Tt&&Tt(),zt}finally{Yt()}}),this.disconnect=(B=!1)=>Mr(this,void 0,void 0,function*(){var W;const{token:ie,action:be}=this;(W=this.abortController)===null||W===void 0||W.abort(),this.stop(),B?this.cleanup(be,ie.participantID,ie,B):yield this.cleanup(be,ie.participantID,ie,B)}),this.onTrack=B=>{const{token:W,action:ie,traceId:be,identifier:ge}=this;this.trace(W,be,`onTrack: ${B.track.kind}`,ie,ge),this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTrackEvent(B),this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTrackEvent(B)},this.onIceGatheringStateChange=()=>{var B,W,ie;const{token:be,action:ge,traceId:le,identifier:ae}=this;if(((B=this.peerConnection)===null||B===void 0?void 0:B.iceGatheringState)==="gathering"?this.perfTracker.markIceGatheringStart():((W=this.peerConnection)===null||W===void 0?void 0:W.iceGatheringState)==="complete"&&this.perfTracker.markIceGatheringStop(),this.peerConnection){const oe=this.peerConnection.iceGatheringState,we=new Dh(ge,be,le,oe,ae);this.analyticsTracker.trackEventNoSharedProps(we)}this.trace(be,le,`ICE gathering state change: ${(ie=this.peerConnection)===null||ie===void 0?void 0:ie.iceGatheringState}`,ge,ae)},this.onSelectedCandidatePairChange=()=>{var B,W;const{token:ie,action:be,traceId:ge,identifier:le}=this,ae=(W=(B=this.peerConnection)===null||B===void 0?void 0:B.getReceivers()[0].transport)===null||W===void 0?void 0:W.iceTransport,oe=ae==null?void 0:ae.getSelectedCandidatePair();if(oe){const{local:we,remote:ze}=oe,st=`Selected candidate pair change (local, remote): ${we==null?void 0:we.candidate}, ${ze==null?void 0:ze.candidate}`;this.logger.debug({msg:st}),this.trace(ie,ge,st,be,le)}},this.onIceCandidate=B=>Mr(this,void 0,void 0,function*(){var W,ie;const{identifier:be,action:ge,traceId:le}=this,ae=(W=B.target.localDescription)===null||W===void 0?void 0:W.sdp.includes("relay");this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,le,`ice candidate: hasRelay = ${ae}, candidate = ${(ie=B.candidate)===null||ie===void 0?void 0:ie.candidate}`,ge,be))}),this.onMute=()=>Mr(this,void 0,void 0,function*(){const{token:B,action:W,traceId:ie,identifier:be}=this;this.trace(B,ie,"Track has muted",W,be)}),this.onUnMute=()=>Mr(this,void 0,void 0,function*(){const{token:B,action:W,traceId:ie,identifier:be}=this;this.trace(B,ie,"Track has unmuted",W,be)}),this.fetchAndSetRemoteDescription=B=>Mr(this,void 0,void 0,function*(){var W,ie,be,ge;const le=(ie=(W=this.peerConnection)===null||W===void 0?void 0:W.localDescription)===null||ie===void 0?void 0:ie.sdp;le||this.logger.warn({msg:"Unexpected state: No SDP offer when attempting to fetch remote description"});const{token:ae,traceId:oe,action:we,identifier:ze,tag:st}=this,{endpointURL:Tt,nodeOverride:Yt,assignmentToken:Qt,multiCodec:zt,abortController:Nt}=B;let en;this.perfTracker.markPostStart(),this.perfTracker.markSdpExchangeStart();try{this.perfTracker.setTransport(this.sdpExchanger.getTransport());const It=Yt||bi("node")||bi("dataPlaneEndpoint");en=yield this.sdpExchanger.exchange({sdpOffer:le,url:Tt,traceId:oe,forceNode:It,assignmentToken:Qt,multiCodec:zt,abortController:Nt,initialLayerPreference:(be=this.simulcastSubscribeConfig)===null||be===void 0?void 0:be.initialLayerPreference})}catch(It){let At=It;At instanceof Zt||(At=new Zt(Object.assign(Object.assign({},Ae.UNEXPECTED_ERROR),{action:we,token:ae,traceId:oe,tag:st,details:It instanceof Error?It.message:"",location:"sdp-exchange"}))),At instanceof Zt&&(this.analyticsTracker.trackError(At),this.emit(vo,At))}if(this.perfTracker.markSdpExchangeStop(),!en)return;const{location:un,sessionDeleteLink:vt,mediaControls:yt}=en;let cn=en.sdpAnswer;try{cn=this.mungeSdpAnswer(cn),en.sdpAnswer=cn}catch(It){this.logger.error({err:It,msg:"Error while attempting to munge SDP, keeping original answer"})}this.statsReporter.sdpAnswer=cn,this.emit(Qy,en),un&&(this.whipResource={location:un,sessionDeleteLink:vt,mediaControls:yt},this.sfuResource=function(It){const At=It.match(/https:\/\/([^/]+)\//);if(At){const dn=At[1].split(".");if(dn[0].includes("video-rtx"))return{node:`${dn[0]}.${dn[1]}`,cluster:dn[1]}}}(un)||{node:"",cluster:""},this.statsReporter.updateSfuResource(this.sfuResource));try{this.perfTracker.markSetRemoteDescStart(),yield(ge=this.peerConnection)===null||ge===void 0?void 0:ge.setRemoteDescription({sdp:cn,type:"answer"}),this.perfTracker.markSetRemoteDescStop(),this.perfTracker.markPostStop()}catch(It){const At=new Zt(Object.assign(Object.assign({},Ae.SET_ANSWER_FAILURE),{action:we,token:ae,traceId:oe,tag:Jr(we,ze),location:"setRemoteDescription",remoteParticipantId:ze,details:It instanceof Error?It.message:""}));this.analyticsTracker.trackError(At),this.emit(vo,At)}}),this.cleanup=(B,W,ie,be=!1)=>Mr(this,void 0,void 0,function*(){var ge,le,ae;const oe=Ga();if(this.toggleStageConnectionListeners(!1),this.currentJitterBufferMinDelayInMs=void 0,this.stageConnection=void 0,this.closeFailedPeerConnections(),!(!((ge=this.whipResource)===null||ge===void 0)&&ge.location))return this.trace(ie,this.traceId,"whipResource location not known, exiting cleanup",B,W),void this.analyticsTracker.trackError(new Zt(Object.assign(Object.assign({},Ae.WHIP_URL_MISSING),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:B===Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})));let we=this.whipResource.location;if(this.trace(ie,this.traceId,`use hostnamecachedurl: ${we}`,B,W),be){if(!((ae=this.whipResource)===null||ae===void 0)&&ae.sessionDeleteLink){we=this.whipResource.sessionDeleteLink,this.trace(ie,this.traceId,`DELETE via session-delete beacon path: ${we}`,B,W);try{navigator.sendBeacon(we,JSON.stringify({authorization:ie.rawToken}))}catch(ze){this.analyticsTracker.trackErrorAndThrow(new Zt(Object.assign(Object.assign({},ua(Ae.WHIP_DELETE_FAILURE,ze)),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})))}}}else try{yield Wr().delete(we,{headers:{Authorization:`Bearer ${ie.rawToken}`,"X-Stages-Platform":"web","X-Stages-Request-ID":oe.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":ls}})}catch(ze){((le=ze.response)===null||le===void 0?void 0:le.status)===404?this.trace(ie,this.traceId,`DELETE returned 404, ignoring, action = ${B}, uuid = ${oe.value}`,B,W):this.analyticsTracker.trackErrorAndThrow(new Zt(Object.assign(Object.assign({},ua(Ae.WHIP_DELETE_FAILURE,ze)),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})))}}),this.getConnectionState=()=>{if(!this.peerConnection)return gt.NONE;const B=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;try{return jh(B)}catch{return this.logger.warn({msg:"Unhandled connection state:",rawState:B}),gt.IDLE}},this.onIceCandidateError=B=>{const{token:W,traceId:ie,tag:be}=this;if(B.errorCode!==701){const ge=new Zt(Object.assign(Object.assign({},Ae.ICE_CANDIDATE_ERROR),{action:this.action,token:W,traceId:ie,tag:be,location:"onIceCandidateError",remoteParticipantId:this.identifier}));this.analyticsTracker.trackError(ge),this.emit(vo,ge)}},this.onIceConnectionStateChange=()=>{var B;const{token:W,traceId:ie,action:be,identifier:ge}=this;this.trace(W,ie,`ICE connection state change: ${(B=this.peerConnection)===null||B===void 0?void 0:B.iceConnectionState}`,be,ge),this.onConnectionStateChange()},this.createVideoReceiverTransformer=()=>{const B=new yg,{token:W,tag:ie,identifier:be,action:ge,traceId:le}=this;B.on(vg,we=>{this.emit(Fo,we)});const ae=function(we,ze){let st=0;return function(...Tt){const Yt=Date.now();Yt-st>=ze&&(st=Yt,we(...Tt))}}(we=>{const ze=`Transform error occurred: ${we.type}`,st=qd({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:ze,stageErrorValue:Ae.TRANSFORM_UNEXPECTED_ERROR});this.logger.warn({err:st,msg:"Error encountered when transforming receiver",error:we})},1e3),oe=we=>{const ze=`Too many errors occurred: ${we.type}`,st=qd({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:ze,stageErrorValue:Ae.TRANSFORM_TOO_MANY_ERRORS});this.logger.error({err:st,msg:"Too many errors encountered when transforming receiver. Shutting down transformer.",error:we}),B.destroy(),this.analyticsTracker.trackError(st),this.emit(Ac,st)};return B.on(Jl,we=>{we.stageErrorValue.code!==Ae.TRANSFORM_TOO_MANY_ERRORS.code?ae(we):oe(we)}),B},this.onConnectionStateChange=()=>{var B;if(this.peerConnection){const ie=this.peerConnection.connectionState||this.peerConnection.iceConnectionState,{token:be,traceId:ge,identifier:le,action:ae}=this,oe=new Hm(ae,be,ge,ie,le);this.analyticsTracker.trackEventNoSharedProps(oe),this.trace(be,ge,`connection state change: ${ie}`,ae,le)}const W=this.getConnectionState();switch(W){case gt.CONNECTED:this.closeFailedPeerConnections(),this.perfTracker.markActionStop(),this.emit(go,W),this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub),(B=this.peerConnection)===null||B===void 0||B.getTransceivers().forEach(ie=>{var be,ge;!((ge=(be=ie.receiver)===null||be===void 0?void 0:be.transport)===null||ge===void 0)&&ge.iceTransport&&ie.receiver.transport.iceTransport.addEventListener("selectedcandidatepairchange",this.onSelectedCandidatePairChange)});break;case gt.FAILED:this.storeFailedPeerConnection(this.peerConnection),this.destroyPeerConnection({closeConnection:!1}),this.emit(go,W),this.handleConnectionFailure();break;default:this.emit(go,W)}},this.onIncompatibleCodecs=B=>Mr(this,void 0,void 0,function*(){if(B.forEach(be=>{let ge=!1;this.incompatibleCodecs.forEach(le=>{le.config===be.config&&le.mime===be.mime&&(ge=!0)}),ge||this.incompatibleCodecs.add(be)}),this.peerConnection)try{yield(W=this.peerConnection,ie=[...this.incompatibleCodecs],a0(void 0,void 0,void 0,function*(){var be;for(const ge of W.getSenders()){const le=ge.getParameters();if(le.codecs.length>1){const ae=le.codecs[0];let oe=!1;for(const we of ie)Xm(ae,we)&&(oe=!0);if(oe){const we=Jm(ie,le.codecs);(be=le.encodings)===null||be===void 0||be.forEach(ze=>{ze.active&&(ze.codec=we)}),yield ge.setParameters(le)}}}}))}catch(be){const{token:ge,action:le,traceId:ae,identifier:oe}=this,we=new Zt(Object.assign(Object.assign({},Ae.CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR),{action:le,token:ge,traceId:ae,tag:Jr(le,oe),location:"onIncompatibleCodecs",remoteParticipantId:oe,details:be instanceof Error?be.message:""}));this.analyticsTracker.trackError(we),this.emit(vo,we)}var W,ie}),this.token=h,this.logger=new mo(g,kn.WEBRTC),this.action=b,this.tag=T,this.traceId=O,b===Ge.SUBSCRIBE&&!M)throw new Error("Subscribe action provided without subscriber Id");this.jitterBufferConfig=A==null?void 0:A.jitterBuffer,this.simulcastSubscribeConfig=A==null?void 0:A.simulcast,this.subscriberId=M,this.stageConnection=L,this.failedPeerConnections=[],this.receiveInBandMessagingEnabled=!!(!((F=this.subscribeConfig)===null||F===void 0)&&F.inBandMessaging.enabled),this.videoSenderTransformer=new bg,this.videoReceiverTransformer=this.createVideoReceiverTransformer(),this.perfTracker=new Ui(this.action,this.traceId),this.statsReporter=new ga(b,h,O,this.identifier,this.analyticsTracker,this.videoReceiverTransformer,this.videoSenderTransformer),this.sdpExchanger=function(B){const{connection:W,token:ie,action:be,identifier:ge,tracker:le}=B,ae=W&&W.supportsSdpExchange(),oe=be===Ge.SUBSCRIBE&&ae&&!Pm(),we=be===Ge.PUBLISH&&ae&&vh()&&!Pm();return oe||we?new hg(ie,W,{action:be,remoteParticipantId:ge},le):new Ei(ie,{action:be,remoteParticipantId:ge},le)}({connection:L,action:b,token:h,identifier:this.identifier,tracker:N}),this.handlePublishingChangedBinding=this.handlePublishingChanged.bind(this),this.toggleStageConnectionListeners(!0)}get videoMediaId(){var h,g;return(g=(h=this.videoTransceiver)===null||h===void 0?void 0:h.mid)!==null&&g!==void 0?g:null}toggleStageConnectionListeners(h){var g,b;h?(g=this.stageConnection)===null||g===void 0||g.on(Bm,this.handlePublishingChangedBinding):(b=this.stageConnection)===null||b===void 0||b.off(Bm,this.handlePublishingChangedBinding)}updateSubscribeConfig(h){var g,b;if(this.jitterBufferConfig=h.jitterBuffer,this.simulcastSubscribeConfig=h.simulcast,this.action===Ge.SUBSCRIBE){const T=h.inBandMessaging.enabled;this.receiveInBandMessagingEnabled!==T&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for receiver"})}this.applyJitterBufferMinDelayConditionally((b=(g=this.stageConnection)===null||g===void 0?void 0:g.getIsStagePublishing())!==null&&b!==void 0&&b)}verifyOrUpdateTransceiverSync(){var h,g;return Mr(this,void 0,void 0,function*(){if(this.videoTrackForPub){const b=this.getTransceiverForKind("video");b?this.videoTrackForPub.track.id!==((h=b.sender.track)===null||h===void 0?void 0:h.id)&&(this.logger.debug({msg:"found out of sync video transceiver... updating"}),yield this.replaceOrUpdateTrack(this.videoTrackForPub)):this.logger.warn({msg:"missing transceiver for video"})}if(this.audioTrackForPub){const b=this.getTransceiverForKind("audio");b?this.audioTrackForPub.track.id!==((g=b.sender.track)===null||g===void 0?void 0:g.id)&&(this.logger.debug({msg:"found out of sync audio transceiver... updating"}),yield this.replaceOrUpdateTrack(this.audioTrackForPub)):this.logger.warn({msg:"missing transceiver for audio"})}})}start(){var h,g,b;return Mr(this,void 0,void 0,function*(){const{token:T,action:O,traceId:N,identifier:M}=this;O!==Ge.PUBLISH||T.claims.capabilities.allow_publish||this.analyticsTracker.trackErrorAndThrow(new Zt(Object.assign(Object.assign({},ua(Ae.TOKEN_PERMISSIONS_DENIED,new Error("Cannot publish with subscribe only token"))),{action:O,token:T,traceId:N,tag:Jr(O,M),location:"StagePeerClient.start",remoteParticipantId:M})));const L=function({action:A,identifier:F,token:B,analyticsTracker:W}){let ie="";const be=bo(B,W);switch(A){case Ge.PUBLISH:ie=be.getPublishEndpoint();break;case Ge.SUBSCRIBE:F&&(ie=be.getSubscribeEndpoint(F))}return ie}({action:O,identifier:M,token:T.rawToken,analyticsTracker:this.analyticsTracker});try{this.perfTracker.markActionStart(),this.stageCapabilities={simulcastNegotiated:(b=(g=(h=this.videoTrackForPub)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.simulcastEnabled)!==null&&b!==void 0&&b},this.endpointURL=L,this.createPeerConnection(),this.trace(T,N,"peer connection created",O,M)}catch(A){const F=new Zt(Object.assign(Object.assign({action:O},ua(Ae.CREATE_PEER_CONNECTION_FAILURE,A)),{token:T,traceId:N,tag:Jr(O,M),location:"StagePeerClient.start",remoteParticipantId:M}));O===Ge.PUBLISH&&this.emit(go,gt.FAILED),this.emit(vo,F),this.analyticsTracker.trackErrorAndThrow(F)}})}mungeSdpOffer(h,g,b){if(b.simulcastNegotiated&&(h=new Nn(h).withVideoLayersAllocationRtpHeaderExtension().sdp),g===Ge.SUBSCRIBE)h=new Nn(h).withOpusAudioConfig(fs(Uc),!0).sdp;else if(g===Ge.PUBLISH&&b.audioConfig){const{maxBitrateBps:T,stereo:O}=b.audioConfig;h=new Nn(h).withOpusAudioConfig(T,O).sdp}return h}mungeSdpAnswer(h){return Ud.browser.isFirefox()&&this.audioTrackForPub&&this.action===Ge.PUBLISH&&(h=new Nn(h).withOpusAudioConfig(this.audioTrackForPub.config.maxBitrateBps,void 0).sdp),h}createPeerConnection(){this.logger.debug({msg:"setting up peer connection"}),this.peerConnection&&(this.logger.debug({msg:"peer connection is already established, cleaning up previous connection"}),this.destroyPeerConnection({closeConnection:!1})),this.peerConnection=new RTCPeerConnection({iceTransportPolicy:"all"}),this.statsReporter.start(this.peerConnection,this.stageCapabilities.simulcastNegotiated),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.peerConnection.addEventListener("icecandidateerror",this.onIceCandidateError),this.peerConnection.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.peerConnection.addEventListener("icecandidate",this.onIceCandidate),this.peerConnection.addEventListener("track",this.onTrack),this.peerConnection.addEventListener("mute",this.onMute),this.peerConnection.addEventListener("unmute",this.onUnMute)}destroyPeerConnection(h){var g,b,T,O,N,M,L,A,F;this.statsReporter.stop(),(g=this.peerConnection)===null||g===void 0||g.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),(T=this.peerConnection)===null||T===void 0||T.removeEventListener("icecandidateerror",this.onIceCandidateError),(O=this.peerConnection)===null||O===void 0||O.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),(N=this.peerConnection)===null||N===void 0||N.removeEventListener("icecandidate",this.onIceCandidate),(M=this.peerConnection)===null||M===void 0||M.removeEventListener("track",this.onTrack),(L=this.peerConnection)===null||L===void 0||L.removeEventListener("mute",this.onMute),(A=this.peerConnection)===null||A===void 0||A.removeEventListener("unmute",this.onUnMute),h.closeConnection&&((F=this.peerConnection)===null||F===void 0||F.close()),this.peerConnection=void 0}closeFailedPeerConnections(){for(const h of this.failedPeerConnections)h==null||h.close();this.failedPeerConnections=[]}storeFailedPeerConnection(h){h&&this.failedPeerConnections.push(h)}stop(){this.videoReceiverTransformer.destroy(),this.videoSenderTransformer.destroy(),this.destroyPeerConnection({closeConnection:!0})}getTransceiverForKind(h){if(!this.peerConnection)return;const g=this.peerConnection.getTransceivers();return h==="audio"?g.find(b=>b.mid==="0"):h==="video"?g.find(b=>b.mid==="1"):void 0}removeTrack(h){return Mr(this,void 0,void 0,function*(){if(h==="audio"||h==="video")if(this.peerConnection)try{const g=this.getTransceiverForKind(h);if(!g)return void this.logger.warn({msg:`tried removing track type ${h} but couldn't find transceiver`});yield g.sender.replaceTrack(null),h===fa.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0,yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(g){this.logger.warn({msg:"error replacing track",err:g})}else h===fa.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0;else this.logger.warn({msg:"RemoveTrack called with invalid track type",trackType:h})})}replaceOrUpdateTrack(h){return Mr(this,void 0,void 0,function*(){if(h.track){if(Hh(h)?this.audioTrackForPub=h:Gh(h)&&(this.videoTrackForPub=h),this.peerConnection)try{const g=this.getTransceiverForKind(h.track.kind);if(!g)return void this.logger.warn({msg:`tried replacing track type ${h.track.kind} but couldn't find transceiver`,track:h.track});if(Gh(h)){const b=g.sender.getParameters(),T=ig(this.stageCapabilities.simulcastNegotiated,h);b.encodings=b.encodings.map(O=>{var N;const M=(N=O.rid)!==null&&N!==void 0?N:"",L=T.find(A=>{var F;return((F=A.rid)!==null&&F!==void 0?F:"")===M});return L?Object.assign(Object.assign({},O),L):O}),yield g.sender.setParameters(b)}else if(Hh(h)){const b=g.sender.getParameters(),T=rg(h)[0];b.encodings=b.encodings.map(O=>Object.assign(Object.assign({},O),T)),yield g.sender.setParameters(b)}yield g.sender.replaceTrack(h.track),yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(g){this.logger.warn({msg:"error replacing track",err:g})}}else this.logger.warn({msg:"Unexpected call to replaceOrUpdateTrack with no track"})})}initializePeerConnection(h=!1){var g,b,T,O,N;return Mr(this,void 0,void 0,function*(){const{traceId:M,token:L,action:A,identifier:F}=this;jc(this.peerConnection);let B=new MediaStream;if(A===Ge.PUBLISH){this.audioTrackForPub||(this.audioTrackForPub={track:this.getSilentAudio(),config:{maxBitrateBps:fs(Md),stereo:!1}});const W=this.peerConnection.getTransceivers(),ie=[];W.forEach(ze=>{var st;ie.concat((st=ze.sender.track)===null||st===void 0?void 0:st.id)}),B=new MediaStream([this.audioTrackForPub.track,(g=this.videoTrackForPub)===null||g===void 0?void 0:g.track].filter(ze=>!!ze&&!ie.includes(ze.id)));const be=B.getAudioTracks()[0]||"audio",ge=B.getVideoTracks()[0]||"video",le={direction:"sendonly",streams:[B],sendEncodings:rg(this.audioTrackForPub)},ae={direction:"sendrecv",streams:[B],sendEncodings:ig(this.stageCapabilities.simulcastNegotiated,this.videoTrackForPub)};this.peerConnection.addTransceiver(be,le),this.trace(L,M,`track added, type: ${be.kind||be}`,A,F);const oe=this.peerConnection.addTransceiver(ge,ae);this.trace(L,M,`track added, type: ${ge.kind||ge}`,A,F);const we=!!(!((T=(b=this.videoTrackForPub)===null||b===void 0?void 0:b.config)===null||T===void 0)&&T.inBandMessagingEnabled);this.sendInBandMessagingEnabled===void 0?this.sendInBandMessagingEnabled=we:this.sendInBandMessagingEnabled!==we&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for sender"}),this.sendInBandMessagingEnabled&&!bg.isSupported(oe)?this.handleTransformNotSupported():this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTransceiverAdd(oe)}else A===Ge.SUBSCRIBE&&(L.shouldSendSilentAudio()?this.peerConnection.addTransceiver(this.getSilentAudio(),{direction:"sendrecv"}):this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),this.trace(L,M,"track added, type: audio",A,F),h||(this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.trace(L,M,"track added, type: video",A,F),this.receiveInBandMessagingEnabled&&!yg.isSupported(this.videoTransceiver)?this.handleTransformNotSupported():this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTransceiverAdd(this.videoTransceiver)),this.peerConnection.getTransceivers().forEach(W=>{W.receiver?(this.logger.info({msg:"dbg: Subscribe succeeded, adding media track to participant mediaStream"}),B==null||B.addTrack(W.receiver.track)):this.logger.info({msg:"dbg: Subscribe succeeded, but Transceiver were negotiated without Receiver"})}),this.applyJitterBufferMinDelayConditionally((N=(O=this.stageConnection)===null||O===void 0?void 0:O.getIsStagePublishing())!==null&&N!==void 0&&N));return B})}handlePublishingChanged(h){this.logger.debug({msg:`[handlePublishingChanged (${this.subscriberId})] isStagePublishing: ${h}, currentMinDelay: ${this.currentJitterBufferMinDelayInMs}`}),this.action===Ge.SUBSCRIBE&&this.applyJitterBufferMinDelayConditionally(h)}applyJitterBufferMinDelayConditionally(h){const g=this.currentJitterBufferMinDelayInMs,b=this.calcJitterBufferMinDelay(h,this.jitterBufferConfig);if(h){if(g===void 0||g>b){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is publishing and min delay is unset or > configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}else if(g===void 0||b!==g){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is subscribe-only and min delay is unset or != configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}calcJitterBufferMinDelay(h,g){var b,T,O;let N=0;if(!(()=>{const M=RTCRtpReceiver.prototype;return!(!M||typeof M!="object")&&("jitterBufferTarget"in M||"playoutDelayHint"in M)})())return 0;if(h)N=$o((b=g==null?void 0:g.minDelayWhenPublishing)!==null&&b!==void 0?b:_i.DEFAULT,h);else{N=$o((T=g==null?void 0:g.minDelayWhenSubscribeOnly)!==null&&T!==void 0?T:_i.DEFAULT,h);const M=(O=this.stageConnection)===null||O===void 0?void 0:O.jitterBufferMinDelayInMs();(g==null?void 0:g.minDelayWhenSubscribeOnly)===_i.DEFAULT&&M!==void 0&&(N=M,this.logger.debug({msg:`[calcJitterBufferMinDelay] overriding min delay with remote value: ${N}`}))}return N}applyAndTrackJitterBufferMinDelay(h){var g,b;this.currentJitterBufferMinDelayInMs=h,this.statsReporter.updateJitterBufferMinDelay(h),h!==void 0&&((b=(g=this.peerConnection)===null||g===void 0?void 0:g.getTransceivers())===null||b===void 0||b.forEach(T=>{T.receiver&&this.applyJitterBufferMinDelay(T.receiver,h)}))}applyJitterBufferMinDelay(h,g){let b="Unable to set jitter buffer min delay";if("jitterBufferTarget"in h)b=`setting jitterBufferTarget to: ${g} for track: ${h.track.kind}`,this.logger.debug({msg:b}),h.jitterBufferTarget=g;else if("playoutDelayHint"in h){const T=g/1e3;b=`setting playoutDelayHint to: ${g} for track: ${h.track.kind}`,this.logger.debug({msg:b}),h.playoutDelayHint=T}else this.logger.warn({msg:b});this.trace(this.token,this.traceId,b,this.action,this.identifier)}exchangeSdp(h){var g;return Mr(this,void 0,void 0,function*(){const{traceId:b,token:T,action:O,identifier:N,tag:M,endpointURL:L}=this,{iceRestart:A=!1,nodeOverride:F,assignmentToken:B,abortController:W}=h;let ie;this.logger.debug({msg:`Exchanging SDP: ${b.value}, iceRestart=${A}, nodeOverride=${F}, assignmentToken=${B}`}),jc(this.peerConnection),O===Ge.PUBLISH&&yh()&&(this.logger.debug({msg:"Applying publisher codec preference for main profile."}),((ge,le)=>{var ae,oe;const we=(ae=RTCRtpReceiver.getCapabilities("video"))===null||ae===void 0?void 0:ae.codecs;if(!we)return;let ze=we;ze=Qm(we,"42e0"),le.preferMainProfile&&(ze=Qm(we,"4d00")),(oe=ge.getTransceivers().find(st=>st.receiver.track.kind==="video"))===null||oe===void 0||oe.setCodecPreferences(ze)})(this.peerConnection,{preferMainProfile:yh()}));try{this.trace(T,b,"Creating offer",O,N),ie=yield this.peerConnection.createOffer({iceRestart:A})}catch(ge){const le=new Zt(Object.assign(Object.assign({},ua(Ae.CREATE_OFFER_FAILURE,ge)),{action:O,token:T,traceId:b,tag:M,location:"exchangeSdp",remoteParticipantId:N}));this.emit(vo,le),this.analyticsTracker.trackErrorAndThrow(le)}ie.sdp&&(ie.sdp=this.mungeSdpOffer(ie.sdp,O,{simulcastNegotiated:this.stageCapabilities.simulcastNegotiated,audioConfig:(g=this.audioTrackForPub)===null||g===void 0?void 0:g.config})),this.trace(T,b,"Setting local description",O,N),yield this.peerConnection.setLocalDescription(ie),this.trace(T,b,"local description set",O,N),L||this.logger.warn({msg:"Unexpected state: No endpointURL specified for fetching of remote description."});const be=O===Ge.PUBLISH&&yh()||O===Ge.SUBSCRIBE&&$a("multiCodecAnswer");yield this.fetchAndSetRemoteDescription({endpointURL:L,nodeOverride:F,assignmentToken:B,multiCodec:be,abortController:W})})}getReports(){var h;return Mr(this,void 0,void 0,function*(){try{const g=(yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats())||[],b=[];return g.forEach(T=>{b.push(T)}),b}catch{return[]}})}requestRTCStats(h){return Mr(this,void 0,void 0,function*(){if(this.peerConnection)return this.peerConnection.getStats(h)})}get identifier(){return this.subscriberId||this.token.participantID}handleTransformNotSupported(){const{token:h,tag:g,identifier:b,action:T,traceId:O}=this,N=qd({traceId:O,token:h,tag:g,identifier:b,action:T,stageErrorValue:Ae.TRANSFORM_NOT_SUPPORTED_BY_PLATFORM});this.logger.error({err:N,msg:"Transforms not supported by this platform"}),this.analyticsTracker.trackError(N),this.emit(Ac,N)}handleConnectionFailure(){return Mr(this,void 0,void 0,function*(){const{token:h,traceId:g,tag:b}=this;this.analyticsTracker.trackError(new Zt(Object.assign(Object.assign({},Ae.PEER_CONNECTION_NETWORK_FAILURE),{action:this.action,token:h,traceId:g,tag:b,location:"onIceCandidateError",remoteParticipantId:this.identifier})))})}getSilentAudio(){Zl||(Zl=new AudioContext);const h=Zl.createOscillator(),g=Zl.createGain();h.connect(g);const b=Zl.createMediaStreamDestination();return g.connect(b),g.gain.value=0,h.start(),b.stream.getAudioTracks()[0]}getActionMeasurements(){return this.perfTracker.getMeasurements()}initTracksToPublish(h){this.videoTrackForPub=h.find(Gh),this.audioTrackForPub=h.find(Hh)}getSfuResource(){return this.sfuResource}getExpectedJitterBufferMinDelayInMs(){var h,g;return this.calcJitterBufferMinDelay((g=(h=this.stageConnection)===null||h===void 0?void 0:h.getIsStagePublishing())!==null&&g!==void 0&&g,this.jitterBufferConfig)}trace(h,g,b,T,O){this.analyticsTracker.trackEventNoSharedProps(new xo(h,g,b,T,O))}sendSeiMessage(h,g){const b=this.getTransceiverForKind("video");return this.sendInBandMessagingEnabled?this.action===Ge.PUBLISH&&b?this.videoSenderTransformer.sendSeiMessage(h,g):ot.err(Ri.NOT_PUBLISHING_VIDEO):ot.err(Ri.INBAND_MESSAGING_NOT_ENABLED)}}const tc=Ge.SUBSCRIBE;class C0{constructor(h,g,b){this.analyticsTracker=h,this.token=g,this.remoteId=b,this.action=tc}trackAttempt({stageConnectionStats:h,isReassignment:g=!1,traceIdOverride:b,preAttemptSfuResource:T}){const{action:O,analyticsTracker:N,token:M,remoteId:L}=this,A=b||Xi();return N.trackEvent(new Kl({token:this.token,subscribedId:this.remoteId,traceId:A,isEdpConnected:h.isConnected,isReassignment:g,preAttemptSfuResource:T})),{getTraceId:()=>A,trackSubscribeStarted({totalDurationWithRetries:F,retryTimes:B,sfuResource:W,peerClientPerfStats:ie}){const{optionsDuration:be,postDuration:ge,timeToCandidate:le,timeToConnected:ae,sdpExchangeDuration:oe,sdpExchangeTransport:we,setRemoteDescDuration:ze,peerConnectionDuration:st}=ie,{edpInitialConnectDuration:Tt,edpInitialConnectRetries:Yt,edpInitialStateDuration:Qt,edpInitialStatePublishingCount:zt,edpStateUpdateCount:Nt}=h;N.trackEvent(new g0({token:M,traceId:A,remoteParticipantId:L,optionsDuration:be,postDuration:ge,timeToCandidate:le,totalDuration:ae,edpInitialConnectDuration:Tt,edpInitialConnectRetries:Yt,edpInitialStateDuration:Qt,edpInitialStatePublishingCount:zt,edpStateUpdateCount:Nt,sdpExchangeDuration:oe,sdpExchangeTransport:we,setRemoteDescDuration:ze,peerConnectionDuration:st,sfuResource:W,totalDurationWithRetries:F,subscribeRetryTimes:B,isReassignment:g}))},trackSubscribeFirstFrame:({peerClientPerfStats:F,totalDurationWithRetries:B,sfuResource:W,retryTimes:ie,currentJitterBufferMinDelayInMs:be,mediaType:ge,firstFrameDuration:le})=>{const{sdpExchangeDuration:ae,sdpExchangeTransport:oe,setRemoteDescDuration:we,peerConnectionDuration:ze}=F,{edpInitialConnectDuration:st,edpInitialConnectRetries:Tt,edpInitialStateDuration:Yt,edpInitialStatePublishingCount:Qt,edpStateUpdateCount:zt}=h;this.analyticsTracker.trackEvent(new v0({token:this.token,traceId:A,remoteParticipantId:L,edpInitialConnectDuration:st,edpInitialConnectRetries:Tt,edpInitialStateDuration:Yt,edpInitialStatePublishingCount:Qt,edpStateUpdateCount:zt,sdpExchangeDuration:ae,sdpExchangeTransport:oe,setRemoteDescDuration:we,peerConnectionDuration:ze,videoWasPaused:!1,firstFrameDuration:le,mediaType:ge,sfuResource:W,totalDurationWithRetries:B,subscribeRetryTimes:ie,currentJitterBufferMinDelayInMs:be}))},trackSubscribeFailed(F,B){const W=((ge,le,ae)=>{if(ge instanceof Zt)return ge;let oe="";return ge instanceof gr.AxiosError&&(oe+=`AxiosError - ${ge.code}`),new Zt(Object.assign(Object.assign(Object.assign({},Ae.SUBSCRIBE_FAILURE),{action:tc,token:le,traceId:ae,tag:Ad,location:"subscribe",details:`${oe} ${ge==null?void 0:ge.message}`}),{fatal:!0}))})(F,M,A);N.trackEvent(new Bh({token:M,traceId:A,remoteParticipantId:L,code:W.code,message:W.message,fatal:W.fatal,nominal:W.nominal,isReassignment:g}));const{isConnected:ie}=h,be=new Zt(Object.assign(Object.assign({},Ae.SUBSCRIBE_FAILURE),{action:O,token:M,traceId:A,tag:Jr(Ge.SUBSCRIBE,L),location:"subscribe",remoteParticipantId:L,isEdpConnected:ie,details:B}));return F instanceof Zt&&(be.fatal=F.fatal,be.nominal=F.nominal,be.location=`subscribe > ${F.location}`),N.trackError(be),W},trackUnsubscribe:()=>{N.trackEvent(new Vd({token:M,unsubscribedId:L,traceId:A}))},trackEndSucceeded:F=>{N.trackEvent(new $h({token:M,traceId:A,remoteParticipantId:L,isUnsubscribeSuccessful:!0,reason:F}))},trackEndFailed:F=>{const B=new Zt(Object.assign(Object.assign({},Ae.UNSUBSCRIBE_FAILURE),{token:M,traceId:A,tag:Jr(Ge.SUBSCRIBE,L),location:"unsubscribe",remoteParticipantId:L}));return F!==Si.UNLOAD&&F!==Si.UNSUBSCRIBE||N.trackError(B),N.trackEvent(new $h({token:M,traceId:A,remoteParticipantId:L,isUnsubscribeSuccessful:!0,reason:F})),B}}}}class Iw extends on{constructor(h,g,b,T,O,N){super(ln.PLAYBACK_LAYER_REQUEST,h,g,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,layer_id:N})}}class Aw extends on{constructor(h,g,b,T,O,N=1){super(ln.PLAYBACK_LAYER_STATE,h,g,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,request_count:N})}}var Kd,ti,Yd,ni;(function(S){S.PAUSE="pause",S.PLAY="play"})(Kd||(Kd={})),function(S){S.IDLE="idle",S.ACTIVE="active",S.ERRORED="errored",S.DESTROYED="destroyed"}(ti||(ti={})),function(S){S.SUCCESS="success"}(Yd||(Yd={})),function(S){S.FAILED="failed",S.DESTROYED="destroyed",S.THROTTLED="throttled"}(ni||(ni={}));var $s=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class jw{constructor(h){this.state=ti.IDLE,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null,this.stopVideo=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("stopVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Kd.PAUSE)}),this.startVideo=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("startVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Kd.PLAY)}),this.setLayer=g=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("setLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest(g)}),this.unsetLayer=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("unsetLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest()}),this.getLayers=()=>$s(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("getLayers"),this.mapSkippedResultFromState(this.state)):this.sendLayerStateRequest()}),this.sendPlaybackRequest=g=>$s(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.playbackEndpoint)return this.logger.warn({msg:"Playback endpoint is unset and required for playback control requests"}),(0,ot.err)(ni.FAILED);this.logger.info({msg:`Sending ${g} request to ${this.playbackEndpoint}`});const b=g===Kd.PAUSE?{pause:[this.mid]}:{play:[this.mid]},T=this.createPostWhepRequest(b);return fetch(this.playbackEndpoint,T).then(O=>{if(O.status>=300){const N=new Error(`Error sending media controls request: ${O.status}:${O.statusText}`);return this.logger.error({err:N}),(0,ot.err)(ni.FAILED)}return this.logger.debug({msg:`Request to ${g} was successful: ${O.status}`}),(0,ot.ok)(Yd.SUCCESS)}).catch(O=>(this.logger.error({err:O,msg:"Error sending media controls request"}),(0,ot.err)(ni.FAILED)))}),this.sendLayerRequest=g=>$s(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,ot.err)(ni.FAILED);const b=typeof g=="string",T=b?{mediaId:this.mid,encodingId:g}:{},O=b?`set : ${g}`:"unset layer";this.logger.info({msg:`sendLayerRequest for ${O} at ${this.layersEndpoint}`});const N=this.createPostWhepRequest(T);return this.trackLayerRequest(g??"auto"),fetch(this.layersEndpoint,N).then(M=>this.state===ti.DESTROYED?(0,ot.err)(ni.DESTROYED):M.status>=300?this.handleLayerRequestError(M.status,M.statusText):(this.logger.debug({msg:`Request to ${O} was successful: ${M.status}`}),(0,ot.ok)(Yd.SUCCESS))).catch(M=>this.handleLayerRequestError(0,M.message))}),this.sendLayerStateRequest=()=>$s(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,ot.err)(ni.FAILED);this.logger.info({msg:`sendLayerStateRequest for ${this.mid} at ${this.layersEndpoint}`});const g=this.createGetWhepRequest();return this.trackLayerStateRequest(),fetch(this.layersEndpoint,g).then(b=>$s(this,void 0,void 0,function*(){var T;if(this.state===ti.DESTROYED)return(0,ot.err)(ni.DESTROYED);if(b.status>=300)return this.handleLayerStateRequestError(b.status,b.statusText);const O=yield b.json(),N=(T=O==null?void 0:O.layers)!==null&&T!==void 0?T:[],M=JSON.stringify(N,null,2);return this.logger.debug({msg:`sendLayerStateRequest was successful: ${M}`}),(0,ot.ok)(N)})).catch(b=>this.handleLayerStateRequestError(0,b.message))}),this.logger=new mo(h.logger,kn.REMOTE_PLAYBACK),this.token=h.token,this.traceId=h.traceId,this.analyticsTracker=h.analyticsTracker,this.remoteParticipantId=h.remoteParticipantId}set mediaId(h){if(this.state!==ti.DESTROYED){if(this.mid=h,this.mid===null)return this.logger.info({msg:"media id is unset, controller is transitioning to idle state"}),void(this.state=ti.IDLE);(this.playbackEndpoint||this.layersEndpoint)&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set mediaId")}set endpoints(h){var g,b;if(this.state!==ti.DESTROYED){if(this.playbackEndpoint=(g=h.playback)!==null&&g!==void 0?g:null,this.layersEndpoint=(b=h.layers)!==null&&b!==void 0?b:null,!this.playbackEndpoint||!this.layersEndpoint){const T={playbackEndpoint:this.playbackEndpoint,layersEndpoint:this.layersEndpoint};return this.logger.info({msg:`no endpoints are set, transitioning to idle state: ${JSON.stringify(T,null)}`}),void(this.state=ti.IDLE)}this.mid&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set endpoints")}destroy(){this.state=ti.DESTROYED,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null}logCommandSkipped(h="command"){this.logger.info({msg:`skipping ${h}, controller state invalid: ${this.state}`})}mapSkippedResultFromState(h){return h===ti.DESTROYED?(0,ot.err)(ni.DESTROYED):(0,ot.err)(ni.FAILED)}createPostWhepRequest(h){return{method:"POST",headers:this.createRequestHeaders(),body:JSON.stringify(h)}}createGetWhepRequest(){return{method:"GET",headers:this.createRequestHeaders()}}createRequestHeaders(){var h,g;return{Authorization:`Bearer ${this.token.rawToken}`,"Content-Type":"application/json","X-Stages-Platform":"web","X-Stages-Request-ID":Ga().value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":(g=(h=this.traceId)===null||h===void 0?void 0:h.value)!==null&&g!==void 0?g:"","X-Stages-WHIP-Version":ls}}trackLayerRequest(h){var g;this.analyticsTracker.trackEventNoSharedProps(new Iw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(g=this.mid)!==null&&g!==void 0?g:"unknown",h))}trackLayerStateRequest(h=1){var g;this.analyticsTracker.trackEventNoSharedProps(new Aw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(g=this.mid)!==null&&g!==void 0?g:"unknown",h))}handleLayerRequestError(h,g){const b=`sendLayerRequest failed for reason: ${h} ${g}`;let T,O;return h===429?(T=ni.THROTTLED,O=Ae.WHEP_SET_LAYER_REQUEST_THROTTLED):(T=ni.FAILED,O=Ae.WHEP_SET_LAYER_REQUEST_FAILED),this.trackRequestError(O,b),(0,ot.err)(T)}handleLayerStateRequestError(h,g){const b=`sendLayerStateRequest failed for reason: ${h} ${g}`;let T,O;return h===429?(T=ni.THROTTLED,O=Ae.WHEP_GET_LAYER_STATE_THROTTLED):(T=ni.FAILED,O=Ae.WHEP_GET_LAYER_STATE_FAILED),this.trackRequestError(O,b),(0,ot.err)(T)}trackRequestError(h,g){const b=new Error(g);this.logger.error({err:b}),h.message=g;const T=this.createError(h);this.analyticsTracker.trackError(T)}createError(h,g){return new Zt(Object.assign({action:Ge.SUBSCRIBE,traceId:this.traceId,token:this.token,location:"RemotePlaybackController",tag:Ad,details:g},h))}}var Qd,qh,Zn,ki,Vc=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},xg=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)};(function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"})(Zn||(Zn={})),function(S){S.NONE="none",S.AUDIO_ONLY="audio_only",S.AUDIO_VIDEO="audio_video"}(ki||(ki={}));class Sg extends yo{constructor(h,g,b,T,O,N,M){super(),this.id=h,this.token=g,this.stageConnection=b,this.nonScopedLogger=T,this.analyticsTracker=O,this.desiredSubscribeType=N,Qd.add(this),this.isSubscriptionActive=!1,this.subscriptionState={connectionState:Zn.DISCONNECTED,subscribeInProgress:!1},this.previousSignalState={isTargetPublishing:!1},this.failedRetries=0,this.startConnectingTimestamp=-1,this.throttler=new r0(1e3),this.cleanupFirstFrameTracking=ei,this.actualSubscribeType=ki.NONE,this.action=Ge.SUBSCRIBE,this.updateDesiredSubscribeType=A=>{this.desiredSubscribeType=A,this.attemptToActualizeSubscribeType()},this.updateSubscribeConfig=A=>{this.peerClient.updateSubscribeConfig(A)},this.getDesiredSubscribeType=()=>this.desiredSubscribeType,this.attemptToActualizeSubscribeType=()=>{const A=this.actualSubscribeType,F=this.desiredSubscribeType;this.logger.debug({msg:`Attempt to actualize subscribe type to ${F}`}),this.subscriptionState.connectionState===Zn.CONNECTED&&F!==ki.NONE&&A!==F&&this.applyVideoControlsBySubscribeType(F,A)},this.onParticipantUpdated=A=>{xg(this,Qd,"m",qh).call(this,A)&&(this.logger.debug({msg:"onParticipantUpdated",participant:A}),this.processStateUpdate({isTargetPublishing:A.isPublishing}))},this.onParticipantJoined=A=>{xg(this,Qd,"m",qh).call(this,A)&&(this.logger.debug({msg:"onParticipantJoined",participant:A}),this.processStateUpdate({isTargetPublishing:A.isPublishing}))},this.onParticipantLeft=A=>{xg(this,Qd,"m",qh).call(this,A)&&(this.logger.debug({msg:"onParticipantLeft",participant:A}),this.processStateUpdate({isTargetPublishing:!1}))},this.requestRTCStats=A=>Vc(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(A)}),this.trySubscribe=A=>Vc(this,void 0,void 0,function*(){if(this.logger.debug({msg:`Subscribe attempt started: ${A}`}),!this.isSubscriptionActive)return this.logger.warn({msg:"Subscribe attempt invalid: Subscription is inactive"}),!1;this.logger.debug({msg:"Subscribe attempt is valid."}),this.startConnectingTimestamp<0&&(this.startConnectingTimestamp=performance.now()),this.subscriptionState.connectionState!==Zn.ERRORED&&(this.logger.debug({msg:"Updating state to CONNECTING"}),this.updateState({connectionState:Zn.CONNECTING}));const F=this.stageConnection.getConnectionStats(),B=this.peerClient.getExpectedJitterBufferMinDelayInMs(),W=this.peerClient.getSfuResource();this.attemptTracker=this.subscribeTracker.trackAttempt({stageConnectionStats:F,preAttemptSfuResource:W});try{this.remotePlaybackController.traceId=this.attemptTracker.getTraceId();const{mediaStream:ie}=yield this.subscribe(this.attemptTracker.getTraceId()),be=performance.now()-this.startConnectingTimestamp,ge=this.peerClient.getSfuResource();this.remotePlaybackController.mediaId=this.peerClient.videoMediaId;const le=this.failedRetries;this.attemptToActualizeSubscribeType();const ae=this.peerClient.getActionMeasurements();if(this.attemptTracker.trackSubscribeStarted({sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,peerClientPerfStats:ae}),ie){this.cleanupFirstFrameTracking();const oe=this.actualSubscribeType,we=this.attemptTracker,ze=(st,Tt)=>{we.trackSubscribeFirstFrame({peerClientPerfStats:ae,sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,currentJitterBufferMinDelayInMs:B,mediaType:Tt,firstFrameDuration:st})};this.cleanupFirstFrameTracking=this.measureFirstFrameDuration({mediaStream:ie,subscribeType:oe,callback:ze})}return this.throttler.clear(),this.failedRetries=0,this.startConnectingTimestamp=-1,ie&&this.emit(Ji,ie,this.remotePlaybackController),this.logger.debug({msg:"Subscribe attempt succeeded"}),!0}catch(ie){const be=this.attemptTracker.trackSubscribeFailed(ie);this.logger.error({log:"Subscribe attempt failed",err:ie}),this.onTrySubscribeFailure(be,A)}return!1});const L=Xi();this.peerClient=new hs(g,this.nonScopedLogger,this.action,Jr(this.action,h),L,O,h,b,M),this.logger=new mo(T,kn.SUBSCRIPTION),this.subscribeTracker=new C0(this.analyticsTracker,g,h),this.remotePlaybackController=new jw({token:g,analyticsTracker:O,traceId:L,logger:this.nonScopedLogger,remoteParticipantId:this.id})}applyVideoControlsBySubscribeType(h,g){try{h===ki.AUDIO_ONLY?this.remotePlaybackController.stopVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to stop video failed"})}):h===ki.AUDIO_VIDEO&&this.remotePlaybackController.startVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to start video failed"})}),this.actualSubscribeType=h,this.logger.debug({msg:`Desired subscribe type actualized from ${g} to ${h}.`})}catch(b){this.logger.error({err:b,msg:`Error updating subscribe type from ${g} to ${h}.`})}}onPeerClientConnectionStateChange(h){const g=this.stageConnection.getParticipant(this.id);this.logger.debug({msg:`onPeerClientConnectionStateChange: ${h}`,state:h,targetParticipant:g}),this.processStateUpdate({peerClientState:h})}onPeerClientTransformError(h){this.emit(as,h)}processStateUpdate(h){const g=this.previousSignalState,b=Object.assign({},g,h);if(!this.isSubscriptionActive)return void this.logger.warn({msg:"Unexpected processStateUpdate when subscription is inactive"});b.isTargetPublishing?h.peerClientState===gt.CONNECTED?this.updateState({connectionState:Zn.CONNECTED,subscribeInProgress:!0}):h.peerClientState===gt.FAILED&&this.subscriptionState.subscribeInProgress&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(Si.CONNECTION_FAIL),this.updateState({subscribeInProgress:!1})):(g.isTargetPublishing&&this.subscriptionState.subscribeInProgress&&(this.logger.debug({msg:"Scheduling an unsubscribe on the event loop"}),this.unsubscribe()),this.throttler.clear(),this.updateState({connectionState:Zn.DISCONNECTED}));const T=!g.isTargetPublishing&&h.isTargetPublishing,O=this.subscriptionState.connectionState===Zn.CONNECTED&&h.peerClientState===gt.FAILED;(T||O)&&this.throttledTrySubscribe("onSignalState change: isTargetPublishing is now true"),Object.assign(this.previousSignalState,h)}onTrySubscribeFailure(h,g){this.logger.debug({msg:"Changing/keeping state FAILED"});const b=h.fatal,T=h.code===Ae.OPERATION_ABORTED.code,O=this.failedRetries<=4;if(!T&&!b&&O){const N=1e3*Math.pow(2,this.failedRetries);this.logger.debug({msg:`Retrying in ${N}ms`}),this.failedRetries++,this.nextAttemptTimerId=window.setTimeout(()=>Vc(this,void 0,void 0,function*(){this.throttledTrySubscribe(g)}),N)}else this.updateState({connectionState:Zn.ERRORED}),this.emit(yn,h),this.onTerminalFailure()}onTerminalFailure(){this.previousSignalState.isTargetPublishing=!1,this.startConnectingTimestamp=-1,this.failedRetries=0}start(){this.isSubscriptionActive=!0,this.peerClient.on(go,this.onPeerClientConnectionStateChange,this),this.peerClient.on(Qy,g=>{this.remotePlaybackController.endpoints={playback:g.mediaControls,layers:g.layerControls}}),this.peerClient.on(Fo,g=>{this.emit(qa,g)}),this.peerClient.on(Ac,this.onPeerClientTransformError,this),this.stageConnection.on(Nh,this.onParticipantUpdated),this.stageConnection.on(Oh,this.onParticipantJoined),this.stageConnection.on(Ph,this.onParticipantLeft),this.stageConnection.on(Um,this.onParticipantLeft);let h=!0;if(this.stageConnection.isConnected()){const g=this.stageConnection.getParticipant(this.id);h=!!(g!=null&&g.isPublishing)}this.processStateUpdate({isTargetPublishing:h})}throttledTrySubscribe(h){return this.throttler.invoke(this.trySubscribe,h)}updateState(h){h.subscribeInProgress!==void 0&&(this.subscriptionState.subscribeInProgress=h.subscribeInProgress),h.connectionState&&this.subscriptionState.connectionState!==h.connectionState&&(this.subscriptionState.connectionState=h.connectionState,this.emit($l,this.subscriptionState.connectionState))}stop(h=!1){this.peerClient.off(go,this.onPeerClientConnectionStateChange,this),this.peerClient.off(Ac,this.onPeerClientTransformError,this),this.unsubscribe(h),this.throttler.clear(),this.stageConnection.off(Nh,this.onParticipantUpdated),this.stageConnection.off(Oh,this.onParticipantJoined),this.stageConnection.off(Ph,this.onParticipantLeft),this.stageConnection.off(Um,this.onParticipantLeft),this.isSubscriptionActive=!1,this.updateState({connectionState:Zn.DISCONNECTED})}isActive(){return this.isSubscriptionActive}subscribe(h,g){return Vc(this,void 0,void 0,function*(){const{token:b,id:T}=this;b.assertTokenIsUnexpired(h,Jr(Ge.SUBSCRIBE,T),"subscribe",T);const{mediaStream:O}=yield this.peerClient.connect({audioOnly:g,traceId:h});return{peerClient:this.peerClient,mediaStream:O}})}unsubscribe(h=!1){return Vc(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.remotePlaybackController.destroy(),!this.isSubscriptionActive||!this.attemptTracker||this.subscriptionState.connectionState===Zn.DISCONNECTED)return;this.cleanupFirstFrameTracking(),this.attemptTracker.trackUnsubscribe();const g=h?Si.UNLOAD:Si.UNSUBSCRIBE;try{h?this.peerClient.disconnect(h):yield this.peerClient.disconnect(h),this.updateState({subscribeInProgress:!1}),this.attemptTracker.trackEndSucceeded(g)}catch{this.attemptTracker.trackEndFailed(g)}})}triggerIceRestart(h){var g;return Vc(this,void 0,void 0,function*(){const b=this.stageConnection.getConnectionStats(),T=this.peerClient.getSfuResource(),O=this.subscribeTracker.trackAttempt({stageConnectionStats:b,isReassignment:!0,traceIdOverride:h.traceId,preAttemptSfuResource:T}),N=performance.now();try{this.emit(Us),this.logger.debug({msg:`Triggering attempt. Current node: ${this.peerClient.getSfuResource().node}`}),yield this.peerClient.connect({iceRestartOptions:h,traceId:h.traceId}),this.logger.debug({msg:`Successful ICE restart attempt. Current node: ${this.peerClient.getSfuResource().node}`});const M=performance.now()-N,L=this.peerClient.getSfuResource(),A=this.peerClient.getActionMeasurements();(g=this.attemptTracker)===null||g===void 0||g.trackEndSucceeded(Si.REASSIGNMENT),this.applyVideoControlsBySubscribeType(this.actualSubscribeType,this.actualSubscribeType),O.trackSubscribeStarted({totalDurationWithRetries:M,sfuResource:L,retryTimes:0,peerClientPerfStats:A}),this.emit(Ka)}catch(M){this.emit(Uo),this.logger.error({msg:"ICE restart attempt failed",err:M});const L=this.peerClient.getSfuResource(),A=O.trackSubscribeFailed(M,`iceRestart=true, startNode=${T.node}, endNode=${L==null?void 0:L.node}`);throw A.code===Ae.SUBSCRIBE_TIMED_OUT.code&&this.onTrySubscribeFailure(A,"ice restart timeout"),M}})}measureFirstFrameDuration({mediaStream:h,subscribeType:g,callback:b}){const T=performance.now(),O=L=>{const A=performance.now()-T;b(A,L),L==="audio"?M():N()};let N=ei,M=ei;return g!==ki.AUDIO_ONLY&&(N=function(L,A){return Wm(L,"video",A)}(h,O)),M=function(L,A){return Wm(L,"audio",A)}(h,O),()=>{N(),M()}}}var ya,On;Qd=new WeakSet,qh=function(S){return S.id===this.id},function(S){S.JOIN_ERROR="JOIN_ERROR",S.PUBLISH_ERROR="PUBLISH_ERROR",S.SUBSCRIBE_ERROR="SUBSCRIBE_ERROR"}(ya||(ya={})),function(S){S[S.TOKEN_MALFORMED=1]="TOKEN_MALFORMED",S[S.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",S[S.TIMEOUT=3]="TIMEOUT",S[S.FAILED=4]="FAILED",S[S.CANCELED=5]="CANCELED",S[S.STAGE_AT_CAPACITY=6]="STAGE_AT_CAPACITY",S[S.CODEC_MISMATCH=7]="CODEC_MISMATCH",S[S.TOKEN_NOT_ALLOWED=8]="TOKEN_NOT_ALLOWED"}(On||(On={}));const Dw={[On.TOKEN_MALFORMED]:"Token is malformed",[On.TOKEN_EXPIRED]:"Token expired and is no longer valid",[On.TIMEOUT]:"Operation timed out",[On.FAILED]:"Operation failed",[On.CANCELED]:"Operation canceled",[On.STAGE_AT_CAPACITY]:"Stage at capacity",[On.CODEC_MISMATCH]:"Client codec is not supported",[On.TOKEN_NOT_ALLOWED]:"Token not allowed to perform operation"},_g={[Ae.EXPIRED_TOKEN.code]:On.TOKEN_EXPIRED,[Ae.MALFORMED_TOKEN.code]:On.TOKEN_MALFORMED,[Ae.TOKEN_PERMISSIONS_DENIED.code]:On.TOKEN_NOT_ALLOWED,[Ae.OPERATION_ABORTED.code]:On.CANCELED,[Ae.JOIN_TIMED_OUT.code]:On.TIMEOUT,[Ae.EVENT_PLANE_WS_CREATE_FAILED.code]:On.FAILED,[Ae.EVENT_PLANE_PONG_TIMEOUT.code]:On.FAILED,[Ae.EVENT_PLANE_WS_UNEXPECTED_CLOSE.code]:On.FAILED,[Ae.PUBLISH_TIMED_OUT.code]:On.TIMEOUT,[Ae.PUBLISH_FAILURE.code]:On.FAILED,[Ae.SUBSCRIBE_TIMED_OUT.code]:On.TIMEOUT,[Ae.SUBSCRIBE_FAILURE.code]:On.FAILED,[Ae.STAGE_AT_CAPACITY.code]:On.STAGE_AT_CAPACITY,[Ae.NO_MATCHING_CODEC.code]:On.CODEC_MISMATCH,[Ae.NETWORK_FAILURE.code]:On.FAILED,[Ae.INTERNAL_SERVER_ERROR.code]:On.FAILED,[Ae.REMOTE_STREAM_NOT_FOUND.code]:On.FAILED,[Ae.INTERNAL_MHCP_ERROR.code]:On.FAILED,[Ae.UNREACHABLE_MHCP.code]:On.FAILED,[Ae.INVALID_SESSION_STATUS.code]:On.FAILED,[Ae.MHCP_ABORTED.code]:On.FAILED},T0={[Ae.SEI_INSERT_NOT_PUBLISHING_VIDEO.code]:"SEI insert failed due to not publishing video",[Ae.SEI_INSERT_INBAND_NOT_ENABLED.code]:"SEI insert failed due to in-band messaging not being enabled for the stage stream"};class Mw extends Error{constructor(h,g,b){super(),this.code=h,this.category=g,this.message=b,this.name="StageError",this.errorDetails=[],this.message=`[${g}] ${b}`}addDetails(h){this.errorDetails.push(h)}get details(){return this.errorDetails.length?JSON.stringify(this.errorDetails):""}toString(){return`
${this.message}
details - ${this.details}
        `.trim()}}var Kh,Xd,Jd;function Lw(S,h){let g;if(S instanceof Zt){const b=_g[S.code];b&&(g=function(T,O,N){var M,L;const A=Dw[T],F=new Mw(T,O,A);return F.addDetails({stageErrorMessage:A,stageErrorCode:T,stageErrorCategory:O,stageArn:(M=N.token)===null||M===void 0?void 0:M.stageARN,traceId:(L=N.traceId)===null||L===void 0?void 0:L.value,causeCode:N.code,causeDetails:N.details,causeMessage:N.message,causeLocation:N.location}),F}(b,h,S))}return g}(function(S){S.ERROR="error"})(Kh||(Kh={}));class Fw extends yo{constructor(h){super(),this.logger=h,this.handleError=(g,b,T=!0)=>{const O=function(M){let L;return M instanceof Zt&&(L=T0[M.code]),L}(g),N=Lw(g,b);if(O&&this.logger.warn({msg:O}),N)return T&&this.emit(Kh.ERROR,N),N}}}(function(S){S.INTERNAL="internal",S.API="api"})(Xd||(Xd={})),function(S){S.ADDITIVE="additive",S.REPLACE="replace"}(Jd||(Jd={}));class R0{constructor(h){this.logger=new mo(h.logger,kn.CONNECTION),this.subscribeConfig={defaults:h.subscribeDefaults,participants:{}}}handleSubscribeConfigUpdate(h,g,b,T=Jd.REPLACE){g=(F=>{const B=cg(F);if(B.jitterBuffer!==void 0){const W=ie=>{if(typeof ie=="number"){if(ie<0)return 0;if(ie>4e3)return 4e3}return ie};B.jitterBuffer.minDelayWhenPublishing!==void 0&&(B.jitterBuffer.minDelayWhenPublishing=W(B.jitterBuffer.minDelayWhenPublishing)),B.jitterBuffer.minDelayWhenSubscribeOnly!==void 0&&(B.jitterBuffer.minDelayWhenSubscribeOnly=W(B.jitterBuffer.minDelayWhenSubscribeOnly))}return B})(g),this.subscribeConfig.participants[h]===void 0&&(this.subscribeConfig.participants[h]={internalOverrides:{},apiOverrides:{},lastMerged:this.subscribeConfig.defaults});const O=this.subscribeConfig.participants[h];switch(b){case Xd.INTERNAL:O.internalOverrides=this.handleSubscribeConfigLevelMerging(O.internalOverrides,g,T);break;case Xd.API:O.apiOverrides=this.handleSubscribeConfigLevelMerging(O.apiOverrides,g,T);break;default:(function(F){throw new Error(`Unknown case kind: ${F}`)})(b)}const N=sg(this.subscribeConfig.defaults,O.internalOverrides,O.apiOverrides);if(N===void 0)return this.logger.warn({msg:`Unable to merge subscribe configs for participant: ${h} | ${O}, ${g}`}),!1;const M=(L=O.lastMerged,A=N,(typeof L=="object"&&typeof A=="object"&&(0,wr.isEqual)(L,A))===!1);var L,A;return O.lastMerged=N,this.subscribeConfig.participants[h]=O,M}handleExternalSubscribeConfigUpdate(h,g,b,T=Jd.REPLACE){const O=(N=>{const M={};return typeof N!="object"?ot.err(new Error("Invalid input")):(N.jitterBuffer!==void 0&&(M.jitterBuffer={},N.jitterBuffer.minDelay!==void 0&&(M.jitterBuffer.minDelayWhenSubscribeOnly=N.jitterBuffer.minDelay)),N.inBandMessaging!==void 0&&(M.inBandMessaging={enabled:N.inBandMessaging.enabled===!0}),N.simulcast!==void 0&&(M.simulcast={},N.simulcast.initialLayerPreference!==void 0&&(M.simulcast.initialLayerPreference=N.simulcast.initialLayerPreference)),ot.ok(M))})(g);return O.ok===!0&&this.handleSubscribeConfigUpdate(h,O.value,b,T)}handleSubscribeConfigLevelMerging(h,g,b){if(b===Jd.REPLACE)return g;{const T=sg(h,g);return T===void 0?(this.logger.warn({msg:`Unable to merge '${h}' and '${g}' with type ${b}`}),h):T}}getSubscribeConfigSnapshot(h){return this.subscribeConfig.participants[h]===void 0?ag(this.subscribeConfig.defaults):ag(this.subscribeConfig.participants[h].lastMerged)}}class Yh extends on{constructor(h){super(ln.REASSIGNMENT_REQUEST,h.token,h.traceId,!1),Object.assign(this.properties,{target_local_participant_id:h.targetLocalParticipantId,target_remote_participant_id:h.targetRemoteParticipantId}),this.critical=!0}}var ps,ms,eu,tu,gs,wg=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Eg extends yo{constructor(h,g){super(),this.setGetStats=b=>{this.getInternalStats=b},this.getStats=()=>wg(this,void 0,void 0,function*(){return this.requestRTCStats()}),this.requestRTCStats=()=>wg(this,void 0,void 0,function*(){if(this.getInternalStats)return this.getInternalStats(this.mediaStreamTrack)}),this.getInternalStats=g,this.id=h.id,this.isMuted=!h.enabled,this.mediaStreamTrack=h,this.streamType=this.mediaStreamTrack.kind==="audio"?me.AUDIO:me.VIDEO}cleanup(){this.removeAllListeners(),this.getInternalStats=void 0}}(function(S){S.IDLE="IDLE",S.INITIALIZING="INITIALIZING",S.ACTIVE="ACTIVE",S.CONTROLS_PAUSED="CONTROLS_PAUSED",S.DESTROYED="DESTROYED"})(ps||(ps={})),function(S){S.LAYERS_CHANGED="LAYERS_CHANGED",S.LAYER_SELECTED="LAYER_SELECTED",S.ADAPTION_CHANGED="ADAPTION_CHANGED"}(ms||(ms={})),function(S){S.LAYERS_CHANGED="LAYERS_CHANGED",S.LAYER_SELECTED="LAYER_SELECTED",S.ADAPTION_CHANGED="ADAPTION_CHANGED"}(eu||(eu={})),function(S){S.UNAVAILABLE="unavailable",S.SELECTED="selected"}(tu||(tu={})),function(S){S.LOCAL_STREAM_MUTE_CHANGED="localStreamMutedChanged",S.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST="localStreamInsertSeiMsgRequest"}(gs||(gs={}));var ba,Or,ci,Uw=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class k0 extends Eg{constructor(h,g){super(h),this.setMuted=b=>{b!==this.isMuted&&(this.mediaStreamTrack.enabled=!b,this.isMuted=b,this.emit(gs.LOCAL_STREAM_MUTE_CHANGED,this))},this.insertSeiMessage=(b,T)=>Uw(this,void 0,void 0,function*(){var O;let N;if(this.streamType==="audio")N=Ri.INVALID_TRACK_TYPE;else if(!((O=this.mediaConfig)===null||O===void 0)&&O.inBandMessaging.enabled){const M=this.validator.validateMessagePayload(b,(T==null?void 0:T.repeatCount)||0);N=ot.getErr(M)}else N=Ri.INBAND_MESSAGING_NOT_ENABLED;N?console.warn(`Unable to insert SEI message due to ${N}`):this.emit(gs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this,b,T)}),this.mediaConfig=pg(h,g),this.validator=new gg(Qa)}}class Qh{constructor(h,g){this.strategy=h,this.logger=g}setStrategy(h){this.strategy=h}stageStreamsToPublish(){let h=[];try{h=this.strategy.stageStreamsToPublish(),h=h.filter(T=>T instanceof k0)}catch(T){return this.logger.warn({msg:"error executing stageStreamsToPublish treating this as a no-op",err:T}),console.error("Error executing stageStreamsToPublish",T),ot.err(T)}let g=0,b=0;for(const T of h)T.mediaStreamTrack.kind==="audio"?g++:T.mediaStreamTrack.kind==="video"&&b++;if(g>1||b>1){const T=Error("stageStreamsToPublish strategy function returned more than 1 video or audio stream and as a result will not publish",{cause:"UserStrategy"});return ot.err(T)}return ot.ok(h)}shouldPublishParticipant(h){try{return ot.ok(this.strategy.shouldPublishParticipant(h))}catch(g){return this.logger.warn({msg:"error executing shouldPublishParticipant treating this as a no-op",err:g}),console.error("Error executing shouldPublishParticipant",g),ot.err(g)}}shouldSubscribeToParticipant(h){try{return ot.ok(this.strategy.shouldSubscribeToParticipant(h))}catch(g){return this.logger.warn({msg:"error executing shouldSubscribeToParticipant. Treating it as a no-op",err:g}),console.error("Error executing shouldSubscribeToParticipant",g),ot.err(g)}}subscribeConfiguration(h){var g,b;try{return ot.ok((b=(g=this.strategy).subscribeConfiguration)===null||b===void 0?void 0:b.call(g,h))}catch(T){return this.logger.warn({msg:"error executing subscribeConfiguration. Treating it as a no-op",err:T}),console.error("Error executing subscribeConfiguration",T),ot.err(T)}}preferredLayerForStream(h,g){var b,T;try{return ot.ok((T=(b=this.strategy).preferredLayerForStream)===null||T===void 0?void 0:T.call(b,h,g))}catch(O){return this.logger.warn({msg:"error executing preferredLayerForStream. Treating it as a no-op",err:O}),console.error("Error executing preferredLayerForStream",O),ot.err(O)}}}class Cg extends yo{constructor(h,g){super(),this.audioMuted=!0,this.videoStopped=!0,this.publishState=Or.NOT_PUBLISHED,this.logger=g,this.info=h,this.audioMuted=h.audioMuted,this.videoStopped=h.videoStopped}}(function(S){S.PUBLISH="publish",S.SUBSCRIBE="subscribe"})(ba||(ba={})),function(S){S.NOT_PUBLISHED="not_published",S.ATTEMPTING_PUBLISH="attempting_publish",S.PUBLISHED="published",S.ERRORED="errored"}(Or||(Or={})),function(S){S.NOT_SUBSCRIBED="not_subscribed",S.ATTEMPTING_SUBSCRIBE="attempting_subscribe",S.SUBSCRIBED="subscribed",S.ERRORED="errored"}(ci||(ci={}));function Tg(S){return S.map(h=>h.remote)}function Rg(S){return{label:S.encodingId,bitrateBps:1e3*S.bitrate,width:S.width,height:S.height,framesPerSecond:S.framesPerSecond,selected:S.selected}}function kg(S,h){const g=S.width*S.height,b=h.width*h.height;return g>b||S.bitrateBps>h.bitrateBps||S.framesPerSecond>h.framesPerSecond?1:g===b||S.bitrateBps===h.bitrateBps||S.framesPerSecond>h.framesPerSecond?0:-1}var Zd,Og,Bw=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class ef extends yo{constructor(h){super(),this.setGetStats=()=>{},this.requestRTCStats=()=>this.internalStream.requestRTCStats(),this.getStats=()=>Bw(this,void 0,void 0,function*(){return this.internalStream.requestRTCStats()}),this.setMuted=g=>{this.internalStream.setMuted(g)},this.getLayers=()=>this.internalStream.layers,this.getSelectedLayer=()=>this.internalStream.selectedLayer,this.getLowestQualityLayer=()=>this.internalStream.lowestQualityLayer,this.getHighestQualityLayer=()=>this.internalStream.highestQualityLayer,this.internalStream=h,this.internalStream.on(ms.ADAPTION_CHANGED,g=>{this.emit(eu.ADAPTION_CHANGED,g)}),this.internalStream.on(ms.LAYERS_CHANGED,g=>{this.emit(eu.LAYERS_CHANGED,g)}),this.internalStream.on(ms.LAYER_SELECTED,(g,b)=>{this.emit(eu.LAYER_SELECTED,g,b)})}get id(){return this.internalStream.id}get participantInfo(){return this.internalStream.participantInfo}get streamType(){return this.internalStream.streamType}get mediaStreamTrack(){return this.internalStream.mediaStreamTrack}get isMuted(){return this.internalStream.isMuted}set isMuted(h){this.internalStream.setMuted(h)}get isAdapting(){return this.internalStream.isAdapting}cleanup(){this.removeAllListeners()}}class Xh extends Eg{constructor({track:h,info:g,getStats:b,remotePlaybackController:T,analyticsTracker:O,token:N}){super(h,b),this.setMuted=L=>{this.isMuted=L},this.setLayer=L=>{const A=(0,wr.cloneDeep)(L);if(this.queueLayerUpdateForValidState(A))return void this.logger.debug({msg:`setLayer:${A} queued, skipping for now`});const F=function(W,ie){if(!W)return(0,ot.ok)(void 0);const be=typeof W=="string"?W:W.label,ge=ie.filter(le=>le.label===be)[0];return ge?(0,ot.ok)(ge):(0,ot.err)(`Provided layer with id ${be} does not exist`)}(A,this._layers);if(!F.ok){const W=F.error;return void this.logger.error({err:W,msg:"Unable to select layer, skipping skipping selection"})}const B=F.value;if(this.isNextUpdateAdaptionOnly(B))return this.logger.warn({msg:"setLayer:dynamic"}),void this.handleDynamicUpdate();this.isFirstLayerUpdate()||!this.isRepeatLayerSelection(B)||this.isAdapting?B&&(this.logger.warn({msg:`setLayer:${JSON.stringify(B)} `}),this.handleManualUpdate(B)):this.logger.debug({msg:"Setting the same layer, same adaption state, skipping selection"})},this.state=ps.INITIALIZING,this.prevState=ps.IDLE,this.analyticsTracker=O,this.token=N,this.id=h.id,this.info=g,this.mediaStreamTrack=h,this.remotePlaybackController=T,this.layerPollingTimeoutId=null,this.weakRemoteMap=new WeakMap,this.weakRemoteKey={id:"remote"},this.commandMap=new Map,this._isAdapting=!0,this._layers=[],this._selectedLayer=null;const M=Om();this.logger=new mo(new Dm(M),kn.REMOTE_STAGE_STREAM),this.streamType===me.AUDIO?this.isMuted=g.audioMuted:this.isMuted=g.videoStopped,this.initializeLayerPolling(),this.pollInternalLayers()}transitionStateTo(h){this.state!==h&&(this.prevState=this.state,this.state=h)}initializeLayerPolling(){this.streamType!==me.AUDIO?(this.logger.debug({msg:"Setting up RemoteStageStream, requesting initial layers"}),this.layerPollingTimeoutId=setInterval(()=>{this.pollInternalLayers()},3e3)):this.logger.debug({msg:"Skipping initializing polling for audio streams"})}startLayerPolling(){this.layerPollingTimeoutId===null?this.initializeLayerPolling():this.logger.debug({msg:"Skipping start polling request, already started"})}stopLayerPolling(){this.layerPollingTimeoutId!==null?(clearInterval(this.layerPollingTimeoutId),this.layerPollingTimeoutId=null):this.logger.debug({msg:"Skipping stop polling request, already stopped"})}pollInternalLayers(){this.streamType!==me.AUDIO?this.remotePlaybackController.getLayers().then(h=>{if(this.isStateValidForLayerUpdates()){if(!h.ok)throw Error(h.error);this.updateInternalLayersFromRemote(h.value),this.transitionStateTo(ps.ACTIVE),this.flushCommandQueue()}else this.logger.warn({msg:"Stream controls have been paused, skipping getLayers"})}).catch(h=>{this.logger.error({err:h,msg:"Error calling getLayers, returning current layers"})}):this.logger.debug({msg:"Skipping layer poll request for audio stream"})}updateInternalLayersFromRemote(h){const g=this._layers,b=h.map(Rg).sort(kg),T=!(0,wr.isEqual)(b,g);this._layers=b;const O=this._selectedLayer,N=this._layers.filter(L=>L.selected)[0],M=!(0,wr.isEqual)(N,O);O&&(O.selected=!1),this._selectedLayer=N,M&&(this.trackLayerUpdate(O),this.trackLayerUpdate(N)),this.isCommandQueueEmpty()&&(T&&this.emitLayersChanged(),M&&this.emitLayerSelected(N))}flushCommandQueue(){if(this.isCommandQueueEmpty())return;const h=Array.from(this.commandMap.keys());this.logger.debug({msg:`Flushing active commands from map ${h}`});for(const g of this.commandMap.keys()){const b=this.commandMap.get(g);b==null||b()}this.commandMap.clear()}queueLayerUpdateForValidState(h){if(!h)return this.commandMap.delete("setLayer"),!1;if(this.state===ps.INITIALIZING){const g=this.setLayer.bind(this,h);return this.commandMap.set("setLayer",g),!0}return!1}handleDynamicUpdate(){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const h=this._isAdapting;this._isAdapting=!0,this.emitAdaptionChanged(),this.remotePlaybackController.unsetLayer().then(g=>{if(!this.isStateValidForLayerUpdates())return this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"}),void this.resetAdaptionStateOnError(h,`Stream in invalid state: ${this.state}`);g.ok?this.logger.debug({msg:"Layer successfully unset, restarting dynamic adaption"}):this.resetAdaptionStateOnError(h,g.error)}).catch(()=>{})}resetAdaptionStateOnError(h,g){this._isAdapting=h,this.emitAdaptionChanged(),this.logger.error({err:g,msg:"Error unsetting layer, reverting adaption state"})}handleManualUpdate(h){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping manual updates"});const g=this._isAdapting,b=this._selectedLayer;b&&(b.selected=!1),this._isAdapting=!1,this._selectedLayer=h,h.selected=!0,g!==this._isAdapting&&this.emitAdaptionChanged(),this.updateLocalLayerStateBeforeRemote(h,b),this.trackLayerUpdate(b),this.trackLayerUpdate(h),this.emitLayersChanged(),this.emitLayerSelected(h),this.remotePlaybackController.setLayer(h.label).then(T=>{if(!this.isStateValidForLayerUpdates()){this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const O=`Stream in invalid state: ${this.state}`;return this.resetAdaptionStateOnError(g,O),void this.resetLayerOnError(b,h,O)}if(!T.ok){const O=T.error;return this.resetAdaptionStateOnError(g,O),void this.resetLayerOnError(b,h,O)}this.logger.debug({msg:`Layer successfully selected: ${h.label}`})}).catch(()=>{})}applyExistingControlState(){var h;this._isAdapting?this.remotePlaybackController.unsetLayer().then(()=>{}).catch(()=>{}):!((h=this._selectedLayer)===null||h===void 0)&&h.label&&this.remotePlaybackController.setLayer(this._selectedLayer.label).then(()=>{}).catch(()=>{})}resetLayerOnError(h,g,b){g&&(g.selected=!1),h&&(h.selected=!0),this._selectedLayer=h,this.logger.error({err:b,msg:"Error unsetting layer, leaving current selection in place"}),this.updateLocalLayerStateBeforeRemote(h,g),this.emitLayersChanged(),h!==null&&this.emitLayerSelected(h,tu.UNAVAILABLE),this.trackLayerUpdate(g),this.trackLayerUpdate(h)}updateLocalLayerStateBeforeRemote(h,g){this._layers=this._layers.map(b=>b.label===(h==null?void 0:h.label)?h:b.label===(g==null?void 0:g.label)?g:b).sort(kg)}trackLayerUpdate(h){var g,b;this.analyticsTracker.trackEventNoSharedProps(new Lh(this.token,Xi(),(g=h==null?void 0:h.label)!==null&&g!==void 0?g:"auto",!0,Ge.SUBSCRIBE,(b=h==null?void 0:h.selected)!==null&&b!==void 0&&b,this.info.id))}isNextUpdateAdaptionOnly(h){return h===void 0&&this.isFirstLayerUpdate()||h===void 0&&!this.isAdapting}isFirstLayerUpdate(){return this._selectedLayer===null}isRepeatLayerSelection(h){var g;return((g=this._selectedLayer)===null||g===void 0?void 0:g.label)===(h==null?void 0:h.label)}isStateValidForLayerUpdates(){return this.state===ps.ACTIVE||this.state===ps.INITIALIZING}isCommandQueueEmpty(){return this.commandMap.size===0}emitLayerSelected(h,g=tu.SELECTED){this.logger.debug({msg:`Emitting layers selected ${JSON.stringify(h,null,2)}`}),this.emit(ms.LAYER_SELECTED,(0,wr.cloneDeep)(h),g)}emitLayersChanged(){this.emit(ms.LAYERS_CHANGED,(0,wr.cloneDeep)(this._layers))}emitAdaptionChanged(){this.emit(ms.ADAPTION_CHANGED,this._isAdapting)}get remote(){const h=this.weakRemoteMap.get(this.weakRemoteKey);if(h)return h;const g=new ef(this);return this.weakRemoteMap.set(this.weakRemoteKey,g),g}get participantInfo(){return(0,wr.cloneDeep)(this.info)}get isAdapting(){return this._isAdapting}get layers(){return(0,wr.cloneDeep)(this._layers)}get selectedLayer(){var h;return(0,wr.cloneDeep)((h=this._selectedLayer)!==null&&h!==void 0?h:void 0)}get highestQualityLayer(){return(0,wr.cloneDeep)(this.layers[this.layers.length-1])}get lowestQualityLayer(){return(0,wr.cloneDeep)(this.layers[0])}pauseControls(){this.transitionStateTo(ps.CONTROLS_PAUSED),this.stopLayerPolling()}resumeControls(){this.applyExistingControlState(),this.startLayerPolling(),this.transitionStateTo(ps.ACTIVE)}cleanup(){this.transitionStateTo(ps.DESTROYED),super.cleanup(),this.stopLayerPolling(),this._layers=[],this._selectedLayer=null,this._isAdapting=!0,this.commandMap.clear()}}(function(S){S.STATE_CHANGE="stateChange",S.MEDIA_STREAM_ADDED="mediaStreamAdded",S.MEDIA_STREAM_REMOVED="mediaStreamRemoved",S.MEDIA_STREAM_MUTE_CHANGED="mediaStreamMuteChanged",S.ERROR="error"})(Zd||(Zd={})),function(S){S.SUBSCRIPTION_STATE_CHANGE="subscriptionStateChange",S.MEDIA_STREAM_SEI_MESSAGE_RECEIVED="mediaStreamSeiMessageReceived"}(Og||(Og={}));const Oi=Object.assign(Object.assign({},Zd),Og);var tf;(function(S){S.PUBLICATION_STATE_CHANGE="publicationStateChange"})(tf||(tf={}));const xa=Object.assign(Object.assign({},Zd),tf);var $w=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class vs extends Cg{constructor(h,g,b,T,O,N,M,L=!1){super(h,new mo(T,kn.REMOTE_PARTICIPANT)),this.subscribeState=ci.NOT_SUBSCRIBED,this.reassigning=!1,this.streams=[],this.left=!1,this.onSubscriptionStateChange=A=>{this.logger.debug({msg:"subscriptionStateChange",state:A}),A===Zn.DISCONNECTED?this.updateSubscriptionState(ci.NOT_SUBSCRIBED):A===Zn.CONNECTED?this.updateSubscriptionState(ci.SUBSCRIBED):A===Zn.CONNECTING?this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE):A===Zn.ERRORED?this.updateSubscriptionState(ci.ERRORED):this.logger.warn({msg:"FIXME onSubscriptionStateChange UNHANDLED STATE",state:A})},this.onSubscriptionMediaStream=(A,F)=>{this.logger.debug({msg:"onSubscriptionMediaStream",stream:A});let B=A.getTracks().map(W=>{const ie=new Xh({track:W,info:this.info,getStats:this.subscription.requestRTCStats,remotePlaybackController:F,analyticsTracker:this.analyticsTracker,token:this.token});return this.streams.push(ie),ie});this.subscription.getDesiredSubscribeType()===ki.AUDIO_ONLY&&(B=B.filter(W=>W.streamType!==me.VIDEO)),this.emit(Oi.MEDIA_STREAM_ADDED,B)},this.onSubscriptionError=A=>{this.emit(Oi.ERROR,A)},this.onSubscriptionSeiMessageReceived=A=>{this.emit(Oi.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,A)},this.onSubscriptionTransformError=A=>{this.emit(Oi.ERROR,A)},this.onSubscriptionReassignmentStart=()=>{for(const A of this.streams)A.pauseControls()},this.onSubscriptionReassignmentDone=()=>{for(const A of this.streams)A.resumeControls()},this.updateSubscribeStateIfNecessary=(A,F)=>{if(!this.info.capabilities.has(ba.SUBSCRIBE))return;F!==void 0&&this.subscription.updateSubscribeConfig(F);const B=A!==ki.NONE&&this.publishState===Or.PUBLISHED,W=this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscribeState!==ci.ERRORED;if(B&&!W)this.subscription.updateDesiredSubscribeType(A),this.subscribe();else if(!B&&W)this.unsubscribe(),this.subscription.updateDesiredSubscribeType(A);else if(this.subscribeState===ci.SUBSCRIBED&&this.subscription.getDesiredSubscribeType()!==A)try{A===ki.AUDIO_ONLY?this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams.filter(ie=>ie.streamType===me.VIDEO)):A===ki.AUDIO_VIDEO&&this.emit(Oi.MEDIA_STREAM_ADDED,this.streams.filter(ie=>ie.streamType===me.VIDEO)),this.subscription.updateDesiredSubscribeType(A)}catch(ie){this.logger.error({err:ie,msg:"error updating subscribe type"})}},this.updatePublishState=A=>{const F=A&&this.publishState===Or.PUBLISHED,B=!A&&this.publishState===Or.NOT_PUBLISHED;return!F&&!B&&(this.info.isPublishing=A,this.publishState=A?Or.PUBLISHED:Or.NOT_PUBLISHED,!0)},this.updateStreamState=(A,F)=>{this.audioMuted!==A&&(this.audioMuted=A,this.info.audioMuted=A,this.updateStreamMuteState(me.AUDIO,A)),this.videoStopped!==F&&(this.videoStopped=F,this.info.videoStopped=F,this.updateStreamMuteState(me.VIDEO,F))},this.updateStreamMuteState=(A,F)=>{const B=this.streams.find(W=>W.streamType===A);B?(B.setMuted(F),this.emit(Oi.MEDIA_STREAM_MUTE_CHANGED,B)):this.logger.warn({msg:`tried to update mute state for ${A} stream on participant ${this.info.id} that didn't exist`})},this.cleanup=()=>{for(const A of this.streams)A.remote.removeAllListeners(),A.removeAllListeners();this.removeAllListeners()},this.quickUnsubscribe=()=>this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscription.stop(!0),this.getDesiredSubscribeType=()=>this.subscription.getDesiredSubscribeType(),this.isReassigning=()=>this.reassigning,this.analyticsTracker=M,this.token=g,this.createSubscription=()=>{const A=new Sg(h.id,g,b,T,M,O,N);return A.on($l,this.onSubscriptionStateChange),A.on(Ji,this.onSubscriptionMediaStream),A.on(yn,this.onSubscriptionError),A.on(qa,this.onSubscriptionSeiMessageReceived),A.on(as,this.onSubscriptionTransformError),A.on(Us,this.onSubscriptionReassignmentStart),A.on(Ka,this.onSubscriptionReassignmentDone),A.on(Uo,this.onSubscriptionReassignmentDone),A},this.subscription=this.createSubscription(),L&&(this.publishState=Or.PUBLISHED)}updateSubscriptionState(h){h!==this.subscribeState&&(this.subscribeState=h,this.emit(Oi.SUBSCRIPTION_STATE_CHANGE,this.subscribeState))}participantLeave(){this.left=!0}subscribe(){this.left?this.logger.warn({msg:"tried to subscribe to a participant that left"}):(this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE),this.logger.debug({msg:"subscribe"}),this.subscription.start())}unsubscribe(){if(this.subscribeState===ci.NOT_SUBSCRIBED)return;this.logger.debug({msg:"unsubscribe"}),this.subscription.stop(),this.subscription.off($l,this.onSubscriptionStateChange),this.subscription.off(Ji,this.onSubscriptionMediaStream),this.subscription.off(yn,this.onSubscriptionError),this.subscription.off(as,this.onSubscriptionTransformError);const h=this.getDesiredSubscribeType();this.subscription=this.createSubscription(),h===ki.AUDIO_ONLY?this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams.filter(g=>g.streamType===me.AUDIO)):this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams),this.updateSubscriptionState(ci.NOT_SUBSCRIBED),this.streams.forEach(g=>{g.cleanup()}),this.streams=[]}triggerIceRestart(h){return $w(this,void 0,void 0,function*(){this.reassigning=!0;try{yield this.subscription.triggerIceRestart(h)}finally{this.reassigning=!1}})}}const O0=Ge.PUBLISH;function P0(S,h,g){return new Zt(Object.assign(Object.assign({},S),{token:h,traceId:g,location:"stage-publication.sendSeiMessage",tag:Id,action:Ge.PUBLISH}))}class zc{constructor(h,g){this.analyticsTracker=h,this.token=g,this.action=O0,this.traceId=Xi()}trackPublish(h){const{action:g,traceId:b,analyticsTracker:T,token:O}=this;return T.trackEvent(new f0({token:O,traceId:b})),{getTraceId:()=>b,trackPublishStarted({totalDurationWithRetries:N,retryTimes:M,sfuResource:L,peerClientPerfStats:A}){const{optionsDuration:F,postDuration:B,timeToCandidate:W,timeToConnected:ie,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae}=A,{edpInitialConnectDuration:oe,edpInitialConnectRetries:we,edpInitialStateDuration:ze,edpStateUpdateCount:st}=h;T.trackEvent(new p0({token:O,traceId:b,optionsDuration:F,postDuration:B,timeToCandidate:W,totalDuration:ie,edpInitialConnectDuration:oe,edpInitialConnectRetries:we,edpInitialStateDuration:ze,edpStateUpdateCount:st,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae,publishRetries:M,totalDurationWithRetries:N,sfuResource:L}))},trackPublishFailed(N){const M=((A,F,B)=>{if(A instanceof Zt)return A;let W="";return A instanceof gr.AxiosError&&(W+=`AxiosError - ${A.code}`),new Zt(Object.assign(Object.assign(Object.assign({},Ae.PUBLISH_FAILURE),{action:O0,token:F,traceId:B,tag:Id,location:"publish",details:`${W} ${A.message}`}),{fatal:!0}))})(N,O,b);T.trackEvent(new m0({token:O,traceId:b,code:M.code,message:M.message,fatal:M.fatal,nominal:M.nominal}));const L=new Zt(Object.assign(Object.assign({},Ae.PUBLISH_FAILURE),{action:g,token:O,traceId:b,tag:Id,location:"publish"}));return N instanceof Zt&&(L.fatal=N.fatal,L.nominal=N.nominal,L.location=`publish > ${N.location}`),T.trackError(L),M},trackUnpublish:()=>{T.trackEvent(new h0({token:O,traceId:b}))},trackEndSucceeded:N=>{T.trackEvent(new zd({token:O,isUnpublishSuccessful:!0,traceId:b,reason:N}))},trackEndFailed:N=>{const M=new Zt(Object.assign(Object.assign({},Ae.UNPUBLISH_FAILURE),{token:O,traceId:b,tag:Rw,location:"unpublish"}));return N!==Si.UNLOAD&&N!==Si.UNPUBLISH||this.analyticsTracker.trackError(M),T.trackEvent(new zd({token:O,isUnpublishSuccessful:!1,traceId:b,reason:N})),M},createSeiNotPublishingVideoError:()=>P0(Ae.SEI_INSERT_NOT_PUBLISHING_VIDEO,O,b),createSeiInBandMessagingNotEnabledError:()=>P0(Ae.SEI_INSERT_INBAND_NOT_ENABLED,O,b)}}}var ft,eo,Lr=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};(function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"})(ft||(ft={})),function(S){S.STATE_CHANGE="stateChange",S.ERROR="error",S.TRANSFORM_ERROR="transformError"}(eo||(eo={}));class Fr extends yo{constructor(h,g,b,T){super(),this.token=h,this.stageConnection=g,this.nonScopedLogger=b,this.analyticsTracker=T,this.tracksToPublish=[],this.publicationState=ft.DISCONNECTED,this.latestPubAttemptNum=0,this.startConnectingTimestamp=-1,this.action=Ge.PUBLISH,this.start=O=>{this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED?(this.tracksToPublish=O,this.latestPubAttemptNum=0,this.processStateUpdate()):this.logger.warn({msg:"publication cannot be started if not in disconnected or error state"})},this.requestRTCStats=O=>Lr(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(O)}),this.stop=(O=!1)=>Lr(this,void 0,void 0,function*(){this.peerClient.off(go,this.onPeerClientConnectionStateChange,this),this.peerClient.off(Ac,this.onPeerClientTransformError,this),yield this.unpublish(O),this.updateState(ft.DISCONNECTED)}),this.processStateUpdate=O=>{const{publicationState:N}=this;N===ft.DISCONNECTED||N===ft.ERRORED?this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()):N===ft.CONNECTING?O===gt.CONNECTED&&this.updateState(ft.CONNECTED):N===ft.CONNECTED&&O===gt.FAILED&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(Si.CONNECTION_FAIL),this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()))},this.updateState=O=>{this.publicationState=O,this.emit(eo.STATE_CHANGE,O)},this.tryPublish=()=>Lr(this,void 0,void 0,function*(){if(this.latestPubAttemptNum++,this.latestPubAttemptNum<=4){const O=this.stageConnection.getConnectionStats();this.attemptTracker=this.publishTracker.trackPublish(O);try{this.logger.debug({msg:`attempting to publish, attemptNum: ${this.latestPubAttemptNum}`}),yield this.publish(this.tracksToPublish,this.attemptTracker.getTraceId()),this.logger.debug({msg:"publish succeeded!"});const N=this.peerClient.getSfuResource(),M=this.latestPubAttemptNum-1,L=performance.now()-this.startConnectingTimestamp,A=this.peerClient.getActionMeasurements();this.attemptTracker.trackPublishStarted({sfuResource:N,totalDurationWithRetries:L,retryTimes:M,peerClientPerfStats:A}),this.latestPubAttemptNum=0}catch(N){this.logger.error({msg:"publish failed!",err:N});const M=this.attemptTracker.trackPublishFailed(N),L=M.code===Ae.OPERATION_ABORTED.code,A=M.fatal,F=this.latestPubAttemptNum===4;if(L)return;if(A||F)return this.logger.error({msg:`Stopping attempts: isFatal=${A}, isLastAttempt=${F}`,err:N}),this.updateState(ft.ERRORED),void this.emit(eo.ERROR,M);const B=1e3*Math.pow(2,this.latestPubAttemptNum);this.logger.debug({msg:`attempt failed, retrying in ${B}ms`}),this.nextAttemptTimerId=window.setTimeout(()=>{this.tryPublish()},B)}}}),this.publish=(O,N)=>Lr(this,void 0,void 0,function*(){this.peerClient.initTracksToPublish(O),yield this.peerClient.connect({audioOnly:!1,traceId:N})}),this.unpublish=(O=!1)=>Lr(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED||!this.attemptTracker)return;this.attemptTracker.trackUnpublish();const N=O?Si.UNLOAD:Si.UNPUBLISH;try{O?this.peerClient.disconnect(O):yield this.peerClient.disconnect(O),this.attemptTracker.trackEndSucceeded(N)}catch{this.attemptTracker.trackEndFailed(N)}}),this.replaceOrUpdateTrack=O=>Lr(this,void 0,void 0,function*(){this.tracksToPublish.find(N=>N.track.kind===O.track.kind)?this.tracksToPublish=this.tracksToPublish.map(N=>N.track.kind===O.track.kind?O:N):this.tracksToPublish.push(O),yield this.peerClient.replaceOrUpdateTrack(O)}),this.onPeerClientConnectionStateChange=O=>{this.logger.debug({msg:`onPeerClientConnectionStateChange: ${O}`,state:O}),this.processStateUpdate(O)},this.onPeerClientTransformError=O=>{this.emit(eo.TRANSFORM_ERROR,O)},this.onIncompatibleCodecs=O=>Lr(this,void 0,void 0,function*(){yield this.peerClient.onIncompatibleCodecs(O)}),this.sendSeiMessage=(O,N)=>{if(this.publicationState!==ft.CONNECTED)return this.attemptTracker&&this.emit(eo.ERROR,this.attemptTracker.createSeiNotPublishingVideoError()),ot.err(Ri.NOT_PUBLISHING_VIDEO);const M=this.peerClient.sendSeiMessage(O,N),L=ot.getErr(M);return L&&this.attemptTracker&&(L===Ri.INBAND_MESSAGING_NOT_ENABLED?this.emit(eo.ERROR,this.attemptTracker.createSeiInBandMessagingNotEnabledError()):L===Ri.NOT_PUBLISHING_VIDEO&&this.emit(eo.ERROR,this.attemptTracker.createSeiNotPublishingVideoError())),M},this.peerClient=new hs(h,this.nonScopedLogger,this.action,Jr(this.action),Xi(),this.analyticsTracker,void 0,g,void 0),this.logger=new mo(b,kn.PUBLICATION),this.peerClient.on(go,this.onPeerClientConnectionStateChange,this),this.peerClient.on(Ac,this.onPeerClientTransformError,this),this.publishTracker=new zc(this.analyticsTracker,this.token)}removeTrack(h){return Lr(this,void 0,void 0,function*(){this.tracksToPublish=this.tracksToPublish.filter(g=>g.track.kind!==h),yield this.peerClient.removeTrack(h)})}}var In,N0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Pg extends Cg{constructor(h,g,b,T,O){super(h,new mo(b,kn.LOCAL_PARTICIPANT)),this.onPublicationStateChange=N=>{switch(this.logger.debug({msg:"publicationStateChange",state:N}),N){case"connected":this.connection.setStagePublishing(!0),this.updatePublishState(Or.PUBLISHED);break;case"connecting":this.updatePublishState(Or.ATTEMPTING_PUBLISH);break;case"errored":this.updatePublishState(Or.ERRORED),this.connection.setStagePublishing(!1);break;default:return void this.logger.warn({msg:"FIXME onPublicationStateChange UNHANDLED STATE",state:N})}},this.onPublicationError=N=>{this.emit(xa.ERROR,N)},this.updatePublishState=N=>{this.info.isPublishing=N===Or.PUBLISHED,this.publishState=N,this.emit(xa.PUBLICATION_STATE_CHANGE,this.publishState)},this.handleMute=N=>{N.streamType===me.AUDIO&&(this.audioMuted=N.isMuted,this.info.audioMuted=N.isMuted),N.streamType===me.VIDEO&&(this.videoStopped=N.isMuted,this.info.videoStopped=N.isMuted),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.emit(xa.MEDIA_STREAM_MUTE_CHANGED,N)},this.handleInsertSeiMsgRequest=(N,M,L)=>{this.sendSeiMessage(M,L==null?void 0:L.repeatCount)},this.publish=N=>{this.logger.debug({msg:"publish"}),N.forEach(L=>{L&&(this.setupStreamListener(L),L.streamType===me.AUDIO?(this.audioStream=L,this.audioMuted=!L.mediaStreamTrack.enabled,this.info.audioMuted=this.audioMuted):L.streamType===me.VIDEO&&(this.videoStream=L,this.videoStream.on(gs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleInsertSeiMsgRequest),this.videoStopped=!L.mediaStreamTrack.enabled,this.info.videoStopped=this.videoStopped),L.setGetStats(this.publication.requestRTCStats))}),this.connection.emitStageState(this.audioMuted,this.videoStopped);const M=N.map(L=>w0(L.mediaStreamTrack,L.mediaConfig));this.publication.start(M)},this.cleanup=()=>this.removeAllListeners(),this.quickUnpublish=()=>this.publishState!==Or.NOT_PUBLISHED&&this.publishState!==Or.ERRORED&&void this.publication.stop(!0),this.onIncompatibleCodecs=N=>N0(this,void 0,void 0,function*(){yield this.publication.onIncompatibleCodecs(N)}),this.sendSeiMessage=(N,M=0)=>this.publication.sendSeiMessage(N,M),this.sendSeiMessageString=(N,M=0)=>{const L=new TextEncoder().encode(N);return this.publication.sendSeiMessage(L,M)},this.connection=T,this.createPublication=()=>{const N=new Fr(g,T,b,O);return N.on(eo.STATE_CHANGE,this.onPublicationStateChange),N.on(eo.ERROR,this.onPublicationError),N.on(eo.TRANSFORM_ERROR,this.onPublicationError),N},this.publication=this.createPublication()}setupStreamListener(h){h.on(gs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute)}removeTrack(h){var g,b,T;h.streamType===me.AUDIO?((g=this.audioStream)===null||g===void 0||g.off(gs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.audioStream=void 0,this.audioMuted=!0,this.info.audioMuted=!0):h.streamType===me.VIDEO&&((b=this.videoStream)===null||b===void 0||b.off(gs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),(T=this.videoStream)===null||T===void 0||T.off(gs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleMute),this.videoStream=void 0,this.videoStopped=!0,this.info.videoStopped=!0),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.publication.removeTrack(h.streamType)}replaceOrAddTrack(h){return N0(this,void 0,void 0,function*(){this.setupStreamListener(h),h.setGetStats(this.publication.requestRTCStats),h.streamType===me.AUDIO?(this.audioStream=h,this.audioMuted=!h.mediaStreamTrack.enabled):h.streamType===me.VIDEO&&(this.videoStream=h,this.videoStopped=!h.mediaStreamTrack.enabled),this.connection.emitStageState(this.audioMuted,this.videoStopped);const g=w0(h.mediaStreamTrack,h.mediaConfig);yield this.publication.replaceOrUpdateTrack(g)})}unpublish(){if(this.publishState===Or.NOT_PUBLISHED||this.publishState===Or.ERRORED)return;this.logger.debug({msg:"unpublish"}),this.connection.setStagePublishing(!1),this.publication.stop(),this.publication.off(eo.STATE_CHANGE,this.onPublicationStateChange),this.publication.off(eo.ERROR,this.onPublicationError),this.publication.off(eo.TRANSFORM_ERROR,this.onPublicationError);const h=[this.audioStream,this.videoStream].filter(g=>!!g);h.forEach(g=>{g.cleanup()}),this.audioStream=void 0,this.videoStream=void 0,this.emit(xa.MEDIA_STREAM_REMOVED,h),this.updatePublishState(Or.NOT_PUBLISHED),this.publication=this.createPublication()}}(function(S){S.STAGE_CONNECTION_STATE_CHANGED="stageConnectionStateChanged",S.STAGE_PARTICIPANT_JOINED="stageParticipantJoined",S.STAGE_PARTICIPANT_LEFT="stageParticipantLeft",S.STAGE_PARTICIPANT_STREAMS_ADDED="stageParticipantStreamsAdded",S.STAGE_PARTICIPANT_STREAMS_REMOVED="stageParticipantStreamsRemoved",S.STAGE_STREAM_MUTE_CHANGED="stageStreamMuteChanged",S.STAGE_STREAM_SEI_MESSAGE_RECEIVED="stageStreamSeiMessageReceived",S.STAGE_STREAM_LAYERS_CHANGED="stageStreamLayersChanged",S.STAGE_STREAM_LAYER_SELECTED="stageStreamLayerSelected",S.STAGE_STREAM_ADAPTION_CHANGED="stageStreamAdaptionChanged",S.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED="stageParticipantSubscribeStateChanged",S.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED="stageParticipantPublishStateChanged",S.ERROR="error",S.STAGE_LEFT="stageLeft"})(In||(In={}));var _o=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(A){try{L(b.next(A))}catch(F){O(F)}}function M(A){try{L(b.throw(A))}catch(F){O(F)}}function L(A){var F;A.done?T(A.value):(F=A.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Ng=S=>!!S;class Jh extends yo{constructor(h,g){super(),this.connectionState=Wn.DISCONNECTED,this.participants=new Map,this.connectionStateErrored=!1,this.onConnectionStateChanged=(T,O)=>{var N,M;if(this.connectionState=T,T===Wn.ERRORED&&(this.connectionStateErrored=!0),T===Wn.CONNECTED&&this.localParticipant&&this.localParticipant.publishState!==Or.NOT_PUBLISHED&&this.stageConnection.emitStageState((N=this.localParticipant)===null||N===void 0?void 0:N.audioMuted,(M=this.localParticipant)===null||M===void 0?void 0:M.videoStopped),T===Wn.CONNECTED&&this.connectionStateErrored&&(this.connectionStateErrored=!1,this.refreshStrategy()),T===Wn.DISCONNECTED){if(O&&O!==ai.CLIENT_RECONNECT&&O!==ai.USER_INITIATED){let L=qn.UNKNOWN;(function(A){return Object.values(qn).includes(A)})(O)?L=O:this.logger.warn({msg:`DISCONNECTED reason is not a StageLeftReason: ${O}`}),this.cleanup(L)}}else this.emit(In.STAGE_CONNECTION_STATE_CHANGED,this.connectionState)},this.setupLocalParticipantOnce=()=>{var T;this.localParticipant?this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,(T=this.joinTraceId)!==null&&T!==void 0?T:new Zy,"reusing local participant from repeat join",Ge.JOIN,"")):this.createLocalParticipant()},this.createLocalParticipant=()=>{const T=function(O){var N,M;const L=new Set;return O.token.claims.capabilities.allow_publish&&L.add(ba.PUBLISH),O.token.claims.capabilities.allow_subscribe&&L.add(ba.SUBSCRIBE),{id:O.token.participantID,userId:(N=O.token.userID)!==null&&N!==void 0?N:"",attributes:(M=O.token.claims.attributes)!==null&&M!==void 0?M:{},capabilities:L,isLocal:!0,userInfo:{},videoStopped:O.videoStopped,audioMuted:O.audioMuted,isPublishing:O.isPublishing}}({token:this.token,videoStopped:!0,audioMuted:!0,isPublishing:!1});this.localParticipant=new Pg(T,this.token,this.logger.unwrap(),this.stageConnection,this.analyticsTracker),this.localParticipant.on(xa.PUBLICATION_STATE_CHANGE,O=>{this.onPublishStateChanged(this.localParticipant.info,O)}),this.localParticipant.on(xa.MEDIA_STREAM_REMOVED,this.onLocalStreamsRemoved),this.localParticipant.on(xa.MEDIA_STREAM_MUTE_CHANGED,O=>{this.localParticipant?this.onStreamMuteChange(this.localParticipant.info,O):this.logger.warn({msg:"tried to emit a stream mute change event for undefined local participant"})}),this.localParticipant.on(xa.ERROR,O=>{this.errorManager.handleError(O,ya.PUBLISH_ERROR)}),this.emit(In.STAGE_PARTICIPANT_JOINED,T)},this.onRemoteParticipantJoined=T=>{var O;if(T.id!==((O=this.localParticipant)===null||O===void 0?void 0:O.info.id)){const N=function(F){return{id:F.id,userId:F.userId,attributes:F.attributes,capabilities:new Set([ba.SUBSCRIBE]),isLocal:!1,userInfo:{},videoStopped:F.videoStopped,audioMuted:F.audioMuted,isPublishing:F.isPublishing}}(T);if(this.participants.has(N.id))return void this.logger.warn({msg:"Remote participant already tracked"});let M=ki.NONE;N.capabilities.has(ba.SUBSCRIBE)&&(M=ot.getOk_or(this.strategyWrapper.shouldSubscribeToParticipant(N),M),this.updateManagerWithExternalSubscribeConfig(N,"joined"));const L=this.configManager.getSubscribeConfigSnapshot(N.id),A=new vs(N,this.token,this.stageConnection,this.logger.unwrap(),M,L,this.analyticsTracker,T.isPublishing);this.participants.set(N.id,A),this.setupRemoteParticipantListeners(A),this.emit(In.STAGE_PARTICIPANT_JOINED,A.info),A.updateSubscribeStateIfNecessary(M)}},this.setupRemoteParticipantListeners=T=>{T.on(Oi.SUBSCRIPTION_STATE_CHANGE,O=>{this.onParticipantSubscribeStateChanged(T.info.id,O)}),T.on(Oi.MEDIA_STREAM_ADDED,O=>{const N=this.participants.get(T.info.id);if(N){for(const M of O)this.setupRemoteParticipantStreamEvents(N.info,M);this.emit(In.STAGE_PARTICIPANT_STREAMS_ADDED,N.info,Tg(O)),this.updateStreamLayerForParticipant(T)}else this.logger.warn({msg:"Got stream add for participant no longer being tracked"})}),T.on(Oi.MEDIA_STREAM_REMOVED,O=>{const N=this.participants.get(T.info.id);N?this.emit(In.STAGE_PARTICIPANT_STREAMS_REMOVED,N.info,Tg(O)):this.logger.warn({msg:"Got stream remove for participant no longer being tracked"})}),T.on(Oi.MEDIA_STREAM_MUTE_CHANGED,O=>{this.onStreamMuteChange(T.info,O.remote)}),T.on(Oi.ERROR,O=>{this.errorManager.handleError(O,ya.SUBSCRIBE_ERROR)}),T.on(Oi.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,O=>{this.onSeiMessageReceived(T.info,O)})},this.onRemoteParticipantLeft=T=>{if(this.connectionState!==Wn.CONNECTED)return;const O=this.participants.get(T);O?(O.participantLeave(),O.unsubscribe(),O.cleanup(),this.participants.delete(T),this.emitParticipantLeave(O.info)):this.logger.warn({msg:"Remote participant no longer tracked"})},this.emitParticipantLeave=T=>{this.emit(In.STAGE_PARTICIPANT_LEFT,T)},this.onRemoteParticipantStateChanged=T=>{const O=this.participants.get(T.id);if(!O)return void this.logger.warn({msg:"Remote participant updated but not tracked"});O.updatePublishState(T.isPublishing)&&this.onPublishStateChanged(O.info,O.publishState),O.updateStreamState(T.audioMuted,T.videoStopped);const N=this.strategyWrapper.shouldSubscribeToParticipant(O.info);if(ot.isNotOk(N))return;this.updateManagerWithExternalSubscribeConfig(O.info,"updated");const M=this.configManager.getSubscribeConfigSnapshot(O.info.id),L=ot.getOk_or(N,ki.NONE);O.updateSubscribeStateIfNecessary(L,M)},this.onPublishStateChanged=(T,O)=>{this.emit(In.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,T,O)},this.onParticipantSubscribeStateChanged=(T,O)=>{const N=this.participants.get(T);N?this.emit(In.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED,N.info,O):this.logger.warn({msg:"Remote participant subscribe state changed but not tracked"})},this.onLocalStreamsAdded=T=>{this.localParticipant&&this.emit(In.STAGE_PARTICIPANT_STREAMS_ADDED,this.localParticipant.info,T)},this.onLocalStreamsRemoved=T=>{this.localParticipant&&this.emit(In.STAGE_PARTICIPANT_STREAMS_REMOVED,this.localParticipant.info,T)},this.onStreamMuteChange=(T,O)=>{this.emit(In.STAGE_STREAM_MUTE_CHANGED,T,O)},this.onSeiMessageReceived=(T,O)=>{this.emit(In.STAGE_STREAM_SEI_MESSAGE_RECEIVED,T,O)},this.leave=()=>{this.cleanup(qn.USER_INITIATED)},this.onBeforeUnloadCleanup=()=>{var T;this.participants.forEach(O=>{O.quickUnsubscribe()}),(T=this.localParticipant)===null||T===void 0||T.quickUnpublish(),this.stageConnection.disconnect(),this.emit(In.STAGE_CONNECTION_STATE_CHANGED,Wn.DISCONNECTED),this.analyticsTracker.stop(!0)},this.cleanup=T=>{if(!this.localParticipant)return;this.analyticsTracker.trackEventNoSharedProps(new Rh({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId,reason:T})),this.localParticipant.unpublish(),this.localParticipant.cleanup();const O=this.localParticipant.info;this.localParticipant=void 0,this.emitParticipantLeave(O);const N=this.participants.entries();for(const[M,L]of N)L.unsubscribe(),this.participants.delete(M),L.cleanup(),this.emitParticipantLeave(L.info);Xl.destroy(),this.stageConnection.disconnect(),this.emit(In.STAGE_CONNECTION_STATE_CHANGED,Wn.DISCONNECTED),this.emit(In.STAGE_LEFT,T),this.stageConnection.removeAllListeners(),this.stageConnection=new Wh(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners(),this.analyticsTracker.stop(!1),window.removeEventListener("beforeunload",this.onBeforeUnloadCleanup)},this.refreshStrategy=()=>{this.participants.forEach(T=>{if(T.info.capabilities.has(ba.SUBSCRIBE)){const O=this.strategyWrapper.shouldSubscribeToParticipant(T.info);if(ot.isNotOk(O))return;const N=ot.getOk_or(O,ki.NONE);this.updateManagerWithExternalSubscribeConfig(T.info,"updated");const M=this.configManager.getSubscribeConfigSnapshot(T.info.id);T.updateSubscribeStateIfNecessary(N,M),this.updateStreamLayerForParticipant(T)}}),this.updateStreamsToPublishIfNecessary()},this.updateStreamsToPublishIfNecessary=()=>{var T;if(!this.localParticipant||!(!((T=this.localParticipant)===null||T===void 0)&&T.info.capabilities.has(ba.PUBLISH)))return;const O=this.localParticipant.publishState!==Or.NOT_PUBLISHED&&this.localParticipant.publishState!==Or.ERRORED,N=this.strategyWrapper.shouldPublishParticipant(this.localParticipant.info);if(ot.isNotOk(N))return;let M=ot.getOk_or(N,!1);if(!O&&!M)return;if(O&&!M)return void this.localParticipant.unpublish();const L=this.strategyWrapper.stageStreamsToPublish();if(ot.isNotOk(L)){const F=ot.getErr(L);if(F instanceof Error&&F.cause==="UserStrategy")throw F;return}const A=ot.getOk_or(L,[]);M=M&&A.length>0,!O&&M?(this.localParticipant.publish(A),this.onLocalStreamsAdded(A)):this.syncTracksToPublish(A)},this.syncTracksToPublish=T=>{var O;if(!this.localParticipant)return;const N=this.localParticipant.audioStream,M=this.localParticipant.videoStream,{updates:L,streamsToAdd:A,streamsToRemove:F}=this.determineStreamUpdates(N,M,T);if(L.length){for(const B of L)B.newStream?(O=this.localParticipant)===null||O===void 0||O.replaceOrAddTrack(B.newStream):B.oldStream&&this.localParticipant.removeTrack(B.oldStream);F.length!==0&&this.onLocalStreamsRemoved(F),A.length!==0&&this.onLocalStreamsAdded(A)}},this.determineStreamUpdates=(T,O,N=[])=>{const M=[],L=N.slice(0,2);if(L.sort((B,W)=>B.streamType===me.AUDIO?-1:1),L.length===0)T&&M.push({oldStream:T}),O&&M.push({oldStream:O});else if(L.length===1){const B=L[0];B.streamType===me.AUDIO?O&&M.push({oldStream:O}):B.streamType===me.VIDEO&&T&&M.push({oldStream:T})}L.forEach(B=>{var W,ie;B.streamType===me.AUDIO?T?T.id===B.id&&(0,wr.isEqual)(T.mediaConfig,B.mediaConfig)||(!!(!((W=T.mediaConfig)===null||W===void 0)&&W.stereo)!=!!(!((ie=B.mediaConfig)===null||ie===void 0)&&ie.stereo)&&this.logger.warn({msg:"Ignoring change to audio stream's stereo configuration. Re-publish to change stereo configuraiton."}),M.push({oldStream:T,newStream:B})):M.push({newStream:B}):B.streamType===me.VIDEO&&(O?O.id===B.id&&(0,wr.isEqual)(O.mediaConfig,B.mediaConfig)||M.push({oldStream:O,newStream:B}):M.push({newStream:B}))});const A=M.map(B=>B.newStream).filter(Ng),F=M.map(B=>B.oldStream).filter(Ng);return{updates:M,streamsToAdd:A,streamsToRemove:F}},this.onReassignmentMessage=T=>_o(this,void 0,void 0,function*(){if($a("disableReassignments"))return void this.logger.debug({msg:"REASSIGN message ignored: disableReassignments is configured"});if(!Ud.browser.isChrome())return void this.logger.debug({msg:"REASSIGN message ignored: browser is not chrome"});const O=Xi();this.trackReassignmentRequest(T,O);const N=this.participants.get(T.remoteParticipantId),M=this.token.participantID,L=function(A,{localParticipantId:F,remoteParticipant:B}){const{participantId:W}=A;if(F!==W)return ot.err(Object.assign(Object.assign({},Ae.REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID),{details:`Invalid participantId received: ${W}`}));if(!B)return ot.err(Object.assign(Object.assign({},Ae.REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID),{details:`Invalid remoteParticipantId received: ${B}`}));if(B.isReassigning())return ot.err(Ae.REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS);const ie=B.subscription.peerClient.getConnectionState();return[gt.CONNECTED,gt.DISCONNECTED].includes(ie)?ot.ok(B):ot.err(Object.assign(Object.assign({},Ae.REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE),{details:`connectionState: ${ie}`}))}(T,{localParticipantId:M,remoteParticipant:N});if(!L.ok)this.trackReassignmentRequestRejected(L.error,O);else try{const{token:A,nodeOverride:F}=T;yield L.value.triggerIceRestart({assignmentToken:A,traceId:O,nodeOverride:F})}catch(A){this.logger.error({msg:"Reassignment failed.",err:A})}}),this.onIncompatibleCodecsMessage=T=>_o(this,void 0,void 0,function*(){var O;yield(O=this.localParticipant)===null||O===void 0?void 0:O.onIncompatibleCodecs(T.codecs)}),this.analyticsTracker=new Ic;const b=Om();this.logger=new mo(new Dm(b),kn.STAGE),this.strategyWrapper=new Qh(g,this.logger),this.configManager=new R0({logger:this.logger.unwrap(),subscribeDefaults:{jitterBuffer:{minDelayWhenPublishing:_i.DEFAULT,minDelayWhenSubscribeOnly:_i.DEFAULT},inBandMessaging:{enabled:!1},simulcast:{initialLayerPreference:Hl.LOWEST_QUALITY}}}),this.errorManager=new Fw(this.logger.unwrap());try{this.token=bo(h,this.analyticsTracker)}catch(T){const O=new Zt(Object.assign({action:Ge.JOIN,token:h,traceId:Xi(),tag:Nd,location:"Stage.constructor"},Ae.MALFORMED_TOKEN));throw T instanceof Error&&(O.details=T.message),this.errorManager.handleError(O,ya.JOIN_ERROR)||T}this.stageConnection=new Wh(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners()}setupListeners(){this.stageConnection.on(da,(h,g)=>{this.onConnectionStateChanged(h,g)}),this.stageConnection.on(Oh,h=>{this.onRemoteParticipantJoined(h)}),this.stageConnection.on(Ph,h=>{this.onRemoteParticipantLeft(h.id)}),this.stageConnection.on(Nh,h=>{var g;h.id!==((g=this.localParticipant)===null||g===void 0?void 0:g.info.id)&&this.onRemoteParticipantStateChanged(h)}),this.stageConnection.on(H,h=>_o(this,void 0,void 0,function*(){yield this.onReassignmentMessage(h)})),this.stageConnection.on(Mc,h=>_o(this,void 0,void 0,function*(){yield this.onIncompatibleCodecsMessage(h)})),this.stageConnection.on($m,h=>{h instanceof Zt&&this.analyticsTracker.trackError(h),this.errorManager.handleError(h,ya.JOIN_ERROR)}),this.errorManager.on(Kh.ERROR,h=>{this.emit(In.ERROR,h)})}setupRemoteParticipantStreamEvents(h,g){const b=g.remote;g.on(ms.ADAPTION_CHANGED,T=>{this.emit(In.STAGE_STREAM_ADAPTION_CHANGED,h,b,T)}),g.on(ms.LAYERS_CHANGED,T=>{this.emit(In.STAGE_STREAM_LAYERS_CHANGED,h,b,T)}),g.on(ms.LAYER_SELECTED,(T,O)=>{this.emit(In.STAGE_STREAM_LAYER_SELECTED,h,b,T,O)}),g.layers.length>0&&(this.emit(In.STAGE_STREAM_LAYERS_CHANGED,h,b,b.getLayers()),this.emit(In.STAGE_STREAM_LAYER_SELECTED,h,b,b.getSelectedLayer(),tu.SELECTED))}join(){return _o(this,void 0,void 0,function*(){this.analyticsTracker.start(),this.joinTraceId=Xi(),this.analyticsTracker.trackEvent(new y0({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId}));try{this.token.assertTokenIsUnexpired(Xi(),Nd,"join")}catch(h){throw this.errorManager.handleError(h,ya.JOIN_ERROR)||h}try{this.joinTraceId=yield this.stageConnection.connect(this.joinTraceId),this.connectionState===Wn.CONNECTED&&(this.setupLocalParticipantOnce(),this.updateStreamsToPublishIfNecessary()),window.addEventListener("beforeunload",this.onBeforeUnloadCleanup)}catch(h){throw this.logger.error({err:h,msg:"error joining stage"}),this.errorManager.handleError(h,ya.JOIN_ERROR,!1)||h}})}replaceStrategy(h){this.strategyWrapper.setStrategy(h),this.refreshStrategy()}updateManagerWithExternalSubscribeConfig(h,g){const b=ot.getOk(this.strategyWrapper.subscribeConfiguration(h));if(b===void 0)return;const T=h.id;if(this.configManager.handleExternalSubscribeConfigUpdate(T,b,Xd.API)){const O=this.configManager.getSubscribeConfigSnapshot(T);this.analyticsTracker.trackEventNoSharedProps(new Bo(this.token,this.joinTraceId,{trigger:g==="joined"?"initial":"ad-hoc",remote_participant_id:T,min_delay_when_publishing:$o(O.jitterBuffer.minDelayWhenPublishing,!0),min_delay_when_subscribe_only:$o(O.jitterBuffer.minDelayWhenSubscribeOnly,!1),in_band_messaging_enabled:O.inBandMessaging.enabled,simulcast_initial_layer_preference:O.simulcast.initialLayerPreference}))}}updateStreamLayerForParticipant(h){h.streams.forEach(g=>{if(g.streamType==="audio")return;const b=this.strategyWrapper.preferredLayerForStream(h.info,g.remote),T=ot.getOk_or(b,void 0);g.setLayer(T)})}trackReassignmentRequestRejected(h,g){const{token:b}=this,T=new Zt(Object.assign(Object.assign({},h),{token:b,action:Ge.JOIN,traceId:g,tag:Ad,location:"publish"}));this.logger.error({err:T,msg:"Reassignment request rejected."}),this.analyticsTracker.trackError(T)}trackReassignmentRequest(h,g){const{token:b}=this;this.analyticsTracker.trackEvent(new Yh({token:b,traceId:g,targetLocalParticipantId:h.participantId,targetRemoteParticipantId:h.remoteParticipantId}))}}var qn;(function(S){S.UNKNOWN="unknown",S.USER_INITIATED="user-initiated",S.TOKEN_REUSED="token-reused",S.PARTICIPANT_DISCONNECTED="participant-disconnected",S.STAGE_DELETED="stage-deleted"})(qn||(qn={}));const Pr=p})(),o})())})(B4);var $4=B4.exports;const aae=Yf($4),cae=()=>{const e=P.useRef(null),[t,n]=P.useState(null),[r,i]=P.useState(!1),{toast:o}=Tc(),s=Sl(),c="rtmps://6b879004354a.global-contribute.live-video.net:443/app/",a="sk_ap-south-1_4LeRY8OAJOep_ZX2Eci4lRcTxA8SND1PngxjmaeNKSY";P.useEffect(()=>{var m;const p=aae.create({streamConfig:$4.BASIC_LANDSCAPE,ingestEndpoint:c});return n(p),e.current&&p.attachPreview(e.current),(m=navigator.mediaDevices)==null||m.enumerateDevices().then(E=>{var w,R;const x=E.filter(_=>_.kind==="videoinput"),y=E.filter(_=>_.kind==="audioinput");navigator.mediaDevices.getUserMedia({video:{deviceId:(w=x[0])==null?void 0:w.deviceId},audio:{deviceId:(R=y[0])==null?void 0:R.deviceId}}).then(_=>{p.addVideoInputDevice(_,"camera1",{index:0,width:1280,height:720,x:-200,y:0}),p.addAudioInputDevice(_,"mic1")}).catch(_=>console.error("Error accessing media devices:",_))}).catch(E=>console.error("Error enumerating devices:",E)),()=>{p.stopBroadcast()}},[]);const l=async()=>{t&&(await t.startBroadcast(a),i(!0))},f=async()=>{try{const p=await mr.post(Hv+Q8,{},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});t&&(await t.stopBroadcast(),i(!1)),s("/dashboard/upcomingLive"),o({title:"Live Stopped",description:"Live stopped Successfully"})}catch(p){o({title:"Live error",description:p.response.data.error||"Something went wrong"})}};return u.jsxs("div",{children:[u.jsx("div",{className:"w-full h-[80vh]",children:u.jsx("canvas",{ref:e,className:"w-full h-full",style:{border:"2px solid black"}})}),r?u.jsx("button",{onClick:f,style:{padding:"10px",margin:"10px",backgroundColor:"red",color:"white"},children:"Stop Live"}):u.jsx("button",{onClick:l,style:{padding:"10px",margin:"10px",backgroundColor:"ButtonText",color:"white"},children:"Start Live"})]})},lae=Of({title:Vn().min(1,"Title is required"),standard:Vn().min(1,"Standard is required"),boardId:Vn().min(1,"Board is required"),startDate:Vn().min(1,"Start date is required")}),uae=({isOpen:e,onClose:t,refetch:n=()=>{}})=>{const{standards:r,isLoading:i}=Mn(f=>f.standard),{board:o,isLoading:s}=Mn(f=>f.board),c=Yn();P.useEffect(()=>{c(cl()),c(Nf())},[]);const a=th({resolver:Ay(lae),defaultValues:{title:"",standard:"",boardId:"",startDate:""},mode:"onChange"}),l=async f=>{console.log("Data submitted:",f);try{const p=await mr.post(Hv+K8,f,{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});n(),t()}catch(p){console.error("Error creating upcoming live:",p)}};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Live Details"}),u.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-gray-200 transition-colors",children:u.jsx(ad,{size:20})})]}),u.jsx(nh,{...a,children:u.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6 p-10",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(nn,{control:a.control,name:"title",render:({field:f})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Title"}),u.jsx(vn,{children:u.jsx(sn,{placeholder:"Course title",...f})}),u.jsx(Vt,{})]})}),u.jsx(nn,{control:a.control,name:"startDate",render:({field:f})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Start Date"}),u.jsx(vn,{children:u.jsx(sn,{type:"datetime-local",...f,value:f.value||""})}),u.jsx(Vt,{})]})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.jsx(nn,{control:a.control,name:"standard",render:({field:f})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Standard"}),i?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select standard",name:"standard",control:a.control,onSearch:()=>{},listing:r.map(p=>({id:p._id,label:p.std})),onItemSelect:p=>{},value:f.value||""}),u.jsx(Vt,{})]})})}),u.jsx(nn,{control:a.control,name:"boardId",render:({field:f})=>u.jsxs(Bt,{children:[u.jsx($t,{children:"Board"}),s?u.jsx("div",{children:"Loading..."}):u.jsx($u,{placeholder:"Select board",name:"boardId",control:a.control,onSearch:()=>{},listing:o.map(p=>({id:p._id,label:p.boardname})),onItemSelect:p=>{console.log("Selected board ID:",p)},value:f.value||""}),u.jsx(Vt,{})]})}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})})]})}):null};function dae(){const[e,t]=P.useState(!1),{toast:n}=Tc(),r=Sl(),[i,o]=P.useState([]),s=async()=>{try{const l=(await mr.get(Hv+q8,{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}})).data.data;o(l)}catch(a){console.error("Error fetching UpcomingLive:",a),o([])}};P.useEffect(()=>{s()},[]);const c=async a=>{var l,f;try{const p=await mr.post(Hv+Y8(a),{},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});(f=(l=p==null?void 0:p.data)==null?void 0:l.data)!=null&&f.isLive&&(s(),r(`/dashboard/live/${a}`),n({title:"Toast Created",description:"The Live is Started successfully"}))}catch(p){n({title:"Live error",description:p.response.data.error||"Something went wrong"})}};return u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upcoming Live"}),u.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Add Up Coming Live"})]}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(As,{children:[u.jsx(js,{children:u.jsxs(Tn,{children:[u.jsx(qe,{children:"Title"}),u.jsx(qe,{children:"Standard"}),u.jsx(qe,{children:"Board"}),u.jsx(qe,{children:"Stream Key"}),u.jsx(qe,{children:"Start Date"}),u.jsx(qe,{children:"Is Live"}),u.jsx(qe,{children:"Actions"})]})}),u.jsx(Ds,{children:i.length>0?i.map(a=>{var l,f;return console.log(a),u.jsxs(Tn,{children:[u.jsx(Fe,{children:a==null?void 0:a.title}),u.jsx(Fe,{children:(l=a==null?void 0:a.standard)==null?void 0:l.std}),u.jsx(Fe,{children:(f=a==null?void 0:a.boardId)==null?void 0:f.boardname}),u.jsx(Fe,{children:a==null?void 0:a.streamKey}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(a==null?void 0:a.startDate).toLocaleDateString()}),u.jsx("span",{children:new Date(a==null?void 0:a.startDate).toLocaleTimeString()})]})}),u.jsx(Fe,{children:a!=null&&a.isLive?"Yes":"No"}),u.jsx(Fe,{children:u.jsx("button",{onClick:()=>c(a==null?void 0:a._id),className:"px-2 py-1 bg-blue-600 text-white rounded-md text-sm",children:"Go Live"})})]},a==null?void 0:a._id)}):u.jsx(Tn,{children:u.jsx(Fe,{className:"text-center",children:"No Upcoming Live Streams"})})})]})}),u.jsx(uae,{isOpen:e,onClose:()=>t(!1),refetch:s})]})}const fae=({children:e})=>Gi.get("accessToken")?u.jsx(u.Fragment,{children:e}):u.jsx(gT,{to:"/login"}),hae=()=>{const e=Gi.get("accessToken");return u.jsxs(u.Fragment,{children:[u.jsx(BV,{children:u.jsxs(IV,{children:[u.jsx(Gr,{path:"/checkout",element:u.jsx(bse,{})}),u.jsx(Gr,{path:"/payment-status/:status",element:u.jsx(xse,{})}),u.jsx(Gr,{path:"/login",element:e?u.jsx(gT,{to:"/dashboard",replace:!0}):u.jsx(qH,{})}),u.jsxs(Gr,{path:"/dashboard",element:u.jsx(fae,{children:u.jsx(SK,{})}),children:[u.jsx(Gr,{index:!0,element:u.jsx("div",{className:"page-transition",children:u.jsx(sZ,{})})}),u.jsx(Gr,{path:"users",element:u.jsx(oJ,{})}),u.jsx(Gr,{path:"userDetails/:id",element:u.jsx(nae,{})}),u.jsx(Gr,{path:"quiz",element:u.jsx(ZJ,{})}),u.jsx(Gr,{path:"payments",element:u.jsx(rZ,{})}),u.jsx(Gr,{path:"transaction",element:u.jsx(sae,{})}),u.jsx(Gr,{path:"activity",element:u.jsx(use,{})}),u.jsx(Gr,{path:"standard",element:u.jsx(sse,{})}),u.jsx(Gr,{path:"subject",element:u.jsx(Use,{})}),u.jsx(Gr,{path:"board",element:u.jsx(ose,{})}),u.jsx(Gr,{path:"lesson",element:u.jsx(mee,{})}),u.jsx(Gr,{path:"course",element:u.jsx(bee,{})}),u.jsx(Gr,{path:"mentor",element:u.jsx(Rse,{})}),u.jsx(Gr,{path:"offer",element:u.jsx(Lse,{})}),u.jsx(Gr,{path:"live/:liveId",element:u.jsx(cae,{})}),u.jsx(Gr,{path:"upcomingLive",element:u.jsx(dae,{})})]}),u.jsx(Gr,{path:"*",element:u.jsx(gT,{to:"/dashboard",replace:!0})})]})}),u.jsx(W6,{})]})},pae=J9({reducer:{auth:xH,activity:lse,standard:VJ,subject:HJ,board:dee,course:cee,quiz:YJ,lesson:lZ,user:EK,payment:nZ,mentore:Tse,offer:Pse,userDetail:Xse,transaction:oae}}),mae=new U5;CD(document.getElementById("root")).render(u.jsx($5,{client:mae,children:u.jsx(VH,{store:pae,children:u.jsx(hae,{})})}))});export default gae();
