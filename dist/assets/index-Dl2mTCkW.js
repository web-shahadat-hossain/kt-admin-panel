var GB=Object.defineProperty;var vO=e=>{throw TypeError(e)};var qB=(e,t,r)=>t in e?GB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var KB=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Hw=(e,t,r)=>qB(e,typeof t!="symbol"?t+"":t,r),Gw=(e,t,r)=>t.has(e)||vO("Cannot "+r);var Oe=(e,t,r)=>(Gw(e,t,"read from private field"),r?r.call(e):t.get(e)),Br=(e,t,r)=>t.has(e)?vO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),dr=(e,t,r,n)=>(Gw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ns=(e,t,r)=>(Gw(e,t,"access private method"),r);var V0=(e,t,r,n)=>({set _(i){dr(e,t,i,r)},get _(){return Oe(e,t,n)}});var gae=KB((So,wo)=>{function YB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hI={exports:{}},q_={},pI={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py=Symbol.for("react.element"),QB=Symbol.for("react.portal"),JB=Symbol.for("react.fragment"),XB=Symbol.for("react.strict_mode"),ZB=Symbol.for("react.profiler"),e3=Symbol.for("react.provider"),t3=Symbol.for("react.context"),r3=Symbol.for("react.forward_ref"),n3=Symbol.for("react.suspense"),i3=Symbol.for("react.memo"),s3=Symbol.for("react.lazy"),yO=Symbol.iterator;function o3(e){return e===null||typeof e!="object"?null:(e=yO&&e[yO]||e["@@iterator"],typeof e=="function"?e:null)}var mI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gI=Object.assign,vI={};function am(e,t,r){this.props=e,this.context=t,this.refs=vI,this.updater=r||mI}am.prototype.isReactComponent={};am.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};am.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yI(){}yI.prototype=am.prototype;function CR(e,t,r){this.props=e,this.context=t,this.refs=vI,this.updater=r||mI}var TR=CR.prototype=new yI;TR.constructor=CR;gI(TR,am.prototype);TR.isPureReactComponent=!0;var bO=Array.isArray,bI=Object.prototype.hasOwnProperty,RR={current:null},xI={key:!0,ref:!0,__self:!0,__source:!0};function _I(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)bI.call(t,n)&&!xI.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var a=Array(c),l=0;l<c;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:py,type:e,key:s,ref:o,props:i,_owner:RR.current}}function a3(e,t){return{$$typeof:py,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kR(e){return typeof e=="object"&&e!==null&&e.$$typeof===py}function c3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xO=/\/+/g;function qw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c3(""+e.key):t.toString(36)}function yb(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case py:case QB:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+qw(o,0):n,bO(i)?(r="",e!=null&&(r=e.replace(xO,"$&/")+"/"),yb(i,t,r,"",function(l){return l})):i!=null&&(kR(i)&&(i=a3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xO,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",bO(e))for(var c=0;c<e.length;c++){s=e[c];var a=n+qw(s,c);o+=yb(s,t,r,a,i)}else if(a=o3(e),typeof a=="function")for(e=a.call(e),c=0;!(s=e.next()).done;)s=s.value,a=n+qw(s,c++),o+=yb(s,t,r,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function z0(e,t,r){if(e==null)return e;var n=[],i=0;return yb(e,n,"","",function(s){return t.call(r,s,i++)}),n}function l3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Is={current:null},bb={transition:null},u3={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:bb,ReactCurrentOwner:RR};function SI(){throw Error("act(...) is not supported in production builds of React.")}Sr.Children={map:z0,forEach:function(e,t,r){z0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return z0(e,function(){t++}),t},toArray:function(e){return z0(e,function(t){return t})||[]},only:function(e){if(!kR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Sr.Component=am;Sr.Fragment=JB;Sr.Profiler=ZB;Sr.PureComponent=CR;Sr.StrictMode=XB;Sr.Suspense=n3;Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u3;Sr.act=SI;Sr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gI({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=RR.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)bI.call(t,a)&&!xI.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){c=Array(a);for(var l=0;l<a;l++)c[l]=arguments[l+2];n.children=c}return{$$typeof:py,type:e.type,key:i,ref:s,props:n,_owner:o}};Sr.createContext=function(e){return e={$$typeof:t3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e3,_context:e},e.Consumer=e};Sr.createElement=_I;Sr.createFactory=function(e){var t=_I.bind(null,e);return t.type=e,t};Sr.createRef=function(){return{current:null}};Sr.forwardRef=function(e){return{$$typeof:r3,render:e}};Sr.isValidElement=kR;Sr.lazy=function(e){return{$$typeof:s3,_payload:{_status:-1,_result:e},_init:l3}};Sr.memo=function(e,t){return{$$typeof:i3,type:e,compare:t===void 0?null:t}};Sr.startTransition=function(e){var t=bb.transition;bb.transition={};try{e()}finally{bb.transition=t}};Sr.unstable_act=SI;Sr.useCallback=function(e,t){return Is.current.useCallback(e,t)};Sr.useContext=function(e){return Is.current.useContext(e)};Sr.useDebugValue=function(){};Sr.useDeferredValue=function(e){return Is.current.useDeferredValue(e)};Sr.useEffect=function(e,t){return Is.current.useEffect(e,t)};Sr.useId=function(){return Is.current.useId()};Sr.useImperativeHandle=function(e,t,r){return Is.current.useImperativeHandle(e,t,r)};Sr.useInsertionEffect=function(e,t){return Is.current.useInsertionEffect(e,t)};Sr.useLayoutEffect=function(e,t){return Is.current.useLayoutEffect(e,t)};Sr.useMemo=function(e,t){return Is.current.useMemo(e,t)};Sr.useReducer=function(e,t,r){return Is.current.useReducer(e,t,r)};Sr.useRef=function(e){return Is.current.useRef(e)};Sr.useState=function(e){return Is.current.useState(e)};Sr.useSyncExternalStore=function(e,t,r){return Is.current.useSyncExternalStore(e,t,r)};Sr.useTransition=function(){return Is.current.useTransition()};Sr.version="18.3.1";pI.exports=Sr;var P=pI.exports;const ht=Kf(P),wI=YB({__proto__:null,default:ht},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=P,f3=Symbol.for("react.element"),h3=Symbol.for("react.fragment"),p3=Object.prototype.hasOwnProperty,m3=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g3={key:!0,ref:!0,__self:!0,__source:!0};function EI(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)p3.call(t,n)&&!g3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:f3,type:e,key:s,ref:o,props:i,_owner:m3.current}}q_.Fragment=h3;q_.jsx=EI;q_.jsxs=EI;hI.exports=q_;var d=hI.exports,CI={exports:{}},No={},TI={exports:{}},RI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,Q){var re=Y.length;Y.push(Q);e:for(;0<re;){var fe=re-1>>>1,Te=Y[fe];if(0<i(Te,Q))Y[fe]=Q,Y[re]=Te,re=fe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],re=Y.pop();if(re!==Q){Y[0]=re;e:for(var fe=0,Te=Y.length,He=Te>>>1;fe<He;){var Le=2*(fe+1)-1,xt=Y[Le],zt=Le+1,Ke=Y[zt];if(0>i(xt,re))zt<Te&&0>i(Ke,xt)?(Y[fe]=Ke,Y[zt]=re,fe=zt):(Y[fe]=xt,Y[Le]=re,fe=Le);else if(zt<Te&&0>i(Ke,re))Y[fe]=Ke,Y[zt]=re,fe=zt;else break e}}return Q}function i(Y,Q){var re=Y.sortIndex-Q.sortIndex;return re!==0?re:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var a=[],l=[],h=1,p=null,g=3,E=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var Q=r(l);Q!==null;){if(Q.callback===null)n(l);else if(Q.startTime<=Y)n(l),Q.sortIndex=Q.expirationTime,t(a,Q);else break;Q=r(l)}}function A(Y){if(y=!1,C(Y),!_)if(r(a)!==null)_=!0,_e(L);else{var Q=r(l);Q!==null&&ve(A,Q.startTime-Y)}}function L(Y,Q){_=!1,y&&(y=!1,R(z),z=-1),E=!0;var re=g;try{for(C(Q),p=r(a);p!==null&&(!(p.expirationTime>Q)||Y&&!X());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,g=p.priorityLevel;var Te=fe(p.expirationTime<=Q);Q=e.unstable_now(),typeof Te=="function"?p.callback=Te:p===r(a)&&n(a),C(Q)}else n(a);p=r(a)}if(p!==null)var He=!0;else{var Le=r(l);Le!==null&&ve(A,Le.startTime-Q),He=!1}return He}finally{p=null,g=re,E=!1}}var U=!1,B=null,z=-1,G=5,J=-1;function X(){return!(e.unstable_now()-J<G)}function q(){if(B!==null){var Y=e.unstable_now();J=Y;var Q=!0;try{Q=B(!0,Y)}finally{Q?ee():(U=!1,B=null)}}else U=!1}var ee;if(typeof S=="function")ee=function(){S(q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,xe=ce.port2;ce.port1.onmessage=q,ee=function(){xe.postMessage(null)}}else ee=function(){w(q,0)};function _e(Y){B=Y,U||(U=!0,ee())}function ve(Y,Q){z=w(function(){Y(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){_||E||(_=!0,_e(L))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var re=g;g=Q;try{return Y()}finally{g=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=g;g=Y;try{return Q()}finally{g=re}},e.unstable_scheduleCallback=function(Y,Q,re){var fe=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?fe+re:fe):re=fe,Y){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=re+Te,Y={id:h++,callback:Q,priorityLevel:Y,startTime:re,expirationTime:Te,sortIndex:-1},re>fe?(Y.sortIndex=re,t(l,Y),r(a)===null&&Y===r(l)&&(y?(R(z),z=-1):y=!0,ve(A,re-fe))):(Y.sortIndex=Te,t(a,Y),_||E||(_=!0,_e(L))),Y},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(Y){var Q=g;return function(){var re=g;g=Q;try{return Y.apply(this,arguments)}finally{g=re}}}})(RI);TI.exports=RI;var v3=TI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3=P,Ro=v3;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kI=new Set,kv={};function Yf(e,t){Bp(e,t),Bp(e+"Capture",t)}function Bp(e,t){for(kv[e]=t,e=0;e<t.length;e++)kI.add(t[e])}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SC=Object.prototype.hasOwnProperty,b3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_O={},SO={};function x3(e){return SC.call(SO,e)?!0:SC.call(_O,e)?!1:b3.test(e)?SO[e]=!0:(_O[e]=!0,!1)}function _3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S3(e,t,r,n){if(t===null||typeof t>"u"||_3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function js(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ki[e]=new js(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ki[t]=new js(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ki[e]=new js(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ki[e]=new js(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ki[e]=new js(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ki[e]=new js(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ki[e]=new js(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ki[e]=new js(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ki[e]=new js(e,5,!1,e.toLowerCase(),null,!1,!1)});var OR=/[\-:]([a-z])/g;function PR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OR,PR);Ki[t]=new js(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OR,PR);Ki[t]=new js(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OR,PR);Ki[t]=new js(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ki[e]=new js(e,1,!1,e.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ki[e]=new js(e,1,!1,e.toLowerCase(),null,!0,!0)});function NR(e,t,r,n){var i=Ki.hasOwnProperty(t)?Ki[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S3(t,r,i,n)&&(r=null),n||i===null?x3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xl=y3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W0=Symbol.for("react.element"),ip=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),AR=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),OI=Symbol.for("react.provider"),PI=Symbol.for("react.context"),IR=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),jR=Symbol.for("react.memo"),pu=Symbol.for("react.lazy"),NI=Symbol.for("react.offscreen"),wO=Symbol.iterator;function Dg(e){return e===null||typeof e!="object"?null:(e=wO&&e[wO]||e["@@iterator"],typeof e=="function"?e:null)}var zn=Object.assign,Kw;function Xg(e){if(Kw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kw=t&&t[1]||""}return`
`+Kw+e}var Yw=!1;function Qw(e,t){if(!e||Yw)return"";Yw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,c=s.length-1;1<=o&&0<=c&&i[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==s[c]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=c);break}}}finally{Yw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xg(e):""}function w3(e){switch(e.tag){case 5:return Xg(e.type);case 16:return Xg("Lazy");case 13:return Xg("Suspense");case 19:return Xg("SuspenseList");case 0:case 2:case 15:return e=Qw(e.type,!1),e;case 11:return e=Qw(e.type.render,!1),e;case 1:return e=Qw(e.type,!0),e;default:return""}}function TC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sp:return"Fragment";case ip:return"Portal";case wC:return"Profiler";case AR:return"StrictMode";case EC:return"Suspense";case CC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PI:return(e.displayName||"Context")+".Consumer";case OI:return(e._context.displayName||"Context")+".Provider";case IR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jR:return t=e.displayName||null,t!==null?t:TC(e.type)||"Memo";case pu:t=e._payload,e=e._init;try{return TC(e(t))}catch{}}return null}function E3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TC(t);case 8:return t===AR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function AI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C3(e){var t=AI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function H0(e){e._valueTracker||(e._valueTracker=C3(e))}function II(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=AI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Nx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function RC(e,t){var r=t.checked;return zn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function EO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jI(e,t){t=t.checked,t!=null&&NR(e,"checked",t,!1)}function kC(e,t){jI(e,t);var r=Yu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?OC(e,t.type,r):t.hasOwnProperty("defaultValue")&&OC(e,t.type,Yu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function OC(e,t,r){(t!=="number"||Nx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zg=Array.isArray;function vp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return zn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ue(92));if(Zg(r)){if(1<r.length)throw Error(Ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yu(r)}}function DI(e,t){var r=Yu(t.value),n=Yu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function RO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var G0,LI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(G0=G0||document.createElement("div"),G0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=G0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ov(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T3=["Webkit","ms","Moz","O"];Object.keys(lv).forEach(function(e){T3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lv[t]=lv[e]})});function FI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lv.hasOwnProperty(e)&&lv[e]?(""+t).trim():t+"px"}function UI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=FI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var R3=zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AC(e,t){if(t){if(R3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function IC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jC=null;function DR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var DC=null,yp=null,bp=null;function kO(e){if(e=vy(e)){if(typeof DC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=X_(t),DC(e.stateNode,e.type,t))}}function BI(e){yp?bp?bp.push(e):bp=[e]:yp=e}function $I(){if(yp){var e=yp,t=bp;if(bp=yp=null,kO(e),t)for(e=0;e<t.length;e++)kO(t[e])}}function VI(e,t){return e(t)}function zI(){}var Jw=!1;function WI(e,t,r){if(Jw)return e(t,r);Jw=!0;try{return VI(e,t,r)}finally{Jw=!1,(yp!==null||bp!==null)&&(zI(),$I())}}function Pv(e,t){var r=e.stateNode;if(r===null)return null;var n=X_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ue(231,t,typeof r));return r}var MC=!1;if(ul)try{var Mg={};Object.defineProperty(Mg,"passive",{get:function(){MC=!0}}),window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{MC=!1}function k3(e,t,r,n,i,s,o,c,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(h){this.onError(h)}}var uv=!1,Ax=null,Ix=!1,LC=null,O3={onError:function(e){uv=!0,Ax=e}};function P3(e,t,r,n,i,s,o,c,a){uv=!1,Ax=null,k3.apply(O3,arguments)}function N3(e,t,r,n,i,s,o,c,a){if(P3.apply(this,arguments),uv){if(uv){var l=Ax;uv=!1,Ax=null}else throw Error(Ue(198));Ix||(Ix=!0,LC=l)}}function Qf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OO(e){if(Qf(e)!==e)throw Error(Ue(188))}function A3(e){var t=e.alternate;if(!t){if(t=Qf(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return OO(i),e;if(s===n)return OO(i),t;s=s.sibling}throw Error(Ue(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,c=i.child;c;){if(c===r){o=!0,r=i,n=s;break}if(c===n){o=!0,n=i,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,n=i;break}if(c===n){o=!0,n=s,r=i;break}c=c.sibling}if(!o)throw Error(Ue(189))}}if(r.alternate!==n)throw Error(Ue(190))}if(r.tag!==3)throw Error(Ue(188));return r.stateNode.current===r?e:t}function GI(e){return e=A3(e),e!==null?qI(e):null}function qI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qI(e);if(t!==null)return t;e=e.sibling}return null}var KI=Ro.unstable_scheduleCallback,PO=Ro.unstable_cancelCallback,I3=Ro.unstable_shouldYield,j3=Ro.unstable_requestPaint,ii=Ro.unstable_now,D3=Ro.unstable_getCurrentPriorityLevel,MR=Ro.unstable_ImmediatePriority,YI=Ro.unstable_UserBlockingPriority,jx=Ro.unstable_NormalPriority,M3=Ro.unstable_LowPriority,QI=Ro.unstable_IdlePriority,K_=null,gc=null;function L3(e){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(K_,e,void 0,(e.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:B3,F3=Math.log,U3=Math.LN2;function B3(e){return e>>>=0,e===0?32:31-(F3(e)/U3|0)|0}var q0=64,K0=4194304;function ev(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~i;c!==0?n=ev(c):(s&=o,s!==0&&(n=ev(s)))}else o=r&~i,o!==0?n=ev(o):s!==0&&(n=ev(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Aa(t),i=1<<r,n|=e[r],t&=~i;return n}function $3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Aa(s),c=1<<o,a=i[o];a===-1?(!(c&r)||c&n)&&(i[o]=$3(c,t)):a<=t&&(e.expiredLanes|=c),s&=~c}}function FC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JI(){var e=q0;return q0<<=1,!(q0&4194240)&&(q0=64),e}function Xw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function my(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Aa(t),e[t]=r}function z3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Aa(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function LR(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Aa(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Zr=0;function XI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZI,FR,ej,tj,rj,UC=!1,Y0=[],Au=null,Iu=null,ju=null,Nv=new Map,Av=new Map,yu=[],W3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NO(e,t){switch(e){case"focusin":case"focusout":Au=null;break;case"dragenter":case"dragleave":Iu=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":Nv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Av.delete(t.pointerId)}}function Lg(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=vy(t),t!==null&&FR(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function H3(e,t,r,n,i){switch(t){case"focusin":return Au=Lg(Au,e,t,r,n,i),!0;case"dragenter":return Iu=Lg(Iu,e,t,r,n,i),!0;case"mouseover":return ju=Lg(ju,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Nv.set(s,Lg(Nv.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Av.set(s,Lg(Av.get(s)||null,e,t,r,n,i)),!0}return!1}function nj(e){var t=hf(e.target);if(t!==null){var r=Qf(t);if(r!==null){if(t=r.tag,t===13){if(t=HI(r),t!==null){e.blockedOn=t,rj(e.priority,function(){ej(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=BC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jC=n,r.target.dispatchEvent(n),jC=null}else return t=vy(r),t!==null&&FR(t),e.blockedOn=r,!1;t.shift()}return!0}function AO(e,t,r){xb(e)&&r.delete(t)}function G3(){UC=!1,Au!==null&&xb(Au)&&(Au=null),Iu!==null&&xb(Iu)&&(Iu=null),ju!==null&&xb(ju)&&(ju=null),Nv.forEach(AO),Av.forEach(AO)}function Fg(e,t){e.blockedOn===t&&(e.blockedOn=null,UC||(UC=!0,Ro.unstable_scheduleCallback(Ro.unstable_NormalPriority,G3)))}function Iv(e){function t(i){return Fg(i,e)}if(0<Y0.length){Fg(Y0[0],e);for(var r=1;r<Y0.length;r++){var n=Y0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Au!==null&&Fg(Au,e),Iu!==null&&Fg(Iu,e),ju!==null&&Fg(ju,e),Nv.forEach(t),Av.forEach(t),r=0;r<yu.length;r++)n=yu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yu.length&&(r=yu[0],r.blockedOn===null);)nj(r),r.blockedOn===null&&yu.shift()}var xp=xl.ReactCurrentBatchConfig,Mx=!0;function q3(e,t,r,n){var i=Zr,s=xp.transition;xp.transition=null;try{Zr=1,UR(e,t,r,n)}finally{Zr=i,xp.transition=s}}function K3(e,t,r,n){var i=Zr,s=xp.transition;xp.transition=null;try{Zr=4,UR(e,t,r,n)}finally{Zr=i,xp.transition=s}}function UR(e,t,r,n){if(Mx){var i=BC(e,t,r,n);if(i===null)cE(e,t,n,Lx,r),NO(e,n);else if(H3(i,e,t,r,n))n.stopPropagation();else if(NO(e,n),t&4&&-1<W3.indexOf(e)){for(;i!==null;){var s=vy(i);if(s!==null&&ZI(s),s=BC(e,t,r,n),s===null&&cE(e,t,n,Lx,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else cE(e,t,n,null,r)}}var Lx=null;function BC(e,t,r,n){if(Lx=null,e=DR(n),e=hf(e),e!==null)if(t=Qf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lx=e,null}function ij(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D3()){case MR:return 1;case YI:return 4;case jx:case M3:return 16;case QI:return 536870912;default:return 16}default:return 16}}var Tu=null,BR=null,_b=null;function sj(){if(_b)return _b;var e,t=BR,r=t.length,n,i="value"in Tu?Tu.value:Tu.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return _b=i.slice(e,1<n?1-n:void 0)}function Sb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Q0(){return!0}function IO(){return!1}function Ao(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Q0:IO,this.isPropagationStopped=IO,this}return zn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Q0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Q0)},persist:function(){},isPersistent:Q0}),t}var cm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$R=Ao(cm),gy=zn({},cm,{view:0,detail:0}),Y3=Ao(gy),Zw,eE,Ug,Y_=zn({},gy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ug&&(Ug&&e.type==="mousemove"?(Zw=e.screenX-Ug.screenX,eE=e.screenY-Ug.screenY):eE=Zw=0,Ug=e),Zw)},movementY:function(e){return"movementY"in e?e.movementY:eE}}),jO=Ao(Y_),Q3=zn({},Y_,{dataTransfer:0}),J3=Ao(Q3),X3=zn({},gy,{relatedTarget:0}),tE=Ao(X3),Z3=zn({},cm,{animationName:0,elapsedTime:0,pseudoElement:0}),e$=Ao(Z3),t$=zn({},cm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r$=Ao(t$),n$=zn({},cm,{data:0}),DO=Ao(n$),i$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o$[e])?!!t[e]:!1}function VR(){return a$}var c$=zn({},gy,{key:function(e){if(e.key){var t=i$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VR,charCode:function(e){return e.type==="keypress"?Sb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l$=Ao(c$),u$=zn({},Y_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MO=Ao(u$),d$=zn({},gy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VR}),f$=Ao(d$),h$=zn({},cm,{propertyName:0,elapsedTime:0,pseudoElement:0}),p$=Ao(h$),m$=zn({},Y_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g$=Ao(m$),v$=[9,13,27,32],zR=ul&&"CompositionEvent"in window,dv=null;ul&&"documentMode"in document&&(dv=document.documentMode);var y$=ul&&"TextEvent"in window&&!dv,oj=ul&&(!zR||dv&&8<dv&&11>=dv),LO=" ",FO=!1;function aj(e,t){switch(e){case"keyup":return v$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var op=!1;function b$(e,t){switch(e){case"compositionend":return cj(t);case"keypress":return t.which!==32?null:(FO=!0,LO);case"textInput":return e=t.data,e===LO&&FO?null:e;default:return null}}function x$(e,t){if(op)return e==="compositionend"||!zR&&aj(e,t)?(e=sj(),_b=BR=Tu=null,op=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oj&&t.locale!=="ko"?null:t.data;default:return null}}var _$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_$[e.type]:t==="textarea"}function lj(e,t,r,n){BI(n),t=Fx(t,"onChange"),0<t.length&&(r=new $R("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fv=null,jv=null;function S$(e){xj(e,0)}function Q_(e){var t=lp(e);if(II(t))return e}function w$(e,t){if(e==="change")return t}var uj=!1;if(ul){var rE;if(ul){var nE="oninput"in document;if(!nE){var BO=document.createElement("div");BO.setAttribute("oninput","return;"),nE=typeof BO.oninput=="function"}rE=nE}else rE=!1;uj=rE&&(!document.documentMode||9<document.documentMode)}function $O(){fv&&(fv.detachEvent("onpropertychange",dj),jv=fv=null)}function dj(e){if(e.propertyName==="value"&&Q_(jv)){var t=[];lj(t,jv,e,DR(e)),WI(S$,t)}}function E$(e,t,r){e==="focusin"?($O(),fv=t,jv=r,fv.attachEvent("onpropertychange",dj)):e==="focusout"&&$O()}function C$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Q_(jv)}function T$(e,t){if(e==="click")return Q_(t)}function R$(e,t){if(e==="input"||e==="change")return Q_(t)}function k$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:k$;function Dv(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!SC.call(t,i)||!ja(e[i],t[i]))return!1}return!0}function VO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zO(e,t){var r=VO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=VO(r)}}function fj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hj(){for(var e=window,t=Nx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Nx(e.document)}return t}function WR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O$(e){var t=hj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fj(r.ownerDocument.documentElement,r)){if(n!==null&&WR(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=zO(r,s);var o=zO(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P$=ul&&"documentMode"in document&&11>=document.documentMode,ap=null,$C=null,hv=null,VC=!1;function WO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;VC||ap==null||ap!==Nx(n)||(n=ap,"selectionStart"in n&&WR(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hv&&Dv(hv,n)||(hv=n,n=Fx($C,"onSelect"),0<n.length&&(t=new $R("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ap)))}function J0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cp={animationend:J0("Animation","AnimationEnd"),animationiteration:J0("Animation","AnimationIteration"),animationstart:J0("Animation","AnimationStart"),transitionend:J0("Transition","TransitionEnd")},iE={},pj={};ul&&(pj=document.createElement("div").style,"AnimationEvent"in window||(delete cp.animationend.animation,delete cp.animationiteration.animation,delete cp.animationstart.animation),"TransitionEvent"in window||delete cp.transitionend.transition);function J_(e){if(iE[e])return iE[e];if(!cp[e])return e;var t=cp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pj)return iE[e]=t[r];return e}var mj=J_("animationend"),gj=J_("animationiteration"),vj=J_("animationstart"),yj=J_("transitionend"),bj=new Map,HO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function id(e,t){bj.set(e,t),Yf(t,[e])}for(var sE=0;sE<HO.length;sE++){var oE=HO[sE],N$=oE.toLowerCase(),A$=oE[0].toUpperCase()+oE.slice(1);id(N$,"on"+A$)}id(mj,"onAnimationEnd");id(gj,"onAnimationIteration");id(vj,"onAnimationStart");id("dblclick","onDoubleClick");id("focusin","onFocus");id("focusout","onBlur");id(yj,"onTransitionEnd");Bp("onMouseEnter",["mouseout","mouseover"]);Bp("onMouseLeave",["mouseout","mouseover"]);Bp("onPointerEnter",["pointerout","pointerover"]);Bp("onPointerLeave",["pointerout","pointerover"]);Yf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I$=new Set("cancel close invalid load scroll toggle".split(" ").concat(tv));function GO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,N3(n,t,void 0,e),e.currentTarget=null}function xj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],a=c.instance,l=c.currentTarget;if(c=c.listener,a!==s&&i.isPropagationStopped())break e;GO(i,c,l),s=a}else for(o=0;o<n.length;o++){if(c=n[o],a=c.instance,l=c.currentTarget,c=c.listener,a!==s&&i.isPropagationStopped())break e;GO(i,c,l),s=a}}}if(Ix)throw e=LC,Ix=!1,LC=null,e}function Cn(e,t){var r=t[qC];r===void 0&&(r=t[qC]=new Set);var n=e+"__bubble";r.has(n)||(_j(t,e,2,!1),r.add(n))}function aE(e,t,r){var n=0;t&&(n|=4),_j(r,e,n,t)}var X0="_reactListening"+Math.random().toString(36).slice(2);function Mv(e){if(!e[X0]){e[X0]=!0,kI.forEach(function(r){r!=="selectionchange"&&(I$.has(r)||aE(r,!1,e),aE(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[X0]||(t[X0]=!0,aE("selectionchange",!1,t))}}function _j(e,t,r,n){switch(ij(t)){case 1:var i=q3;break;case 4:i=K3;break;default:i=UR}r=i.bind(null,t,r,e),i=void 0,!MC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function cE(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;c!==null;){if(o=hf(c),o===null)return;if(a=o.tag,a===5||a===6){n=s=o;continue e}c=c.parentNode}}n=n.return}WI(function(){var l=s,h=DR(r),p=[];e:{var g=bj.get(e);if(g!==void 0){var E=$R,_=e;switch(e){case"keypress":if(Sb(r)===0)break e;case"keydown":case"keyup":E=l$;break;case"focusin":_="focus",E=tE;break;case"focusout":_="blur",E=tE;break;case"beforeblur":case"afterblur":E=tE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=jO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=J3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=f$;break;case mj:case gj:case vj:E=e$;break;case yj:E=p$;break;case"scroll":E=Y3;break;case"wheel":E=g$;break;case"copy":case"cut":case"paste":E=r$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=MO}var y=(t&4)!==0,w=!y&&e==="scroll",R=y?g!==null?g+"Capture":null:g;y=[];for(var S=l,C;S!==null;){C=S;var A=C.stateNode;if(C.tag===5&&A!==null&&(C=A,R!==null&&(A=Pv(S,R),A!=null&&y.push(Lv(S,A,C)))),w)break;S=S.return}0<y.length&&(g=new E(g,_,null,r,h),p.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",g&&r!==jC&&(_=r.relatedTarget||r.fromElement)&&(hf(_)||_[dl]))break e;if((E||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,E?(_=r.relatedTarget||r.toElement,E=l,_=_?hf(_):null,_!==null&&(w=Qf(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(E=null,_=l),E!==_)){if(y=jO,A="onMouseLeave",R="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(y=MO,A="onPointerLeave",R="onPointerEnter",S="pointer"),w=E==null?g:lp(E),C=_==null?g:lp(_),g=new y(A,S+"leave",E,r,h),g.target=w,g.relatedTarget=C,A=null,hf(h)===l&&(y=new y(R,S+"enter",_,r,h),y.target=C,y.relatedTarget=w,A=y),w=A,E&&_)t:{for(y=E,R=_,S=0,C=y;C;C=Qh(C))S++;for(C=0,A=R;A;A=Qh(A))C++;for(;0<S-C;)y=Qh(y),S--;for(;0<C-S;)R=Qh(R),C--;for(;S--;){if(y===R||R!==null&&y===R.alternate)break t;y=Qh(y),R=Qh(R)}y=null}else y=null;E!==null&&qO(p,g,E,y,!1),_!==null&&w!==null&&qO(p,w,_,y,!0)}}e:{if(g=l?lp(l):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var L=w$;else if(UO(g))if(uj)L=R$;else{L=C$;var U=E$}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=T$);if(L&&(L=L(e,l))){lj(p,L,r,h);break e}U&&U(e,g,l),e==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&OC(g,"number",g.value)}switch(U=l?lp(l):window,e){case"focusin":(UO(U)||U.contentEditable==="true")&&(ap=U,$C=l,hv=null);break;case"focusout":hv=$C=ap=null;break;case"mousedown":VC=!0;break;case"contextmenu":case"mouseup":case"dragend":VC=!1,WO(p,r,h);break;case"selectionchange":if(P$)break;case"keydown":case"keyup":WO(p,r,h)}var B;if(zR)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else op?aj(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(oj&&r.locale!=="ko"&&(op||z!=="onCompositionStart"?z==="onCompositionEnd"&&op&&(B=sj()):(Tu=h,BR="value"in Tu?Tu.value:Tu.textContent,op=!0)),U=Fx(l,z),0<U.length&&(z=new DO(z,e,null,r,h),p.push({event:z,listeners:U}),B?z.data=B:(B=cj(r),B!==null&&(z.data=B)))),(B=y$?b$(e,r):x$(e,r))&&(l=Fx(l,"onBeforeInput"),0<l.length&&(h=new DO("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:l}),h.data=B))}xj(p,t)})}function Lv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fx(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pv(e,r),s!=null&&n.unshift(Lv(e,s,i)),s=Pv(e,t),s!=null&&n.push(Lv(e,s,i))),e=e.return}return n}function Qh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qO(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var c=r,a=c.alternate,l=c.stateNode;if(a!==null&&a===n)break;c.tag===5&&l!==null&&(c=l,i?(a=Pv(r,s),a!=null&&o.unshift(Lv(r,a,c))):i||(a=Pv(r,s),a!=null&&o.push(Lv(r,a,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var j$=/\r\n?/g,D$=/\u0000|\uFFFD/g;function KO(e){return(typeof e=="string"?e:""+e).replace(j$,`
`).replace(D$,"")}function Z0(e,t,r){if(t=KO(t),KO(e)!==t&&r)throw Error(Ue(425))}function Ux(){}var zC=null,WC=null;function HC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GC=typeof setTimeout=="function"?setTimeout:void 0,M$=typeof clearTimeout=="function"?clearTimeout:void 0,YO=typeof Promise=="function"?Promise:void 0,L$=typeof queueMicrotask=="function"?queueMicrotask:typeof YO<"u"?function(e){return YO.resolve(null).then(e).catch(F$)}:GC;function F$(e){setTimeout(function(){throw e})}function lE(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Iv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Iv(t)}function Du(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var lm=Math.random().toString(36).slice(2),dc="__reactFiber$"+lm,Fv="__reactProps$"+lm,dl="__reactContainer$"+lm,qC="__reactEvents$"+lm,U$="__reactListeners$"+lm,B$="__reactHandles$"+lm;function hf(e){var t=e[dc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dl]||r[dc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=QO(e);e!==null;){if(r=e[dc])return r;e=QO(e)}return t}e=r,r=e.parentNode}return null}function vy(e){return e=e[dc]||e[dl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function X_(e){return e[Fv]||null}var KC=[],up=-1;function sd(e){return{current:e}}function kn(e){0>up||(e.current=KC[up],KC[up]=null,up--)}function bn(e,t){up++,KC[up]=e.current,e.current=t}var Qu={},ls=sd(Qu),Qs=sd(!1),Af=Qu;function $p(e,t){var r=e.type.contextTypes;if(!r)return Qu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Js(e){return e=e.childContextTypes,e!=null}function Bx(){kn(Qs),kn(ls)}function JO(e,t,r){if(ls.current!==Qu)throw Error(Ue(168));bn(ls,t),bn(Qs,r)}function Sj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ue(108,E3(e)||"Unknown",i));return zn({},r,n)}function $x(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qu,Af=ls.current,bn(ls,e),bn(Qs,Qs.current),!0}function XO(e,t,r){var n=e.stateNode;if(!n)throw Error(Ue(169));r?(e=Sj(e,t,Af),n.__reactInternalMemoizedMergedChildContext=e,kn(Qs),kn(ls),bn(ls,e)):kn(Qs),bn(Qs,r)}var el=null,Z_=!1,uE=!1;function wj(e){el===null?el=[e]:el.push(e)}function $$(e){Z_=!0,wj(e)}function od(){if(!uE&&el!==null){uE=!0;var e=0,t=Zr;try{var r=el;for(Zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}el=null,Z_=!1}catch(i){throw el!==null&&(el=el.slice(e+1)),KI(MR,od),i}finally{Zr=t,uE=!1}}return null}var dp=[],fp=0,Vx=null,zx=0,Qo=[],Jo=0,If=null,nl=1,il="";function lf(e,t){dp[fp++]=zx,dp[fp++]=Vx,Vx=e,zx=t}function Ej(e,t,r){Qo[Jo++]=nl,Qo[Jo++]=il,Qo[Jo++]=If,If=e;var n=nl;e=il;var i=32-Aa(n)-1;n&=~(1<<i),r+=1;var s=32-Aa(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,nl=1<<32-Aa(t)+i|r<<i|n,il=s+e}else nl=1<<s|r<<i|n,il=e}function HR(e){e.return!==null&&(lf(e,1),Ej(e,1,0))}function GR(e){for(;e===Vx;)Vx=dp[--fp],dp[fp]=null,zx=dp[--fp],dp[fp]=null;for(;e===If;)If=Qo[--Jo],Qo[Jo]=null,il=Qo[--Jo],Qo[Jo]=null,nl=Qo[--Jo],Qo[Jo]=null}var Eo=null,_o=null,An=!1,Pa=null;function Cj(e,t){var r=Zo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ZO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Eo=e,_o=Du(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Eo=e,_o=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=If!==null?{id:nl,overflow:il}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Eo=e,_o=null,!0):!1;default:return!1}}function YC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QC(e){if(An){var t=_o;if(t){var r=t;if(!ZO(e,t)){if(YC(e))throw Error(Ue(418));t=Du(r.nextSibling);var n=Eo;t&&ZO(e,t)?Cj(n,r):(e.flags=e.flags&-4097|2,An=!1,Eo=e)}}else{if(YC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,An=!1,Eo=e}}}function eP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Eo=e}function eb(e){if(e!==Eo)return!1;if(!An)return eP(e),An=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HC(e.type,e.memoizedProps)),t&&(t=_o)){if(YC(e))throw Tj(),Error(Ue(418));for(;t;)Cj(e,t),t=Du(t.nextSibling)}if(eP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_o=Du(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_o=null}}else _o=Eo?Du(e.stateNode.nextSibling):null;return!0}function Tj(){for(var e=_o;e;)e=Du(e.nextSibling)}function Vp(){_o=Eo=null,An=!1}function qR(e){Pa===null?Pa=[e]:Pa.push(e)}var V$=xl.ReactCurrentBatchConfig;function Bg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ue(309));var n=r.stateNode}if(!n)throw Error(Ue(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var c=i.refs;o===null?delete c[s]:c[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ue(284));if(!r._owner)throw Error(Ue(290,e))}return e}function tb(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tP(e){var t=e._init;return t(e._payload)}function Rj(e){function t(R,S){if(e){var C=R.deletions;C===null?(R.deletions=[S],R.flags|=16):C.push(S)}}function r(R,S){if(!e)return null;for(;S!==null;)t(R,S),S=S.sibling;return null}function n(R,S){for(R=new Map;S!==null;)S.key!==null?R.set(S.key,S):R.set(S.index,S),S=S.sibling;return R}function i(R,S){return R=Uu(R,S),R.index=0,R.sibling=null,R}function s(R,S,C){return R.index=C,e?(C=R.alternate,C!==null?(C=C.index,C<S?(R.flags|=2,S):C):(R.flags|=2,S)):(R.flags|=1048576,S)}function o(R){return e&&R.alternate===null&&(R.flags|=2),R}function c(R,S,C,A){return S===null||S.tag!==6?(S=vE(C,R.mode,A),S.return=R,S):(S=i(S,C),S.return=R,S)}function a(R,S,C,A){var L=C.type;return L===sp?h(R,S,C.props.children,A,C.key):S!==null&&(S.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===pu&&tP(L)===S.type)?(A=i(S,C.props),A.ref=Bg(R,S,C),A.return=R,A):(A=Ob(C.type,C.key,C.props,null,R.mode,A),A.ref=Bg(R,S,C),A.return=R,A)}function l(R,S,C,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=yE(C,R.mode,A),S.return=R,S):(S=i(S,C.children||[]),S.return=R,S)}function h(R,S,C,A,L){return S===null||S.tag!==7?(S=Rf(C,R.mode,A,L),S.return=R,S):(S=i(S,C),S.return=R,S)}function p(R,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=vE(""+S,R.mode,C),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case W0:return C=Ob(S.type,S.key,S.props,null,R.mode,C),C.ref=Bg(R,null,S),C.return=R,C;case ip:return S=yE(S,R.mode,C),S.return=R,S;case pu:var A=S._init;return p(R,A(S._payload),C)}if(Zg(S)||Dg(S))return S=Rf(S,R.mode,C,null),S.return=R,S;tb(R,S)}return null}function g(R,S,C,A){var L=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return L!==null?null:c(R,S,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case W0:return C.key===L?a(R,S,C,A):null;case ip:return C.key===L?l(R,S,C,A):null;case pu:return L=C._init,g(R,S,L(C._payload),A)}if(Zg(C)||Dg(C))return L!==null?null:h(R,S,C,A,null);tb(R,C)}return null}function E(R,S,C,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return R=R.get(C)||null,c(S,R,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case W0:return R=R.get(A.key===null?C:A.key)||null,a(S,R,A,L);case ip:return R=R.get(A.key===null?C:A.key)||null,l(S,R,A,L);case pu:var U=A._init;return E(R,S,C,U(A._payload),L)}if(Zg(A)||Dg(A))return R=R.get(C)||null,h(S,R,A,L,null);tb(S,A)}return null}function _(R,S,C,A){for(var L=null,U=null,B=S,z=S=0,G=null;B!==null&&z<C.length;z++){B.index>z?(G=B,B=null):G=B.sibling;var J=g(R,B,C[z],A);if(J===null){B===null&&(B=G);break}e&&B&&J.alternate===null&&t(R,B),S=s(J,S,z),U===null?L=J:U.sibling=J,U=J,B=G}if(z===C.length)return r(R,B),An&&lf(R,z),L;if(B===null){for(;z<C.length;z++)B=p(R,C[z],A),B!==null&&(S=s(B,S,z),U===null?L=B:U.sibling=B,U=B);return An&&lf(R,z),L}for(B=n(R,B);z<C.length;z++)G=E(B,R,z,C[z],A),G!==null&&(e&&G.alternate!==null&&B.delete(G.key===null?z:G.key),S=s(G,S,z),U===null?L=G:U.sibling=G,U=G);return e&&B.forEach(function(X){return t(R,X)}),An&&lf(R,z),L}function y(R,S,C,A){var L=Dg(C);if(typeof L!="function")throw Error(Ue(150));if(C=L.call(C),C==null)throw Error(Ue(151));for(var U=L=null,B=S,z=S=0,G=null,J=C.next();B!==null&&!J.done;z++,J=C.next()){B.index>z?(G=B,B=null):G=B.sibling;var X=g(R,B,J.value,A);if(X===null){B===null&&(B=G);break}e&&B&&X.alternate===null&&t(R,B),S=s(X,S,z),U===null?L=X:U.sibling=X,U=X,B=G}if(J.done)return r(R,B),An&&lf(R,z),L;if(B===null){for(;!J.done;z++,J=C.next())J=p(R,J.value,A),J!==null&&(S=s(J,S,z),U===null?L=J:U.sibling=J,U=J);return An&&lf(R,z),L}for(B=n(R,B);!J.done;z++,J=C.next())J=E(B,R,z,J.value,A),J!==null&&(e&&J.alternate!==null&&B.delete(J.key===null?z:J.key),S=s(J,S,z),U===null?L=J:U.sibling=J,U=J);return e&&B.forEach(function(q){return t(R,q)}),An&&lf(R,z),L}function w(R,S,C,A){if(typeof C=="object"&&C!==null&&C.type===sp&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case W0:e:{for(var L=C.key,U=S;U!==null;){if(U.key===L){if(L=C.type,L===sp){if(U.tag===7){r(R,U.sibling),S=i(U,C.props.children),S.return=R,R=S;break e}}else if(U.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===pu&&tP(L)===U.type){r(R,U.sibling),S=i(U,C.props),S.ref=Bg(R,U,C),S.return=R,R=S;break e}r(R,U);break}else t(R,U);U=U.sibling}C.type===sp?(S=Rf(C.props.children,R.mode,A,C.key),S.return=R,R=S):(A=Ob(C.type,C.key,C.props,null,R.mode,A),A.ref=Bg(R,S,C),A.return=R,R=A)}return o(R);case ip:e:{for(U=C.key;S!==null;){if(S.key===U)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){r(R,S.sibling),S=i(S,C.children||[]),S.return=R,R=S;break e}else{r(R,S);break}else t(R,S);S=S.sibling}S=yE(C,R.mode,A),S.return=R,R=S}return o(R);case pu:return U=C._init,w(R,S,U(C._payload),A)}if(Zg(C))return _(R,S,C,A);if(Dg(C))return y(R,S,C,A);tb(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(r(R,S.sibling),S=i(S,C),S.return=R,R=S):(r(R,S),S=vE(C,R.mode,A),S.return=R,R=S),o(R)):r(R,S)}return w}var zp=Rj(!0),kj=Rj(!1),Wx=sd(null),Hx=null,hp=null,KR=null;function YR(){KR=hp=Hx=null}function QR(e){var t=Wx.current;kn(Wx),e._currentValue=t}function JC(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _p(e,t){Hx=e,KR=hp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gs=!0),e.firstContext=null)}function na(e){var t=e._currentValue;if(KR!==e)if(e={context:e,memoizedValue:t,next:null},hp===null){if(Hx===null)throw Error(Ue(308));hp=e,Hx.dependencies={lanes:0,firstContext:e}}else hp=hp.next=e;return t}var pf=null;function JR(e){pf===null?pf=[e]:pf.push(e)}function Oj(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,JR(t)):(r.next=i.next,i.next=r),t.interleaved=r,fl(e,n)}function fl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mu=!1;function XR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ol(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,jr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,fl(e,r)}return i=n.interleaved,i===null?(t.next=t,JR(n)):(t.next=i.next,i.next=t),n.interleaved=t,fl(e,r)}function wb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LR(e,r)}}function rP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gx(e,t,r,n){var i=e.updateQueue;mu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,l=a.next;a.next=null,o===null?s=l:o.next=l,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==o&&(c===null?h.firstBaseUpdate=l:c.next=l,h.lastBaseUpdate=a))}if(s!==null){var p=i.baseState;o=0,h=l=a=null,c=s;do{var g=c.lane,E=c.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var _=e,y=c;switch(g=t,E=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){p=_.call(E,p,g);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,g=typeof _=="function"?_.call(E,p,g):_,g==null)break e;p=zn({},p,g);break e;case 2:mu=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else E={eventTime:E,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(l=h=E,a=p):h=h.next=E,o|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(a=p),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Df|=o,e.lanes=o,e.memoizedState=p}}function nP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ue(191,i));i.call(n)}}}var yy={},vc=sd(yy),Uv=sd(yy),Bv=sd(yy);function mf(e){if(e===yy)throw Error(Ue(174));return e}function ZR(e,t){switch(bn(Bv,t),bn(Uv,e),bn(vc,yy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:NC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=NC(t,e)}kn(vc),bn(vc,t)}function Wp(){kn(vc),kn(Uv),kn(Bv)}function Nj(e){mf(Bv.current);var t=mf(vc.current),r=NC(t,e.type);t!==r&&(bn(Uv,e),bn(vc,r))}function ek(e){Uv.current===e&&(kn(vc),kn(Uv))}var Bn=sd(0);function qx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dE=[];function tk(){for(var e=0;e<dE.length;e++)dE[e]._workInProgressVersionPrimary=null;dE.length=0}var Eb=xl.ReactCurrentDispatcher,fE=xl.ReactCurrentBatchConfig,jf=0,Vn=null,vi=null,Ai=null,Kx=!1,pv=!1,$v=0,z$=0;function is(){throw Error(Ue(321))}function rk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ja(e[r],t[r]))return!1;return!0}function nk(e,t,r,n,i,s){if(jf=s,Vn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Eb.current=e===null||e.memoizedState===null?q$:K$,e=r(n,i),pv){s=0;do{if(pv=!1,$v=0,25<=s)throw Error(Ue(301));s+=1,Ai=vi=null,t.updateQueue=null,Eb.current=Y$,e=r(n,i)}while(pv)}if(Eb.current=Yx,t=vi!==null&&vi.next!==null,jf=0,Ai=vi=Vn=null,Kx=!1,t)throw Error(Ue(300));return e}function ik(){var e=$v!==0;return $v=0,e}function oc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Vn.memoizedState=Ai=e:Ai=Ai.next=e,Ai}function ia(){if(vi===null){var e=Vn.alternate;e=e!==null?e.memoizedState:null}else e=vi.next;var t=Ai===null?Vn.memoizedState:Ai.next;if(t!==null)Ai=t,vi=e;else{if(e===null)throw Error(Ue(310));vi=e,e={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ai===null?Vn.memoizedState=Ai=e:Ai=Ai.next=e}return Ai}function Vv(e,t){return typeof t=="function"?t(e):t}function hE(e){var t=ia(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var n=vi,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var c=o=null,a=null,l=s;do{var h=l.lane;if((jf&h)===h)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var p={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(c=a=p,o=n):a=a.next=p,Vn.lanes|=h,Df|=h}l=l.next}while(l!==null&&l!==s);a===null?o=n:a.next=c,ja(n,t.memoizedState)||(Gs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Vn.lanes|=s,Df|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pE(e){var t=ia(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ja(s,t.memoizedState)||(Gs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Aj(){}function Ij(e,t){var r=Vn,n=ia(),i=t(),s=!ja(n.memoizedState,i);if(s&&(n.memoizedState=i,Gs=!0),n=n.queue,sk(Mj.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ai!==null&&Ai.memoizedState.tag&1){if(r.flags|=2048,zv(9,Dj.bind(null,r,n,i,t),void 0,null),ji===null)throw Error(Ue(349));jf&30||jj(r,t,i)}return i}function jj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vn.updateQueue,t===null?(t={lastEffect:null,stores:null},Vn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dj(e,t,r,n){t.value=r,t.getSnapshot=n,Lj(t)&&Fj(e)}function Mj(e,t,r){return r(function(){Lj(t)&&Fj(e)})}function Lj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ja(e,r)}catch{return!0}}function Fj(e){var t=fl(e,1);t!==null&&Ia(t,e,1,-1)}function iP(e){var t=oc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vv,lastRenderedState:e},t.queue=e,e=e.dispatch=G$.bind(null,Vn,e),[t.memoizedState,e]}function zv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vn.updateQueue,t===null?(t={lastEffect:null,stores:null},Vn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uj(){return ia().memoizedState}function Cb(e,t,r,n){var i=oc();Vn.flags|=e,i.memoizedState=zv(1|t,r,void 0,n===void 0?null:n)}function eS(e,t,r,n){var i=ia();n=n===void 0?null:n;var s=void 0;if(vi!==null){var o=vi.memoizedState;if(s=o.destroy,n!==null&&rk(n,o.deps)){i.memoizedState=zv(t,r,s,n);return}}Vn.flags|=e,i.memoizedState=zv(1|t,r,s,n)}function sP(e,t){return Cb(8390656,8,e,t)}function sk(e,t){return eS(2048,8,e,t)}function Bj(e,t){return eS(4,2,e,t)}function $j(e,t){return eS(4,4,e,t)}function Vj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zj(e,t,r){return r=r!=null?r.concat([e]):null,eS(4,4,Vj.bind(null,t,e),r)}function ok(){}function Wj(e,t){var r=ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hj(e,t){var r=ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Gj(e,t,r){return jf&21?(ja(r,t)||(r=JI(),Vn.lanes|=r,Df|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gs=!0),e.memoizedState=r)}function W$(e,t){var r=Zr;Zr=r!==0&&4>r?r:4,e(!0);var n=fE.transition;fE.transition={};try{e(!1),t()}finally{Zr=r,fE.transition=n}}function qj(){return ia().memoizedState}function H$(e,t,r){var n=Fu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kj(e))Yj(t,r);else if(r=Oj(e,t,r,n),r!==null){var i=Ns();Ia(r,e,n,i),Qj(r,t,n)}}function G$(e,t,r){var n=Fu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kj(e))Yj(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,c=s(o,r);if(i.hasEagerState=!0,i.eagerState=c,ja(c,o)){var a=t.interleaved;a===null?(i.next=i,JR(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=Oj(e,t,i,n),r!==null&&(i=Ns(),Ia(r,e,n,i),Qj(r,t,n))}}function Kj(e){var t=e.alternate;return e===Vn||t!==null&&t===Vn}function Yj(e,t){pv=Kx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LR(e,r)}}var Yx={readContext:na,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useInsertionEffect:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useSyncExternalStore:is,useId:is,unstable_isNewReconciler:!1},q$={readContext:na,useCallback:function(e,t){return oc().memoizedState=[e,t===void 0?null:t],e},useContext:na,useEffect:sP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cb(4194308,4,Vj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cb(4,2,e,t)},useMemo:function(e,t){var r=oc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=oc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=H$.bind(null,Vn,e),[n.memoizedState,e]},useRef:function(e){var t=oc();return e={current:e},t.memoizedState=e},useState:iP,useDebugValue:ok,useDeferredValue:function(e){return oc().memoizedState=e},useTransition:function(){var e=iP(!1),t=e[0];return e=W$.bind(null,e[1]),oc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Vn,i=oc();if(An){if(r===void 0)throw Error(Ue(407));r=r()}else{if(r=t(),ji===null)throw Error(Ue(349));jf&30||jj(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,sP(Mj.bind(null,n,s,e),[e]),n.flags|=2048,zv(9,Dj.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=oc(),t=ji.identifierPrefix;if(An){var r=il,n=nl;r=(n&~(1<<32-Aa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$v++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=z$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},K$={readContext:na,useCallback:Wj,useContext:na,useEffect:sk,useImperativeHandle:zj,useInsertionEffect:Bj,useLayoutEffect:$j,useMemo:Hj,useReducer:hE,useRef:Uj,useState:function(){return hE(Vv)},useDebugValue:ok,useDeferredValue:function(e){var t=ia();return Gj(t,vi.memoizedState,e)},useTransition:function(){var e=hE(Vv)[0],t=ia().memoizedState;return[e,t]},useMutableSource:Aj,useSyncExternalStore:Ij,useId:qj,unstable_isNewReconciler:!1},Y$={readContext:na,useCallback:Wj,useContext:na,useEffect:sk,useImperativeHandle:zj,useInsertionEffect:Bj,useLayoutEffect:$j,useMemo:Hj,useReducer:pE,useRef:Uj,useState:function(){return pE(Vv)},useDebugValue:ok,useDeferredValue:function(e){var t=ia();return vi===null?t.memoizedState=e:Gj(t,vi.memoizedState,e)},useTransition:function(){var e=pE(Vv)[0],t=ia().memoizedState;return[e,t]},useMutableSource:Aj,useSyncExternalStore:Ij,useId:qj,unstable_isNewReconciler:!1};function Ca(e,t){if(e&&e.defaultProps){t=zn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function XC(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tS={isMounted:function(e){return(e=e._reactInternals)?Qf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ns(),i=Fu(e),s=ol(n,i);s.payload=t,r!=null&&(s.callback=r),t=Mu(e,s,i),t!==null&&(Ia(t,e,i,n),wb(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ns(),i=Fu(e),s=ol(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mu(e,s,i),t!==null&&(Ia(t,e,i,n),wb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ns(),n=Fu(e),i=ol(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mu(e,i,n),t!==null&&(Ia(t,e,n,r),wb(t,e,n))}};function oP(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Dv(r,n)||!Dv(i,s):!0}function Jj(e,t,r){var n=!1,i=Qu,s=t.contextType;return typeof s=="object"&&s!==null?s=na(s):(i=Js(t)?Af:ls.current,n=t.contextTypes,s=(n=n!=null)?$p(e,i):Qu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tS,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&tS.enqueueReplaceState(t,t.state,null)}function ZC(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},XR(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=na(s):(s=Js(t)?Af:ls.current,i.context=$p(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(XC(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tS.enqueueReplaceState(i,i.state,null),Gx(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hp(e,t){try{var r="",n=t;do r+=w3(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function mE(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function eT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q$=typeof WeakMap=="function"?WeakMap:Map;function Xj(e,t,r){r=ol(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jx||(Jx=!0,uT=n),eT(e,t)},r}function Zj(e,t,r){r=ol(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){eT(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){eT(e,t),typeof n!="function"&&(Lu===null?Lu=new Set([this]):Lu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=u5.bind(null,e,t,r),t.then(e,e))}function lP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uP(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ol(-1,1),t.tag=2,Mu(r,t,1))),r.lanes|=1),e)}var J$=xl.ReactCurrentOwner,Gs=!1;function Rs(e,t,r,n){t.child=e===null?kj(t,null,r,n):zp(t,e.child,r,n)}function dP(e,t,r,n,i){r=r.render;var s=t.ref;return _p(t,i),n=nk(e,t,r,n,s,i),r=ik(),e!==null&&!Gs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hl(e,t,i)):(An&&r&&HR(t),t.flags|=1,Rs(e,t,n,i),t.child)}function fP(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!pk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,eD(e,t,s,n,i)):(e=Ob(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Dv,r(o,n)&&e.ref===t.ref)return hl(e,t,i)}return t.flags|=1,e=Uu(s,n),e.ref=t.ref,e.return=t,t.child=e}function eD(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Dv(s,n)&&e.ref===t.ref)if(Gs=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Gs=!0);else return t.lanes=e.lanes,hl(e,t,i)}return tT(e,t,r,n,i)}function tD(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(mp,bo),bo|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bn(mp,bo),bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,bn(mp,bo),bo|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,bn(mp,bo),bo|=n;return Rs(e,t,i,r),t.child}function rD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tT(e,t,r,n,i){var s=Js(r)?Af:ls.current;return s=$p(t,s),_p(t,i),r=nk(e,t,r,n,s,i),n=ik(),e!==null&&!Gs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hl(e,t,i)):(An&&n&&HR(t),t.flags|=1,Rs(e,t,r,i),t.child)}function hP(e,t,r,n,i){if(Js(r)){var s=!0;$x(t)}else s=!1;if(_p(t,i),t.stateNode===null)Tb(e,t),Jj(t,r,n),ZC(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var a=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=na(l):(l=Js(r)?Af:ls.current,l=$p(t,l));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||a!==l)&&aP(t,o,n,l),mu=!1;var g=t.memoizedState;o.state=g,Gx(t,n,o,i),a=t.memoizedState,c!==n||g!==a||Qs.current||mu?(typeof h=="function"&&(XC(t,r,h,n),a=t.memoizedState),(c=mu||oP(t,r,c,n,g,a,l))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=l,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pj(e,t),c=t.memoizedProps,l=t.type===t.elementType?c:Ca(t.type,c),o.props=l,p=t.pendingProps,g=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=na(a):(a=Js(r)?Af:ls.current,a=$p(t,a));var E=r.getDerivedStateFromProps;(h=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||g!==a)&&aP(t,o,n,a),mu=!1,g=t.memoizedState,o.state=g,Gx(t,n,o,i);var _=t.memoizedState;c!==p||g!==_||Qs.current||mu?(typeof E=="function"&&(XC(t,r,E,n),_=t.memoizedState),(l=mu||oP(t,r,l,n,g,_,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=a,n=l):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return rT(e,t,r,n,s,i)}function rT(e,t,r,n,i,s){rD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&XO(t,r,!1),hl(e,t,s);n=t.stateNode,J$.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zp(t,e.child,null,s),t.child=zp(t,null,c,s)):Rs(e,t,c,s),t.memoizedState=n.state,i&&XO(t,r,!0),t.child}function nD(e){var t=e.stateNode;t.pendingContext?JO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JO(e,t.context,!1),ZR(e,t.containerInfo)}function pP(e,t,r,n,i){return Vp(),qR(i),t.flags|=256,Rs(e,t,r,n),t.child}var nT={dehydrated:null,treeContext:null,retryLane:0};function iT(e){return{baseLanes:e,cachePool:null,transitions:null}}function iD(e,t,r){var n=t.pendingProps,i=Bn.current,s=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),bn(Bn,i&1),e===null)return QC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=iS(o,n,0,null),e=Rf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=iT(r),t.memoizedState=nT,e):ak(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return X$(e,t,o,n,c,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,c=i.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Uu(i,a),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=Uu(c,s):(s=Rf(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?iT(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=nT,n}return s=e.child,e=s.sibling,n=Uu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ak(e,t){return t=iS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rb(e,t,r,n){return n!==null&&qR(n),zp(t,e.child,null,r),e=ak(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X$(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=mE(Error(Ue(422))),rb(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=iS({mode:"visible",children:n.children},i,0,null),s=Rf(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&zp(t,e.child,null,o),t.child.memoizedState=iT(o),t.memoizedState=nT,s);if(!(t.mode&1))return rb(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,s=Error(Ue(419)),n=mE(s,n,void 0),rb(e,t,o,n)}if(c=(o&e.childLanes)!==0,Gs||c){if(n=ji,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fl(e,i),Ia(n,e,i,-1))}return hk(),n=mE(Error(Ue(421))),rb(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=d5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_o=Du(i.nextSibling),Eo=t,An=!0,Pa=null,e!==null&&(Qo[Jo++]=nl,Qo[Jo++]=il,Qo[Jo++]=If,nl=e.id,il=e.overflow,If=t),t=ak(t,n.children),t.flags|=4096,t)}function mP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),JC(e.return,t,r)}function gE(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function sD(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Rs(e,t,n.children,r),n=Bn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mP(e,r,t);else if(e.tag===19)mP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bn(Bn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qx(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),gE(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qx(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}gE(t,!0,r,null,s);break;case"together":gE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Df|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,r=Uu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Uu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Z$(e,t,r){switch(t.tag){case 3:nD(t),Vp();break;case 5:Nj(t);break;case 1:Js(t.type)&&$x(t);break;case 4:ZR(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;bn(Wx,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(bn(Bn,Bn.current&1),t.flags|=128,null):r&t.child.childLanes?iD(e,t,r):(bn(Bn,Bn.current&1),e=hl(e,t,r),e!==null?e.sibling:null);bn(Bn,Bn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sD(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(Bn,Bn.current),n)break;return null;case 22:case 23:return t.lanes=0,tD(e,t,r)}return hl(e,t,r)}var oD,sT,aD,cD;oD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sT=function(){};aD=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,mf(vc.current);var s=null;switch(r){case"input":i=RC(e,i),n=RC(e,n),s=[];break;case"select":i=zn({},i,{value:void 0}),n=zn({},n,{value:void 0}),s=[];break;case"textarea":i=PC(e,i),n=PC(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ux)}AC(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(kv.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var a=n[l];if(c=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&a!==c&&(a!=null||c!=null))if(l==="style")if(c){for(o in c)!c.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&c[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(s||(s=[]),s.push(l,r)),r=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(s=s||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(kv.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&Cn("scroll",e),s||c===a||(s=[])):(s=s||[]).push(l,a))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};cD=function(e,t,r,n){r!==n&&(t.flags|=4)};function $g(e,t){if(!An)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ss(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function e5(e,t,r){var n=t.pendingProps;switch(GR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ss(t),null;case 1:return Js(t.type)&&Bx(),ss(t),null;case 3:return n=t.stateNode,Wp(),kn(Qs),kn(ls),tk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(eb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pa!==null&&(hT(Pa),Pa=null))),sT(e,t),ss(t),null;case 5:ek(t);var i=mf(Bv.current);if(r=t.type,e!==null&&t.stateNode!=null)aD(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ue(166));return ss(t),null}if(e=mf(vc.current),eb(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[dc]=t,n[Fv]=s,e=(t.mode&1)!==0,r){case"dialog":Cn("cancel",n),Cn("close",n);break;case"iframe":case"object":case"embed":Cn("load",n);break;case"video":case"audio":for(i=0;i<tv.length;i++)Cn(tv[i],n);break;case"source":Cn("error",n);break;case"img":case"image":case"link":Cn("error",n),Cn("load",n);break;case"details":Cn("toggle",n);break;case"input":EO(n,s),Cn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Cn("invalid",n);break;case"textarea":TO(n,s),Cn("invalid",n)}AC(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?n.textContent!==c&&(s.suppressHydrationWarning!==!0&&Z0(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Z0(n.textContent,c,e),i=["children",""+c]):kv.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Cn("scroll",n)}switch(r){case"input":H0(n),CO(n,s,!0);break;case"textarea":H0(n),RO(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ux)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[dc]=t,e[Fv]=n,oD(e,t,!1,!1),t.stateNode=e;e:{switch(o=IC(r,n),r){case"dialog":Cn("cancel",e),Cn("close",e),i=n;break;case"iframe":case"object":case"embed":Cn("load",e),i=n;break;case"video":case"audio":for(i=0;i<tv.length;i++)Cn(tv[i],e);i=n;break;case"source":Cn("error",e),i=n;break;case"img":case"image":case"link":Cn("error",e),Cn("load",e),i=n;break;case"details":Cn("toggle",e),i=n;break;case"input":EO(e,n),i=RC(e,n),Cn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=zn({},n,{value:void 0}),Cn("invalid",e);break;case"textarea":TO(e,n),i=PC(e,n),Cn("invalid",e);break;default:i=n}AC(r,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var a=c[s];s==="style"?UI(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&LI(e,a)):s==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Ov(e,a):typeof a=="number"&&Ov(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kv.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Cn("scroll",e):a!=null&&NR(e,s,a,o))}switch(r){case"input":H0(e),CO(e,n,!1);break;case"textarea":H0(e),RO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?vp(e,!!n.multiple,s,!1):n.defaultValue!=null&&vp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ux)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ss(t),null;case 6:if(e&&t.stateNode!=null)cD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ue(166));if(r=mf(Bv.current),mf(vc.current),eb(t)){if(n=t.stateNode,r=t.memoizedProps,n[dc]=t,(s=n.nodeValue!==r)&&(e=Eo,e!==null))switch(e.tag){case 3:Z0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Z0(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dc]=t,t.stateNode=n}return ss(t),null;case 13:if(kn(Bn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(An&&_o!==null&&t.mode&1&&!(t.flags&128))Tj(),Vp(),t.flags|=98560,s=!1;else if(s=eb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ue(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[dc]=t}else Vp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ss(t),s=!1}else Pa!==null&&(hT(Pa),Pa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Bn.current&1?yi===0&&(yi=3):hk())),t.updateQueue!==null&&(t.flags|=4),ss(t),null);case 4:return Wp(),sT(e,t),e===null&&Mv(t.stateNode.containerInfo),ss(t),null;case 10:return QR(t.type._context),ss(t),null;case 17:return Js(t.type)&&Bx(),ss(t),null;case 19:if(kn(Bn),s=t.memoizedState,s===null)return ss(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)$g(s,!1);else{if(yi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qx(e),o!==null){for(t.flags|=128,$g(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return bn(Bn,Bn.current&1|2),t.child}e=e.sibling}s.tail!==null&&ii()>Gp&&(t.flags|=128,n=!0,$g(s,!1),t.lanes=4194304)}else{if(!n)if(e=qx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$g(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!An)return ss(t),null}else 2*ii()-s.renderingStartTime>Gp&&r!==1073741824&&(t.flags|=128,n=!0,$g(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ii(),t.sibling=null,r=Bn.current,bn(Bn,n?r&1|2:r&1),t):(ss(t),null);case 22:case 23:return fk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?bo&1073741824&&(ss(t),t.subtreeFlags&6&&(t.flags|=8192)):ss(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function t5(e,t){switch(GR(t),t.tag){case 1:return Js(t.type)&&Bx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wp(),kn(Qs),kn(ls),tk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ek(t),null;case 13:if(kn(Bn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Vp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kn(Bn),null;case 4:return Wp(),null;case 10:return QR(t.type._context),null;case 22:case 23:return fk(),null;case 24:return null;default:return null}}var nb=!1,as=!1,r5=typeof WeakSet=="function"?WeakSet:Set,ct=null;function pp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yn(e,t,n)}else r.current=null}function oT(e,t,r){try{r()}catch(n){Yn(e,t,n)}}var gP=!1;function n5(e,t){if(zC=Mx,e=hj(),WR(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,c=-1,a=-1,l=0,h=0,p=e,g=null;t:for(;;){for(var E;p!==r||i!==0&&p.nodeType!==3||(c=o+i),p!==s||n!==0&&p.nodeType!==3||(a=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(E=p.firstChild)!==null;)g=p,p=E;for(;;){if(p===e)break t;if(g===r&&++l===i&&(c=o),g===s&&++h===n&&(a=o),(E=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=E}r=c===-1||a===-1?null:{start:c,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(WC={focusedElem:e,selectionRange:r},Mx=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){t=ct;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,w=_.memoizedState,R=t.stateNode,S=R.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ca(t.type,y),w);R.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(A){Yn(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}return _=gP,gP=!1,_}function mv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&oT(t,r,s)}i=i.next}while(i!==n)}}function rS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aT(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lD(e){var t=e.alternate;t!==null&&(e.alternate=null,lD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dc],delete t[Fv],delete t[qC],delete t[U$],delete t[B$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uD(e){return e.tag===5||e.tag===3||e.tag===4}function vP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ux));else if(n!==4&&(e=e.child,e!==null))for(cT(e,t,r),e=e.sibling;e!==null;)cT(e,t,r),e=e.sibling}function lT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lT(e,t,r),e=e.sibling;e!==null;)lT(e,t,r),e=e.sibling}var Wi=null,Oa=!1;function au(e,t,r){for(r=r.child;r!==null;)dD(e,t,r),r=r.sibling}function dD(e,t,r){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(K_,r)}catch{}switch(r.tag){case 5:as||pp(r,t);case 6:var n=Wi,i=Oa;Wi=null,au(e,t,r),Wi=n,Oa=i,Wi!==null&&(Oa?(e=Wi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wi.removeChild(r.stateNode));break;case 18:Wi!==null&&(Oa?(e=Wi,r=r.stateNode,e.nodeType===8?lE(e.parentNode,r):e.nodeType===1&&lE(e,r),Iv(e)):lE(Wi,r.stateNode));break;case 4:n=Wi,i=Oa,Wi=r.stateNode.containerInfo,Oa=!0,au(e,t,r),Wi=n,Oa=i;break;case 0:case 11:case 14:case 15:if(!as&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&oT(r,t,o),i=i.next}while(i!==n)}au(e,t,r);break;case 1:if(!as&&(pp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Yn(r,t,c)}au(e,t,r);break;case 21:au(e,t,r);break;case 22:r.mode&1?(as=(n=as)||r.memoizedState!==null,au(e,t,r),as=n):au(e,t,r);break;default:au(e,t,r)}}function yP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new r5),t.forEach(function(n){var i=f5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Wi=c.stateNode,Oa=!1;break e;case 3:Wi=c.stateNode.containerInfo,Oa=!0;break e;case 4:Wi=c.stateNode.containerInfo,Oa=!0;break e}c=c.return}if(Wi===null)throw Error(Ue(160));dD(s,o,i),Wi=null,Oa=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){Yn(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fD(t,e),t=t.sibling}function fD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(t,e),ic(e),n&4){try{mv(3,e,e.return),rS(3,e)}catch(y){Yn(e,e.return,y)}try{mv(5,e,e.return)}catch(y){Yn(e,e.return,y)}}break;case 1:wa(t,e),ic(e),n&512&&r!==null&&pp(r,r.return);break;case 5:if(wa(t,e),ic(e),n&512&&r!==null&&pp(r,r.return),e.flags&32){var i=e.stateNode;try{Ov(i,"")}catch(y){Yn(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,c=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&jI(i,s),IC(c,o);var l=IC(c,s);for(o=0;o<a.length;o+=2){var h=a[o],p=a[o+1];h==="style"?UI(i,p):h==="dangerouslySetInnerHTML"?LI(i,p):h==="children"?Ov(i,p):NR(i,h,p,l)}switch(c){case"input":kC(i,s);break;case"textarea":DI(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?vp(i,!!s.multiple,E,!1):g!==!!s.multiple&&(s.defaultValue!=null?vp(i,!!s.multiple,s.defaultValue,!0):vp(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fv]=s}catch(y){Yn(e,e.return,y)}}break;case 6:if(wa(t,e),ic(e),n&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Yn(e,e.return,y)}}break;case 3:if(wa(t,e),ic(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Iv(t.containerInfo)}catch(y){Yn(e,e.return,y)}break;case 4:wa(t,e),ic(e);break;case 13:wa(t,e),ic(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uk=ii())),n&4&&yP(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(as=(l=as)||h,wa(t,e),as=l):wa(t,e),ic(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!h&&e.mode&1)for(ct=e,h=e.child;h!==null;){for(p=ct=h;ct!==null;){switch(g=ct,E=g.child,g.tag){case 0:case 11:case 14:case 15:mv(4,g,g.return);break;case 1:pp(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){Yn(n,r,y)}}break;case 5:pp(g,g.return);break;case 22:if(g.memoizedState!==null){xP(p);continue}}E!==null?(E.return=g,ct=E):xP(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=p.stateNode,a=p.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=FI("display",o))}catch(y){Yn(e,e.return,y)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(y){Yn(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wa(t,e),ic(e),n&4&&yP(e);break;case 21:break;default:wa(t,e),ic(e)}}function ic(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uD(r)){var n=r;break e}r=r.return}throw Error(Ue(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ov(i,""),n.flags&=-33);var s=vP(e);lT(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,c=vP(e);cT(e,c,o);break;default:throw Error(Ue(161))}}catch(a){Yn(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i5(e,t,r){ct=e,hD(e)}function hD(e,t,r){for(var n=(e.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||nb;if(!o){var c=i.alternate,a=c!==null&&c.memoizedState!==null||as;c=nb;var l=as;if(nb=o,(as=a)&&!l)for(ct=i;ct!==null;)o=ct,a=o.child,o.tag===22&&o.memoizedState!==null?_P(i):a!==null?(a.return=o,ct=a):_P(i);for(;s!==null;)ct=s,hD(s),s=s.sibling;ct=i,nb=c,as=l}bP(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ct=s):bP(e)}}function bP(e){for(;ct!==null;){var t=ct;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:as||rS(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!as)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ca(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&nP(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nP(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Iv(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}as||t.flags&512&&aT(t)}catch(g){Yn(t,t.return,g)}}if(t===e){ct=null;break}if(r=t.sibling,r!==null){r.return=t.return,ct=r;break}ct=t.return}}function xP(e){for(;ct!==null;){var t=ct;if(t===e){ct=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ct=r;break}ct=t.return}}function _P(e){for(;ct!==null;){var t=ct;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rS(4,t)}catch(a){Yn(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){Yn(t,i,a)}}var s=t.return;try{aT(t)}catch(a){Yn(t,s,a)}break;case 5:var o=t.return;try{aT(t)}catch(a){Yn(t,o,a)}}}catch(a){Yn(t,t.return,a)}if(t===e){ct=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ct=c;break}ct=t.return}}var s5=Math.ceil,Qx=xl.ReactCurrentDispatcher,ck=xl.ReactCurrentOwner,ea=xl.ReactCurrentBatchConfig,jr=0,ji=null,di=null,qi=0,bo=0,mp=sd(0),yi=0,Wv=null,Df=0,nS=0,lk=0,gv=null,Ws=null,uk=0,Gp=1/0,Zc=null,Jx=!1,uT=null,Lu=null,ib=!1,Ru=null,Xx=0,vv=0,dT=null,Rb=-1,kb=0;function Ns(){return jr&6?ii():Rb!==-1?Rb:Rb=ii()}function Fu(e){return e.mode&1?jr&2&&qi!==0?qi&-qi:V$.transition!==null?(kb===0&&(kb=JI()),kb):(e=Zr,e!==0||(e=window.event,e=e===void 0?16:ij(e.type)),e):1}function Ia(e,t,r,n){if(50<vv)throw vv=0,dT=null,Error(Ue(185));my(e,r,n),(!(jr&2)||e!==ji)&&(e===ji&&(!(jr&2)&&(nS|=r),yi===4&&bu(e,qi)),Xs(e,n),r===1&&jr===0&&!(t.mode&1)&&(Gp=ii()+500,Z_&&od()))}function Xs(e,t){var r=e.callbackNode;V3(e,t);var n=Dx(e,e===ji?qi:0);if(n===0)r!==null&&PO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&PO(r),t===1)e.tag===0?$$(SP.bind(null,e)):wj(SP.bind(null,e)),L$(function(){!(jr&6)&&od()}),r=null;else{switch(XI(n)){case 1:r=MR;break;case 4:r=YI;break;case 16:r=jx;break;case 536870912:r=QI;break;default:r=jx}r=_D(r,pD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pD(e,t){if(Rb=-1,kb=0,jr&6)throw Error(Ue(327));var r=e.callbackNode;if(Sp()&&e.callbackNode!==r)return null;var n=Dx(e,e===ji?qi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zx(e,n);else{t=n;var i=jr;jr|=2;var s=gD();(ji!==e||qi!==t)&&(Zc=null,Gp=ii()+500,Tf(e,t));do try{c5();break}catch(c){mD(e,c)}while(!0);YR(),Qx.current=s,jr=i,di!==null?t=0:(ji=null,qi=0,t=yi)}if(t!==0){if(t===2&&(i=FC(e),i!==0&&(n=i,t=fT(e,i))),t===1)throw r=Wv,Tf(e,0),bu(e,n),Xs(e,ii()),r;if(t===6)bu(e,n);else{if(i=e.current.alternate,!(n&30)&&!o5(i)&&(t=Zx(e,n),t===2&&(s=FC(e),s!==0&&(n=s,t=fT(e,s))),t===1))throw r=Wv,Tf(e,0),bu(e,n),Xs(e,ii()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ue(345));case 2:uf(e,Ws,Zc);break;case 3:if(bu(e,n),(n&130023424)===n&&(t=uk+500-ii(),10<t)){if(Dx(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ns(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=GC(uf.bind(null,e,Ws,Zc),t);break}uf(e,Ws,Zc);break;case 4:if(bu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Aa(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ii()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s5(n/1960))-n,10<n){e.timeoutHandle=GC(uf.bind(null,e,Ws,Zc),n);break}uf(e,Ws,Zc);break;case 5:uf(e,Ws,Zc);break;default:throw Error(Ue(329))}}}return Xs(e,ii()),e.callbackNode===r?pD.bind(null,e):null}function fT(e,t){var r=gv;return e.current.memoizedState.isDehydrated&&(Tf(e,t).flags|=256),e=Zx(e,t),e!==2&&(t=Ws,Ws=r,t!==null&&hT(t)),e}function hT(e){Ws===null?Ws=e:Ws.push.apply(Ws,e)}function o5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ja(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bu(e,t){for(t&=~lk,t&=~nS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Aa(t),n=1<<r;e[r]=-1,t&=~n}}function SP(e){if(jr&6)throw Error(Ue(327));Sp();var t=Dx(e,0);if(!(t&1))return Xs(e,ii()),null;var r=Zx(e,t);if(e.tag!==0&&r===2){var n=FC(e);n!==0&&(t=n,r=fT(e,n))}if(r===1)throw r=Wv,Tf(e,0),bu(e,t),Xs(e,ii()),r;if(r===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uf(e,Ws,Zc),Xs(e,ii()),null}function dk(e,t){var r=jr;jr|=1;try{return e(t)}finally{jr=r,jr===0&&(Gp=ii()+500,Z_&&od())}}function Mf(e){Ru!==null&&Ru.tag===0&&!(jr&6)&&Sp();var t=jr;jr|=1;var r=ea.transition,n=Zr;try{if(ea.transition=null,Zr=1,e)return e()}finally{Zr=n,ea.transition=r,jr=t,!(jr&6)&&od()}}function fk(){bo=mp.current,kn(mp)}function Tf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,M$(r)),di!==null)for(r=di.return;r!==null;){var n=r;switch(GR(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bx();break;case 3:Wp(),kn(Qs),kn(ls),tk();break;case 5:ek(n);break;case 4:Wp();break;case 13:kn(Bn);break;case 19:kn(Bn);break;case 10:QR(n.type._context);break;case 22:case 23:fk()}r=r.return}if(ji=e,di=e=Uu(e.current,null),qi=bo=t,yi=0,Wv=null,lk=nS=Df=0,Ws=gv=null,pf!==null){for(t=0;t<pf.length;t++)if(r=pf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}pf=null}return e}function mD(e,t){do{var r=di;try{if(YR(),Eb.current=Yx,Kx){for(var n=Vn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kx=!1}if(jf=0,Ai=vi=Vn=null,pv=!1,$v=0,ck.current=null,r===null||r.return===null){yi=1,Wv=t,di=null;break}e:{var s=e,o=r.return,c=r,a=t;if(t=qi,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,h=c,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var E=lP(o);if(E!==null){E.flags&=-257,uP(E,o,c,s,t),E.mode&1&&cP(s,l,t),t=E,a=l;var _=t.updateQueue;if(_===null){var y=new Set;y.add(a),t.updateQueue=y}else _.add(a);break e}else{if(!(t&1)){cP(s,l,t),hk();break e}a=Error(Ue(426))}}else if(An&&c.mode&1){var w=lP(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uP(w,o,c,s,t),qR(Hp(a,c));break e}}s=a=Hp(a,c),yi!==4&&(yi=2),gv===null?gv=[s]:gv.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var R=Xj(s,a,t);rP(s,R);break e;case 1:c=a;var S=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Lu===null||!Lu.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var A=Zj(s,c,t);rP(s,A);break e}}s=s.return}while(s!==null)}yD(r)}catch(L){t=L,di===r&&r!==null&&(di=r=r.return);continue}break}while(!0)}function gD(){var e=Qx.current;return Qx.current=Yx,e===null?Yx:e}function hk(){(yi===0||yi===3||yi===2)&&(yi=4),ji===null||!(Df&268435455)&&!(nS&268435455)||bu(ji,qi)}function Zx(e,t){var r=jr;jr|=2;var n=gD();(ji!==e||qi!==t)&&(Zc=null,Tf(e,t));do try{a5();break}catch(i){mD(e,i)}while(!0);if(YR(),jr=r,Qx.current=n,di!==null)throw Error(Ue(261));return ji=null,qi=0,yi}function a5(){for(;di!==null;)vD(di)}function c5(){for(;di!==null&&!I3();)vD(di)}function vD(e){var t=xD(e.alternate,e,bo);e.memoizedProps=e.pendingProps,t===null?yD(e):di=t,ck.current=null}function yD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=t5(r,t),r!==null){r.flags&=32767,di=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yi=6,di=null;return}}else if(r=e5(r,t,bo),r!==null){di=r;return}if(t=t.sibling,t!==null){di=t;return}di=t=e}while(t!==null);yi===0&&(yi=5)}function uf(e,t,r){var n=Zr,i=ea.transition;try{ea.transition=null,Zr=1,l5(e,t,r,n)}finally{ea.transition=i,Zr=n}return null}function l5(e,t,r,n){do Sp();while(Ru!==null);if(jr&6)throw Error(Ue(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(z3(e,s),e===ji&&(di=ji=null,qi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ib||(ib=!0,_D(jx,function(){return Sp(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ea.transition,ea.transition=null;var o=Zr;Zr=1;var c=jr;jr|=4,ck.current=null,n5(e,r),fD(r,e),O$(WC),Mx=!!zC,WC=zC=null,e.current=r,i5(r),j3(),jr=c,Zr=o,ea.transition=s}else e.current=r;if(ib&&(ib=!1,Ru=e,Xx=i),s=e.pendingLanes,s===0&&(Lu=null),L3(r.stateNode),Xs(e,ii()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Jx)throw Jx=!1,e=uT,uT=null,e;return Xx&1&&e.tag!==0&&Sp(),s=e.pendingLanes,s&1?e===dT?vv++:(vv=0,dT=e):vv=0,od(),null}function Sp(){if(Ru!==null){var e=XI(Xx),t=ea.transition,r=Zr;try{if(ea.transition=null,Zr=16>e?16:e,Ru===null)var n=!1;else{if(e=Ru,Ru=null,Xx=0,jr&6)throw Error(Ue(331));var i=jr;for(jr|=4,ct=e.current;ct!==null;){var s=ct,o=s.child;if(ct.flags&16){var c=s.deletions;if(c!==null){for(var a=0;a<c.length;a++){var l=c[a];for(ct=l;ct!==null;){var h=ct;switch(h.tag){case 0:case 11:case 15:mv(8,h,s)}var p=h.child;if(p!==null)p.return=h,ct=p;else for(;ct!==null;){h=ct;var g=h.sibling,E=h.return;if(lD(h),h===l){ct=null;break}if(g!==null){g.return=E,ct=g;break}ct=E}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ct=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ct=o;else e:for(;ct!==null;){if(s=ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mv(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,ct=R;break e}ct=s.return}}var S=e.current;for(ct=S;ct!==null;){o=ct;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ct=C;else e:for(o=S;ct!==null;){if(c=ct,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:rS(9,c)}}catch(L){Yn(c,c.return,L)}if(c===o){ct=null;break e}var A=c.sibling;if(A!==null){A.return=c.return,ct=A;break e}ct=c.return}}if(jr=i,od(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(K_,e)}catch{}n=!0}return n}finally{Zr=r,ea.transition=t}}return!1}function wP(e,t,r){t=Hp(r,t),t=Xj(e,t,1),e=Mu(e,t,1),t=Ns(),e!==null&&(my(e,1,t),Xs(e,t))}function Yn(e,t,r){if(e.tag===3)wP(e,e,r);else for(;t!==null;){if(t.tag===3){wP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lu===null||!Lu.has(n))){e=Hp(r,e),e=Zj(t,e,1),t=Mu(t,e,1),e=Ns(),t!==null&&(my(t,1,e),Xs(t,e));break}}t=t.return}}function u5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ns(),e.pingedLanes|=e.suspendedLanes&r,ji===e&&(qi&r)===r&&(yi===4||yi===3&&(qi&130023424)===qi&&500>ii()-uk?Tf(e,0):lk|=r),Xs(e,t)}function bD(e,t){t===0&&(e.mode&1?(t=K0,K0<<=1,!(K0&130023424)&&(K0=4194304)):t=1);var r=Ns();e=fl(e,t),e!==null&&(my(e,t,r),Xs(e,r))}function d5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bD(e,r)}function f5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ue(314))}n!==null&&n.delete(t),bD(e,r)}var xD;xD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qs.current)Gs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gs=!1,Z$(e,t,r);Gs=!!(e.flags&131072)}else Gs=!1,An&&t.flags&1048576&&Ej(t,zx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tb(e,t),e=t.pendingProps;var i=$p(t,ls.current);_p(t,r),i=nk(null,t,n,e,i,r);var s=ik();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Js(n)?(s=!0,$x(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,XR(t),i.updater=tS,t.stateNode=i,i._reactInternals=t,ZC(t,n,e,r),t=rT(null,t,n,!0,s,r)):(t.tag=0,An&&s&&HR(t),Rs(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tb(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=p5(n),e=Ca(n,e),i){case 0:t=tT(null,t,n,e,r);break e;case 1:t=hP(null,t,n,e,r);break e;case 11:t=dP(null,t,n,e,r);break e;case 14:t=fP(null,t,n,Ca(n.type,e),r);break e}throw Error(Ue(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ca(n,i),tT(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ca(n,i),hP(e,t,n,i,r);case 3:e:{if(nD(t),e===null)throw Error(Ue(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Pj(e,t),Gx(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Hp(Error(Ue(423)),t),t=pP(e,t,n,r,i);break e}else if(n!==i){i=Hp(Error(Ue(424)),t),t=pP(e,t,n,r,i);break e}else for(_o=Du(t.stateNode.containerInfo.firstChild),Eo=t,An=!0,Pa=null,r=kj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vp(),n===i){t=hl(e,t,r);break e}Rs(e,t,n,r)}t=t.child}return t;case 5:return Nj(t),e===null&&QC(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,HC(n,i)?o=null:s!==null&&HC(n,s)&&(t.flags|=32),rD(e,t),Rs(e,t,o,r),t.child;case 6:return e===null&&QC(t),null;case 13:return iD(e,t,r);case 4:return ZR(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zp(t,null,n,r):Rs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ca(n,i),dP(e,t,n,i,r);case 7:return Rs(e,t,t.pendingProps,r),t.child;case 8:return Rs(e,t,t.pendingProps.children,r),t.child;case 12:return Rs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,bn(Wx,n._currentValue),n._currentValue=o,s!==null)if(ja(s.value,o)){if(s.children===i.children&&!Qs.current){t=hl(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var a=c.firstContext;a!==null;){if(a.context===n){if(s.tag===1){a=ol(-1,r&-r),a.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?a.next=a:(a.next=h.next,h.next=a),l.pending=a}}s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),JC(s.return,r,t),c.lanes|=r;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),JC(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,_p(t,r),i=na(i),n=n(i),t.flags|=1,Rs(e,t,n,r),t.child;case 14:return n=t.type,i=Ca(n,t.pendingProps),i=Ca(n.type,i),fP(e,t,n,i,r);case 15:return eD(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ca(n,i),Tb(e,t),t.tag=1,Js(n)?(e=!0,$x(t)):e=!1,_p(t,r),Jj(t,n,i),ZC(t,n,i,r),rT(null,t,n,!0,e,r);case 19:return sD(e,t,r);case 22:return tD(e,t,r)}throw Error(Ue(156,t.tag))};function _D(e,t){return KI(e,t)}function h5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zo(e,t,r,n){return new h5(e,t,r,n)}function pk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p5(e){if(typeof e=="function")return pk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===IR)return 11;if(e===jR)return 14}return 2}function Uu(e,t){var r=e.alternate;return r===null?(r=Zo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ob(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")pk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case sp:return Rf(r.children,i,s,t);case AR:o=8,i|=8;break;case wC:return e=Zo(12,r,t,i|2),e.elementType=wC,e.lanes=s,e;case EC:return e=Zo(13,r,t,i),e.elementType=EC,e.lanes=s,e;case CC:return e=Zo(19,r,t,i),e.elementType=CC,e.lanes=s,e;case NI:return iS(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case OI:o=10;break e;case PI:o=9;break e;case IR:o=11;break e;case jR:o=14;break e;case pu:o=16,n=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Zo(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Rf(e,t,r,n){return e=Zo(7,e,n,t),e.lanes=r,e}function iS(e,t,r,n){return e=Zo(22,e,n,t),e.elementType=NI,e.lanes=r,e.stateNode={isHidden:!1},e}function vE(e,t,r){return e=Zo(6,e,null,t),e.lanes=r,e}function yE(e,t,r){return t=Zo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m5(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xw(0),this.expirationTimes=Xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mk(e,t,r,n,i,s,o,c,a){return e=new m5(e,t,r,c,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XR(s),e}function g5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ip,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function SD(e){if(!e)return Qu;e=e._reactInternals;e:{if(Qf(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var r=e.type;if(Js(r))return Sj(e,r,t)}return t}function wD(e,t,r,n,i,s,o,c,a){return e=mk(r,n,!0,e,i,s,o,c,a),e.context=SD(null),r=e.current,n=Ns(),i=Fu(r),s=ol(n,i),s.callback=t??null,Mu(r,s,i),e.current.lanes=i,my(e,i,n),Xs(e,n),e}function sS(e,t,r,n){var i=t.current,s=Ns(),o=Fu(i);return r=SD(r),t.context===null?t.context=r:t.pendingContext=r,t=ol(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mu(i,t,o),e!==null&&(Ia(e,i,o,s),wb(e,i,o)),o}function e_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gk(e,t){EP(e,t),(e=e.alternate)&&EP(e,t)}function v5(){return null}var ED=typeof reportError=="function"?reportError:function(e){console.error(e)};function vk(e){this._internalRoot=e}oS.prototype.render=vk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));sS(e,t,null,null)};oS.prototype.unmount=vk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mf(function(){sS(null,e,null,null)}),t[dl]=null}};function oS(e){this._internalRoot=e}oS.prototype.unstable_scheduleHydration=function(e){if(e){var t=tj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yu.length&&t!==0&&t<yu[r].priority;r++);yu.splice(r,0,e),r===0&&nj(e)}};function yk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CP(){}function y5(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=e_(o);s.call(l)}}var o=wD(t,n,e,0,null,!1,!1,"",CP);return e._reactRootContainer=o,e[dl]=o.current,Mv(e.nodeType===8?e.parentNode:e),Mf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var l=e_(a);c.call(l)}}var a=mk(e,0,!1,null,null,!1,!1,"",CP);return e._reactRootContainer=a,e[dl]=a.current,Mv(e.nodeType===8?e.parentNode:e),Mf(function(){sS(t,a,r,n)}),a}function cS(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var c=i;i=function(){var a=e_(o);c.call(a)}}sS(t,o,e,i)}else o=y5(r,t,e,i,n);return e_(o)}ZI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ev(t.pendingLanes);r!==0&&(LR(t,r|1),Xs(t,ii()),!(jr&6)&&(Gp=ii()+500,od()))}break;case 13:Mf(function(){var n=fl(e,1);if(n!==null){var i=Ns();Ia(n,e,1,i)}}),gk(e,1)}};FR=function(e){if(e.tag===13){var t=fl(e,134217728);if(t!==null){var r=Ns();Ia(t,e,134217728,r)}gk(e,134217728)}};ej=function(e){if(e.tag===13){var t=Fu(e),r=fl(e,t);if(r!==null){var n=Ns();Ia(r,e,t,n)}gk(e,t)}};tj=function(){return Zr};rj=function(e,t){var r=Zr;try{return Zr=e,t()}finally{Zr=r}};DC=function(e,t,r){switch(t){case"input":if(kC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=X_(n);if(!i)throw Error(Ue(90));II(n),kC(n,i)}}}break;case"textarea":DI(e,r);break;case"select":t=r.value,t!=null&&vp(e,!!r.multiple,t,!1)}};VI=dk;zI=Mf;var b5={usingClientEntryPoint:!1,Events:[vy,lp,X_,BI,$I,dk]},Vg={findFiberByHostInstance:hf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x5={bundleType:Vg.bundleType,version:Vg.version,rendererPackageName:Vg.rendererPackageName,rendererConfig:Vg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GI(e),e===null?null:e.stateNode},findFiberByHostInstance:Vg.findFiberByHostInstance||v5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sb.isDisabled&&sb.supportsFiber)try{K_=sb.inject(x5),gc=sb}catch{}}No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b5;No.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yk(t))throw Error(Ue(200));return g5(e,t,null,r)};No.createRoot=function(e,t){if(!yk(e))throw Error(Ue(299));var r=!1,n="",i=ED;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mk(e,1,!1,null,null,r,!1,n,i),e[dl]=t.current,Mv(e.nodeType===8?e.parentNode:e),new vk(t)};No.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=GI(t),e=e===null?null:e.stateNode,e};No.flushSync=function(e){return Mf(e)};No.hydrate=function(e,t,r){if(!aS(t))throw Error(Ue(200));return cS(null,e,t,!0,r)};No.hydrateRoot=function(e,t,r){if(!yk(e))throw Error(Ue(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=ED;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wD(t,null,e,1,r??null,i,!1,s,o),e[dl]=t.current,Mv(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new oS(t)};No.render=function(e,t,r){if(!aS(t))throw Error(Ue(200));return cS(null,e,t,!1,r)};No.unmountComponentAtNode=function(e){if(!aS(e))throw Error(Ue(40));return e._reactRootContainer?(Mf(function(){cS(null,null,e,!1,function(){e._reactRootContainer=null,e[dl]=null})}),!0):!1};No.unstable_batchedUpdates=dk;No.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!aS(r))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return cS(e,t,r,!1,n)};No.version="18.3.1-next-f1338f8080-20240426";function CD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CD)}catch(e){console.error(e)}}CD(),CI.exports=No;var Jf=CI.exports;const _5=Kf(Jf);var TD,TP=Jf;TD=TP.createRoot,TP.hydrateRoot;var lS=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uS=typeof window>"u"||"Deno"in globalThis;function Ta(){}function S5(e,t){return typeof e=="function"?e(t):e}function w5(e){return typeof e=="number"&&e>=0&&e!==1/0}function E5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function RP(e,t){return typeof e=="function"?e(t):e}function C5(e,t){return typeof e=="function"?e(t):e}function kP(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:c}=e;if(o){if(n){if(t.queryHash!==bk(o,t.options))return!1}else if(!Gv(t.queryKey,o))return!1}if(r!=="all"){const a=t.isActive();if(r==="active"&&!a||r==="inactive"&&a)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||s&&!s(t))}function OP(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Hv(t.options.mutationKey)!==Hv(s))return!1}else if(!Gv(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function bk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hv)(e)}function Hv(e){return JSON.stringify(e,(t,r)=>pT(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Gv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Gv(e[r],t[r])):!1}function RD(e,t){if(e===t)return e;const r=PP(e)&&PP(t);if(r||pT(e)&&pT(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),o=s.length,c=r?[]:{};let a=0;for(let l=0;l<o;l++){const h=r?l:s[l];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(c[h]=void 0,a++):(c[h]=RD(e[h],t[h]),c[h]===e[h]&&e[h]!==void 0&&a++)}return i===o&&a===i?e:c}return t}function PP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pT(e){if(!NP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!NP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NP(e){return Object.prototype.toString.call(e)==="[object Object]"}function T5(e){return new Promise(t=>{setTimeout(t,e)})}function R5(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?RD(e,t):t}function k5(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function O5(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var xk=Symbol();function kD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _f,_u,Np,sI,P5=(sI=class extends lS{constructor(){super();Br(this,_f);Br(this,_u);Br(this,Np);dr(this,Np,t=>{if(!uS&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Oe(this,_u)||this.setEventListener(Oe(this,Np))}onUnsubscribe(){var t;this.hasListeners()||((t=Oe(this,_u))==null||t.call(this),dr(this,_u,void 0))}setEventListener(t){var r;dr(this,Np,t),(r=Oe(this,_u))==null||r.call(this),dr(this,_u,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Oe(this,_f)!==t&&(dr(this,_f,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Oe(this,_f)=="boolean"?Oe(this,_f):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_f=new WeakMap,_u=new WeakMap,Np=new WeakMap,sI),OD=new P5,Ap,Su,Ip,oI,N5=(oI=class extends lS{constructor(){super();Br(this,Ap,!0);Br(this,Su);Br(this,Ip);dr(this,Ip,t=>{if(!uS&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Oe(this,Su)||this.setEventListener(Oe(this,Ip))}onUnsubscribe(){var t;this.hasListeners()||((t=Oe(this,Su))==null||t.call(this),dr(this,Su,void 0))}setEventListener(t){var r;dr(this,Ip,t),(r=Oe(this,Su))==null||r.call(this),dr(this,Su,t(this.setOnline.bind(this)))}setOnline(t){Oe(this,Ap)!==t&&(dr(this,Ap,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Oe(this,Ap)}},Ap=new WeakMap,Su=new WeakMap,Ip=new WeakMap,oI),t_=new N5;function A5(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function I5(e){return Math.min(1e3*2**e,3e4)}function PD(e){return(e??"online")==="online"?t_.isOnline():!0}var ND=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bE(e){return e instanceof ND}function AD(e){let t=!1,r=0,n=!1,i;const s=A5(),o=y=>{var w;n||(g(new ND(y)),(w=e.abort)==null||w.call(e))},c=()=>{t=!0},a=()=>{t=!1},l=()=>OD.isFocused()&&(e.networkMode==="always"||t_.isOnline())&&e.canRun(),h=()=>PD(e.networkMode)&&e.canRun(),p=y=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,y),i==null||i(),s.resolve(y))},g=y=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,y),i==null||i(),s.reject(y))},E=()=>new Promise(y=>{var w;i=R=>{(n||l())&&y(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;i=void 0,n||(y=e.onContinue)==null||y.call(e)}),_=()=>{if(n)return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(R){y=Promise.reject(R)}Promise.resolve(y).then(p).catch(R=>{var U;if(n)return;const S=e.retry??(uS?0:3),C=e.retryDelay??I5,A=typeof C=="function"?C(r,R):C,L=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,R);if(t||!L){g(R);return}r++,(U=e.onFail)==null||U.call(e,r,R),T5(A).then(()=>l()?void 0:E()).then(()=>{t?g(R):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:c,continueRetry:a,canStart:h,start:()=>(h()?_():E().then(_),s)}}function j5(){let e=[],t=0,r=c=>{c()},n=c=>{c()},i=c=>setTimeout(c,0);const s=c=>{t?e.push(c):i(()=>{r(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{n(()=>{c.forEach(a=>{r(a)})})})};return{batch:c=>{let a;t++;try{a=c()}finally{t--,t||o()}return a},batchCalls:c=>(...a)=>{s(()=>{c(...a)})},schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{i=c}}}var Ps=j5(),Sf,aI,ID=(aI=class{constructor(){Br(this,Sf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),w5(this.gcTime)&&dr(this,Sf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uS?1/0:5*60*1e3))}clearGcTimeout(){Oe(this,Sf)&&(clearTimeout(Oe(this,Sf)),dr(this,Sf,void 0))}},Sf=new WeakMap,aI),jp,Dp,Ko,wf,os,fy,Ef,Ra,Jc,cI,D5=(cI=class extends ID{constructor(t){super();Br(this,Ra);Br(this,jp);Br(this,Dp);Br(this,Ko);Br(this,wf);Br(this,os);Br(this,fy);Br(this,Ef);dr(this,Ef,!1),dr(this,fy,t.defaultOptions),this.setOptions(t.options),this.observers=[],dr(this,wf,t.client),dr(this,Ko,Oe(this,wf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,dr(this,jp,L5(this.options)),this.state=t.state??Oe(this,jp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Oe(this,os))==null?void 0:t.promise}setOptions(t){this.options={...Oe(this,fy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Oe(this,Ko).remove(this)}setData(t,r){const n=R5(this.state.data,t,this.options);return ns(this,Ra,Jc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ns(this,Ra,Jc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=Oe(this,os))==null?void 0:n.promise;return(i=Oe(this,os))==null||i.cancel(t),r?r.then(Ta).catch(Ta):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Oe(this,jp))}isActive(){return this.observers.some(t=>C5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!E5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Oe(this,os))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Oe(this,os))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Oe(this,Ko).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Oe(this,os)&&(Oe(this,Ef)?Oe(this,os).cancel({revert:!0}):Oe(this,os).cancelRetry()),this.scheduleGc()),Oe(this,Ko).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ns(this,Ra,Jc).call(this,{type:"invalidate"})}fetch(t,r){var a,l,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Oe(this,os))return Oe(this,os).continueRetry(),Oe(this,os).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(dr(this,Ef,!0),n.signal)})},s=()=>{const p=kD(this.options,r),g={client:Oe(this,wf),queryKey:this.queryKey,meta:this.meta};return i(g),dr(this,Ef,!1),this.options.persister?this.options.persister(p,g,this):p(g)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Oe(this,wf),state:this.state,fetchFn:s};i(o),(a=this.options.behavior)==null||a.onFetch(o,this),dr(this,Dp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&ns(this,Ra,Jc).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=p=>{var g,E,_,y;bE(p)&&p.silent||ns(this,Ra,Jc).call(this,{type:"error",error:p}),bE(p)||((E=(g=Oe(this,Ko).config).onError)==null||E.call(g,p,this),(y=(_=Oe(this,Ko).config).onSettled)==null||y.call(_,this.state.data,p,this)),this.scheduleGc()};return dr(this,os,AD({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var g,E,_,y;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){c(w);return}(E=(g=Oe(this,Ko).config).onSuccess)==null||E.call(g,p,this),(y=(_=Oe(this,Ko).config).onSettled)==null||y.call(_,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,g)=>{ns(this,Ra,Jc).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{ns(this,Ra,Jc).call(this,{type:"pause"})},onContinue:()=>{ns(this,Ra,Jc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Oe(this,os).start()}},jp=new WeakMap,Dp=new WeakMap,Ko=new WeakMap,wf=new WeakMap,os=new WeakMap,fy=new WeakMap,Ef=new WeakMap,Ra=new WeakSet,Jc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...M5(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return bE(i)&&i.revert&&Oe(this,Dp)?{...Oe(this,Dp),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ps.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Oe(this,Ko).notify({query:this,type:"updated",action:t})})},cI);function M5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function L5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cc,lI,F5=(lI=class extends lS{constructor(t={}){super();Br(this,cc);this.config=t,dr(this,cc,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??bk(i,r);let o=this.get(s);return o||(o=new D5({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Oe(this,cc).has(t.queryHash)||(Oe(this,cc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Oe(this,cc).get(t.queryHash);r&&(t.destroy(),r===t&&Oe(this,cc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Oe(this,cc).get(t)}getAll(){return[...Oe(this,cc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kP(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>kP(t,n)):r}notify(t){Ps.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ps.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ps.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cc=new WeakMap,lI),lc,Cs,Cf,uc,fu,uI,U5=(uI=class extends ID{constructor(t){super();Br(this,uc);Br(this,lc);Br(this,Cs);Br(this,Cf);this.mutationId=t.mutationId,dr(this,Cs,t.mutationCache),dr(this,lc,[]),this.state=t.state||B5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Oe(this,lc).includes(t)||(Oe(this,lc).push(t),this.clearGcTimeout(),Oe(this,Cs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){dr(this,lc,Oe(this,lc).filter(r=>r!==t)),this.scheduleGc(),Oe(this,Cs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Oe(this,lc).length||(this.state.status==="pending"?this.scheduleGc():Oe(this,Cs).remove(this))}continue(){var t;return((t=Oe(this,Cf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,o,c,a,l,h,p,g,E,_,y,w,R,S,C,A,L,U,B;dr(this,Cf,AD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,G)=>{ns(this,uc,fu).call(this,{type:"failed",failureCount:z,error:G})},onPause:()=>{ns(this,uc,fu).call(this,{type:"pause"})},onContinue:()=>{ns(this,uc,fu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Oe(this,Cs).canRun(this)}));const r=this.state.status==="pending",n=!Oe(this,Cf).canStart();try{if(!r){ns(this,uc,fu).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(i=Oe(this,Cs).config).onMutate)==null?void 0:s.call(i,t,this));const G=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));G!==this.state.context&&ns(this,uc,fu).call(this,{type:"pending",context:G,variables:t,isPaused:n})}const z=await Oe(this,Cf).start();return await((l=(a=Oe(this,Cs).config).onSuccess)==null?void 0:l.call(a,z,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,z,t,this.state.context)),await((E=(g=Oe(this,Cs).config).onSettled)==null?void 0:E.call(g,z,null,this.state.variables,this.state.context,this)),await((y=(_=this.options).onSettled)==null?void 0:y.call(_,z,null,t,this.state.context)),ns(this,uc,fu).call(this,{type:"success",data:z}),z}catch(z){try{throw await((R=(w=Oe(this,Cs).config).onError)==null?void 0:R.call(w,z,t,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,z,t,this.state.context)),await((L=(A=Oe(this,Cs).config).onSettled)==null?void 0:L.call(A,void 0,z,this.state.variables,this.state.context,this)),await((B=(U=this.options).onSettled)==null?void 0:B.call(U,void 0,z,t,this.state.context)),z}finally{ns(this,uc,fu).call(this,{type:"error",error:z})}}finally{Oe(this,Cs).runNext(this)}}},lc=new WeakMap,Cs=new WeakMap,Cf=new WeakMap,uc=new WeakSet,fu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ps.batch(()=>{Oe(this,lc).forEach(n=>{n.onMutationUpdate(t)}),Oe(this,Cs).notify({mutation:this,type:"updated",action:t})})},uI);function B5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rl,ka,hy,dI,$5=(dI=class extends lS{constructor(t={}){super();Br(this,rl);Br(this,ka);Br(this,hy);this.config=t,dr(this,rl,new Set),dr(this,ka,new Map),dr(this,hy,0)}build(t,r,n){const i=new U5({mutationCache:this,mutationId:++V0(this,hy)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){Oe(this,rl).add(t);const r=ob(t);if(typeof r=="string"){const n=Oe(this,ka).get(r);n?n.push(t):Oe(this,ka).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Oe(this,rl).delete(t)){const r=ob(t);if(typeof r=="string"){const n=Oe(this,ka).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&Oe(this,ka).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ob(t);if(typeof r=="string"){const n=Oe(this,ka).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=ob(t);if(typeof r=="string"){const i=(n=Oe(this,ka).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ps.batch(()=>{Oe(this,rl).forEach(t=>{this.notify({type:"removed",mutation:t})}),Oe(this,rl).clear(),Oe(this,ka).clear()})}getAll(){return Array.from(Oe(this,rl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>OP(r,n))}findAll(t={}){return this.getAll().filter(r=>OP(t,r))}notify(t){Ps.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ps.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ta))))}},rl=new WeakMap,ka=new WeakMap,hy=new WeakMap,dI);function ob(e){var t;return(t=e.options.scope)==null?void 0:t.id}function AP(e){return{onFetch:(t,r)=>{var h,p,g,E,_;const n=t.options,i=(g=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,s=((E=t.state.data)==null?void 0:E.pages)||[],o=((_=t.state.data)==null?void 0:_.pageParams)||[];let c={pages:[],pageParams:[]},a=0;const l=async()=>{let y=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},R=kD(t.options,t.fetchOptions),S=async(C,A,L)=>{if(y)return Promise.reject();if(A==null&&C.pages.length)return Promise.resolve(C);const U={client:t.client,queryKey:t.queryKey,pageParam:A,direction:L?"backward":"forward",meta:t.options.meta};w(U);const B=await R(U),{maxPages:z}=t.options,G=L?O5:k5;return{pages:G(C.pages,B,z),pageParams:G(C.pageParams,A,z)}};if(i&&s.length){const C=i==="backward",A=C?V5:IP,L={pages:s,pageParams:o},U=A(n,L);c=await S(L,U,C)}else{const C=e??s.length;do{const A=a===0?o[0]??n.initialPageParam:IP(n,c);if(a>0&&A==null)break;c=await S(c,A),a++}while(a<C)}return c};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=l}}}function IP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function V5(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var qn,wu,Eu,Mp,Lp,Cu,Fp,Up,fI,z5=(fI=class{constructor(e={}){Br(this,qn);Br(this,wu);Br(this,Eu);Br(this,Mp);Br(this,Lp);Br(this,Cu);Br(this,Fp);Br(this,Up);dr(this,qn,e.queryCache||new F5),dr(this,wu,e.mutationCache||new $5),dr(this,Eu,e.defaultOptions||{}),dr(this,Mp,new Map),dr(this,Lp,new Map),dr(this,Cu,0)}mount(){V0(this,Cu)._++,Oe(this,Cu)===1&&(dr(this,Fp,OD.subscribe(async e=>{e&&(await this.resumePausedMutations(),Oe(this,qn).onFocus())})),dr(this,Up,t_.subscribe(async e=>{e&&(await this.resumePausedMutations(),Oe(this,qn).onOnline())})))}unmount(){var e,t;V0(this,Cu)._--,Oe(this,Cu)===0&&((e=Oe(this,Fp))==null||e.call(this),dr(this,Fp,void 0),(t=Oe(this,Up))==null||t.call(this),dr(this,Up,void 0))}isFetching(e){return Oe(this,qn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Oe(this,wu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Oe(this,qn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Oe(this,qn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(RP(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Oe(this,qn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=Oe(this,qn).get(n.queryHash),s=i==null?void 0:i.state.data,o=S5(t,s);if(o!==void 0)return Oe(this,qn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ps.batch(()=>Oe(this,qn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Oe(this,qn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Oe(this,qn);Ps.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Oe(this,qn);return Ps.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ps.batch(()=>Oe(this,qn).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ta).catch(Ta)}invalidateQueries(e,t={}){return Ps.batch(()=>(Oe(this,qn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ps.batch(()=>Oe(this,qn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ta)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ta)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Oe(this,qn).build(this,t);return r.isStaleByTime(RP(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ta).catch(Ta)}fetchInfiniteQuery(e){return e.behavior=AP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ta).catch(Ta)}ensureInfiniteQueryData(e){return e.behavior=AP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return t_.isOnline()?Oe(this,wu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Oe(this,qn)}getMutationCache(){return Oe(this,wu)}getDefaultOptions(){return Oe(this,Eu)}setDefaultOptions(e){dr(this,Eu,e)}setQueryDefaults(e,t){Oe(this,Mp).set(Hv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Oe(this,Mp).values()],r={};return t.forEach(n=>{Gv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Oe(this,Lp).set(Hv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Oe(this,Lp).values()],r={};return t.forEach(n=>{Gv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Oe(this,Eu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Oe(this,Eu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Oe(this,qn).clear(),Oe(this,wu).clear()}},qn=new WeakMap,wu=new WeakMap,Eu=new WeakMap,Mp=new WeakMap,Lp=new WeakMap,Cu=new WeakMap,Fp=new WeakMap,Up=new WeakMap,fI),W5=P.createContext(void 0),H5=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(W5.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}var ku;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ku||(ku={}));const jP="popstate";function G5(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:c}=n.location;return mT("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:r_(i)}return K5(t,r,null,e)}function si(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q5(){return Math.random().toString(36).substr(2,8)}function DP(e,t){return{usr:e.state,key:e.key,idx:t}}function mT(e,t,r,n){return r===void 0&&(r=null),qv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?um(t):t,{state:r,key:t&&t.key||n||q5()})}function r_(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function um(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function K5(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,c=ku.Pop,a=null,l=h();l==null&&(l=0,o.replaceState(qv({},o.state,{idx:l}),""));function h(){return(o.state||{idx:null}).idx}function p(){c=ku.Pop;let w=h(),R=w==null?null:w-l;l=w,a&&a({action:c,location:y.location,delta:R})}function g(w,R){c=ku.Push;let S=mT(y.location,w,R);l=h()+1;let C=DP(S,l),A=y.createHref(S);try{o.pushState(C,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(A)}s&&a&&a({action:c,location:y.location,delta:1})}function E(w,R){c=ku.Replace;let S=mT(y.location,w,R);l=h();let C=DP(S,l),A=y.createHref(S);o.replaceState(C,"",A),s&&a&&a({action:c,location:y.location,delta:0})}function _(w){let R=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:r_(w);return S=S.replace(/ $/,"%20"),si(R,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,R)}let y={get action(){return c},get location(){return e(i,o)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(jP,p),a=w,()=>{i.removeEventListener(jP,p),a=null}},createHref(w){return t(i,w)},createURL:_,encodeLocation(w){let R=_(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:g,replace:E,go(w){return o.go(w)}};return y}var MP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(MP||(MP={}));function Y5(e,t,r){return r===void 0&&(r="/"),Q5(e,t,r)}function Q5(e,t,r,n){let i=typeof t=="string"?um(t):t,s=_k(i.pathname||"/",r);if(s==null)return null;let o=DD(e);J5(o);let c=null;for(let a=0;c==null&&a<o.length;++a){let l=lV(s);c=oV(o[a],l)}return c}function DD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,c)=>{let a={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(si(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let l=Bu([n,a.relativePath]),h=r.concat(a);s.children&&s.children.length>0&&(si(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),DD(s.children,t,h,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:iV(l,s.index),routesMeta:h})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let a of MD(s.path))i(s,o,a)}),t}function MD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=MD(n.join("/")),c=[];return c.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&c.push(...o),c.map(a=>e.startsWith("/")&&a===""?"/":a)}function J5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const X5=/^:[\w-]+$/,Z5=3,eV=2,tV=1,rV=10,nV=-2,LP=e=>e==="*";function iV(e,t){let r=e.split("/"),n=r.length;return r.some(LP)&&(n+=nV),t&&(n+=eV),r.filter(i=>!LP(i)).reduce((i,s)=>i+(X5.test(s)?Z5:s===""?tV:rV),n)}function sV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function oV(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let c=0;c<n.length;++c){let a=n[c],l=c===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=aV({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},h),g=a.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Bu([s,p.pathname]),pathnameBase:hV(Bu([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Bu([s,p.pathnameBase]))}return o}function aV(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cV(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((l,h,p)=>{let{paramName:g,isOptional:E}=h;if(g==="*"){let y=c[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const _=c[p];return E&&!_?l[g]=void 0:l[g]=(_||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:e}}function cV(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,a)=>(n.push({paramName:c,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function lV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _k(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function uV(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?um(e):e;return{pathname:r?r.startsWith("/")?r:dV(r,t):t,search:pV(n),hash:mV(i)}}function dV(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xE(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Sk(e,t){let r=fV(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wk(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=um(e):(i=qv({},e),si(!i.pathname||!i.pathname.includes("?"),xE("?","pathname","search",i)),si(!i.pathname||!i.pathname.includes("#"),xE("#","pathname","hash",i)),si(!i.search||!i.search.includes("#"),xE("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?t[p]:"/"}let a=uV(i,c),l=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(l||h)&&(a.pathname+="/"),a}const Bu=e=>e.join("/").replace(/\/\/+/g,"/"),hV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LD=["post","put","patch","delete"];new Set(LD);const vV=["get",...LD];new Set(vV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}const Ek=P.createContext(null),yV=P.createContext(null),ad=P.createContext(null),dS=P.createContext(null),Rc=P.createContext({outlet:null,matches:[],isDataRoute:!1}),FD=P.createContext(null);function bV(e,t){let{relative:r}=t===void 0?{}:t;dm()||si(!1);let{basename:n,navigator:i}=P.useContext(ad),{hash:s,pathname:o,search:c}=$D(e,{relative:r}),a=o;return n!=="/"&&(a=o==="/"?n:Bu([n,o])),i.createHref({pathname:a,search:c,hash:s})}function dm(){return P.useContext(dS)!=null}function fm(){return dm()||si(!1),P.useContext(dS).location}function UD(e){P.useContext(ad).static||P.useLayoutEffect(e)}function _l(){let{isDataRoute:e}=P.useContext(Rc);return e?jV():xV()}function xV(){dm()||si(!1);let e=P.useContext(Ek),{basename:t,future:r,navigator:n}=P.useContext(ad),{matches:i}=P.useContext(Rc),{pathname:s}=fm(),o=JSON.stringify(Sk(i,r.v7_relativeSplatPath)),c=P.useRef(!1);return UD(()=>{c.current=!0}),P.useCallback(function(l,h){if(h===void 0&&(h={}),!c.current)return;if(typeof l=="number"){n.go(l);return}let p=wk(l,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Bu([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,s,e])}const _V=P.createContext(null);function SV(e){let t=P.useContext(Rc).outlet;return t&&P.createElement(_V.Provider,{value:e},t)}function BD(){let{matches:e}=P.useContext(Rc),t=e[e.length-1];return t?t.params:{}}function $D(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=P.useContext(ad),{matches:i}=P.useContext(Rc),{pathname:s}=fm(),o=JSON.stringify(Sk(i,n.v7_relativeSplatPath));return P.useMemo(()=>wk(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function wV(e,t){return EV(e,t)}function EV(e,t,r,n){dm()||si(!1);let{navigator:i,static:s}=P.useContext(ad),{matches:o}=P.useContext(Rc),c=o[o.length-1],a=c?c.params:{};c&&c.pathname;let l=c?c.pathnameBase:"/";c&&c.route;let h=fm(),p;if(t){var g;let R=typeof t=="string"?um(t):t;l==="/"||(g=R.pathname)!=null&&g.startsWith(l)||si(!1),p=R}else p=h;let E=p.pathname||"/",_=E;if(l!=="/"){let R=l.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let y=Y5(e,{pathname:_}),w=OV(y&&y.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Bu([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Bu([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,r,n);return t&&w?P.createElement(dS.Provider,{value:{location:Kv({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ku.Pop}},w):w}function CV(){let e=IV(),t=gV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),r?P.createElement("pre",{style:i},r):null,null)}const TV=P.createElement(CV,null);class RV extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?P.createElement(Rc.Provider,{value:this.props.routeContext},P.createElement(FD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kV(e){let{routeContext:t,match:r,children:n}=e,i=P.useContext(Ek);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Rc.Provider,{value:t},n)}function OV(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let h=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);h>=0||si(!1),o=o.slice(0,Math.min(o.length,h+1))}let a=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=h),p.route.id){let{loaderData:g,errors:E}=r,_=p.route.loader&&g[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||_){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let E,_=!1,y=null,w=null;r&&(E=c&&p.route.id?c[p.route.id]:void 0,y=p.route.errorElement||TV,a&&(l<0&&g===0?(DV("route-fallback"),_=!0,w=null):l===g&&(_=!0,w=p.route.hydrateFallbackElement||null)));let R=t.concat(o.slice(0,g+1)),S=()=>{let C;return E?C=y:_?C=w:p.route.Component?C=P.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,P.createElement(kV,{match:p,routeContext:{outlet:h,matches:R,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(RV,{location:r.location,revalidation:r.revalidation,component:y,error:E,children:S(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):S()},null)}var VD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(VD||{}),zD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zD||{});function PV(e){let t=P.useContext(Ek);return t||si(!1),t}function NV(e){let t=P.useContext(yV);return t||si(!1),t}function AV(e){let t=P.useContext(Rc);return t||si(!1),t}function WD(e){let t=AV(),r=t.matches[t.matches.length-1];return r.route.id||si(!1),r.route.id}function IV(){var e;let t=P.useContext(FD),r=NV(),n=WD();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jV(){let{router:e}=PV(VD.UseNavigateStable),t=WD(zD.UseNavigateStable),r=P.useRef(!1);return UD(()=>{r.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Kv({fromRouteId:t},s)))},[e,t])}const FP={};function DV(e,t,r){FP[e]||(FP[e]=!0)}function MV(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gT(e){let{to:t,replace:r,state:n,relative:i}=e;dm()||si(!1);let{future:s,static:o}=P.useContext(ad),{matches:c}=P.useContext(Rc),{pathname:a}=fm(),l=_l(),h=wk(t,Sk(c,s.v7_relativeSplatPath),a,i==="path"),p=JSON.stringify(h);return P.useEffect(()=>l(JSON.parse(p),{replace:r,state:n,relative:i}),[l,p,i,r,n]),null}function LV(e){return SV(e.context)}function Gn(e){si(!1)}function FV(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ku.Pop,navigator:s,static:o=!1,future:c}=e;dm()&&si(!1);let a=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:s,static:o,future:Kv({v7_relativeSplatPath:!1},c)}),[a,c,s,o]);typeof n=="string"&&(n=um(n));let{pathname:h="/",search:p="",hash:g="",state:E=null,key:_="default"}=n,y=P.useMemo(()=>{let w=_k(h,a);return w==null?null:{location:{pathname:w,search:p,hash:g,state:E,key:_},navigationType:i}},[a,h,p,g,E,_,i]);return y==null?null:P.createElement(ad.Provider,{value:l},P.createElement(dS.Provider,{children:r,value:y}))}function UV(e){let{children:t,location:r}=e;return wV(vT(t),r)}new Promise(()=>{});function vT(e,t){t===void 0&&(t=[]);let r=[];return P.Children.forEach(e,(n,i)=>{if(!P.isValidElement(n))return;let s=[...t,i];if(n.type===P.Fragment){r.push.apply(r,vT(n.props.children,s));return}n.type!==Gn&&si(!1),!n.props.index||!n.props.children||si(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vT(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yT(){return yT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yT.apply(this,arguments)}function BV(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function $V(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VV(e,t){return e.button===0&&(!t||t==="_self")&&!$V(e)}function bT(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function zV(e,t){let r=bT(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const WV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HV="6";try{window.__reactRouterVersion=HV}catch{}const GV="startTransition",UP=wI[GV];function qV(e){let{basename:t,children:r,future:n,window:i}=e,s=P.useRef();s.current==null&&(s.current=G5({window:i,v5Compat:!0}));let o=s.current,[c,a]=P.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},h=P.useCallback(p=>{l&&UP?UP(()=>a(p)):a(p)},[a,l]);return P.useLayoutEffect(()=>o.listen(h),[o,h]),P.useEffect(()=>MV(n),[n]),P.createElement(FV,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const KV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BP=P.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:c,target:a,to:l,preventScrollReset:h,viewTransition:p}=t,g=BV(t,WV),{basename:E}=P.useContext(ad),_,y=!1;if(typeof l=="string"&&YV.test(l)&&(_=l,KV))try{let C=new URL(window.location.href),A=l.startsWith("//")?new URL(C.protocol+l):new URL(l),L=_k(A.pathname,E);A.origin===C.origin&&L!=null?l=L+A.search+A.hash:y=!0}catch{}let w=bV(l,{relative:i}),R=QV(l,{replace:o,state:c,target:a,preventScrollReset:h,relative:i,viewTransition:p});function S(C){n&&n(C),C.defaultPrevented||R(C)}return P.createElement("a",yT({},g,{href:_||w,onClick:y||s?n:S,ref:r,target:a}))});var $P;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($P||($P={}));var VP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(VP||(VP={}));function QV(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:c}=t===void 0?{}:t,a=_l(),l=fm(),h=$D(e,{relative:o});return P.useCallback(p=>{if(VV(p,r)){p.preventDefault();let g=n!==void 0?n:r_(l)===r_(h);a(e,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[l,a,h,n,i,r,e,s,o,c])}function JV(e){let t=P.useRef(bT(e)),r=P.useRef(!1),n=fm(),i=P.useMemo(()=>zV(n.search,r.current?null:t.current),[n.search]),s=_l(),o=P.useCallback((c,a)=>{const l=bT(typeof c=="function"?c(i):c);r.current=!0,s("?"+l,a)},[s,i]);return[i,o]}const XV=1,ZV=1e6;let _E=0;function ez(){return _E=(_E+1)%Number.MAX_SAFE_INTEGER,_E.toString()}const SE=new Map,zP=e=>{if(SE.has(e))return;const t=setTimeout(()=>{SE.delete(e),yv({type:"REMOVE_TOAST",toastId:e})},ZV);SE.set(e,t)},tz=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?zP(r):e.toasts.forEach(n=>{zP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Pb=[];let Nb={toasts:[]};function yv(e){Nb=tz(Nb,e),Pb.forEach(t=>{t(Nb)})}function $u({...e}){const t=ez(),r=i=>yv({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>yv({type:"DISMISS_TOAST",toastId:t});return yv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function kc(){const[e,t]=P.useState(Nb);return P.useEffect(()=>(Pb.push(t),()=>{const r=Pb.indexOf(t);r>-1&&Pb.splice(r,1)}),[e]),{...e,toast:$u,dismiss:r=>yv({type:"DISMISS_TOAST",toastId:r})}}function qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function WP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fS(...e){return t=>{let r=!1;const n=e.map(i=>{const s=WP(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():WP(e[i],null)}}}}function yr(...e){return P.useCallback(fS(...e),e)}function rz(e,t){const r=P.createContext(t),n=s=>{const{children:o,...c}=s,a=P.useMemo(()=>c,Object.values(c));return d.jsx(r.Provider,{value:a,children:o})};n.displayName=e+"Provider";function i(s){const o=P.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function no(e,t=[]){let r=[];function n(s,o){const c=P.createContext(o),a=r.length;r=[...r,o];const l=p=>{var R;const{scope:g,children:E,..._}=p,y=((R=g==null?void 0:g[e])==null?void 0:R[a])||c,w=P.useMemo(()=>_,Object.values(_));return d.jsx(y.Provider,{value:w,children:E})};l.displayName=s+"Provider";function h(p,g){var y;const E=((y=g==null?void 0:g[e])==null?void 0:y[a])||c,_=P.useContext(E);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[l,h]}const i=()=>{const s=r.map(o=>P.createContext(o));return function(c){const a=(c==null?void 0:c[e])||s;return P.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return i.scopeName=e,[n,nz(i,...t)]}function nz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((c,{useScope:a,scopeName:l})=>{const p=a(s)[`__scope${l}`];return{...c,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Sc=P.forwardRef((e,t)=>{const{children:r,...n}=e,i=P.Children.toArray(r),s=i.find(sz);if(s){const o=s.props.children,c=i.map(a=>a===s?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:a);return d.jsx(xT,{...n,ref:t,children:P.isValidElement(o)?P.cloneElement(o,void 0,c):null})}return d.jsx(xT,{...n,ref:t,children:r})});Sc.displayName="Slot";var xT=P.forwardRef((e,t)=>{const{children:r,...n}=e;if(P.isValidElement(r)){const i=az(r),s=oz(n,r.props);return r.type!==P.Fragment&&(s.ref=t?fS(t,i):i),P.cloneElement(r,s)}return P.Children.count(r)>1?P.Children.only(null):null});xT.displayName="SlotClone";var iz=({children:e})=>d.jsx(d.Fragment,{children:e});function sz(e){return P.isValidElement(e)&&e.type===iz}function oz(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...c)=>{s(...c),i(...c)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function az(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function hS(e){const t=e+"CollectionProvider",[r,n]=no(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:_,children:y}=E,w=ht.useRef(null),R=ht.useRef(new Map).current;return d.jsx(i,{scope:_,itemMap:R,collectionRef:w,children:y})};o.displayName=t;const c=e+"CollectionSlot",a=ht.forwardRef((E,_)=>{const{scope:y,children:w}=E,R=s(c,y),S=yr(_,R.collectionRef);return d.jsx(Sc,{ref:S,children:w})});a.displayName=c;const l=e+"CollectionItemSlot",h="data-radix-collection-item",p=ht.forwardRef((E,_)=>{const{scope:y,children:w,...R}=E,S=ht.useRef(null),C=yr(_,S),A=s(l,y);return ht.useEffect(()=>(A.itemMap.set(S,{ref:S,...R}),()=>void A.itemMap.delete(S))),d.jsx(Sc,{[h]:"",ref:C,children:w})});p.displayName=l;function g(E){const _=s(e+"CollectionConsumer",E);return ht.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const R=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((A,L)=>R.indexOf(A.ref.current)-R.indexOf(L.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:a,ItemSlot:p},g,n]}var cz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=cz.reduce((e,t)=>{const r=P.forwardRef((n,i)=>{const{asChild:s,...o}=n,c=s?Sc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ck(e,t){e&&Jf.flushSync(()=>e.dispatchEvent(t))}function $n(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function lz(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e);P.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var uz="DismissableLayer",_T="dismissableLayer.update",dz="dismissableLayer.pointerDownOutside",fz="dismissableLayer.focusOutside",HP,HD=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hm=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...a}=e,l=P.useContext(HD),[h,p]=P.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=P.useState({}),_=yr(t,B=>p(B)),y=Array.from(l.layers),[w]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),R=y.indexOf(w),S=h?y.indexOf(h):-1,C=l.layersWithOutsidePointerEventsDisabled.size>0,A=S>=R,L=pz(B=>{const z=B.target,G=[...l.branches].some(J=>J.contains(z));!A||G||(i==null||i(B),o==null||o(B),B.defaultPrevented||c==null||c())},g),U=mz(B=>{const z=B.target;[...l.branches].some(J=>J.contains(z))||(s==null||s(B),o==null||o(B),B.defaultPrevented||c==null||c())},g);return lz(B=>{S===l.layers.size-1&&(n==null||n(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},g),P.useEffect(()=>{if(h)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(HP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(h)),l.layers.add(h),GP(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=HP)}},[h,g,r,l]),P.useEffect(()=>()=>{h&&(l.layers.delete(h),l.layersWithOutsidePointerEventsDisabled.delete(h),GP())},[h,l]),P.useEffect(()=>{const B=()=>E({});return document.addEventListener(_T,B),()=>document.removeEventListener(_T,B)},[]),d.jsx(Pt.div,{...a,ref:_,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,U.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,L.onPointerDownCapture)})});hm.displayName=uz;var hz="DismissableLayerBranch",GD=P.forwardRef((e,t)=>{const r=P.useContext(HD),n=P.useRef(null),i=yr(t,n);return P.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),d.jsx(Pt.div,{...e,ref:i})});GD.displayName=hz;function pz(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e),n=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=c=>{if(c.target&&!n.current){let a=function(){qD(dz,r,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=a,t.addEventListener("click",i.current,{once:!0})):a()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function mz(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e),n=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!n.current&&qD(fz,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GP(){const e=new CustomEvent(_T);document.dispatchEvent(e)}function qD(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Ck(i,s):i.dispatchEvent(s)}var gz=hm,vz=GD,Yi=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},yz="Portal",pm=P.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[i,s]=P.useState(!1);Yi(()=>s(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?_5.createPortal(d.jsx(Pt.div,{...n,ref:t}),o):null});pm.displayName=yz;function bz(e,t){return P.useReducer((r,n)=>t[r][n]??r,e)}var us=e=>{const{present:t,children:r}=e,n=xz(t),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),s=yr(n.ref,_z(i));return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:s}):null};us.displayName="Presence";function xz(e){const[t,r]=P.useState(),n=P.useRef({}),i=P.useRef(e),s=P.useRef("none"),o=e?"mounted":"unmounted",[c,a]=bz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const l=ab(n.current);s.current=c==="mounted"?l:"none"},[c]),Yi(()=>{const l=n.current,h=i.current;if(h!==e){const g=s.current,E=ab(l);e?a("MOUNT"):E==="none"||(l==null?void 0:l.display)==="none"?a("UNMOUNT"):a(h&&g!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,a]),Yi(()=>{if(t){let l;const h=t.ownerDocument.defaultView??window,p=E=>{const y=ab(n.current).includes(E.animationName);if(E.target===t&&y&&(a("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",l=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=E=>{E.target===t&&(s.current=ab(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(l),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:P.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function ab(e){return(e==null?void 0:e.animationName)||"none"}function _z(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pl({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Sz({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,c=$n(r),a=P.useCallback(l=>{if(s){const p=typeof l=="function"?l(e):l;p!==e&&c(p)}else i(l)},[s,e,i,c]);return[o,a]}function Sz({defaultProp:e,onChange:t}){const r=P.useState(e),[n]=r,i=P.useRef(n),s=$n(t);return P.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var wz="VisuallyHidden",pS=P.forwardRef((e,t)=>d.jsx(Pt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pS.displayName=wz;var Tk="ToastProvider",[Rk,Ez,Cz]=hS("Toast"),[KD,yae]=no("Toast",[Cz]),[Tz,mS]=KD(Tk),YD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[c,a]=P.useState(null),[l,h]=P.useState(0),p=P.useRef(!1),g=P.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tk}\`. Expected non-empty \`string\`.`),d.jsx(Rk.Provider,{scope:t,children:d.jsx(Tz,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:l,viewport:c,onViewportChange:a,onToastAdd:P.useCallback(()=>h(E=>E+1),[]),onToastRemove:P.useCallback(()=>h(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};YD.displayName=Tk;var QD="ToastViewport",Rz=["F8"],ST="toast.viewportPause",wT="toast.viewportResume",JD=P.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Rz,label:i="Notifications ({hotkey})",...s}=e,o=mS(QD,r),c=Ez(r),a=P.useRef(null),l=P.useRef(null),h=P.useRef(null),p=P.useRef(null),g=yr(t,p,o.onViewportChange),E=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;P.useEffect(()=>{const w=R=>{var C;n.length!==0&&n.every(A=>R[A]||R.code===A)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),P.useEffect(()=>{const w=a.current,R=p.current;if(_&&w&&R){const S=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(ST);R.dispatchEvent(U),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(wT);R.dispatchEvent(U),o.isClosePausedRef.current=!1}},A=U=>{!w.contains(U.relatedTarget)&&C()},L=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",S),w.addEventListener("focusout",A),w.addEventListener("pointermove",S),w.addEventListener("pointerleave",L),window.addEventListener("blur",S),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",S),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",S),w.removeEventListener("pointerleave",L),window.removeEventListener("blur",S),window.removeEventListener("focus",C)}}},[_,o.isClosePausedRef]);const y=P.useCallback(({tabbingDirection:w})=>{const S=c().map(C=>{const A=C.ref.current,L=[A,...Bz(A)];return w==="forwards"?L:L.reverse()});return(w==="forwards"?S.reverse():S).flat()},[c]);return P.useEffect(()=>{const w=p.current;if(w){const R=S=>{var L,U,B;const C=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!C){const z=document.activeElement,G=S.shiftKey;if(S.target===w&&G){(L=l.current)==null||L.focus();return}const q=y({tabbingDirection:G?"backwards":"forwards"}),ee=q.findIndex(ce=>ce===z);wE(q.slice(ee+1))?S.preventDefault():G?(U=l.current)==null||U.focus():(B=h.current)==null||B.focus()}};return w.addEventListener("keydown",R),()=>w.removeEventListener("keydown",R)}},[c,y]),d.jsxs(vz,{ref:a,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&d.jsx(ET,{ref:l,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});wE(w)}}),d.jsx(Rk.Slot,{scope:r,children:d.jsx(Pt.ol,{tabIndex:-1,...s,ref:g})}),_&&d.jsx(ET,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});wE(w)}})]})});JD.displayName=QD;var XD="ToastFocusProxy",ET=P.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=mS(XD,r);return d.jsx(pS,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var l;const c=o.relatedTarget;!((l=s.viewport)!=null&&l.contains(c))&&n()}})});ET.displayName=XD;var gS="Toast",kz="toast.swipeStart",Oz="toast.swipeMove",Pz="toast.swipeCancel",Nz="toast.swipeEnd",ZD=P.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=e,[c=!0,a]=pl({prop:n,defaultProp:i,onChange:s});return d.jsx(us,{present:r||c,children:d.jsx(jz,{open:c,...o,ref:t,onClose:()=>a(!1),onPause:$n(e.onPause),onResume:$n(e.onResume),onSwipeStart:qe(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,l=>{const{x:h,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:qe(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,l=>{const{x:h,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),a(!1)})})})});ZD.displayName=gS;var[Az,Iz]=KD(gS,{onClose(){}}),jz=P.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:c,onPause:a,onResume:l,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:E,..._}=e,y=mS(gS,r),[w,R]=P.useState(null),S=yr(t,ce=>R(ce)),C=P.useRef(null),A=P.useRef(null),L=i||y.duration,U=P.useRef(0),B=P.useRef(L),z=P.useRef(0),{onToastAdd:G,onToastRemove:J}=y,X=$n(()=>{var xe;(w==null?void 0:w.contains(document.activeElement))&&((xe=y.viewport)==null||xe.focus()),o()}),q=P.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(z.current),U.current=new Date().getTime(),z.current=window.setTimeout(X,ce))},[X]);P.useEffect(()=>{const ce=y.viewport;if(ce){const xe=()=>{q(B.current),l==null||l()},_e=()=>{const ve=new Date().getTime()-U.current;B.current=B.current-ve,window.clearTimeout(z.current),a==null||a()};return ce.addEventListener(ST,_e),ce.addEventListener(wT,xe),()=>{ce.removeEventListener(ST,_e),ce.removeEventListener(wT,xe)}}},[y.viewport,L,a,l,q]),P.useEffect(()=>{s&&!y.isClosePausedRef.current&&q(L)},[s,L,y.isClosePausedRef,q]),P.useEffect(()=>(G(),()=>J()),[G,J]);const ee=P.useMemo(()=>w?oM(w):null,[w]);return y.viewport?d.jsxs(d.Fragment,{children:[ee&&d.jsx(Dz,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),d.jsx(Az,{scope:r,onClose:X,children:Jf.createPortal(d.jsx(Rk.ItemSlot,{scope:r,children:d.jsx(gz,{asChild:!0,onEscapeKeyDown:qe(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||X(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,ce=>{ce.key==="Escape"&&(c==null||c(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:qe(e.onPointerDown,ce=>{ce.button===0&&(C.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:qe(e.onPointerMove,ce=>{if(!C.current)return;const xe=ce.clientX-C.current.x,_e=ce.clientY-C.current.y,ve=!!A.current,Y=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,re=Y?Q(0,xe):0,fe=Y?0:Q(0,_e),Te=ce.pointerType==="touch"?10:2,He={x:re,y:fe},Le={originalEvent:ce,delta:He};ve?(A.current=He,cb(Oz,p,Le,{discrete:!1})):qP(He,y.swipeDirection,Te)?(A.current=He,cb(kz,h,Le,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(xe)>Te||Math.abs(_e)>Te)&&(C.current=null)}),onPointerUp:qe(e.onPointerUp,ce=>{const xe=A.current,_e=ce.target;if(_e.hasPointerCapture(ce.pointerId)&&_e.releasePointerCapture(ce.pointerId),A.current=null,C.current=null,xe){const ve=ce.currentTarget,Y={originalEvent:ce,delta:xe};qP(xe,y.swipeDirection,y.swipeThreshold)?cb(Nz,E,Y,{discrete:!0}):cb(Pz,g,Y,{discrete:!0}),ve.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Dz=e=>{const{__scopeToast:t,children:r,...n}=e,i=mS(gS,t),[s,o]=P.useState(!1),[c,a]=P.useState(!1);return Fz(()=>o(!0)),P.useEffect(()=>{const l=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(l)},[]),c?null:d.jsx(pm,{asChild:!0,children:d.jsx(pS,{...n,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",r]})})})},Mz="ToastTitle",eM=P.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(Pt.div,{...n,ref:t})});eM.displayName=Mz;var Lz="ToastDescription",tM=P.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(Pt.div,{...n,ref:t})});tM.displayName=Lz;var rM="ToastAction",nM=P.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(sM,{altText:r,asChild:!0,children:d.jsx(kk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${rM}\`. Expected non-empty \`string\`.`),null)});nM.displayName=rM;var iM="ToastClose",kk=P.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Iz(iM,r);return d.jsx(sM,{asChild:!0,children:d.jsx(Pt.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,i.onClose)})})});kk.displayName=iM;var sM=P.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return d.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function oM(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Uz(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...oM(n))}}),t}function cb(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Ck(i,s):i.dispatchEvent(s)}var qP=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function Fz(e=()=>{}){const t=$n(e);Yi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Uz(e){return e.nodeType===e.ELEMENT_NODE}function Bz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wE(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var $z=YD,aM=JD,cM=ZD,lM=eM,uM=tM,dM=nM,fM=kk;function hM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=hM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pM(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=hM(e))&&(n&&(n+=" "),n+=t);return n}const KP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,YP=pM,vS=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return YP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(l=>{const h=r==null?void 0:r[l],p=s==null?void 0:s[l];if(h===null)return null;const g=KP(h)||KP(p);return i[l][g]}),c=r&&Object.entries(r).reduce((l,h)=>{let[p,g]=h;return g===void 0||(l[p]=g),l},{}),a=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((l,h)=>{let{class:p,className:g,...E}=h;return Object.entries(E).every(_=>{let[y,w]=_;return Array.isArray(w)?w.includes({...s,...c}[y]):{...s,...c}[y]===w})?[...l,p,g]:l},[]);return YP(e,o,a,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},a)=>P.createElement("svg",{ref:a,...zz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:mM("lucide",i),...c},[...o.map(([l,h])=>P.createElement(l,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=(e,t)=>{const r=P.forwardRef(({className:n,...i},s)=>P.createElement(Wz,{ref:s,iconNode:t,className:mM(`lucide-${Vz(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=Rr("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=Rr("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=Rr("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=Rr("BookOpenText",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Rr("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Rr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=Rr("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Rr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Rr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Rr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=Rr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Rr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=Rr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=Rr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Rr("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Rr("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Rr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Rr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Rr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Rr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Rr("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Rr("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Rr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Rr("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Rr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Rr("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Rr("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Rr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Rr("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Rr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Rr("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Rr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Rr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Rr("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nk="-",h6=e=>{const t=m6(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split(Nk);return c[0]===""&&c.length!==1&&c.shift(),_M(c,t)||p6(o)},getConflictingClassGroupIds:(o,c)=>{const a=r[o]||[];return c&&n[o]?[...a,...n[o]]:a}}},_M=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?_M(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Nk);return(o=t.validators.find(({validator:c})=>c(s)))==null?void 0:o.classGroupId},QP=/^\[(.+)\]$/,p6=e=>{if(QP.test(e)){const t=QP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},m6=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return v6(Object.entries(e.classGroups),r).forEach(([s,o])=>{RT(o,n,s,t)}),n},RT=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:JP(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(g6(i)){RT(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{RT(o,JP(t,s),r,n)})})},JP=(e,t)=>{let r=e;return t.split(Nk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g6=e=>e.isThemeGetter,v6=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,c])=>[t+o,c])):s);return[r,i]}):e,y6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},SM="!",b6=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=c=>{const a=[];let l=0,h=0,p;for(let w=0;w<c.length;w++){let R=c[w];if(l===0){if(R===i&&(n||c.slice(w,w+s)===t)){a.push(c.slice(h,w)),h=w+s;continue}if(R==="/"){p=w;continue}}R==="["?l++:R==="]"&&l--}const g=a.length===0?c:c.substring(h),E=g.startsWith(SM),_=E?g.substring(1):g,y=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:y}};return r?c=>r({className:c,parseClassName:o}):o},x6=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},_6=e=>({cache:y6(e.cacheSize),parseClassName:b6(e),...h6(e)}),S6=/\s+/,w6=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(S6);let c="";for(let a=o.length-1;a>=0;a-=1){const l=o[a],{modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:E}=r(l);let _=!!E,y=n(_?g.substring(0,E):g);if(!y){if(!_){c=l+(c.length>0?" "+c:c);continue}if(y=n(g),!y){c=l+(c.length>0?" "+c:c);continue}_=!1}const w=x6(h).join(":"),R=p?w+SM:w,S=R+y;if(s.includes(S))continue;s.push(S);const C=i(y,_);for(let A=0;A<C.length;++A){const L=C[A];s.push(R+L)}c=l+(c.length>0?" "+c:c)}return c};function E6(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wM(t))&&(n&&(n+=" "),n+=r);return n}const wM=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wM(e[n]))&&(r&&(r+=" "),r+=t);return r};function C6(e,...t){let r,n,i,s=o;function o(a){const l=t.reduce((h,p)=>p(h),e());return r=_6(l),n=r.cache.get,i=r.cache.set,s=c,c(a)}function c(a){const l=n(a);if(l)return l;const h=w6(a,r);return i(a,h),h}return function(){return s(E6.apply(null,arguments))}}const En=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EM=/^\[(?:([a-z-]+):)?(.+)\]$/i,T6=/^\d+\/\d+$/,R6=new Set(["px","full","screen"]),k6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qc=e=>wp(e)||R6.has(e)||T6.test(e),cu=e=>mm(e,"length",B6),wp=e=>!!e&&!Number.isNaN(Number(e)),EE=e=>mm(e,"number",wp),zg=e=>!!e&&Number.isInteger(Number(e)),I6=e=>e.endsWith("%")&&wp(e.slice(0,-1)),gr=e=>EM.test(e),lu=e=>k6.test(e),j6=new Set(["length","size","percentage"]),D6=e=>mm(e,j6,CM),M6=e=>mm(e,"position",CM),L6=new Set(["image","url"]),F6=e=>mm(e,L6,V6),U6=e=>mm(e,"",$6),Wg=()=>!0,mm=(e,t,r)=>{const n=EM.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},B6=e=>O6.test(e)&&!P6.test(e),CM=()=>!1,$6=e=>N6.test(e),V6=e=>A6.test(e),z6=()=>{const e=En("colors"),t=En("spacing"),r=En("blur"),n=En("brightness"),i=En("borderColor"),s=En("borderRadius"),o=En("borderSpacing"),c=En("borderWidth"),a=En("contrast"),l=En("grayscale"),h=En("hueRotate"),p=En("invert"),g=En("gap"),E=En("gradientColorStops"),_=En("gradientColorStopPositions"),y=En("inset"),w=En("margin"),R=En("opacity"),S=En("padding"),C=En("saturate"),A=En("scale"),L=En("sepia"),U=En("skew"),B=En("space"),z=En("translate"),G=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",gr,t],q=()=>[gr,t],ee=()=>["",qc,cu],ce=()=>["auto",wp,gr],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",gr],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[wp,gr];return{cacheSize:500,separator:":",theme:{colors:[Wg],spacing:[qc,cu],blur:["none","",lu,gr],brightness:fe(),borderColor:[e],borderRadius:["none","","full",lu,gr],borderSpacing:q(),borderWidth:ee(),contrast:fe(),grayscale:Q(),hueRotate:fe(),invert:Q(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[I6,cu],inset:X(),margin:X(),opacity:fe(),padding:q(),saturate:fe(),scale:fe(),sepia:Q(),skew:fe(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",gr]}],container:["container"],columns:[{columns:[lu]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),gr]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zg,gr]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gr]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",zg,gr]}],"grid-cols":[{"grid-cols":[Wg]}],"col-start-end":[{col:["auto",{span:["full",zg,gr]},gr]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[Wg]}],"row-start-end":[{row:["auto",{span:[zg,gr]},gr]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gr]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gr,t]}],"min-w":[{"min-w":[gr,t,"min","max","fit"]}],"max-w":[{"max-w":[gr,t,"none","full","min","max","fit","prose",{screen:[lu]},lu]}],h:[{h:[gr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lu,cu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",EE]}],"font-family":[{font:[Wg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gr]}],"line-clamp":[{"line-clamp":["none",wp,EE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qc,gr]}],"list-image":[{"list-image":["none",gr]}],"list-style-type":[{list:["none","disc","decimal",gr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qc,cu]}],"underline-offset":[{"underline-offset":["auto",qc,gr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),M6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",D6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:_e()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[qc,gr]}],"outline-w":[{outline:[qc,cu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[qc,cu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lu,U6]}],"shadow-color":[{shadow:[Wg]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",lu,gr]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gr]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",gr]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",gr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[zg,gr]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qc,cu,EE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W6=C6(z6);function it(...e){return W6(pM(e))}const H6=$z,TM=P.forwardRef(({className:e,...t},r)=>d.jsx(aM,{ref:r,className:it("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));TM.displayName=aM.displayName;const G6=vS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RM=P.forwardRef(({className:e,variant:t,...r},n)=>d.jsx(cM,{ref:n,className:it(G6({variant:t}),e),...r}));RM.displayName=cM.displayName;const q6=P.forwardRef(({className:e,...t},r)=>d.jsx(dM,{ref:r,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));q6.displayName=dM.displayName;const kM=P.forwardRef(({className:e,...t},r)=>d.jsx(fM,{ref:r,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(cd,{className:"h-4 w-4"})}));kM.displayName=fM.displayName;const OM=P.forwardRef(({className:e,...t},r)=>d.jsx(lM,{ref:r,className:it("text-sm font-semibold",e),...t}));OM.displayName=lM.displayName;const PM=P.forwardRef(({className:e,...t},r)=>d.jsx(uM,{ref:r,className:it("text-sm opacity-90",e),...t}));PM.displayName=uM.displayName;function K6(){const{toasts:e}=kc();return d.jsxs(H6,{children:[e.map(function({id:t,title:r,description:n,action:i,...s}){return d.jsxs(RM,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(OM,{children:r}),n&&d.jsx(PM,{children:n})]}),i,d.jsx(kM,{})]},t)}),d.jsx(TM,{})]})}const Yv="http://13.233.246.47/api/v1/admin",kT="http://13.233.246.47/api/v1",Y6="/login",Q6="/standard/createstandard",J6="/standard/getstandard/:id",X6="/standard/getallstandards",Z6="/standard/updatestandard/:id",e8="/standard/standardtoggle",t8="/subject/subjectcreate",r8="/subject/idsubject/:id",n8="/subject/allsubjects",i8="/subject/updatesubject/:id",s8="/subject/togglesubject",o8="/board/createboard",a8="/board/getbyidboard/:id",c8="/board/allboard",l8="/board/updateboard/:id",u8="/board/toggleboard",d8="/activity/createactivity",f8="/activity/idactivity/:id",h8="/activity/allactivity",p8="/activity/updateactivity/:id",m8="/activity/toggleactivity",g8="/course/createcourse",v8="/course/getallcourses",y8="/course/updatecourse",b8="/course/coursetoggle",x8="/quiz/create",_8="/quiz",S8="/quiz/all",w8="/quiz/",E8="/quiz/activeToggle",C8="/quiz/results",T8="/lesson/create",R8="/lesson/alllesson",k8="/lesson/updatelesson",O8="/lesson/togglelesson",P8="/mentor/creatementors",N8="/mentor/fetchmentors",A8="/mentor/",I8="/mentor/mentorstoggle",j8="/getCheckoutDetails",D8="/verifyPayment",M8="/user/all",L8="/user/toggleBlockUser",F8="/user/updateUserDetails",NM="/payment/all",U8="/payment/allTransactions",B8="/getProfile",$8="/quiz/getUserQuizResults",V8="/course/getUserCoursesTrack",z8="/user/getUserDetails",W8="/offer",H8="/offer",G8=e=>`/offer/${e}`,q8=e=>`/offer/${e}`,K8=e=>`/offer/${e}`,Y8="/quiz/getEligibleOfrQuizzes",Q8="/course/getEligibleOfrCourses",J8="/stream",X8="/stream/create-stream",Z8=e=>`/stream/start-stream/${e}`,eW="/stream/stop-stream/";function AM(e,t){return function(){return e.apply(t,arguments)}}const{toString:tW}=Object.prototype,{getPrototypeOf:Ak}=Object,bS=(e=>t=>{const r=tW.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ua=e=>(e=e.toLowerCase(),t=>bS(t)===e),xS=e=>t=>typeof t===e,{isArray:gm}=Array,Qv=xS("undefined");function rW(e){return e!==null&&!Qv(e)&&e.constructor!==null&&!Qv(e.constructor)&&Co(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const IM=Ua("ArrayBuffer");function nW(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&IM(e.buffer),t}const iW=xS("string"),Co=xS("function"),jM=xS("number"),_S=e=>e!==null&&typeof e=="object",sW=e=>e===!0||e===!1,Ab=e=>{if(bS(e)!=="object")return!1;const t=Ak(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oW=Ua("Date"),aW=Ua("File"),cW=Ua("Blob"),lW=Ua("FileList"),uW=e=>_S(e)&&Co(e.pipe),dW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Co(e.append)&&((t=bS(e))==="formdata"||t==="object"&&Co(e.toString)&&e.toString()==="[object FormData]"))},fW=Ua("URLSearchParams"),[hW,pW,mW,gW]=["ReadableStream","Request","Response","Headers"].map(Ua),vW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xy(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),gm(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let c;for(n=0;n<o;n++)c=s[n],t.call(null,e[c],c,e)}}function DM(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const gf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MM=e=>!Qv(e)&&e!==gf;function OT(){const{caseless:e}=MM(this)&&this||{},t={},r=(n,i)=>{const s=e&&DM(t,i)||i;Ab(t[s])&&Ab(n)?t[s]=OT(t[s],n):Ab(n)?t[s]=OT({},n):gm(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&xy(arguments[n],r);return t}const yW=(e,t,r,{allOwnKeys:n}={})=>(xy(t,(i,s)=>{r&&Co(i)?e[s]=AM(i,r):e[s]=i},{allOwnKeys:n}),e),bW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xW=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},_W=(e,t,r,n)=>{let i,s,o;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&Ak(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},SW=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},wW=e=>{if(!e)return null;if(gm(e))return e;let t=e.length;if(!jM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},EW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ak(Uint8Array)),CW=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},TW=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},RW=Ua("HTMLFormElement"),kW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),XP=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),OW=Ua("RegExp"),LM=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};xy(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},PW=e=>{LM(e,(t,r)=>{if(Co(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Co(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},NW=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return gm(e)?n(e):n(String(e).split(t)),r},AW=()=>{},IW=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jW(e){return!!(e&&Co(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const DW=e=>{const t=new Array(10),r=(n,i)=>{if(_S(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=gm(n)?[]:{};return xy(n,(o,c)=>{const a=r(o,i+1);!Qv(a)&&(s[c]=a)}),t[i]=void 0,s}}return n};return r(e,0)},MW=Ua("AsyncFunction"),LW=e=>e&&(_S(e)||Co(e))&&Co(e.then)&&Co(e.catch),FM=((e,t)=>e?setImmediate:t?((r,n)=>(gf.addEventListener("message",({source:i,data:s})=>{i===gf&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),gf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Co(gf.postMessage)),FW=typeof queueMicrotask<"u"?queueMicrotask.bind(gf):typeof process<"u"&&process.nextTick||FM,Ee={isArray:gm,isArrayBuffer:IM,isBuffer:rW,isFormData:dW,isArrayBufferView:nW,isString:iW,isNumber:jM,isBoolean:sW,isObject:_S,isPlainObject:Ab,isReadableStream:hW,isRequest:pW,isResponse:mW,isHeaders:gW,isUndefined:Qv,isDate:oW,isFile:aW,isBlob:cW,isRegExp:OW,isFunction:Co,isStream:uW,isURLSearchParams:fW,isTypedArray:EW,isFileList:lW,forEach:xy,merge:OT,extend:yW,trim:vW,stripBOM:bW,inherits:xW,toFlatObject:_W,kindOf:bS,kindOfTest:Ua,endsWith:SW,toArray:wW,forEachEntry:CW,matchAll:TW,isHTMLForm:RW,hasOwnProperty:XP,hasOwnProp:XP,reduceDescriptors:LM,freezeMethods:PW,toObjectSet:NW,toCamelCase:kW,noop:AW,toFiniteNumber:IW,findKey:DM,global:gf,isContextDefined:MM,isSpecCompliantForm:jW,toJSONObject:DW,isAsyncFn:MW,isThenable:LW,setImmediate:FM,asap:FW};function hr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const UM=hr.prototype,BM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{BM[e]={value:e}});Object.defineProperties(hr,BM);Object.defineProperty(UM,"isAxiosError",{value:!0});hr.from=(e,t,r,n,i,s)=>{const o=Object.create(UM);return Ee.toFlatObject(e,o,function(a){return a!==Error.prototype},c=>c!=="isAxiosError"),hr.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const UW=null;function PT(e){return Ee.isPlainObject(e)||Ee.isArray(e)}function $M(e){return Ee.endsWith(e,"[]")?e.slice(0,-2):e}function ZP(e,t,r){return e?e.concat(t).map(function(i,s){return i=$M(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function BW(e){return Ee.isArray(e)&&!e.some(PT)}const $W=Ee.toFlatObject(Ee,{},null,function(t){return/^is[A-Z]/.test(t)});function SS(e,t,r){if(!Ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!Ee.isUndefined(w[y])});const n=r.metaTokens,i=r.visitor||h,s=r.dots,o=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(t);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function l(_){if(_===null)return"";if(Ee.isDate(_))return _.toISOString();if(!a&&Ee.isBlob(_))throw new hr("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(_)||Ee.isTypedArray(_)?a&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,y,w){let R=_;if(_&&!w&&typeof _=="object"){if(Ee.endsWith(y,"{}"))y=n?y:y.slice(0,-2),_=JSON.stringify(_);else if(Ee.isArray(_)&&BW(_)||(Ee.isFileList(_)||Ee.endsWith(y,"[]"))&&(R=Ee.toArray(_)))return y=$M(y),R.forEach(function(C,A){!(Ee.isUndefined(C)||C===null)&&t.append(o===!0?ZP([y],A,s):o===null?y:y+"[]",l(C))}),!1}return PT(_)?!0:(t.append(ZP(w,y,s),l(_)),!1)}const p=[],g=Object.assign($W,{defaultVisitor:h,convertValue:l,isVisitable:PT});function E(_,y){if(!Ee.isUndefined(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(_),Ee.forEach(_,function(R,S){(!(Ee.isUndefined(R)||R===null)&&i.call(t,R,Ee.isString(S)?S.trim():S,y,g))===!0&&E(R,y?y.concat(S):[S])}),p.pop()}}if(!Ee.isObject(e))throw new TypeError("data must be an object");return E(e),t}function eN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ik(e,t){this._pairs=[],e&&SS(e,this,t)}const VM=Ik.prototype;VM.append=function(t,r){this._pairs.push([t,r])};VM.toString=function(t){const r=t?function(n){return t.call(this,n,eN)}:eN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function VW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zM(e,t,r){if(!t)return e;const n=r&&r.encode||VW;Ee.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=Ee.isURLSearchParams(t)?t.toString():new Ik(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class tN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ee.forEach(this.handlers,function(n){n!==null&&t(n)})}}const WM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zW=typeof URLSearchParams<"u"?URLSearchParams:Ik,WW=typeof FormData<"u"?FormData:null,HW=typeof Blob<"u"?Blob:null,GW={isBrowser:!0,classes:{URLSearchParams:zW,FormData:WW,Blob:HW},protocols:["http","https","file","blob","url","data"]},jk=typeof window<"u"&&typeof document<"u",NT=typeof navigator=="object"&&navigator||void 0,qW=jk&&(!NT||["ReactNative","NativeScript","NS"].indexOf(NT.product)<0),KW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YW=jk&&window.location.href||"http://localhost",QW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jk,hasStandardBrowserEnv:qW,hasStandardBrowserWebWorkerEnv:KW,navigator:NT,origin:YW},Symbol.toStringTag,{value:"Module"})),cs={...QW,...GW};function JW(e,t){return SS(e,new cs.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return cs.isNode&&Ee.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function XW(e){return Ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ZW(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function HM(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),a=s>=r.length;return o=!o&&Ee.isArray(i)?i.length:o,a?(Ee.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!Ee.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&Ee.isArray(i[o])&&(i[o]=ZW(i[o])),!c)}if(Ee.isFormData(e)&&Ee.isFunction(e.entries)){const r={};return Ee.forEachEntry(e,(n,i)=>{t(XW(n),i,r,0)}),r}return null}function e9(e,t,r){if(Ee.isString(e))try{return(t||JSON.parse)(e),Ee.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const _y={transitional:WM,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Ee.isObject(t);if(s&&Ee.isHTMLForm(t)&&(t=new FormData(t)),Ee.isFormData(t))return i?JSON.stringify(HM(t)):t;if(Ee.isArrayBuffer(t)||Ee.isBuffer(t)||Ee.isStream(t)||Ee.isFile(t)||Ee.isBlob(t)||Ee.isReadableStream(t))return t;if(Ee.isArrayBufferView(t))return t.buffer;if(Ee.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return JW(t,this.formSerializer).toString();if((c=Ee.isFileList(t))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return SS(c?{"files[]":t}:t,a&&new a,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),e9(t)):t}],transformResponse:[function(t){const r=this.transitional||_y.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(t)||Ee.isReadableStream(t))return t;if(t&&Ee.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?hr.from(c,hr.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cs.classes.FormData,Blob:cs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],e=>{_y.headers[e]={}});const t9=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),r9=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&t9[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rN=Symbol("internals");function Hg(e){return e&&String(e).trim().toLowerCase()}function Ib(e){return e===!1||e==null?e:Ee.isArray(e)?e.map(Ib):String(e)}function n9(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const i9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function CE(e,t,r,n,i){if(Ee.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Ee.isString(t)){if(Ee.isString(n))return t.indexOf(n)!==-1;if(Ee.isRegExp(n))return n.test(t)}}function s9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function o9(e,t){const r=Ee.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let Zs=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(c,a,l){const h=Hg(a);if(!h)throw new Error("header name must be a non-empty string");const p=Ee.findKey(i,h);(!p||i[p]===void 0||l===!0||l===void 0&&i[p]!==!1)&&(i[p||a]=Ib(c))}const o=(c,a)=>Ee.forEach(c,(l,h)=>s(l,h,a));if(Ee.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ee.isString(t)&&(t=t.trim())&&!i9(t))o(r9(t),r);else if(Ee.isHeaders(t))for(const[c,a]of t.entries())s(a,c,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=Hg(t),t){const n=Ee.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return n9(i);if(Ee.isFunction(r))return r.call(this,i,n);if(Ee.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Hg(t),t){const n=Ee.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||CE(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=Hg(o),o){const c=Ee.findKey(n,o);c&&(!r||CE(n,n[c],c,r))&&(delete n[c],i=!0)}}return Ee.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||CE(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return Ee.forEach(this,(i,s)=>{const o=Ee.findKey(n,s);if(o){r[o]=Ib(i),delete r[s];return}const c=t?s9(s):String(s).trim();c!==s&&delete r[s],r[c]=Ib(i),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ee.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Ee.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[rN]=this[rN]={accessors:{}}).accessors,i=this.prototype;function s(o){const c=Hg(o);n[c]||(o9(i,o),n[c]=!0)}return Ee.isArray(t)?t.forEach(s):s(t),this}};Zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(Zs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ee.freezeMethods(Zs);function TE(e,t){const r=this||_y,n=t||r,i=Zs.from(n.headers);let s=n.data;return Ee.forEach(e,function(c){s=c.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function GM(e){return!!(e&&e.__CANCEL__)}function vm(e,t,r){hr.call(this,e??"canceled",hr.ERR_CANCELED,t,r),this.name="CanceledError"}Ee.inherits(vm,hr,{__CANCEL__:!0});function qM(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new hr("Request failed with status code "+r.status,[hr.ERR_BAD_REQUEST,hr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function a9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function c9(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(a){const l=Date.now(),h=n[s];o||(o=l),r[i]=a,n[i]=l;let p=s,g=0;for(;p!==i;)g+=r[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-o<t)return;const E=h&&l-h;return E?Math.round(g*1e3/E):void 0}}function l9(e,t){let r=0,n=1e3/t,i,s;const o=(l,h=Date.now())=>{r=h,i=null,s&&(clearTimeout(s),s=null),e.apply(null,l)};return[(...l)=>{const h=Date.now(),p=h-r;p>=n?o(l,h):(i=l,s||(s=setTimeout(()=>{s=null,o(i)},n-p)))},()=>i&&o(i)]}const n_=(e,t,r=3)=>{let n=0;const i=c9(50,250);return l9(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,a=o-n,l=i(a),h=o<=c;n=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:a,rate:l||void 0,estimated:l&&c&&h?(c-o)/l:void 0,event:s,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},r)},nN=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},iN=e=>(...t)=>Ee.asap(()=>e(...t)),u9=cs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,cs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(cs.origin),cs.navigator&&/(msie|trident)/i.test(cs.navigator.userAgent)):()=>!0,d9=cs.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];Ee.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ee.isString(n)&&o.push("path="+n),Ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function f9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function h9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function KM(e,t,r){let n=!f9(t);return e&&n||r==!1?h9(e,t):t}const sN=e=>e instanceof Zs?{...e}:e;function Lf(e,t){t=t||{};const r={};function n(l,h,p,g){return Ee.isPlainObject(l)&&Ee.isPlainObject(h)?Ee.merge.call({caseless:g},l,h):Ee.isPlainObject(h)?Ee.merge({},h):Ee.isArray(h)?h.slice():h}function i(l,h,p,g){if(Ee.isUndefined(h)){if(!Ee.isUndefined(l))return n(void 0,l,p,g)}else return n(l,h,p,g)}function s(l,h){if(!Ee.isUndefined(h))return n(void 0,h)}function o(l,h){if(Ee.isUndefined(h)){if(!Ee.isUndefined(l))return n(void 0,l)}else return n(void 0,h)}function c(l,h,p){if(p in t)return n(l,h);if(p in e)return n(void 0,l)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(l,h,p)=>i(sN(l),sN(h),p,!0)};return Ee.forEach(Object.keys(Object.assign({},e,t)),function(h){const p=a[h]||i,g=p(e[h],t[h],h);Ee.isUndefined(g)&&p!==c||(r[h]=g)}),r}const YM=e=>{const t=Lf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:c}=t;t.headers=o=Zs.from(o),t.url=zM(KM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let a;if(Ee.isFormData(r)){if(cs.hasStandardBrowserEnv||cs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((a=o.getContentType())!==!1){const[l,...h]=a?a.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...h].join("; "))}}if(cs.hasStandardBrowserEnv&&(n&&Ee.isFunction(n)&&(n=n(t)),n||n!==!1&&u9(t.url))){const l=i&&s&&d9.read(s);l&&o.set(i,l)}return t},p9=typeof XMLHttpRequest<"u",m9=p9&&function(e){return new Promise(function(r,n){const i=YM(e);let s=i.data;const o=Zs.from(i.headers).normalize();let{responseType:c,onUploadProgress:a,onDownloadProgress:l}=i,h,p,g,E,_;function y(){E&&E(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function R(){if(!w)return;const C=Zs.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),L={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};qM(function(B){r(B),y()},function(B){n(B),y()},L),w=null}"onloadend"in w?w.onloadend=R:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(R)},w.onabort=function(){w&&(n(new hr("Request aborted",hr.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new hr("Network Error",hr.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||WM;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),n(new hr(A,L.clarifyTimeoutError?hr.ETIMEDOUT:hr.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&Ee.forEach(o.toJSON(),function(A,L){w.setRequestHeader(L,A)}),Ee.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),c&&c!=="json"&&(w.responseType=i.responseType),l&&([g,_]=n_(l,!0),w.addEventListener("progress",g)),a&&w.upload&&([p,E]=n_(a),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(h=C=>{w&&(n(!C||C.type?new vm(null,e,w):C),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const S=a9(i.url);if(S&&cs.protocols.indexOf(S)===-1){n(new hr("Unsupported protocol "+S+":",hr.ERR_BAD_REQUEST,e));return}w.send(s||null)})},g9=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(l){if(!i){i=!0,c();const h=l instanceof Error?l:this.reason;n.abort(h instanceof hr?h:new vm(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,s(new hr(`timeout ${t} of ms exceeded`,hr.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),e=null)};e.forEach(l=>l.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=()=>Ee.asap(c),a}},v9=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},y9=async function*(e,t){for await(const r of b9(e))yield*v9(r,t)},b9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},oN=(e,t,r,n)=>{const i=y9(e,t);let s=0,o,c=a=>{o||(o=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:l,value:h}=await i.next();if(l){c(),a.close();return}let p=h.byteLength;if(r){let g=s+=p;r(g)}a.enqueue(new Uint8Array(h))}catch(l){throw c(l),l}},cancel(a){return c(a),i.return()}},{highWaterMark:2})},wS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QM=wS&&typeof ReadableStream=="function",x9=wS&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),JM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_9=QM&&JM(()=>{let e=!1;const t=new Request(cs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),aN=64*1024,AT=QM&&JM(()=>Ee.isReadableStream(new Response("").body)),i_={stream:AT&&(e=>e.body)};wS&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!i_[t]&&(i_[t]=Ee.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new hr(`Response type '${t}' is not supported`,hr.ERR_NOT_SUPPORT,n)})})})(new Response);const S9=async e=>{if(e==null)return 0;if(Ee.isBlob(e))return e.size;if(Ee.isSpecCompliantForm(e))return(await new Request(cs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(e)||Ee.isArrayBuffer(e))return e.byteLength;if(Ee.isURLSearchParams(e)&&(e=e+""),Ee.isString(e))return(await x9(e)).byteLength},w9=async(e,t)=>{const r=Ee.toFiniteNumber(e.getContentLength());return r??S9(t)},E9=wS&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:a,responseType:l,headers:h,withCredentials:p="same-origin",fetchOptions:g}=YM(e);l=l?(l+"").toLowerCase():"text";let E=g9([i,s&&s.toAbortSignal()],o),_;const y=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let w;try{if(a&&_9&&r!=="get"&&r!=="head"&&(w=await w9(h,n))!==0){let L=new Request(t,{method:"POST",body:n,duplex:"half"}),U;if(Ee.isFormData(n)&&(U=L.headers.get("content-type"))&&h.setContentType(U),L.body){const[B,z]=nN(w,n_(iN(a)));n=oN(L.body,aN,B,z)}}Ee.isString(p)||(p=p?"include":"omit");const R="credentials"in Request.prototype;_=new Request(t,{...g,signal:E,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:R?p:void 0});let S=await fetch(_);const C=AT&&(l==="stream"||l==="response");if(AT&&(c||C&&y)){const L={};["status","statusText","headers"].forEach(G=>{L[G]=S[G]});const U=Ee.toFiniteNumber(S.headers.get("content-length")),[B,z]=c&&nN(U,n_(iN(c),!0))||[];S=new Response(oN(S.body,aN,B,()=>{z&&z(),y&&y()}),L)}l=l||"text";let A=await i_[Ee.findKey(i_,l)||"text"](S,e);return!C&&y&&y(),await new Promise((L,U)=>{qM(L,U,{data:A,headers:Zs.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:_})})}catch(R){throw y&&y(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new hr("Network Error",hr.ERR_NETWORK,e,_),{cause:R.cause||R}):hr.from(R,R&&R.code,e,_)}}),IT={http:UW,xhr:m9,fetch:E9};Ee.forEach(IT,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cN=e=>`- ${e}`,C9=e=>Ee.isFunction(e)||e===null||e===!1,XM={getAdapter:e=>{e=Ee.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!C9(r)&&(n=IT[(o=String(r)).toLowerCase()],n===void 0))throw new hr(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([c,a])=>`adapter ${c} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(cN).join(`
`):" "+cN(s[0]):"as no adapter specified";throw new hr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:IT};function RE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vm(null,e)}function lN(e){return RE(e),e.headers=Zs.from(e.headers),e.data=TE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XM.getAdapter(e.adapter||_y.adapter)(e).then(function(n){return RE(e),n.data=TE.call(e,e.transformResponse,n),n.headers=Zs.from(n.headers),n},function(n){return GM(n)||(RE(e),n&&n.response&&(n.response.data=TE.call(e,e.transformResponse,n.response),n.response.headers=Zs.from(n.response.headers))),Promise.reject(n)})}const ZM="1.8.3",ES={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ES[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const uN={};ES.transitional=function(t,r,n){function i(s,o){return"[Axios v"+ZM+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,c)=>{if(t===!1)throw new hr(i(o," has been removed"+(r?" in "+r:"")),hr.ERR_DEPRECATED);return r&&!uN[o]&&(uN[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,c):!0}};ES.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function T9(e,t,r){if(typeof e!="object")throw new hr("options must be an object",hr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const c=e[s],a=c===void 0||o(c,s,e);if(a!==!0)throw new hr("option "+s+" must be "+a,hr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new hr("Unknown option "+s,hr.ERR_BAD_OPTION)}}const jb={assertOptions:T9,validators:ES},sc=jb.validators;let kf=class{constructor(t){this.defaults=t,this.interceptors={request:new tN,response:new tN}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Lf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&jb.assertOptions(n,{silentJSONParsing:sc.transitional(sc.boolean),forcedJSONParsing:sc.transitional(sc.boolean),clarifyTimeoutError:sc.transitional(sc.boolean)},!1),i!=null&&(Ee.isFunction(i)?r.paramsSerializer={serialize:i}:jb.assertOptions(i,{encode:sc.function,serialize:sc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),jb.assertOptions(r,{baseUrl:sc.spelling("baseURL"),withXsrfToken:sc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Ee.merge(s.common,s[r.method]);s&&Ee.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),r.headers=Zs.concat(o,s);const c=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(a=a&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let h,p=0,g;if(!a){const _=[lN.bind(this),void 0];for(_.unshift.apply(_,c),_.push.apply(_,l),g=_.length,h=Promise.resolve(r);p<g;)h=h.then(_[p++],_[p++]);return h}g=c.length;let E=r;for(p=0;p<g;){const _=c[p++],y=c[p++];try{E=_(E)}catch(w){y.call(this,w);break}}try{h=lN.call(this,E)}catch(_){return Promise.reject(_)}for(p=0,g=l.length;p<g;)h=h.then(l[p++],l[p++]);return h}getUri(t){t=Lf(this.defaults,t);const r=KM(t.baseURL,t.url,t.allowAbsoluteUrls);return zM(r,t.params,t.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(t){kf.prototype[t]=function(r,n){return this.request(Lf(n||{},{method:t,url:r,data:(n||{}).data}))}});Ee.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,c){return this.request(Lf(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}kf.prototype[t]=r(),kf.prototype[t+"Form"]=r(!0)});let R9=class eL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(c=>{n.subscribe(c),s=c}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,c){n.reason||(n.reason=new vm(s,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new eL(function(i){t=i}),cancel:t}}};function k9(e){return function(r){return e.apply(null,r)}}function O9(e){return Ee.isObject(e)&&e.isAxiosError===!0}const jT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jT).forEach(([e,t])=>{jT[t]=e});function tL(e){const t=new kf(e),r=AM(kf.prototype.request,t);return Ee.extend(r,kf.prototype,t,{allOwnKeys:!0}),Ee.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return tL(Lf(e,i))},r}const sn=tL(_y);sn.Axios=kf;sn.CanceledError=vm;sn.CancelToken=R9;sn.isCancel=GM;sn.VERSION=ZM;sn.toFormData=SS;sn.AxiosError=hr;sn.Cancel=sn.CanceledError;sn.all=function(t){return Promise.all(t)};sn.spread=k9;sn.isAxiosError=O9;sn.mergeConfig=Lf;sn.AxiosHeaders=Zs;sn.formToJSON=e=>HM(Ee.isHTMLForm(e)?new FormData(e):e);sn.getAdapter=XM.getAdapter;sn.HttpStatusCode=jT;sn.default=sn;const{Axios:_ae,AxiosError:Sae,CanceledError:wae,isCancel:Eae,CancelToken:Cae,VERSION:Tae,all:Rae,Cancel:kae,isAxiosError:Oae,spread:Pae,toFormData:Nae,AxiosHeaders:Aae,HttpStatusCode:Iae,formToJSON:jae,getAdapter:Dae,mergeConfig:Mae}=sn;/*! js-cookie v3.0.5 | MIT */function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var P9={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function DT(e,t){function r(i,s,o){if(!(typeof document>"u")){o=lb({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var a in o)o[a]&&(c+="; "+a,o[a]!==!0&&(c+="="+o[a].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+c}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},c=0;c<s.length;c++){var a=s[c].split("="),l=a.slice(1).join("=");try{var h=decodeURIComponent(a[0]);if(o[h]=e.read(l,h),i===h)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",lb({},s,{expires:-1}))},withAttributes:function(i){return DT(this.converter,lb({},this.attributes,i))},withConverter:function(i){return DT(lb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Gi=DT(P9,{path:"/"});const gt=sn.create({baseURL:Yv,timeout:6e4,headers:{"Content-Type":"application/json"}});gt.interceptors.request.use(e=>{var r;const t=Gi.get("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`Request: ${(r=e.method)==null?void 0:r.toUpperCase()} ${e.url}`),e.params&&console.log("Params:",e.params),e.data&&console.log("Data:",e.data),e},e=>Promise.reject(e));gt.interceptors.response.use(e=>(console.log("Response:",e.data),e.data),async e=>{console.error("API Error:",e.response);const t=e.config;if(e.response.status===401){if(t._retry)return Gi.set("accessToken",""),Gi.set("refreshToken",""),window.location.href="/login",Promise.reject(e);t._retry=!0;try{const r=Gi.get("refreshToken"),n=await sn.post(`${kT}/refreshToken`,{refreshToken:r}),{accessToken:i}=n.data;return Gi.set("accessToken",i),gt.defaults.headers.common.Authorization=`Bearer ${i}`,t.headers.Authorization=`Bearer ${i}`,gt(t)}catch(r){return Gi.set("accessToken",""),Gi.set("refreshToken",""),window.location.href="/login",Promise.reject(r)}}return Promise.reject(e)});function zi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var N9=typeof Symbol=="function"&&Symbol.observable||"@@observable",dN=N9,kE=()=>Math.random().toString(36).substring(7).split("").join("."),A9={INIT:`@@redux/INIT${kE()}`,REPLACE:`@@redux/REPLACE${kE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kE()}`},s_=A9;function Dk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rL(e,t,r){if(typeof e!="function")throw new Error(zi(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zi(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zi(1));return r(rL)(e,t)}let n=e,i=t,s=new Map,o=s,c=0,a=!1;function l(){o===s&&(o=new Map,s.forEach((w,R)=>{o.set(R,w)}))}function h(){if(a)throw new Error(zi(3));return i}function p(w){if(typeof w!="function")throw new Error(zi(4));if(a)throw new Error(zi(5));let R=!0;l();const S=c++;return o.set(S,w),function(){if(R){if(a)throw new Error(zi(6));R=!1,l(),o.delete(S),s=null}}}function g(w){if(!Dk(w))throw new Error(zi(7));if(typeof w.type>"u")throw new Error(zi(8));if(typeof w.type!="string")throw new Error(zi(17));if(a)throw new Error(zi(9));try{a=!0,i=n(i,w)}finally{a=!1}return(s=o).forEach(S=>{S()}),w}function E(w){if(typeof w!="function")throw new Error(zi(10));n=w,g({type:s_.REPLACE})}function _(){const w=p;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(zi(11));function S(){const A=R;A.next&&A.next(h())}return S(),{unsubscribe:w(S)}},[dN](){return this}}}return g({type:s_.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:E,[dN]:_}}function I9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:s_.INIT})>"u")throw new Error(zi(12));if(typeof r(void 0,{type:s_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zi(13))})}function j9(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{I9(r)}catch(s){i=s}return function(o={},c){if(i)throw i;let a=!1;const l={};for(let h=0;h<n.length;h++){const p=n[h],g=r[p],E=o[p],_=g(E,c);if(typeof _>"u")throw c&&c.type,new Error(zi(14));l[p]=_,a=a||_!==E}return a=a||n.length!==Object.keys(o).length,a?l:o}}function o_(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function D9(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(zi(15))};const o={getState:i.getState,dispatch:(a,...l)=>s(a,...l)},c=e.map(a=>a(o));return s=o_(...c)(i.dispatch),{...i,dispatch:s}}}function M9(e){return Dk(e)&&"type"in e&&typeof e.type=="string"}var nL=Symbol.for("immer-nothing"),fN=Symbol.for("immer-draftable"),ko=Symbol.for("immer-state");function Na(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Kp=Object.getPrototypeOf;function Ff(e){return!!e&&!!e[ko]}function ml(e){var t;return e?iL(e)||Array.isArray(e)||!!e[fN]||!!((t=e.constructor)!=null&&t[fN])||TS(e)||RS(e):!1}var L9=Object.prototype.constructor.toString();function iL(e){if(!e||typeof e!="object")return!1;const t=Kp(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===L9}function a_(e,t){CS(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function CS(e){const t=e[ko];return t?t.type_:Array.isArray(e)?1:TS(e)?2:RS(e)?3:0}function MT(e,t){return CS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sL(e,t,r){const n=CS(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function F9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function TS(e){return e instanceof Map}function RS(e){return e instanceof Set}function df(e){return e.copy_||e.base_}function LT(e,t){if(TS(e))return new Map(e);if(RS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=iL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ko];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Kp(e),n)}else{const n=Kp(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Mk(e,t=!1){return kS(e)||Ff(e)||!ml(e)||(CS(e)>1&&(e.set=e.add=e.clear=e.delete=U9),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Mk(n,!0))),e}function U9(){Na(2)}function kS(e){return Object.isFrozen(e)}var B9={};function Uf(e){const t=B9[e];return t||Na(0,e),t}var Jv;function oL(){return Jv}function $9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hN(e,t){t&&(Uf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function FT(e){UT(e),e.drafts_.forEach(V9),e.drafts_=null}function UT(e){e===Jv&&(Jv=e.parent_)}function pN(e){return Jv=$9(Jv,e)}function V9(e){const t=e[ko];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ko].modified_&&(FT(t),Na(4)),ml(e)&&(e=c_(t,e),t.parent_||l_(t,e)),t.patches_&&Uf("Patches").generateReplacementPatches_(r[ko].base_,e,t.patches_,t.inversePatches_)):e=c_(t,r,[]),FT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nL?e:void 0}function c_(e,t,r){if(kS(t))return t;const n=t[ko];if(!n)return a_(t,(i,s)=>gN(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return l_(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),a_(s,(c,a)=>gN(e,n,i,c,a,r,o)),l_(e,i,!1),r&&e.patches_&&Uf("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function gN(e,t,r,n,i,s,o){if(Ff(i)){const c=s&&t&&t.type_!==3&&!MT(t.assigned_,n)?s.concat(n):void 0,a=c_(e,i,c);if(sL(r,n,a),Ff(a))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ml(i)&&!kS(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;c_(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&l_(e,i)}}function l_(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mk(t,r)}function z9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:oL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Lk;r&&(i=[n],s=Xv);const{revoke:o,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=o,c}var Lk={get(e,t){if(t===ko)return e;const r=df(e);if(!MT(r,t))return W9(e,r,t);const n=r[t];return e.finalized_||!ml(n)?n:n===OE(e.base_,t)?(PE(e),e.copy_[t]=$T(n,e)):n},has(e,t){return t in df(e)},ownKeys(e){return Reflect.ownKeys(df(e))},set(e,t,r){const n=aL(df(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=OE(df(e),t),s=i==null?void 0:i[ko];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(F9(r,i)&&(r!==void 0||MT(e.base_,t)))return!0;PE(e),BT(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return OE(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,PE(e),BT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=df(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Na(11)},getPrototypeOf(e){return Kp(e.base_)},setPrototypeOf(){Na(12)}},Xv={};a_(Lk,(e,t)=>{Xv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xv.deleteProperty=function(e,t){return Xv.set.call(this,e,t,void 0)};Xv.set=function(e,t,r){return Lk.set.call(this,e[0],t,r,e[0])};function OE(e,t){const r=e[ko];return(r?df(r):e)[t]}function W9(e,t,r){var i;const n=aL(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function aL(e,t){if(!(t in e))return;let r=Kp(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Kp(r)}}function BT(e){e.modified_||(e.modified_=!0,e.parent_&&BT(e.parent_))}function PE(e){e.copy_||(e.copy_=LT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(a=s,...l){return o.produce(a,h=>r.call(this,h,...l))}}typeof r!="function"&&Na(6),n!==void 0&&typeof n!="function"&&Na(7);let i;if(ml(t)){const s=pN(this),o=$T(t,void 0);let c=!0;try{i=r(o),c=!1}finally{c?FT(s):UT(s)}return hN(s,n),mN(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===nL&&(i=void 0),this.autoFreeze_&&Mk(i,!0),n){const s=[],o=[];Uf("Patches").generateReplacementPatches_(t,i,s,o),n(s,o)}return i}else Na(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,a=>t(a,...c));let n,i;return[this.produce(t,r,(o,c)=>{n=o,i=c}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ml(e)||Na(8),Ff(e)&&(e=G9(e));const t=pN(this),r=$T(e,void 0);return r[ko].isManual_=!0,UT(t),r}finishDraft(e,t){const r=e&&e[ko];(!r||!r.isManual_)&&Na(9);const{scope_:n}=r;return hN(n,t),mN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Uf("Patches").applyPatches_;return Ff(e)?n(e,t):this.produce(e,i=>n(i,t))}};function $T(e,t){const r=TS(e)?Uf("MapSet").proxyMap_(e,t):RS(e)?Uf("MapSet").proxySet_(e,t):z9(e,t);return(t?t.scope_:oL()).drafts_.push(r),r}function G9(e){return Ff(e)||Na(10,e),cL(e)}function cL(e){if(!ml(e)||kS(e))return e;const t=e[ko];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=LT(e,t.scope_.immer_.useStrictShallowCopy_)}else r=LT(e,!0);return a_(r,(n,i)=>{sL(r,n,cL(i))}),t&&(t.finalized_=!1),r}var Oo=new H9,lL=Oo.produce;Oo.produceWithPatches.bind(Oo);Oo.setAutoFreeze.bind(Oo);Oo.setUseStrictShallowCopy.bind(Oo);Oo.applyPatches.bind(Oo);Oo.createDraft.bind(Oo);Oo.finishDraft.bind(Oo);function uL(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var q9=uL(),K9=uL,Y9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?o_:o_.apply(null,arguments)},Q9=e=>e&&typeof e.match=="function";function bv(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(al(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>M9(n)&&n.type===e,r}var dL=class rv extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rv.prototype)}static get[Symbol.species](){return rv}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rv(...t[0].concat(this)):new rv(...t.concat(this))}};function vN(e){return ml(e)?lL(e,()=>{}):e}function yN(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function J9(e){return typeof e=="boolean"}var X9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new dL;return r&&(J9(r)?o.push(q9):o.push(K9(r.extraArgument))),o},Z9="RTK_autoBatch",bN=e=>t=>{setTimeout(t,e)},eH=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,o=!1;const c=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bN(10):e.type==="callback"?e.queueNotification:bN(e.timeout),l=()=>{o=!1,s&&(s=!1,c.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>i&&h(),g=n.subscribe(p);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[Z9]),s=!i,s&&(o||(o=!0,a(l))),n.dispatch(h)}finally{i=!0}}})},tH=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new dL(e);return n&&i.push(eH(typeof n=="object"?n:void 0)),i};function rH(e){const t=X9(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Dk(r))c=j9(r);else throw new Error(al(1));let a;typeof n=="function"?a=n(t):a=t();let l=o_;i&&(l=Y9({trace:!1,...typeof i=="object"&&i}));const h=D9(...a),p=tH(h);let g=typeof o=="function"?o(p):p();const E=l(...g);return rL(c,s,E)}function fL(e){const t={},r=[];let n;const i={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(al(28));if(c in t)throw new Error(al(29));return t[c]=o,i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function nH(e){return typeof e=="function"}function iH(e,t){let[r,n,i]=fL(t),s;if(nH(e))s=()=>vN(e());else{const c=vN(e);s=()=>c}function o(c=s(),a){let l=[r[a.type],...n.filter(({matcher:h})=>h(a)).map(({reducer:h})=>h)];return l.filter(h=>!!h).length===0&&(l=[i]),l.reduce((h,p)=>{if(p)if(Ff(h)){const E=p(h,a);return E===void 0?h:E}else{if(ml(h))return lL(h,g=>p(g,a));{const g=p(h,a);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return o.getInitialState=s,o}var sH=(e,t)=>Q9(e)?e.match(t):e(t);function oH(...e){return t=>e.some(r=>sH(r,t))}var aH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cH=(e=21)=>{let t="",r=e;for(;r--;)t+=aH[Math.random()*64|0];return t},lH=["name","message","stack","code"],NE=class{constructor(e,t){Hw(this,"_type");this.payload=e,this.meta=t}},xN=class{constructor(e,t){Hw(this,"_type");this.payload=e,this.meta=t}},uH=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of lH)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},_N="External signal was aborted",wt=(()=>{function e(t,r,n){const i=bv(t+"/fulfilled",(a,l,h,p)=>({payload:a,meta:{...p||{},arg:h,requestId:l,requestStatus:"fulfilled"}})),s=bv(t+"/pending",(a,l,h)=>({payload:void 0,meta:{...h||{},arg:l,requestId:a,requestStatus:"pending"}})),o=bv(t+"/rejected",(a,l,h,p,g)=>({payload:p,error:(n&&n.serializeError||uH)(a||"Rejected"),meta:{...g||{},arg:h,requestId:l,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function c(a,{signal:l}={}){return(h,p,g)=>{const E=n!=null&&n.idGenerator?n.idGenerator(a):cH(),_=new AbortController;let y,w;function R(C){w=C,_.abort()}l&&(l.aborted?R(_N):l.addEventListener("abort",()=>R(_N),{once:!0}));const S=async function(){var L,U;let C;try{let B=(L=n==null?void 0:n.condition)==null?void 0:L.call(n,a,{getState:p,extra:g});if(fH(B)&&(B=await B),B===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const z=new Promise((G,J)=>{y=()=>{J({name:"AbortError",message:w||"Aborted"})},_.signal.addEventListener("abort",y)});h(s(E,a,(U=n==null?void 0:n.getPendingMeta)==null?void 0:U.call(n,{requestId:E,arg:a},{getState:p,extra:g}))),C=await Promise.race([z,Promise.resolve(r(a,{dispatch:h,getState:p,extra:g,requestId:E,signal:_.signal,abort:R,rejectWithValue:(G,J)=>new NE(G,J),fulfillWithValue:(G,J)=>new xN(G,J)})).then(G=>{if(G instanceof NE)throw G;return G instanceof xN?i(G.payload,E,a,G.meta):i(G,E,a)})])}catch(B){C=B instanceof NE?o(null,E,a,B.payload,B.meta):o(B,E,a)}finally{y&&_.signal.removeEventListener("abort",y)}return n&&!n.dispatchConditionRejection&&o.match(C)&&C.meta.condition||h(C),C}();return Object.assign(S,{abort:R,requestId:E,arg:a,unwrap(){return S.then(dH)}})}}return Object.assign(c,{pending:s,rejected:o,fulfilled:i,settled:oH(o,i),typePrefix:t})}return e.withTypes=()=>e,e})();function dH(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function fH(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var hH=Symbol.for("rtk-slice-createasyncthunk");function pH(e,t){return`${e}/${t}`}function mH({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[hH];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(al(11));const c=(typeof i.reducers=="function"?i.reducers(vH()):i.reducers)||{},a=Object.keys(c),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,A){const L=typeof C=="string"?C:C.type;if(!L)throw new Error(al(12));if(L in l.sliceCaseReducersByType)throw new Error(al(13));return l.sliceCaseReducersByType[L]=A,h},addMatcher(C,A){return l.sliceMatchers.push({matcher:C,reducer:A}),h},exposeAction(C,A){return l.actionCreators[C]=A,h},exposeCaseReducer(C,A){return l.sliceCaseReducersByName[C]=A,h}};a.forEach(C=>{const A=c[C],L={reducerName:C,type:pH(s,C),createNotation:typeof i.reducers=="function"};bH(A)?_H(L,A,h,t):yH(L,A,h)});function p(){const[C={},A=[],L=void 0]=typeof i.extraReducers=="function"?fL(i.extraReducers):[i.extraReducers],U={...C,...l.sliceCaseReducersByType};return iH(i.initialState,B=>{for(let z in U)B.addCase(z,U[z]);for(let z of l.sliceMatchers)B.addMatcher(z.matcher,z.reducer);for(let z of A)B.addMatcher(z.matcher,z.reducer);L&&B.addDefaultCase(L)})}const g=C=>C,E=new Map;let _;function y(C,A){return _||(_=p()),_(C,A)}function w(){return _||(_=p()),_.getInitialState()}function R(C,A=!1){function L(B){let z=B[C];return typeof z>"u"&&A&&(z=w()),z}function U(B=g){const z=yN(E,A,()=>new WeakMap);return yN(z,B,()=>{const G={};for(const[J,X]of Object.entries(i.selectors??{}))G[J]=gH(X,B,w,A);return G})}return{reducerPath:C,getSelectors:U,get selectors(){return U(L)},selectSlice:L}}const S={name:s,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...R(o),injectInto(C,{reducerPath:A,...L}={}){const U=A??o;return C.inject({reducerPath:U,reducer:y},L),{...S,...R(U,!0)}}};return S}}function gH(e,t,r,n){function i(s,...o){let c=t(s);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return i.unwrapped=e,i}var io=mH();function vH(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function yH({type:e,reducerName:t,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!xH(n))throw new Error(al(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?bv(e,o):bv(e))}function bH(e){return e._reducerDefinitionType==="asyncThunk"}function xH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _H({type:e,reducerName:t},r,n,i){if(!i)throw new Error(al(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:a,settled:l,options:h}=r,p=i(e,s,h);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),c&&n.addCase(p.pending,c),a&&n.addCase(p.rejected,a),l&&n.addMatcher(p.settled,l),n.exposeCaseReducer(t,{fulfilled:o||ub,pending:c||ub,rejected:a||ub,settled:l||ub})}function ub(){}function al(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const SH={isAuthenticated:!1,loading:!1,error:null,email:null,activeQuiz:0,payment:0,totalUser:0},Db=wt("auth/loginUser",async(e,{rejectWithValue:t})=>{var r,n;try{const i=await gt.post(Y6,e),{accessToken:s,refreshToken:o}=i.data;return Gi.set("accessToken",s),Gi.set("refreshToken",o),i.data}catch(i){return t(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"An error occurred")}}),Mb=wt("getProfile",async(e,{rejectWithValue:t})=>{try{return(await gt.get(B8)).data}catch(r){return t(r.response.data)}}),hL=io({name:"auth",initialState:SH,reducers:{logout:e=>{console.log("logout :>> "),Gi.set("accessToken",""),Gi.set("refreshToken","")}},extraReducers:e=>{e.addCase(Db.pending,(t,r)=>{t.loading=!0,t.error=null}).addCase(Db.fulfilled,(t,r)=>{t.loading=!1,t.isAuthenticated=!0,t.email=r.payload.email}).addCase(Db.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"An unknown error occurred"}).addCase(Mb.pending,(t,r)=>{t.loading=!0,t.error=null}).addCase(Mb.fulfilled,(t,r)=>{t.loading=!1,t.email=r.payload.email,t.payment=r.payload.totalSum,t.activeQuiz=r.payload.activeQuiz,t.totalUser=r.payload.totalUser}).addCase(Mb.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||"An unknown error occurred"})}}),{logout:wH}=hL.actions,EH=hL.reducer,VT=vS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ot=P.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?Sc:"button";return d.jsx(o,{className:it(VT({variant:t,size:r,className:e})),ref:s,...i})});Ot.displayName="Button";const ar=P.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:it("flex h-10 w-full rounded-md border border-input bg-background px-2 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ",e),ref:n,...r}));ar.displayName="Input";var CH="Label",pL=P.forwardRef((e,t)=>d.jsx(Pt.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pL.displayName=CH;var mL=pL;const TH=vS("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ii=P.forwardRef(({className:e,...t},r)=>d.jsx(mL,{ref:r,className:it(TH(),e),...t}));Ii.displayName=mL.displayName;var gL={exports:{}},vL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=P;function RH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kH=typeof Object.is=="function"?Object.is:RH,OH=Sy.useSyncExternalStore,PH=Sy.useRef,NH=Sy.useEffect,AH=Sy.useMemo,IH=Sy.useDebugValue;vL.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=PH(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=AH(function(){function a(E){if(!l){if(l=!0,h=E,E=n(E),i!==void 0&&o.hasValue){var _=o.value;if(i(_,E))return p=_}return p=E}if(_=p,kH(h,E))return _;var y=n(E);return i!==void 0&&i(_,y)?(h=E,_):(h=E,p=y)}var l=!1,h,p,g=r===void 0?null:r;return[function(){return a(t())},g===null?void 0:function(){return a(g())}]},[t,r,n,i]);var c=OH(e,s[0],s[1]);return NH(function(){o.hasValue=!0,o.value=c},[c]),IH(c),c};gL.exports=vL;var jH=gL.exports;function DH(e){e()}function MH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SN={notify(){},get:()=>[]};function LH(e,t){let r,n=SN,i=0,s=!1;function o(y){h();const w=n.subscribe(y);let R=!1;return()=>{R||(R=!0,w(),p())}}function c(){n.notify()}function a(){_.onStateChange&&_.onStateChange()}function l(){return s}function h(){i++,r||(r=e.subscribe(a),n=MH())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=SN)}function g(){s||(s=!0,h())}function E(){s&&(s=!1,p())}const _={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:a,isSubscribed:l,trySubscribe:g,tryUnsubscribe:E,getListeners:()=>n};return _}var FH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UH=FH(),BH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$H=BH(),VH=()=>UH||$H?P.useLayoutEffect:P.useEffect,zH=VH(),AE=Symbol.for("react-redux-context"),IE=typeof globalThis<"u"?globalThis:{};function WH(){if(!P.createContext)return{};const e=IE[AE]??(IE[AE]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var Xu=WH();function HH(e){const{children:t,context:r,serverState:n,store:i}=e,s=P.useMemo(()=>{const a=LH(i);return{store:i,subscription:a,getServerState:n?()=>n:void 0}},[i,n]),o=P.useMemo(()=>i.getState(),[i]);zH(()=>{const{subscription:a}=s;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==i.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[s,o]);const c=r||Xu;return P.createElement(c.Provider,{value:s},t)}var GH=HH;function Fk(e=Xu){return function(){return P.useContext(e)}}var yL=Fk();function bL(e=Xu){const t=e===Xu?yL:Fk(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var qH=bL();function KH(e=Xu){const t=e===Xu?qH:bL(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var en=KH(),YH=(e,t)=>e===t;function QH(e=Xu){const t=e===Xu?yL:Fk(e),r=(n,i={})=>{const{equalityFn:s=YH}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:c,subscription:a,getServerState:l}=o;P.useRef(!0);const h=P.useCallback({[n.name](g){return n(g)}}[n.name],[n]),p=jH.useSyncExternalStoreWithSelector(a.addNestedSub,c.getState,l||c.getState,h,s);return P.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var Wr=QH();const JH=()=>{const[e,t]=P.useState(""),[r,n]=P.useState(""),i=en(),{loading:s}=Wr(l=>l.auth),o=_l(),{toast:c}=kc(),a=async l=>{l.preventDefault(),i(Db({email:e,password:r})).unwrap().then(h=>{o("/dashboard"),c({title:"Success",description:"Welcome back!"})}).catch(h=>{c({variant:"destructive",title:"Error",description:"Invalid credentials"})})};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsx("div",{children:d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[d.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ii,{htmlFor:"email",children:"Email address"}),d.jsx(ar,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx(Ii,{htmlFor:"password",children:"Password"}),d.jsx(ar,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:l=>n(l.target.value),className:"mt-1"})]})]}),d.jsx("div",{children:d.jsx(Ot,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign in"})})]})]})})};var XH=P.createContext(void 0);function wy(e){const t=P.useContext(XH);return e||t||"ltr"}var jE=0;function OS(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wN()),document.body.insertAdjacentElement("beforeend",e[1]??wN()),jE++,()=>{jE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jE--}},[])}function wN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var DE="focusScope.autoFocusOnMount",ME="focusScope.autoFocusOnUnmount",EN={bubbles:!1,cancelable:!0},ZH="FocusScope",Ey=P.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[c,a]=P.useState(null),l=$n(i),h=$n(s),p=P.useRef(null),g=yr(t,y=>a(y)),E=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let y=function(C){if(E.paused||!c)return;const A=C.target;c.contains(A)?p.current=A:hu(p.current,{select:!0})},w=function(C){if(E.paused||!c)return;const A=C.relatedTarget;A!==null&&(c.contains(A)||hu(p.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const L of C)L.removedNodes.length>0&&hu(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(R);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[n,c,E.paused]),P.useEffect(()=>{if(c){TN.add(E);const y=document.activeElement;if(!c.contains(y)){const R=new CustomEvent(DE,EN);c.addEventListener(DE,l),c.dispatchEvent(R),R.defaultPrevented||(eG(sG(xL(c)),{select:!0}),document.activeElement===y&&hu(c))}return()=>{c.removeEventListener(DE,l),setTimeout(()=>{const R=new CustomEvent(ME,EN);c.addEventListener(ME,h),c.dispatchEvent(R),R.defaultPrevented||hu(y??document.body,{select:!0}),c.removeEventListener(ME,h),TN.remove(E)},0)}}},[c,l,h,E]);const _=P.useCallback(y=>{if(!r&&!n||E.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,R=document.activeElement;if(w&&R){const S=y.currentTarget,[C,A]=tG(S);C&&A?!y.shiftKey&&R===A?(y.preventDefault(),r&&hu(C,{select:!0})):y.shiftKey&&R===C&&(y.preventDefault(),r&&hu(A,{select:!0})):R===S&&y.preventDefault()}},[r,n,E.paused]);return d.jsx(Pt.div,{tabIndex:-1,...o,ref:g,onKeyDown:_})});Ey.displayName=ZH;function eG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(hu(n,{select:t}),document.activeElement!==r)return}function tG(e){const t=xL(e),r=CN(t,e),n=CN(t.reverse(),e);return[r,n]}function xL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function CN(e,t){for(const r of e)if(!rG(r,{upTo:t}))return r}function rG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nG(e){return e instanceof HTMLInputElement&&"select"in e}function hu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nG(e)&&t&&e.select()}}var TN=iG();function iG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=RN(e,t),e.unshift(t)},remove(t){var r;e=RN(e,t),(r=e[0])==null||r.resume()}}}function RN(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sG(e){return e.filter(t=>t.tagName!=="A")}var oG=wI.useId||(()=>{}),aG=0;function yc(e){const[t,r]=P.useState(oG());return Yi(()=>{r(n=>n??String(aG++))},[e]),t?`radix-${t}`:""}const cG=["top","right","bottom","left"],Zu=Math.min,xo=Math.max,u_=Math.round,db=Math.floor,bc=e=>({x:e,y:e}),lG={left:"right",right:"left",bottom:"top",top:"bottom"},uG={start:"end",end:"start"};function zT(e,t,r){return xo(e,Zu(t,r))}function gl(e,t){return typeof e=="function"?e(t):e}function vl(e){return e.split("-")[0]}function ym(e){return e.split("-")[1]}function Uk(e){return e==="x"?"y":"x"}function Bk(e){return e==="y"?"height":"width"}function ed(e){return["top","bottom"].includes(vl(e))?"y":"x"}function $k(e){return Uk(ed(e))}function dG(e,t,r){r===void 0&&(r=!1);const n=ym(e),i=$k(e),s=Bk(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=d_(o)),[o,d_(o)]}function fG(e){const t=d_(e);return[WT(e),t,WT(t)]}function WT(e){return e.replace(/start|end/g,t=>uG[t])}function hG(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function pG(e,t,r,n){const i=ym(e);let s=hG(vl(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(WT)))),s}function d_(e){return e.replace(/left|right|bottom|top/g,t=>lG[t])}function mG(e){return{top:0,right:0,bottom:0,left:0,...e}}function _L(e){return typeof e!="number"?mG(e):{top:e,right:e,bottom:e,left:e}}function f_(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function kN(e,t,r){let{reference:n,floating:i}=e;const s=ed(t),o=$k(t),c=Bk(o),a=vl(t),l=s==="y",h=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[c]/2-i[c]/2;let E;switch(a){case"top":E={x:h,y:n.y-i.height};break;case"bottom":E={x:h,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y:p};break;case"left":E={x:n.x-i.width,y:p};break;default:E={x:n.x,y:n.y}}switch(ym(t)){case"start":E[o]-=g*(r&&l?-1:1);break;case"end":E[o]+=g*(r&&l?-1:1);break}return E}const gG=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=kN(l,n,a),g=n,E={},_=0;for(let y=0;y<c.length;y++){const{name:w,fn:R}=c[y],{x:S,y:C,data:A,reset:L}=await R({x:h,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:E,rects:l,platform:o,elements:{reference:e,floating:t}});h=S??h,p=C??p,E={...E,[w]:{...E[w],...A}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(l=L.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):L.rects),{x:h,y:p}=kN(l,g,a)),y=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:E}};async function Zv(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:c,strategy:a}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:E=0}=gl(t,e),_=_L(E),w=c[g?p==="floating"?"reference":"floating":p],R=f_(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:h,strategy:a})),S=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),A=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},L=f_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:S,offsetParent:C,strategy:a}):S);return{top:(R.top-L.top+_.top)/A.y,bottom:(L.bottom-R.bottom+_.bottom)/A.y,left:(R.left-L.left+_.left)/A.x,right:(L.right-R.right+_.right)/A.x}}const vG=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:c,middlewareData:a}=t,{element:l,padding:h=0}=gl(e,t)||{};if(l==null)return{};const p=_L(h),g={x:r,y:n},E=$k(i),_=Bk(E),y=await o.getDimensions(l),w=E==="y",R=w?"top":"left",S=w?"bottom":"right",C=w?"clientHeight":"clientWidth",A=s.reference[_]+s.reference[E]-g[E]-s.floating[_],L=g[E]-s.reference[E],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let B=U?U[C]:0;(!B||!await(o.isElement==null?void 0:o.isElement(U)))&&(B=c.floating[C]||s.floating[_]);const z=A/2-L/2,G=B/2-y[_]/2-1,J=Zu(p[R],G),X=Zu(p[S],G),q=J,ee=B-y[_]-X,ce=B/2-y[_]/2+z,xe=zT(q,ce,ee),_e=!a.arrow&&ym(i)!=null&&ce!==xe&&s.reference[_]/2-(ce<q?J:X)-y[_]/2<0,ve=_e?ce<q?ce-q:ce-ee:0;return{[E]:g[E]+ve,data:{[E]:xe,centerOffset:ce-xe-ve,..._e&&{alignmentOffset:ve}},reset:_e}}}),yG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:c,platform:a,elements:l}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...w}=gl(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const R=vl(i),S=ed(c),C=vl(c)===c,A=await(a.isRTL==null?void 0:a.isRTL(l.floating)),L=g||(C||!y?[d_(c)]:fG(c)),U=_!=="none";!g&&U&&L.push(...pG(c,y,_,A));const B=[c,...L],z=await Zv(t,w),G=[];let J=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&G.push(z[R]),p){const ce=dG(i,o,A);G.push(z[ce[0]],z[ce[1]])}if(J=[...J,{placement:i,overflows:G}],!G.every(ce=>ce<=0)){var X,q;const ce=(((X=s.flip)==null?void 0:X.index)||0)+1,xe=B[ce];if(xe)return{data:{index:ce,overflows:J},reset:{placement:xe}};let _e=(q=J.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:q.placement;if(!_e)switch(E){case"bestFit":{var ee;const ve=(ee=J.filter(Y=>{if(U){const Q=ed(Y.placement);return Q===S||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,re)=>Q+re,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:ee[0];ve&&(_e=ve);break}case"initialPlacement":_e=c;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function ON(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PN(e){return cG.some(t=>e[t]>=0)}const bG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=gl(e,t);switch(n){case"referenceHidden":{const s=await Zv(t,{...i,elementContext:"reference"}),o=ON(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PN(o)}}}case"escaped":{const s=await Zv(t,{...i,altBoundary:!0}),o=ON(s,r.floating);return{data:{escapedOffsets:o,escaped:PN(o)}}}default:return{}}}}};async function xG(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=vl(r),c=ym(r),a=ed(r)==="y",l=["left","top"].includes(o)?-1:1,h=s&&a?-1:1,p=gl(t,e);let{mainAxis:g,crossAxis:E,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof _=="number"&&(E=c==="end"?_*-1:_),a?{x:E*h,y:g*l}:{x:g*l,y:E*h}}const _G=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:c}=t,a=await xG(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:o}}}}},SG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:c={fn:w=>{let{x:R,y:S}=w;return{x:R,y:S}}},...a}=gl(e,t),l={x:r,y:n},h=await Zv(t,a),p=ed(vl(i)),g=Uk(p);let E=l[g],_=l[p];if(s){const w=g==="y"?"top":"left",R=g==="y"?"bottom":"right",S=E+h[w],C=E-h[R];E=zT(S,E,C)}if(o){const w=p==="y"?"top":"left",R=p==="y"?"bottom":"right",S=_+h[w],C=_-h[R];_=zT(S,_,C)}const y=c.fn({...t,[g]:E,[p]:_});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:s,[p]:o}}}}}},wG=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:c=0,mainAxis:a=!0,crossAxis:l=!0}=gl(e,t),h={x:r,y:n},p=ed(i),g=Uk(p);let E=h[g],_=h[p];const y=gl(c,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(a){const C=g==="y"?"height":"width",A=s.reference[g]-s.floating[C]+w.mainAxis,L=s.reference[g]+s.reference[C]-w.mainAxis;E<A?E=A:E>L&&(E=L)}if(l){var R,S;const C=g==="y"?"width":"height",A=["top","left"].includes(vl(i)),L=s.reference[p]-s.floating[C]+(A&&((R=o.offset)==null?void 0:R[p])||0)+(A?0:w.crossAxis),U=s.reference[p]+s.reference[C]+(A?0:((S=o.offset)==null?void 0:S[p])||0)-(A?w.crossAxis:0);_<L?_=L:_>U&&(_=U)}return{[g]:E,[p]:_}}}},EG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:c}=t,{apply:a=()=>{},...l}=gl(e,t),h=await Zv(t,l),p=vl(i),g=ym(i),E=ed(i)==="y",{width:_,height:y}=s.floating;let w,R;p==="top"||p==="bottom"?(w=p,R=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(R=p,w=g==="end"?"top":"bottom");const S=y-h.top-h.bottom,C=_-h.left-h.right,A=Zu(y-h[w],S),L=Zu(_-h[R],C),U=!t.middlewareData.shift;let B=A,z=L;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(B=S),U&&!g){const J=xo(h.left,0),X=xo(h.right,0),q=xo(h.top,0),ee=xo(h.bottom,0);E?z=_-2*(J!==0||X!==0?J+X:xo(h.left,h.right)):B=y-2*(q!==0||ee!==0?q+ee:xo(h.top,h.bottom))}await a({...t,availableWidth:z,availableHeight:B});const G=await o.getDimensions(c.floating);return _!==G.width||y!==G.height?{reset:{rects:!0}}:{}}}};function PS(){return typeof window<"u"}function bm(e){return SL(e)?(e.nodeName||"").toLowerCase():"#document"}function To(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oc(e){var t;return(t=(SL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SL(e){return PS()?e instanceof Node||e instanceof To(e).Node:!1}function Da(e){return PS()?e instanceof Element||e instanceof To(e).Element:!1}function wc(e){return PS()?e instanceof HTMLElement||e instanceof To(e).HTMLElement:!1}function NN(e){return!PS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof To(e).ShadowRoot}function Cy(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function CG(e){return["table","td","th"].includes(bm(e))}function NS(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vk(e){const t=zk(),r=Da(e)?Ma(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function TG(e){let t=td(e);for(;wc(t)&&!Yp(t);){if(Vk(t))return t;if(NS(t))return null;t=td(t)}return null}function zk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yp(e){return["html","body","#document"].includes(bm(e))}function Ma(e){return To(e).getComputedStyle(e)}function AS(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function td(e){if(bm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||NN(e)&&e.host||Oc(e);return NN(t)?t.host:t}function wL(e){const t=td(e);return Yp(t)?e.ownerDocument?e.ownerDocument.body:e.body:wc(t)&&Cy(t)?t:wL(t)}function ey(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=wL(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=To(i);if(s){const c=HT(o);return t.concat(o,o.visualViewport||[],Cy(i)?i:[],c&&r?ey(c):[])}return t.concat(i,ey(i,[],r))}function HT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EL(e){const t=Ma(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=wc(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,c=u_(r)!==s||u_(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function Wk(e){return Da(e)?e:e.contextElement}function Ep(e){const t=Wk(e);if(!wc(t))return bc(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=EL(t);let o=(s?u_(r.width):r.width)/n,c=(s?u_(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const RG=bc(0);function CL(e){const t=To(e);return!zk()||!t.visualViewport?RG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kG(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==To(e)?!1:t}function Bf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=Wk(e);let o=bc(1);t&&(n?Da(n)&&(o=Ep(n)):o=Ep(e));const c=kG(s,r,n)?CL(s):bc(0);let a=(i.left+c.x)/o.x,l=(i.top+c.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const g=To(s),E=n&&Da(n)?To(n):n;let _=g,y=HT(_);for(;y&&n&&E!==_;){const w=Ep(y),R=y.getBoundingClientRect(),S=Ma(y),C=R.left+(y.clientLeft+parseFloat(S.paddingLeft))*w.x,A=R.top+(y.clientTop+parseFloat(S.paddingTop))*w.y;a*=w.x,l*=w.y,h*=w.x,p*=w.y,a+=C,l+=A,_=To(y),y=HT(_)}}return f_({width:h,height:p,x:a,y:l})}function Hk(e,t){const r=AS(e).scrollLeft;return t?t.left+r:Bf(Oc(e)).left+r}function TL(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:Hk(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function OG(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=Oc(n),c=t?NS(t.floating):!1;if(n===o||c&&s)return r;let a={scrollLeft:0,scrollTop:0},l=bc(1);const h=bc(0),p=wc(n);if((p||!p&&!s)&&((bm(n)!=="body"||Cy(o))&&(a=AS(n)),wc(n))){const E=Bf(n);l=Ep(n),h.x=E.x+n.clientLeft,h.y=E.y+n.clientTop}const g=o&&!p&&!s?TL(o,a,!0):bc(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-a.scrollLeft*l.x+h.x+g.x,y:r.y*l.y-a.scrollTop*l.y+h.y+g.y}}function PG(e){return Array.from(e.getClientRects())}function NG(e){const t=Oc(e),r=AS(e),n=e.ownerDocument.body,i=xo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=xo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Hk(e);const c=-r.scrollTop;return Ma(n).direction==="rtl"&&(o+=xo(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:c}}function AG(e,t){const r=To(e),n=Oc(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,a=0;if(i){s=i.width,o=i.height;const l=zk();(!l||l&&t==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:c,y:a}}function IG(e,t){const r=Bf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=wc(e)?Ep(e):bc(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,a=i*s.x,l=n*s.y;return{width:o,height:c,x:a,y:l}}function AN(e,t,r){let n;if(t==="viewport")n=AG(e,r);else if(t==="document")n=NG(Oc(e));else if(Da(t))n=IG(t,r);else{const i=CL(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return f_(n)}function RL(e,t){const r=td(e);return r===t||!Da(r)||Yp(r)?!1:Ma(r).position==="fixed"||RL(r,t)}function jG(e,t){const r=t.get(e);if(r)return r;let n=ey(e,[],!1).filter(c=>Da(c)&&bm(c)!=="body"),i=null;const s=Ma(e).position==="fixed";let o=s?td(e):e;for(;Da(o)&&!Yp(o);){const c=Ma(o),a=Vk(o);!a&&c.position==="fixed"&&(i=null),(s?!a&&!i:!a&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cy(o)&&!a&&RL(e,o))?n=n.filter(h=>h!==o):i=c,o=td(o)}return t.set(e,n),n}function DG(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?NS(t)?[]:jG(t,this._c):[].concat(r),n],c=o[0],a=o.reduce((l,h)=>{const p=AN(t,h,i);return l.top=xo(p.top,l.top),l.right=Zu(p.right,l.right),l.bottom=Zu(p.bottom,l.bottom),l.left=xo(p.left,l.left),l},AN(t,c,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function MG(e){const{width:t,height:r}=EL(e);return{width:t,height:r}}function LG(e,t,r){const n=wc(t),i=Oc(t),s=r==="fixed",o=Bf(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const a=bc(0);if(n||!n&&!s)if((bm(t)!=="body"||Cy(i))&&(c=AS(t)),n){const g=Bf(t,!0,s,t);a.x=g.x+t.clientLeft,a.y=g.y+t.clientTop}else i&&(a.x=Hk(i));const l=i&&!n&&!s?TL(i,c):bc(0),h=o.left+c.scrollLeft-a.x-l.x,p=o.top+c.scrollTop-a.y-l.y;return{x:h,y:p,width:o.width,height:o.height}}function LE(e){return Ma(e).position==="static"}function IN(e,t){if(!wc(e)||Ma(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Oc(e)===r&&(r=r.ownerDocument.body),r}function kL(e,t){const r=To(e);if(NS(e))return r;if(!wc(e)){let i=td(e);for(;i&&!Yp(i);){if(Da(i)&&!LE(i))return i;i=td(i)}return r}let n=IN(e,t);for(;n&&CG(n)&&LE(n);)n=IN(n,t);return n&&Yp(n)&&LE(n)&&!Vk(n)?r:n||TG(e)||r}const FG=async function(e){const t=this.getOffsetParent||kL,r=this.getDimensions,n=await r(e.floating);return{reference:LG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UG(e){return Ma(e).direction==="rtl"}const BG={convertOffsetParentRelativeRectToViewportRelativeRect:OG,getDocumentElement:Oc,getClippingRect:DG,getOffsetParent:kL,getElementRects:FG,getClientRects:PG,getDimensions:MG,getScale:Ep,isElement:Da,isRTL:UG};function OL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $G(e,t){let r=null,n;const i=Oc(e);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const l=e.getBoundingClientRect(),{left:h,top:p,width:g,height:E}=l;if(c||t(),!g||!E)return;const _=db(p),y=db(i.clientWidth-(h+g)),w=db(i.clientHeight-(p+E)),R=db(h),C={rootMargin:-_+"px "+-y+"px "+-w+"px "+-R+"px",threshold:xo(0,Zu(1,a))||1};let A=!0;function L(U){const B=U[0].intersectionRatio;if(B!==a){if(!A)return o();B?o(!1,B):n=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!OL(l,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(L,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,C)}r.observe(e)}return o(!0),s}function VG(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,l=Wk(e),h=i||s?[...l?ey(l):[],...ey(t)]:[];h.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),s&&R.addEventListener("resize",r)});const p=l&&c?$G(l,r):null;let g=-1,E=null;o&&(E=new ResizeObserver(R=>{let[S]=R;S&&S.target===l&&E&&(E.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=E)==null||C.observe(t)})),r()}),l&&!a&&E.observe(l),E.observe(t));let _,y=a?Bf(e):null;a&&w();function w(){const R=Bf(e);y&&!OL(y,R)&&r(),y=R,_=requestAnimationFrame(w)}return r(),()=>{var R;h.forEach(S=>{i&&S.removeEventListener("scroll",r),s&&S.removeEventListener("resize",r)}),p==null||p(),(R=E)==null||R.disconnect(),E=null,a&&cancelAnimationFrame(_)}}const zG=_G,WG=SG,HG=yG,GG=EG,qG=bG,jN=vG,KG=wG,YG=(e,t,r)=>{const n=new Map,i={platform:BG,...r},s={...i.platform,_c:n};return gG(e,t,{...i,platform:s})};var Lb=typeof document<"u"?P.useLayoutEffect:P.useEffect;function h_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!h_(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!h_(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function PL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DN(e,t){const r=PL(e);return Math.round(t*r)/r}function FE(e){const t=P.useRef(e);return Lb(()=>{t.current=e}),t}function QG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:a,open:l}=e,[h,p]=P.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,E]=P.useState(n);h_(g,n)||E(n);const[_,y]=P.useState(null),[w,R]=P.useState(null),S=P.useCallback(Y=>{Y!==U.current&&(U.current=Y,y(Y))},[]),C=P.useCallback(Y=>{Y!==B.current&&(B.current=Y,R(Y))},[]),A=s||_,L=o||w,U=P.useRef(null),B=P.useRef(null),z=P.useRef(h),G=a!=null,J=FE(a),X=FE(i),q=FE(l),ee=P.useCallback(()=>{if(!U.current||!B.current)return;const Y={placement:t,strategy:r,middleware:g};X.current&&(Y.platform=X.current),YG(U.current,B.current,Y).then(Q=>{const re={...Q,isPositioned:q.current!==!1};ce.current&&!h_(z.current,re)&&(z.current=re,Jf.flushSync(()=>{p(re)}))})},[g,t,r,X,q]);Lb(()=>{l===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[l]);const ce=P.useRef(!1);Lb(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Lb(()=>{if(A&&(U.current=A),L&&(B.current=L),A&&L){if(J.current)return J.current(A,L,ee);ee()}},[A,L,ee,J,G]);const xe=P.useMemo(()=>({reference:U,floating:B,setReference:S,setFloating:C}),[S,C]),_e=P.useMemo(()=>({reference:A,floating:L}),[A,L]),ve=P.useMemo(()=>{const Y={position:r,left:0,top:0};if(!_e.floating)return Y;const Q=DN(_e.floating,h.x),re=DN(_e.floating,h.y);return c?{...Y,transform:"translate("+Q+"px, "+re+"px)",...PL(_e.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:re}},[r,c,_e.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:ee,refs:xe,elements:_e,floatingStyles:ve}),[h,ee,xe,_e,ve])}const JG=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jN({element:n.current,padding:i}).fn(r):{}:n?jN({element:n,padding:i}).fn(r):{}}}},XG=(e,t)=>({...zG(e),options:[e,t]}),ZG=(e,t)=>({...WG(e),options:[e,t]}),e7=(e,t)=>({...KG(e),options:[e,t]}),t7=(e,t)=>({...HG(e),options:[e,t]}),r7=(e,t)=>({...GG(e),options:[e,t]}),n7=(e,t)=>({...qG(e),options:[e,t]}),i7=(e,t)=>({...JG(e),options:[e,t]});var s7="Arrow",NL=P.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return d.jsx(Pt.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});NL.displayName=s7;var o7=NL;function Gk(e){const[t,r]=P.useState(void 0);return Yi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,c;if("borderBoxSize"in s){const a=s.borderBoxSize,l=Array.isArray(a)?a[0]:a;o=l.inlineSize,c=l.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var qk="Popper",[AL,xm]=no(qk),[a7,IL]=AL(qk),jL=e=>{const{__scopePopper:t,children:r}=e,[n,i]=P.useState(null);return d.jsx(a7,{scope:t,anchor:n,onAnchorChange:i,children:r})};jL.displayName=qk;var DL="PopperAnchor",ML=P.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=IL(DL,r),o=P.useRef(null),c=yr(t,o);return P.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(Pt.div,{...i,ref:c})});ML.displayName=DL;var Kk="PopperContent",[c7,l7]=AL(Kk),LL=P.forwardRef((e,t)=>{var Ke,lt,Mt,Kt,Lt,Wt;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:a=!0,collisionBoundary:l=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:E="optimized",onPlaced:_,...y}=e,w=IL(Kk,r),[R,S]=P.useState(null),C=yr(t,Mr=>S(Mr)),[A,L]=P.useState(null),U=Gk(A),B=(U==null?void 0:U.width)??0,z=(U==null?void 0:U.height)??0,G=n+(s!=="center"?"-"+s:""),J=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},X=Array.isArray(l)?l:[l],q=X.length>0,ee={padding:J,boundary:X.filter(d7),altBoundary:q},{refs:ce,floatingStyles:xe,placement:_e,isPositioned:ve,middlewareData:Y}=QG({strategy:"fixed",placement:G,whileElementsMounted:(...Mr)=>VG(...Mr,{animationFrame:E==="always"}),elements:{reference:w.anchor},middleware:[XG({mainAxis:i+z,alignmentAxis:o}),a&&ZG({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?e7():void 0,...ee}),a&&t7({...ee}),r7({...ee,apply:({elements:Mr,rects:qr,availableWidth:ut,availableHeight:In})=>{const{width:Mi,height:Z}=qr.reference,he=Mr.floating.style;he.setProperty("--radix-popper-available-width",`${ut}px`),he.setProperty("--radix-popper-available-height",`${In}px`),he.setProperty("--radix-popper-anchor-width",`${Mi}px`),he.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),A&&i7({element:A,padding:c}),f7({arrowWidth:B,arrowHeight:z}),g&&n7({strategy:"referenceHidden",...ee})]}),[Q,re]=BL(_e),fe=$n(_);Yi(()=>{ve&&(fe==null||fe())},[ve,fe]);const Te=(Ke=Y.arrow)==null?void 0:Ke.x,He=(lt=Y.arrow)==null?void 0:lt.y,Le=((Mt=Y.arrow)==null?void 0:Mt.centerOffset)!==0,[xt,zt]=P.useState();return Yi(()=>{R&&zt(window.getComputedStyle(R).zIndex)},[R]),d.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ve?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xt,"--radix-popper-transform-origin":[(Kt=Y.transformOrigin)==null?void 0:Kt.x,(Lt=Y.transformOrigin)==null?void 0:Lt.y].join(" "),...((Wt=Y.hide)==null?void 0:Wt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(c7,{scope:r,placedSide:Q,onArrowChange:L,arrowX:Te,arrowY:He,shouldHideArrow:Le,children:d.jsx(Pt.div,{"data-side":Q,"data-align":re,...y,ref:C,style:{...y.style,animation:ve?void 0:"none"}})})})});LL.displayName=Kk;var FL="PopperArrow",u7={top:"bottom",right:"left",bottom:"top",left:"right"},UL=P.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=l7(FL,n),o=u7[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(o7,{...i,ref:r,style:{...i.style,display:"block"}})})});UL.displayName=FL;function d7(e){return e!==null}var f7=e=>({name:"transformOrigin",options:e,fn(t){var w,R,S;const{placement:r,rects:n,middlewareData:i}=t,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,c=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,h]=BL(r),p={start:"0%",center:"50%",end:"100%"}[h],g=(((R=i.arrow)==null?void 0:R.x)??0)+c/2,E=(((S=i.arrow)==null?void 0:S.y)??0)+a/2;let _="",y="";return l==="bottom"?(_=o?p:`${g}px`,y=`${-a}px`):l==="top"?(_=o?p:`${g}px`,y=`${n.floating.height+a}px`):l==="right"?(_=`${-a}px`,y=o?p:`${E}px`):l==="left"&&(_=`${n.floating.width+a}px`,y=o?p:`${E}px`),{data:{x:_,y}}}});function BL(e){const[t,r="center"]=e.split("-");return[t,r]}var Yk=jL,IS=ML,Qk=LL,Jk=UL,UE="rovingFocusGroup.onEntryFocus",h7={bubbles:!1,cancelable:!0},jS="RovingFocusGroup",[GT,$L,p7]=hS(jS),[m7,DS]=no(jS,[p7]),[g7,v7]=m7(jS),VL=P.forwardRef((e,t)=>d.jsx(GT.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(GT.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(y7,{...e,ref:t})})}));VL.displayName=jS;var y7=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:a,onEntryFocus:l,preventScrollOnEntryFocus:h=!1,...p}=e,g=P.useRef(null),E=yr(t,g),_=wy(s),[y=null,w]=pl({prop:o,defaultProp:c,onChange:a}),[R,S]=P.useState(!1),C=$n(l),A=$L(r),L=P.useRef(!1),[U,B]=P.useState(0);return P.useEffect(()=>{const z=g.current;if(z)return z.addEventListener(UE,C),()=>z.removeEventListener(UE,C)},[C]),d.jsx(g7,{scope:r,orientation:n,dir:_,loop:i,currentTabStopId:y,onItemFocus:P.useCallback(z=>w(z),[w]),onItemShiftTab:P.useCallback(()=>S(!0),[]),onFocusableItemAdd:P.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:P.useCallback(()=>B(z=>z-1),[]),children:d.jsx(Pt.div,{tabIndex:R||U===0?-1:0,"data-orientation":n,...p,ref:E,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{L.current=!0}),onFocus:qe(e.onFocus,z=>{const G=!L.current;if(z.target===z.currentTarget&&G&&!R){const J=new CustomEvent(UE,h7);if(z.currentTarget.dispatchEvent(J),!J.defaultPrevented){const X=A().filter(_e=>_e.focusable),q=X.find(_e=>_e.active),ee=X.find(_e=>_e.id===y),xe=[q,ee,...X].filter(Boolean).map(_e=>_e.ref.current);HL(xe,h)}}L.current=!1}),onBlur:qe(e.onBlur,()=>S(!1))})})}),zL="RovingFocusGroupItem",WL=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=e,c=yc(),a=s||c,l=v7(zL,r),h=l.currentTabStopId===a,p=$L(r),{onFocusableItemAdd:g,onFocusableItemRemove:E}=l;return P.useEffect(()=>{if(n)return g(),()=>E()},[n,g,E]),d.jsx(GT.ItemSlot,{scope:r,id:a,focusable:n,active:i,children:d.jsx(Pt.span,{tabIndex:h?0:-1,"data-orientation":l.orientation,...o,ref:t,onMouseDown:qe(e.onMouseDown,_=>{n?l.onItemFocus(a):_.preventDefault()}),onFocus:qe(e.onFocus,()=>l.onItemFocus(a)),onKeyDown:qe(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){l.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=_7(_,l.orientation,l.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let R=p().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")R.reverse();else if(y==="prev"||y==="next"){y==="prev"&&R.reverse();const S=R.indexOf(_.currentTarget);R=l.loop?S7(R,S+1):R.slice(S+1)}setTimeout(()=>HL(R))}})})})});WL.displayName=zL;var b7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _7(e,t,r){const n=x7(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return b7[n]}function HL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function S7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var GL=VL,qL=WL,w7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jh=new WeakMap,fb=new WeakMap,hb={},BE=0,KL=function(e){return e&&(e.host||KL(e.parentNode))},E7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=KL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},C7=function(e,t,r,n){var i=E7(t,Array.isArray(e)?e:[e]);hb[r]||(hb[r]=new WeakMap);var s=hb[r],o=[],c=new Set,a=new Set(i),l=function(p){!p||c.has(p)||(c.add(p),l(p.parentNode))};i.forEach(l);var h=function(p){!p||a.has(p)||Array.prototype.forEach.call(p.children,function(g){if(c.has(g))h(g);else try{var E=g.getAttribute(n),_=E!==null&&E!=="false",y=(Jh.get(g)||0)+1,w=(s.get(g)||0)+1;Jh.set(g,y),s.set(g,w),o.push(g),y===1&&_&&fb.set(g,!0),w===1&&g.setAttribute(r,"true"),_||g.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",g,R)}})};return h(t),c.clear(),BE++,function(){o.forEach(function(p){var g=Jh.get(p)-1,E=s.get(p)-1;Jh.set(p,g),s.set(p,E),g||(fb.has(p)||p.removeAttribute(n),fb.delete(p)),E||p.removeAttribute(r)}),BE--,BE||(Jh=new WeakMap,Jh=new WeakMap,fb=new WeakMap,hb={})}},MS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=w7(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),C7(n,i,r,"aria-hidden")):function(){return null}},fc=function(){return fc=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},fc.apply(this,arguments)};function YL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function T7(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Fb="right-scroll-bar-position",Ub="width-before-scroll-bar",R7="with-scroll-bars-hidden",k7="--removed-body-scroll-bar-size";function $E(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function O7(e,t){var r=P.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var P7=typeof window<"u"?P.useLayoutEffect:P.useEffect,MN=new WeakMap;function N7(e,t){var r=O7(null,function(n){return e.forEach(function(i){return $E(i,n)})});return P7(function(){var n=MN.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(c){s.has(c)||$E(c,null)}),s.forEach(function(c){i.has(c)||$E(c,o)})}MN.set(r,e)},[e]),r}function A7(e){return e}function I7(e,t){t===void 0&&(t=A7);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(c){return s(c)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(s),o=r}var a=function(){var h=o;o=[],h.forEach(s)},l=function(){return Promise.resolve().then(a)};l(),r={push:function(h){o.push(h),l()},filter:function(h){return o=o.filter(h),r}}}};return i}function j7(e){e===void 0&&(e={});var t=I7(null);return t.options=fc({async:!0,ssr:!1},e),t}var QL=function(e){var t=e.sideCar,r=YL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return P.createElement(n,fc({},r))};QL.isSideCarExport=!0;function D7(e,t){return e.useMedium(t),QL}var JL=j7(),VE=function(){},LS=P.forwardRef(function(e,t){var r=P.useRef(null),n=P.useState({onScrollCapture:VE,onWheelCapture:VE,onTouchMoveCapture:VE}),i=n[0],s=n[1],o=e.forwardProps,c=e.children,a=e.className,l=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,E=e.noIsolation,_=e.inert,y=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,S=e.gapMode,C=YL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,L=N7([r,t]),U=fc(fc({},C),i);return P.createElement(P.Fragment,null,h&&P.createElement(A,{sideCar:JL,removeScrollBar:l,shards:p,noIsolation:E,inert:_,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:S}),o?P.cloneElement(P.Children.only(c),fc(fc({},U),{ref:L})):P.createElement(R,fc({},U,{className:a,ref:L}),c))});LS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};LS.classNames={fullWidth:Ub,zeroRight:Fb};var M7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M7();return t&&e.setAttribute("nonce",t),e}function F7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=L7())&&(F7(t,r),U7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$7=function(){var e=B7();return function(t,r){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},XL=function(){var e=$7(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},V7={left:0,top:0,right:0,gap:0},zE=function(e){return parseInt(e||"",10)||0},z7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[zE(r),zE(n),zE(i)]},W7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V7;var t=z7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},H7=XL(),Cp="data-scroll-locked",G7=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(R7,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Cp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fb,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ub,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Fb," .").concat(Fb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ub," .").concat(Ub,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cp,`] {
    `).concat(k7,": ").concat(c,`px;
  }
`)},LN=function(){var e=parseInt(document.body.getAttribute(Cp)||"0",10);return isFinite(e)?e:0},q7=function(){P.useEffect(function(){return document.body.setAttribute(Cp,(LN()+1).toString()),function(){var e=LN()-1;e<=0?document.body.removeAttribute(Cp):document.body.setAttribute(Cp,e.toString())}},[])},K7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;q7();var s=P.useMemo(function(){return W7(i)},[i]);return P.createElement(H7,{styles:G7(s,!t,i,r?"":"!important")})},qT=!1;if(typeof window<"u")try{var pb=Object.defineProperty({},"passive",{get:function(){return qT=!0,!0}});window.addEventListener("test",pb,pb),window.removeEventListener("test",pb,pb)}catch{qT=!1}var Xh=qT?{passive:!1}:!1,Y7=function(e){return e.tagName==="TEXTAREA"},ZL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y7(e)&&r[t]==="visible")},Q7=function(e){return ZL(e,"overflowY")},J7=function(e){return ZL(e,"overflowX")},FN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=e2(e,n);if(i){var s=t2(e,n),o=s[1],c=s[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},X7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Z7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},e2=function(e,t){return e==="v"?Q7(t):J7(t)},t2=function(e,t){return e==="v"?X7(t):Z7(t)},eq=function(e,t){return e==="h"&&t==="rtl"?-1:1},tq=function(e,t,r,n,i){var s=eq(e,window.getComputedStyle(t).direction),o=s*n,c=r.target,a=t.contains(c),l=!1,h=o>0,p=0,g=0;do{var E=t2(e,c),_=E[0],y=E[1],w=E[2],R=y-w-s*_;(_||R)&&e2(e,c)&&(p+=R,g+=_),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!a&&c!==document.body||a&&(t.contains(c)||t===c));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(l=!0),l},mb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},UN=function(e){return[e.deltaX,e.deltaY]},BN=function(e){return e&&"current"in e?e.current:e},rq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iq=0,Zh=[];function sq(e){var t=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),i=P.useState(iq++)[0],s=P.useState(XL)[0],o=P.useRef(e);P.useEffect(function(){o.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=T7([e.lockRef.current],(e.shards||[]).map(BN),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=P.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var R=mb(y),S=r.current,C="deltaX"in y?y.deltaX:S[0]-R[0],A="deltaY"in y?y.deltaY:S[1]-R[1],L,U=y.target,B=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in y&&B==="h"&&U.type==="range")return!1;var z=FN(B,U);if(!z)return!0;if(z?L=B:(L=B==="v"?"h":"v",z=FN(B,U)),!z)return!1;if(!n.current&&"changedTouches"in y&&(C||A)&&(n.current=L),!L)return!0;var G=n.current||L;return tq(G,w,y,G==="h"?C:A)},[]),a=P.useCallback(function(y){var w=y;if(!(!Zh.length||Zh[Zh.length-1]!==s)){var R="deltaY"in w?UN(w):mb(w),S=t.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&rq(L.delta,R)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var C=(o.current.shards||[]).map(BN).filter(Boolean).filter(function(L){return L.contains(w.target)}),A=C.length>0?c(w,C[0]):!o.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),l=P.useCallback(function(y,w,R,S){var C={name:y,delta:w,target:R,should:S,shadowParent:oq(R)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),h=P.useCallback(function(y){r.current=mb(y),n.current=void 0},[]),p=P.useCallback(function(y){l(y.type,UN(y),y.target,c(y,e.lockRef.current))},[]),g=P.useCallback(function(y){l(y.type,mb(y),y.target,c(y,e.lockRef.current))},[]);P.useEffect(function(){return Zh.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",a,Xh),document.addEventListener("touchmove",a,Xh),document.addEventListener("touchstart",h,Xh),function(){Zh=Zh.filter(function(y){return y!==s}),document.removeEventListener("wheel",a,Xh),document.removeEventListener("touchmove",a,Xh),document.removeEventListener("touchstart",h,Xh)}},[]);var E=e.removeScrollBar,_=e.inert;return P.createElement(P.Fragment,null,_?P.createElement(s,{styles:nq(i)}):null,E?P.createElement(K7,{gapMode:e.gapMode}):null)}function oq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aq=D7(JL,sq);var Ty=P.forwardRef(function(e,t){return P.createElement(LS,fc({},e,{ref:t,sideCar:aq}))});Ty.classNames=LS.classNames;var KT=["Enter"," "],cq=["ArrowDown","PageUp","Home"],r2=["ArrowUp","PageDown","End"],lq=[...cq,...r2],uq={ltr:[...KT,"ArrowRight"],rtl:[...KT,"ArrowLeft"]},dq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ry="Menu",[ty,fq,hq]=hS(Ry),[Xf,n2]=no(Ry,[hq,xm,DS]),FS=xm(),i2=DS(),[pq,Zf]=Xf(Ry),[mq,ky]=Xf(Ry),s2=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=e,c=FS(t),[a,l]=P.useState(null),h=P.useRef(!1),p=$n(s),g=wy(i);return P.useEffect(()=>{const E=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),d.jsx(Yk,{...c,children:d.jsx(pq,{scope:t,open:r,onOpenChange:p,content:a,onContentChange:l,children:d.jsx(mq,{scope:t,onClose:P.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:g,modal:o,children:n})})})};s2.displayName=Ry;var gq="MenuAnchor",Xk=P.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=FS(r);return d.jsx(IS,{...i,...n,ref:t})});Xk.displayName=gq;var Zk="MenuPortal",[vq,o2]=Xf(Zk,{forceMount:void 0}),a2=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=Zf(Zk,t);return d.jsx(vq,{scope:t,forceMount:r,children:d.jsx(us,{present:r||s.open,children:d.jsx(pm,{asChild:!0,container:i,children:n})})})};a2.displayName=Zk;var ta="MenuContent",[yq,e1]=Xf(ta),c2=P.forwardRef((e,t)=>{const r=o2(ta,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=Zf(ta,e.__scopeMenu),o=ky(ta,e.__scopeMenu);return d.jsx(ty.Provider,{scope:e.__scopeMenu,children:d.jsx(us,{present:n||s.open,children:d.jsx(ty.Slot,{scope:e.__scopeMenu,children:o.modal?d.jsx(bq,{...i,ref:t}):d.jsx(xq,{...i,ref:t})})})})}),bq=P.forwardRef((e,t)=>{const r=Zf(ta,e.__scopeMenu),n=P.useRef(null),i=yr(t,n);return P.useEffect(()=>{const s=n.current;if(s)return MS(s)},[]),d.jsx(t1,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:qe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),xq=P.forwardRef((e,t)=>{const r=Zf(ta,e.__scopeMenu);return d.jsx(t1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),t1=P.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:a,onEscapeKeyDown:l,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:E,disableOutsideScroll:_,...y}=e,w=Zf(ta,r),R=ky(ta,r),S=FS(r),C=i2(r),A=fq(r),[L,U]=P.useState(null),B=P.useRef(null),z=yr(t,B,w.onContentChange),G=P.useRef(0),J=P.useRef(""),X=P.useRef(0),q=P.useRef(null),ee=P.useRef("right"),ce=P.useRef(0),xe=_?Ty:P.Fragment,_e=_?{as:Sc,allowPinchZoom:!0}:void 0,ve=Q=>{var Ke,lt;const re=J.current+Q,fe=A().filter(Mt=>!Mt.disabled),Te=document.activeElement,He=(Ke=fe.find(Mt=>Mt.ref.current===Te))==null?void 0:Ke.textValue,Le=fe.map(Mt=>Mt.textValue),xt=Aq(Le,re,He),zt=(lt=fe.find(Mt=>Mt.textValue===xt))==null?void 0:lt.ref.current;(function Mt(Kt){J.current=Kt,window.clearTimeout(G.current),Kt!==""&&(G.current=window.setTimeout(()=>Mt(""),1e3))})(re),zt&&setTimeout(()=>zt.focus())};P.useEffect(()=>()=>window.clearTimeout(G.current),[]),OS();const Y=P.useCallback(Q=>{var fe,Te;return ee.current===((fe=q.current)==null?void 0:fe.side)&&jq(Q,(Te=q.current)==null?void 0:Te.area)},[]);return d.jsx(yq,{scope:r,searchRef:J,onItemEnter:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),onItemLeave:P.useCallback(Q=>{var re;Y(Q)||((re=B.current)==null||re.focus(),U(null))},[Y]),onTriggerLeave:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),pointerGraceTimerRef:X,onPointerGraceIntentChange:P.useCallback(Q=>{q.current=Q},[]),children:d.jsx(xe,{..._e,children:d.jsx(Ey,{asChild:!0,trapped:i,onMountAutoFocus:qe(s,Q=>{var re;Q.preventDefault(),(re=B.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(hm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:E,children:d.jsx(GL,{asChild:!0,...C,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:L,onCurrentTabStopIdChange:U,onEntryFocus:qe(a,Q=>{R.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Qk,{role:"menu","aria-orientation":"vertical","data-state":E2(w.open),"data-radix-menu-content":"",dir:R.dir,...S,...y,ref:z,style:{outline:"none",...y.style},onKeyDown:qe(y.onKeyDown,Q=>{const fe=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Te=Q.ctrlKey||Q.altKey||Q.metaKey,He=Q.key.length===1;fe&&(Q.key==="Tab"&&Q.preventDefault(),!Te&&He&&ve(Q.key));const Le=B.current;if(Q.target!==Le||!lq.includes(Q.key))return;Q.preventDefault();const zt=A().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);r2.includes(Q.key)&&zt.reverse(),Pq(zt)}),onBlur:qe(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(G.current),J.current="")}),onPointerMove:qe(e.onPointerMove,ry(Q=>{const re=Q.target,fe=ce.current!==Q.clientX;if(Q.currentTarget.contains(re)&&fe){const Te=Q.clientX>ce.current?"right":"left";ee.current=Te,ce.current=Q.clientX}}))})})})})})})});c2.displayName=ta;var _q="MenuGroup",r1=P.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(Pt.div,{role:"group",...n,ref:t})});r1.displayName=_q;var Sq="MenuLabel",l2=P.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(Pt.div,{...n,ref:t})});l2.displayName=Sq;var p_="MenuItem",$N="menu.itemSelect",US=P.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=P.useRef(null),o=ky(p_,e.__scopeMenu),c=e1(p_,e.__scopeMenu),a=yr(t,s),l=P.useRef(!1),h=()=>{const p=s.current;if(!r&&p){const g=new CustomEvent($N,{bubbles:!0,cancelable:!0});p.addEventListener($N,E=>n==null?void 0:n(E),{once:!0}),Ck(p,g),g.defaultPrevented?l.current=!1:o.onClose()}};return d.jsx(u2,{...i,ref:a,disabled:r,onClick:qe(e.onClick,h),onPointerDown:p=>{var g;(g=e.onPointerDown)==null||g.call(e,p),l.current=!0},onPointerUp:qe(e.onPointerUp,p=>{var g;l.current||(g=p.currentTarget)==null||g.click()}),onKeyDown:qe(e.onKeyDown,p=>{const g=c.searchRef.current!=="";r||g&&p.key===" "||KT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});US.displayName=p_;var u2=P.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,o=e1(p_,r),c=i2(r),a=P.useRef(null),l=yr(t,a),[h,p]=P.useState(!1),[g,E]=P.useState("");return P.useEffect(()=>{const _=a.current;_&&E((_.textContent??"").trim())},[s.children]),d.jsx(ty.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:d.jsx(qL,{asChild:!0,...c,focusable:!n,children:d.jsx(Pt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:l,onPointerMove:qe(e.onPointerMove,ry(_=>{n?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(e.onPointerLeave,ry(_=>o.onItemLeave(_))),onFocus:qe(e.onFocus,()=>p(!0)),onBlur:qe(e.onBlur,()=>p(!1))})})})}),wq="MenuCheckboxItem",d2=P.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return d.jsx(g2,{scope:e.__scopeMenu,checked:r,children:d.jsx(US,{role:"menuitemcheckbox","aria-checked":m_(r)?"mixed":r,...i,ref:t,"data-state":i1(r),onSelect:qe(i.onSelect,()=>n==null?void 0:n(m_(r)?!0:!r),{checkForDefaultPrevented:!1})})})});d2.displayName=wq;var f2="MenuRadioGroup",[Eq,Cq]=Xf(f2,{value:void 0,onValueChange:()=>{}}),h2=P.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=$n(n);return d.jsx(Eq,{scope:e.__scopeMenu,value:r,onValueChange:s,children:d.jsx(r1,{...i,ref:t})})});h2.displayName=f2;var p2="MenuRadioItem",m2=P.forwardRef((e,t)=>{const{value:r,...n}=e,i=Cq(p2,e.__scopeMenu),s=r===i.value;return d.jsx(g2,{scope:e.__scopeMenu,checked:s,children:d.jsx(US,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":i1(s),onSelect:qe(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});m2.displayName=p2;var n1="MenuItemIndicator",[g2,Tq]=Xf(n1,{checked:!1}),v2=P.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=Tq(n1,r);return d.jsx(us,{present:n||m_(s.checked)||s.checked===!0,children:d.jsx(Pt.span,{...i,ref:t,"data-state":i1(s.checked)})})});v2.displayName=n1;var Rq="MenuSeparator",y2=P.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return d.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});y2.displayName=Rq;var kq="MenuArrow",b2=P.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=FS(r);return d.jsx(Jk,{...i,...n,ref:t})});b2.displayName=kq;var Oq="MenuSub",[Lae,x2]=Xf(Oq),nv="MenuSubTrigger",_2=P.forwardRef((e,t)=>{const r=Zf(nv,e.__scopeMenu),n=ky(nv,e.__scopeMenu),i=x2(nv,e.__scopeMenu),s=e1(nv,e.__scopeMenu),o=P.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:a}=s,l={__scopeMenu:e.__scopeMenu},h=P.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return P.useEffect(()=>h,[h]),P.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),a(null)}},[c,a]),d.jsx(Xk,{asChild:!0,...l,children:d.jsx(u2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":E2(r.open),...e,ref:fS(t,i.onTriggerChange),onClick:p=>{var g;(g=e.onClick)==null||g.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:qe(e.onPointerMove,ry(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:qe(e.onPointerLeave,ry(p=>{var E,_;h();const g=(E=r.content)==null?void 0:E.getBoundingClientRect();if(g){const y=(_=r.content)==null?void 0:_.dataset.side,w=y==="right",R=w?-5:5,S=g[w?"left":"right"],C=g[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+R,y:p.clientY},{x:S,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:S,y:g.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:qe(e.onKeyDown,p=>{var E;const g=s.searchRef.current!=="";e.disabled||g&&p.key===" "||uq[n.dir].includes(p.key)&&(r.onOpenChange(!0),(E=r.content)==null||E.focus(),p.preventDefault())})})})});_2.displayName=nv;var S2="MenuSubContent",w2=P.forwardRef((e,t)=>{const r=o2(ta,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=Zf(ta,e.__scopeMenu),o=ky(ta,e.__scopeMenu),c=x2(S2,e.__scopeMenu),a=P.useRef(null),l=yr(t,a);return d.jsx(ty.Provider,{scope:e.__scopeMenu,children:d.jsx(us,{present:n||s.open,children:d.jsx(ty.Slot,{scope:e.__scopeMenu,children:d.jsx(t1,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=a.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:qe(e.onFocusOutside,h=>{h.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:qe(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:qe(e.onKeyDown,h=>{var E;const p=h.currentTarget.contains(h.target),g=dq[o.dir].includes(h.key);p&&g&&(s.onOpenChange(!1),(E=c.trigger)==null||E.focus(),h.preventDefault())})})})})})});w2.displayName=S2;function E2(e){return e?"open":"closed"}function m_(e){return e==="indeterminate"}function i1(e){return m_(e)?"indeterminate":e?"checked":"unchecked"}function Pq(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Nq(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Aq(e,t,r){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Nq(e,Math.max(s,0));i.length===1&&(o=o.filter(l=>l!==r));const a=o.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return a!==r?a:void 0}function Iq(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const c=t[s].x,a=t[s].y,l=t[o].x,h=t[o].y;a>n!=h>n&&r<(l-c)*(n-a)/(h-a)+c&&(i=!i)}return i}function jq(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Iq(r,t)}function ry(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Dq=s2,Mq=Xk,Lq=a2,Fq=c2,Uq=r1,Bq=l2,$q=US,Vq=d2,zq=h2,Wq=m2,Hq=v2,Gq=y2,qq=b2,Kq=_2,Yq=w2,s1="DropdownMenu",[Qq,Fae]=no(s1,[n2]),Ds=n2(),[Jq,C2]=Qq(s1),T2=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:c=!0}=e,a=Ds(t),l=P.useRef(null),[h=!1,p]=pl({prop:i,defaultProp:s,onChange:o});return d.jsx(Jq,{scope:t,triggerId:yc(),triggerRef:l,contentId:yc(),open:h,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(g=>!g),[p]),modal:c,children:d.jsx(Dq,{...a,open:h,onOpenChange:p,dir:n,modal:c,children:r})})};T2.displayName=s1;var R2="DropdownMenuTrigger",k2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=C2(R2,r),o=Ds(r);return d.jsx(Mq,{asChild:!0,...o,children:d.jsx(Pt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:fS(t,s.triggerRef),onPointerDown:qe(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(s.onOpenToggle(),s.open||c.preventDefault())}),onKeyDown:qe(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&s.onOpenToggle(),c.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});k2.displayName=R2;var Xq="DropdownMenuPortal",O2=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ds(t);return d.jsx(Lq,{...n,...r})};O2.displayName=Xq;var P2="DropdownMenuContent",N2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=C2(P2,r),s=Ds(r),o=P.useRef(!1);return d.jsx(Fq,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:qe(e.onCloseAutoFocus,c=>{var a;o.current||(a=i.triggerRef.current)==null||a.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:qe(e.onInteractOutside,c=>{const a=c.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,h=a.button===2||l;(!i.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});N2.displayName=P2;var Zq="DropdownMenuGroup",eK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Uq,{...i,...n,ref:t})});eK.displayName=Zq;var tK="DropdownMenuLabel",A2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Bq,{...i,...n,ref:t})});A2.displayName=tK;var rK="DropdownMenuItem",I2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx($q,{...i,...n,ref:t})});I2.displayName=rK;var nK="DropdownMenuCheckboxItem",j2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Vq,{...i,...n,ref:t})});j2.displayName=nK;var iK="DropdownMenuRadioGroup",sK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(zq,{...i,...n,ref:t})});sK.displayName=iK;var oK="DropdownMenuRadioItem",D2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Wq,{...i,...n,ref:t})});D2.displayName=oK;var aK="DropdownMenuItemIndicator",M2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Hq,{...i,...n,ref:t})});M2.displayName=aK;var cK="DropdownMenuSeparator",L2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Gq,{...i,...n,ref:t})});L2.displayName=cK;var lK="DropdownMenuArrow",uK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(qq,{...i,...n,ref:t})});uK.displayName=lK;var dK="DropdownMenuSubTrigger",F2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Kq,{...i,...n,ref:t})});F2.displayName=dK;var fK="DropdownMenuSubContent",U2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Ds(r);return d.jsx(Yq,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U2.displayName=fK;var hK=T2,pK=k2,mK=O2,B2=N2,$2=A2,V2=I2,z2=j2,W2=D2,H2=M2,G2=L2,q2=F2,K2=U2;const o1=hK,a1=pK,gK=P.forwardRef(({className:e,inset:t,children:r,...n},i)=>d.jsxs(q2,{ref:i,className:it("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,d.jsx(Ok,{className:"ml-auto h-4 w-4"})]}));gK.displayName=q2.displayName;const vK=P.forwardRef(({className:e,...t},r)=>d.jsx(K2,{ref:r,className:it("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));vK.displayName=K2.displayName;const BS=P.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(mK,{children:d.jsx(B2,{ref:n,sideOffset:t,className:it("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));BS.displayName=B2.displayName;const c1=P.forwardRef(({className:e,inset:t,...r},n)=>d.jsx(V2,{ref:n,className:it("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));c1.displayName=V2.displayName;const Y2=P.forwardRef(({className:e,children:t,checked:r,...n},i)=>d.jsxs(z2,{ref:i,className:it("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(H2,{children:d.jsx(by,{className:"h-4 w-4"})})}),t]}));Y2.displayName=z2.displayName;const yK=P.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(W2,{ref:n,className:it("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(H2,{children:d.jsx(gM,{className:"h-2 w-2 fill-current"})})}),t]}));yK.displayName=W2.displayName;const bK=P.forwardRef(({className:e,inset:t,...r},n)=>d.jsx($2,{ref:n,className:it("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));bK.displayName=$2.displayName;const xK=P.forwardRef(({className:e,...t},r)=>d.jsx(G2,{ref:r,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));xK.displayName=G2.displayName;const _K=()=>{const[e,t]=P.useState(!0),r=_l(),{email:n}=Wr(c=>c.auth),i=en();P.useEffect(()=>{i(Mb())},[]);const s=()=>{i(wH()),r("/login")},o=[{icon:t6,label:"Dashboard",path:"/dashboard"},{icon:xM,label:"Users",path:"/dashboard/users"},{icon:qz,label:"Student Corner",submenu:[{icon:Hz,label:"Activity",path:"/dashboard/activity"},{icon:bM,label:"Standard",path:"/dashboard/standard"},{icon:CT,label:"Subject",path:"/dashboard/subject"},{icon:r6,label:"Board",path:"/dashboard/board"}]},{icon:e6,label:"Course Manage",submenu:[{icon:u6,label:"Mentor",path:"/dashboard/mentor"},{icon:Kz,label:"Course",path:"/dashboard/course"},{icon:a6,label:"Lesson",path:"/dashboard/lesson"}]},{icon:CT,label:"Quiz Management",path:"/dashboard/quiz"},{icon:Xz,label:"Payments",path:"/dashboard/payments"},{icon:vM,label:"Transactions",path:"/dashboard/transaction"},{icon:o6,label:"Manage Offers",path:"/dashboard/offer"},{icon:f6,label:"Upcoming Live",path:"/dashboard/upcomingLive"}];return d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:d.jsx("h1",{className:"text-xl font-bold",children:"Admin Panel"})}),d.jsx("nav",{className:"flex-1 p-4 space-y-1",children:o.map(c=>c.submenu?d.jsxs(o1,{children:[d.jsxs(a1,{className:"flex items-center w-full px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[d.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.label,d.jsx(yS,{className:"w-4 h-4 ml-auto"})]}),d.jsx(BS,{className:"w-56 ml-2",children:c.submenu.map(a=>d.jsx(c1,{asChild:!0,children:d.jsxs(BP,{to:a.path,className:"flex items-center px-2 py-2",children:[d.jsx(a.icon,{className:"w-4 h-4 mr-2"}),a.label,d.jsx(Ok,{className:"w-4 h-4 ml-auto"})]})},a.path))})]},c.label):d.jsxs(BP,{to:c.path,className:"flex items-center px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[d.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.label]},c.path))}),d.jsx("div",{className:"p-4 border-t",children:d.jsxs(Ot,{variant:"ghost",className:"w-full justify-start",onClick:s,children:[d.jsx(n6,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),d.jsxs("div",{className:`lg:ml-64 min-h-screen transition-all duration-200 ${e?"ml-64":"ml-0"}`,children:[d.jsx("header",{className:"bg-white shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[d.jsx(Ot,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!e),children:d.jsx(i6,{className:"w-5 h-5"})}),d.jsx("div",{className:"ml-auto flex items-center space-x-4",children:d.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",n]})})]})}),d.jsx("main",{className:"p-6",children:d.jsx(LV,{})})]})]})},SK={users:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Bb=wt("fetchAllUser",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(M8,{params:{page:e,search:t}})).data}catch(n){return r(n.response.data)}}),$b=wt("toggleUserBlock",async(e,{rejectWithValue:t})=>{try{return(await gt.post(L8,{userId:e})).data}catch(r){return t(r.response.data)}}),Vb=wt("updateUser",async(e,{rejectWithValue:t})=>{try{return(await gt.post(F8,e)).data}catch(r){return t(r.response.data)}}),wK=io({name:"user",initialState:SK,reducers:{},extraReducers:e=>{e.addCase(Bb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Bb.fulfilled,(t,r)=>{t.isLoading=!1,t.users=r.payload.docs,t.currentPage=r.payload.currentPage,t.totalPages=r.payload.totalPages}).addCase(Bb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Vb.pending,t=>{t.error=null}).addCase(Vb.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.users.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.users[n]=r.payload)}).addCase(Vb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload,$u({title:"Error",description:r.payload.message})}).addCase($b.pending,t=>{t.error=null}).addCase($b.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.users.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.users[n].isBlocked=!t.users[n].isBlocked)}).addCase($b.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),EK=wK.reducer,sa=({currentPage:e,totalPages:t,onPageChange:r})=>{const n=i=>{i!==e&&r(i)};return d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx("nav",{children:d.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[d.jsx("li",{children:d.jsx("button",{onClick:()=>n(e-1),disabled:e===1,className:`px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 ${e===1?"pointer-events-none opacity-50":""}`,children:"Previous"})}),Array.from({length:t},(i,s)=>s+1).map(i=>d.jsx("li",{children:d.jsx("button",{onClick:()=>n(i),className:`px-3 py-2 leading-tight ${e===i?"text-blue-600 bg-blue-50 border border-blue-300":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"}`,children:i})},i)),d.jsx("li",{children:d.jsx("button",{onClick:()=>n(e+1),disabled:e===t,className:`px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 ${e===t?"pointer-events-none opacity-50":""}`,children:"Next"})})]})})})};var Oy=e=>e.type==="checkbox",vf=e=>e instanceof Date,ks=e=>e==null;const Q2=e=>typeof e=="object";var oi=e=>!ks(e)&&!Array.isArray(e)&&Q2(e)&&!vf(e),J2=e=>oi(e)&&e.target?Oy(e.target)?e.target.checked:e.target.value:e,CK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,X2=(e,t)=>e.has(CK(t)),TK=e=>{const t=e.constructor&&e.constructor.prototype;return oi(t)&&t.hasOwnProperty("isPrototypeOf")},l1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(l1&&(e instanceof Blob||n))&&(r||oi(e)))if(t=r?[]:{},!r&&!TK(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=gi(e[i]));else return e;return t}var Py=e=>Array.isArray(e)?e.filter(Boolean):[],Rn=e=>e===void 0,We=(e,t,r)=>{if(!t||!oi(e))return r;const n=Py(t.split(/[,[\].]+?/)).reduce((i,s)=>ks(i)?i:i[s],e);return Rn(n)||n===e?Rn(e[t])?r:e[t]:n},Yo=e=>typeof e=="boolean",u1=e=>/^\w*$/.test(e),Z2=e=>Py(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$r=(e,t,r)=>{let n=-1;const i=u1(t)?[t]:Z2(t),s=i.length,o=s-1;for(;++n<s;){const c=i[n];let a=r;if(n!==o){const l=e[c];a=oi(l)||Array.isArray(l)?l:isNaN(+i[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=a,e=e[c]}return e};const g_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eF=ht.createContext(null),Ny=()=>ht.useContext(eF),RK=e=>{const{children:t,...r}=e;return ht.createElement(eF.Provider,{value:r},t)};var tF=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Xo.all&&(t._proxyFormState[o]=!n||Xo.all),r&&(r[o]=!0),e[o]}});return i},Ts=e=>oi(e)&&!Object.keys(e).length,rF=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Ts(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Xo.all))},qs=e=>Array.isArray(e)?e:[e],nF=(e,t,r)=>!e||!t||e===t||qs(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function $S(e){const t=ht.useRef(e);t.current=e,ht.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function kK(e){const t=Ny(),{control:r=t.control,disabled:n,name:i,exact:s}=e||{},[o,c]=ht.useState(r._formState),a=ht.useRef(!0),l=ht.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=ht.useRef(i);return h.current=i,$S({disabled:n,next:p=>a.current&&nF(h.current,p.name,s)&&rF(p,l.current,r._updateFormState)&&c({...r._formState,...p}),subject:r._subjects.state}),ht.useEffect(()=>(a.current=!0,l.current.isValid&&r._updateValid(!0),()=>{a.current=!1}),[r]),ht.useMemo(()=>tF(o,r,l.current,!1),[o,r])}var pc=e=>typeof e=="string",iF=(e,t,r,n,i)=>pc(e)?(n&&t.watch.add(e),We(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),We(r,s))):(n&&(t.watchAll=!0),r);function OK(e){const t=Ny(),{control:r=t.control,name:n,defaultValue:i,disabled:s,exact:o}=e||{},c=ht.useRef(n);c.current=n,$S({disabled:s,subject:r._subjects.values,next:h=>{nF(c.current,h.name,o)&&l(gi(iF(c.current,r._names,h.values||r._formValues,!1,i)))}});const[a,l]=ht.useState(r._getWatch(n,i));return ht.useEffect(()=>r._removeUnmounted()),a}function d1(e){const t=Ny(),{name:r,disabled:n,control:i=t.control,shouldUnregister:s}=e,o=X2(i._names.array,r),c=OK({control:i,name:r,defaultValue:We(i._formValues,r,We(i._defaultValues,r,e.defaultValue)),exact:!0}),a=kK({control:i,name:r,exact:!0}),l=ht.useRef(i.register(r,{...e.rules,value:c,...Yo(e.disabled)?{disabled:e.disabled}:{}})),h=ht.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!We(a.errors,r)},isDirty:{enumerable:!0,get:()=>!!We(a.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!We(a.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!We(a.validatingFields,r)},error:{enumerable:!0,get:()=>We(a.errors,r)}}),[a,r]),p=ht.useMemo(()=>({name:r,value:c,...Yo(n)||a.disabled?{disabled:a.disabled||n}:{},onChange:g=>l.current.onChange({target:{value:J2(g),name:r},type:g_.CHANGE}),onBlur:()=>l.current.onBlur({target:{value:We(i._formValues,r),name:r},type:g_.BLUR}),ref:g=>{const E=We(i._fields,r);E&&g&&(E._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:_=>g.setCustomValidity(_),reportValidity:()=>g.reportValidity()})}}),[r,i._formValues,n,a.disabled,c,i._fields]);return ht.useEffect(()=>{const g=i._options.shouldUnregister||s,E=(_,y)=>{const w=We(i._fields,_);w&&w._f&&(w._f.mount=y)};if(E(r,!0),g){const _=gi(We(i._options.defaultValues,r));$r(i._defaultValues,r,_),Rn(We(i._formValues,r))&&$r(i._formValues,r,_)}return!o&&i.register(r),()=>{(o?g&&!i._state.action:g)?i.unregister(r):E(r,!1)}},[r,i,o,s]),ht.useEffect(()=>{i._updateDisabledField({disabled:n,fields:i._fields,name:r})},[n,r,i]),ht.useMemo(()=>({field:p,formState:a,fieldState:h}),[p,a,h])}const f1=e=>e.render(d1(e));var sF=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},uu=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},WE=(e,t,r={})=>r.shouldFocus||Rn(r.shouldFocus)?r.focusName||`${e}.${Rn(r.focusIndex)?t:r.focusIndex}.`:"",xv=e=>({isOnSubmit:!e||e===Xo.onSubmit,isOnBlur:e===Xo.onBlur,isOnChange:e===Xo.onChange,isOnAll:e===Xo.all,isOnTouch:e===Xo.onTouched}),YT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Tp=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=We(e,i);if(s){const{_f:o,...c}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Tp(c,t))break}else if(oi(c)&&Tp(c,t))break}}};var oF=(e,t,r)=>{const n=qs(We(e,r));return $r(n,"root",t[r]),$r(e,r,n),e},h1=e=>e.type==="file",hc=e=>typeof e=="function",v_=e=>{if(!l1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zb=e=>pc(e),p1=e=>e.type==="radio",y_=e=>e instanceof RegExp;const VN={value:!1,isValid:!1},zN={value:!0,isValid:!0};var aF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Rn(e[0].attributes.value)?Rn(e[0].value)||e[0].value===""?zN:{value:e[0].value,isValid:!0}:zN:VN}return VN};const WN={isValid:!1,value:null};var cF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,WN):WN;function HN(e,t,r="validate"){if(zb(e)||Array.isArray(e)&&e.every(zb)||Yo(e)&&!e)return{type:r,message:zb(e)?e:"",ref:t}}var ep=e=>oi(e)&&!y_(e)?e:{value:e,message:""},QT=async(e,t,r,n,i,s)=>{const{ref:o,refs:c,required:a,maxLength:l,minLength:h,min:p,max:g,pattern:E,validate:_,name:y,valueAsNumber:w,mount:R}=e._f,S=We(r,y);if(!R||t.has(y))return{};const C=c?c[0]:o,A=q=>{i&&C.reportValidity&&(C.setCustomValidity(Yo(q)?"":q||""),C.reportValidity())},L={},U=p1(o),B=Oy(o),z=U||B,G=(w||h1(o))&&Rn(o.value)&&Rn(S)||v_(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,J=sF.bind(null,y,n,L),X=(q,ee,ce,xe=Kc.maxLength,_e=Kc.minLength)=>{const ve=q?ee:ce;L[y]={type:q?xe:_e,message:ve,ref:o,...J(q?xe:_e,ve)}};if(s?!Array.isArray(S)||!S.length:a&&(!z&&(G||ks(S))||Yo(S)&&!S||B&&!aF(c).isValid||U&&!cF(c).isValid)){const{value:q,message:ee}=zb(a)?{value:!!a,message:a}:ep(a);if(q&&(L[y]={type:Kc.required,message:ee,ref:C,...J(Kc.required,ee)},!n))return A(ee),L}if(!G&&(!ks(p)||!ks(g))){let q,ee;const ce=ep(g),xe=ep(p);if(!ks(S)&&!isNaN(S)){const _e=o.valueAsNumber||S&&+S;ks(ce.value)||(q=_e>ce.value),ks(xe.value)||(ee=_e<xe.value)}else{const _e=o.valueAsDate||new Date(S),ve=re=>new Date(new Date().toDateString()+" "+re),Y=o.type=="time",Q=o.type=="week";pc(ce.value)&&S&&(q=Y?ve(S)>ve(ce.value):Q?S>ce.value:_e>new Date(ce.value)),pc(xe.value)&&S&&(ee=Y?ve(S)<ve(xe.value):Q?S<xe.value:_e<new Date(xe.value))}if((q||ee)&&(X(!!q,ce.message,xe.message,Kc.max,Kc.min),!n))return A(L[y].message),L}if((l||h)&&!G&&(pc(S)||s&&Array.isArray(S))){const q=ep(l),ee=ep(h),ce=!ks(q.value)&&S.length>+q.value,xe=!ks(ee.value)&&S.length<+ee.value;if((ce||xe)&&(X(ce,q.message,ee.message),!n))return A(L[y].message),L}if(E&&!G&&pc(S)){const{value:q,message:ee}=ep(E);if(y_(q)&&!S.match(q)&&(L[y]={type:Kc.pattern,message:ee,ref:o,...J(Kc.pattern,ee)},!n))return A(ee),L}if(_){if(hc(_)){const q=await _(S,r),ee=HN(q,C);if(ee&&(L[y]={...ee,...J(Kc.validate,ee.message)},!n))return A(ee.message),L}else if(oi(_)){let q={};for(const ee in _){if(!Ts(q)&&!n)break;const ce=HN(await _[ee](S,r),C,ee);ce&&(q={...ce,...J(ee,ce.message)},A(ce.message),n&&(L[y]=q))}if(!Ts(q)&&(L[y]={ref:C,...q},!n))return L}}return A(!0),L},HE=(e,t)=>[...e,...qs(t)],GE=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qE(e,t,r){return[...e.slice(0,t),...qs(r),...e.slice(t)]}var KE=(e,t,r)=>Array.isArray(e)?(Rn(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],YE=(e,t)=>[...qs(t),...qs(e)];function PK(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return Py(n).length?n:[]}var QE=(e,t)=>Rn(t)?[]:PK(e,qs(t).sort((r,n)=>r-n)),JE=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function NK(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Rn(e)?n++:e[t[n++]];return e}function AK(e){for(const t in e)if(e.hasOwnProperty(t)&&!Rn(e[t]))return!1;return!0}function ui(e,t){const r=Array.isArray(t)?t:u1(t)?[t]:Z2(t),n=r.length===1?e:NK(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(oi(n)&&Ts(n)||Array.isArray(n)&&AK(n))&&ui(e,r.slice(0,-1)),e}var GN=(e,t,r)=>(e[t]=r,e);function qN(e){const t=Ny(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:s,rules:o}=e,[c,a]=ht.useState(r._getFieldArray(n)),l=ht.useRef(r._getFieldArray(n).map(uu)),h=ht.useRef(c),p=ht.useRef(n),g=ht.useRef(!1);p.current=n,h.current=c,r._names.array.add(n),o&&r.register(n,o),$S({next:({values:U,name:B})=>{if(B===p.current||!B){const z=We(U,p.current);Array.isArray(z)&&(a(z),l.current=z.map(uu))}},subject:r._subjects.array});const E=ht.useCallback(U=>{g.current=!0,r._updateFieldArray(n,U)},[r,n]),_=(U,B)=>{const z=qs(gi(U)),G=HE(r._getFieldArray(n),z);r._names.focus=WE(n,G.length-1,B),l.current=HE(l.current,z.map(uu)),E(G),a(G),r._updateFieldArray(n,G,HE,{argA:GE(U)})},y=(U,B)=>{const z=qs(gi(U)),G=YE(r._getFieldArray(n),z);r._names.focus=WE(n,0,B),l.current=YE(l.current,z.map(uu)),E(G),a(G),r._updateFieldArray(n,G,YE,{argA:GE(U)})},w=U=>{const B=QE(r._getFieldArray(n),U);l.current=QE(l.current,U),E(B),a(B),!Array.isArray(We(r._fields,n))&&$r(r._fields,n,void 0),r._updateFieldArray(n,B,QE,{argA:U})},R=(U,B,z)=>{const G=qs(gi(B)),J=qE(r._getFieldArray(n),U,G);r._names.focus=WE(n,U,z),l.current=qE(l.current,U,G.map(uu)),E(J),a(J),r._updateFieldArray(n,J,qE,{argA:U,argB:GE(B)})},S=(U,B)=>{const z=r._getFieldArray(n);JE(z,U,B),JE(l.current,U,B),E(z),a(z),r._updateFieldArray(n,z,JE,{argA:U,argB:B},!1)},C=(U,B)=>{const z=r._getFieldArray(n);KE(z,U,B),KE(l.current,U,B),E(z),a(z),r._updateFieldArray(n,z,KE,{argA:U,argB:B},!1)},A=(U,B)=>{const z=gi(B),G=GN(r._getFieldArray(n),U,z);l.current=[...G].map((J,X)=>!J||X===U?uu():l.current[X]),E(G),a([...G]),r._updateFieldArray(n,G,GN,{argA:U,argB:z},!0,!1)},L=U=>{const B=qs(gi(U));l.current=B.map(uu),E([...B]),a([...B]),r._updateFieldArray(n,[...B],z=>z,{},!0,!1)};return ht.useEffect(()=>{if(r._state.action=!1,YT(n,r._names)&&r._subjects.state.next({...r._formState}),g.current&&(!xv(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(U=>{const B=We(U.errors,n),z=We(r._formState.errors,n);(z?!B&&z.type||B&&(z.type!==B.type||z.message!==B.message):B&&B.type)&&(B?$r(r._formState.errors,n,B):ui(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const U=We(r._fields,n);U&&U._f&&!(xv(r._options.reValidateMode).isOnSubmit&&xv(r._options.mode).isOnSubmit)&&QT(U,r._names.disabled,r._formValues,r._options.criteriaMode===Xo.all,r._options.shouldUseNativeValidation,!0).then(B=>!Ts(B)&&r._subjects.state.next({errors:oF(r._formState.errors,B,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&Tp(r._fields,(U,B)=>{if(r._names.focus&&B.startsWith(r._names.focus)&&U.focus)return U.focus(),1}),r._names.focus="",r._updateValid(),g.current=!1},[c,n,r]),ht.useEffect(()=>(!We(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||s)&&r.unregister(n)}),[n,r,i,s]),{swap:ht.useCallback(S,[E,n,r]),move:ht.useCallback(C,[E,n,r]),prepend:ht.useCallback(y,[E,n,r]),append:ht.useCallback(_,[E,n,r]),remove:ht.useCallback(w,[E,n,r]),insert:ht.useCallback(R,[E,n,r]),update:ht.useCallback(A,[E,n,r]),replace:ht.useCallback(L,[E,n,r]),fields:ht.useMemo(()=>c.map((U,B)=>({...U,[i]:l.current[B]||uu()})),[c,i])}}var XE=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},JT=e=>ks(e)||!Q2(e);function xu(e,t){if(JT(e)||JT(t))return e===t;if(vf(e)&&vf(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(vf(s)&&vf(o)||oi(s)&&oi(o)||Array.isArray(s)&&Array.isArray(o)?!xu(s,o):s!==o)return!1}}return!0}var lF=e=>e.type==="select-multiple",IK=e=>p1(e)||Oy(e),ZE=e=>v_(e)&&e.isConnected,uF=e=>{for(const t in e)if(hc(e[t]))return!0;return!1};function b_(e,t={}){const r=Array.isArray(e);if(oi(e)||r)for(const n in e)Array.isArray(e[n])||oi(e[n])&&!uF(e[n])?(t[n]=Array.isArray(e[n])?[]:{},b_(e[n],t[n])):ks(e[n])||(t[n]=!0);return t}function dF(e,t,r){const n=Array.isArray(e);if(oi(e)||n)for(const i in e)Array.isArray(e[i])||oi(e[i])&&!uF(e[i])?Rn(t)||JT(r[i])?r[i]=Array.isArray(e[i])?b_(e[i],[]):{...b_(e[i])}:dF(e[i],ks(t)?{}:t[i],r[i]):r[i]=!xu(e[i],t[i]);return r}var Gg=(e,t)=>dF(e,t,b_(t)),fF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Rn(e)?e:t?e===""?NaN:e&&+e:r&&pc(e)?new Date(e):n?n(e):e;function eC(e){const t=e.ref;return h1(t)?t.files:p1(t)?cF(e.refs).value:lF(t)?[...t.selectedOptions].map(({value:r})=>r):Oy(t)?aF(e.refs).value:fF(Rn(t.value)?e.ref.value:t.value,e)}var jK=(e,t,r,n)=>{const i={};for(const s of e){const o=We(t,s);o&&$r(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},qg=e=>Rn(e)?e:y_(e)?e.source:oi(e)?y_(e.value)?e.value.source:e.value:e;const KN="AsyncFunction";var DK=e=>!!e&&!!e.validate&&!!(hc(e.validate)&&e.validate.constructor.name===KN||oi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===KN)),MK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function YN(e,t,r){const n=We(e,r);if(n||u1(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=We(t,s),c=We(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(c&&c.type)return{name:s,error:c};i.pop()}return{name:r}}var LK=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,FK=(e,t)=>!Py(We(e,t)).length&&ui(e,t);const UK={mode:Xo.onSubmit,reValidateMode:Xo.onChange,shouldFocusError:!0};function BK(e={}){let t={...UK,...e},r={submitCount:0,isDirty:!1,isLoading:hc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=oi(t.defaultValues)||oi(t.values)?gi(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:gi(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},a,l=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:XE(),array:XE(),state:XE()},g=xv(t.mode),E=xv(t.reValidateMode),_=t.criteriaMode===Xo.all,y=Z=>he=>{clearTimeout(l),l=setTimeout(Z,he)},w=async Z=>{if(!t.disabled&&(h.isValid||Z)){const he=t.resolver?Ts((await z()).errors):await J(n,!0);he!==r.isValid&&p.state.next({isValid:he})}},R=(Z,he)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((Z||Array.from(c.mount)).forEach(Ce=>{Ce&&(he?$r(r.validatingFields,Ce,he):ui(r.validatingFields,Ce))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Ts(r.validatingFields)}))},S=(Z,he=[],Ce,Ye,ne=!0,de=!0)=>{if(Ye&&Ce&&!t.disabled){if(o.action=!0,de&&Array.isArray(We(n,Z))){const Re=Ce(We(n,Z),Ye.argA,Ye.argB);ne&&$r(n,Z,Re)}if(de&&Array.isArray(We(r.errors,Z))){const Re=Ce(We(r.errors,Z),Ye.argA,Ye.argB);ne&&$r(r.errors,Z,Re),FK(r.errors,Z)}if(h.touchedFields&&de&&Array.isArray(We(r.touchedFields,Z))){const Re=Ce(We(r.touchedFields,Z),Ye.argA,Ye.argB);ne&&$r(r.touchedFields,Z,Re)}h.dirtyFields&&(r.dirtyFields=Gg(i,s)),p.state.next({name:Z,isDirty:q(Z,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $r(s,Z,he)},C=(Z,he)=>{$r(r.errors,Z,he),p.state.next({errors:r.errors})},A=Z=>{r.errors=Z,p.state.next({errors:r.errors,isValid:!1})},L=(Z,he,Ce,Ye)=>{const ne=We(n,Z);if(ne){const de=We(s,Z,Rn(Ce)?We(i,Z):Ce);Rn(de)||Ye&&Ye.defaultChecked||he?$r(s,Z,he?de:eC(ne._f)):xe(Z,de),o.mount&&w()}},U=(Z,he,Ce,Ye,ne)=>{let de=!1,Re=!1;const De={name:Z};if(!t.disabled){const rt=!!(We(n,Z)&&We(n,Z)._f&&We(n,Z)._f.disabled);if(!Ce||Ye){h.isDirty&&(Re=r.isDirty,r.isDirty=De.isDirty=q(),de=Re!==De.isDirty);const _t=rt||xu(We(i,Z),he);Re=!!(!rt&&We(r.dirtyFields,Z)),_t||rt?ui(r.dirtyFields,Z):$r(r.dirtyFields,Z,!0),De.dirtyFields=r.dirtyFields,de=de||h.dirtyFields&&Re!==!_t}if(Ce){const _t=We(r.touchedFields,Z);_t||($r(r.touchedFields,Z,Ce),De.touchedFields=r.touchedFields,de=de||h.touchedFields&&_t!==Ce)}de&&ne&&p.state.next(De)}return de?De:{}},B=(Z,he,Ce,Ye)=>{const ne=We(r.errors,Z),de=h.isValid&&Yo(he)&&r.isValid!==he;if(t.delayError&&Ce?(a=y(()=>C(Z,Ce)),a(t.delayError)):(clearTimeout(l),a=null,Ce?$r(r.errors,Z,Ce):ui(r.errors,Z)),(Ce?!xu(ne,Ce):ne)||!Ts(Ye)||de){const Re={...Ye,...de&&Yo(he)?{isValid:he}:{},errors:r.errors,name:Z};r={...r,...Re},p.state.next(Re)}},z=async Z=>{R(Z,!0);const he=await t.resolver(s,t.context,jK(Z||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return R(Z),he},G=async Z=>{const{errors:he}=await z(Z);if(Z)for(const Ce of Z){const Ye=We(he,Ce);Ye?$r(r.errors,Ce,Ye):ui(r.errors,Ce)}else r.errors=he;return he},J=async(Z,he,Ce={valid:!0})=>{for(const Ye in Z){const ne=Z[Ye];if(ne){const{_f:de,...Re}=ne;if(de){const De=c.array.has(de.name),rt=ne._f&&DK(ne._f);rt&&h.validatingFields&&R([Ye],!0);const _t=await QT(ne,c.disabled,s,_,t.shouldUseNativeValidation&&!he,De);if(rt&&h.validatingFields&&R([Ye]),_t[de.name]&&(Ce.valid=!1,he))break;!he&&(We(_t,de.name)?De?oF(r.errors,_t,de.name):$r(r.errors,de.name,_t[de.name]):ui(r.errors,de.name))}!Ts(Re)&&await J(Re,he,Ce)}}return Ce.valid},X=()=>{for(const Z of c.unMount){const he=We(n,Z);he&&(he._f.refs?he._f.refs.every(Ce=>!ZE(Ce)):!ZE(he._f.ref))&&zt(Z)}c.unMount=new Set},q=(Z,he)=>!t.disabled&&(Z&&he&&$r(s,Z,he),!xu(fe(),i)),ee=(Z,he,Ce)=>iF(Z,c,{...o.mount?s:Rn(he)?i:pc(Z)?{[Z]:he}:he},Ce,he),ce=Z=>Py(We(o.mount?s:i,Z,t.shouldUnregister?We(i,Z,[]):[])),xe=(Z,he,Ce={})=>{const Ye=We(n,Z);let ne=he;if(Ye){const de=Ye._f;de&&(!de.disabled&&$r(s,Z,fF(he,de)),ne=v_(de.ref)&&ks(he)?"":he,lF(de.ref)?[...de.ref.options].forEach(Re=>Re.selected=ne.includes(Re.value)):de.refs?Oy(de.ref)?de.refs.length>1?de.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(ne)?!!ne.find(De=>De===Re.value):ne===Re.value)):de.refs[0]&&(de.refs[0].checked=!!ne):de.refs.forEach(Re=>Re.checked=Re.value===ne):h1(de.ref)?de.ref.value="":(de.ref.value=ne,de.ref.type||p.values.next({name:Z,values:{...s}})))}(Ce.shouldDirty||Ce.shouldTouch)&&U(Z,ne,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&re(Z)},_e=(Z,he,Ce)=>{for(const Ye in he){const ne=he[Ye],de=`${Z}.${Ye}`,Re=We(n,de);(c.array.has(Z)||oi(ne)||Re&&!Re._f)&&!vf(ne)?_e(de,ne,Ce):xe(de,ne,Ce)}},ve=(Z,he,Ce={})=>{const Ye=We(n,Z),ne=c.array.has(Z),de=gi(he);$r(s,Z,de),ne?(p.array.next({name:Z,values:{...s}}),(h.isDirty||h.dirtyFields)&&Ce.shouldDirty&&p.state.next({name:Z,dirtyFields:Gg(i,s),isDirty:q(Z,de)})):Ye&&!Ye._f&&!ks(de)?_e(Z,de,Ce):xe(Z,de,Ce),YT(Z,c)&&p.state.next({...r}),p.values.next({name:o.mount?Z:void 0,values:{...s}})},Y=async Z=>{o.mount=!0;const he=Z.target;let Ce=he.name,Ye=!0;const ne=We(n,Ce),de=()=>he.type?eC(ne._f):J2(Z),Re=De=>{Ye=Number.isNaN(De)||vf(De)&&isNaN(De.getTime())||xu(De,We(s,Ce,De))};if(ne){let De,rt;const _t=de(),wr=Z.type===g_.BLUR||Z.type===g_.FOCUS_OUT,Qn=!MK(ne._f)&&!t.resolver&&!We(r.errors,Ce)&&!ne._f.deps||LK(wr,We(r.touchedFields,Ce),r.isSubmitted,E,g),fi=YT(Ce,c,wr);$r(s,Ce,_t),wr?(ne._f.onBlur&&ne._f.onBlur(Z),a&&a(0)):ne._f.onChange&&ne._f.onChange(Z);const ds=U(Ce,_t,wr,!1),Er=!Ts(ds)||fi;if(!wr&&p.values.next({name:Ce,type:Z.type,values:{...s}}),Qn)return h.isValid&&(t.mode==="onBlur"&&wr?w():wr||w()),Er&&p.state.next({name:Ce,...fi?{}:ds});if(!wr&&fi&&p.state.next({...r}),t.resolver){const{errors:Cr}=await z([Ce]);if(Re(_t),Ye){const aa=YN(r.errors,n,Ce),Tl=YN(Cr,n,aa.name||Ce);De=Tl.error,Ce=Tl.name,rt=Ts(Cr)}}else R([Ce],!0),De=(await QT(ne,c.disabled,s,_,t.shouldUseNativeValidation))[Ce],R([Ce]),Re(_t),Ye&&(De?rt=!1:h.isValid&&(rt=await J(n,!0)));Ye&&(ne._f.deps&&re(ne._f.deps),B(Ce,rt,De,ds))}},Q=(Z,he)=>{if(We(r.errors,he)&&Z.focus)return Z.focus(),1},re=async(Z,he={})=>{let Ce,Ye;const ne=qs(Z);if(t.resolver){const de=await G(Rn(Z)?Z:ne);Ce=Ts(de),Ye=Z?!ne.some(Re=>We(de,Re)):Ce}else Z?(Ye=(await Promise.all(ne.map(async de=>{const Re=We(n,de);return await J(Re&&Re._f?{[de]:Re}:Re)}))).every(Boolean),!(!Ye&&!r.isValid)&&w()):Ye=Ce=await J(n);return p.state.next({...!pc(Z)||h.isValid&&Ce!==r.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:Ce}:{},errors:r.errors}),he.shouldFocus&&!Ye&&Tp(n,Q,Z?ne:c.mount),Ye},fe=Z=>{const he={...o.mount?s:i};return Rn(Z)?he:pc(Z)?We(he,Z):Z.map(Ce=>We(he,Ce))},Te=(Z,he)=>({invalid:!!We((he||r).errors,Z),isDirty:!!We((he||r).dirtyFields,Z),error:We((he||r).errors,Z),isValidating:!!We(r.validatingFields,Z),isTouched:!!We((he||r).touchedFields,Z)}),He=Z=>{Z&&qs(Z).forEach(he=>ui(r.errors,he)),p.state.next({errors:Z?r.errors:{}})},Le=(Z,he,Ce)=>{const Ye=(We(n,Z,{_f:{}})._f||{}).ref,ne=We(r.errors,Z)||{},{ref:de,message:Re,type:De,...rt}=ne;$r(r.errors,Z,{...rt,...he,ref:Ye}),p.state.next({name:Z,errors:r.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Ye&&Ye.focus&&Ye.focus()},xt=(Z,he)=>hc(Z)?p.values.subscribe({next:Ce=>Z(ee(void 0,he),Ce)}):ee(Z,he,!0),zt=(Z,he={})=>{for(const Ce of Z?qs(Z):c.mount)c.mount.delete(Ce),c.array.delete(Ce),he.keepValue||(ui(n,Ce),ui(s,Ce)),!he.keepError&&ui(r.errors,Ce),!he.keepDirty&&ui(r.dirtyFields,Ce),!he.keepTouched&&ui(r.touchedFields,Ce),!he.keepIsValidating&&ui(r.validatingFields,Ce),!t.shouldUnregister&&!he.keepDefaultValue&&ui(i,Ce);p.values.next({values:{...s}}),p.state.next({...r,...he.keepDirty?{isDirty:q()}:{}}),!he.keepIsValid&&w()},Ke=({disabled:Z,name:he,field:Ce,fields:Ye})=>{(Yo(Z)&&o.mount||Z||c.disabled.has(he))&&(Z?c.disabled.add(he):c.disabled.delete(he),U(he,eC(Ce?Ce._f:We(Ye,he)._f),!1,!1,!0))},lt=(Z,he={})=>{let Ce=We(n,Z);const Ye=Yo(he.disabled)||Yo(t.disabled);return $r(n,Z,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:Z}},name:Z,mount:!0,...he}}),c.mount.add(Z),Ce?Ke({field:Ce,disabled:Yo(he.disabled)?he.disabled:t.disabled,name:Z}):L(Z,!0,he.value),{...Ye?{disabled:he.disabled||t.disabled}:{},...t.progressive?{required:!!he.required,min:qg(he.min),max:qg(he.max),minLength:qg(he.minLength),maxLength:qg(he.maxLength),pattern:qg(he.pattern)}:{},name:Z,onChange:Y,onBlur:Y,ref:ne=>{if(ne){lt(Z,he),Ce=We(n,Z);const de=Rn(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,Re=IK(de),De=Ce._f.refs||[];if(Re?De.find(rt=>rt===de):de===Ce._f.ref)return;$r(n,Z,{_f:{...Ce._f,...Re?{refs:[...De.filter(ZE),de,...Array.isArray(We(i,Z))?[{}]:[]],ref:{type:de.type,name:Z}}:{ref:de}}}),L(Z,!1,void 0,de)}else Ce=We(n,Z,{}),Ce._f&&(Ce._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(X2(c.array,Z)&&o.action)&&c.unMount.add(Z)}}},Mt=()=>t.shouldFocusError&&Tp(n,Q,c.mount),Kt=Z=>{Yo(Z)&&(p.state.next({disabled:Z}),Tp(n,(he,Ce)=>{const Ye=We(n,Ce);Ye&&(he.disabled=Ye._f.disabled||Z,Array.isArray(Ye._f.refs)&&Ye._f.refs.forEach(ne=>{ne.disabled=Ye._f.disabled||Z}))},0,!1))},Lt=(Z,he)=>async Ce=>{let Ye;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let ne=gi(s);if(c.disabled.size)for(const de of c.disabled)$r(ne,de,void 0);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:Re}=await z();r.errors=de,ne=Re}else await J(n);if(ui(r.errors,"root"),Ts(r.errors)){p.state.next({errors:{}});try{await Z(ne,Ce)}catch(de){Ye=de}}else he&&await he({...r.errors},Ce),Mt(),setTimeout(Mt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ts(r.errors)&&!Ye,submitCount:r.submitCount+1,errors:r.errors}),Ye)throw Ye},Wt=(Z,he={})=>{We(n,Z)&&(Rn(he.defaultValue)?ve(Z,gi(We(i,Z))):(ve(Z,he.defaultValue),$r(i,Z,gi(he.defaultValue))),he.keepTouched||ui(r.touchedFields,Z),he.keepDirty||(ui(r.dirtyFields,Z),r.isDirty=he.defaultValue?q(Z,gi(We(i,Z))):q()),he.keepError||(ui(r.errors,Z),h.isValid&&w()),p.state.next({...r}))},Mr=(Z,he={})=>{const Ce=Z?gi(Z):i,Ye=gi(Ce),ne=Ts(Z),de=ne?i:Ye;if(he.keepDefaultValues||(i=Ce),!he.keepValues){if(he.keepDirtyValues){const Re=new Set([...c.mount,...Object.keys(Gg(i,s))]);for(const De of Array.from(Re))We(r.dirtyFields,De)?$r(de,De,We(s,De)):ve(De,We(de,De))}else{if(l1&&Rn(Z))for(const Re of c.mount){const De=We(n,Re);if(De&&De._f){const rt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(v_(rt)){const _t=rt.closest("form");if(_t){_t.reset();break}}}}n={}}s=t.shouldUnregister?he.keepDefaultValues?gi(i):{}:gi(de),p.array.next({values:{...de}}),p.values.next({values:{...de}})}c={mount:he.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!xu(Z,i)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:he.keepDirtyValues?he.keepDefaultValues&&s?Gg(i,s):r.dirtyFields:he.keepDefaultValues&&Z?Gg(i,Z):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},qr=(Z,he)=>Mr(hc(Z)?Z(s):Z,he);return{control:{register:lt,unregister:zt,getFieldState:Te,handleSubmit:Lt,setError:Le,_executeSchema:z,_getWatch:ee,_getDirty:q,_updateValid:w,_removeUnmounted:X,_updateFieldArray:S,_updateDisabledField:Ke,_getFieldArray:ce,_reset:Mr,_resetDefaultValues:()=>hc(t.defaultValues)&&t.defaultValues().then(Z=>{qr(Z,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:Z=>{r={...r,...Z}},_disableForm:Kt,_subjects:p,_proxyFormState:h,_setErrors:A,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(Z){o=Z},get _defaultValues(){return i},get _names(){return c},set _names(Z){c=Z},get _formState(){return r},set _formState(Z){r=Z},get _options(){return t},set _options(Z){t={...t,...Z}}},trigger:re,register:lt,handleSubmit:Lt,watch:xt,setValue:ve,getValues:fe,reset:qr,resetField:Wt,clearErrors:He,unregister:zt,setError:Le,setFocus:(Z,he={})=>{const Ce=We(n,Z),Ye=Ce&&Ce._f;if(Ye){const ne=Ye.refs?Ye.refs[0]:Ye.ref;ne.focus&&(ne.focus(),he.shouldSelect&&hc(ne.select)&&ne.select())}},getFieldState:Te}}function _m(e={}){const t=ht.useRef(void 0),r=ht.useRef(void 0),[n,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:hc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:hc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...BK(e),formState:n});const s=t.current.control;return s._options=e,$S({subject:s._subjects.state,next:o=>{rF(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ht.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ht.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ht.useEffect(()=>{e.values&&!xu(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),ht.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),ht.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ht.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=tF(n,s),t.current}function Dr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Po(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Os(e,t){const r=Dr(e);return isNaN(t)?Po(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function La(e,t){const r=Dr(e);if(isNaN(t))return Po(e,NaN);if(!t)return r;const n=r.getDate(),i=Po(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const m1=6048e5,$K=864e5;let VK={};function Ay(){return VK}function Ec(e,t){var c,a,l,h;const r=Ay(),n=(t==null?void 0:t.weekStartsOn)??((a=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??r.weekStartsOn??((h=(l=r.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??0,i=Dr(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function $f(e){return Ec(e,{weekStartsOn:1})}function hF(e){const t=Dr(e),r=t.getFullYear(),n=Po(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=$f(n),s=Po(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=$f(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Qp(e){const t=Dr(e);return t.setHours(0,0,0,0),t}function x_(e){const t=Dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function mc(e,t){const r=Qp(e),n=Qp(t),i=+r-x_(r),s=+n-x_(n);return Math.round((i-s)/$K)}function zK(e){const t=hF(e),r=Po(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),$f(r)}function XT(e,t){const r=t*7;return Os(e,r)}function WK(e,t){return La(e,t*12)}function HK(e){let t;return e.forEach(function(r){const n=Dr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function GK(e){let t;return e.forEach(r=>{const n=Dr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ks(e,t){const r=Qp(e),n=Qp(t);return+r==+n}function g1(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qK(e){if(!g1(e)&&typeof e!="number")return!1;const t=Dr(e);return!isNaN(Number(t))}function ny(e,t){const r=Dr(e),n=Dr(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function KK(e,t,r){const n=Ec(e,r),i=Ec(t,r),s=+n-x_(n),o=+i-x_(i);return Math.round((s-o)/m1)}function v1(e){const t=Dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eo(e){const t=Dr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pF(e){const t=Dr(e),r=Po(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function y1(e,t){var c,a,l,h;const r=Ay(),n=(t==null?void 0:t.weekStartsOn)??((a=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:a.weekStartsOn)??r.weekStartsOn??((h=(l=r.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??0,i=Dr(e),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function mF(e){return y1(e,{weekStartsOn:1})}const YK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QK=(e,t,r)=>{let n;const i=YK[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function tC(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const JK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eY={date:tC({formats:JK,defaultWidth:"full"}),time:tC({formats:XK,defaultWidth:"full"}),dateTime:tC({formats:ZK,defaultWidth:"full"})},tY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rY=(e,t,r,n)=>tY[e];function Kg(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):o;i=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const nY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lY=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uY={ordinalNumber:lY,era:Kg({values:nY,defaultWidth:"wide"}),quarter:Kg({values:iY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kg({values:sY,defaultWidth:"wide"}),day:Kg({values:oY,defaultWidth:"wide"}),dayPeriod:Kg({values:aY,defaultWidth:"wide",formattingValues:cY,defaultFormattingWidth:"wide"})};function Yg(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(c)?fY(c,p=>p.test(o)):dY(c,p=>p.test(o));let l;l=e.valueCallback?e.valueCallback(a):a,l=r.valueCallback?r.valueCallback(l):l;const h=t.slice(o.length);return{value:l,rest:h}}}function dY(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function fY(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hY(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(i.length);return{value:o,rest:c}}}const pY=/^(\d+)(th|st|nd|rd)?/i,mY=/\d+/i,gY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vY={any:[/^b/i,/^(a|c)/i]},yY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bY={any:[/1/i,/2/i,/3/i,/4/i]},xY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_Y={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TY={ordinalNumber:hY({matchPattern:pY,parsePattern:mY,valueCallback:e=>parseInt(e,10)}),era:Yg({matchPatterns:gY,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any"}),quarter:Yg({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yg({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:_Y,defaultParseWidth:"any"}),day:Yg({matchPatterns:SY,defaultMatchWidth:"wide",parsePatterns:wY,defaultParseWidth:"any"}),dayPeriod:Yg({matchPatterns:EY,defaultMatchWidth:"any",parsePatterns:CY,defaultParseWidth:"any"})},gF={code:"en-US",formatDistance:QK,formatLong:eY,formatRelative:rY,localize:uY,match:TY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RY(e){const t=Dr(e);return mc(t,pF(t))+1}function vF(e){const t=Dr(e),r=+$f(t)-+zK(t);return Math.round(r/m1)+1}function yF(e,t){var h,p,g,E;const r=Dr(e),n=r.getFullYear(),i=Ay(),s=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(g=i.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??1,o=Po(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=Ec(o,t),a=Po(e,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);const l=Ec(a,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function kY(e,t){var c,a,l,h;const r=Ay(),n=(t==null?void 0:t.firstWeekContainsDate)??((a=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:a.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(l=r.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??1,i=yF(e,t),s=Po(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Ec(s,t)}function bF(e,t){const r=Dr(e),n=+Ec(r,t)-+kY(r,t);return Math.round(n/m1)+1}function Jr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const du={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jr(r+1,2)},d(e,t){return Jr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jr(e.getHours()%12||12,t.length)},H(e,t){return Jr(e.getHours(),t.length)},m(e,t){return Jr(e.getMinutes(),t.length)},s(e,t){return Jr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Jr(i,t.length)}},tp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QN={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return du.y(e,t)},Y:function(e,t,r,n){const i=yF(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Jr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Jr(s,t.length)},R:function(e,t){const r=hF(e);return Jr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return du.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=bF(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Jr(i,t.length)},I:function(e,t,r){const n=vF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):du.d(e,t)},D:function(e,t,r){const n=RY(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Jr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Jr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Jr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=tp.noon:n===0?i=tp.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=tp.evening:n>=12?i=tp.afternoon:n>=4?i=tp.morning:i=tp.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return du.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):du.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):du.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):du.s(e,t)},S:function(e,t){return du.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return XN(n);case"XXXX":case"XX":return ff(n);case"XXXXX":case"XXX":default:return ff(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return XN(n);case"xxxx":case"xx":return ff(n);case"xxxxx":case"xxx":default:return ff(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JN(n,":");case"OOOO":default:return"GMT"+ff(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JN(n,":");case"zzzz":default:return"GMT"+ff(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Jr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Jr(n,t.length)}};function JN(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Jr(s,2)}function XN(e,t){return e%60===0?(e>0?"-":"+")+Jr(Math.abs(e)/60,2):ff(e,t)}function ff(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Jr(Math.trunc(n/60),2),s=Jr(n%60,2);return r+i+t+s}const ZN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OY=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return ZN(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",ZN(n,t)).replace("{{time}}",xF(i,t))},PY={p:xF,P:OY},NY=/^D+$/,AY=/^Y+$/,IY=["D","DD","YY","YYYY"];function jY(e){return NY.test(e)}function DY(e){return AY.test(e)}function MY(e,t,r){const n=LY(e,t,r);if(console.warn(n),IY.includes(e))throw new RangeError(n)}function LY(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BY=/^'([^]*?)'?$/,$Y=/''/g,VY=/[a-zA-Z]/;function to(e,t,r){var h,p,g,E,_,y,w,R;const n=Ay(),i=(r==null?void 0:r.locale)??n.locale??gF,s=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(g=n.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((y=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((R=(w=n.locale)==null?void 0:w.options)==null?void 0:R.weekStartsOn)??0,c=Dr(e);if(!qK(c))throw new RangeError("Invalid time value");let a=t.match(UY).map(S=>{const C=S[0];if(C==="p"||C==="P"){const A=PY[C];return A(S,i.formatLong)}return S}).join("").match(FY).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const C=S[0];if(C==="'")return{isToken:!1,value:zY(S)};if(QN[C])return{isToken:!0,value:S};if(C.match(VY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(a=i.localize.preprocessor(c,a));const l={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return a.map(S=>{if(!S.isToken)return S.value;const C=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&DY(C)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&jY(C))&&MY(C,t,String(e));const A=QN[C[0]];return A(c,C,i.localize,l)}).join("")}function zY(e){const t=e.match(BY);return t?t[1].replace($Y,"'"):e}function WY(e){const t=Dr(e),r=t.getFullYear(),n=t.getMonth(),i=Po(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function HY(e){return Math.trunc(+Dr(e)/1e3)}function GY(e){const t=Dr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function qY(e,t){return KK(GY(e),eo(e),t)+1}function ZT(e,t){const r=Dr(e),n=Dr(t);return r.getTime()>n.getTime()}function _F(e,t){const r=Dr(e),n=Dr(t);return+r<+n}function b1(e,t){const r=Dr(e),n=Dr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function KY(e,t){const r=Dr(e),n=Dr(t);return r.getFullYear()===n.getFullYear()}function rC(e,t){return Os(e,-t)}function nC(e,t){const r=Dr(e),n=r.getFullYear(),i=r.getDate(),s=Po(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=WY(s);return r.setMonth(t,Math.min(i,o)),r}function eA(e,t){const r=Dr(e);return isNaN(+r)?Po(e,NaN):(r.setFullYear(t),r)}const Sm=RK,SF=P.createContext({}),fr=({...e})=>d.jsx(SF.Provider,{value:{name:e.name},children:d.jsx(f1,{...e})}),VS=()=>{const e=P.useContext(SF),t=P.useContext(wF),{getFieldState:r,formState:n}=Ny(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},wF=P.createContext({}),tr=P.forwardRef(({className:e,...t},r)=>{const n=P.useId();return d.jsx(wF.Provider,{value:{id:n},children:d.jsx("div",{ref:r,className:it("space-y-2",e),...t})})});tr.displayName="FormItem";const rr=P.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=VS();return d.jsx(Ii,{ref:r,className:it(n&&"text-destructive",e),htmlFor:i,...t})});rr.displayName="FormLabel";const br=P.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=VS();return d.jsx(Sc,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});br.displayName="FormControl";const YY=P.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=VS();return d.jsx("p",{ref:r,id:n,className:it("text-sm text-muted-foreground",e),...t})});YY.displayName="FormDescription";const nr=P.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=VS(),o=i?String(i==null?void 0:i.message):t;return o?d.jsx("p",{ref:n,id:s,className:it("text-sm font-medium text-destructive",e),...r,children:o}):null});nr.displayName="FormMessage";var x1="Popover",[EF,Uae]=no(x1,[xm]),Iy=xm(),[QY,ld]=EF(x1),CF=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!1}=e,c=Iy(t),a=P.useRef(null),[l,h]=P.useState(!1),[p=!1,g]=pl({prop:n,defaultProp:i,onChange:s});return d.jsx(Yk,{...c,children:d.jsx(QY,{scope:t,contentId:yc(),triggerRef:a,open:p,onOpenChange:g,onOpenToggle:P.useCallback(()=>g(E=>!E),[g]),hasCustomAnchor:l,onCustomAnchorAdd:P.useCallback(()=>h(!0),[]),onCustomAnchorRemove:P.useCallback(()=>h(!1),[]),modal:o,children:r})})};CF.displayName=x1;var TF="PopoverAnchor",JY=P.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=ld(TF,r),s=Iy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=i;return P.useEffect(()=>(o(),()=>c()),[o,c]),d.jsx(IS,{...s,...n,ref:t})});JY.displayName=TF;var RF="PopoverTrigger",kF=P.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=ld(RF,r),s=Iy(r),o=yr(t,i.triggerRef),c=d.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":IF(i.open),...n,ref:o,onClick:qe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:d.jsx(IS,{asChild:!0,...s,children:c})});kF.displayName=RF;var _1="PopoverPortal",[XY,ZY]=EF(_1,{forceMount:void 0}),OF=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=ld(_1,t);return d.jsx(XY,{scope:t,forceMount:r,children:d.jsx(us,{present:r||s.open,children:d.jsx(pm,{asChild:!0,container:i,children:n})})})};OF.displayName=_1;var Jp="PopoverContent",PF=P.forwardRef((e,t)=>{const r=ZY(Jp,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=ld(Jp,e.__scopePopover);return d.jsx(us,{present:n||s.open,children:s.modal?d.jsx(eQ,{...i,ref:t}):d.jsx(tQ,{...i,ref:t})})});PF.displayName=Jp;var eQ=P.forwardRef((e,t)=>{const r=ld(Jp,e.__scopePopover),n=P.useRef(null),i=yr(t,n),s=P.useRef(!1);return P.useEffect(()=>{const o=n.current;if(o)return MS(o)},[]),d.jsx(Ty,{as:Sc,allowPinchZoom:!0,children:d.jsx(NF,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),s.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,a=c.button===0&&c.ctrlKey===!0,l=c.button===2||a;s.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),tQ=P.forwardRef((e,t)=>{const r=ld(Jp,e.__scopePopover),n=P.useRef(!1),i=P.useRef(!1);return d.jsx(NF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var a,l;(a=e.onInteractOutside)==null||a.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((l=r.triggerRef.current)==null?void 0:l.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),NF=P.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:h,...p}=e,g=ld(Jp,r),E=Iy(r);return OS(),d.jsx(Ey,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(hm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:a,onFocusOutside:l,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(Qk,{"data-state":IF(g.open),role:"dialog",id:g.contentId,...E,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AF="PopoverClose",rQ=P.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=ld(AF,r);return d.jsx(Pt.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,()=>i.onOpenChange(!1))})});rQ.displayName=AF;var nQ="PopoverArrow",iQ=P.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Iy(r);return d.jsx(Jk,{...i,...n,ref:t})});iQ.displayName=nQ;function IF(e){return e?"open":"closed"}var sQ=CF,oQ=kF,aQ=OF,jF=PF;const iy=sQ,sy=oQ,Xp=P.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>d.jsx(aQ,{children:d.jsx(jF,{ref:i,align:t,sideOffset:r,className:it("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Xp.displayName=jF.displayName;var $t=function(){return $t=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},$t.apply(this,arguments)};function cQ(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function DF(e,t,r){for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function jy(e){return e.mode==="multiple"}function Dy(e){return e.mode==="range"}function zS(e){return e.mode==="single"}var lQ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function uQ(e,t){return to(e,"LLLL y",t)}function dQ(e,t){return to(e,"d",t)}function fQ(e,t){return to(e,"LLLL",t)}function hQ(e){return"".concat(e)}function pQ(e,t){return to(e,"cccccc",t)}function mQ(e,t){return to(e,"yyyy",t)}var gQ=Object.freeze({__proto__:null,formatCaption:uQ,formatDay:dQ,formatMonthCaption:fQ,formatWeekNumber:hQ,formatWeekdayName:pQ,formatYearCaption:mQ}),vQ=function(e,t,r){return to(e,"do MMMM (EEEE)",r)},yQ=function(){return"Month: "},bQ=function(){return"Go to next month"},xQ=function(){return"Go to previous month"},_Q=function(e,t){return to(e,"cccc",t)},SQ=function(e){return"Week n. ".concat(e)},wQ=function(){return"Year: "},EQ=Object.freeze({__proto__:null,labelDay:vQ,labelMonthDropdown:yQ,labelNext:bQ,labelPrevious:xQ,labelWeekNumber:SQ,labelWeekday:_Q,labelYearDropdown:wQ});function CQ(){var e="buttons",t=lQ,r=gF,n={},i={},s=1,o={},c=new Date;return{captionLayout:e,classNames:t,formatters:gQ,labels:EQ,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:o,today:c,mode:"default"}}function TQ(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=eo(n):t&&(s=new Date(t,0,1)),i?o=v1(i):r&&(o=new Date(r,11,31)),{fromDate:s?Qp(s):void 0,toDate:o?Qp(o):void 0}}var MF=P.createContext(void 0);function RQ(e){var t,r=e.initialProps,n=CQ(),i=TQ(r),s=i.fromDate,o=i.toDate,c=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;c!=="buttons"&&(!s||!o)&&(c="buttons");var a;(zS(r)||jy(r)||Dy(r))&&(a=r.onSelect);var l=$t($t($t({},n),r),{captionLayout:c,classNames:$t($t({},n.classNames),r.classNames),components:$t({},r.components),formatters:$t($t({},n.formatters),r.formatters),fromDate:s,labels:$t($t({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:$t($t({},n.modifiers),r.modifiers),modifiersClassNames:$t($t({},n.modifiersClassNames),r.modifiersClassNames),onSelect:a,styles:$t($t({},n.styles),r.styles),toDate:o});return d.jsx(MF.Provider,{value:l,children:e.children})}function xn(){var e=P.useContext(MF);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function LF(e){var t=xn(),r=t.locale,n=t.classNames,i=t.styles,s=t.formatters.formatCaption;return d.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function kQ(e){return d.jsx("svg",$t({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function FF(e){var t,r,n=e.onChange,i=e.value,s=e.children,o=e.caption,c=e.className,a=e.style,l=xn(),h=(r=(t=l.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:kQ;return d.jsxs("div",{className:c,style:a,children:[d.jsx("span",{className:l.classNames.vhidden,children:e["aria-label"]}),d.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:i,onChange:n,children:s}),d.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[o,d.jsx(h,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function OQ(e){var t,r=xn(),n=r.fromDate,i=r.toDate,s=r.styles,o=r.locale,c=r.formatters.formatMonthCaption,a=r.classNames,l=r.components,h=r.labels.labelMonthDropdown;if(!n)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});var p=[];if(KY(n,i))for(var g=eo(n),E=n.getMonth();E<=i.getMonth();E++)p.push(nC(g,E));else for(var g=eo(new Date),E=0;E<=11;E++)p.push(nC(g,E));var _=function(w){var R=Number(w.target.value),S=nC(eo(e.displayMonth),R);e.onChange(S)},y=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:FF;return d.jsx(y,{name:"months","aria-label":h(),className:a.dropdown_month,style:s.dropdown_month,onChange:_,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:p.map(function(w){return d.jsx("option",{value:w.getMonth(),children:c(w,{locale:o})},w.getMonth())})})}function PQ(e){var t,r=e.displayMonth,n=xn(),i=n.fromDate,s=n.toDate,o=n.locale,c=n.styles,a=n.classNames,l=n.components,h=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,g=[];if(!i)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});for(var E=i.getFullYear(),_=s.getFullYear(),y=E;y<=_;y++)g.push(eA(pF(new Date),y));var w=function(S){var C=eA(eo(r),Number(S.target.value));e.onChange(C)},R=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:FF;return d.jsx(R,{name:"years","aria-label":p(),className:a.dropdown_year,style:c.dropdown_year,onChange:w,value:r.getFullYear(),caption:h(r,{locale:o}),children:g.map(function(S){return d.jsx("option",{value:S.getFullYear(),children:h(S,{locale:o})},S.getFullYear())})})}function NQ(e,t){var r=P.useState(e),n=r[0],i=r[1],s=t===void 0?n:t;return[s,i]}function AQ(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,s=e.toDate,o=e.fromDate,c=e.numberOfMonths,a=c===void 0?1:c;if(s&&ny(s,i)<0){var l=-1*(a-1);i=La(s,l)}return o&&ny(i,o)<0&&(i=o),eo(i)}function IQ(){var e=xn(),t=AQ(e),r=NQ(t,e.month),n=r[0],i=r[1],s=function(o){var c;if(!e.disableNavigation){var a=eo(o);i(a),(c=e.onMonthChange)===null||c===void 0||c.call(e,a)}};return[n,s]}function jQ(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=eo(e),s=eo(La(i,n)),o=ny(s,i),c=[],a=0;a<o;a++){var l=La(i,a);c.push(l)}return r&&(c=c.reverse()),c}function DQ(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,o=n?s:1,c=eo(e);if(!r)return La(c,o);var a=ny(r,e);if(!(a<s))return La(c,o)}}function MQ(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,o=n?s:1,c=eo(e);if(!r)return La(c,-o);var a=ny(c,r);if(!(a<=0))return La(c,-o)}}var UF=P.createContext(void 0);function LQ(e){var t=xn(),r=IQ(),n=r[0],i=r[1],s=jQ(n,t),o=DQ(n,t),c=MQ(n,t),a=function(p){return s.some(function(g){return b1(p,g)})},l=function(p,g){a(p)||(g&&_F(p,g)?i(La(p,1+t.numberOfMonths*-1)):i(p))},h={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:l,previousMonth:c,nextMonth:o,isDateDisplayed:a};return d.jsx(UF.Provider,{value:h,children:e.children})}function My(){var e=P.useContext(UF);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function tA(e){var t,r=xn(),n=r.classNames,i=r.styles,s=r.components,o=My().goToMonth,c=function(h){o(La(h,e.displayIndex?-e.displayIndex:0))},a=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:LF,l=d.jsx(a,{id:e.id,displayMonth:e.displayMonth});return d.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[d.jsx("div",{className:n.vhidden,children:l}),d.jsx(OQ,{onChange:c,displayMonth:e.displayMonth}),d.jsx(PQ,{onChange:c,displayMonth:e.displayMonth})]})}function FQ(e){return d.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UQ(e){return d.jsx("svg",$t({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var __=P.forwardRef(function(e,t){var r=xn(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),c=$t($t({},i.button_reset),i.button);return e.style&&Object.assign(c,e.style),d.jsx("button",$t({},e,{ref:t,type:"button",className:o,style:c}))});function BQ(e){var t,r,n=xn(),i=n.dir,s=n.locale,o=n.classNames,c=n.styles,a=n.labels,l=a.labelPrevious,h=a.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return d.jsx(d.Fragment,{});var g=l(e.previousMonth,{locale:s}),E=[o.nav_button,o.nav_button_previous].join(" "),_=h(e.nextMonth,{locale:s}),y=[o.nav_button,o.nav_button_next].join(" "),w=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:UQ,R=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:FQ;return d.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&d.jsx(__,{name:"previous-month","aria-label":g,className:E,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?d.jsx(w,{className:o.nav_icon,style:c.nav_icon}):d.jsx(R,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&d.jsx(__,{name:"next-month","aria-label":_,className:y,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?d.jsx(R,{className:o.nav_icon,style:c.nav_icon}):d.jsx(w,{className:o.nav_icon,style:c.nav_icon})})]})}function rA(e){var t=xn().numberOfMonths,r=My(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,o=r.displayMonths,c=o.findIndex(function(_){return b1(e.displayMonth,_)}),a=c===0,l=c===o.length-1,h=t>1&&(a||!l),p=t>1&&(l||!a),g=function(){n&&s(n)},E=function(){i&&s(i)};return d.jsx(BQ,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:p,nextMonth:i,previousMonth:n,onPreviousClick:g,onNextClick:E})}function $Q(e){var t,r=xn(),n=r.classNames,i=r.disableNavigation,s=r.styles,o=r.captionLayout,c=r.components,a=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:LF,l;return i?l=d.jsx(a,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?l=d.jsx(tA,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?l=d.jsxs(d.Fragment,{children:[d.jsx(tA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),d.jsx(rA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):l=d.jsxs(d.Fragment,{children:[d.jsx(a,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(rA,{displayMonth:e.displayMonth,id:e.id})]}),d.jsx("div",{className:n.caption,style:s.caption,children:l})}function VQ(e){var t=xn(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?d.jsx("tfoot",{className:i,style:n.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:r})})}):d.jsx(d.Fragment,{})}function zQ(e,t,r){for(var n=r?$f(new Date):Ec(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var o=Os(n,s);i.push(o)}return i}function WQ(){var e=xn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,a=e.labels.labelWeekday,l=zQ(i,s,o);return d.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&d.jsx("td",{style:r.head_cell,className:t.head_cell}),l.map(function(h,p){return d.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":a(h,{locale:i}),children:c(h,{locale:i})},p)})]})}function HQ(){var e,t=xn(),r=t.classNames,n=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:WQ;return d.jsx("thead",{style:n.head,className:r.head,children:d.jsx(s,{})})}function GQ(e){var t=xn(),r=t.locale,n=t.formatters.formatDay;return d.jsx(d.Fragment,{children:n(e.date,{locale:r})})}var S1=P.createContext(void 0);function qQ(e){if(!jy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return d.jsx(S1.Provider,{value:t,children:e.children})}return d.jsx(KQ,{initialProps:e.initialProps,children:e.children})}function KQ(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,s=t.max,o=function(l,h,p){var g,E;(g=t.onDayClick)===null||g===void 0||g.call(t,l,h,p);var _=!!(h.selected&&i&&(n==null?void 0:n.length)===i);if(!_){var y=!!(!h.selected&&s&&(n==null?void 0:n.length)===s);if(!y){var w=n?DF([],n):[];if(h.selected){var R=w.findIndex(function(S){return Ks(l,S)});w.splice(R,1)}else w.push(l);(E=t.onSelect)===null||E===void 0||E.call(t,w,l,h,p)}}},c={disabled:[]};n&&c.disabled.push(function(l){var h=s&&n.length>s-1,p=n.some(function(g){return Ks(g,l)});return!!(h&&!p)});var a={selected:n,onDayClick:o,modifiers:c};return d.jsx(S1.Provider,{value:a,children:r})}function w1(){var e=P.useContext(S1);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function YQ(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Ks(i,e)&&Ks(n,e)?void 0:Ks(i,e)?{from:i,to:void 0}:Ks(n,e)?void 0:ZT(n,e)?{from:e,to:i}:{from:n,to:e}:i?ZT(e,i)?{from:i,to:e}:{from:e,to:i}:n?_F(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var E1=P.createContext(void 0);function QQ(e){if(!Dy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(E1.Provider,{value:t,children:e.children})}return d.jsx(JQ,{initialProps:e.initialProps,children:e.children})}function JQ(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},s=i.from,o=i.to,c=t.min,a=t.max,l=function(E,_,y){var w,R;(w=t.onDayClick)===null||w===void 0||w.call(t,E,_,y);var S=YQ(E,n);(R=t.onSelect)===null||R===void 0||R.call(t,S,E,_,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(h.range_start=[s],o?(h.range_end=[o],Ks(s,o)||(h.range_middle=[{after:s,before:o}])):h.range_end=[s]):o&&(h.range_start=[o],h.range_end=[o]),c&&(s&&!o&&h.disabled.push({after:rC(s,c-1),before:Os(s,c-1)}),s&&o&&h.disabled.push({after:s,before:Os(s,c-1)}),!s&&o&&h.disabled.push({after:rC(o,c-1),before:Os(o,c-1)})),a){if(s&&!o&&(h.disabled.push({before:Os(s,-a+1)}),h.disabled.push({after:Os(s,a-1)})),s&&o){var p=mc(o,s)+1,g=a-p;h.disabled.push({before:rC(s,g)}),h.disabled.push({after:Os(o,g)})}!s&&o&&(h.disabled.push({before:Os(o,-a+1)}),h.disabled.push({after:Os(o,a-1)}))}return d.jsx(E1.Provider,{value:{selected:n,onDayClick:l,modifiers:h},children:r})}function C1(){var e=P.useContext(E1);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Wb(e){return Array.isArray(e)?DF([],e):e!==void 0?[e]:[]}function XQ(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=Wb(i)}),t}var Fa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Fa||(Fa={}));var ZQ=Fa.Selected,Yc=Fa.Disabled,eJ=Fa.Hidden,tJ=Fa.Today,iC=Fa.RangeEnd,sC=Fa.RangeMiddle,oC=Fa.RangeStart,rJ=Fa.Outside;function nJ(e,t,r){var n,i=(n={},n[ZQ]=Wb(e.selected),n[Yc]=Wb(e.disabled),n[eJ]=Wb(e.hidden),n[tJ]=[e.today],n[iC]=[],n[sC]=[],n[oC]=[],n[rJ]=[],n);return e.fromDate&&i[Yc].push({before:e.fromDate}),e.toDate&&i[Yc].push({after:e.toDate}),jy(e)?i[Yc]=i[Yc].concat(t.modifiers[Yc]):Dy(e)&&(i[Yc]=i[Yc].concat(r.modifiers[Yc]),i[oC]=r.modifiers[oC],i[sC]=r.modifiers[sC],i[iC]=r.modifiers[iC]),i}var BF=P.createContext(void 0);function iJ(e){var t=xn(),r=w1(),n=C1(),i=nJ(t,r,n),s=XQ(t.modifiers),o=$t($t({},i),s);return d.jsx(BF.Provider,{value:o,children:e.children})}function $F(){var e=P.useContext(BF);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function sJ(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function oJ(e){return!!(e&&typeof e=="object"&&"from"in e)}function aJ(e){return!!(e&&typeof e=="object"&&"after"in e)}function cJ(e){return!!(e&&typeof e=="object"&&"before"in e)}function lJ(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function uJ(e,t){var r,n=t.from,i=t.to;if(n&&i){var s=mc(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var o=mc(e,n)>=0&&mc(i,e)>=0;return o}return i?Ks(i,e):n?Ks(n,e):!1}function dJ(e){return g1(e)}function fJ(e){return Array.isArray(e)&&e.every(g1)}function hJ(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(dJ(r))return Ks(e,r);if(fJ(r))return r.includes(e);if(oJ(r))return uJ(e,r);if(lJ(r))return r.dayOfWeek.includes(e.getDay());if(sJ(r)){var n=mc(r.before,e),i=mc(r.after,e),s=n>0,o=i<0,c=ZT(r.before,r.after);return c?o&&s:s||o}return aJ(r)?mc(e,r.after)>0:cJ(r)?mc(r.before,e)>0:typeof r=="function"?r(e):!1})}function T1(e,t,r){var n=Object.keys(t).reduce(function(s,o){var c=t[o];return hJ(e,c)&&s.push(o),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!b1(e,r)&&(i.outside=!0),i}function pJ(e,t){for(var r=eo(e[0]),n=v1(e[e.length-1]),i,s,o=r;o<=n;){var c=T1(o,t),a=!c.disabled&&!c.hidden;if(!a){o=Os(o,1);continue}if(c.selected)return o;c.today&&!s&&(s=o),i||(i=o),o=Os(o,1)}return s||i}var mJ=365;function VF(e,t){var r=t.moveBy,n=t.direction,i=t.context,s=t.modifiers,o=t.retry,c=o===void 0?{count:0,lastFocused:e}:o,a=i.weekStartsOn,l=i.fromDate,h=i.toDate,p=i.locale,g={day:Os,week:XT,month:La,year:WK,startOfWeek:function(w){return i.ISOWeek?$f(w):Ec(w,{locale:p,weekStartsOn:a})},endOfWeek:function(w){return i.ISOWeek?mF(w):y1(w,{locale:p,weekStartsOn:a})}},E=g[r](e,n==="after"?1:-1);n==="before"&&l?E=HK([l,E]):n==="after"&&h&&(E=GK([h,E]));var _=!0;if(s){var y=T1(E,s);_=!y.disabled&&!y.hidden}return _?E:c.count>mJ?c.lastFocused:VF(E,{moveBy:r,direction:n,context:i,modifiers:s,retry:$t($t({},c),{count:c.count+1})})}var zF=P.createContext(void 0);function gJ(e){var t=My(),r=$F(),n=P.useState(),i=n[0],s=n[1],o=P.useState(),c=o[0],a=o[1],l=pJ(t.displayMonths,r),h=i??(c&&t.isDateDisplayed(c))?c:l,p=function(){a(i),s(void 0)},g=function(w){s(w)},E=xn(),_=function(w,R){if(i){var S=VF(i,{moveBy:w,direction:R,context:E,modifiers:r});Ks(i,S)||(t.goToDate(S,i),g(S))}},y={focusedDay:i,focusTarget:h,blur:p,focus:g,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return d.jsx(zF.Provider,{value:y,children:e.children})}function R1(){var e=P.useContext(zF);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function vJ(e,t){var r=$F(),n=T1(e,r,t);return n}var k1=P.createContext(void 0);function yJ(e){if(!zS(e.initialProps)){var t={selected:void 0};return d.jsx(k1.Provider,{value:t,children:e.children})}return d.jsx(bJ,{initialProps:e.initialProps,children:e.children})}function bJ(e){var t=e.initialProps,r=e.children,n=function(s,o,c){var a,l,h;if((a=t.onDayClick)===null||a===void 0||a.call(t,s,o,c),o.selected&&!t.required){(l=t.onSelect)===null||l===void 0||l.call(t,void 0,s,o,c);return}(h=t.onSelect)===null||h===void 0||h.call(t,s,s,o,c)},i={selected:t.selected,onDayClick:n};return d.jsx(k1.Provider,{value:i,children:r})}function WF(){var e=P.useContext(k1);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function xJ(e,t){var r=xn(),n=WF(),i=w1(),s=C1(),o=R1(),c=o.focusDayAfter,a=o.focusDayBefore,l=o.focusWeekAfter,h=o.focusWeekBefore,p=o.blur,g=o.focus,E=o.focusMonthBefore,_=o.focusMonthAfter,y=o.focusYearBefore,w=o.focusYearAfter,R=o.focusStartOfWeek,S=o.focusEndOfWeek,C=function(ve){var Y,Q,re,fe;zS(r)?(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,ve):jy(r)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,ve):Dy(r)?(re=s.onDayClick)===null||re===void 0||re.call(s,e,t,ve):(fe=r.onDayClick)===null||fe===void 0||fe.call(r,e,t,ve)},A=function(ve){var Y;g(e),(Y=r.onDayFocus)===null||Y===void 0||Y.call(r,e,t,ve)},L=function(ve){var Y;p(),(Y=r.onDayBlur)===null||Y===void 0||Y.call(r,e,t,ve)},U=function(ve){var Y;(Y=r.onDayMouseEnter)===null||Y===void 0||Y.call(r,e,t,ve)},B=function(ve){var Y;(Y=r.onDayMouseLeave)===null||Y===void 0||Y.call(r,e,t,ve)},z=function(ve){var Y;(Y=r.onDayPointerEnter)===null||Y===void 0||Y.call(r,e,t,ve)},G=function(ve){var Y;(Y=r.onDayPointerLeave)===null||Y===void 0||Y.call(r,e,t,ve)},J=function(ve){var Y;(Y=r.onDayTouchCancel)===null||Y===void 0||Y.call(r,e,t,ve)},X=function(ve){var Y;(Y=r.onDayTouchEnd)===null||Y===void 0||Y.call(r,e,t,ve)},q=function(ve){var Y;(Y=r.onDayTouchMove)===null||Y===void 0||Y.call(r,e,t,ve)},ee=function(ve){var Y;(Y=r.onDayTouchStart)===null||Y===void 0||Y.call(r,e,t,ve)},ce=function(ve){var Y;(Y=r.onDayKeyUp)===null||Y===void 0||Y.call(r,e,t,ve)},xe=function(ve){var Y;switch(ve.key){case"ArrowLeft":ve.preventDefault(),ve.stopPropagation(),r.dir==="rtl"?c():a();break;case"ArrowRight":ve.preventDefault(),ve.stopPropagation(),r.dir==="rtl"?a():c();break;case"ArrowDown":ve.preventDefault(),ve.stopPropagation(),l();break;case"ArrowUp":ve.preventDefault(),ve.stopPropagation(),h();break;case"PageUp":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?y():E();break;case"PageDown":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?w():_();break;case"Home":ve.preventDefault(),ve.stopPropagation(),R();break;case"End":ve.preventDefault(),ve.stopPropagation(),S();break}(Y=r.onDayKeyDown)===null||Y===void 0||Y.call(r,e,t,ve)},_e={onClick:C,onFocus:A,onBlur:L,onKeyDown:xe,onKeyUp:ce,onMouseEnter:U,onMouseLeave:B,onPointerEnter:z,onPointerLeave:G,onTouchCancel:J,onTouchEnd:X,onTouchMove:q,onTouchStart:ee};return _e}function _J(){var e=xn(),t=WF(),r=w1(),n=C1(),i=zS(e)?t.selected:jy(e)?r.selected:Dy(e)?n.selected:void 0;return i}function SJ(e){return Object.values(Fa).includes(e)}function wJ(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(SJ(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function EJ(e,t){var r=$t({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=$t($t({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function CJ(e,t,r){var n,i,s,o=xn(),c=R1(),a=vJ(e,t),l=xJ(e,a),h=_J(),p=!!(o.onDayClick||o.mode!=="default");P.useEffect(function(){var U;a.outside||c.focusedDay&&p&&Ks(c.focusedDay,e)&&((U=r.current)===null||U===void 0||U.focus())},[c.focusedDay,e,r,p,a.outside]);var g=wJ(o,a).join(" "),E=EJ(o,a),_=!!(a.outside&&!o.showOutsideDays||a.hidden),y=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:GQ,w=d.jsx(y,{date:e,displayMonth:t,activeModifiers:a}),R={style:E,className:g,children:w,role:"gridcell"},S=c.focusTarget&&Ks(c.focusTarget,e)&&!a.outside,C=c.focusedDay&&Ks(c.focusedDay,e),A=$t($t($t({},R),(n={disabled:a.disabled,role:"gridcell"},n["aria-selected"]=a.selected,n.tabIndex=C||S?0:-1,n)),l),L={isButton:p,isHidden:_,activeModifiers:a,selectedDays:h,buttonProps:A,divProps:R};return L}function TJ(e){var t=P.useRef(null),r=CJ(e.date,e.displayMonth,t);return r.isHidden?d.jsx("div",{role:"gridcell"}):r.isButton?d.jsx(__,$t({name:"day",ref:t},r.buttonProps)):d.jsx("div",$t({},r.divProps))}function RJ(e){var t=e.number,r=e.dates,n=xn(),i=n.onWeekNumberClick,s=n.styles,o=n.classNames,c=n.locale,a=n.labels.labelWeekNumber,l=n.formatters.formatWeekNumber,h=l(Number(t),{locale:c});if(!i)return d.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:h});var p=a(Number(t),{locale:c}),g=function(E){i(t,r,E)};return d.jsx(__,{name:"week-number","aria-label":p,className:o.weeknumber,style:s.weeknumber,onClick:g,children:h})}function kJ(e){var t,r,n=xn(),i=n.styles,s=n.classNames,o=n.showWeekNumber,c=n.components,a=(t=c==null?void 0:c.Day)!==null&&t!==void 0?t:TJ,l=(r=c==null?void 0:c.WeekNumber)!==null&&r!==void 0?r:RJ,h;return o&&(h=d.jsx("td",{className:s.cell,style:i.cell,children:d.jsx(l,{number:e.weekNumber,dates:e.dates})})),d.jsxs("tr",{className:s.row,style:i.row,children:[h,e.dates.map(function(p){return d.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:d.jsx(a,{displayMonth:e.displayMonth,date:p})},HY(p))})]})}function nA(e,t,r){for(var n=r!=null&&r.ISOWeek?mF(t):y1(t,r),i=r!=null&&r.ISOWeek?$f(e):Ec(e,r),s=mc(n,i),o=[],c=0;c<=s;c++)o.push(Os(i,c));var a=o.reduce(function(l,h){var p=r!=null&&r.ISOWeek?vF(h):bF(h,r),g=l.find(function(E){return E.weekNumber===p});return g?(g.dates.push(h),l):(l.push({weekNumber:p,dates:[h]}),l)},[]);return a}function OJ(e,t){var r=nA(eo(e),v1(e),t);if(t!=null&&t.useFixedWeeks){var n=qY(e,t);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],o=XT(s,6-n),c=nA(XT(s,1),o,t);r.push.apply(r,c)}}return r}function PJ(e){var t,r,n,i=xn(),s=i.locale,o=i.classNames,c=i.styles,a=i.hideHead,l=i.fixedWeeks,h=i.components,p=i.weekStartsOn,g=i.firstWeekContainsDate,E=i.ISOWeek,_=OJ(e.displayMonth,{useFixedWeeks:!!l,ISOWeek:E,locale:s,weekStartsOn:p,firstWeekContainsDate:g}),y=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:HQ,w=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:kJ,R=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:VQ;return d.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!a&&d.jsx(y,{}),d.jsx("tbody",{className:o.tbody,style:c.tbody,children:_.map(function(S){return d.jsx(w,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),d.jsx(R,{displayMonth:e.displayMonth})]})}function NJ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var AJ=NJ()?P.useLayoutEffect:P.useEffect,aC=!1,IJ=0;function iA(){return"react-day-picker-".concat(++IJ)}function jJ(e){var t,r=e??(aC?iA():null),n=P.useState(r),i=n[0],s=n[1];return AJ(function(){i===null&&s(iA())},[]),P.useEffect(function(){aC===!1&&(aC=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function DJ(e){var t,r,n=xn(),i=n.dir,s=n.classNames,o=n.styles,c=n.components,a=My().displayMonths,l=jJ(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[s.month],g=o.month,E=e.displayIndex===0,_=e.displayIndex===a.length-1,y=!E&&!_;i==="rtl"&&(t=[E,_],_=t[0],E=t[1]),E&&(p.push(s.caption_start),g=$t($t({},g),o.caption_start)),_&&(p.push(s.caption_end),g=$t($t({},g),o.caption_end)),y&&(p.push(s.caption_between),g=$t($t({},g),o.caption_between));var w=(r=c==null?void 0:c.Caption)!==null&&r!==void 0?r:$Q;return d.jsxs("div",{className:p.join(" "),style:g,children:[d.jsx(w,{id:l,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(PJ,{id:h,"aria-labelledby":l,displayMonth:e.displayMonth})]},e.displayIndex)}function MJ(e){var t=xn(),r=t.classNames,n=t.styles;return d.jsx("div",{className:r.months,style:n.months,children:e.children})}function LJ(e){var t,r,n=e.initialProps,i=xn(),s=R1(),o=My(),c=P.useState(!1),a=c[0],l=c[1];P.useEffect(function(){i.initialFocus&&s.focusTarget&&(a||(s.focus(s.focusTarget),l(!0)))},[i.initialFocus,a,s.focus,s.focusTarget,s]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var p=$t($t({},i.styles.root),i.style),g=Object.keys(n).filter(function(_){return _.startsWith("data-")}).reduce(function(_,y){var w;return $t($t({},_),(w={},w[y]=n[y],w))},{}),E=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:MJ;return d.jsx("div",$t({className:h.join(" "),style:p,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:d.jsx(E,{children:o.displayMonths.map(function(_,y){return d.jsx(DJ,{displayIndex:y,displayMonth:_},y)})})}))}function FJ(e){var t=e.children,r=cQ(e,["children"]);return d.jsx(RQ,{initialProps:r,children:d.jsx(LQ,{children:d.jsx(yJ,{initialProps:r,children:d.jsx(qQ,{initialProps:r,children:d.jsx(QQ,{initialProps:r,children:d.jsx(iJ,{children:d.jsx(gJ,{children:t})})})})})})})}function UJ(e){return d.jsx(FJ,$t({},e,{children:d.jsx(LJ,{initialProps:e})}))}function Zp({className:e,classNames:t,showOutsideDays:r=!0,...n}){return d.jsx(UJ,{showOutsideDays:r,className:it("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:it(VT({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:it(VT({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>d.jsx(Qz,{className:"h-4 w-4"}),IconRight:({...i})=>d.jsx(Ok,{className:"h-4 w-4"})},...n})}Zp.displayName="Calendar";var O1="Dialog",[HF,Bae]=no(O1),[BJ,Ba]=HF(O1),GF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,c=P.useRef(null),a=P.useRef(null),[l=!1,h]=pl({prop:n,defaultProp:i,onChange:s});return d.jsx(BJ,{scope:t,triggerRef:c,contentRef:a,contentId:yc(),titleId:yc(),descriptionId:yc(),open:l,onOpenChange:h,onOpenToggle:P.useCallback(()=>h(p=>!p),[h]),modal:o,children:r})};GF.displayName=O1;var qF="DialogTrigger",$J=P.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ba(qF,r),s=yr(t,i.triggerRef);return d.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":A1(i.open),...n,ref:s,onClick:qe(e.onClick,i.onOpenToggle)})});$J.displayName=qF;var P1="DialogPortal",[VJ,KF]=HF(P1,{forceMount:void 0}),YF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Ba(P1,t);return d.jsx(VJ,{scope:t,forceMount:r,children:P.Children.map(n,o=>d.jsx(us,{present:r||s.open,children:d.jsx(pm,{asChild:!0,container:i,children:o})}))})};YF.displayName=P1;var S_="DialogOverlay",QF=P.forwardRef((e,t)=>{const r=KF(S_,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Ba(S_,e.__scopeDialog);return s.modal?d.jsx(us,{present:n||s.open,children:d.jsx(zJ,{...i,ref:t})}):null});QF.displayName=S_;var zJ=P.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ba(S_,r);return d.jsx(Ty,{as:Sc,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Pt.div,{"data-state":A1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Vf="DialogContent",JF=P.forwardRef((e,t)=>{const r=KF(Vf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Ba(Vf,e.__scopeDialog);return d.jsx(us,{present:n||s.open,children:s.modal?d.jsx(WJ,{...i,ref:t}):d.jsx(HJ,{...i,ref:t})})});JF.displayName=Vf;var WJ=P.forwardRef((e,t)=>{const r=Ba(Vf,e.__scopeDialog),n=P.useRef(null),i=yr(t,r.contentRef,n);return P.useEffect(()=>{const s=n.current;if(s)return MS(s)},[]),d.jsx(XF,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,s=>s.preventDefault())})}),HJ=P.forwardRef((e,t)=>{const r=Ba(Vf,e.__scopeDialog),n=P.useRef(!1),i=P.useRef(!1);return d.jsx(XF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var a,l;(a=e.onInteractOutside)==null||a.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((l=r.triggerRef.current)==null?void 0:l.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),XF=P.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,c=Ba(Vf,r),a=P.useRef(null),l=yr(t,a);return OS(),d.jsxs(d.Fragment,{children:[d.jsx(Ey,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(hm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":A1(c.open),...o,ref:l,onDismiss:()=>c.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(GJ,{titleId:c.titleId}),d.jsx(KJ,{contentRef:a,descriptionId:c.descriptionId})]})]})}),N1="DialogTitle",ZF=P.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ba(N1,r);return d.jsx(Pt.h2,{id:i.titleId,...n,ref:t})});ZF.displayName=N1;var eU="DialogDescription",tU=P.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ba(eU,r);return d.jsx(Pt.p,{id:i.descriptionId,...n,ref:t})});tU.displayName=eU;var rU="DialogClose",nU=P.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ba(rU,r);return d.jsx(Pt.button,{type:"button",...n,ref:t,onClick:qe(e.onClick,()=>i.onOpenChange(!1))})});nU.displayName=rU;function A1(e){return e?"open":"closed"}var iU="DialogTitleWarning",[$ae,sU]=rz(iU,{contentName:Vf,titleName:N1,docsSlug:"dialog"}),GJ=({titleId:e})=>{const t=sU(iU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qJ="DialogDescriptionWarning",KJ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sU(qJ).contentName}}.`;return P.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},YJ=GF,QJ=YF,oU=QF,aU=JF,cU=ZF,lU=tU,uU=nU;const ud=YJ,JJ=QJ,XJ=uU,dU=P.forwardRef(({className:e,...t},r)=>d.jsx(oU,{ref:r,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dU.displayName=oU.displayName;const Sl=P.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(JJ,{children:[d.jsx(dU,{}),d.jsxs(aU,{ref:n,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(uU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(cd,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sl.displayName=aU.displayName;const wl=({className:e,...t})=>d.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wl.displayName="DialogHeader";const El=P.forwardRef(({className:e,...t},r)=>d.jsx(cU,{ref:r,className:it("text-lg font-semibold leading-none tracking-tight",e),...t}));El.displayName=cU.displayName;const ZJ=P.forwardRef(({className:e,...t},r)=>d.jsx(lU,{ref:r,className:it("text-sm text-muted-foreground",e),...t}));ZJ.displayName=lU.displayName;const eX=({defaultValues:e,onSubmit:t,onCancel:r})=>{const n=_m({defaultValues:e});return d.jsx(Sm,{...n,children:d.jsxs("form",{onSubmit:n.handleSubmit(t),className:"space-y-4",children:[d.jsx(fr,{control:n.control,name:"mobile",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Mobile"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Enter mobile",...i,readOnly:!0})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:n.control,name:"dob",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Date of Birth"}),d.jsx(br,{children:d.jsxs(iy,{children:[d.jsx(sy,{asChild:!0,children:d.jsx(br,{children:d.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!i.value&&"text-muted-foreground"),children:[i.value?to(i.value,"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),d.jsx(Xp,{className:"w-auto p-0",align:"start",children:d.jsx(Zp,{mode:"single",selected:i.value,onSelect:i.onChange,initialFocus:!0})})]})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:n.control,name:"balance",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Balance"}),d.jsx(br,{children:d.jsx(ar,{type:"number",placeholder:"0",...i,onChange:s=>i.onChange(Number(s.target.value))})}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Ot,{variant:"outline",onClick:i=>{i.preventDefault(),n.reset(),r()},children:"Cancel"}),d.jsx(Ot,{type:"submit",children:"Update"})]})]})})},tX=({open:e,setOpen:t,defaultValues:r,onUpdate:n})=>{const i=()=>{t(!1)};return d.jsx(ud,{open:e,onOpenChange:t,children:d.jsxs(Sl,{children:[d.jsx(wl,{children:d.jsx(El,{children:"Edit User"})}),d.jsx(eX,{defaultValues:r,onSubmit:n,onCancel:i})]})})},Io=P.forwardRef(({className:e,...t},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:it("w-full caption-bottom text-sm",e),...t})}));Io.displayName="Table";const jo=P.forwardRef(({className:e,...t},r)=>d.jsx("thead",{ref:r,className:it("[&_tr]:border-b",e),...t}));jo.displayName="TableHeader";const Do=P.forwardRef(({className:e,...t},r)=>d.jsx("tbody",{ref:r,className:it("[&_tr:last-child]:border-0",e),...t}));Do.displayName="TableBody";const rX=P.forwardRef(({className:e,...t},r)=>d.jsx("tfoot",{ref:r,className:it("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rX.displayName="TableFooter";const Tr=P.forwardRef(({className:e,...t},r)=>d.jsx("tr",{ref:r,className:it("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Tr.displayName="TableRow";const Qe=P.forwardRef(({className:e,...t},r)=>d.jsx("th",{ref:r,className:it("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableHead";const Be=P.forwardRef(({className:e,...t},r)=>d.jsx("td",{ref:r,className:it("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Be.displayName="TableCell";const nX=P.forwardRef(({className:e,...t},r)=>d.jsx("caption",{ref:r,className:it("mt-4 text-sm text-muted-foreground",e),...t}));nX.displayName="TableCaption";const iX=({users:e,isLoading:t,handleEdit:r,handleToggleStatus:n})=>{const i=_l();return d.jsx("div",{className:"bg-white rounded-lg shadow",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Mobile"}),d.jsx(Qe,{children:"Role"}),d.jsx(Qe,{children:"Date of Birth"}),d.jsx(Qe,{children:"Language"}),d.jsx(Qe,{children:" Point"}),d.jsx(Qe,{children:"Balance"}),d.jsx(Qe,{children:"Refer Code"}),d.jsx(Qe,{children:"Status"}),d.jsx(Qe,{children:"Last Login"}),d.jsx(Qe,{children:"Actions"})]})}),d.jsx(Do,{children:t?d.jsx(Tr,{children:d.jsx(Be,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):e.map(s=>d.jsxs(Tr,{children:[d.jsx(Be,{children:s.mobile}),d.jsx(Be,{children:s.userRole}),d.jsx(Be,{children:s.dob?new Date(s.dob).toLocaleDateString():"-"}),d.jsx(Be,{children:d.jsx("div",{className:"flex flex-col items-start",children:s.lang})}),d.jsx(Be,{children:d.jsx("div",{className:"flex flex-col items-start",children:s==null?void 0:s.points})}),d.jsx(Be,{children:d.jsx("div",{className:"flex flex-col items-start",children:s==null?void 0:s.balance})}),d.jsx(Be,{children:d.jsx("div",{className:"flex flex-col items-start",children:s.referralCode})}),d.jsxs(Be,{children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.isVerified?"Verified":"Not Verified"}),s.isBlocked&&d.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 ms-2",children:"Blocked"})]}),d.jsx(Be,{children:d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{children:new Date(s.lastLoginAt).toLocaleDateString()}),d.jsx("span",{children:new Date(s.lastLoginAt).toLocaleTimeString()})]})}),d.jsx(Be,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>r(s),children:d.jsx(Pk,{className:"h-4 w-4"})}),d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>n(s._id),children:d.jsx(Gz,{className:"h-4 w-4 text-red-600"})}),d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{i(`/dashboard/userDetails/${s._id}`)},children:d.jsx(Zz,{className:"h-4 w-4"})})]})})]},s._id))})]})})},sX=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(null),[i,s]=P.useState(""),{users:o,isLoading:c,currentPage:a,totalPages:l}=Wr(y=>y.user),h=en();P.useEffect(()=>{p(1)},[i]);const p=y=>{h(Bb({page:y,search:i}))},g=y=>{h($b(y))},E=y=>{n(y),t(!0)},_=y=>{h(Vb({mobile:y.mobile,dob:y.dob,balance:y.balance})).then(w=>{w.type==="updateUser/fulfilled"&&(t(!1),$u({title:"User updated successfully",description:"User details has been updated successfully"}))})};return d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("h1",{className:"text-2xl font-bold",children:"Users Management"})}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search user by mobile",value:i,onChange:y=>{s(y.target.value)},className:"max-w-sm"})}),d.jsx(tX,{open:e,setOpen:t,defaultValues:r,onUpdate:_}),d.jsx(iX,{users:o,isLoading:c,handleEdit:E,handleToggleStatus:g}),l>=1&&d.jsx(sa,{currentPage:a,totalPages:l,onPageChange:p})]})},sA=(e,t,r)=>{if(e&&"reportValidity"in e){const n=We(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},fU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?sA(n.ref,r,e):n.refs&&n.refs.forEach(i=>sA(i,r,e))}},oX=(e,t)=>{t.shouldUseNativeValidation&&fU(e,t);const r={};for(const n in e){const i=We(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(aX(t.names||Object.keys(e),n)){const o=Object.assign({},We(r,n));$r(o,"root",s),$r(r,n,o)}else $r(r,n,s)}return r},aX=(e,t)=>e.some(r=>r.startsWith(t+"."));var cX=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return e.push(p)})}),t){var a=r[o].types,l=a&&a[n.code];r[o]=sF(o,t,r,i,l?[].concat(l,n.message):n.message)}e.shift()}return r},WS=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,c){try{var a=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(l){return s.shouldUseNativeValidation&&fU({},s),{errors:{},values:r.raw?n:l}})}catch(l){return c(l)}return a&&a.then?a.then(void 0,c):a}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:oX(cX(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const eh=P.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));eh.displayName="Textarea";function lX({form:e}){return d.jsxs("div",{className:"space-y-4",children:[d.jsx(fr,{control:e.control,name:"title",render:({field:t})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Title"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Enter quiz title",...t})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:e.control,name:"description",render:({field:t})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Description"}),d.jsx(br,{children:d.jsx(eh,{placeholder:"Enter quiz description",...t})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:e.control,name:"bonusPercent",render:({field:t})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Refer Percentage"}),d.jsx(br,{children:d.jsx(ar,{type:"number",placeholder:"Enter refer bonus percentage",...t,onChange:r=>t.onChange(Number(r.target.value))})}),d.jsx(nr,{})]})})]})}function uX({form:e}){return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(fr,{control:e.control,name:"startDate",render:({field:t})=>d.jsxs(tr,{className:"flex flex-col",children:[d.jsx(rr,{children:"Start Date"}),d.jsxs(iy,{children:[d.jsx(sy,{asChild:!0,children:d.jsx(br,{children:d.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?to(t.value,"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),d.jsx(Xp,{className:"w-auto p-0",align:"start",children:d.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:r=>r<new Date||r<new Date("1900-01-01"),initialFocus:!0})})]}),d.jsx(nr,{})]})}),d.jsx(fr,{control:e.control,name:"endDate",render:({field:t})=>d.jsxs(tr,{className:"flex flex-col",children:[d.jsx(rr,{children:"End Date"}),d.jsxs(iy,{children:[d.jsx(sy,{asChild:!0,children:d.jsx(br,{children:d.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?to(t.value,"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),d.jsx(Xp,{className:"w-auto p-0",align:"start",children:d.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:r=>r<new Date||r<new Date("1900-01-01"),initialFocus:!0})})]}),d.jsx(nr,{})]})})]}),d.jsx(fr,{control:e.control,name:"duration",render:({field:t})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Duration (minutes)"}),d.jsx(br,{children:d.jsx(ar,{min:0,step:1,type:"number",placeholder:"0",...t,onChange:r=>t.onChange(parseInt(r.target.value))})}),d.jsx(nr,{})]})})]})}function I1(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var j1="Radio",[dX,hU]=no(j1),[fX,hX]=dX(j1),pU=P.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:o,value:c="on",onCheck:a,form:l,...h}=e,[p,g]=P.useState(null),E=yr(t,w=>g(w)),_=P.useRef(!1),y=p?l||!!p.closest("form"):!0;return d.jsxs(fX,{scope:r,checked:i,disabled:o,children:[d.jsx(Pt.button,{type:"button",role:"radio","aria-checked":i,"data-state":vU(i),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:E,onClick:qe(e.onClick,w=>{i||a==null||a(),y&&(_.current=w.isPropagationStopped(),_.current||w.stopPropagation())})}),y&&d.jsx(pX,{control:p,bubbles:!_.current,name:n,value:c,checked:i,required:s,disabled:o,form:l,style:{transform:"translateX(-100%)"}})]})});pU.displayName=j1;var mU="RadioIndicator",gU=P.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,s=hX(mU,r);return d.jsx(us,{present:n||s.checked,children:d.jsx(Pt.span,{"data-state":vU(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});gU.displayName=mU;var pX=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=P.useRef(null),o=I1(r),c=Gk(t);return P.useEffect(()=>{const a=s.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});p.call(a,r),a.dispatchEvent(g)}},[o,r,n]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vU(e){return e?"checked":"unchecked"}var mX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],D1="RadioGroup",[gX,Vae]=no(D1,[DS,hU]),yU=DS(),bU=hU(),[vX,yX]=gX(D1),xU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:o=!1,disabled:c=!1,orientation:a,dir:l,loop:h=!0,onValueChange:p,...g}=e,E=yU(r),_=wy(l),[y,w]=pl({prop:s,defaultProp:i,onChange:p});return d.jsx(vX,{scope:r,name:n,required:o,disabled:c,value:y,onValueChange:w,children:d.jsx(GL,{asChild:!0,...E,orientation:a,dir:_,loop:h,children:d.jsx(Pt.div,{role:"radiogroup","aria-required":o,"aria-orientation":a,"data-disabled":c?"":void 0,dir:_,...g,ref:t})})})});xU.displayName=D1;var _U="RadioGroupItem",SU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,s=yX(_U,r),o=s.disabled||n,c=yU(r),a=bU(r),l=P.useRef(null),h=yr(t,l),p=s.value===i.value,g=P.useRef(!1);return P.useEffect(()=>{const E=y=>{mX.includes(y.key)&&(g.current=!0)},_=()=>g.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",_)}},[]),d.jsx(qL,{asChild:!0,...c,focusable:!o,active:p,children:d.jsx(pU,{disabled:o,required:s.required,checked:p,...a,...i,name:s.name,ref:h,onCheck:()=>s.onValueChange(i.value),onKeyDown:qe(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:qe(i.onFocus,()=>{var E;g.current&&((E=l.current)==null||E.click())})})})});SU.displayName=_U;var bX="RadioGroupIndicator",wU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=bU(r);return d.jsx(gU,{...i,...n,ref:t})});wU.displayName=bX;var EU=xU,CU=SU,xX=wU;const TU=P.forwardRef(({className:e,...t},r)=>d.jsx(EU,{className:it("grid gap-2",e),...t,ref:r}));TU.displayName=EU.displayName;const RU=P.forwardRef(({className:e,...t},r)=>d.jsx(CU,{ref:r,className:it("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:d.jsx(xX,{className:"flex items-center justify-center",children:d.jsx(gM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RU.displayName=CU.displayName;function _X({form:e}){const t=e.watch("questions")||[],r=()=>{const c=e.getValues("questions")||[];e.setValue("questions",[...c,{question:"",options:[{option:"",isCorrect:!0},{option:"",isCorrect:!1}]}])},n=c=>{const l=[...e.getValues("questions")];l[c].options.push({option:"",isCorrect:!1}),e.setValue("questions",l)},i=c=>{const l=e.getValues("questions").filter((h,p)=>p!==c);e.setValue("questions",l)},s=(c,a)=>{const h=[...e.getValues("questions")];h[c].options=h[c].options.filter((p,g)=>g!==a),e.setValue("questions",h)},o=(c,a)=>{const h=[...e.getValues("questions")];h[c].options=h[c].options.map((p,g)=>({...p,isCorrect:g===a})),e.setValue("questions",h)};return d.jsxs("div",{className:"space-y-6",children:[t.map((c,a)=>{var l,h;return d.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h4",{className:"font-medium",children:["Question ",a+1]}),d.jsx(Ot,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(a),children:d.jsx(TT,{className:"h-4 w-4"})})]}),d.jsx(fr,{control:e.control,name:`questions.${a}.question`,render:({field:p})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Question Text"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Enter question",...p})}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(rr,{children:"Options"}),d.jsx(TU,{onValueChange:p=>o(a,parseInt(p)),value:(l=c==null?void 0:c.options)==null?void 0:l.findIndex(p=>p.isCorrect).toString(),children:(h=c==null?void 0:c.options)==null?void 0:h.map((p,g)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(RU,{value:g.toString(),id:`q${a}-opt${g}`}),d.jsx(fr,{control:e.control,name:`questions.${a}.options.${g}.option`,render:({field:E})=>d.jsxs(tr,{className:"flex-1",children:[d.jsx(br,{children:d.jsx(ar,{placeholder:`Option ${g+1}`,...E})}),d.jsx(nr,{})]})}),c.options.length>2&&d.jsx(Ot,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(a,g),children:d.jsx(TT,{className:"h-4 w-4"})})]},g))}),d.jsxs(Ot,{type:"button",variant:"outline",size:"sm",onClick:()=>n(a),children:[d.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]},a)}),d.jsxs(Ot,{type:"button",variant:"outline",onClick:r,children:[d.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})}var Ir;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ir||(Ir={}));var oA;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(oA||(oA={}));const tt=Ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gu=e=>{switch(typeof e){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return isNaN(e)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(e)?tt.array:e===null?tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tt.promise:typeof Map<"u"&&e instanceof Map?tt.map:typeof Set<"u"&&e instanceof Set?tt.set:typeof Date<"u"&&e instanceof Date?tt.date:tt.object;default:return tt.unknown}},Fe=Ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ra extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,a=0;for(;a<o.path.length;){const l=o.path[a];a===o.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(r(o))):c[l]=c[l]||{_errors:[]},c=c[l],a++}}};return i(this),n}static assert(t){if(!(t instanceof ra))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ra.create=e=>new ra(e);const oy=(e,t)=>{let r;switch(e.code){case Fe.invalid_type:e.received===tt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ir.jsonStringifyReplacer)}`;break;case Fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ir.joinValues(e.keys,", ")}`;break;case Fe.invalid_union:r="Invalid input";break;case Fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ir.joinValues(e.options)}`;break;case Fe.invalid_enum_value:r=`Invalid enum value. Expected ${Ir.joinValues(e.options)}, received '${e.received}'`;break;case Fe.invalid_arguments:r="Invalid function arguments";break;case Fe.invalid_return_type:r="Invalid function return type";break;case Fe.invalid_date:r="Invalid date";break;case Fe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ir.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Fe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Fe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Fe.custom:r="Invalid input";break;case Fe.invalid_intersection_types:r="Intersection results could not be merged";break;case Fe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Fe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ir.assertNever(e)}return{message:r}};let SX=oy;function eR(){return SX}const tR=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const a=n.filter(l=>!!l).slice().reverse();for(const l of a)c=l(o,{data:t,defaultError:c}).message;return{...i,path:s,message:c}};function Ze(e,t){const r=eR(),n=tR({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===oy?void 0:oy].filter(i=>!!i)});e.common.issues.push(n)}class As{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Zt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return As.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Zt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Zt=Object.freeze({status:"aborted"}),iv=e=>({status:"dirty",value:e}),ro=e=>({status:"valid",value:e}),aA=e=>e.status==="aborted",cA=e=>e.status==="dirty",em=e=>e.status==="valid",w_=e=>typeof Promise<"u"&&e instanceof Promise;function E_(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function kU(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var mt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(mt||(mt={}));var sv,ov;class Cc{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lA=(e,t)=>{if(em(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ra(e.common.issues);return this._error=r,this._error}}};function pr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{var a,l;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??c.defaultError}:typeof c.data>"u"?{message:(a=h??n)!==null&&a!==void 0?a:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(l=h??r)!==null&&l!==void 0?l:c.defaultError}},description:i}}class _r{get description(){return this._def.description}_getType(t){return gu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:gu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new As,ctx:{common:t.parent.common,data:t.data,parsedType:gu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(w_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gu(t)},s=this._parseSync({data:t,path:i.path,parent:i});return lA(i,s)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gu(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:i});return em(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s==null?void 0:s.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(s=>em(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gu(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(w_(i)?i:Promise.resolve(i));return lA(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),c=()=>s.addIssue({code:Fe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(a=>a?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new bl({schema:this,typeName:Vt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return cl.create(this,this._def)}nullable(){return Wf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xc.create(this)}promise(){return cy.create(this,this._def)}or(t){return R_.create([this,t],this._def)}and(t){return k_.create(this,t,this._def)}transform(t){return new bl({...pr(this._def),schema:this,typeName:Vt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new I_({...pr(this._def),innerType:this,defaultValue:r,typeName:Vt.ZodDefault})}brand(){return new AU({typeName:Vt.ZodBranded,type:this,...pr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new j_({...pr(this._def),innerType:this,catchValue:r,typeName:Vt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return HS.create(this,t)}readonly(){return D_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wX=/^c[^\s-]{8,}$/i,EX=/^[0-9a-z]+$/,CX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RX=/^[a-z0-9_-]{21}$/i,kX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,OX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cC;const AX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,MX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,OU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FX=new RegExp(`^${OU}$`);function PU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function UX(e){return new RegExp(`^${PU(e)}$`)}function BX(e){let t=`${OU}T${PU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function $X(e,t){return!!((t==="v4"||!t)&&AX.test(e)||(t==="v6"||!t)&&jX.test(e))}function VX(e,t){if(!kX.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function zX(e,t){return!!((t==="v4"||!t)&&IX.test(e)||(t==="v6"||!t)&&DX.test(e))}class sl extends _r{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tt.string){const s=this._getOrReturnCtx(t);return Ze(s,{code:Fe.invalid_type,expected:tt.string,received:s.parsedType}),Zt}const n=new As;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,c=t.data.length<s.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?Ze(i,{code:Fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&Ze(i,{code:Fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")PX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"email",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")cC||(cC=new RegExp(NX,"u")),cC.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"emoji",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")TX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"uuid",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")RX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"nanoid",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")wX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"cuid",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")EX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"cuid2",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")CX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"ulid",code:Fe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ze(i,{validation:"url",code:Fe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"regex",code:Fe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?BX(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?FX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?UX(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?OX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"duration",code:Fe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?$X(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"ip",code:Fe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?VX(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"jwt",code:Fe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?zX(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"cidr",code:Fe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?MX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"base64",code:Fe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?LX.test(t.data)||(i=this._getOrReturnCtx(t,i),Ze(i,{validation:"base64url",code:Fe.invalid_string,message:s.message}),n.dirty()):Ir.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Fe.invalid_string,...mt.errToObj(n)})}_addCheck(t){return new sl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...mt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...mt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...mt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...mt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...mt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...mt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...mt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...mt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...mt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...mt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...mt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...mt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...mt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...mt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...mt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...mt.errToObj(r)})}nonempty(t){return this.min(1,mt.errToObj(t))}trim(){return new sl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sl.create=e=>{var t;return new sl({checks:[],typeName:Vt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pr(e)})};function WX(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class tm extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tt.number){const s=this._getOrReturnCtx(t);return Ze(s,{code:Fe.invalid_type,expected:tt.number,received:s.parsedType}),Zt}let n;const i=new As;for(const s of this._def.checks)s.kind==="int"?Ir.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?WX(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.not_finite,message:s.message}),i.dirty()):Ir.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,mt.toString(r))}setLimit(t,r,n,i){return new tm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:mt.toString(i)}]})}_addCheck(t){return new tm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ir.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}tm.create=e=>new tm({checks:[],typeName:Vt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pr(e)});class rm extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==tt.bigint)return this._getInvalidInput(t);let n;const i=new As;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:Fe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ir.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ze(r,{code:Fe.invalid_type,expected:tt.bigint,received:r.parsedType}),Zt}gte(t,r){return this.setLimit("min",t,!0,mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,mt.toString(r))}setLimit(t,r,n,i){return new rm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:mt.toString(i)}]})}_addCheck(t){return new rm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}rm.create=e=>{var t;return new rm({checks:[],typeName:Vt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pr(e)})};class rR extends _r{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tt.boolean){const n=this._getOrReturnCtx(t);return Ze(n,{code:Fe.invalid_type,expected:tt.boolean,received:n.parsedType}),Zt}return ro(t.data)}}rR.create=e=>new rR({typeName:Vt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pr(e)});class ay extends _r{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tt.date){const s=this._getOrReturnCtx(t);return Ze(s,{code:Fe.invalid_type,expected:tt.date,received:s.parsedType}),Zt}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ze(s,{code:Fe.invalid_date}),Zt}const n=new As;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Ze(i,{code:Fe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ir.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ay({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:mt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:mt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ay.create=e=>new ay({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Vt.ZodDate,...pr(e)});class nR extends _r{_parse(t){if(this._getType(t)!==tt.symbol){const n=this._getOrReturnCtx(t);return Ze(n,{code:Fe.invalid_type,expected:tt.symbol,received:n.parsedType}),Zt}return ro(t.data)}}nR.create=e=>new nR({typeName:Vt.ZodSymbol,...pr(e)});class C_ extends _r{_parse(t){if(this._getType(t)!==tt.undefined){const n=this._getOrReturnCtx(t);return Ze(n,{code:Fe.invalid_type,expected:tt.undefined,received:n.parsedType}),Zt}return ro(t.data)}}C_.create=e=>new C_({typeName:Vt.ZodUndefined,...pr(e)});class T_ extends _r{_parse(t){if(this._getType(t)!==tt.null){const n=this._getOrReturnCtx(t);return Ze(n,{code:Fe.invalid_type,expected:tt.null,received:n.parsedType}),Zt}return ro(t.data)}}T_.create=e=>new T_({typeName:Vt.ZodNull,...pr(e)});class iR extends _r{constructor(){super(...arguments),this._any=!0}_parse(t){return ro(t.data)}}iR.create=e=>new iR({typeName:Vt.ZodAny,...pr(e)});class Rp extends _r{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ro(t.data)}}Rp.create=e=>new Rp({typeName:Vt.ZodUnknown,...pr(e)});class rd extends _r{_parse(t){const r=this._getOrReturnCtx(t);return Ze(r,{code:Fe.invalid_type,expected:tt.never,received:r.parsedType}),Zt}}rd.create=e=>new rd({typeName:Vt.ZodNever,...pr(e)});class sR extends _r{_parse(t){if(this._getType(t)!==tt.undefined){const n=this._getOrReturnCtx(t);return Ze(n,{code:Fe.invalid_type,expected:tt.void,received:n.parsedType}),Zt}return ro(t.data)}}sR.create=e=>new sR({typeName:Vt.ZodVoid,...pr(e)});class xc extends _r{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==tt.array)return Ze(r,{code:Fe.invalid_type,expected:tt.array,received:r.parsedType}),Zt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(o||c)&&(Ze(r,{code:o?Fe.too_big:Fe.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ze(r,{code:Fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ze(r,{code:Fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>i.type._parseAsync(new Cc(r,o,r.path,c)))).then(o=>As.mergeArray(n,o));const s=[...r.data].map((o,c)=>i.type._parseSync(new Cc(r,o,r.path,c)));return As.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new xc({...this._def,minLength:{value:t,message:mt.toString(r)}})}max(t,r){return new xc({...this._def,maxLength:{value:t,message:mt.toString(r)}})}length(t,r){return new xc({...this._def,exactLength:{value:t,message:mt.toString(r)}})}nonempty(t){return this.min(1,t)}}xc.create=(e,t)=>new xc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Vt.ZodArray,...pr(t)});function np(e){if(e instanceof Kn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=cl.create(np(n))}return new Kn({...e._def,shape:()=>t})}else return e instanceof xc?new xc({...e._def,type:np(e.element)}):e instanceof cl?cl.create(np(e.unwrap())):e instanceof Wf?Wf.create(np(e.unwrap())):e instanceof yl?yl.create(e.items.map(t=>np(t))):e}class Kn extends _r{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ir.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==tt.object){const l=this._getOrReturnCtx(t);return Ze(l,{code:Fe.invalid_type,expected:tt.object,received:l.parsedType}),Zt}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof rd&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||c.push(l);const a=[];for(const l of o){const h=s[l],p=i.data[l];a.push({key:{status:"valid",value:l},value:h._parse(new Cc(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof rd){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of c)a.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(l==="strict")c.length>0&&(Ze(i,{code:Fe.unrecognized_keys,keys:c}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of c){const p=i.data[h];a.push({key:{status:"valid",value:h},value:l._parse(new Cc(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of a){const p=await h.key,g=await h.value;l.push({key:p,value:g,alwaysSet:h.alwaysSet})}return l}).then(l=>As.mergeObjectSync(n,l)):As.mergeObjectSync(n,a)}get shape(){return this._def.shape()}strict(t){return mt.errToObj,new Kn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s,o,c;const a=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=mt.errToObj(t).message)!==null&&c!==void 0?c:a}:{message:a}}}:{}})}strip(){return new Kn({...this._def,unknownKeys:"strip"})}passthrough(){return new Kn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Vt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kn({...this._def,catchall:t})}pick(t){const r={};return Ir.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Kn({...this._def,shape:()=>r})}omit(t){const r={};return Ir.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Kn({...this._def,shape:()=>r})}deepPartial(){return np(this)}partial(t){const r={};return Ir.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Kn({...this._def,shape:()=>r})}required(t){const r={};return Ir.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof cl;)s=s._def.innerType;r[n]=s}}),new Kn({...this._def,shape:()=>r})}keyof(){return NU(Ir.objectKeys(this.shape))}}Kn.create=(e,t)=>new Kn({shape:()=>e,unknownKeys:"strip",catchall:rd.create(),typeName:Vt.ZodObject,...pr(t)});Kn.strictCreate=(e,t)=>new Kn({shape:()=>e,unknownKeys:"strict",catchall:rd.create(),typeName:Vt.ZodObject,...pr(t)});Kn.lazycreate=(e,t)=>new Kn({shape:e,unknownKeys:"strip",catchall:rd.create(),typeName:Vt.ZodObject,...pr(t)});class R_ extends _r{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new ra(c.ctx.common.issues));return Ze(r,{code:Fe.invalid_union,unionErrors:o}),Zt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const a of n){const l={...r,common:{...r.common,issues:[]},parent:null},h=a._parseSync({data:r.data,path:r.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(a=>new ra(a));return Ze(r,{code:Fe.invalid_union,unionErrors:c}),Zt}}get options(){return this._def.options}}R_.create=(e,t)=>new R_({options:e,typeName:Vt.ZodUnion,...pr(t)});const Xc=e=>e instanceof P_?Xc(e.schema):e instanceof bl?Xc(e.innerType()):e instanceof N_?[e.value]:e instanceof zf?e.options:e instanceof A_?Ir.objectValues(e.enum):e instanceof I_?Xc(e._def.innerType):e instanceof C_?[void 0]:e instanceof T_?[null]:e instanceof cl?[void 0,...Xc(e.unwrap())]:e instanceof Wf?[null,...Xc(e.unwrap())]:e instanceof AU||e instanceof D_?Xc(e.unwrap()):e instanceof j_?Xc(e._def.innerType):[];class M1 extends _r{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.object)return Ze(r,{code:Fe.invalid_type,expected:tt.object,received:r.parsedType}),Zt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ze(r,{code:Fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Zt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const s of r){const o=Xc(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,s)}}return new M1({typeName:Vt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...pr(n)})}}function oR(e,t){const r=gu(e),n=gu(t);if(e===t)return{valid:!0,data:e};if(r===tt.object&&n===tt.object){const i=Ir.objectKeys(t),s=Ir.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of s){const a=oR(e[c],t[c]);if(!a.valid)return{valid:!1};o[c]=a.data}return{valid:!0,data:o}}else if(r===tt.array&&n===tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],c=t[s],a=oR(o,c);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return r===tt.date&&n===tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class k_ extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(aA(s)||aA(o))return Zt;const c=oR(s.value,o.value);return c.valid?((cA(s)||cA(o))&&r.dirty(),{status:r.value,value:c.data}):(Ze(n,{code:Fe.invalid_intersection_types}),Zt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}k_.create=(e,t,r)=>new k_({left:e,right:t,typeName:Vt.ZodIntersection,...pr(r)});class yl extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.array)return Ze(n,{code:Fe.invalid_type,expected:tt.array,received:n.parsedType}),Zt;if(n.data.length<this._def.items.length)return Ze(n,{code:Fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zt;!this._def.rest&&n.data.length>this._def.items.length&&(Ze(n,{code:Fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,c)=>{const a=this._def.items[c]||this._def.rest;return a?a._parse(new Cc(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>As.mergeArray(r,o)):As.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new yl({...this._def,rest:t})}}yl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yl({items:e,typeName:Vt.ZodTuple,rest:null,...pr(t)})};class O_ extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.object)return Ze(n,{code:Fe.invalid_type,expected:tt.object,received:n.parsedType}),Zt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const c in n.data)i.push({key:s._parse(new Cc(n,c,n.path,c)),value:o._parse(new Cc(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?As.mergeObjectAsync(r,i):As.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof _r?new O_({keyType:t,valueType:r,typeName:Vt.ZodRecord,...pr(n)}):new O_({keyType:sl.create(),valueType:t,typeName:Vt.ZodRecord,...pr(r)})}}class aR extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.map)return Ze(n,{code:Fe.invalid_type,expected:tt.map,received:n.parsedType}),Zt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([c,a],l)=>({key:i._parse(new Cc(n,c,n.path,[l,"key"])),value:s._parse(new Cc(n,a,n.path,[l,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const a of o){const l=await a.key,h=await a.value;if(l.status==="aborted"||h.status==="aborted")return Zt;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),c.set(l.value,h.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const a of o){const l=a.key,h=a.value;if(l.status==="aborted"||h.status==="aborted")return Zt;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),c.set(l.value,h.value)}return{status:r.value,value:c}}}}aR.create=(e,t,r)=>new aR({valueType:t,keyType:e,typeName:Vt.ZodMap,...pr(r)});class nm extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.set)return Ze(n,{code:Fe.invalid_type,expected:tt.set,received:n.parsedType}),Zt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ze(n,{code:Fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ze(n,{code:Fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(a){const l=new Set;for(const h of a){if(h.status==="aborted")return Zt;h.status==="dirty"&&r.dirty(),l.add(h.value)}return{status:r.value,value:l}}const c=[...n.data.values()].map((a,l)=>s._parse(new Cc(n,a,n.path,l)));return n.common.async?Promise.all(c).then(a=>o(a)):o(c)}min(t,r){return new nm({...this._def,minSize:{value:t,message:mt.toString(r)}})}max(t,r){return new nm({...this._def,maxSize:{value:t,message:mt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}nm.create=(e,t)=>new nm({valueType:e,minSize:null,maxSize:null,typeName:Vt.ZodSet,...pr(t)});class _v extends _r{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.function)return Ze(r,{code:Fe.invalid_type,expected:tt.function,received:r.parsedType}),Zt;function n(c,a){return tR({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eR(),oy].filter(l=>!!l),issueData:{code:Fe.invalid_arguments,argumentsError:a}})}function i(c,a){return tR({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eR(),oy].filter(l=>!!l),issueData:{code:Fe.invalid_return_type,returnTypeError:a}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof cy){const c=this;return ro(async function(...a){const l=new ra([]),h=await c._def.args.parseAsync(a,s).catch(E=>{throw l.addIssue(n(a,E)),l}),p=await Reflect.apply(o,this,h);return await c._def.returns._def.type.parseAsync(p,s).catch(E=>{throw l.addIssue(i(p,E)),l})})}else{const c=this;return ro(function(...a){const l=c._def.args.safeParse(a,s);if(!l.success)throw new ra([n(a,l.error)]);const h=Reflect.apply(o,this,l.data),p=c._def.returns.safeParse(h,s);if(!p.success)throw new ra([i(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new _v({...this._def,args:yl.create(t).rest(Rp.create())})}returns(t){return new _v({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new _v({args:t||yl.create([]).rest(Rp.create()),returns:r||Rp.create(),typeName:Vt.ZodFunction,...pr(n)})}}class P_ extends _r{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}P_.create=(e,t)=>new P_({getter:e,typeName:Vt.ZodLazy,...pr(t)});class N_ extends _r{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ze(r,{received:r.data,code:Fe.invalid_literal,expected:this._def.value}),Zt}return{status:"valid",value:t.data}}get value(){return this._def.value}}N_.create=(e,t)=>new N_({value:e,typeName:Vt.ZodLiteral,...pr(t)});function NU(e,t){return new zf({values:e,typeName:Vt.ZodEnum,...pr(t)})}class zf extends _r{constructor(){super(...arguments),sv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ze(r,{expected:Ir.joinValues(n),received:r.parsedType,code:Fe.invalid_type}),Zt}if(E_(this,sv)||kU(this,sv,new Set(this._def.values)),!E_(this,sv).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ze(r,{received:r.data,code:Fe.invalid_enum_value,options:n}),Zt}return ro(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return zf.create(t,{...this._def,...r})}exclude(t,r=this._def){return zf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}sv=new WeakMap;zf.create=NU;class A_ extends _r{constructor(){super(...arguments),ov.set(this,void 0)}_parse(t){const r=Ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==tt.string&&n.parsedType!==tt.number){const i=Ir.objectValues(r);return Ze(n,{expected:Ir.joinValues(i),received:n.parsedType,code:Fe.invalid_type}),Zt}if(E_(this,ov)||kU(this,ov,new Set(Ir.getValidEnumValues(this._def.values))),!E_(this,ov).has(t.data)){const i=Ir.objectValues(r);return Ze(n,{received:n.data,code:Fe.invalid_enum_value,options:i}),Zt}return ro(t.data)}get enum(){return this._def.values}}ov=new WeakMap;A_.create=(e,t)=>new A_({values:e,typeName:Vt.ZodNativeEnum,...pr(t)});class cy extends _r{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.promise&&r.common.async===!1)return Ze(r,{code:Fe.invalid_type,expected:tt.promise,received:r.parsedType}),Zt;const n=r.parsedType===tt.promise?r.data:Promise.resolve(r.data);return ro(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}cy.create=(e,t)=>new cy({type:e,typeName:Vt.ZodPromise,...pr(t)});class bl extends _r{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Vt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{Ze(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return Zt;const a=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return a.status==="aborted"?Zt:a.status==="dirty"||r.value==="dirty"?iv(a.value):a});{if(r.value==="aborted")return Zt;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?Zt:c.status==="dirty"||r.value==="dirty"?iv(c.value):c}}if(i.type==="refinement"){const o=c=>{const a=i.refinement(c,s);if(n.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Zt:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Zt:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!em(o))return o;const c=i.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>em(o)?Promise.resolve(i.transform(o.value,s)).then(c=>({status:r.value,value:c})):o);Ir.assertNever(i)}}bl.create=(e,t,r)=>new bl({schema:e,typeName:Vt.ZodEffects,effect:t,...pr(r)});bl.createWithPreprocess=(e,t,r)=>new bl({schema:t,effect:{type:"preprocess",transform:e},typeName:Vt.ZodEffects,...pr(r)});class cl extends _r{_parse(t){return this._getType(t)===tt.undefined?ro(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cl.create=(e,t)=>new cl({innerType:e,typeName:Vt.ZodOptional,...pr(t)});class Wf extends _r{_parse(t){return this._getType(t)===tt.null?ro(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wf.create=(e,t)=>new Wf({innerType:e,typeName:Vt.ZodNullable,...pr(t)});class I_ extends _r{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}I_.create=(e,t)=>new I_({innerType:e,typeName:Vt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pr(t)});class j_ extends _r{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ra(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ra(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}j_.create=(e,t)=>new j_({innerType:e,typeName:Vt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pr(t)});class cR extends _r{_parse(t){if(this._getType(t)!==tt.nan){const n=this._getOrReturnCtx(t);return Ze(n,{code:Fe.invalid_type,expected:tt.nan,received:n.parsedType}),Zt}return{status:"valid",value:t.data}}}cR.create=e=>new cR({typeName:Vt.ZodNaN,...pr(e)});class AU extends _r{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class HS extends _r{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Zt:s.status==="dirty"?(r.dirty(),iv(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Zt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new HS({in:t,out:r,typeName:Vt.ZodPipeline})}}class D_ extends _r{_parse(t){const r=this._def.innerType._parse(t),n=i=>(em(i)&&(i.value=Object.freeze(i.value)),i);return w_(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}D_.create=(e,t)=>new D_({innerType:e,typeName:Vt.ZodReadonly,...pr(t)});Kn.lazycreate;var Vt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Vt||(Vt={}));const nn=sl.create,Of=tm.create;cR.create;rm.create;const M_=rR.create,L_=ay.create;nR.create;C_.create;T_.create;iR.create;Rp.create;rd.create;sR.create;const Vu=xc.create,kp=Kn.create;Kn.strictCreate;R_.create;M1.create;k_.create;yl.create;O_.create;aR.create;nm.create;_v.create;P_.create;N_.create;const HX=zf.create;A_.create;cy.create;bl.create;cl.create;Wf.create;bl.createWithPreprocess;HS.create;const GX=kp({title:nn().min(1,"Title is required").max(100,"Title is too long"),description:nn().min(1,"Description is required").max(500,"Description is too long"),standard:nn().min(null,"Standard is required").optional().nullable().default(null),subject:nn().min(null,"Subject is required").optional().nullable().default(null),startDate:L_({required_error:"Start date is required"}),endDate:L_({required_error:"End date is required"}),duration:Of().min(0,"Duration is not less then 0.").max(480,"Duration cannot exceed 8 hours").default(0).optional(),ageGroup:nn().min(0,"Age group is required").optional(),price:Of().min(0,"Price cannot be negative").default(0),bonusPercent:Of().min(0,"Refer bonus cannot be negative").optional(),isActive:M_().default(!0),questions:Vu(kp({question:nn().min(1,"Question text is required"),options:Vu(kp({option:nn().min(1,"Option text is required"),isCorrect:M_()})).min(2,"At least two options are required")})).min(1,"At least one question is required")}),Hb=wt("create",async(e,{rejectWithValue:t})=>{var r;try{return(await gt.post(Q6,e)).data}catch(n){return t(((r=n.response)==null?void 0:r.data)||"Unknown error")}}),zu=wt("fetchAll",async(e,{rejectWithValue:t})=>{var r;try{return(await gt.get(X6)).data}catch(n){return t(((r=n.response)==null?void 0:r.data)||"Unknown error")}}),lC=wt("fetchStandardById",async(e,{rejectWithValue:t})=>{var r;try{return(await gt.get(J6.replace(":id",e))).data}catch(n){return t(((r=n.response)==null?void 0:r.data)||"Unknown error")}}),Gb=wt("updateStandard",async({id:e,data:t},{rejectWithValue:r})=>{var n;try{return(await gt.put(Z6.replace(":id",e),t)).data}catch(i){return r(((n=i.response)==null?void 0:n.data)||"Unknown error")}}),qb=wt("toggleStandardStatus",async(e,{rejectWithValue:t})=>{var r;try{return(await gt.post(e8,{stdId:e})).data}catch(n){return t(((r=n.response)==null?void 0:r.data)||"Unknown error")}}),qX=io({name:"standard",initialState:{standards:[],currentStandard:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Hb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Hb.fulfilled,(t,r)=>{t.isLoading=!1,t.standards.push(r.payload)}).addCase(Hb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload||"Failed to create standard."}).addCase(zu.pending,t=>{t.isLoading=!0,t.error=null}).addCase(zu.fulfilled,(t,r)=>{t.isLoading=!1,t.standards=r.payload}).addCase(zu.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload||"Failed to fetch standards."}).addCase(lC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(lC.fulfilled,(t,r)=>{t.isLoading=!1,t.currentStandard=r.payload}).addCase(lC.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload||"Failed to fetch standard by ID."}).addCase(Gb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Gb.fulfilled,(t,r)=>{t.isLoading=!1,t.standards=t.standards.map(n=>n._id===r.payload._id?r.payload:n)}).addCase(Gb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload||"Failed to update standard."}).addCase(qb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(qb.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.standards.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.standards[n].isActive=!t.standards[n].isActive)}).addCase(qb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload||"Failed to toggle standard status."})}}),KX=qX.reducer,YX={subjects:[],currentsubject:null,isLoading:null,error:null},Kb=wt("createsubject",async(e,{rejectWithValue:t})=>{try{return(await gt.post(t8,e)).data}catch(r){return t(r.response.data)}}),Pf=wt("getAllsubject",async(e,{rejectWithValue:t})=>{try{return(await gt.get(n8,{params:{standard:e}})).data}catch(r){return t(r.response.data)}}),uC=wt("subjectById",async(e,{rejectWithValue:t})=>{try{return(await gt.get(r8.replace(":id",e))).data}catch(r){return t(r.response.data)}}),Yb=wt("updatasubject",async({id:e,data:t},{rejectWithValue:r})=>{try{return(await gt.put(i8.replace(":id",e),t)).data}catch(n){return r(n.response.data)}}),Qb=wt("togglesubject",async(e,{rejectWithValue:t})=>{try{return(await gt.post(s8,{subjectId:e})).data}catch(r){return t(r.response.data)}}),QX=io({name:"subject",initialState:YX,reducers:{},extraReducers:e=>{e.addCase(Kb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Kb.fulfilled,(t,r)=>{t.isLoading=!1,t.subjects.unshift(r.payload)}).addCase(Kb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Pf.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Pf.fulfilled,(t,r)=>{t.isLoading=!1,t.subjects=r.payload}).addCase(Pf.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(uC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(uC.fulfilled,(t,r)=>{t.isLoading=!1,t.currentsubject=r.payload}).addCase(uC.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Yb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Yb.fulfilled,(t,r)=>{t.isLoading=!1,t.subjects=t.subjects.map(n=>n._id===r.payload._id?r.payload:n)}).addCase(Yb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Qb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Qb.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.subjects.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.subjects[n].isActive=!t.subjects[n].isActive)}).addCase(Qb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),JX=QX.reducer,Op=({placeholder:e,name:t,control:r,onSearch:n,listing:i,onItemSelect:s,canLocalSearch:o=!0})=>{var _;const[c,a]=P.useState(""),{field:{value:l,onChange:h}}=d1({name:t,control:r}),p=y=>{h(y),s(y)},g=y=>{y.stopPropagation(),h(null),o?a(""):n(""),s("")},E=i==null?void 0:i.filter(y=>{var w;return(w=y==null?void 0:y.label)==null?void 0:w.toLowerCase().includes(c.toLowerCase())});return d.jsxs("div",{className:"relative flex items-center",children:[d.jsxs(o1,{children:[d.jsx(a1,{asChild:!0,children:d.jsx(Ot,{variant:"outline",className:"w-full justify-between",children:d.jsxs("div",{className:"flex items-center justify-between w-full",children:[d.jsx("span",{className:"font-normal",children:l?(_=i.find(y=>y.id===l))==null?void 0:_.label:e}),!l&&d.jsx(yS,{className:"h-4 w-4 ml-2 text-gray-500"})]})})}),d.jsxs(BS,{className:"w-64 max-h-60 overflow-y-auto",children:[d.jsx("div",{className:"sticky top-0 bg-white p-2 z-10",children:d.jsx(ar,{placeholder:"Search...",value:c,onChange:y=>{o?a(y.target.value):n(y.target.value)},className:"mb-2"})}),E.map(y=>d.jsx(c1,{onSelect:()=>p(y.id),className:`flex items-center space-x-2 ${l===y.id?"bg-gray-200":""}`,children:d.jsx("span",{children:y.label})},y.id))]})]}),l&&d.jsx(Ot,{variant:"ghost",size:"icon",className:"absolute right-0",onClick:g,children:d.jsx(cd,{className:"h-4 w-4 text-gray-500"})})]})};function XX({form:e}){const{standards:t,isLoading:r}=Wr(a=>a.standard),{subjects:n,isLoading:i}=Wr(a=>a.subject),s=en();P.useEffect(()=>{o(),c("")},[]);const o=()=>{s(zu())},c=a=>{s(Pf(a))};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(fr,{control:e.control,name:"standard",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Standard"}),r?d.jsx("div",{children:"Loading..."}):d.jsx(Op,{placeholder:"Select standard",name:"standard",control:e.control,onSearch:()=>{},listing:t.map(l=>({id:l._id,label:l.std})),onItemSelect:l=>c(l)}),d.jsx(nr,{})]})}),d.jsx(fr,{control:e.control,name:"subject",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Subject"}),i?d.jsx("div",{children:"Loading..."}):d.jsx(Op,{placeholder:"Select subject",name:"subject",control:e.control,onSearch:()=>{},listing:n.map(l=>{var h;return{id:l._id,label:l.standard?l.subject+" - "+((h=l.standard)==null?void 0:h.std):l.subject}}),onItemSelect:l=>{}}),d.jsx(nr,{})]})})]}),d.jsx(fr,{control:e.control,name:"ageGroup",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Age Group"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"e.g., 8-12 years",...a})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:e.control,name:"price",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Price"}),d.jsx(br,{children:d.jsx(ar,{min:0,step:1,type:"number",placeholder:"0",...a,onChange:l=>a.onChange(Number(l.target.value))})}),d.jsx(nr,{})]})})]})}const Jb=wt("quiz/createQuiz",async(e,{rejectWithValue:t})=>{try{return(await gt.post(x8,e)).data}catch(r){return t(r.response.data)}}),Sv=wt("quiz/fetchQuizzes",async({page:e,search:t=""},{rejectWithValue:r})=>{try{return(await gt.get(S8,{params:{page:e,search:t}})).data}catch(n){return r(n.response.data)}}),Xb=wt("quiz/fetchQuizById",async(e,{rejectWithValue:t})=>{try{return(await gt.get(`${_8}/${e}`)).data}catch(r){return t(r.response.data)}}),Zb=wt("quiz/updateQuiz",async({id:e,quizData:t},{rejectWithValue:r})=>{try{return(await gt.put(`${w8}/${e}`,t)).data}catch(n){return r(n.response.data)}}),ex=wt("quiz/toggleQuiz",async(e,{rejectWithValue:t})=>{try{return(await gt.post(E8,{quizId:e})).data}catch(r){return t(r.response.data)}}),tx=wt("quiz/getQuizResult",async({quizId:e,page:t},{rejectWithValue:r})=>{try{return(await gt.post(C8,{quizId:e,page:t})).data}catch(n){return r(n.response.data)}}),ZX={quizzes:[],currentQuiz:null,isLoading:!1,currentPage:1,totalPages:1,error:null,quizResult:[],isQuizResultLoading:!1,qrCurrentPage:1,qrTotalPages:1},IU=io({name:"quiz",initialState:ZX,reducers:{setCurrentQuiz:(e,t)=>{e.currentQuiz=t.payload,console.log("currentQuiz :>> ",t.payload)}},extraReducers:e=>{e.addCase(Sv.pending,t=>{t.isLoading=!0}).addCase(Sv.fulfilled,(t,r)=>{t.isLoading=!1,t.quizzes=r.payload.docs,t.currentPage=r.payload.currentPage,t.totalPages=r.payload.totalPages}).addCase(Sv.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload.message||"Something went wrong"}).addCase(Jb.pending,t=>{t.isLoading=!0}).addCase(Jb.fulfilled,(t,r)=>{t.isLoading=!1,t.quizzes.push(r.payload),t.quizzes.sort((n,i)=>n.createdAt<i.createdAt?1:-1)}).addCase(Jb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload.message||"Something went wrong"}).addCase(Zb.pending,t=>{t.isLoading=!0}).addCase(Zb.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.quizzes.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.quizzes[n]=r.payload)}).addCase(Zb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Xb.pending,t=>{t.isLoading=!0}).addCase(Xb.fulfilled,(t,r)=>{t.isLoading=!1,t.currentQuiz=r.payload}).addCase(Xb.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(ex.pending,t=>{t.isLoading=!0}).addCase(ex.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.quizzes.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.quizzes[n].isActive=!t.quizzes[n].isActive)}).addCase(ex.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(tx.pending,t=>{t.isQuizResultLoading=!0,t.error=null}).addCase(tx.fulfilled,(t,r)=>{t.isQuizResultLoading=!1,t.error=null,t.quizResult=r.payload.docs,t.qrCurrentPage=r.payload.currentPage,t.qrTotalPages=r.payload.totalPages}).addCase(tx.rejected,(t,r)=>{t.isQuizResultLoading=!1,t.error=r.payload.message||"Something went wrong"})}}),{setCurrentQuiz:eZ}=IU.actions,tZ=IU.reducer;function rZ({open:e,onOpenChange:t,editQuiz:r}){const{toast:n}=kc(),{isLoading:i}=Wr(l=>l.quiz),s=en(),o=_m({resolver:WS(GX),defaultValues:{title:"",description:"",startDate:new Date(new Date().setDate(new Date().getDate()+1)),endDate:new Date(new Date().setDate(new Date().getDate()+2)),duration:0,ageGroup:"",standard:"",subject:"",price:0,isActive:!0,questions:[],bonusPercent:0}});P.useEffect(()=>{r?(o.setValue("title",r.title),o.setValue("description",r.description),o.setValue("startDate",new Date(r.startDate)),o.setValue("endDate",new Date(r.endDate)),o.setValue("duration",r.duration),o.setValue("ageGroup",r.ageGroup),o.setValue("standard",r.standard),o.setValue("subject",r.subject),o.setValue("price",r.price),o.setValue("bonusPercent",r==null?void 0:r.bonusPercent),o.setValue("isActive",r.isActive),o.setValue("questions",r.questions)):o.reset()},[r,o]);const c=l=>{const h={...l,subject:l.subject===""?null:l.subject,standard:l.standard===""?null:l.standard};r?s(Zb({id:r._id,quizData:h})).then(p=>{p.type=="quiz/updateQuiz/fulfilled"&&(n({title:"Quiz Updated",description:"The quiz has been successfully updated."}),a(),t(!1))}).catch(p=>{}):s(Jb(h)).then(p=>{p.type=="quiz/createQuiz/fulfilled"&&(n({title:"Quiz Created",description:"The quiz has been successfully created."}),a(),t(!1))}).catch(p=>{})},a=()=>{o.clearErrors(),o.reset()};return d.jsx(ud,{open:e,onOpenChange:l=>{a(),t(l)},children:d.jsxs(Sl,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:l=>l.preventDefault(),children:[d.jsx(wl,{children:d.jsx(El,{children:"Add New Quiz"})}),d.jsx(Sm,{...o,children:d.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-6",children:[d.jsx(lX,{form:o}),d.jsx(XX,{form:o}),d.jsx(uX,{form:o}),d.jsx(_X,{form:o}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Ot,{type:"reset",variant:"outline",onClick:()=>{a(),t(!1)},children:"Cancel"}),d.jsx(Ot,{type:"submit",disabled:i,children:i?"Submitting ....":r?"Update Quiz":"Add Quiz"})]})]})})]})})}const nZ=({quizId:e})=>{const{quizResult:t,isQuizResultLoading:r,qrCurrentPage:n,qrTotalPages:i}=Wr(c=>c.quiz),s=en(),o=c=>{s(tx({quizId:e,page:c}))};return P.useEffect(()=>{o(1)},[]),d.jsxs("div",{className:"bg-white rounded-md border",children:[r?d.jsx("div",{className:"text-center",children:"Loading..."}):d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Participant Name"}),d.jsx(Qe,{children:"Participant Mobile"}),d.jsx(Qe,{children:"Score"}),d.jsx(Qe,{children:"Time Taken"}),d.jsx(Qe,{children:"Started At"}),d.jsx(Qe,{children:"Submitted At"})]})}),d.jsx(Do,{children:t.length==0?d.jsx(Tr,{children:d.jsx(Be,{colSpan:6,className:"text-center",children:"No Quiz Results Available."})}):t.map(c=>d.jsxs(Tr,{children:[d.jsx(Be,{children:c.userId.name}),d.jsx(Be,{children:c.userId.mobile}),d.jsx(Be,{children:c.score}),d.jsxs(Be,{children:[Math.floor(c.timeTaken/36e5)>0&&`${Math.floor(c.timeTaken/36e5)} hours `,Math.floor(c.timeTaken%36e5/6e4)," minutes"," ",(c.timeTaken%6e4/1e3).toFixed(0)," seconds"]}),d.jsx(Be,{children:c.startedAt?`${new Date(c.startedAt).toLocaleString()}`:"-"}),d.jsx(Be,{children:c.submittedAt?`${new Date(c.submittedAt).toLocaleString()}`:"-"})]},c._id))})]}),i>=1&&d.jsx(sa,{currentPage:n,totalPages:i,onPageChange:o})]})},iZ=()=>{const[e,t]=P.useState(""),{quizzes:r,isLoading:n,error:i,currentPage:s,totalPages:o}=Wr(y=>y.quiz),[c,a]=P.useState(!1),[l,h]=P.useState(""),p=en();P.useEffect(()=>{_(1)},[e]);const g=y=>{p(ex(y))},E=y=>{p(Xb(y._id))},_=y=>{p(Sv({page:y,search:e}))};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search quizzes by title",value:e,onChange:y=>{t(y.target.value)},className:"max-w-sm"})}),d.jsx("div",{className:"border rounded-lg bg-white",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Title"}),d.jsx(Qe,{children:"Start Date"}),d.jsx(Qe,{children:"End Date"}),d.jsx(Qe,{children:"Duration (mins)"}),d.jsx(Qe,{children:"Price (₹)"}),d.jsx(Qe,{children:"Refer Bonus"}),d.jsx(Qe,{children:"Status"}),d.jsx(Qe,{children:"Actions"})]})}),d.jsx(Do,{children:Array.isArray(r)&&r.map((y,w)=>d.jsxs(Tr,{children:[d.jsx(Be,{children:y.title}),d.jsx(Be,{children:new Date(y.startDate).toLocaleDateString()}),d.jsx(Be,{children:new Date(y.endDate).toLocaleDateString()}),d.jsx(Be,{children:y.duration}),d.jsx(Be,{children:y.price?`₹${y.price}`:"Free"}),d.jsx(Be,{children:y==null?void 0:y.bonusPercent}),d.jsxs(Be,{children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${y.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.isActive?"Active":"InActive"}),new Date>new Date(y.endDate)?d.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-80 ms-2",children:"Complete"}):new Date>=new Date(y.startDate)&&new Date<=new Date(y.endDate)?d.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800 ms-2",children:"Running"}):d.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800 ms-2",children:"Upcoming"})]}),d.jsxs(Be,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(y),children:d.jsx(c6,{className:"h-4 w-4"})}),d.jsx(Ot,{variant:"ghost",size:"icon",className:y.isActive?"text-red-500":"text-green-500",onClick:()=>g(y._id),children:y.isActive?d.jsx(cd,{className:"h-4 w-4"}):d.jsx(by,{className:"h-4 w-4"})})]}),new Date>=new Date(y.startDate)&&d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>{a(!0),h(y._id)},children:d.jsx(Yz,{className:"h-4 w-4"})})]})]},y._id))})]})}),o>=1&&d.jsx(sa,{currentPage:s,totalPages:o,onPageChange:_}),d.jsx(ud,{open:c,onOpenChange:a,children:d.jsxs(Sl,{className:"lg:max-w-[1300px] max-h-[90vh] overflow-y-auto",children:[d.jsxs(wl,{children:[d.jsx(El,{children:"Quiz Results"}),d.jsx(XJ,{})]}),d.jsx(nZ,{quizId:l})]})})]})},sZ=()=>{const[e,t]=P.useState(!1),r=en(),{currentQuiz:n}=Wr(s=>s.quiz);P.useEffect(()=>{r(Sv({page:1,search:""}))},[]);const i=()=>{r(eZ(null))};return d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Quiz Management"}),d.jsxs(Ot,{onClick:()=>t(!0),children:[d.jsx(Ju,{className:"h-4 w-4 mr-2"}),"Add Quiz"]})]}),d.jsx(iZ,{}),d.jsx(rZ,{open:e||!!n,onOpenChange:s=>{i(),t(s)},editQuiz:n})]})},oZ={payments:[],isLoading:!1,error:null,totalPages:1,currentPage:1},rx=wt("fetchAllPayment",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(NM,{params:{page:e,search:t}})).data}catch(n){return r(n.response.data)}}),aZ=io({name:"payment",initialState:oZ,reducers:{},extraReducers:e=>{e.addCase(rx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(rx.fulfilled,(t,r)=>{t.isLoading=!1,t.payments=r.payload.docs,t.currentPage=r.payload.currentPage,t.totalPages=r.payload.totalPages}).addCase(rx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),cZ=aZ.reducer,lZ=()=>{const[e,t]=P.useState(""),{payments:r,currentPage:n,totalPages:i,isLoading:s}=Wr(a=>a.payment),o=en(),c=a=>{o(rx({page:a,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&c(1)},[e]),d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("div",{className:"space-y-1",children:d.jsx("h1",{className:"text-2xl font-bold",children:"Payment Records"})})}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search user by mobile",value:e,onChange:a=>{t(a.target.value)},className:"max-w-sm"})}),d.jsx("div",{className:"bg-white rounded-lg shadow",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Title"}),d.jsx(Qe,{children:"Label"}),d.jsx(Qe,{children:"Mobile"}),d.jsx(Qe,{children:"Amount"}),d.jsx(Qe,{children:"Purchase Date"}),d.jsx(Qe,{children:"Status"})]})}),d.jsx(Do,{children:r.map(a=>{var l,h;return d.jsxs(Tr,{children:[d.jsx(Be,{children:a.quizId?a.quizId.title:(l=a==null?void 0:a.courseId)==null?void 0:l.title}),d.jsx(Be,{children:a.quizId?"Quiz":"Course"}),d.jsx(Be,{children:(h=a==null?void 0:a.userId)==null?void 0:h.mobile}),d.jsxs(Be,{children:["₹",(a==null?void 0:a.amount)/100]}),d.jsx(Be,{children:d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{children:new Date(a.paymentDate).toLocaleDateString()}),d.jsx("span",{children:new Date(a.paymentDate).toLocaleTimeString()})]})}),d.jsx(Be,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":a.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:a==null?void 0:a.paymentStatus})})]},a._id)})})]})}),i>=1&&d.jsx(sa,{currentPage:n,totalPages:i,onPageChange:c})]})},Wu=P.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:it("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Wu.displayName="Card";const Hu=P.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:it("flex flex-col space-y-1.5 p-6",e),...t}));Hu.displayName="CardHeader";const Gu=P.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:it("text-2xl font-semibold leading-none tracking-tight",e),...t}));Gu.displayName="CardTitle";const uZ=P.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:it("text-sm text-muted-foreground",e),...t}));uZ.displayName="CardDescription";const qu=P.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:it("p-6 pt-0",e),...t}));qu.displayName="CardContent";const dZ=P.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:it("flex items-center p-6 pt-0",e),...t}));dZ.displayName="CardFooter";const fZ=()=>{const{totalUser:e,activeQuiz:t,payment:r}=Wr(n=>n.auth);return d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Wu,{children:[d.jsxs(Hu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Gu,{className:"text-sm font-medium",children:"Total Revenue"}),d.jsx(vM,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(qu,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["₹",r/100]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue from quiz and course purchases"})]})]}),d.jsxs(Wu,{children:[d.jsxs(Hu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Gu,{className:"text-sm font-medium",children:"Total Users"}),d.jsx(xM,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(qu,{children:[d.jsx("div",{className:"text-2xl font-bold",children:e}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),d.jsxs(Wu,{children:[d.jsxs(Hu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Gu,{className:"text-sm font-medium",children:"Active Quizzes"}),d.jsx(CT,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(qu,{children:[d.jsx("div",{className:"text-2xl font-bold",children:t}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Published quizzes"})]})]})]})},hZ={lessons:[],isLoading:!1,error:null,totalPages:1,currentPage:1},nx=wt("lesson/fetchlesson",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(R8,{params:{page:e,search:t}})).data}catch(n){return r(n)}}),wv=wt("lesson/addlesson",async({courseId:e,lessons:t},{rejectWithValue:r})=>{try{return(await gt.post(T8,{courseId:e,lessons:t})).data}catch(n){return r(n)}}),Ev=wt("lesson/updatelesson",async({id:e,courseData:t},{rejectWithValue:r})=>{try{return(await gt.put(`${k8}/${e}`,t)).data}catch(n){return r(n)}}),ix=wt("lesson/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await gt.post(O8,{lessonId:e})).data}catch(r){return t(r)}}),pZ=io({name:"lesson",initialState:hZ,reducers:{},extraReducers:e=>{e.addCase(nx.pending,t=>{t.isLoading=!0}).addCase(nx.fulfilled,(t,r)=>{t.isLoading=!1,t.lessons=r.payload.docs,t.totalPages=r.payload.totalPages,t.currentPage=r.payload.currentPage}).addCase(nx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message||"Failed to fetch courses"}).addCase(wv.pending,(t,r)=>{t.isLoading=!0}).addCase(wv.fulfilled,(t,r)=>{t.isLoading=!1,t.lessons.push(...r.payload),t.lessons.sort((n,i)=>n.createdAt<i.createdAt?1:-1)}).addCase(wv.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(Ev.pending,(t,r)=>{t.isLoading=!0}).addCase(Ev.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(Ev.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.lessons.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.lessons[n]=r.payload)}).addCase(ix.pending,(t,r)=>{}).addCase(ix.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(ix.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.lessons.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.lessons[n].isActive=!t.lessons[n].isActive)})}}),mZ=pZ.reducer;function lR(e,[t,r]){return Math.min(r,Math.max(t,e))}var gZ=[" ","Enter","ArrowUp","ArrowDown"],vZ=[" ","Enter"],Ly="Select",[GS,qS,yZ]=hS(Ly),[wm,zae]=no(Ly,[yZ,xm]),KS=xm(),[bZ,dd]=wm(Ly),[xZ,_Z]=wm(Ly),jU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:c,onValueChange:a,dir:l,name:h,autoComplete:p,disabled:g,required:E,form:_}=e,y=KS(t),[w,R]=P.useState(null),[S,C]=P.useState(null),[A,L]=P.useState(!1),U=wy(l),[B=!1,z]=pl({prop:n,defaultProp:i,onChange:s}),[G,J]=pl({prop:o,defaultProp:c,onChange:a}),X=P.useRef(null),q=w?_||!!w.closest("form"):!0,[ee,ce]=P.useState(new Set),xe=Array.from(ee).map(_e=>_e.props.value).join(";");return d.jsx(Yk,{...y,children:d.jsxs(bZ,{required:E,scope:t,trigger:w,onTriggerChange:R,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:L,contentId:yc(),value:G,onValueChange:J,open:B,onOpenChange:z,dir:U,triggerPointerDownPosRef:X,disabled:g,children:[d.jsx(GS.Provider,{scope:t,children:d.jsx(xZ,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(_e=>{ce(ve=>new Set(ve).add(_e))},[]),onNativeOptionRemove:P.useCallback(_e=>{ce(ve=>{const Y=new Set(ve);return Y.delete(_e),Y})},[]),children:r})}),q?d.jsxs(s4,{"aria-hidden":!0,required:E,tabIndex:-1,name:h,autoComplete:p,value:G,onChange:_e=>J(_e.target.value),disabled:g,form:_,children:[G===void 0?d.jsx("option",{value:""}):null,Array.from(ee)]},xe):null]})})};jU.displayName=Ly;var DU="SelectTrigger",MU=P.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=KS(r),o=dd(DU,r),c=o.disabled||n,a=yr(t,o.onTriggerChange),l=qS(r),h=P.useRef("touch"),[p,g,E]=o4(y=>{const w=l().filter(C=>!C.disabled),R=w.find(C=>C.value===o.value),S=a4(w,y,R);S!==void 0&&o.onValueChange(S.value)}),_=y=>{c||(o.onOpenChange(!0),E()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(IS,{asChild:!0,...s,children:d.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":i4(o.value)?"":void 0,...i,ref:a,onClick:qe(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&_(y)}),onPointerDown:qe(i.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(_(y),y.preventDefault())}),onKeyDown:qe(i.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(w&&y.key===" ")&&gZ.includes(y.key)&&(_(),y.preventDefault())})})})});MU.displayName=DU;var LU="SelectValue",FU=P.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...c}=e,a=dd(LU,r),{onValueNodeHasChildrenChange:l}=a,h=s!==void 0,p=yr(t,a.onValueNodeChange);return Yi(()=>{l(h)},[l,h]),d.jsx(Pt.span,{...c,ref:p,style:{pointerEvents:"none"},children:i4(a.value)?d.jsx(d.Fragment,{children:o}):s})});FU.displayName=LU;var SZ="SelectIcon",UU=P.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return d.jsx(Pt.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});UU.displayName=SZ;var wZ="SelectPortal",BU=e=>d.jsx(pm,{asChild:!0,...e});BU.displayName=wZ;var Hf="SelectContent",$U=P.forwardRef((e,t)=>{const r=dd(Hf,e.__scopeSelect),[n,i]=P.useState();if(Yi(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Jf.createPortal(d.jsx(VU,{scope:e.__scopeSelect,children:d.jsx(GS.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),s):null}return d.jsx(zU,{...e,ref:t})});$U.displayName=Hf;var Ea=10,[VU,fd]=wm(Hf),EZ="SelectContentImpl",zU=P.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:c,sideOffset:a,align:l,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:E,sticky:_,hideWhenDetached:y,avoidCollisions:w,...R}=e,S=dd(Hf,r),[C,A]=P.useState(null),[L,U]=P.useState(null),B=yr(t,Ke=>A(Ke)),[z,G]=P.useState(null),[J,X]=P.useState(null),q=qS(r),[ee,ce]=P.useState(!1),xe=P.useRef(!1);P.useEffect(()=>{if(C)return MS(C)},[C]),OS();const _e=P.useCallback(Ke=>{const[lt,...Mt]=q().map(Wt=>Wt.ref.current),[Kt]=Mt.slice(-1),Lt=document.activeElement;for(const Wt of Ke)if(Wt===Lt||(Wt==null||Wt.scrollIntoView({block:"nearest"}),Wt===lt&&L&&(L.scrollTop=0),Wt===Kt&&L&&(L.scrollTop=L.scrollHeight),Wt==null||Wt.focus(),document.activeElement!==Lt))return},[q,L]),ve=P.useCallback(()=>_e([z,C]),[_e,z,C]);P.useEffect(()=>{ee&&ve()},[ee,ve]);const{onOpenChange:Y,triggerPointerDownPosRef:Q}=S;P.useEffect(()=>{if(C){let Ke={x:0,y:0};const lt=Kt=>{var Lt,Wt;Ke={x:Math.abs(Math.round(Kt.pageX)-(((Lt=Q.current)==null?void 0:Lt.x)??0)),y:Math.abs(Math.round(Kt.pageY)-(((Wt=Q.current)==null?void 0:Wt.y)??0))}},Mt=Kt=>{Ke.x<=10&&Ke.y<=10?Kt.preventDefault():C.contains(Kt.target)||Y(!1),document.removeEventListener("pointermove",lt),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",lt),document.addEventListener("pointerup",Mt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",lt),document.removeEventListener("pointerup",Mt,{capture:!0})}}},[C,Y,Q]),P.useEffect(()=>{const Ke=()=>Y(!1);return window.addEventListener("blur",Ke),window.addEventListener("resize",Ke),()=>{window.removeEventListener("blur",Ke),window.removeEventListener("resize",Ke)}},[Y]);const[re,fe]=o4(Ke=>{const lt=q().filter(Lt=>!Lt.disabled),Mt=lt.find(Lt=>Lt.ref.current===document.activeElement),Kt=a4(lt,Ke,Mt);Kt&&setTimeout(()=>Kt.ref.current.focus())}),Te=P.useCallback((Ke,lt,Mt)=>{const Kt=!xe.current&&!Mt;(S.value!==void 0&&S.value===lt||Kt)&&(G(Ke),Kt&&(xe.current=!0))},[S.value]),He=P.useCallback(()=>C==null?void 0:C.focus(),[C]),Le=P.useCallback((Ke,lt,Mt)=>{const Kt=!xe.current&&!Mt;(S.value!==void 0&&S.value===lt||Kt)&&X(Ke)},[S.value]),xt=n==="popper"?uR:WU,zt=xt===uR?{side:c,sideOffset:a,align:l,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:E,sticky:_,hideWhenDetached:y,avoidCollisions:w}:{};return d.jsx(VU,{scope:r,content:C,viewport:L,onViewportChange:U,itemRefCallback:Te,selectedItem:z,onItemLeave:He,itemTextRefCallback:Le,focusSelectedItem:ve,selectedItemText:J,position:n,isPositioned:ee,searchRef:re,children:d.jsx(Ty,{as:Sc,allowPinchZoom:!0,children:d.jsx(Ey,{asChild:!0,trapped:S.open,onMountAutoFocus:Ke=>{Ke.preventDefault()},onUnmountAutoFocus:qe(i,Ke=>{var lt;(lt=S.trigger)==null||lt.focus({preventScroll:!0}),Ke.preventDefault()}),children:d.jsx(hm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Ke=>Ke.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:d.jsx(xt,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Ke=>Ke.preventDefault(),...R,...zt,onPlaced:()=>ce(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:qe(R.onKeyDown,Ke=>{const lt=Ke.ctrlKey||Ke.altKey||Ke.metaKey;if(Ke.key==="Tab"&&Ke.preventDefault(),!lt&&Ke.key.length===1&&fe(Ke.key),["ArrowUp","ArrowDown","Home","End"].includes(Ke.key)){let Kt=q().filter(Lt=>!Lt.disabled).map(Lt=>Lt.ref.current);if(["ArrowUp","End"].includes(Ke.key)&&(Kt=Kt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ke.key)){const Lt=Ke.target,Wt=Kt.indexOf(Lt);Kt=Kt.slice(Wt+1)}setTimeout(()=>_e(Kt)),Ke.preventDefault()}})})})})})})});zU.displayName=EZ;var CZ="SelectItemAlignedPosition",WU=P.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=dd(Hf,r),o=fd(Hf,r),[c,a]=P.useState(null),[l,h]=P.useState(null),p=yr(t,B=>h(B)),g=qS(r),E=P.useRef(!1),_=P.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:R,focusSelectedItem:S}=o,C=P.useCallback(()=>{if(s.trigger&&s.valueNode&&c&&l&&y&&w&&R){const B=s.trigger.getBoundingClientRect(),z=l.getBoundingClientRect(),G=s.valueNode.getBoundingClientRect(),J=R.getBoundingClientRect();if(s.dir!=="rtl"){const Lt=J.left-z.left,Wt=G.left-Lt,Mr=B.left-Wt,qr=B.width+Mr,ut=Math.max(qr,z.width),In=window.innerWidth-Ea,Mi=lR(Wt,[Ea,Math.max(Ea,In-ut)]);c.style.minWidth=qr+"px",c.style.left=Mi+"px"}else{const Lt=z.right-J.right,Wt=window.innerWidth-G.right-Lt,Mr=window.innerWidth-B.right-Wt,qr=B.width+Mr,ut=Math.max(qr,z.width),In=window.innerWidth-Ea,Mi=lR(Wt,[Ea,Math.max(Ea,In-ut)]);c.style.minWidth=qr+"px",c.style.right=Mi+"px"}const X=g(),q=window.innerHeight-Ea*2,ee=y.scrollHeight,ce=window.getComputedStyle(l),xe=parseInt(ce.borderTopWidth,10),_e=parseInt(ce.paddingTop,10),ve=parseInt(ce.borderBottomWidth,10),Y=parseInt(ce.paddingBottom,10),Q=xe+_e+ee+Y+ve,re=Math.min(w.offsetHeight*5,Q),fe=window.getComputedStyle(y),Te=parseInt(fe.paddingTop,10),He=parseInt(fe.paddingBottom,10),Le=B.top+B.height/2-Ea,xt=q-Le,zt=w.offsetHeight/2,Ke=w.offsetTop+zt,lt=xe+_e+Ke,Mt=Q-lt;if(lt<=Le){const Lt=X.length>0&&w===X[X.length-1].ref.current;c.style.bottom="0px";const Wt=l.clientHeight-y.offsetTop-y.offsetHeight,Mr=Math.max(xt,zt+(Lt?He:0)+Wt+ve),qr=lt+Mr;c.style.height=qr+"px"}else{const Lt=X.length>0&&w===X[0].ref.current;c.style.top="0px";const Mr=Math.max(Le,xe+y.offsetTop+(Lt?Te:0)+zt)+Mt;c.style.height=Mr+"px",y.scrollTop=lt-Le+y.offsetTop}c.style.margin=`${Ea}px 0`,c.style.minHeight=re+"px",c.style.maxHeight=q+"px",n==null||n(),requestAnimationFrame(()=>E.current=!0)}},[g,s.trigger,s.valueNode,c,l,y,w,R,s.dir,n]);Yi(()=>C(),[C]);const[A,L]=P.useState();Yi(()=>{l&&L(window.getComputedStyle(l).zIndex)},[l]);const U=P.useCallback(B=>{B&&_.current===!0&&(C(),S==null||S(),_.current=!1)},[C,S]);return d.jsx(RZ,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:E,onScrollButtonChange:U,children:d.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(Pt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WU.displayName=CZ;var TZ="SelectPopperPosition",uR=P.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ea,...s}=e,o=KS(r);return d.jsx(Qk,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uR.displayName=TZ;var[RZ,L1]=wm(Hf,{}),dR="SelectViewport",HU=P.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=fd(dR,r),o=L1(dR,r),c=yr(t,s.onViewportChange),a=P.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(GS.Slot,{scope:r,children:d.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,l=>{const h=l.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const E=Math.abs(a.current-h.scrollTop);if(E>0){const _=window.innerHeight-Ea*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),R=Math.max(y,w);if(R<_){const S=R+E,C=Math.min(_,S),A=S-C;p.style.height=C+"px",p.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}a.current=h.scrollTop})})})]})});HU.displayName=dR;var GU="SelectGroup",[kZ,OZ]=wm(GU),PZ=P.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=yc();return d.jsx(kZ,{scope:r,id:i,children:d.jsx(Pt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});PZ.displayName=GU;var qU="SelectLabel",KU=P.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=OZ(qU,r);return d.jsx(Pt.div,{id:i.id,...n,ref:t})});KU.displayName=qU;var F_="SelectItem",[NZ,YU]=wm(F_),QU=P.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,c=dd(F_,r),a=fd(F_,r),l=c.value===n,[h,p]=P.useState(s??""),[g,E]=P.useState(!1),_=yr(t,S=>{var C;return(C=a.itemRefCallback)==null?void 0:C.call(a,S,n,i)}),y=yc(),w=P.useRef("touch"),R=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(NZ,{scope:r,value:n,disabled:i,textId:y,isSelected:l,onItemTextChange:P.useCallback(S=>{p(C=>C||((S==null?void 0:S.textContent)??"").trim())},[]),children:d.jsx(GS.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:d.jsx(Pt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":l&&g,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:qe(o.onFocus,()=>E(!0)),onBlur:qe(o.onBlur,()=>E(!1)),onClick:qe(o.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:qe(o.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:qe(o.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:qe(o.onPointerMove,S=>{var C;w.current=S.pointerType,i?(C=a.onItemLeave)==null||C.call(a):w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(o.onPointerLeave,S=>{var C;S.currentTarget===document.activeElement&&((C=a.onItemLeave)==null||C.call(a))}),onKeyDown:qe(o.onKeyDown,S=>{var A;((A=a.searchRef)==null?void 0:A.current)!==""&&S.key===" "||(vZ.includes(S.key)&&R(),S.key===" "&&S.preventDefault())})})})})});QU.displayName=F_;var av="SelectItemText",JU=P.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=dd(av,r),c=fd(av,r),a=YU(av,r),l=_Z(av,r),[h,p]=P.useState(null),g=yr(t,R=>p(R),a.onItemTextChange,R=>{var S;return(S=c.itemTextRefCallback)==null?void 0:S.call(c,R,a.value,a.disabled)}),E=h==null?void 0:h.textContent,_=P.useMemo(()=>d.jsx("option",{value:a.value,disabled:a.disabled,children:E},a.value),[a.disabled,a.value,E]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=l;return Yi(()=>(y(_),()=>w(_)),[y,w,_]),d.jsxs(d.Fragment,{children:[d.jsx(Pt.span,{id:a.textId,...s,ref:g}),a.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jf.createPortal(s.children,o.valueNode):null]})});JU.displayName=av;var XU="SelectItemIndicator",ZU=P.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return YU(XU,r).isSelected?d.jsx(Pt.span,{"aria-hidden":!0,...n,ref:t}):null});ZU.displayName=XU;var fR="SelectScrollUpButton",e4=P.forwardRef((e,t)=>{const r=fd(fR,e.__scopeSelect),n=L1(fR,e.__scopeSelect),[i,s]=P.useState(!1),o=yr(t,n.onScrollButtonChange);return Yi(()=>{if(r.viewport&&r.isPositioned){let c=function(){const l=a.scrollTop>0;s(l)};const a=r.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?d.jsx(r4,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=r;c&&a&&(c.scrollTop=c.scrollTop-a.offsetHeight)}}):null});e4.displayName=fR;var hR="SelectScrollDownButton",t4=P.forwardRef((e,t)=>{const r=fd(hR,e.__scopeSelect),n=L1(hR,e.__scopeSelect),[i,s]=P.useState(!1),o=yr(t,n.onScrollButtonChange);return Yi(()=>{if(r.viewport&&r.isPositioned){let c=function(){const l=a.scrollHeight-a.clientHeight,h=Math.ceil(a.scrollTop)<l;s(h)};const a=r.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?d.jsx(r4,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:a}=r;c&&a&&(c.scrollTop=c.scrollTop+a.offsetHeight)}}):null});t4.displayName=hR;var r4=P.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=fd("SelectScrollButton",r),o=P.useRef(null),c=qS(r),a=P.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return P.useEffect(()=>()=>a(),[a]),Yi(()=>{var h;const l=c().find(p=>p.ref.current===document.activeElement);(h=l==null?void 0:l.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),d.jsx(Pt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:qe(i.onPointerMove,()=>{var l;(l=s.onItemLeave)==null||l.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{a()})})}),AZ="SelectSeparator",n4=P.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(Pt.div,{"aria-hidden":!0,...n,ref:t})});n4.displayName=AZ;var pR="SelectArrow",IZ=P.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=KS(r),s=dd(pR,r),o=fd(pR,r);return s.open&&o.position==="popper"?d.jsx(Jk,{...i,...n,ref:t}):null});IZ.displayName=pR;function i4(e){return e===""||e===void 0}var s4=P.forwardRef((e,t)=>{const{value:r,...n}=e,i=P.useRef(null),s=yr(t,i),o=I1(r);return P.useEffect(()=>{const c=i.current,a=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(a,"value").set;if(o!==r&&h){const p=new Event("change",{bubbles:!0});h.call(c,r),c.dispatchEvent(p)}},[o,r]),d.jsx(pS,{asChild:!0,children:d.jsx("select",{...n,ref:s,defaultValue:r})})});s4.displayName="BubbleSelect";function o4(e){const t=$n(e),r=P.useRef(""),n=P.useRef(0),i=P.useCallback(o=>{const c=r.current+o;t(c),function a(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>a(""),1e3))}(c)},[t]),s=P.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function a4(e,t,r){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=jZ(e,Math.max(s,0));i.length===1&&(o=o.filter(l=>l!==r));const a=o.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==r?a:void 0}function jZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var DZ=jU,c4=MU,MZ=FU,LZ=UU,FZ=BU,l4=$U,UZ=HU,u4=KU,d4=QU,BZ=JU,$Z=ZU,f4=e4,h4=t4,p4=n4;const yf=DZ,bf=MZ,Ou=P.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(c4,{ref:n,className:it("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(LZ,{asChild:!0,children:d.jsx(yS,{className:"h-4 w-4 opacity-50"})})]}));Ou.displayName=c4.displayName;const m4=P.forwardRef(({className:e,...t},r)=>d.jsx(f4,{ref:r,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(Jz,{className:"h-4 w-4"})}));m4.displayName=f4.displayName;const g4=P.forwardRef(({className:e,...t},r)=>d.jsx(h4,{ref:r,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(yS,{className:"h-4 w-4"})}));g4.displayName=h4.displayName;const Pu=P.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>d.jsx(FZ,{children:d.jsxs(l4,{ref:i,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(m4,{}),d.jsx(UZ,{className:it("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(g4,{})]})}));Pu.displayName=l4.displayName;const VZ=P.forwardRef(({className:e,...t},r)=>d.jsx(u4,{ref:r,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));VZ.displayName=u4.displayName;const Ys=P.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(d4,{ref:n,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx($Z,{children:d.jsx(by,{className:"h-4 w-4"})})}),d.jsx(BZ,{children:t})]}));Ys.displayName=d4.displayName;const zZ=P.forwardRef(({className:e,...t},r)=>d.jsx(p4,{ref:r,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));zZ.displayName=p4.displayName;const WZ=vS("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v4({className:e,variant:t,...r}){return d.jsx("div",{className:it(WZ({variant:t}),e),...r})}function HZ(e,t){return P.useReducer((r,n)=>t[r][n]??r,e)}var F1="ScrollArea",[y4,Wae]=no(F1),[GZ,oa]=y4(F1),b4=P.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=e,[c,a]=P.useState(null),[l,h]=P.useState(null),[p,g]=P.useState(null),[E,_]=P.useState(null),[y,w]=P.useState(null),[R,S]=P.useState(0),[C,A]=P.useState(0),[L,U]=P.useState(!1),[B,z]=P.useState(!1),G=yr(t,X=>a(X)),J=wy(i);return d.jsx(GZ,{scope:r,type:n,dir:J,scrollHideDelay:s,scrollArea:c,viewport:l,onViewportChange:h,content:p,onContentChange:g,scrollbarX:E,onScrollbarXChange:_,scrollbarXEnabled:L,onScrollbarXEnabledChange:U,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:B,onScrollbarYEnabledChange:z,onCornerWidthChange:S,onCornerHeightChange:A,children:d.jsx(Pt.div,{dir:J,...o,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});b4.displayName=F1;var x4="ScrollAreaViewport",_4=P.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=e,o=oa(x4,r),c=P.useRef(null),a=yr(t,c,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...s,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_4.displayName=x4;var Pc="ScrollAreaScrollbar",U1=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=oa(Pc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,c=e.orientation==="horizontal";return P.useEffect(()=>(c?s(!0):o(!0),()=>{c?s(!1):o(!1)}),[c,s,o]),i.type==="hover"?d.jsx(qZ,{...n,ref:t,forceMount:r}):i.type==="scroll"?d.jsx(KZ,{...n,ref:t,forceMount:r}):i.type==="auto"?d.jsx(S4,{...n,ref:t,forceMount:r}):i.type==="always"?d.jsx(B1,{...n,ref:t}):null});U1.displayName=Pc;var qZ=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=oa(Pc,e.__scopeScrollArea),[s,o]=P.useState(!1);return P.useEffect(()=>{const c=i.scrollArea;let a=0;if(c){const l=()=>{window.clearTimeout(a),o(!0)},h=()=>{a=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",l),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(a),c.removeEventListener("pointerenter",l),c.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(us,{present:r||s,children:d.jsx(S4,{"data-state":s?"visible":"hidden",...n,ref:t})})}),KZ=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=oa(Pc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=QS(()=>a("SCROLL_END"),100),[c,a]=HZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(c==="idle"){const l=window.setTimeout(()=>a("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[c,i.scrollHideDelay,a]),P.useEffect(()=>{const l=i.viewport,h=s?"scrollLeft":"scrollTop";if(l){let p=l[h];const g=()=>{const E=l[h];p!==E&&(a("SCROLL"),o()),p=E};return l.addEventListener("scroll",g),()=>l.removeEventListener("scroll",g)}},[i.viewport,s,a,o]),d.jsx(us,{present:r||c!=="hidden",children:d.jsx(B1,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:qe(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:qe(e.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),S4=P.forwardRef((e,t)=>{const r=oa(Pc,e.__scopeScrollArea),{forceMount:n,...i}=e,[s,o]=P.useState(!1),c=e.orientation==="horizontal",a=QS(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?l:h)}},10);return im(r.viewport,a),im(r.content,a),d.jsx(us,{present:n||s,children:d.jsx(B1,{"data-state":s?"visible":"hidden",...i,ref:t})})}),B1=P.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=oa(Pc,e.__scopeScrollArea),s=P.useRef(null),o=P.useRef(0),[c,a]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=R4(c.viewport,c.content),h={...n,sizes:c,onSizesChange:a,hasThumb:l>0&&l<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,E){return eee(g,o.current,c,E)}return r==="horizontal"?d.jsx(YZ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,E=uA(g,c,i.dir);s.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=p(g,i.dir))}}):r==="vertical"?d.jsx(QZ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,E=uA(g,c);s.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=p(g))}}):null}),YZ=P.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=oa(Pc,e.__scopeScrollArea),[o,c]=P.useState(),a=P.useRef(null),l=yr(t,a,s.onScrollbarXChange);return P.useEffect(()=>{a.current&&c(getComputedStyle(a.current))},[a]),d.jsx(E4,{"data-orientation":"horizontal",...i,ref:l,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":YS(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),O4(g,p)&&h.preventDefault()}},onResize:()=>{a.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:B_(o.paddingLeft),paddingEnd:B_(o.paddingRight)}})}})}),QZ=P.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=oa(Pc,e.__scopeScrollArea),[o,c]=P.useState(),a=P.useRef(null),l=yr(t,a,s.onScrollbarYChange);return P.useEffect(()=>{a.current&&c(getComputedStyle(a.current))},[a]),d.jsx(E4,{"data-orientation":"vertical",...i,ref:l,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":YS(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),O4(g,p)&&h.preventDefault()}},onResize:()=>{a.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:B_(o.paddingTop),paddingEnd:B_(o.paddingBottom)}})}})}),[JZ,w4]=y4(Pc),E4=P.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:h,onResize:p,...g}=e,E=oa(Pc,r),[_,y]=P.useState(null),w=yr(t,G=>y(G)),R=P.useRef(null),S=P.useRef(""),C=E.viewport,A=n.content-n.viewport,L=$n(h),U=$n(a),B=QS(p,10);function z(G){if(R.current){const J=G.clientX-R.current.left,X=G.clientY-R.current.top;l({x:J,y:X})}}return P.useEffect(()=>{const G=J=>{const X=J.target;(_==null?void 0:_.contains(X))&&L(J,A)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[C,_,A,L]),P.useEffect(U,[n,U]),im(_,B),im(E.content,B),d.jsx(JZ,{scope:r,scrollbar:_,hasThumb:i,onThumbChange:$n(s),onThumbPointerUp:$n(o),onThumbPositionChange:U,onThumbPointerDown:$n(c),children:d.jsx(Pt.div,{...g,ref:w,style:{position:"absolute",...g.style},onPointerDown:qe(e.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),R.current=_.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),z(G))}),onPointerMove:qe(e.onPointerMove,z),onPointerUp:qe(e.onPointerUp,G=>{const J=G.target;J.hasPointerCapture(G.pointerId)&&J.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=S.current,E.viewport&&(E.viewport.style.scrollBehavior=""),R.current=null})})})}),U_="ScrollAreaThumb",C4=P.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=w4(U_,e.__scopeScrollArea);return d.jsx(us,{present:r||i.hasThumb,children:d.jsx(XZ,{ref:t,...n})})}),XZ=P.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,s=oa(U_,r),o=w4(U_,r),{onThumbPositionChange:c}=o,a=yr(t,p=>o.onThumbChange(p)),l=P.useRef(void 0),h=QS(()=>{l.current&&(l.current(),l.current=void 0)},100);return P.useEffect(()=>{const p=s.viewport;if(p){const g=()=>{if(h(),!l.current){const E=tee(p,c);l.current=E,c()}};return c(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[s.viewport,h,c]),d.jsx(Pt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:qe(e.onPointerDownCapture,p=>{const E=p.target.getBoundingClientRect(),_=p.clientX-E.left,y=p.clientY-E.top;o.onThumbPointerDown({x:_,y})}),onPointerUp:qe(e.onPointerUp,o.onThumbPointerUp)})});C4.displayName=U_;var $1="ScrollAreaCorner",T4=P.forwardRef((e,t)=>{const r=oa($1,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(ZZ,{...e,ref:t}):null});T4.displayName=$1;var ZZ=P.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=oa($1,r),[s,o]=P.useState(0),[c,a]=P.useState(0),l=!!(s&&c);return im(i.scrollbarX,()=>{var p;const h=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(h),a(h)}),im(i.scrollbarY,()=>{var p;const h=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),l?d.jsx(Pt.div,{...n,ref:t,style:{width:s,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function B_(e){return e?parseInt(e,10):0}function R4(e,t){const r=e/t;return isNaN(r)?0:r}function YS(e){const t=R4(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function eee(e,t,r,n="ltr"){const i=YS(r),s=i/2,o=t||s,c=i-o,a=r.scrollbar.paddingStart+o,l=r.scrollbar.size-r.scrollbar.paddingEnd-c,h=r.content-r.viewport,p=n==="ltr"?[0,h]:[h*-1,0];return k4([a,l],p)(e)}function uA(e,t,r="ltr"){const n=YS(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,c=s-n,a=r==="ltr"?[0,o]:[o*-1,0],l=lR(e,a);return k4([0,o],[0,c])(l)}function k4(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function O4(e,t){return e>0&&e<t}var tee=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,c=r.top!==s.top;(o||c)&&t(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function QS(e,t){const r=$n(e),n=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),P.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function im(e,t){const r=$n(t);Yi(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var P4=b4,ree=_4,nee=T4;const N4=P.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(P4,{ref:n,className:it("relative overflow-hidden",e),...r,children:[d.jsx(ree,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(A4,{}),d.jsx(nee,{})]}));N4.displayName=P4.displayName;const A4=P.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(U1,{ref:n,orientation:t,className:it("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(C4,{className:"relative flex-1 rounded-full bg-border"})}));A4.displayName=U1.displayName;const iee=({lessons:e,currentIndex:t,setCurrentIndex:r,removeLesson:n})=>d.jsx(N4,{className:"h-[60px] w-full ",children:d.jsx("div",{className:"flex gap-2 p-1  flex-wrap",children:e.map((i,s)=>d.jsxs(v4,{variant:t===s?"default":"secondary",className:"cursor-pointer whitespace-nowrap flex items-center ",onClick:()=>r(s),children:[i.title||`Lesson ${s+1}`,e.length>1&&d.jsx(cd,{className:"h-3 w-3 ml-1 inline-block",onClick:o=>{o.stopPropagation(),n(s)}})]},s))})});var V1="Switch",[see,Hae]=no(V1),[oee,aee]=see(V1),I4=P.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:c,value:a="on",onCheckedChange:l,form:h,...p}=e,[g,E]=P.useState(null),_=yr(t,C=>E(C)),y=P.useRef(!1),w=g?h||!!g.closest("form"):!0,[R=!1,S]=pl({prop:i,defaultProp:s,onChange:l});return d.jsxs(oee,{scope:r,checked:R,disabled:c,children:[d.jsx(Pt.button,{type:"button",role:"switch","aria-checked":R,"aria-required":o,"data-state":M4(R),"data-disabled":c?"":void 0,disabled:c,value:a,...p,ref:_,onClick:qe(e.onClick,C=>{S(A=>!A),w&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),w&&d.jsx(cee,{control:g,bubbles:!y.current,name:n,value:a,checked:R,required:o,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});I4.displayName=V1;var j4="SwitchThumb",D4=P.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=aee(j4,r);return d.jsx(Pt.span,{"data-state":M4(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});D4.displayName=j4;var cee=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,s=P.useRef(null),o=I1(r),c=Gk(t);return P.useEffect(()=>{const a=s.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});p.call(a,r),a.dispatchEvent(g)}},[o,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function M4(e){return e?"checked":"unchecked"}var L4=I4,lee=D4;const hd=P.forwardRef(({className:e,...t},r)=>d.jsx(L4,{className:it("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:d.jsx(lee,{className:it("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hd.displayName=L4.displayName;const uee=({lesson:e,updateLesson:t})=>d.jsxs("div",{className:"space-y-4 px-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"title",children:"Title"}),d.jsx(ar,{id:"title",value:e.title,onChange:r=>t({title:r.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"description",children:"Description"}),d.jsx(eh,{id:"description",value:e.description,onChange:r=>t({description:r.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"materialType",children:"Material Type"}),d.jsxs(yf,{value:e.materialType,onValueChange:r=>t({materialType:r}),children:[d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select material type"})}),d.jsxs(Pu,{children:[d.jsx(Ys,{value:"none",children:"None"}),d.jsx(Ys,{value:"pdf",children:"PDF"}),d.jsx(Ys,{value:"video",children:"Video"})]})]})]}),e.materialType!=="none"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"materialUrl",children:"Material URL"}),d.jsx(ar,{id:"materialUrl",value:e.materialUrl,onChange:r=>t({materialUrl:r.target.value})})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hd,{id:"isMaterial",checked:e.isMaterial,onCheckedChange:r=>t({isMaterial:r})}),d.jsx(Ii,{htmlFor:"isMaterial",children:"Has Material"})]})]}),dee={courses:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Cv=wt("courses/fetchCourses",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(v8,{params:{page:e,search:t}})).data}catch(n){return r(n)}}),sx=wt("courses/addCourse",async(e,{rejectWithValue:t})=>{try{return(await gt.post(g8,e)).data}catch(r){return t(r)}}),ox=wt("courses/updateCourse",async({id:e,courseData:t},{rejectWithValue:r})=>{try{return(await gt.put(`${y8}/${e}`,t)).data}catch(n){return r(n)}}),ax=wt("courses/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await gt.post(b8,{courseId:e})).data}catch(r){return t(r)}}),fee=io({name:"courses",initialState:dee,reducers:{},extraReducers:e=>{e.addCase(Cv.pending,t=>{t.isLoading=!0}).addCase(Cv.fulfilled,(t,r)=>{t.isLoading=!1,t.courses=r.payload.docs,t.totalPages=r.payload.totalPages,t.currentPage=r.payload.currentPage}).addCase(Cv.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message||"Failed to fetch courses"}).addCase(sx.pending,(t,r)=>{t.isLoading=!0}).addCase(sx.fulfilled,(t,r)=>{t.isLoading=!1,t.courses.push(r.payload),t.courses.sort((n,i)=>n.createdAt<i.createdAt?1:-1)}).addCase(sx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(ox.pending,(t,r)=>{t.isLoading=!0}).addCase(ox.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(ox.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.courses.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.courses[n]=r.payload)}).addCase(ax.pending,(t,r)=>{}).addCase(ax.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(ax.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.courses.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.courses[n].isActive=!t.courses[n].isActive)})}}),hee=fee.reducer,pee={board:[],currentboard:null,isLoading:!1,error:null},cx=wt("createboard",async(e,{rejectWithValue:t})=>{try{return(await gt.post(o8,e)).data}catch(r){return t(r.response.data)}}),Pp=wt("getAllboard",async(e,{rejectWithValue:t})=>{try{return(await gt.get(c8)).data}catch(r){return t(r.response.data)}}),dC=wt("boardById",async(e,{rejectWithValue:t})=>{try{return(await gt.get(a8.replace(":id",e))).data}catch(r){return t(r.response.data)}}),lx=wt("updataboard",async({_id:e,data:t},{rejectWithValue:r})=>{try{return(await gt.put(l8.replace(":id",e),t)).data}catch(n){return r(n.response.data)}}),ux=wt("toggleboard",async(e,{rejectWithValue:t})=>{try{return(await gt.post(u8,e)).data}catch(r){return t(r.response.data)}}),mee=io({name:"board",initialState:pee,reducers:{},extraReducers:e=>{e.addCase(cx.pending,t=>{t.isLoading=!0}).addCase(cx.fulfilled,(t,r)=>{t.isLoading=!1,t.board.push(r.payload),t.board.sort((n,i)=>n.createdAt<i.createdAt?-1:1)}).addCase(cx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Pp.pending,t=>{t.isLoading=!0}).addCase(Pp.fulfilled,(t,r)=>{t.isLoading=!1,t.board=r.payload}).addCase(Pp.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(dC.pending,t=>{t.isLoading=!0}).addCase(dC.fulfilled,(t,r)=>{t.isLoading=!1,t.currentboard=r.payload}).addCase(dC.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(lx.pending,t=>{t.isLoading=!0}).addCase(lx.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.board.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.board[n]=r.payload)}).addCase(lx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(ux.pending,t=>{t.isLoading=!0}).addCase(ux.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.board.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.board[n].isActive=!t.board[n].isActive)}).addCase(ux.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),gee=mee.reducer,vee=({isOpen:e,onClose:t})=>{const[r,n]=P.useState([{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]);console.log(r);const[i,s]=P.useState(0),[o,c]=P.useState(""),{toast:a}=kc(),l=en();P.useEffect(()=>{e&&(l(Cv({page:1,search:""})),l(zu()),l(Pf()),l(Pp()))},[e,l]);const{courses:h,standards:p,subjects:g}=Wr(C=>({courses:C.course.courses,standards:C.standard.standards,subjects:C.subject.subjects})),{board:E,isLoading:_}=Wr(C=>C.board),y=async C=>{C.preventDefault();try{const A=await l(wv({courseId:o,lessons:r}));if(wv.fulfilled.match(A))a({title:"Success",description:"Lessons added successfully"}),t();else throw new Error("Failed to save lessons")}catch(A){a({title:"Error",description:A.message||"Failed to save lessons",variant:"destructive"})}},w=()=>{n([...r,{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]),s(r.length)},R=C=>{const A=r.filter((L,U)=>U!==C);n(A),i>=C&&i>0&&s(i-1)},S=(C,A)=>{const L=r.map((U,B)=>B===C?{...U,...A}:U);n(L)};return d.jsx(ud,{open:e,onOpenChange:t,children:d.jsxs(Sl,{className:"sm:max-w-[600px] max-h-[90vh] flex flex-col",children:[d.jsx(wl,{children:d.jsx(El,{children:"Add New Lessons"})}),d.jsxs("div",{className:"space-y-4 mb-4 px-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"course",children:"Select Course"}),d.jsxs(yf,{value:r[i].courseId||"",onValueChange:C=>S(i,{courseId:C}),children:[d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select a course"})}),d.jsx(Pu,{children:h.map(C=>d.jsx(Ys,{value:C._id,children:C.title},C._id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"standard",children:"Select Standard"}),d.jsxs(yf,{value:r[i].standard||"",onValueChange:C=>S(i,{standard:C}),children:[d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select a standard"})}),d.jsx(Pu,{children:p.map(C=>d.jsx(Ys,{value:C._id,children:C.std},C._id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"subject",children:"Select Subject"}),d.jsxs(yf,{value:r[i].subject||"",onValueChange:C=>S(i,{subject:C}),children:[d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select a subject"})}),d.jsx(Pu,{children:g.map(C=>d.jsx(Ys,{value:C._id,children:C.subject},C._id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"board",children:"Select Board"}),d.jsxs(yf,{value:r[i].boardId||"",onValueChange:C=>S(i,{boardId:C}),children:[d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select a board"})}),d.jsx(Pu,{children:E==null?void 0:E.map(C=>d.jsx(Ys,{value:C._id,children:C.boardname},C._id))})]})]})]}),d.jsxs("div",{className:"flex gap-4 mb-4 px-2",children:[d.jsx(iee,{lessons:r,currentIndex:i,setCurrentIndex:s,removeLesson:R}),d.jsx(Ot,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:d.jsx(Ju,{className:"h-4 w-4"})})]}),d.jsxs("form",{onSubmit:y,className:"space-y-4 flex-1 overflow-y-auto",children:[d.jsx(uee,{lesson:r[i],updateLesson:C=>S(i,C)}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Ot,{variant:"outline",onClick:t,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:"Add Lessons"})]})]})]})})},yee=({isOpen:e,onClose:t,lesson:r})=>{const[n,i]=P.useState({title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:""});P.useEffect(()=>{r&&i({title:r.title,description:r.description,materialType:r.materialType,materialUrl:r.materialUrl,isMaterial:r.isMaterial,courseId:r.courseId})},[r]);const{toast:s}=kc(),o=en(),c=a=>{a.preventDefault(),console.log(n,"edit data"),t();try{const l=o(Ev({id:r._id,courseData:n}));Ev.fulfilled.match(l)&&s({title:"Success",description:"Lesson updated successfully"})}catch(l){s({title:"Error",description:l.message||"Failed to update lesson",variant:"destructive"})}};return r?d.jsx(ud,{open:e,onOpenChange:t,children:d.jsxs(Sl,{className:"sm:max-w-[425px]",children:[d.jsx(wl,{children:d.jsx(El,{children:"Edit Lesson"})}),d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"title",children:"Title"}),d.jsx(ar,{id:"title",value:n.title,onChange:a=>i({...n,title:a.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"description",children:"Description"}),d.jsx(eh,{id:"description",value:n.description,onChange:a=>i({...n,description:a.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"materialType",children:"Material Type"}),d.jsxs(yf,{value:n.materialType,onValueChange:a=>i({...n,materialType:a}),children:[d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select material type"})}),d.jsxs(Pu,{children:[d.jsx(Ys,{value:"none",children:"None"}),d.jsx(Ys,{value:"pdf",children:"PDF"}),d.jsx(Ys,{value:"video",children:"Video"})]})]})]}),n.materialType!=="none"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ii,{htmlFor:"materialUrl",children:"Material URL"}),d.jsx(ar,{id:"materialUrl",value:n.materialUrl,onChange:a=>i({...n,materialUrl:a.target.value})})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hd,{id:"isMaterial",checked:n.isMaterial,onCheckedChange:a=>i({...n,isMaterial:a})}),d.jsx(Ii,{htmlFor:"isMaterial",children:"Has Material"})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Ot,{variant:"outline",onClick:t,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:"Save Changes"})]})]})]})}):null},bee=({lessons:e,onEdit:t})=>{const r=en(),n=i=>{r(ix(i))};return d.jsx("div",{className:"relative overflow-x-auto",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Title"}),d.jsx(Qe,{children:"Material Type"}),d.jsx(Qe,{children:"Status"}),d.jsx(Qe,{children:"Created At"}),d.jsx(Qe,{className:"text-right",children:"Actions"})]})}),d.jsx(Do,{children:e.map(i=>d.jsxs(Tr,{children:[d.jsx(Be,{className:"font-medium",children:i.title}),d.jsx(Be,{children:d.jsx(v4,{variant:i.materialType==="none"?"secondary":"default",children:i.materialType})}),d.jsx(Be,{children:d.jsx(hd,{checked:i.isActive,onCheckedChange:()=>{n(i._id)},className:"data-[state=checked]:bg-green-500"})}),d.jsx(Be,{children:new Date(i.createdAt).toLocaleDateString()}),d.jsx(Be,{className:"text-right",children:d.jsx(Ot,{variant:"ghost",size:"sm",onClick:()=>t(i),className:"hover:bg-gray-100",children:d.jsx(Pk,{className:"h-4 w-4"})})})]},i._id))})]})})},xee=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(!1),[i,s]=P.useState(null),[o,c]=P.useState(""),a=en(),{lessons:l,isLoading:h,currentPage:p,totalPages:g}=Wr(y=>y.lesson);P.useEffect(()=>{E(1)},[o]);const E=y=>{a(nx({page:y,search:o}))},_=y=>{s(y),n(!0)};return d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lessons"}),d.jsxs(Ot,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[d.jsx(Ju,{className:"h-4 w-4"}),"Add Lesson"]})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search lesson by title",value:o,onChange:y=>{c(y.target.value)},className:"max-w-sm"})}),d.jsx("div",{className:"rounded-md border bg-white",children:d.jsx(bee,{lessons:l,onEdit:_})}),d.jsx(vee,{isOpen:e,onClose:()=>t(!1)}),d.jsx(yee,{isOpen:r,onClose:()=>n(!1),lesson:i}),g>=1&&d.jsx(sa,{currentPage:p,totalPages:g,onPageChange:E})]})},_ee=kp({title:nn().min(1,"Title is required"),description:nn().min(10,"Description must be at least 10 characters"),price:Of().min(0,"Price must be 0 or greater"),duration:nn().min(1,"Duration is required"),features:Vu(nn().min(1,"Feature cannot be empty")),thumbnail:nn().url("Must be a valid URL"),standard:nn().min(1,"Standard is required"),subject:nn().min(1,"Subject is required"),boardId:nn().min(1,"Board is required"),skillLevel:HX(["Beginner","Intermediate","Advanced"]),lessons:Vu(nn()),isActive:M_(),bookPDF:Vu(nn().url("Must be a valid URL")).optional(),bonusPercent:Of().min(0,"Price must be 0 or greater").optional()});function See({initialData:e,onSubmit:t,onCancel:r}){const{standards:n,isLoading:i}=Wr(S=>S.standard),{subjects:s,isLoading:o}=Wr(S=>S.subject),{board:c,isLoading:a}=Wr(S=>S.board),l=en();P.useEffect(()=>{l(zu()),l(Pp()),h("")},[]);const h=S=>{l(Pf(S))},p=_m({resolver:WS(_ee),defaultValues:{title:"",description:"",price:0,duration:"",features:[""],thumbnail:"",standard:"",subject:"",boardId:"",skillLevel:"Beginner",lessons:[],isActive:!0,bookPDF:[],bonusPercent:0}}),{fields:g,append:E,remove:_}=qN({control:p.control,name:"features"}),{fields:y,append:w,remove:R}=qN({control:p.control,name:"bookPDF"});return P.useEffect(()=>{e?Object.keys(e).forEach(S=>{S==="standard"||S==="subject"?p.setValue(S,e[S]._id):S==="bookPDF"?p.setValue(S,e[S]||[]):p.setValue(S,e[S])}):(p.clearErrors(),p.reset())},[e,p]),d.jsx(Sm,{...p,children:d.jsxs("form",{onSubmit:p.handleSubmit(t),className:"space-y-6",children:[d.jsx(fr,{control:p.control,name:"title",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Title"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Course title",...S})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"description",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Description"}),d.jsx(br,{children:d.jsx(eh,{placeholder:"Course description",...S})}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(fr,{control:p.control,name:"price",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Price"}),d.jsx(br,{children:d.jsx(ar,{type:"number",placeholder:"0",...S,onChange:C=>S.onChange(Number(C.target.value))})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"duration",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Duration"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"e.g., 2 months",...S})}),d.jsx(nr,{})]})})]}),d.jsx(fr,{control:p.control,name:"thumbnail",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Thumbnail URL"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"https://...",...S})}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(fr,{control:p.control,name:"standard",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Standard"}),i?d.jsx("div",{children:"Loading..."}):d.jsx(Op,{placeholder:"Select standard",name:"standard",control:p.control,onSearch:()=>{},listing:n.map(C=>({id:C._id,label:C.std})),onItemSelect:C=>h(C)}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"subject",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Subject"}),o?d.jsx("div",{children:"Loading..."}):d.jsx(Op,{placeholder:"Select subject",name:"subject",control:p.control,onSearch:()=>{},listing:s.map(C=>{var A;return{id:C._id,label:C.standard?C.subject+" - "+((A=C.standard)==null?void 0:A.std):C.subject}}),onItemSelect:C=>{}}),d.jsx(nr,{})]})})]}),d.jsx(fr,{control:p.control,name:"boardId",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Board"}),a?d.jsx("div",{children:"Loading..."}):d.jsx(Op,{placeholder:"Select board",name:"boardId",control:p.control,onSearch:()=>{},listing:c.map(C=>({id:C._id,label:C.boardname})),onItemSelect:C=>{console.log("Selected board ID:",C)}}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"bonusPercent",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Refer Bonus Percentage"}),d.jsx(br,{children:d.jsx(ar,{type:"number",placeholder:"Enter refer bonus percentage",...S,onChange:C=>S.onChange(Number(C.target.value))})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"skillLevel",render:({field:S})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Skill Level"}),d.jsxs(yf,{onValueChange:S.onChange,defaultValue:S.value,children:[d.jsx(br,{children:d.jsx(Ou,{children:d.jsx(bf,{placeholder:"Select skill level"})})}),d.jsxs(Pu,{children:[d.jsx(Ys,{value:"Beginner",children:"Beginner"}),d.jsx(Ys,{value:"Intermediate",children:"Intermediate"}),d.jsx(Ys,{value:"Advanced",children:"Advanced"})]})]}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"features",render:()=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Features"}),g.map((S,C)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(br,{children:d.jsx(ar,{...p.register(`features.${C}`),placeholder:"Feature"})}),d.jsx(Ot,{type:"button",variant:"outline",onClick:()=>_(C),children:"Remove"})]},S.id)),d.jsx(Ot,{type:"button",variant:"outline",onClick:()=>E(""),className:"mt-2",children:"Add Feature"}),d.jsx(nr,{})]})}),d.jsx(fr,{control:p.control,name:"bookPDF",render:()=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Book PDF Links (Optional)"}),y.map((S,C)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(br,{children:d.jsx(ar,{...p.register(`bookPDF.${C}`),placeholder:"PDF Link"})}),d.jsx(Ot,{type:"button",variant:"outline",onClick:()=>R(C),children:"Remove"})]},S.id)),d.jsx(Ot,{type:"button",variant:"outline",onClick:()=>w(""),className:"mt-2",children:"Add PDF Link"}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(Ot,{variant:"outline",onClick:r,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:e?"Update Course":"Add Course"})]})]})})}function wee({open:e,onClose:t,course:r,onSubmit:n}){return d.jsx(ud,{open:e,onOpenChange:t,modal:!0,children:d.jsxs(Sl,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[d.jsx(wl,{children:d.jsx(El,{children:r?"Edit Course":"Add New Course"})}),d.jsx(See,{initialData:r,onSubmit:n,onCancel:t})]})})}const Eee=()=>{const e=en(),{toast:t}=kc(),[r,n]=P.useState(!1),[i,s]=P.useState(),[o,c]=P.useState(""),{courses:a,isLoading:l,currentPage:h,totalPages:p}=Wr(S=>S.course);P.useEffect(()=>{R(1)},[o]);const g=()=>{s(void 0),n(!0)},E=S=>{s(S),n(!0)},_=()=>{n(!1),s(void 0)},y=S=>{i?e(ox({id:i._id,courseData:S})).then(C=>{C.type=="courses/updateCourse/fulfilled"&&(t({title:"Success",description:"Course updated successfully."}),_())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})}):e(sx(S)).then(C=>{C.type=="courses/addCourse/fulfilled"&&(t({title:"Success",description:"Course added successfully"}),_())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})})},w=S=>{e(ax(S._id))},R=S=>{e(Cv({page:S,search:o}))};return d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Courses"}),d.jsxs(Ot,{onClick:g,children:[d.jsx(Ju,{className:"mr-2 h-4 w-4"})," Add Course"]})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search courses by title",value:o,onChange:S=>{c(S.target.value)},className:"max-w-sm"})}),d.jsx("div",{className:"rounded-md border bg-white",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Title"}),d.jsx(Qe,{children:"Subject"}),d.jsx(Qe,{children:"Standard"}),d.jsx(Qe,{children:"Price (₹)"}),d.jsx(Qe,{children:"Refer Bonus"}),d.jsx(Qe,{children:"Skill Level"}),d.jsx(Qe,{children:"Status"}),d.jsx(Qe,{className:"text-right",children:"Actions"})]})}),d.jsx(Do,{children:l?d.jsx(Tr,{children:d.jsx(Be,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):a.length===0?d.jsx(Tr,{children:d.jsx(Be,{colSpan:7,className:"text-center py-10",children:"No courses found"})}):a.map(S=>d.jsxs(Tr,{children:[d.jsx(Be,{className:"font-medium",children:S.title}),d.jsx(Be,{children:S.subject?S.subject.subject:"-"}),d.jsx(Be,{children:S.standard?S.standard.std:"-"}),d.jsx(Be,{children:S.price===0?"Free":`₹${S.price}`}),d.jsx(Be,{children:S==null?void 0:S.bonusPercent}),d.jsx(Be,{children:S.skillLevel}),d.jsx(Be,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.isActive?"Active":"Inactive"})}),d.jsxs(Be,{className:"text-right",children:[d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(S),children:d.jsx(yM,{className:"h-4 w-4"})}),d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>w(S),children:S.isActive?d.jsx(cd,{className:"h-4 w-4"}):d.jsx(by,{className:"h-4 w-4"})})]})]},S._id))})]})}),p>=1&&d.jsx(sa,{currentPage:h,totalPages:p,onPageChange:R}),d.jsx(wee,{open:r,onClose:_,course:i,onSubmit:y})]})};var Cee=function(t){return Tee(t)&&!Ree(t)};function Tee(e){return!!e&&typeof e=="object"}function Ree(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Pee(e)}var kee=typeof Symbol=="function"&&Symbol.for,Oee=kee?Symbol.for("react.element"):60103;function Pee(e){return e.$$typeof===Oee}function Nee(e){return Array.isArray(e)?[]:{}}function $_(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ly(Nee(e),e,t):e}function Aee(e,t,r){return e.concat(t).map(function(n){return $_(n,r)})}function Iee(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(i){n[i]=$_(e[i],r)}),Object.keys(t).forEach(function(i){!r.isMergeableObject(t[i])||!e[i]?n[i]=$_(t[i],r):n[i]=ly(e[i],t[i],r)}),n}function ly(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Aee,r.isMergeableObject=r.isMergeableObject||Cee;var n=Array.isArray(t),i=Array.isArray(e),s=n===i;return s?n?r.arrayMerge(e,t,r):Iee(e,t,r):$_(t,r)}ly.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return ly(n,i,r)},{})};var mR=ly,F4=typeof global=="object"&&global&&global.Object===Object&&global,jee=typeof self=="object"&&self&&self.Object===Object&&self,Nc=F4||jee||Function("return this")(),nd=Nc.Symbol,U4=Object.prototype,Dee=U4.hasOwnProperty,Mee=U4.toString,Qg=nd?nd.toStringTag:void 0;function Lee(e){var t=Dee.call(e,Qg),r=e[Qg];try{e[Qg]=void 0;var n=!0}catch{}var i=Mee.call(e);return n&&(t?e[Qg]=r:delete e[Qg]),i}var Fee=Object.prototype,Uee=Fee.toString;function Bee(e){return Uee.call(e)}var $ee="[object Null]",Vee="[object Undefined]",dA=nd?nd.toStringTag:void 0;function th(e){return e==null?e===void 0?Vee:$ee:dA&&dA in Object(e)?Lee(e):Bee(e)}function B4(e,t){return function(r){return e(t(r))}}var z1=B4(Object.getPrototypeOf,Object);function rh(e){return e!=null&&typeof e=="object"}var zee="[object Object]",Wee=Function.prototype,Hee=Object.prototype,$4=Wee.toString,Gee=Hee.hasOwnProperty,qee=$4.call(Object);function fA(e){if(!rh(e)||th(e)!=zee)return!1;var t=z1(e);if(t===null)return!0;var r=Gee.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$4.call(r)==qee}function Kee(){this.__data__=[],this.size=0}function V4(e,t){return e===t||e!==e&&t!==t}function JS(e,t){for(var r=e.length;r--;)if(V4(e[r][0],t))return r;return-1}var Yee=Array.prototype,Qee=Yee.splice;function Jee(e){var t=this.__data__,r=JS(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Qee.call(t,r,1),--this.size,!0}function Xee(e){var t=this.__data__,r=JS(t,e);return r<0?void 0:t[r][1]}function Zee(e){return JS(this.__data__,e)>-1}function ete(e,t){var r=this.__data__,n=JS(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Cl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cl.prototype.clear=Kee;Cl.prototype.delete=Jee;Cl.prototype.get=Xee;Cl.prototype.has=Zee;Cl.prototype.set=ete;function tte(){this.__data__=new Cl,this.size=0}function rte(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function nte(e){return this.__data__.get(e)}function ite(e){return this.__data__.has(e)}function Fy(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ste="[object AsyncFunction]",ote="[object Function]",ate="[object GeneratorFunction]",cte="[object Proxy]";function z4(e){if(!Fy(e))return!1;var t=th(e);return t==ote||t==ate||t==ste||t==cte}var fC=Nc["__core-js_shared__"],hA=function(){var e=/[^.]+$/.exec(fC&&fC.keys&&fC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lte(e){return!!hA&&hA in e}var ute=Function.prototype,dte=ute.toString;function nh(e){if(e!=null){try{return dte.call(e)}catch{}try{return e+""}catch{}}return""}var fte=/[\\^$.*+?()[\]{}|]/g,hte=/^\[object .+?Constructor\]$/,pte=Function.prototype,mte=Object.prototype,gte=pte.toString,vte=mte.hasOwnProperty,yte=RegExp("^"+gte.call(vte).replace(fte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bte(e){if(!Fy(e)||lte(e))return!1;var t=z4(e)?yte:hte;return t.test(nh(e))}function xte(e,t){return e==null?void 0:e[t]}function ih(e,t){var r=xte(e,t);return bte(r)?r:void 0}var uy=ih(Nc,"Map"),dy=ih(Object,"create");function _te(){this.__data__=dy?dy(null):{},this.size=0}function Ste(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var wte="__lodash_hash_undefined__",Ete=Object.prototype,Cte=Ete.hasOwnProperty;function Tte(e){var t=this.__data__;if(dy){var r=t[e];return r===wte?void 0:r}return Cte.call(t,e)?t[e]:void 0}var Rte=Object.prototype,kte=Rte.hasOwnProperty;function Ote(e){var t=this.__data__;return dy?t[e]!==void 0:kte.call(t,e)}var Pte="__lodash_hash_undefined__";function Nte(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dy&&t===void 0?Pte:t,this}function Gf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gf.prototype.clear=_te;Gf.prototype.delete=Ste;Gf.prototype.get=Tte;Gf.prototype.has=Ote;Gf.prototype.set=Nte;function Ate(){this.size=0,this.__data__={hash:new Gf,map:new(uy||Cl),string:new Gf}}function Ite(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function XS(e,t){var r=e.__data__;return Ite(t)?r[typeof t=="string"?"string":"hash"]:r.map}function jte(e){var t=XS(this,e).delete(e);return this.size-=t?1:0,t}function Dte(e){return XS(this,e).get(e)}function Mte(e){return XS(this,e).has(e)}function Lte(e,t){var r=XS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function pd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pd.prototype.clear=Ate;pd.prototype.delete=jte;pd.prototype.get=Dte;pd.prototype.has=Mte;pd.prototype.set=Lte;var Fte=200;function Ute(e,t){var r=this.__data__;if(r instanceof Cl){var n=r.__data__;if(!uy||n.length<Fte-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pd(n)}return r.set(e,t),this.size=r.size,this}function Em(e){var t=this.__data__=new Cl(e);this.size=t.size}Em.prototype.clear=tte;Em.prototype.delete=rte;Em.prototype.get=nte;Em.prototype.has=ite;Em.prototype.set=Ute;function Bte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var pA=function(){try{var e=ih(Object,"defineProperty");return e({},"",{}),e}catch{}}();function W4(e,t,r){t=="__proto__"&&pA?pA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var $te=Object.prototype,Vte=$te.hasOwnProperty;function H4(e,t,r){var n=e[t];(!(Vte.call(e,t)&&V4(n,r))||r===void 0&&!(t in e))&&W4(e,t,r)}function ZS(e,t,r,n){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var c=t[s],a=void 0;a===void 0&&(a=e[c]),i?W4(r,c,a):H4(r,c,a)}return r}function zte(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Wte="[object Arguments]";function mA(e){return rh(e)&&th(e)==Wte}var G4=Object.prototype,Hte=G4.hasOwnProperty,Gte=G4.propertyIsEnumerable,qte=mA(function(){return arguments}())?mA:function(e){return rh(e)&&Hte.call(e,"callee")&&!Gte.call(e,"callee")},Uy=Array.isArray;function Kte(){return!1}var q4=typeof So=="object"&&So&&!So.nodeType&&So,gA=q4&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,Yte=gA&&gA.exports===q4,vA=Yte?Nc.Buffer:void 0,Qte=vA?vA.isBuffer:void 0,K4=Qte||Kte,Jte=9007199254740991,Xte=/^(?:0|[1-9]\d*)$/;function Zte(e,t){var r=typeof e;return t=t??Jte,!!t&&(r=="number"||r!="symbol"&&Xte.test(e))&&e>-1&&e%1==0&&e<t}var ere=9007199254740991;function Y4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ere}var tre="[object Arguments]",rre="[object Array]",nre="[object Boolean]",ire="[object Date]",sre="[object Error]",ore="[object Function]",are="[object Map]",cre="[object Number]",lre="[object Object]",ure="[object RegExp]",dre="[object Set]",fre="[object String]",hre="[object WeakMap]",pre="[object ArrayBuffer]",mre="[object DataView]",gre="[object Float32Array]",vre="[object Float64Array]",yre="[object Int8Array]",bre="[object Int16Array]",xre="[object Int32Array]",_re="[object Uint8Array]",Sre="[object Uint8ClampedArray]",wre="[object Uint16Array]",Ere="[object Uint32Array]",Tn={};Tn[gre]=Tn[vre]=Tn[yre]=Tn[bre]=Tn[xre]=Tn[_re]=Tn[Sre]=Tn[wre]=Tn[Ere]=!0;Tn[tre]=Tn[rre]=Tn[pre]=Tn[nre]=Tn[mre]=Tn[ire]=Tn[sre]=Tn[ore]=Tn[are]=Tn[cre]=Tn[lre]=Tn[ure]=Tn[dre]=Tn[fre]=Tn[hre]=!1;function Cre(e){return rh(e)&&Y4(e.length)&&!!Tn[th(e)]}function W1(e){return function(t){return e(t)}}var Q4=typeof So=="object"&&So&&!So.nodeType&&So,Tv=Q4&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,Tre=Tv&&Tv.exports===Q4,hC=Tre&&F4.process,sm=function(){try{var e=Tv&&Tv.require&&Tv.require("util").types;return e||hC&&hC.binding&&hC.binding("util")}catch{}}(),yA=sm&&sm.isTypedArray,Rre=yA?W1(yA):Cre,kre=Object.prototype,Ore=kre.hasOwnProperty;function J4(e,t){var r=Uy(e),n=!r&&qte(e),i=!r&&!n&&K4(e),s=!r&&!n&&!i&&Rre(e),o=r||n||i||s,c=o?zte(e.length,String):[],a=c.length;for(var l in e)(t||Ore.call(e,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Zte(l,a)))&&c.push(l);return c}var Pre=Object.prototype;function H1(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Pre;return e===r}var Nre=B4(Object.keys,Object),Are=Object.prototype,Ire=Are.hasOwnProperty;function jre(e){if(!H1(e))return Nre(e);var t=[];for(var r in Object(e))Ire.call(e,r)&&r!="constructor"&&t.push(r);return t}function X4(e){return e!=null&&Y4(e.length)&&!z4(e)}function G1(e){return X4(e)?J4(e):jre(e)}function Dre(e,t){return e&&ZS(t,G1(t),e)}function Mre(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Lre=Object.prototype,Fre=Lre.hasOwnProperty;function Ure(e){if(!Fy(e))return Mre(e);var t=H1(e),r=[];for(var n in e)n=="constructor"&&(t||!Fre.call(e,n))||r.push(n);return r}function q1(e){return X4(e)?J4(e,!0):Ure(e)}function Bre(e,t){return e&&ZS(t,q1(t),e)}var Z4=typeof So=="object"&&So&&!So.nodeType&&So,bA=Z4&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,$re=bA&&bA.exports===Z4,xA=$re?Nc.Buffer:void 0,_A=xA?xA.allocUnsafe:void 0;function Vre(e,t){if(t)return e.slice();var r=e.length,n=_A?_A(r):new e.constructor(r);return e.copy(n),n}function eB(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function zre(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function tB(){return[]}var Wre=Object.prototype,Hre=Wre.propertyIsEnumerable,SA=Object.getOwnPropertySymbols,K1=SA?function(e){return e==null?[]:(e=Object(e),zre(SA(e),function(t){return Hre.call(e,t)}))}:tB;function Gre(e,t){return ZS(e,K1(e),t)}function rB(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var qre=Object.getOwnPropertySymbols,nB=qre?function(e){for(var t=[];e;)rB(t,K1(e)),e=z1(e);return t}:tB;function Kre(e,t){return ZS(e,nB(e),t)}function iB(e,t,r){var n=t(e);return Uy(e)?n:rB(n,r(e))}function Yre(e){return iB(e,G1,K1)}function Qre(e){return iB(e,q1,nB)}var gR=ih(Nc,"DataView"),vR=ih(Nc,"Promise"),yR=ih(Nc,"Set"),bR=ih(Nc,"WeakMap"),wA="[object Map]",Jre="[object Object]",EA="[object Promise]",CA="[object Set]",TA="[object WeakMap]",RA="[object DataView]",Xre=nh(gR),Zre=nh(uy),ene=nh(vR),tne=nh(yR),rne=nh(bR),tl=th;(gR&&tl(new gR(new ArrayBuffer(1)))!=RA||uy&&tl(new uy)!=wA||vR&&tl(vR.resolve())!=EA||yR&&tl(new yR)!=CA||bR&&tl(new bR)!=TA)&&(tl=function(e){var t=th(e),r=t==Jre?e.constructor:void 0,n=r?nh(r):"";if(n)switch(n){case Xre:return RA;case Zre:return wA;case ene:return EA;case tne:return CA;case rne:return TA}return t});var nne=Object.prototype,ine=nne.hasOwnProperty;function sne(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&ine.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var kA=Nc.Uint8Array;function Y1(e){var t=new e.constructor(e.byteLength);return new kA(t).set(new kA(e)),t}function one(e,t){var r=t?Y1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ane=/\w*$/;function cne(e){var t=new e.constructor(e.source,ane.exec(e));return t.lastIndex=e.lastIndex,t}var OA=nd?nd.prototype:void 0,PA=OA?OA.valueOf:void 0;function lne(e){return PA?Object(PA.call(e)):{}}function une(e,t){var r=t?Y1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var dne="[object Boolean]",fne="[object Date]",hne="[object Map]",pne="[object Number]",mne="[object RegExp]",gne="[object Set]",vne="[object String]",yne="[object Symbol]",bne="[object ArrayBuffer]",xne="[object DataView]",_ne="[object Float32Array]",Sne="[object Float64Array]",wne="[object Int8Array]",Ene="[object Int16Array]",Cne="[object Int32Array]",Tne="[object Uint8Array]",Rne="[object Uint8ClampedArray]",kne="[object Uint16Array]",One="[object Uint32Array]";function Pne(e,t,r){var n=e.constructor;switch(t){case bne:return Y1(e);case dne:case fne:return new n(+e);case xne:return one(e,r);case _ne:case Sne:case wne:case Ene:case Cne:case Tne:case Rne:case kne:case One:return une(e,r);case hne:return new n;case pne:case vne:return new n(e);case mne:return cne(e);case gne:return new n;case yne:return lne(e)}}var NA=Object.create,Nne=function(){function e(){}return function(t){if(!Fy(t))return{};if(NA)return NA(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Ane(e){return typeof e.constructor=="function"&&!H1(e)?Nne(z1(e)):{}}var Ine="[object Map]";function jne(e){return rh(e)&&tl(e)==Ine}var AA=sm&&sm.isMap,Dne=AA?W1(AA):jne,Mne="[object Set]";function Lne(e){return rh(e)&&tl(e)==Mne}var IA=sm&&sm.isSet,Fne=IA?W1(IA):Lne,Une=1,Bne=2,$ne=4,sB="[object Arguments]",Vne="[object Array]",zne="[object Boolean]",Wne="[object Date]",Hne="[object Error]",oB="[object Function]",Gne="[object GeneratorFunction]",qne="[object Map]",Kne="[object Number]",aB="[object Object]",Yne="[object RegExp]",Qne="[object Set]",Jne="[object String]",Xne="[object Symbol]",Zne="[object WeakMap]",eie="[object ArrayBuffer]",tie="[object DataView]",rie="[object Float32Array]",nie="[object Float64Array]",iie="[object Int8Array]",sie="[object Int16Array]",oie="[object Int32Array]",aie="[object Uint8Array]",cie="[object Uint8ClampedArray]",lie="[object Uint16Array]",uie="[object Uint32Array]",yn={};yn[sB]=yn[Vne]=yn[eie]=yn[tie]=yn[zne]=yn[Wne]=yn[rie]=yn[nie]=yn[iie]=yn[sie]=yn[oie]=yn[qne]=yn[Kne]=yn[aB]=yn[Yne]=yn[Qne]=yn[Jne]=yn[Xne]=yn[aie]=yn[cie]=yn[lie]=yn[uie]=!0;yn[Hne]=yn[oB]=yn[Zne]=!1;function Rv(e,t,r,n,i,s){var o,c=t&Une,a=t&Bne,l=t&$ne;if(o!==void 0)return o;if(!Fy(e))return e;var h=Uy(e);if(h){if(o=sne(e),!c)return eB(e,o)}else{var p=tl(e),g=p==oB||p==Gne;if(K4(e))return Vre(e,c);if(p==aB||p==sB||g&&!i){if(o=a||g?{}:Ane(e),!c)return a?Kre(e,Bre(o,e)):Gre(e,Dre(o,e))}else{if(!yn[p])return i?e:{};o=Pne(e,p,c)}}s||(s=new Em);var E=s.get(e);if(E)return E;s.set(e,o),Fne(e)?e.forEach(function(w){o.add(Rv(w,t,r,w,e,s))}):Dne(e)&&e.forEach(function(w,R){o.set(R,Rv(w,t,r,R,e,s))});var _=l?a?Qre:Yre:a?q1:G1,y=h?void 0:_(e);return Bte(y||e,function(w,R){y&&(R=w,w=e[R]),H4(o,R,Rv(w,t,r,R,e,s))}),o}var die=1,fie=4;function cv(e){return Rv(e,die|fie)}var jA=Array.isArray,DA=Object.keys,hie=Object.prototype.hasOwnProperty,pie=typeof Element<"u";function xR(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=jA(e),n=jA(t),i,s,o;if(r&&n){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!xR(e[i],t[i]))return!1;return!0}if(r!=n)return!1;var c=e instanceof Date,a=t instanceof Date;if(c!=a)return!1;if(c&&a)return e.getTime()==t.getTime();var l=e instanceof RegExp,h=t instanceof RegExp;if(l!=h)return!1;if(l&&h)return e.toString()==t.toString();var p=DA(e);if(s=p.length,s!==DA(t).length)return!1;for(i=s;i--!==0;)if(!hie.call(t,p[i]))return!1;if(pie&&e instanceof Element&&t instanceof Element)return e===t;for(i=s;i--!==0;)if(o=p[i],!(o==="_owner"&&e.$$typeof)&&!xR(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}var mie=function(t,r){try{return xR(t,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const vu=Kf(mie);var gie=4;function MA(e){return Rv(e,gie)}function cB(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var vie="[object Symbol]";function Q1(e){return typeof e=="symbol"||rh(e)&&th(e)==vie}var yie="Expected a function";function J1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yie);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(J1.Cache||pd),r}J1.Cache=pd;var bie=500;function xie(e){var t=J1(e,function(n){return r.size===bie&&r.clear(),n}),r=t.cache;return t}var _ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sie=/\\(\\)?/g,wie=xie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_ie,function(r,n,i,s){t.push(i?s.replace(Sie,"$1"):n||r)}),t});function Eie(e){if(typeof e=="string"||Q1(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var LA=nd?nd.prototype:void 0,FA=LA?LA.toString:void 0;function lB(e){if(typeof e=="string")return e;if(Uy(e))return cB(e,lB)+"";if(Q1(e))return FA?FA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Cie(e){return e==null?"":lB(e)}function uB(e){return Uy(e)?cB(e,Eie):Q1(e)?[e]:eB(wie(Cie(e)))}var dB={exports:{}},tn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=typeof Symbol=="function"&&Symbol.for,X1=Di?Symbol.for("react.element"):60103,Z1=Di?Symbol.for("react.portal"):60106,ew=Di?Symbol.for("react.fragment"):60107,tw=Di?Symbol.for("react.strict_mode"):60108,rw=Di?Symbol.for("react.profiler"):60114,nw=Di?Symbol.for("react.provider"):60109,iw=Di?Symbol.for("react.context"):60110,eO=Di?Symbol.for("react.async_mode"):60111,sw=Di?Symbol.for("react.concurrent_mode"):60111,ow=Di?Symbol.for("react.forward_ref"):60112,aw=Di?Symbol.for("react.suspense"):60113,Tie=Di?Symbol.for("react.suspense_list"):60120,cw=Di?Symbol.for("react.memo"):60115,lw=Di?Symbol.for("react.lazy"):60116,Rie=Di?Symbol.for("react.block"):60121,kie=Di?Symbol.for("react.fundamental"):60117,Oie=Di?Symbol.for("react.responder"):60118,Pie=Di?Symbol.for("react.scope"):60119;function Mo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case X1:switch(e=e.type,e){case eO:case sw:case ew:case rw:case tw:case aw:return e;default:switch(e=e&&e.$$typeof,e){case iw:case ow:case lw:case cw:case nw:return e;default:return t}}case Z1:return t}}}function fB(e){return Mo(e)===sw}tn.AsyncMode=eO;tn.ConcurrentMode=sw;tn.ContextConsumer=iw;tn.ContextProvider=nw;tn.Element=X1;tn.ForwardRef=ow;tn.Fragment=ew;tn.Lazy=lw;tn.Memo=cw;tn.Portal=Z1;tn.Profiler=rw;tn.StrictMode=tw;tn.Suspense=aw;tn.isAsyncMode=function(e){return fB(e)||Mo(e)===eO};tn.isConcurrentMode=fB;tn.isContextConsumer=function(e){return Mo(e)===iw};tn.isContextProvider=function(e){return Mo(e)===nw};tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===X1};tn.isForwardRef=function(e){return Mo(e)===ow};tn.isFragment=function(e){return Mo(e)===ew};tn.isLazy=function(e){return Mo(e)===lw};tn.isMemo=function(e){return Mo(e)===cw};tn.isPortal=function(e){return Mo(e)===Z1};tn.isProfiler=function(e){return Mo(e)===rw};tn.isStrictMode=function(e){return Mo(e)===tw};tn.isSuspense=function(e){return Mo(e)===aw};tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ew||e===sw||e===rw||e===tw||e===aw||e===Tie||typeof e=="object"&&e!==null&&(e.$$typeof===lw||e.$$typeof===cw||e.$$typeof===nw||e.$$typeof===iw||e.$$typeof===ow||e.$$typeof===kie||e.$$typeof===Oie||e.$$typeof===Pie||e.$$typeof===Rie)};tn.typeOf=Mo;dB.exports=tn;var Nie=dB.exports,tO=Nie,Aie={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Iie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rO={};rO[tO.ForwardRef]=jie;rO[tO.Memo]=hB;function UA(e){return tO.isMemo(e)?hB:rO[e.$$typeof]||Aie}var Die=Object.defineProperty,Mie=Object.getOwnPropertyNames,BA=Object.getOwnPropertySymbols,Lie=Object.getOwnPropertyDescriptor,Fie=Object.getPrototypeOf,$A=Object.prototype;function pB(e,t,r){if(typeof t!="string"){if($A){var n=Fie(t);n&&n!==$A&&pB(e,n,r)}var i=Mie(t);BA&&(i=i.concat(BA(t)));for(var s=UA(e),o=UA(t),c=0;c<i.length;++c){var a=i[c];if(!Iie[a]&&!(r&&r[a])&&!(o&&o[a])&&!(s&&s[a])){var l=Lie(t,a);try{Die(e,a,l)}catch{}}}}return e}var Uie=pB;const Bie=Kf(Uie);function Xr(){return Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xr.apply(this,arguments)}function mB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Nu(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function VA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var uw=P.createContext(void 0);uw.displayName="FormikContext";var $ie=uw.Provider,Vie=uw.Consumer;function gB(){var e=P.useContext(uw);return e}var zA=function(t){return Array.isArray(t)&&t.length===0},Hi=function(t){return typeof t=="function"},By=function(t){return t!==null&&typeof t=="object"},zie=function(t){return String(Math.floor(Number(t)))===t},pC=function(t){return Object.prototype.toString.call(t)==="[object String]"},vB=function(t){return P.Children.count(t)===0},mC=function(t){return By(t)&&Hi(t.then)};function Nn(e,t,r,n){n===void 0&&(n=0);for(var i=uB(t);e&&n<i.length;)e=e[i[n++]];return n!==i.length&&!e||e===void 0?r:e}function _c(e,t,r){for(var n=MA(e),i=n,s=0,o=uB(t);s<o.length-1;s++){var c=o[s],a=Nn(e,o.slice(0,s+1));if(a&&(By(a)||Array.isArray(a)))i=i[c]=MA(a);else{var l=o[s+1];i=i[c]=zie(l)&&Number(l)>=0?[]:{}}}return(s===0?e:i)[o[s]]===r?e:(r===void 0?delete i[o[s]]:i[o[s]]=r,s===0&&r===void 0&&delete n[o[s]],n)}function yB(e,t,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var i=0,s=Object.keys(e);i<s.length;i++){var o=s[i],c=e[o];By(c)?r.get(c)||(r.set(c,!0),n[o]=Array.isArray(c)?[]:{},yB(c,t,r,n[o])):n[o]=t}return n}function Wie(e,t){switch(t.type){case"SET_VALUES":return Xr({},e,{values:t.payload});case"SET_TOUCHED":return Xr({},e,{touched:t.payload});case"SET_ERRORS":return vu(e.errors,t.payload)?e:Xr({},e,{errors:t.payload});case"SET_STATUS":return Xr({},e,{status:t.payload});case"SET_ISSUBMITTING":return Xr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Xr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Xr({},e,{values:_c(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Xr({},e,{touched:_c(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Xr({},e,{errors:_c(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Xr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Xr({},e,{touched:yB(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Xr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Xr({},e,{isSubmitting:!1});default:return e}}var cf={},gb={};function Hie(e){var t=e.validateOnChange,r=t===void 0?!0:t,n=e.validateOnBlur,i=n===void 0?!0:n,s=e.validateOnMount,o=s===void 0?!1:s,c=e.isInitialValid,a=e.enableReinitialize,l=a===void 0?!1:a,h=e.onSubmit,p=Nu(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),g=Xr({validateOnChange:r,validateOnBlur:i,validateOnMount:o,onSubmit:h},p),E=P.useRef(g.initialValues),_=P.useRef(g.initialErrors||cf),y=P.useRef(g.initialTouched||gb),w=P.useRef(g.initialStatus),R=P.useRef(!1),S=P.useRef({});P.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var C=P.useState(0),A=C[1],L=P.useRef({values:cv(g.initialValues),errors:cv(g.initialErrors)||cf,touched:cv(g.initialTouched)||gb,status:cv(g.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),U=L.current,B=P.useCallback(function(ne){var de=L.current;L.current=Wie(de,ne),de!==L.current&&A(function(Re){return Re+1})},[]),z=P.useCallback(function(ne,de){return new Promise(function(Re,De){var rt=g.validate(ne,de);rt==null?Re(cf):mC(rt)?rt.then(function(_t){Re(_t||cf)},function(_t){De(_t)}):Re(rt)})},[g.validate]),G=P.useCallback(function(ne,de){var Re=g.validationSchema,De=Hi(Re)?Re(de):Re,rt=de&&De.validateAt?De.validateAt(de,ne):Kie(ne,De);return new Promise(function(_t,wr){rt.then(function(){_t(cf)},function(Qn){Qn.name==="ValidationError"?_t(qie(Qn)):wr(Qn)})})},[g.validationSchema]),J=P.useCallback(function(ne,de){return new Promise(function(Re){return Re(S.current[ne].validate(de))})},[]),X=P.useCallback(function(ne){var de=Object.keys(S.current).filter(function(De){return Hi(S.current[De].validate)}),Re=de.length>0?de.map(function(De){return J(De,Nn(ne,De))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Re).then(function(De){return De.reduce(function(rt,_t,wr){return _t==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||_t&&(rt=_c(rt,de[wr],_t)),rt},{})})},[J]),q=P.useCallback(function(ne){return Promise.all([X(ne),g.validationSchema?G(ne):{},g.validate?z(ne):{}]).then(function(de){var Re=de[0],De=de[1],rt=de[2],_t=mR.all([Re,De,rt],{arrayMerge:Yie});return _t})},[g.validate,g.validationSchema,X,z,G]),ee=qo(function(ne){return ne===void 0&&(ne=U.values),B({type:"SET_ISVALIDATING",payload:!0}),q(ne).then(function(de){return R.current&&(B({type:"SET_ISVALIDATING",payload:!1}),B({type:"SET_ERRORS",payload:de})),de})});P.useEffect(function(){o&&R.current===!0&&vu(E.current,g.initialValues)&&ee(E.current)},[o,ee]);var ce=P.useCallback(function(ne){var de=ne&&ne.values?ne.values:E.current,Re=ne&&ne.errors?ne.errors:_.current?_.current:g.initialErrors||{},De=ne&&ne.touched?ne.touched:y.current?y.current:g.initialTouched||{},rt=ne&&ne.status?ne.status:w.current?w.current:g.initialStatus;E.current=de,_.current=Re,y.current=De,w.current=rt;var _t=function(){B({type:"RESET_FORM",payload:{isSubmitting:!!ne&&!!ne.isSubmitting,errors:Re,touched:De,status:rt,values:de,isValidating:!!ne&&!!ne.isValidating,submitCount:ne&&ne.submitCount&&typeof ne.submitCount=="number"?ne.submitCount:0}})};if(g.onReset){var wr=g.onReset(U.values,Mr);mC(wr)?wr.then(_t):_t()}else _t()},[g.initialErrors,g.initialStatus,g.initialTouched,g.onReset]);P.useEffect(function(){R.current===!0&&!vu(E.current,g.initialValues)&&l&&(E.current=g.initialValues,ce(),o&&ee(E.current))},[l,g.initialValues,ce,o,ee]),P.useEffect(function(){l&&R.current===!0&&!vu(_.current,g.initialErrors)&&(_.current=g.initialErrors||cf,B({type:"SET_ERRORS",payload:g.initialErrors||cf}))},[l,g.initialErrors]),P.useEffect(function(){l&&R.current===!0&&!vu(y.current,g.initialTouched)&&(y.current=g.initialTouched||gb,B({type:"SET_TOUCHED",payload:g.initialTouched||gb}))},[l,g.initialTouched]),P.useEffect(function(){l&&R.current===!0&&!vu(w.current,g.initialStatus)&&(w.current=g.initialStatus,B({type:"SET_STATUS",payload:g.initialStatus}))},[l,g.initialStatus,g.initialTouched]);var xe=qo(function(ne){if(S.current[ne]&&Hi(S.current[ne].validate)){var de=Nn(U.values,ne),Re=S.current[ne].validate(de);return mC(Re)?(B({type:"SET_ISVALIDATING",payload:!0}),Re.then(function(De){return De}).then(function(De){B({type:"SET_FIELD_ERROR",payload:{field:ne,value:De}}),B({type:"SET_ISVALIDATING",payload:!1})})):(B({type:"SET_FIELD_ERROR",payload:{field:ne,value:Re}}),Promise.resolve(Re))}else if(g.validationSchema)return B({type:"SET_ISVALIDATING",payload:!0}),G(U.values,ne).then(function(De){return De}).then(function(De){B({type:"SET_FIELD_ERROR",payload:{field:ne,value:Nn(De,ne)}}),B({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),_e=P.useCallback(function(ne,de){var Re=de.validate;S.current[ne]={validate:Re}},[]),ve=P.useCallback(function(ne){delete S.current[ne]},[]),Y=qo(function(ne,de){B({type:"SET_TOUCHED",payload:ne});var Re=de===void 0?i:de;return Re?ee(U.values):Promise.resolve()}),Q=P.useCallback(function(ne){B({type:"SET_ERRORS",payload:ne})},[]),re=qo(function(ne,de){var Re=Hi(ne)?ne(U.values):ne;B({type:"SET_VALUES",payload:Re});var De=de===void 0?r:de;return De?ee(Re):Promise.resolve()}),fe=P.useCallback(function(ne,de){B({type:"SET_FIELD_ERROR",payload:{field:ne,value:de}})},[]),Te=qo(function(ne,de,Re){B({type:"SET_FIELD_VALUE",payload:{field:ne,value:de}});var De=Re===void 0?r:Re;return De?ee(_c(U.values,ne,de)):Promise.resolve()}),He=P.useCallback(function(ne,de){var Re=de,De=ne,rt;if(!pC(ne)){ne.persist&&ne.persist();var _t=ne.target?ne.target:ne.currentTarget,wr=_t.type,Qn=_t.name,fi=_t.id,ds=_t.value,Er=_t.checked;_t.outerHTML;var Cr=_t.options,aa=_t.multiple;Re=de||Qn||fi,De=/number|range/.test(wr)?(rt=parseFloat(ds),isNaN(rt)?"":rt):/checkbox/.test(wr)?Jie(Nn(U.values,Re),Er,ds):Cr&&aa?Qie(Cr):ds}Re&&Te(Re,De)},[Te,U.values]),Le=qo(function(ne){if(pC(ne))return function(de){return He(de,ne)};He(ne)}),xt=qo(function(ne,de,Re){de===void 0&&(de=!0),B({type:"SET_FIELD_TOUCHED",payload:{field:ne,value:de}});var De=Re===void 0?i:Re;return De?ee(U.values):Promise.resolve()}),zt=P.useCallback(function(ne,de){ne.persist&&ne.persist();var Re=ne.target,De=Re.name,rt=Re.id;Re.outerHTML;var _t=de||De||rt;xt(_t,!0)},[xt]),Ke=qo(function(ne){if(pC(ne))return function(de){return zt(de,ne)};zt(ne)}),lt=P.useCallback(function(ne){Hi(ne)?B({type:"SET_FORMIK_STATE",payload:ne}):B({type:"SET_FORMIK_STATE",payload:function(){return ne}})},[]),Mt=P.useCallback(function(ne){B({type:"SET_STATUS",payload:ne})},[]),Kt=P.useCallback(function(ne){B({type:"SET_ISSUBMITTING",payload:ne})},[]),Lt=qo(function(){return B({type:"SUBMIT_ATTEMPT"}),ee().then(function(ne){var de=ne instanceof Error,Re=!de&&Object.keys(ne).length===0;if(Re){var De;try{if(De=qr(),De===void 0)return}catch(rt){throw rt}return Promise.resolve(De).then(function(rt){return R.current&&B({type:"SUBMIT_SUCCESS"}),rt}).catch(function(rt){if(R.current)throw B({type:"SUBMIT_FAILURE"}),rt})}else if(R.current&&(B({type:"SUBMIT_FAILURE"}),de))throw ne})}),Wt=qo(function(ne){ne&&ne.preventDefault&&Hi(ne.preventDefault)&&ne.preventDefault(),ne&&ne.stopPropagation&&Hi(ne.stopPropagation)&&ne.stopPropagation(),Lt().catch(function(de){console.warn("Warning: An unhandled error was caught from submitForm()",de)})}),Mr={resetForm:ce,validateForm:ee,validateField:xe,setErrors:Q,setFieldError:fe,setFieldTouched:xt,setFieldValue:Te,setStatus:Mt,setSubmitting:Kt,setTouched:Y,setValues:re,setFormikState:lt,submitForm:Lt},qr=qo(function(){return h(U.values,Mr)}),ut=qo(function(ne){ne&&ne.preventDefault&&Hi(ne.preventDefault)&&ne.preventDefault(),ne&&ne.stopPropagation&&Hi(ne.stopPropagation)&&ne.stopPropagation(),ce()}),In=P.useCallback(function(ne){return{value:Nn(U.values,ne),error:Nn(U.errors,ne),touched:!!Nn(U.touched,ne),initialValue:Nn(E.current,ne),initialTouched:!!Nn(y.current,ne),initialError:Nn(_.current,ne)}},[U.errors,U.touched,U.values]),Mi=P.useCallback(function(ne){return{setValue:function(Re,De){return Te(ne,Re,De)},setTouched:function(Re,De){return xt(ne,Re,De)},setError:function(Re){return fe(ne,Re)}}},[Te,xt,fe]),Z=P.useCallback(function(ne){var de=By(ne),Re=de?ne.name:ne,De=Nn(U.values,Re),rt={name:Re,value:De,onChange:Le,onBlur:Ke};if(de){var _t=ne.type,wr=ne.value,Qn=ne.as,fi=ne.multiple;_t==="checkbox"?wr===void 0?rt.checked=!!De:(rt.checked=!!(Array.isArray(De)&&~De.indexOf(wr)),rt.value=wr):_t==="radio"?(rt.checked=De===wr,rt.value=wr):Qn==="select"&&fi&&(rt.value=rt.value||[],rt.multiple=!0)}return rt},[Ke,Le,U.values]),he=P.useMemo(function(){return!vu(E.current,U.values)},[E.current,U.values]),Ce=P.useMemo(function(){return typeof c<"u"?he?U.errors&&Object.keys(U.errors).length===0:c!==!1&&Hi(c)?c(g):c:U.errors&&Object.keys(U.errors).length===0},[c,he,U.errors,g]),Ye=Xr({},U,{initialValues:E.current,initialErrors:_.current,initialTouched:y.current,initialStatus:w.current,handleBlur:Ke,handleChange:Le,handleReset:ut,handleSubmit:Wt,resetForm:ce,setErrors:Q,setFormikState:lt,setFieldTouched:xt,setFieldValue:Te,setFieldError:fe,setStatus:Mt,setSubmitting:Kt,setTouched:Y,setValues:re,submitForm:Lt,validateForm:ee,validateField:xe,isValid:Ce,dirty:he,unregisterField:ve,registerField:_e,getFieldProps:Z,getFieldMeta:In,getFieldHelpers:Mi,validateOnBlur:i,validateOnChange:r,validateOnMount:o});return Ye}function Gie(e){var t=Hie(e),r=e.component,n=e.children,i=e.render,s=e.innerRef;return P.useImperativeHandle(s,function(){return t}),P.createElement($ie,{value:t},r?P.createElement(r,t):i?i(t):n?Hi(n)?n(t):vB(n)?null:P.Children.only(n):null)}function qie(e){var t={};if(e.inner){if(e.inner.length===0)return _c(t,e.path,e.message);for(var i=e.inner,r=Array.isArray(i),n=0,i=r?i:i[Symbol.iterator]();;){var s;if(r){if(n>=i.length)break;s=i[n++]}else{if(n=i.next(),n.done)break;s=n.value}var o=s;Nn(t,o.path)||(t=_c(t,o.path,o.message))}}return t}function Kie(e,t,r,n){r===void 0&&(r=!1);var i=_R(e);return t[r?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function _R(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);Array.isArray(e[n])===!0?t[n]=e[n].map(function(i){return Array.isArray(i)===!0||fA(i)?_R(i):i!==""?i:void 0}):fA(e[n])?t[n]=_R(e[n]):t[n]=e[n]!==""?e[n]:void 0}return t}function Yie(e,t,r){var n=e.slice();return t.forEach(function(s,o){if(typeof n[o]>"u"){var c=r.clone!==!1,a=c&&r.isMergeableObject(s);n[o]=a?mR(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[o]=mR(e[o],s,r):e.indexOf(s)===-1&&n.push(s)}),n}function Qie(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Jie(e,t,r){if(typeof e=="boolean")return!!t;var n=[],i=!1,s=-1;if(Array.isArray(e))n=e,s=e.indexOf(r),i=s>=0;else if(!r||r=="true"||r=="false")return!!t;return t&&r&&!i?n.concat(r):i?n.slice(0,s).concat(n.slice(s+1)):n}var Xie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function qo(e){var t=P.useRef(e);return Xie(function(){t.current=e}),P.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current.apply(void 0,n)},[])}function WA(e){var t=e.validate,r=e.name,n=e.render,i=e.children,s=e.as,o=e.component,c=e.className,a=Nu(e,["validate","name","render","children","as","component","className"]),l=gB(),h=Nu(l,["validate","validationSchema"]),p=h.registerField,g=h.unregisterField;P.useEffect(function(){return p(r,{validate:t}),function(){g(r)}},[p,g,r,t]);var E=h.getFieldProps(Xr({name:r},a)),_=h.getFieldMeta(r),y={field:E,form:h};if(n)return n(Xr({},y,{meta:_}));if(Hi(i))return i(Xr({},y,{meta:_}));if(o){if(typeof o=="string"){var w=a.innerRef,R=Nu(a,["innerRef"]);return P.createElement(o,Xr({ref:w},E,R,{className:c}),i)}return P.createElement(o,Xr({field:E,form:h},a,{className:c}),i)}var S=s||"input";if(typeof S=="string"){var C=a.innerRef,A=Nu(a,["innerRef"]);return P.createElement(S,Xr({ref:C},E,A,{className:c}),i)}return P.createElement(S,Xr({},E,a,{className:c}),i)}var bB=P.forwardRef(function(e,t){var r=e.action,n=Nu(e,["action"]),i=r??"#",s=gB(),o=s.handleReset,c=s.handleSubmit;return P.createElement("form",Xr({onSubmit:c,ref:t,onReset:o,action:i},n))});bB.displayName="Form";function Zie(e){var t=function(i){return P.createElement(Vie,null,function(s){return P.createElement(e,Xr({},i,{formik:s}))})},r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+r+")",Bie(t,e)}var ese=function(t,r,n){var i=qf(t),s=i[r];return i.splice(r,1),i.splice(n,0,s),i},tse=function(t,r,n){var i=qf(t),s=i[r];return i[r]=i[n],i[n]=s,i},gC=function(t,r,n){var i=qf(t);return i.splice(r,0,n),i},rse=function(t,r,n){var i=qf(t);return i[r]=n,i},qf=function(t){if(t){if(Array.isArray(t))return[].concat(t);var r=Object.keys(t).map(function(n){return parseInt(n)}).reduce(function(n,i){return i>n?i:n},0);return Array.from(Xr({},t,{length:r+1}))}else return[]},HA=function(t,r){var n=typeof t=="function"?t:r;return function(i){if(Array.isArray(i)||By(i)){var s=qf(i);return n(s)}return i}},nse=function(e){mB(t,e);function t(n){var i;return i=e.call(this,n)||this,i.updateArrayField=function(s,o,c){var a=i.props,l=a.name,h=a.formik.setFormikState;h(function(p){var g=HA(c,s),E=HA(o,s),_=_c(p.values,l,s(Nn(p.values,l))),y=c?g(Nn(p.errors,l)):void 0,w=o?E(Nn(p.touched,l)):void 0;return zA(y)&&(y=void 0),zA(w)&&(w=void 0),Xr({},p,{values:_,errors:c?_c(p.errors,l,y):p.errors,touched:o?_c(p.touched,l,w):p.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(qf(o),[cv(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(c){return tse(c,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(c){return ese(c,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(c){return gC(c,s,o)},function(c){return gC(c,s,null)},function(c){return gC(c,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(c){return rse(c,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(c){var a=c?[s].concat(c):[s];return o=a.length,a},function(c){return c?[null].concat(c):[null]},function(c){return c?[null].concat(c):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(VA(i)),i.pop=i.pop.bind(VA(i)),i}var r=t.prototype;return r.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!vu(Nn(i.formik.values,i.name),Nn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(i){var s;return this.updateArrayField(function(o){var c=o?qf(o):[];return s||(s=c[i]),Hi(c.splice)&&c.splice(i,1),Hi(c.every)&&c.every(function(a){return a===void 0})?[]:c},!0,!0),s},r.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},r.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,c=s.render,a=s.children,l=s.name,h=s.formik,p=Nu(h,["validate","validationSchema"]),g=Xr({},i,{form:p,name:l});return o?P.createElement(o,g):c?c(g):a?typeof a=="function"?a(g):vB(a)?null:P.Children.only(a):null},t}(P.Component);nse.defaultProps={validateOnChange:!0};var ise=function(e){mB(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.shouldComponentUpdate=function(i){return Nn(this.props.formik.errors,this.props.name)!==Nn(i.formik.errors,this.props.name)||Nn(this.props.formik.touched,this.props.name)!==Nn(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},r.render=function(){var i=this.props,s=i.component,o=i.formik,c=i.render,a=i.children,l=i.name,h=Nu(i,["component","formik","render","children","name"]),p=Nn(o.touched,l),g=Nn(o.errors,l);return p&&g?c?Hi(c)?c(g):null:a?Hi(a)?a(g):null:s?P.createElement(s,h,g):g:null},t}(P.Component),sse=Zie(ise);function sh(e){this._maxSize=e,this.clear()}sh.prototype.clear=function(){this._size=0,this._values=Object.create(null)};sh.prototype.get=function(e){return this._values[e]};sh.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var ose=/[^.^\]^[]+|(?=\[\]|\.\.)/g,xB=/^\d+$/,ase=/^\d/,cse=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,lse=/^\s*(['"]?)(.*?)(\1)\s*$/,nO=512,GA=new sh(nO),qA=new sh(nO),KA=new sh(nO),Nf={Cache:sh,split:SR,normalizePath:vC,setter:function(e){var t=vC(e);return qA.get(e)||qA.set(e,function(n,i){for(var s=0,o=t.length,c=n;s<o-1;){var a=t[s];if(a==="__proto__"||a==="constructor"||a==="prototype")return n;c=c[t[s++]]}c[t[s]]=i})},getter:function(e,t){var r=vC(e);return KA.get(e)||KA.set(e,function(i){for(var s=0,o=r.length;s<o;)if(i!=null||!t)i=i[r[s++]];else return;return i})},join:function(e){return e.reduce(function(t,r){return t+(iO(r)||xB.test(r)?"["+r+"]":(t?".":"")+r)},"")},forEach:function(e,t,r){use(Array.isArray(e)?e:SR(e),t,r)}};function vC(e){return GA.get(e)||GA.set(e,SR(e).map(function(t){return t.replace(lse,"$2")}))}function SR(e){return e.match(ose)||[""]}function use(e,t,r){var n=e.length,i,s,o,c;for(s=0;s<n;s++)i=e[s],i&&(hse(i)&&(i='"'+i+'"'),c=iO(i),o=!c&&/^\d+$/.test(i),t.call(r,i,c,o,s,e))}function iO(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function dse(e){return e.match(ase)&&!e.match(xB)}function fse(e){return cse.test(e)}function hse(e){return!iO(e)&&(dse(e)||fse(e))}const pse=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,dw=e=>e.match(pse)||[],fw=e=>e[0].toUpperCase()+e.slice(1),sO=(e,t)=>dw(e).join(t).toLowerCase(),_B=e=>dw(e).reduce((t,r)=>`${t}${t?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),mse=e=>fw(_B(e)),gse=e=>sO(e,"_"),vse=e=>sO(e,"-"),yse=e=>fw(sO(e," ")),bse=e=>dw(e).map(fw).join(" ");var yC={words:dw,upperFirst:fw,camelCase:_B,pascalCase:mse,snakeCase:gse,kebabCase:vse,sentenceCase:yse,titleCase:bse},oO={exports:{}};oO.exports=function(e){return SB(xse(e),e)};oO.exports.array=SB;function SB(e,t){var r=e.length,n=new Array(r),i={},s=r,o=_se(t),c=Sse(e);for(t.forEach(function(l){if(!c.has(l[0])||!c.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||a(e[s],s,new Set);return n;function a(l,h,p){if(p.has(l)){var g;try{g=", node was:"+JSON.stringify(l)}catch{g=""}throw new Error("Cyclic dependency"+g)}if(!c.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[h]){i[h]=!0;var E=o.get(l)||new Set;if(E=Array.from(E),h=E.length){p.add(l);do{var _=E[--h];a(_,c.get(_),p)}while(h);p.delete(l)}n[--r]=l}}}function xse(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var i=e[r];t.add(i[0]),t.add(i[1])}return Array.from(t)}function _se(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var i=e[r];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function Sse(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}var wse=oO.exports;const Ese=Kf(wse),Cse=Object.prototype.toString,Tse=Error.prototype.toString,Rse=RegExp.prototype.toString,kse=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Ose=/^Symbol\((.*)\)(.*)$/;function Pse(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function YA(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return Pse(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return kse.call(e).replace(Ose,"Symbol($1)");const n=Cse.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+Tse.call(e)+"]":n==="RegExp"?Rse.call(e):null}function Ku(e,t){let r=YA(e,t);return r!==null?r:JSON.stringify(e,function(n,i){let s=YA(this[n],t);return s!==null?s:i},2)}function wB(e){return e==null?[]:[].concat(e)}let EB,CB,TB,Nse=/\$\{\s*(\w+)\s*\}/g;EB=Symbol.toStringTag;class QA{constructor(t,r,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[EB]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=i,this.errors=[],this.inner=[],wB(t).forEach(s=>{if(Hs.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}CB=Symbol.hasInstance;TB=Symbol.toStringTag;class Hs extends Error{static formatError(t,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof t=="string"?t.replace(Nse,(i,s)=>Ku(r[s])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,n,i,s){const o=new QA(t,r,n,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[TB]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Hs)}static[CB](t){return QA[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ac={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{const i=n!=null&&n!==r?` (cast from the value \`${Ku(n,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Ku(r,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Ku(r,!0)}\``+i}},zs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ase={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},wR={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Ise={isValue:"${path} field must be ${value}"},dx={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},jse={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Dse={notType:e=>{const{path:t,value:r,spec:n}=e,i=n.types.length;if(Array.isArray(r)){if(r.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${r.length} for value: \`${Ku(r,!0)}\``;if(r.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${r.length} for value: \`${Ku(r,!0)}\``}return Hs.formatError(ac.notType,e)}};Object.assign(Object.create(null),{mixed:ac,string:zs,number:Ase,date:wR,object:dx,array:jse,boolean:Ise,tuple:Dse});const aO=e=>e&&e.__isYupSchema__;class V_{static fromOptions(t,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:s}=r,o=typeof n=="function"?n:(...c)=>c.every(a=>a===n);return new V_(t,(c,a)=>{var l;let h=o(...c)?i:s;return(l=h==null?void 0:h(a))!=null?l:a})}constructor(t,r){this.fn=void 0,this.refs=t,this.refs=t,this.fn=r}resolve(t,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),i=this.fn(n,t,r);if(i===void 0||i===t)return t;if(!aO(i))throw new TypeError("conditions must return a schema object");return i.resolve(r)}}const vb={context:"$",value:"."};class oh{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===vb.context,this.isValue=this.key[0]===vb.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?vb.context:this.isValue?vb.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Nf.getter(this.path,!0),this.map=r.map}getValue(t,r,n){let i=this.isContext?n:this.isValue?t:r;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}oh.prototype.__isYupRef=!0;const xf=e=>e==null;function rp(e){function t({value:r,path:n="",options:i,originalValue:s,schema:o},c,a){const{name:l,test:h,params:p,message:g,skipAbsent:E}=e;let{parent:_,context:y,abortEarly:w=o.spec.abortEarly,disableStackTrace:R=o.spec.disableStackTrace}=i;function S(X){return oh.isRef(X)?X.getValue(r,_,y):X}function C(X={}){const q=Object.assign({value:r,originalValue:s,label:o.spec.label,path:X.path||n,spec:o.spec,disableStackTrace:X.disableStackTrace||R},p,X.params);for(const ce of Object.keys(q))q[ce]=S(q[ce]);const ee=new Hs(Hs.formatError(X.message||g,q),r,q.path,X.type||l,q.disableStackTrace);return ee.params=q,ee}const A=w?c:a;let L={path:n,parent:_,type:l,from:i.from,createError:C,resolve:S,options:i,originalValue:s,schema:o};const U=X=>{Hs.isError(X)?A(X):X?a(null):A(C())},B=X=>{Hs.isError(X)?A(X):c(X)};if(E&&xf(r))return U(!0);let G;try{var J;if(G=h.call(L,r,L),typeof((J=G)==null?void 0:J.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${L.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(G).then(U,B)}}catch(X){B(X);return}U(G)}return t.OPTIONS=e,t}function Mse(e,t,r,n=r){let i,s,o;return t?(Nf.forEach(t,(c,a,l)=>{let h=a?c.slice(1,c.length-1):c;e=e.resolve({context:n,parent:i,value:r});let p=e.type==="tuple",g=l?parseInt(h,10):0;if(e.innerType||p){if(p&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&g>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${t}. because there is no value at that index. `);i=r,r=r&&r[g],e=p?e.spec.types[g]:e.innerType}if(!l){if(!e.fields||!e.fields[h])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=r,r=r&&r[h],e=e.fields[h]}s=h,o=a?"["+c+"]":"."+c}),{schema:e,parent:i,parentPath:s}):{parent:i,parentPath:t,schema:e}}class z_ extends Set{describe(){const t=[];for(const r of this.values())t.push(oh.isRef(r)?r.describe():r);return t}resolveAll(t){let r=[];for(const n of this.values())r.push(t(n));return r}clone(){return new z_(this.values())}merge(t,r){const n=this.clone();return t.forEach(i=>n.add(i)),r.forEach(i=>n.delete(i)),n}}function gp(e,t=new Map){if(aO(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let n=0;n<e.length;n++)r[n]=gp(e[n],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[n,i]of e.entries())r.set(n,gp(i,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const n of e)r.add(gp(n,t))}else if(e instanceof Object){r={},t.set(e,r);for(const[n,i]of Object.entries(e))r[n]=gp(i,t)}else throw Error(`Unable to clone ${e}`);return r}class Tc{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new z_,this._blacklist=new z_,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ac.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=gp(Object.assign({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=r,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,n=t.clone();const i=Object.assign({},r.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{t.tests.forEach(o=>{s.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((i,s)=>s.resolve(i,t),r),r=r.resolve(t)}return r}resolveOptions(t){var r,n,i,s;return Object.assign({},t,{from:t.from||[],strict:(r=t.strict)!=null?r:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=t.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(t,r={}){let n=this.resolve(Object.assign({value:t},r)),i=r.assert==="ignore-optionality",s=n._cast(t,r);if(r.assert!==!1&&!n.isType(s)){if(i&&xf(s))return s;let o=Ku(t),c=Ku(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(c!==o?`result of cast: ${c}`:""))}return s}_cast(t,r){let n=t===void 0?t:this.transforms.reduce((i,s)=>s.call(this,i,t,this),t);return n===void 0&&(n=this.getDefault(r)),n}_validate(t,r={},n,i){let{path:s,originalValue:o=t,strict:c=this.spec.strict}=r,a=t;c||(a=this._cast(a,Object.assign({assert:!1},r)));let l=[];for(let h of Object.values(this.internalTests))h&&l.push(h);this.runTests({path:s,value:a,originalValue:o,options:r,tests:l},n,h=>{if(h.length)return i(h,a);this.runTests({path:s,value:a,originalValue:o,options:r,tests:this.tests},n,i)})}runTests(t,r,n){let i=!1,{tests:s,value:o,originalValue:c,path:a,options:l}=t,h=y=>{i||(i=!0,r(y,o))},p=y=>{i||(i=!0,n(y,o))},g=s.length,E=[];if(!g)return p([]);let _={value:o,originalValue:c,path:a,options:l,schema:this};for(let y=0;y<s.length;y++){const w=s[y];w(_,h,function(S){S&&(Array.isArray(S)?E.push(...S):E.push(S)),--g<=0&&p(E)})}}asNestedTest({key:t,index:r,parent:n,parentPath:i,originalParent:s,options:o}){const c=t??r;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const a=typeof c=="number";let l=n[c];const h=Object.assign({},o,{strict:!0,parent:n,value:l,originalValue:s[c],key:void 0,[a?"index":"key"]:c,path:a||c.includes(".")?`${i||""}[${a?c:`"${c}"`}]`:(i?`${i}.`:"")+t});return(p,g,E)=>this.resolve(h)._validate(l,h,g,E)}validate(t,r){var n;let i=this.resolve(Object.assign({},r,{value:t})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return new Promise((o,c)=>i._validate(t,r,(a,l)=>{Hs.isError(a)&&(a.value=l),c(a)},(a,l)=>{a.length?c(new Hs(a,l,void 0,void 0,s)):o(l)}))}validateSync(t,r){var n;let i=this.resolve(Object.assign({},r,{value:t})),s,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:i.spec.disableStackTrace;return i._validate(t,Object.assign({},r,{sync:!0}),(c,a)=>{throw Hs.isError(c)&&(c.value=a),c},(c,a)=>{if(c.length)throw new Hs(c,t,void 0,void 0,o);s=a}),s}isValid(t,r){return this.validate(t,r).then(()=>!0,n=>{if(Hs.isError(n))return!1;throw n})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(n){if(Hs.isError(n))return!1;throw n}}_getDefault(t){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,t):gp(r)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,r){const n=this.clone({nullable:t});return n.internalTests.nullable=rp({message:r,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),n}optionality(t,r){const n=this.clone({optional:t});return n.internalTests.optionality=rp({message:r,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=ac.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ac.notNull){return this.nullability(!1,t)}required(t=ac.required){return this.clone().withMutation(r=>r.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=ac.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),i=rp(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),n.tests.push(i),n}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let n=this.clone(),i=wB(t).map(s=>new oh(s));return i.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new V_(i,r):V_.fromOptions(i,r)),n}typeError(t){let r=this.clone();return r.internalTests.typeError=rp({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(t,r=ac.oneOf){let n=this.clone();return t.forEach(i=>{n._whitelist.add(i),n._blacklist.delete(i)}),n.internalTests.whiteList=rp({message:r,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),n}notOneOf(t,r=ac.notOneOf){let n=this.clone();return t.forEach(i=>{n._blacklist.add(i),n._whitelist.delete(i)}),n.internalTests.blacklist=rp({message:r,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),n}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(t){const r=(t?this.resolve(t):this).clone(),{label:n,meta:i,optional:s,nullable:o}=r.spec;return{meta:i,label:n,optional:s,nullable:o,default:r.getDefault(t),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,l,h)=>h.findIndex(p=>p.name===a.name)===l)}}}Tc.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Tc.prototype[`${e}At`]=function(t,r,n={}){const{parent:i,parentPath:s,schema:o}=Mse(this,t,r,n.context);return o[e](i&&i[s],Object.assign({},n,{parent:i,path:t}))};for(const e of["equals","is"])Tc.prototype[e]=Tc.prototype.oneOf;for(const e of["not","nope"])Tc.prototype[e]=Tc.prototype.notOneOf;const Lse=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Fse(e){const t=ER(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(r=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}function ER(e){var t,r;const n=Lse.exec(e);return n?{year:Qc(n[1]),month:Qc(n[2],1)-1,day:Qc(n[3],1),hour:Qc(n[4]),minute:Qc(n[5]),second:Qc(n[6]),millisecond:n[7]?Qc(n[7].substring(0,3)):0,precision:(t=(r=n[7])==null?void 0:r.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Qc(n[10]),minuteOffset:Qc(n[11])}:null}function Qc(e,t=0){return Number(e)||t}let Use=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bse=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,$se=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vse="^\\d{4}-\\d{2}-\\d{2}",zse="\\d{2}:\\d{2}:\\d{2}",Wse="(([+-]\\d{2}(:?\\d{2})?)|Z)",Hse=new RegExp(`${Vse}T${zse}(\\.\\d+)?${Wse}$`),Gse=e=>xf(e)||e===e.trim(),qse={}.toString();function om(){return new RB}class RB extends Tc{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,r,n)=>{if(!n.spec.coerce||n.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===qse?t:i})})}required(t){return super.required(t).withMutation(r=>r.test({message:t||ac.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t))}length(t,r=zs.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,r=zs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,r=zs.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,r){let n=!1,i,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:i,name:s}=r:i=r),this.test({name:s||"matches",message:i||zs.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&n||o.search(t)!==-1})}email(t=zs.email){return this.matches(Use,{name:"email",message:t,excludeEmptyString:!0})}url(t=zs.url){return this.matches(Bse,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=zs.uuid){return this.matches($se,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let r="",n,i;return t&&(typeof t=="object"?{message:r="",allowOffset:n=!1,precision:i=void 0}=t:r=t),this.matches(Hse,{name:"datetime",message:r||zs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||zs.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const o=ER(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||zs.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=ER(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=zs.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:Gse})}lowercase(t=zs.lowercase){return this.transform(r=>xf(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>xf(r)||r===r.toLowerCase()})}uppercase(t=zs.uppercase){return this.transform(r=>xf(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>xf(r)||r===r.toUpperCase()})}}om.prototype=RB.prototype;let Kse=new Date(""),Yse=e=>Object.prototype.toString.call(e)==="[object Date]";class cO extends Tc{constructor(){super({type:"date",check(t){return Yse(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,r,n)=>!n.spec.coerce||n.isType(t)||t===null?t:(t=Fse(t),isNaN(t)?cO.INVALID_DATE:new Date(t)))})}prepareParam(t,r){let n;if(oh.isRef(t))n=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=i}return n}min(t,r=wR.min){let n=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(n)}})}max(t,r=wR.max){let n=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(n)}})}}cO.INVALID_DATE=Kse;function Qse(e,t=[]){let r=[],n=new Set,i=new Set(t.map(([o,c])=>`${o}-${c}`));function s(o,c){let a=Nf.split(o)[0];n.add(a),i.has(`${c}-${a}`)||r.push([c,a])}for(const o of Object.keys(e)){let c=e[o];n.add(o),oh.isRef(c)&&c.isSibling?s(c.path,o):aO(c)&&"deps"in c&&c.deps.forEach(a=>s(a,o))}return Ese.array(Array.from(n),r).reverse()}function JA(e,t){let r=1/0;return e.some((n,i)=>{var s;if((s=t.path)!=null&&s.includes(n))return r=i,!0}),r}function kB(e){return(t,r)=>JA(e,t)-JA(e,r)}const Jse=(e,t,r)=>{if(typeof e!="string")return e;let n=e;try{n=JSON.parse(e)}catch{}return r.isType(n)?n:e};function fx(e){if("fields"in e){const t={};for(const[r,n]of Object.entries(e.fields))t[r]=fx(n);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=fx(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(fx)}):"optional"in e?e.optional():e}const Xse=(e,t)=>{const r=[...Nf.normalizePath(t)];if(r.length===1)return r[0]in e;let n=r.pop(),i=Nf.getter(Nf.join(r),!0)(e);return!!(i&&n in i)};let XA=e=>Object.prototype.toString.call(e)==="[object Object]";function ZA(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(n=>r.indexOf(n)===-1)}const Zse=kB([]);function OB(e){return new PB(e)}class PB extends Tc{constructor(t){super({type:"object",check(r){return XA(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Zse,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,r={}){var n;let i=super._cast(t,r);if(i===void 0)return this.getDefault(r);if(!this._typeCheck(i))return i;let s=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),a={},l=Object.assign({},r,{parent:a,__validating:r.__validating||!1}),h=!1;for(const p of c){let g=s[p],E=p in i;if(g){let _,y=i[p];l.path=(r.path?`${r.path}.`:"")+p,g=g.resolve({value:y,context:r.context,parent:a});let w=g instanceof Tc?g.spec:void 0,R=w==null?void 0:w.strict;if(w!=null&&w.strip){h=h||p in i;continue}_=!r.__validating||!R?g.cast(i[p],l):i[p],_!==void 0&&(a[p]=_)}else E&&!o&&(a[p]=i[p]);(E!==p in a||a[p]!==i[p])&&(h=!0)}return h?a:i}_validate(t,r={},n,i){let{from:s=[],originalValue:o=t,recursive:c=this.spec.recursive}=r;r.from=[{schema:this,value:o},...s],r.__validating=!0,r.originalValue=o,super._validate(t,r,n,(a,l)=>{if(!c||!XA(l)){i(a,l);return}o=o||l;let h=[];for(let p of this._nodes){let g=this.fields[p];!g||oh.isRef(g)||h.push(g.asNestedTest({options:r,key:p,parent:l,parentPath:r.path,originalParent:o}))}this.runTests({tests:h,value:l,originalValue:o,options:r},n,p=>{i(p.sort(this._sortErrors).concat(a),l)})})}clone(t){const r=super.clone(t);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),n=r.fields;for(let[i,s]of Object.entries(this.fields)){const o=n[i];n[i]=o===void 0?s:o}return r.withMutation(i=>i.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var i;const s=this.fields[n];let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(o):void 0}),r}setFields(t,r){let n=this.clone();return n.fields=t,n._nodes=Qse(t,r),n._sortErrors=kB(Object.keys(t)),r&&(n._excludedEdges=r),n}shape(t,r=[]){return this.clone().withMutation(n=>{let i=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),i=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,t),i)})}partial(){const t={};for(const[r,n]of Object.entries(this.fields))t[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return fx(this)}pick(t){const r={};for(const n of t)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,i])=>t.includes(n)&&t.includes(i)))}omit(t){const r=[];for(const n of Object.keys(this.fields))t.includes(n)||r.push(n);return this.pick(r)}from(t,r,n){let i=Nf.getter(t,!0);return this.transform(s=>{if(!s)return s;let o=s;return Xse(s,t)&&(o=Object.assign({},s),n||delete o[t],o[r]=i(s)),o})}json(){return this.transform(Jse)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||dx.exact,test(r){if(r==null)return!0;const n=ZA(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,r=dx.noUnknown){typeof t!="boolean"&&(r=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(i){if(i==null)return!0;const s=ZA(this.schema,i);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,r=dx.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>{if(!r)return r;const n={};for(const i of Object.keys(r))n[t(i)]=r[i];return n})}camelCase(){return this.transformKeys(yC.camelCase)}snakeCase(){return this.transformKeys(yC.snakeCase)}constantCase(){return this.transformKeys(t=>yC.snakeCase(t).toUpperCase())}describe(t){const r=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[s,o]of Object.entries(r.fields)){var i;let c=t;(i=c)!=null&&i.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[s]})),n.fields[s]=o.describe(c)}return n}}OB.prototype=PB.prototype;const lO=({formFields:e,onSubmit:t,initialValues:r})=>{const n=OB(e.reduce((i,s)=>(s.validation&&(i[s.name]=s.validation),i),{}));return d.jsx(Gie,{initialValues:r,validationSchema:n,onSubmit:t,children:()=>d.jsxs(bB,{children:[e.map(i=>{var s;return d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:i.name,className:"block font-medium",children:i.label}),i.type==="select"?d.jsxs(WA,{as:"select",id:i.name,name:i.name,className:"w-full border rounded px-2 py-1",children:[d.jsxs("option",{value:"",children:["Select ",i.label]}),(s=i.options)==null?void 0:s.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))]}):d.jsx(WA,{id:i.name,name:i.name,type:i.type,placeholder:i.placeholder,className:"w-full border rounded px-2 py-1"}),d.jsx(sse,{name:i.name,component:"div",className:"text-red-500 text-sm"})]},i.name)}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]})})};var NB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eI=ht.createContext&&ht.createContext(NB),eoe=["attr","size","title"];function toe(e,t){if(e==null)return{};var r=roe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function roe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){noe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function noe(e,t,r){return t=ioe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ioe(e){var t=soe(e,"string");return typeof t=="symbol"?t:t+""}function soe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AB(e){return e&&e.map((t,r)=>ht.createElement(t.tag,H_({key:r},t.attr),AB(t.child)))}function IB(e){return t=>ht.createElement(ooe,W_({attr:H_({},e.attr)},t),AB(e.child))}function ooe(e){var t=r=>{var{attr:n,size:i,title:s}=e,o=toe(e,eoe),c=i||r.size||"1em",a;return r.className&&(a=r.className),e.className&&(a=(a?a+" ":"")+e.className),ht.createElement("svg",W_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:a,style:H_(H_({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&ht.createElement("title",null,s),e.children)};return eI!==void 0?ht.createElement(eI.Consumer,null,r=>t(r)):t(NB)}function hw(e){return IB({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function aoe(e){return IB({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}const pw=({isOpen:e,onClose:t,children:r})=>e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white rounded shadow-lg w-3/4 max-w-lg p-6 relative",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-black",onClick:t,children:d.jsx(aoe,{})}),r]})}):null,coe=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(null),i=en(),{board:s,isLoading:o}=Wr(g=>g.board);P.useEffect(()=>{i(Pp())},[i]);const c=[{name:"boardname",label:"Board Name",type:"text",placeholder:"Enter Board Full Name",validation:om().required("Board Name is required.")},{name:"boardshortname",label:"Board Short Name",type:"text",placeholder:"Enter Board Short Name",validation:om().required("Board Short Name is required.")}],a=c.reduce((g,E)=>(g[E.name]="",g),{}),l=g=>{i(r?lx({_id:r._id,data:g}):cx(g)),t(!1),n(null)},h=g=>{i(ux({boardId:g}))},p=g=>{n(g),t(!0)};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Boards"}),d.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{n(null),t(!e)},children:"Add Board"})]}),d.jsxs(pw,{isOpen:e,onClose:()=>t(!1),children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:r?"Edit Board":"Add Board"}),d.jsx(lO,{formFields:c,initialValues:r||a,onSubmit:l})]}),d.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Full Name"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Short Name"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),d.jsx("tbody",{children:Array.isArray(s)&&s.map((g,E)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:g.boardname}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:g.boardshortname}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx(hd,{id:g._id,checked:g.isActive,onCheckedChange:()=>h(g._id)})}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(g),children:d.jsx(hw,{})})})]},g._id||E))})]})]})})},loe=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(null),i=en(),{standards:s,isLoading:o}=Wr(g=>g.standard);console.log(s,"standards"),P.useEffect(()=>{i(zu())},[i]);const c=[{name:"std",label:"Standard Name",type:"text",placeholder:"Enter standard name",validation:om().required("Standard Name is required.")}],a=c.reduce((g,E)=>(g[E.name]="",g),{}),l=g=>{console.log(g,"values"),i(r?Gb({id:r._id,data:g}):Hb(g)),t(!1),n(null)},h=g=>{console.log(g,"update data"),n(g),t(!0)},p=g=>{console.log(g,"toggle"),i(qb(g))};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Standards"}),d.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{n(null),t(!e)},children:"Add Standard"})]}),d.jsxs(pw,{isOpen:e,onClose:()=>t(!1),children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:r?"Edit Standard":"Add Standard"}),d.jsx(lO,{formFields:c,initialValues:r||a,onSubmit:l})]}),d.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard Name"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),d.jsx("tbody",{children:Array.isArray(s)&&s.map((g,E)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:g.std}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx(hd,{id:g._id,checked:g.isActive,onCheckedChange:()=>p(g._id)})}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>h(g),children:d.jsx(hw,{})})})]},g._id||E))})]})]})},uoe={activitys:[],currentactivity:null,isLoading:!1,error:null},hx=wt("createactivity",async(e,{rejectWithValue:t})=>{try{return(await gt.post(d8,e)).data}catch(r){return t(r.response.data)}}),px=wt("getAllactivity",async(e,{rejectWithValue:t})=>{try{return(await gt.get(h8)).data}catch(r){return t(r.response.data)}}),bC=wt("activityById",async(e,{rejectWithValue:t})=>{try{return(await gt.get(f8.replace(":id",e))).data}catch(r){return t(r.response.data)}}),mx=wt("updataactivity",async({id:e,data:t},{rejectWithValue:r})=>{try{return(await gt.put(p8.replace(":id",e),t)).data}catch(n){return r(n.response.data)}}),gx=wt("toggleactivity",async(e,{rejectWithValue:t})=>{try{return(await gt.post(m8,{activityId:e})).data}catch(r){return t(r.response.data)}}),doe=io({name:"activity",initialState:uoe,reducers:{},extraReducers:e=>{e.addCase(hx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(hx.fulfilled,(t,r)=>{t.isLoading=!1,t.activitys.push(r.payload)}).addCase(hx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(px.pending,t=>{t.isLoading=!0,t.error=null}).addCase(px.fulfilled,(t,r)=>{t.isLoading=!1,t.activitys=r.payload}).addCase(px.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(bC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(bC.fulfilled,(t,r)=>{t.isLoading=!1,t.currentactivity=r.payload}).addCase(bC.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(mx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(mx.fulfilled,(t,r)=>{t.isLoading=!1,t.activitys=t.activitys.map(n=>n._id===r.payload._id?r.payload:n)}).addCase(mx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(gx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(gx.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.activitys.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.activitys[n].isActive=!t.activitys[n].isActive)}).addCase(gx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),foe=doe.reducer,hoe=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(null),i=en(),{activitys:s,isLoading:o}=Wr(g=>g.activity);P.useEffect(()=>{i(px())},[i]);const c=[{name:"activityname",label:"Activity Name",type:"text",placeholder:"Enter Activity name",validation:om().required("Activity Name is required.")}],a=c.reduce((g,E)=>(g[E.name]="",g),{}),l=g=>{i(r?mx({id:r._id,data:g}):hx(g)),t(!1),n(null)},h=g=>{n(g),t(!0)},p=g=>{i(gx(g))};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Activity"}),d.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{n(null),t(!e)},children:"Add Standard"})]}),d.jsxs(pw,{isOpen:e,onClose:()=>t(!1),children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:r?"Edit Standard":"Add Standard"}),d.jsx(lO,{formFields:c,initialValues:r||a,onSubmit:l})]}),d.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Activity Name"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),d.jsx("tbody",{children:Array.isArray(s)&&s.map((g,E)=>d.jsxs("tr",{children:[d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:g.activityname}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx(hd,{id:g._id,checked:g.isActive,onCheckedChange:()=>p(g._id)})}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>h(g),children:d.jsx(hw,{})})})]},g._id||E))})]})]})})};var uO={},dO={};Object.defineProperty(dO,"__esModule",{value:!0});class poe{constructor(t){this.instance=void 0,this.options=t,typeof window<"u"&&(this.instance=new window.Razorpay(this.options))}on(t,r){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(t,r)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}dO.default=poe;var moe=ll&&ll.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),goe=ll&&ll.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),voe=ll&&ll.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&moe(t,e,r);return goe(t,e),t},yoe=ll&&ll.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uO,"__esModule",{value:!0});var jB=uO.useRazorpay=void 0;const xC=voe(P),boe=yoe(dO),Jg=(e,...t)=>{},xoe=()=>{const[e,t]=xC.useState(!1),[r,n]=xC.useState(),i=typeof window<"u",s=()=>!(!i||!("Razorpay"in window));function o(c){return new Promise((a,l)=>{const h=window.document.createElement("script");h.src=c,h.onload=function(){a()},h.onerror=function(p){l(p.toString())},document.body.appendChild(h)})}return xC.useEffect(()=>{if(Jg(),!i){Jg();return}t(!0),s()||(Jg(),o("https://checkout.razorpay.com/v1/checkout.js").then(()=>{Jg(),n(void 0)}).catch(c=>{Jg("script loading error",c),c instanceof Error?n(c.message):n("Unknown Error")}).finally(()=>t(!1)))},[]),{error:r,isLoading:e,Razorpay:boe.default}};jB=uO.useRazorpay=xoe;var DB={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ll,function(){return function(r){function n(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return r[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var i={};return n.m=r,n.c=i,n.d=function(s,o,c){n.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:c})},n.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(o,"a",o),o},n.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},n.p="",n(n.s=8)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s="swal-button";n.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:s,CONFIRM_BUTTON:s+"--confirm",CANCEL_BUTTON:s+"--cancel",DANGER_BUTTON:s+"--danger",BUTTON_LOADING:s+"--loading",BUTTON_LOADER:s+"__loader"},n.default=n.CLASS_NAMES},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getNode=function(s){var o="."+s;return document.querySelector(o)},n.stringToNode=function(s){var o=document.createElement("div");return o.innerHTML=s.trim(),o.firstChild},n.insertAfter=function(s,o){var c=o.nextSibling;o.parentNode.insertBefore(s,c)},n.removeNode=function(s){s.parentElement.removeChild(s)},n.throwErr=function(s){throw s=s.replace(/ +(?= )/g,""),"SweetAlert: "+(s=s.trim())},n.isPlainObject=function(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;var o=Object.getPrototypeOf(s);return o===null||o===Object.prototype},n.ordinalSuffixOf=function(s){var o=s%10,c=s%100;return o===1&&c!==11?s+"st":o===2&&c!==12?s+"nd":o===3&&c!==13?s+"rd":s+"th"}},function(r,n,i){function s(g){for(var E in g)n.hasOwnProperty(E)||(n[E]=g[E])}Object.defineProperty(n,"__esModule",{value:!0}),s(i(25));var o=i(26);n.overlayMarkup=o.default,s(i(27)),s(i(28)),s(i(29));var c=i(0),a=c.default.MODAL_TITLE,l=c.default.MODAL_TEXT,h=c.default.ICON,p=c.default.FOOTER;n.iconMarkup=`
  <div class="`+h+'"></div>',n.titleMarkup=`
  <div class="`+a+`"></div>
`,n.textMarkup=`
  <div class="`+l+'"></div>',n.footerMarkup=`
  <div class="`+p+`"></div>
`},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1);n.CONFIRM_KEY="confirm",n.CANCEL_KEY="cancel";var o={visible:!0,text:null,value:null,className:"",closeModal:!0},c=Object.assign({},o,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},o,{text:"OK",value:!0});n.defaultButtonList={cancel:c,confirm:a};var l=function(E){switch(E){case n.CONFIRM_KEY:return a;case n.CANCEL_KEY:return c;default:var _=E.charAt(0).toUpperCase()+E.slice(1);return Object.assign({},o,{text:_,value:E})}},h=function(E,_){var y=l(E);return _===!0?Object.assign({},y,{visible:!0}):typeof _=="string"?Object.assign({},y,{visible:!0,text:_}):s.isPlainObject(_)?Object.assign({visible:!0},y,_):Object.assign({},y,{visible:!1})},p=function(E){for(var _={},y=0,w=Object.keys(E);y<w.length;y++){var R=w[y],S=E[R],C=h(R,S);_[R]=C}return _.cancel||(_.cancel=c),_},g=function(E){var _={};switch(E.length){case 1:_[n.CANCEL_KEY]=Object.assign({},c,{visible:!1});break;case 2:_[n.CANCEL_KEY]=h(n.CANCEL_KEY,E[0]),_[n.CONFIRM_KEY]=h(n.CONFIRM_KEY,E[1]);break;default:s.throwErr("Invalid number of 'buttons' in array ("+E.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return _};n.getButtonListOpts=function(E){var _=n.defaultButtonList;return typeof E=="string"?_[n.CONFIRM_KEY]=h(n.CONFIRM_KEY,E):Array.isArray(E)?_=g(E):s.isPlainObject(E)?_=p(E):E===!0?_=g([!0,!0]):E===!1?_=g([!1,!1]):E===void 0&&(_=n.defaultButtonList),_}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(2),c=i(0),a=c.default.MODAL,l=c.default.OVERLAY,h=i(30),p=i(31),g=i(32),E=i(33);n.injectElIntoModal=function(R){var S=s.getNode(a),C=s.stringToNode(R);return S.appendChild(C),C};var _=function(R){R.className=a,R.textContent=""},y=function(R,S){_(R);var C=S.className;C&&R.classList.add(C)};n.initModalContent=function(R){var S=s.getNode(a);y(S,R),h.default(R.icon),p.initTitle(R.title),p.initText(R.text),E.default(R.content),g.default(R.buttons,R.dangerMode)};var w=function(){var R=s.getNode(l),S=s.stringToNode(o.modalMarkup);R.appendChild(S)};n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(3),o={isOpen:!1,promise:null,actions:{},timer:null},c=Object.assign({},o);n.resetState=function(){c=Object.assign({},o)},n.setActionValue=function(l){if(typeof l=="string")return a(s.CONFIRM_KEY,l);for(var h in l)a(h,l[h])};var a=function(l,h){c.actions[l]||(c.actions[l]={}),Object.assign(c.actions[l],{value:h})};n.setActionOptionsFor=function(l,h){var p=(h===void 0?{}:h).closeModal,g=p===void 0||p;Object.assign(c.actions[l],{closeModal:g})},n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(3),c=i(0),a=c.default.OVERLAY,l=c.default.SHOW_MODAL,h=c.default.BUTTON,p=c.default.BUTTON_LOADING,g=i(5);n.openModal=function(){s.getNode(a).classList.add(l),g.default.isOpen=!0};var E=function(){s.getNode(a).classList.remove(l),g.default.isOpen=!1};n.onAction=function(_){_===void 0&&(_=o.CANCEL_KEY);var y=g.default.actions[_],w=y.value;if(y.closeModal===!1){var R=h+"--"+_;s.getNode(R).classList.add(p)}else E();g.default.promise.resolve(w)},n.getState=function(){var _=Object.assign({},g.default);return delete _.promise,delete _.timer,_},n.stopLoading=function(){for(var _=document.querySelectorAll("."+h),y=0;y<_.length;y++)_[y].classList.remove(p)}},function(r,n){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){(function(s){r.exports=s.sweetAlert=i(9)}).call(n,i(7))},function(r,n,i){(function(s){r.exports=s.swal=i(10)}).call(n,i(7))},function(r,n,i){typeof window<"u"&&i(11),i(16);var s=i(23).default;r.exports=s},function(r,n,i){var s=i(12);typeof s=="string"&&(s=[[r.i,s,""]]);var o={insertAt:"top"};o.transform=void 0,i(14)(s,o),s.locals&&(r.exports=s.locals)},function(r,n,i){n=r.exports=i(13)(void 0),n.push([r.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(r,n){function i(o,c){var a=o[1]||"",l=o[3];if(!l)return a;if(c&&typeof btoa=="function"){var h=s(l);return[a].concat(l.sources.map(function(p){return"/*# sourceURL="+l.sourceRoot+p+" */"})).concat([h]).join(`
`)}return[a].join(`
`)}function s(o){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"}r.exports=function(o){var c=[];return c.toString=function(){return this.map(function(a){var l=i(a,o);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},c.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var h={},p=0;p<this.length;p++){var g=this[p][0];typeof g=="number"&&(h[g]=!0)}for(p=0;p<a.length;p++){var E=a[p];typeof E[0]=="number"&&h[E[0]]||(l&&!E[2]?E[2]=l:l&&(E[2]="("+E[2]+") and ("+l+")"),c.push(E))}},c}},function(r,n,i){function s(z,G){for(var J=0;J<z.length;J++){var X=z[J],q=w[X.id];if(q){q.refs++;for(var ee=0;ee<q.parts.length;ee++)q.parts[ee](X.parts[ee]);for(;ee<X.parts.length;ee++)q.parts.push(g(X.parts[ee],G))}else{for(var ce=[],ee=0;ee<X.parts.length;ee++)ce.push(g(X.parts[ee],G));w[X.id]={id:X.id,refs:1,parts:ce}}}}function o(z,G){for(var J=[],X={},q=0;q<z.length;q++){var ee=z[q],ce=G.base?ee[0]+G.base:ee[0],xe=ee[1],_e=ee[2],ve=ee[3],Y={css:xe,media:_e,sourceMap:ve};X[ce]?X[ce].parts.push(Y):J.push(X[ce]={id:ce,parts:[Y]})}return J}function c(z,G){var J=S(z.insertInto);if(!J)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var X=L[L.length-1];if(z.insertAt==="top")X?X.nextSibling?J.insertBefore(G,X.nextSibling):J.appendChild(G):J.insertBefore(G,J.firstChild),L.push(G);else{if(z.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");J.appendChild(G)}}function a(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z);var G=L.indexOf(z);G>=0&&L.splice(G,1)}function l(z){var G=document.createElement("style");return z.attrs.type="text/css",p(G,z.attrs),c(z,G),G}function h(z){var G=document.createElement("link");return z.attrs.type="text/css",z.attrs.rel="stylesheet",p(G,z.attrs),c(z,G),G}function p(z,G){Object.keys(G).forEach(function(J){z.setAttribute(J,G[J])})}function g(z,G){var J,X,q,ee;if(G.transform&&z.css){if(!(ee=G.transform(z.css)))return function(){};z.css=ee}if(G.singleton){var ce=A++;J=C||(C=l(G)),X=E.bind(null,J,ce,!1),q=E.bind(null,J,ce,!0)}else z.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(J=h(G),X=y.bind(null,J,G),q=function(){a(J),J.href&&URL.revokeObjectURL(J.href)}):(J=l(G),X=_.bind(null,J),q=function(){a(J)});return X(z),function(xe){if(xe){if(xe.css===z.css&&xe.media===z.media&&xe.sourceMap===z.sourceMap)return;X(z=xe)}else q()}}function E(z,G,J,X){var q=J?"":X.css;if(z.styleSheet)z.styleSheet.cssText=B(G,q);else{var ee=document.createTextNode(q),ce=z.childNodes;ce[G]&&z.removeChild(ce[G]),ce.length?z.insertBefore(ee,ce[G]):z.appendChild(ee)}}function _(z,G){var J=G.css,X=G.media;if(X&&z.setAttribute("media",X),z.styleSheet)z.styleSheet.cssText=J;else{for(;z.firstChild;)z.removeChild(z.firstChild);z.appendChild(document.createTextNode(J))}}function y(z,G,J){var X=J.css,q=J.sourceMap,ee=G.convertToAbsoluteUrls===void 0&&q;(G.convertToAbsoluteUrls||ee)&&(X=U(X)),q&&(X+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(q))))+" */");var ce=new Blob([X],{type:"text/css"}),xe=z.href;z.href=URL.createObjectURL(ce),xe&&URL.revokeObjectURL(xe)}var w={},R=function(z){var G;return function(){return G===void 0&&(G=z.apply(this,arguments)),G}}(function(){return window&&document&&document.all&&!window.atob}),S=function(z){var G={};return function(J){return G[J]===void 0&&(G[J]=z.call(this,J)),G[J]}}(function(z){return document.querySelector(z)}),C=null,A=0,L=[],U=i(15);r.exports=function(z,G){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");G=G||{},G.attrs=typeof G.attrs=="object"?G.attrs:{},G.singleton||(G.singleton=R()),G.insertInto||(G.insertInto="head"),G.insertAt||(G.insertAt="bottom");var J=o(z,G);return s(J,G),function(X){for(var q=[],ee=0;ee<J.length;ee++){var ce=J[ee],xe=w[ce.id];xe.refs--,q.push(xe)}X&&s(o(X,G),G);for(var ee=0;ee<q.length;ee++){var xe=q[ee];if(xe.refs===0){for(var _e=0;_e<xe.parts.length;_e++)xe.parts[_e]();delete w[xe.id]}}}};var B=function(){var z=[];return function(G,J){return z[G]=J,z.filter(Boolean).join(`
`)}}()},function(r,n){r.exports=function(i){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var o=s.protocol+"//"+s.host,c=o+s.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,l){var h=l.trim().replace(/^"(.*)"$/,function(g,E){return E}).replace(/^'(.*)'$/,function(g,E){return E});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(h))return a;var p;return p=h.indexOf("//")===0?h:h.indexOf("/")===0?o+h:c+h.replace(/^\.\//,""),"url("+JSON.stringify(p)+")"})}},function(r,n,i){var s=i(17);typeof window>"u"||window.Promise||(window.Promise=s),i(21),String.prototype.includes||(String.prototype.includes=function(o,c){return typeof c!="number"&&(c=0),!(c+o.length>this.length)&&this.indexOf(o,c)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,c){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),l=a.length>>>0;if(l===0)return!1;for(var h=0|c,p=Math.max(h>=0?h:l-Math.abs(h),0);p<l;){if(function(g,E){return g===E||typeof g=="number"&&typeof E=="number"&&isNaN(g)&&isNaN(E)}(a[p],o))return!0;p++}return!1}}),typeof window<"u"&&function(o){o.forEach(function(c){c.hasOwnProperty("remove")||Object.defineProperty(c,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(r,n,i){(function(s){(function(o){function c(){}function a(R,S){return function(){R.apply(S,arguments)}}function l(R){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof R!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(R,this)}function h(R,S){for(;R._state===3;)R=R._value;if(R._state===0)return void R._deferreds.push(S);R._handled=!0,l._immediateFn(function(){var C=R._state===1?S.onFulfilled:S.onRejected;if(C===null)return void(R._state===1?p:g)(S.promise,R._value);var A;try{A=C(R._value)}catch(L){return void g(S.promise,L)}p(S.promise,A)})}function p(R,S){try{if(S===R)throw new TypeError("A promise cannot be resolved with itself.");if(S&&(typeof S=="object"||typeof S=="function")){var C=S.then;if(S instanceof l)return R._state=3,R._value=S,void E(R);if(typeof C=="function")return void y(a(C,S),R)}R._state=1,R._value=S,E(R)}catch(A){g(R,A)}}function g(R,S){R._state=2,R._value=S,E(R)}function E(R){R._state===2&&R._deferreds.length===0&&l._immediateFn(function(){R._handled||l._unhandledRejectionFn(R._value)});for(var S=0,C=R._deferreds.length;S<C;S++)h(R,R._deferreds[S]);R._deferreds=null}function _(R,S,C){this.onFulfilled=typeof R=="function"?R:null,this.onRejected=typeof S=="function"?S:null,this.promise=C}function y(R,S){var C=!1;try{R(function(A){C||(C=!0,p(S,A))},function(A){C||(C=!0,g(S,A))})}catch(A){if(C)return;C=!0,g(S,A)}}var w=setTimeout;l.prototype.catch=function(R){return this.then(null,R)},l.prototype.then=function(R,S){var C=new this.constructor(c);return h(this,new _(R,S,C)),C},l.all=function(R){var S=Array.prototype.slice.call(R);return new l(function(C,A){function L(z,G){try{if(G&&(typeof G=="object"||typeof G=="function")){var J=G.then;if(typeof J=="function")return void J.call(G,function(X){L(z,X)},A)}S[z]=G,--U==0&&C(S)}catch(X){A(X)}}if(S.length===0)return C([]);for(var U=S.length,B=0;B<S.length;B++)L(B,S[B])})},l.resolve=function(R){return R&&typeof R=="object"&&R.constructor===l?R:new l(function(S){S(R)})},l.reject=function(R){return new l(function(S,C){C(R)})},l.race=function(R){return new l(function(S,C){for(var A=0,L=R.length;A<L;A++)R[A].then(S,C)})},l._immediateFn=typeof s=="function"&&function(R){s(R)}||function(R){w(R,0)},l._unhandledRejectionFn=function(R){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",R)},l._setImmediateFn=function(R){l._immediateFn=R},l._setUnhandledRejectionFn=function(R){l._unhandledRejectionFn=R},r!==void 0&&r.exports?r.exports=l:o.Promise||(o.Promise=l)})(this)}).call(n,i(18).setImmediate)},function(r,n,i){function s(c,a){this._id=c,this._clearFn=a}var o=Function.prototype.apply;n.setTimeout=function(){return new s(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new s(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(c){c&&c.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(c,a){clearTimeout(c._idleTimeoutId),c._idleTimeout=a},n.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},n._unrefActive=n.active=function(c){clearTimeout(c._idleTimeoutId);var a=c._idleTimeout;a>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},a))},i(19),n.setImmediate=setImmediate,n.clearImmediate=clearImmediate},function(r,n,i){(function(s,o){(function(c,a){function l(C){typeof C!="function"&&(C=new Function(""+C));for(var A=new Array(arguments.length-1),L=0;L<A.length;L++)A[L]=arguments[L+1];var U={callback:C,args:A};return y[_]=U,E(_),_++}function h(C){delete y[C]}function p(C){var A=C.callback,L=C.args;switch(L.length){case 0:A();break;case 1:A(L[0]);break;case 2:A(L[0],L[1]);break;case 3:A(L[0],L[1],L[2]);break;default:A.apply(a,L)}}function g(C){if(w)setTimeout(g,0,C);else{var A=y[C];if(A){w=!0;try{p(A)}finally{h(C),w=!1}}}}if(!c.setImmediate){var E,_=1,y={},w=!1,R=c.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(c);S=S&&S.setTimeout?S:c,{}.toString.call(c.process)==="[object process]"?function(){E=function(C){o.nextTick(function(){g(C)})}}():function(){if(c.postMessage&&!c.importScripts){var C=!0,A=c.onmessage;return c.onmessage=function(){C=!1},c.postMessage("","*"),c.onmessage=A,C}}()?function(){var C="setImmediate$"+Math.random()+"$",A=function(L){L.source===c&&typeof L.data=="string"&&L.data.indexOf(C)===0&&g(+L.data.slice(C.length))};c.addEventListener?c.addEventListener("message",A,!1):c.attachEvent("onmessage",A),E=function(L){c.postMessage(C+L,"*")}}():c.MessageChannel?function(){var C=new MessageChannel;C.port1.onmessage=function(A){g(A.data)},E=function(A){C.port2.postMessage(A)}}():R&&"onreadystatechange"in R.createElement("script")?function(){var C=R.documentElement;E=function(A){var L=R.createElement("script");L.onreadystatechange=function(){g(A),L.onreadystatechange=null,C.removeChild(L),L=null},C.appendChild(L)}}():function(){E=function(C){setTimeout(g,0,C)}}(),S.setImmediate=l,S.clearImmediate=h}})(typeof self>"u"?s===void 0?this:s:self)}).call(n,i(7),i(20))},function(r,n){function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(C){if(g===setTimeout)return setTimeout(C,0);if((g===i||!g)&&setTimeout)return g=setTimeout,setTimeout(C,0);try{return g(C,0)}catch{try{return g.call(null,C,0)}catch{return g.call(this,C,0)}}}function c(C){if(E===clearTimeout)return clearTimeout(C);if((E===s||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(C);try{return E(C)}catch{try{return E.call(null,C)}catch{return E.call(this,C)}}}function a(){R&&y&&(R=!1,y.length?w=y.concat(w):S=-1,w.length&&l())}function l(){if(!R){var C=o(a);R=!0;for(var A=w.length;A;){for(y=w,w=[];++S<A;)y&&y[S].run();S=-1,A=w.length}y=null,R=!1,c(C)}}function h(C,A){this.fun=C,this.array=A}function p(){}var g,E,_=r.exports={};(function(){try{g=typeof setTimeout=="function"?setTimeout:i}catch{g=i}try{E=typeof clearTimeout=="function"?clearTimeout:s}catch{E=s}})();var y,w=[],R=!1,S=-1;_.nextTick=function(C){var A=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)A[L-1]=arguments[L];w.push(new h(C,A)),w.length!==1||R||o(l)},h.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=p,_.addListener=p,_.once=p,_.off=p,_.removeListener=p,_.removeAllListeners=p,_.emit=p,_.prependListener=p,_.prependOnceListener=p,_.listeners=function(C){return[]},_.binding=function(C){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(C){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},function(r,n,i){i(22).polyfill()},function(r,n,i){function s(c,a){if(c==null)throw new TypeError("Cannot convert first argument to object");for(var l=Object(c),h=1;h<arguments.length;h++){var p=arguments[h];if(p!=null)for(var g=Object.keys(Object(p)),E=0,_=g.length;E<_;E++){var y=g[E],w=Object.getOwnPropertyDescriptor(p,y);w!==void 0&&w.enumerable&&(l[y]=p[y])}}return l}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}r.exports={assign:s,polyfill:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(24),o=i(6),c=i(5),a=i(36),l=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];if(typeof window<"u"){var g=a.getOpts.apply(void 0,h);return new Promise(function(E,_){c.default.promise={resolve:E,reject:_},s.default(g),setTimeout(function(){o.openModal()})})}};l.close=o.onAction,l.getState=o.getState,l.setActionValue=c.setActionValue,l.stopLoading=o.stopLoading,l.setDefaults=a.setDefaults,n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(0),c=o.default.MODAL,a=i(4),l=i(34),h=i(35),p=i(1);n.init=function(g){s.getNode(c)||(document.body||p.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),l.default(),a.default()),a.initModalContent(g),h.default(g)},n.default=n.init},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=s.default.MODAL;n.modalMarkup=`
  <div class="`+o+'" role="dialog" aria-modal="true"></div>',n.default=n.modalMarkup},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=s.default.OVERLAY,c=`<div 
    class="`+o+`"
    tabIndex="-1">
  </div>`;n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=s.default.ICON;n.errorIconMarkup=function(){var c=o+"--error",a=c+"__line";return`
    <div class="`+c+`__x-mark">
      <span class="`+a+" "+a+`--left"></span>
      <span class="`+a+" "+a+`--right"></span>
    </div>
  `},n.warningIconMarkup=function(){var c=o+"--warning";return`
    <span class="`+c+`__body">
      <span class="`+c+`__dot"></span>
    </span>
  `},n.successIconMarkup=function(){var c=o+"--success";return`
    <span class="`+c+"__line "+c+`__line--long"></span>
    <span class="`+c+"__line "+c+`__line--tip"></span>

    <div class="`+c+`__ring"></div>
    <div class="`+c+`__hide-corners"></div>
  `}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=s.default.CONTENT;n.contentMarkup=`
  <div class="`+o+`">

  </div>
`},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),o=s.default.BUTTON_CONTAINER,c=s.default.BUTTON,a=s.default.BUTTON_LOADER;n.buttonMarkup=`
  <div class="`+o+`">

    <button
      class="`+c+`"
    ></button>

    <div class="`+a+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4),o=i(2),c=i(0),a=c.default.ICON,l=c.default.ICON_CUSTOM,h=["error","warning","success","info"],p={error:o.errorIconMarkup(),warning:o.warningIconMarkup(),success:o.successIconMarkup()},g=function(y,w){var R=a+"--"+y;w.classList.add(R);var S=p[y];S&&(w.innerHTML=S)},E=function(y,w){w.classList.add(l);var R=document.createElement("img");R.src=y,w.appendChild(R)},_=function(y){if(y){var w=s.injectElIntoModal(o.iconMarkup);h.includes(y)?g(y,w):E(y,w)}};n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(2),o=i(4),c=function(a){navigator.userAgent.includes("AppleWebKit")&&(a.style.display="none",a.offsetHeight,a.style.display="")};n.initTitle=function(a){if(a){var l=o.injectElIntoModal(s.titleMarkup);l.textContent=a,c(l)}},n.initText=function(a){if(a){var l=document.createDocumentFragment();a.split(`
`).forEach(function(p,g,E){l.appendChild(document.createTextNode(p)),g<E.length-1&&l.appendChild(document.createElement("br"))});var h=o.injectElIntoModal(s.textMarkup);h.appendChild(l),c(h)}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(4),c=i(0),a=c.default.BUTTON,l=c.default.DANGER_BUTTON,h=i(3),p=i(2),g=i(6),E=i(5),_=function(w,R,S){var C=R.text,A=R.value,L=R.className,U=R.closeModal,B=s.stringToNode(p.buttonMarkup),z=B.querySelector("."+a),G=a+"--"+w;z.classList.add(G),L&&(Array.isArray(L)?L:L.split(" ")).filter(function(X){return X.length>0}).forEach(function(X){z.classList.add(X)}),S&&w===h.CONFIRM_KEY&&z.classList.add(l),z.textContent=C;var J={};return J[w]=A,E.setActionValue(J),E.setActionOptionsFor(w,{closeModal:U}),z.addEventListener("click",function(){return g.onAction(w)}),B},y=function(w,R){var S=o.injectElIntoModal(p.footerMarkup);for(var C in w){var A=w[C],L=_(C,A,R);A.visible&&S.appendChild(L)}S.children.length===0&&S.remove()};n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(3),o=i(4),c=i(2),a=i(5),l=i(6),h=i(0),p=h.default.CONTENT,g=function(y){y.addEventListener("input",function(w){var R=w.target,S=R.value;a.setActionValue(S)}),y.addEventListener("keyup",function(w){if(w.key==="Enter")return l.onAction(s.CONFIRM_KEY)}),setTimeout(function(){y.focus(),a.setActionValue("")},0)},E=function(y,w,R){var S=document.createElement(w),C=p+"__"+w;S.classList.add(C);for(var A in R){var L=R[A];S[A]=L}w==="input"&&g(S),y.appendChild(S)},_=function(y){if(y){var w=o.injectElIntoModal(c.contentMarkup),R=y.element,S=y.attributes;typeof R=="string"?E(w,R,S):w.appendChild(R)}};n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(2),c=function(){var a=s.stringToNode(o.overlayMarkup);document.body.appendChild(a)};n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(5),o=i(6),c=i(1),a=i(3),l=i(0),h=l.default.MODAL,p=l.default.BUTTON,g=l.default.OVERLAY,E=function(X){X.preventDefault(),S()},_=function(X){X.preventDefault(),C()},y=function(X){if(s.default.isOpen)switch(X.key){case"Escape":return o.onAction(a.CANCEL_KEY)}},w=function(X){if(s.default.isOpen)switch(X.key){case"Tab":return E(X)}},R=function(X){if(s.default.isOpen)return X.key==="Tab"&&X.shiftKey?_(X):void 0},S=function(){var X=c.getNode(p);X&&(X.tabIndex=0,X.focus())},C=function(){var X=c.getNode(h),q=X.querySelectorAll("."+p),ee=q.length-1,ce=q[ee];ce&&ce.focus()},A=function(X){X[X.length-1].addEventListener("keydown",w)},L=function(X){X[0].addEventListener("keydown",R)},U=function(){var X=c.getNode(h),q=X.querySelectorAll("."+p);q.length&&(A(q),L(q))},B=function(X){if(c.getNode(g)===X.target)return o.onAction(a.CANCEL_KEY)},z=function(X){var q=c.getNode(g);q.removeEventListener("click",B),X&&q.addEventListener("click",B)},G=function(X){s.default.timer&&clearTimeout(s.default.timer),X&&(s.default.timer=window.setTimeout(function(){return o.onAction(a.CANCEL_KEY)},X))},J=function(X){X.closeOnEsc?document.addEventListener("keyup",y):document.removeEventListener("keyup",y),X.dangerMode?S():C(),U(),z(X.closeOnClickOutside),G(X.timer)};n.default=J},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o=i(3),c=i(37),a=i(38),l={title:null,text:null,icon:null,buttons:o.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},h=Object.assign({},l);n.setDefaults=function(R){h=Object.assign({},l,R)};var p=function(R){var S=R&&R.button,C=R&&R.buttons;return S!==void 0&&C!==void 0&&s.throwErr("Cannot set both 'button' and 'buttons' options!"),S!==void 0?{confirm:S}:C},g=function(R){return s.ordinalSuffixOf(R+1)},E=function(R,S){s.throwErr(g(S)+" argument ('"+R+"') is invalid")},_=function(R,S){var C=R+1,A=S[C];s.isPlainObject(A)||A===void 0||s.throwErr("Expected "+g(C)+" argument ('"+A+"') to be a plain object")},y=function(R,S){var C=R+1,A=S[C];A!==void 0&&s.throwErr("Unexpected "+g(C)+" argument ("+A+")")},w=function(R,S,C,A){var L=typeof S,U=L==="string",B=S instanceof Element;if(U){if(C===0)return{text:S};if(C===1)return{text:S,title:A[0]};if(C===2)return _(C,A),{icon:S};E(S,C)}else{if(B&&C===0)return _(C,A),{content:S};if(s.isPlainObject(S))return y(C,A),S;E(S,C)}};n.getOpts=function(){for(var R=[],S=0;S<arguments.length;S++)R[S]=arguments[S];var C={};R.forEach(function(U,B){var z=w(0,U,B,R);Object.assign(C,z)});var A=p(C);C.buttons=o.getButtonListOpts(A),delete C.button,C.content=c.getContentOpts(C.content);var L=Object.assign({},l,h,C);return Object.keys(L).forEach(function(U){a.DEPRECATED_OPTS[U]&&a.logDeprecation(U)}),L}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(1),o={element:"input",attributes:{placeholder:""}};n.getContentOpts=function(c){var a={};return s.isPlainObject(c)?Object.assign(a,c):c instanceof Element?{element:c}:c==="input"?o:null}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.logDeprecation=function(s){var o=n.DEPRECATED_OPTS[s],c=o.onlyRename,a=o.replacement,l=o.subOption,h=o.link,p=c?"renamed":"deprecated",g='SweetAlert warning: "'+s+'" option has been '+p+".";a&&(g+=" Please use"+(l?' "'+l+'" in ':" ")+'"'+a+'" instead.');var E="https://sweetalert.js.org";g+=h?" More details: "+E+h:" More details: "+E+"/guides/#upgrading-from-1x",console.warn(g)},n.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(DB);var _oe=DB.exports;const rI=Kf(_oe),Soe=()=>{const e=_l(),[t,r]=P.useState(null),{error:n,isLoading:i,Razorpay:s}=jB(),[o]=JV(),c=o.get("receiptId");P.useEffect(()=>{c&&(async()=>{try{const h=await sn.post(`${kT}${j8}`,{receiptId:c});r(h.data.data)}catch(h){console.error("Error fetching checkout data:",h),rI("Oops!",h.message,"error")}})()},[c]);const a=()=>{if(!t)return;const l={key:t.key,amount:t.amount,currency:"INR",name:t.name,description:t.description,order_id:t.orderId,prefill:{name:t.name,email:t.email,contact:t.contact},handler:async p=>{try{(await sn.post(`${kT}${D8}`,{razorpay_order_id:p.razorpay_order_id,razorpay_payment_id:p.razorpay_payment_id,razorpay_signature:p.razorpay_signature})).data.status==="ok"?e(`/payment-status/success?orderId=${t.orderId}`):e(`/payment-status/failed?orderId=${t.orderId}`)}catch(g){console.error("Error verifying payment:",g),rI("Oops!",g.message,"error")}}};new s(l).open()};return t?d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #E3F2FD, #BBDEFB)"},"aria-disabled":!i,children:d.jsxs("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"90%",padding:"20px",textAlign:"center",boxSizing:"border-box"},children:[d.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"10px",color:"#333"},children:"Secure Checkout"}),d.jsxs("div",{style:{textAlign:"left",marginBottom:"20px",fontSize:"0.95rem",color:"#555"},children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Order ID:"})," ",t.orderId]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Amount:"})," ",t.amount/100]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Currency:"})," ",t.currency]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Description:"})," ",t.description]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",t.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Contact:"})," ",t.contact]})]}),d.jsx("button",{onClick:a,style:{backgroundColor:"#387ADE",color:"#fff",fontSize:"1.1rem",padding:"12px 20px",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},children:"Proceed to Checkout"}),d.jsx("p",{children:n&&d.jsxs("p",{children:["Error loading Razorpay: ",n]})})]})}):d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:"Loading..."})},woe=()=>{const{status:e}=BD(),r=new URLSearchParams(window.location.search).get("orderId"),n=()=>{window.location.href=`kt://payment-${e}?orderId=${r}`},i=e==="success",s={margin:0,fontFamily:"Arial, sans-serif",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:i?"linear-gradient(135deg, #4caf50, #81c784)":"linear-gradient(135deg, #f44336, #e57373)",color:"#fff"},o={width:"100px",height:"100px",margin:"0 auto 20px",borderRadius:"50%",background:"#fff",display:"flex",justifyContent:"center",alignItems:"center",color:i?"#4caf50":"#f44336",fontSize:"50px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},c={background:"#fff",color:i?"#4caf50":"#f44336",border:"none",padding:"10px 20px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",textDecoration:"none",transition:"background 0.3s"};return d.jsx("div",{style:s,children:d.jsxs("div",{className:"container",style:{textAlign:"center",animation:"fadeIn 1s ease-in-out"},children:[d.jsx("div",{style:o,children:i?"✓":"✕"}),d.jsx("h1",{children:i?"Payment Successful":"Payment Failed"}),d.jsx("p",{children:i?"Your payment has been processed successfully. Thank you!":"Unfortunately, your payment could not be processed. Please try again."}),d.jsx("button",{style:c,onClick:n,children:"Back to App"})]})})},Eoe=kp({name:nn().min(1,"Name is required"),email:nn().email("Invalid email format"),mobile:nn().regex(/^\d+$/,"Mobile must be a valid number"),image:nn().optional(),expertise:Vu(nn()).min(1,"At least one area of expertise is required"),experienceYears:Of().min(0,"Experience must be at least 0 years"),bio:nn().optional(),isActive:M_().default(!0)});function Coe({initialData:e,onSubmit:t,onCancel:r}){const n=_m({resolver:WS(Eoe),defaultValues:{name:"",email:"",mobile:"",image:"",expertise:[""],experienceYears:0,bio:"",isActive:!0}});return P.useEffect(()=>{e?Object.keys(e).forEach(i=>{n.setValue(i,e[i])}):(n.clearErrors(),n.reset())},[e,n]),d.jsx(Sm,{...n,children:d.jsxs("form",{onSubmit:n.handleSubmit(t),className:"space-y-6",children:[d.jsx(fr,{control:n.control,name:"name",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Name"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Mentore Name",...i})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:n.control,name:"email",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Email"}),d.jsx(br,{children:d.jsx(ar,{type:"email",placeholder:"Mentor Email",...i})}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(fr,{control:n.control,name:"mobile",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Mobile"}),d.jsx(br,{children:d.jsx(ar,{type:"tel",placeholder:"Mentore Mobile",...i,onChange:s=>{const o=s.target.value;/^\d*$/.test(o)&&i.onChange(o)}})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:n.control,name:"experienceYears",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Experience Years"}),d.jsx(br,{children:d.jsx(ar,{type:"number",placeholder:"Experience Years",...i,onChange:s=>i.onChange(Number(s.target.value))})}),d.jsx(nr,{})]})})]}),d.jsx(fr,{control:n.control,name:"image",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Image URL"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"https://...",...i})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:n.control,name:"expertise",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Expertise"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Comma-separated expertise areas (e.g., Math, Science)",value:i.value.join(", "),onChange:s=>i.onChange(s.target.value.split(",").map(o=>o.trim()))})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:n.control,name:"bio",render:({field:i})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Bio"}),d.jsx(br,{children:d.jsx(eh,{placeholder:"Short bio about the mentor",...i})}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[d.jsx(Ot,{variant:"outline",onClick:r,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:e?"Update Mentore":"Add Mentore"})]})]})})}function Toe({open:e,onClose:t,mentore:r,onSubmit:n}){return d.jsx(ud,{open:e,onOpenChange:t,modal:!0,children:d.jsxs(Sl,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[d.jsx(wl,{children:d.jsx(El,{children:r?"Edit Mentore":"Add New Mentore"})}),d.jsx(Coe,{initialData:r,onSubmit:n,onCancel:t})]})})}const Roe={mentors:[],isLoading:!1,error:null,totalPages:1,currentPage:1},vx=wt("creatementore",async(e,{rejectWithValue:t})=>{try{return(await gt.post(P8,e)).data}catch(r){return t(r)}}),yx=wt("fetchmentore",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(N8,{params:{page:e,search:t}})).data}catch(n){return r(n)}}),bx=wt("updatementore",async({id:e,mentoreData:t},{rejectWithValue:r})=>{try{return(await gt.put(`${A8}/${e}`,t)).data}catch(n){return r(n)}}),xx=wt("togglementoreStatus",async(e,{rejectWithValue:t})=>{try{return(await gt.post(I8,{mentorId:e})).data}catch(r){return t(r)}}),koe=io({name:"mentors",initialState:Roe,reducers:{},extraReducers:e=>{e.addCase(vx.pending,(t,r)=>{t.isLoading=!0}).addCase(vx.fulfilled,(t,r)=>{t.isLoading=!1,t.mentors.push(r.payload),t.mentors.sort((n,i)=>n.createdAt<i.createdAt?1:-1)}).addCase(vx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload.response.data.message,$u({title:"Error",description:r.payload.response.data.message,variant:"destructive"})}).addCase(yx.pending,t=>{t.isLoading=!0}).addCase(yx.fulfilled,(t,r)=>{t.isLoading=!1,t.mentors=r.payload.docs,t.totalPages=r.payload.totalPages,t.currentPage=r.payload.currentPage}).addCase(yx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload.response.data.message,$u({title:"Error",description:r.payload.response.data.message,variant:"destructive"})}).addCase(bx.pending,(t,r)=>{t.isLoading=!0}).addCase(bx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload.response.data.message,$u({title:"Error",description:r.payload.response.data.message,variant:"destructive"})}).addCase(bx.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.mentors.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.mentors[n]=r.payload)}).addCase(xx.pending,(t,r)=>{}).addCase(xx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.error.message}).addCase(xx.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.mentors.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.mentors[n].isActive=!t.mentors[n].isActive)})}}),Ooe=koe.reducer,Poe=()=>{const e=en(),{toast:t}=kc(),[r,n]=P.useState(!1),[i,s]=P.useState(),[o,c]=P.useState(""),{mentors:a,isLoading:l,currentPage:h,totalPages:p}=Wr(S=>S.mentore);P.useEffect(()=>{R(1)},[o]);const g=()=>{s(void 0),n(!0)},E=S=>{s(S),n(!0)},_=()=>{n(!1),s(void 0)},y=S=>{console.log("creatementore :>> ",S),i?e(bx({id:i._id,mentoreData:S})).then(C=>{C.type=="updatementore/fulfilled"&&(t({title:"Success",description:"Mentore updated successfully."}),_())}):e(vx(S)).then(C=>{C.type=="creatementore/fulfilled"&&(t({title:"Success",description:"Mentore added successfully"}),_())})},w=S=>{e(xx(S._id))},R=S=>{e(yx({page:S,search:o}))};return d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Mentore"}),d.jsxs(Ot,{onClick:g,children:[d.jsx(Ju,{className:"mr-2 h-4 w-4"})," Add Mentore"]})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search mentor by name, mobile, email",value:o,onChange:S=>{c(S.target.value)},className:"max-w-sm"})}),d.jsx("div",{className:"rounded-md border bg-white",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Name"}),d.jsx(Qe,{children:"Profile"}),d.jsx(Qe,{children:"Email"}),d.jsx(Qe,{children:"Mobile"}),d.jsx(Qe,{children:"Expertise"}),d.jsx(Qe,{children:"ExperienceYears"}),d.jsx(Qe,{children:"Bio"}),d.jsx(Qe,{children:"Status"}),d.jsx(Qe,{className:"text-right",children:"Actions"})]})}),d.jsx(Do,{children:l?d.jsx(Tr,{children:d.jsx(Be,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):a.length===0?d.jsx(Tr,{children:d.jsx(Be,{colSpan:7,className:"text-center py-10",children:"No Mentore found"})}):a.map(S=>d.jsxs(Tr,{children:[d.jsx(Be,{className:"font-medium",children:S.name}),d.jsx(Be,{children:d.jsx("img",{src:S.image?S.image:"../assets/images/placeholder.webp",alt:S.name,className:"h-13 w-12 rounded-full object-cover"})}),d.jsx(Be,{children:S.email?S.email:"-"}),d.jsx(Be,{children:S.mobile?S.mobile:"-"}),d.jsx(Be,{children:S.expertise.join(", ")}),d.jsx(Be,{children:S.experienceYears}),d.jsx(Be,{children:S.bio}),d.jsx(Be,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.isActive?"Active":"Inactive"})}),d.jsxs(Be,{className:"text-right",children:[d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>E(S),children:d.jsx(yM,{className:"h-4 w-4"})}),d.jsx(Ot,{variant:"ghost",size:"icon",onClick:()=>w(S),children:S.isActive?d.jsx(cd,{className:"h-4 w-4"}):d.jsx(by,{className:"h-4 w-4"})})]})]},S._id))})]})}),p>=1&&d.jsx(sa,{currentPage:h,totalPages:p,onPageChange:R}),d.jsx(Toe,{open:r,onClose:_,mentore:i,onSubmit:y})]})},MB=({items:e,name:t,control:r,isLoading:n,search:i,onSearch:s})=>{const{field:{value:o,onChange:c}}=d1({name:t,control:r}),a=l=>{o.includes(l)?c(o.filter(h=>h!==l)):c([...o,l])};return d.jsxs(o1,{children:[d.jsx(a1,{asChild:!0,children:d.jsx(br,{children:d.jsx(Ot,{variant:"outline",role:"combobox",className:it("w-full justify-between",!o.length&&"text-muted-foreground"),children:o&&o.length>0?`${o.length} ${t} selected`:`Select ${t}`})})}),d.jsxs(BS,{className:"w-[400px] p-0 max-h-[200px] overflow-auto",children:[d.jsx("div",{className:"p-2",children:d.jsx(ar,{placeholder:"Search...",value:i,onChange:l=>s(l.target.value.trim())})}),n?d.jsx("div",{className:"p-4 text-center",children:"Loading..."}):e.length===0?d.jsx("div",{className:"p-4 text-center",children:"No data available"}):e.map(l=>d.jsx(Y2,{checked:o.includes(l.id),onCheckedChange:()=>a(l.id),className:"flex items-center space-x-2",children:l.label},l.id))]})]})},Noe={offers:[],isLoading:!1,error:null,currentPage:1,totalPages:1,courses:[],isLoadingCourse:!1,quizzes:[],isLoadingQuiz:!1},_x=wt("fetchOffers",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(W8,{params:{page:e,search:t}})).data}catch(n){return r(n.response.data)}}),Sx=wt("createOffer",async(e,{rejectWithValue:t})=>{try{return(await gt.post(H8,e)).data}catch(r){return t(r.response.data)}}),_C=wt("fetchOfferDetails",async(e,{rejectWithValue:t})=>{try{return(await gt.get(G8(e))).data}catch(r){return t(r.response.data)}}),wx=wt("updateOffer",async({id:e,updatedData:t},{rejectWithValue:r})=>{try{return(await gt.put(q8(e),t)).data}catch(n){return r(n.response.data)}}),Ex=wt("deleteOffer",async(e,{rejectWithValue:t})=>{try{return{...(await gt.delete(K8(e))).data,id:e}}catch(r){return t(r.response.data)}}),Cx=wt("searchEligibleQuizzes",async(e,{rejectWithValue:t})=>{try{return(await gt.post(Y8,e)).data}catch(r){return t(r.response.data)}}),Tx=wt("searchEligibleCourses",async(e,{rejectWithValue:t})=>{try{return(await gt.post(Q8,e)).data}catch(r){return t(r.response.data)}}),Aoe=io({name:"offer",initialState:Noe,reducers:{},extraReducers:e=>{e.addCase(_x.pending,t=>{t.isLoading=!0,t.error=null}).addCase(_x.fulfilled,(t,r)=>{t.isLoading=!1,t.offers=r.payload.offers,t.currentPage=r.payload.currentPage,t.totalPages=r.payload.totalPages}).addCase(_x.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Sx.pending,t=>{t.error=null}).addCase(Sx.fulfilled,(t,r)=>{t.isLoading=!1,t.offers.push(r.payload)}).addCase(Sx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload,$u({title:"Error",description:r.payload.message,variant:"destructive"})}).addCase(_C.pending,t=>{t.isLoading=!0,t.error=null}).addCase(_C.fulfilled,(t,r)=>{t.isLoading=!1,t.offers.findIndex(i=>i._id===r.payload._id)===-1&&t.offers.push(r.payload)}).addCase(_C.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(wx.pending,t=>{t.error=null}).addCase(wx.fulfilled,(t,r)=>{t.isLoading=!1;const n=t.offers.findIndex(i=>i._id===r.payload._id);n!==-1&&(t.offers[n]=r.payload)}).addCase(wx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload,$u({title:"Error",description:r.payload.message,variant:"destructive"})}).addCase(Ex.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Ex.fulfilled,(t,r)=>{t.isLoading=!1,t.offers=t.offers.filter(n=>n._id!==r.payload.id)}).addCase(Ex.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Tx.pending,t=>{t.isLoadingCourse=!0,t.error=null}).addCase(Tx.fulfilled,(t,r)=>{t.isLoadingCourse=!1,t.courses=r.payload.courses}).addCase(Tx.rejected,(t,r)=>{t.isLoadingCourse=!1,t.error=r.payload}).addCase(Cx.pending,t=>{t.isLoadingQuiz=!0,t.error=null}).addCase(Cx.fulfilled,(t,r)=>{t.isLoadingQuiz=!1,t.quizzes=r.payload.quizzes}).addCase(Cx.rejected,(t,r)=>{t.isLoadingQuiz=!1,t.error=r.payload})}}),Ioe=Aoe.reducer,joe=({courses:e,form:t,isLoading:r})=>{const n=e.map(a=>({id:a._id,label:a.title})),[i,s]=P.useState(""),o=en();P.useEffect(()=>{c(i)},[i]);const c=a=>{o(Tx({search:a}))};return d.jsx(f1,{control:t.control,name:"courses",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Courses"}),d.jsx(MB,{items:n,name:"courses",control:t.control,isLoading:r,onSearch:s,search:i}),d.jsx(nr,{})]})})},Doe=({quizzes:e,form:t,isLoading:r})=>{const n=e.map(a=>({id:a._id,label:a.title})),[i,s]=P.useState(""),o=en();P.useEffect(()=>{c(i)},[i]);const c=a=>{o(Cx({search:a}))};return d.jsx(f1,{control:t.control,name:"quizzes",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Quizzes"}),d.jsx(MB,{items:n,name:"quizzes",control:t.control,isLoading:r,onSearch:s,search:i}),d.jsx(nr,{})]})})};function Moe({form:e}){return d.jsxs("div",{className:"flex gap-4",children:[d.jsx(fr,{control:e.control,name:"startAt",render:({field:t})=>d.jsxs(tr,{className:"flex-1",children:[d.jsx(rr,{children:"Start Date"}),d.jsxs(iy,{children:[d.jsx(sy,{asChild:!0,children:d.jsx(br,{children:d.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?to(t.value,"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),d.jsx(Xp,{className:"w-auto p-0",align:"start",children:d.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:r=>r<new Date,initialFocus:!0})})]}),d.jsx(nr,{})]})}),d.jsx(fr,{control:e.control,name:"endAt",render:({field:t})=>d.jsxs(tr,{className:"flex-1",children:[d.jsx(rr,{children:"End Date"}),d.jsxs(iy,{children:[d.jsx(sy,{asChild:!0,children:d.jsx(br,{children:d.jsxs(Ot,{variant:"outline",className:it("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?to(t.value,"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(qp,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),d.jsx(Xp,{className:"w-auto p-0",align:"start",children:d.jsx(Zp,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:r=>r<e.getValues("startAt"),initialFocus:!0})})]}),d.jsx(nr,{})]})})]})}const Loe=kp({title:nn().min(1,"Title is required"),description:nn().min(1,"Description is required"),image:nn().min(1,"Image is required"),offrPer:Of().min(0).max(100),startAt:L_(),endAt:L_(),courses:Vu(nn()).default([]),quizzes:Vu(nn()).default([])});function Foe({initialData:e,onSubmit:t}){const{courses:r,quizzes:n,isLoadingCourse:i,isLoadingQuiz:s}=Wr(c=>c.offer);en();const o=_m({resolver:WS(Loe),defaultValues:{title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",image:(e==null?void 0:e.image)??"",offrPer:(e==null?void 0:e.offrPer)??0,startAt:e!=null&&e.startAt?new Date(e.startAt):new Date,endAt:e!=null&&e.endAt?new Date(e.endAt):new Date,courses:Array.isArray(e==null?void 0:e.courses)?e.courses:[],quizzes:Array.isArray(e==null?void 0:e.quizzes)?e.quizzes:[]}});return d.jsx(Sm,{...o,children:d.jsxs("form",{onSubmit:o.handleSubmit(t),className:"space-y-6",children:[d.jsx(fr,{control:o.control,name:"title",render:({field:c})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Title"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Enter offer title",...c})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:o.control,name:"description",render:({field:c})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Description"}),d.jsx(br,{children:d.jsx(eh,{placeholder:"Enter offer description",...c})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:o.control,name:"image",render:({field:c})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Offer Image"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Enter offer image",...c})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:o.control,name:"offrPer",render:({field:c})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Offer Percentage"}),d.jsx(br,{children:d.jsx(ar,{type:"number",placeholder:"Enter offer percentage",...c,onChange:a=>c.onChange(Number(a.target.value))})}),d.jsx(nr,{})]})}),d.jsx(Moe,{form:o}),d.jsx(joe,{form:o,courses:r,isLoading:i}),d.jsx(Doe,{form:o,quizzes:n,isLoading:s}),d.jsx(Ot,{type:"submit",className:"w-full",children:e?"Update Offer":"Create Offer"})]})})}function Uoe({isLoading:e,offers:t,onEdit:r,onDelete:n}){return d.jsx("div",{className:"bg-white rounded-md border",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Title"}),d.jsx(Qe,{children:"Percentage"}),d.jsx(Qe,{children:"Offer Applied"}),d.jsx(Qe,{children:"Start Date"}),d.jsx(Qe,{children:"End Date"}),d.jsx(Qe,{children:"Actions"})]})}),d.jsx(Do,{children:e?d.jsx(Tr,{children:d.jsx(Be,{colSpan:6,className:"text-center",children:"Loading..."})}):t.length==0?d.jsx(Tr,{children:d.jsx(Be,{colSpan:6,className:"text-center",children:"No Offer Available."})}):t.map(i=>d.jsxs(Tr,{children:[d.jsx(Be,{children:i.title}),d.jsxs(Be,{children:[i.offrPer,"%"]}),d.jsx(Be,{children:d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{children:[i.courses.length," ",i.courses.length>1?"Courses":"Course"]}),d.jsxs("span",{children:[i.quizzes.length," ",i.quizzes.length>1?"Quizzes":"Quiz"]})]})}),d.jsx(Be,{children:to(new Date(i.startAt),"PPP")}),d.jsx(Be,{children:to(new Date(i.endAt),"PPP")}),d.jsx(Be,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Ot,{variant:"outline",size:"icon",onClick:()=>r(i),children:d.jsx(Pk,{className:"h-4 w-4"})}),d.jsx(Ot,{variant:"destructive",size:"icon",onClick:()=>n(i._id),children:d.jsx(TT,{className:"h-4 w-4"})})]})})]},i._id))})]})})}const Boe=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(null),{toast:i}=kc(),{currentPage:s,totalPages:o,isLoading:c,offers:a}=Wr(w=>w.offer),[l,h]=P.useState(""),p=en();P.useEffect(()=>{g(1)},[l]);const g=w=>{p(_x({page:w,search:l}))},E=w=>{r?p(wx({id:r._id,updatedData:w})).then(R=>{R.type=="updateOffer/fulfilled"&&(i({title:"Offer updated",description:"The offer has been successfully updated."}),t(!1),n(null))}):p(Sx(w)).then(R=>{R.type=="createOffer/fulfilled"&&(i({title:"Offer created",description:"The new offer has been successfully created."}),t(!1),n(null))})},_=w=>{n(w),t(!0)},y=w=>{p(Ex(w)).then(R=>{R.type=="deleteOffer/fulfilled"&&i({title:"Offer deleted",description:"The offer has been successfully deleted.",variant:"destructive"})})};return d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Offers Management"}),d.jsxs(Ot,{onClick:()=>{n(null),t(!0)},children:[d.jsx(Ju,{className:"mr-2 h-4 w-4"}),"Add New Offer"]})]}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search offer by title",value:l,onChange:w=>{h(w.target.value)},className:"max-w-sm"})}),d.jsx(ud,{open:e,onOpenChange:t,children:d.jsxs(Sl,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[d.jsx(wl,{children:d.jsx(El,{children:r?"Edit Offer":"Create New Offer"})}),d.jsx(Foe,{initialData:r||void 0,onSubmit:E})]})}),d.jsx(Uoe,{isLoading:c,offers:a,onEdit:_,onDelete:y}),o>=1&&d.jsx(sa,{currentPage:s,totalPages:o,onPageChange:g})]})},$oe=({isOpen:e,onClose:t,initialValues:r,onSubmit:n,dropdownItems:i})=>{const s=_m({defaultValues:{subject:"",standard:""}}),o=i.map(a=>({label:a.std,id:a._id}));P.useEffect(()=>{var a;s.reset({subject:(r==null?void 0:r.subject)||"",standard:((a=r==null?void 0:r.standard)==null?void 0:a._id)||""})},[s,r]);const c=()=>{t()};return d.jsxs(pw,{isOpen:e,onClose:c,children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:r?"Edit Subject":"Add Subject"}),d.jsx(Sm,{...s,children:d.jsxs("form",{onSubmit:s.handleSubmit(n),className:"space-y-4",children:[d.jsx(fr,{control:s.control,name:"subject",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Subject Name"}),d.jsx(br,{children:d.jsx(ar,{placeholder:"Enter subject name",...a})}),d.jsx(nr,{})]})}),d.jsx(fr,{control:s.control,name:"standard",render:({field:a})=>d.jsxs(tr,{children:[d.jsx(rr,{children:"Standard"}),d.jsx(Op,{placeholder:"Select items",name:"standard",control:s.control,onSearch:()=>{},listing:o,onItemSelect:l=>{}}),d.jsx(nr,{})]})}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(Ot,{variant:"outline",onClick:c,children:"Cancel"}),d.jsx(Ot,{type:"submit",children:"Submit"})]})]})})]})},Voe=()=>{const[e,t]=P.useState(!1),[r,n]=P.useState(null),i=en(),{subjects:s,isLoading:o}=Wr(E=>E.subject),{standards:c,isLoading:a}=Wr(E=>E.standard);P.useEffect(()=>{i(Pf("")),i(zu())},[i]),[{name:"subject",label:"Subject Name",type:"text",placeholder:"Enter subject name",validation:om().required("Subject Name is required.")},{name:"standard",label:"Standard",type:"select",options:c.map(E=>({value:E._id,label:E.std}))}].reduce((E,_)=>(E[_.name]="",E),{});const h=E=>{i(r?Yb({id:r._id,data:E}):Kb(E)),t(!1),n(null)},p=E=>{n(E),t(!0)},g=E=>{i(Qb(E))};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Subjects"}),d.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{n(null),t(!e)},children:"Add Subject"})]}),d.jsx($oe,{isOpen:e,onClose:()=>t(!1),initialValues:r,onSubmit:h,dropdownItems:c}),d.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Subject Name"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),d.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),d.jsx("tbody",{children:Array.isArray(s)&&s.map((E,_)=>{var y;return d.jsxs("tr",{children:[d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:_+1}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.subject}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.standard?(y=E.standard)==null?void 0:y.std:"-"}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx(hd,{id:E._id,checked:E.isActive,onCheckedChange:()=>g(E._id)})}),d.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:d.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(E),children:d.jsx(hw,{})})})]},E._id)})})]})]})})};var fO="Progress",hO=100,[zoe,Gae]=no(fO),[Woe,Hoe]=zoe(fO),LB=P.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Goe,...o}=e;(i||i===0)&&!nI(i)&&console.error(qoe(`${i}`,"Progress"));const c=nI(i)?i:hO;n!==null&&!iI(n,c)&&console.error(Koe(`${n}`,"Progress"));const a=iI(n,c)?n:null,l=G_(a)?s(a,c):void 0;return d.jsx(Woe,{scope:r,value:a,max:c,children:d.jsx(Pt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":G_(a)?a:void 0,"aria-valuetext":l,role:"progressbar","data-state":BB(a,c),"data-value":a??void 0,"data-max":c,...o,ref:t})})});LB.displayName=fO;var FB="ProgressIndicator",UB=P.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Hoe(FB,r);return d.jsx(Pt.div,{"data-state":BB(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});UB.displayName=FB;function Goe(e,t){return`${Math.round(e/t*100)}%`}function BB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function G_(e){return typeof e=="number"}function nI(e){return G_(e)&&!isNaN(e)&&e>0}function iI(e,t){return G_(e)&&!isNaN(e)&&e<=t&&e>=0}function qoe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hO}\`.`}function Koe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $B=LB,Yoe=UB;const VB=P.forwardRef(({className:e,value:t,...r},n)=>d.jsx($B,{ref:n,className:it("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx(Yoe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));VB.displayName=$B.displayName;const Rx=wt("fetchAllPayment",async({page:e,userId:t},{rejectWithValue:r})=>{try{return(await gt.get(NM,{params:{page:e,userId:t}})).data}catch(n){return r(n.response.data)}}),kx=wt("fetchUserQuizResult",async({page:e,userId:t},{rejectWithValue:r})=>{try{return(await gt.post($8,{page:e,userId:t})).data}catch(n){return r(n)}}),Ox=wt("fetchUserCourseTracking",async({page:e,userId:t},{rejectWithValue:r})=>{try{return(await gt.post(V8,{page:e,userId:t})).data}catch(n){return r(n)}}),zB=wt("fetchUserDetails",async(e,{rejectWithValue:t})=>{try{return(await gt.post(z8,{userId:e})).data}catch(r){return t(r)}}),Qoe={error:"",isLoading:!1,payments:[],pyCurrentPage:1,pyTotalPage:0,quizResult:[],qrCurrentPage:1,qrTotalPages:0,user:null,courseTracking:[],crCurrentPage:1,crTotalPage:0},Joe=io({name:"userDetail",initialState:Qoe,reducers:{},extraReducers:e=>{e.addCase(zB.fulfilled,(t,r)=>{t.user=r.payload}).addCase(Ox.pending,(t,r)=>{}).addCase(Ox.fulfilled,(t,r)=>{t.courseTracking=r.payload.courseTracking}).addCase(Ox.rejected,(t,r)=>{}).addCase(kx.pending,(t,r)=>{}).addCase(kx.fulfilled,(t,r)=>{t.quizResult=r.payload.docs,t.qrCurrentPage=r.payload.currentPage,t.qrTotalPages=r.payload.totalPages}).addCase(kx.rejected,(t,r)=>{}).addCase(Rx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Rx.fulfilled,(t,r)=>{t.isLoading=!1,t.payments=r.payload.docs,t.pyCurrentPage=r.payload.currentPage,t.pyTotalPage=r.payload.totalPages}).addCase(Rx.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),Xoe=Joe.reducer,Zoe=({userId:e})=>{const{courseTracking:t,crCurrentPage:r,crTotalPage:n}=Wr(o=>o.userDetail),i=en(),s=o=>{i(Ox({page:o,userId:e}))};return P.useEffect(()=>{s(1)},[]),d.jsxs(Wu,{className:"pb-5",children:[d.jsx(Hu,{children:d.jsx(Gu,{children:"Course Progress"})}),d.jsx(qu,{className:"space-y-6",children:t.length==0?d.jsx("p",{className:"text-center",children:"No course progress found"}):t.map(o=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"font-medium",children:o.courseTitle}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.completionRate,"%"]})]}),d.jsx(VB,{value:o.completionRate,className:"h-2"})]},o._id))}),n>=1&&d.jsx(sa,{currentPage:r,totalPages:n,onPageChange:s})]})},eae=({userId:e})=>{const{payments:t,pyCurrentPage:r,pyTotalPage:n}=Wr(o=>o.userDetail),i=en(),s=o=>{i(Rx({page:o,userId:e}))};return P.useEffect(()=>{s(1)},[]),d.jsxs(Wu,{className:"pb-5",children:[d.jsx(Hu,{children:d.jsx(Gu,{children:"Payment History"})}),d.jsx(qu,{children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Item"}),d.jsx(Qe,{children:"Type"}),d.jsx(Qe,{children:"Amount"}),d.jsx(Qe,{children:"Status"}),d.jsx(Qe,{children:"Date"})]})}),d.jsx(Do,{children:t.length==0?d.jsx(Tr,{children:d.jsx(Be,{colSpan:5,className:"text-center py-10",children:"No payment found"})}):t.map(o=>{var c;return d.jsxs(Tr,{children:[d.jsx(Be,{children:o.courseId?"Course":o.quizId?"Quiz":"-"}),d.jsx(Be,{children:o.quizId?o.quizId.title:(c=o==null?void 0:o.courseId)==null?void 0:c.title}),d.jsxs(Be,{children:["$",o.amount/100]}),d.jsx(Be,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":o.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:o.paymentStatus})}),d.jsx(Be,{children:d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{children:new Date(o.paymentDate).toLocaleDateString()}),d.jsx("span",{children:new Date(o.paymentDate).toLocaleTimeString()})]})})]},o._id)})})]})}),n>=1&&d.jsx(sa,{currentPage:r,totalPages:n,onPageChange:s})]})},tae=({userId:e})=>{const{quizResult:t,qrCurrentPage:r,qrTotalPages:n}=Wr(o=>o.userDetail),i=en(),s=o=>{i(kx({page:o,userId:e}))};return P.useEffect(()=>{s(1)},[]),d.jsxs(Wu,{className:"pb-5",children:[d.jsx(Hu,{children:d.jsx(Gu,{children:"Quiz Results"})}),d.jsx(qu,{children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Quiz Name"}),d.jsx(Qe,{children:"Score"}),d.jsx(Qe,{children:"Date"})]})}),d.jsx(Do,{children:t.length==0?d.jsx(Tr,{children:d.jsx(Be,{colSpan:3,className:"text-center py-10",children:"No quiz result found"})}):t.map(o=>d.jsxs(Tr,{children:[d.jsx(Be,{children:o.quizId.title}),d.jsx(Be,{children:d.jsxs("span",{className:"font-medium",children:[o.score," / ",o.totalQuestions]})}),d.jsx(Be,{children:o.submittedAt?new Date(o.submittedAt).toLocaleTimeString():"-"})]},o._id))})]})}),n>=1&&d.jsx(sa,{currentPage:r,totalPages:n,onPageChange:s})]})},rae=({userId:e})=>{var i,s;const{user:t}=Wr(o=>o.userDetail),r=en(),n=()=>{r(zB(e))};return P.useEffect(()=>{n()},[]),d.jsxs(Wu,{children:[d.jsxs(Hu,{className:"flex flex-row items-center gap-4",children:[d.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:d.jsx(d6,{className:"h-8 w-8 text-blue-500"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx(Gu,{children:t==null?void 0:t.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.mobile})]}),d.jsx("div",{className:"text-sm text-muted-foreground text-right",children:d.jsxs("p",{children:["Last Login: ",new Date(t==null?void 0:t.lastLoginAt).toLocaleDateString()," ",new Date(t==null?void 0:t.lastLoginAt).toLocaleTimeString()]})})]}),d.jsx(qu,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(qp,{className:"h-4 w-4"}),"Basic Information"]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",new Date(t==null?void 0:t.dob).toLocaleDateString()]}),d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Standard:"})," ",((i=t==null?void 0:t.stdId)==null?void 0:i.std)??""]}),d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Board:"})," ",((s=t==null?void 0:t.boardId)==null?void 0:s.boardshortname)??""]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(bM,{className:"h-4 w-4"}),"Academic Details"]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"School:"})," ",t==null?void 0:t.schoolName]}),d.jsxs("div",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Subjects:"})," ",d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t==null?void 0:t.subject.map(o=>d.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs",children:o.subject},o._id))})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(s6,{className:"h-4 w-4"}),"Extra Activities"]}),d.jsx("div",{className:"space-y-2",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:t==null?void 0:t.activity.map(o=>d.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full text-xs",children:o.activityname},o._id))})})]}),d.jsxs("div",{className:"space-y-3 md:col-span-2 lg:col-span-3",children:[d.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[d.jsx(l6,{className:"h-4 w-4"}),"Learning Progress"]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCourses)??0}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enrolled Courses"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.completedQuizzes)??0}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Quizzes"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-2xl font-bold",children:new Date(t==null?void 0:t.createdAt).toLocaleDateString()}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Member Since"})]})]})]})]})})]})},nae=()=>{const{id:e}=BD();return d.jsx("div",{className:"container mx-auto py-8 px-4",children:d.jsxs("div",{className:"space-y-8",children:[d.jsx(rae,{userId:e}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[d.jsx(Zoe,{userId:e}),d.jsx(tae,{userId:e})]}),d.jsx(eae,{userId:e})]})})},iae={transactions:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Px=wt("fetchAllTransactions",async({page:e,search:t},{rejectWithValue:r})=>{try{return(await gt.get(U8,{params:{page:e,search:t}})).data}catch(n){return r(n.response.data)}}),sae=io({name:"transaction",initialState:iae,reducers:{},extraReducers:e=>{e.addCase(Px.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Px.fulfilled,(t,r)=>{t.isLoading=!1,t.transactions=r.payload.docs,t.currentPage=r.payload.currentPage,t.totalPages=r.payload.totalPages}).addCase(Px.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload})}}),oae=sae.reducer,aae=()=>{const[e,t]=P.useState(""),{transactions:r,currentPage:n,totalPages:i,isLoading:s}=Wr(a=>a.transaction),o=en(),c=a=>{o(Px({page:a,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&c(1)},[e]),d.jsxs("div",{className:"space-y-6 page-transition",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("div",{className:"space-y-1",children:d.jsx("h1",{className:"text-2xl font-bold",children:"Transaction Records"})})}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(ar,{placeholder:"Search user by mobile",value:e,onChange:a=>{t(a.target.value)},className:"max-w-sm"})}),d.jsx("div",{className:"bg-white rounded-lg shadow",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Referral Name"}),d.jsx(Qe,{children:"Referral Mobile"}),d.jsx(Qe,{children:"Name"}),d.jsx(Qe,{children:"Mobile"}),d.jsx(Qe,{children:"Amount"}),d.jsx(Qe,{children:"Points"}),d.jsx(Qe,{children:"Transaction Type"}),d.jsx(Qe,{children:"Transaction Date"})]})}),d.jsx(Do,{children:r.map(a=>{var l,h,p,g;return console.log("=========================================",a),d.jsxs(Tr,{children:[d.jsx(Be,{children:(l=a==null?void 0:a.referredBy)==null?void 0:l.name}),d.jsx(Be,{children:(h=a==null?void 0:a.referredBy)==null?void 0:h.mobile}),d.jsx(Be,{children:(p=a==null?void 0:a.referredTo)==null?void 0:p.name}),d.jsx(Be,{children:(g=a==null?void 0:a.referredTo)==null?void 0:g.mobile}),d.jsxs(Be,{children:["₹",(a==null?void 0:a.amount)/100||0]}),d.jsx(Be,{children:a==null?void 0:a.points}),d.jsx(Be,{children:(a==null?void 0:a.transactionType)==="C"?"Withdraw":"Deposit"}),d.jsx(Be,{children:d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{children:new Date(a==null?void 0:a.date).toLocaleDateString()}),d.jsx("span",{children:new Date(a==null?void 0:a.date).toLocaleTimeString()})]})})]},a==null?void 0:a._id)})})]})}),i>=1&&d.jsx(sa,{currentPage:n,totalPages:i,onPageChange:c})]})};var WB={exports:{}};/*! For license information please see amazon-ivs-web-broadcast.js.LICENSE.txt */(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={2505:(o,c,a)=>{o.exports=a(8015)},5592:(o,c,a)=>{var l=a(9516),h=a(7522),p=a(3948),g=a(9106),E=a(9615),_=a(2012),y=a(4202),w=a(4896),R=a(5845),S=a(8563),C=a(5656);o.exports=function(A){return new Promise(function(L,U){var B,z=A.data,G=A.headers,J=A.responseType;function X(){A.cancelToken&&A.cancelToken.unsubscribe(B),A.signal&&A.signal.removeEventListener("abort",B)}l.isFormData(z)&&l.isStandardBrowserEnv()&&delete G["Content-Type"];var q=new XMLHttpRequest;if(A.auth){var ee=A.auth.username||"",ce=A.auth.password?unescape(encodeURIComponent(A.auth.password)):"";G.Authorization="Basic "+btoa(ee+":"+ce)}var xe=E(A.baseURL,A.url);function _e(){if(q){var Q="getAllResponseHeaders"in q?_(q.getAllResponseHeaders()):null,re={data:J&&J!=="text"&&J!=="json"?q.response:q.responseText,status:q.status,statusText:q.statusText,headers:Q,config:A,request:q};h(function(fe){L(fe),X()},function(fe){U(fe),X()},re),q=null}}if(q.open(A.method.toUpperCase(),g(xe,A.params,A.paramsSerializer),!0),q.timeout=A.timeout,"onloadend"in q?q.onloadend=_e:q.onreadystatechange=function(){q&&q.readyState===4&&(q.status!==0||q.responseURL&&q.responseURL.indexOf("file:")===0)&&setTimeout(_e)},q.onabort=function(){q&&(U(new R("Request aborted",R.ECONNABORTED,A,q)),q=null)},q.onerror=function(){U(new R("Network Error",R.ERR_NETWORK,A,q,q)),q=null},q.ontimeout=function(){var Q=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded",re=A.transitional||w;A.timeoutErrorMessage&&(Q=A.timeoutErrorMessage),U(new R(Q,re.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,A,q)),q=null},l.isStandardBrowserEnv()){var ve=(A.withCredentials||y(xe))&&A.xsrfCookieName?p.read(A.xsrfCookieName):void 0;ve&&(G[A.xsrfHeaderName]=ve)}"setRequestHeader"in q&&l.forEach(G,function(Q,re){z===void 0&&re.toLowerCase()==="content-type"?delete G[re]:q.setRequestHeader(re,Q)}),l.isUndefined(A.withCredentials)||(q.withCredentials=!!A.withCredentials),J&&J!=="json"&&(q.responseType=A.responseType),typeof A.onDownloadProgress=="function"&&q.addEventListener("progress",A.onDownloadProgress),typeof A.onUploadProgress=="function"&&q.upload&&q.upload.addEventListener("progress",A.onUploadProgress),(A.cancelToken||A.signal)&&(B=function(Q){q&&(U(!Q||Q&&Q.type?new S:Q),q.abort(),q=null)},A.cancelToken&&A.cancelToken.subscribe(B),A.signal&&(A.signal.aborted?B():A.signal.addEventListener("abort",B))),z||(z=null);var Y=C(xe);Y&&["http","https","file"].indexOf(Y)===-1?U(new R("Unsupported protocol "+Y+":",R.ERR_BAD_REQUEST,A)):q.send(z)})}},8015:(o,c,a)=>{var l=a(9516),h=a(9012),p=a(5155),g=a(5343),E=function _(y){var w=new p(y),R=h(p.prototype.request,w);return l.extend(R,p.prototype,w),l.extend(R,w),R.create=function(S){return _(g(y,S))},R}(a(7412));E.Axios=p,E.CanceledError=a(8563),E.CancelToken=a(3191),E.isCancel=a(3864),E.VERSION=a(9641).version,E.toFormData=a(6440),E.AxiosError=a(5845),E.Cancel=E.CanceledError,E.all=function(_){return Promise.all(_)},E.spread=a(7980),E.isAxiosError=a(5019),o.exports=E,o.exports.default=E},3191:(o,c,a)=>{var l=a(8563);function h(p){if(typeof p!="function")throw new TypeError("executor must be a function.");var g;this.promise=new Promise(function(_){g=_});var E=this;this.promise.then(function(_){if(E._listeners){var y,w=E._listeners.length;for(y=0;y<w;y++)E._listeners[y](_);E._listeners=null}}),this.promise.then=function(_){var y,w=new Promise(function(R){E.subscribe(R),y=R}).then(_);return w.cancel=function(){E.unsubscribe(y)},w},p(function(_){E.reason||(E.reason=new l(_),g(E.reason))})}h.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},h.prototype.subscribe=function(p){this.reason?p(this.reason):this._listeners?this._listeners.push(p):this._listeners=[p]},h.prototype.unsubscribe=function(p){if(this._listeners){var g=this._listeners.indexOf(p);g!==-1&&this._listeners.splice(g,1)}},h.source=function(){var p;return{token:new h(function(g){p=g}),cancel:p}},o.exports=h},8563:(o,c,a)=>{var l=a(5845);function h(p){l.call(this,p??"canceled",l.ERR_CANCELED),this.name="CanceledError"}a(9516).inherits(h,l,{__CANCEL__:!0}),o.exports=h},3864:o=>{o.exports=function(c){return!(!c||!c.__CANCEL__)}},5155:(o,c,a)=>{var l=a(9516),h=a(9106),p=a(3471),g=a(4490),E=a(5343),_=a(9615),y=a(4841),w=y.validators;function R(S){this.defaults=S,this.interceptors={request:new p,response:new p}}R.prototype.request=function(S,C){typeof S=="string"?(C=C||{}).url=S:C=S||{},(C=E(this.defaults,C)).method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var A=C.transitional;A!==void 0&&y.assertOptions(A,{silentJSONParsing:w.transitional(w.boolean),forcedJSONParsing:w.transitional(w.boolean),clarifyTimeoutError:w.transitional(w.boolean)},!1);var L=[],U=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(C)===!1||(U=U&&ee.synchronous,L.unshift(ee.fulfilled,ee.rejected))});var B,z=[];if(this.interceptors.response.forEach(function(ee){z.push(ee.fulfilled,ee.rejected)}),!U){var G=[g,void 0];for(Array.prototype.unshift.apply(G,L),G=G.concat(z),B=Promise.resolve(C);G.length;)B=B.then(G.shift(),G.shift());return B}for(var J=C;L.length;){var X=L.shift(),q=L.shift();try{J=X(J)}catch(ee){q(ee);break}}try{B=g(J)}catch(ee){return Promise.reject(ee)}for(;z.length;)B=B.then(z.shift(),z.shift());return B},R.prototype.getUri=function(S){S=E(this.defaults,S);var C=_(S.baseURL,S.url);return h(C,S.params,S.paramsSerializer)},l.forEach(["delete","get","head","options"],function(S){R.prototype[S]=function(C,A){return this.request(E(A||{},{method:S,url:C,data:(A||{}).data}))}}),l.forEach(["post","put","patch"],function(S){function C(A){return function(L,U,B){return this.request(E(B||{},{method:S,headers:A?{"Content-Type":"multipart/form-data"}:{},url:L,data:U}))}}R.prototype[S]=C(),R.prototype[S+"Form"]=C(!0)}),o.exports=R},5845:(o,c,a)=>{var l=a(9516);function h(E,_,y,w,R){Error.call(this),this.message=E,this.name="AxiosError",_&&(this.code=_),y&&(this.config=y),w&&(this.request=w),R&&(this.response=R)}l.inherits(h,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var p=h.prototype,g={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(E){g[E]={value:E}}),Object.defineProperties(h,g),Object.defineProperty(p,"isAxiosError",{value:!0}),h.from=function(E,_,y,w,R,S){var C=Object.create(p);return l.toFlatObject(E,C,function(A){return A!==Error.prototype}),h.call(C,E.message,_,y,w,R),C.name=E.name,S&&Object.assign(C,S),C},o.exports=h},3471:(o,c,a)=>{var l=a(9516);function h(){this.handlers=[]}h.prototype.use=function(p,g,E){return this.handlers.push({fulfilled:p,rejected:g,synchronous:!!E&&E.synchronous,runWhen:E?E.runWhen:null}),this.handlers.length-1},h.prototype.eject=function(p){this.handlers[p]&&(this.handlers[p]=null)},h.prototype.forEach=function(p){l.forEach(this.handlers,function(g){g!==null&&p(g)})},o.exports=h},9615:(o,c,a)=>{var l=a(9137),h=a(4680);o.exports=function(p,g){return p&&!l(g)?h(p,g):g}},4490:(o,c,a)=>{var l=a(9516),h=a(2881),p=a(3864),g=a(7412),E=a(8563);function _(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new E}o.exports=function(y){return _(y),y.headers=y.headers||{},y.data=h.call(y,y.data,y.headers,y.transformRequest),y.headers=l.merge(y.headers.common||{},y.headers[y.method]||{},y.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(w){delete y.headers[w]}),(y.adapter||g.adapter)(y).then(function(w){return _(y),w.data=h.call(y,w.data,w.headers,y.transformResponse),w},function(w){return p(w)||(_(y),w&&w.response&&(w.response.data=h.call(y,w.response.data,w.response.headers,y.transformResponse))),Promise.reject(w)})}},5343:(o,c,a)=>{var l=a(9516);o.exports=function(h,p){p=p||{};var g={};function E(C,A){return l.isPlainObject(C)&&l.isPlainObject(A)?l.merge(C,A):l.isPlainObject(A)?l.merge({},A):l.isArray(A)?A.slice():A}function _(C){return l.isUndefined(p[C])?l.isUndefined(h[C])?void 0:E(void 0,h[C]):E(h[C],p[C])}function y(C){if(!l.isUndefined(p[C]))return E(void 0,p[C])}function w(C){return l.isUndefined(p[C])?l.isUndefined(h[C])?void 0:E(void 0,h[C]):E(void 0,p[C])}function R(C){return C in p?E(h[C],p[C]):C in h?E(void 0,h[C]):void 0}var S={url:y,method:y,data:y,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:R};return l.forEach(Object.keys(h).concat(Object.keys(p)),function(C){var A=S[C]||_,L=A(C);l.isUndefined(L)&&A!==R||(g[C]=L)}),g}},7522:(o,c,a)=>{var l=a(5845);o.exports=function(h,p,g){var E=g.config.validateStatus;g.status&&E&&!E(g.status)?p(new l("Request failed with status code "+g.status,[l.ERR_BAD_REQUEST,l.ERR_BAD_RESPONSE][Math.floor(g.status/100)-4],g.config,g.request,g)):h(g)}},2881:(o,c,a)=>{var l=a(9516),h=a(7412);o.exports=function(p,g,E){var _=this||h;return l.forEach(E,function(y){p=y.call(_,p,g)}),p}},7412:(o,c,a)=>{var l=a(9516),h=a(7018),p=a(5845),g=a(4896),E=a(6440),_={"Content-Type":"application/x-www-form-urlencoded"};function y(S,C){!l.isUndefined(S)&&l.isUndefined(S["Content-Type"])&&(S["Content-Type"]=C)}var w,R={transitional:g,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(w=a(5592)),w),transformRequest:[function(S,C){if(h(C,"Accept"),h(C,"Content-Type"),l.isFormData(S)||l.isArrayBuffer(S)||l.isBuffer(S)||l.isStream(S)||l.isFile(S)||l.isBlob(S))return S;if(l.isArrayBufferView(S))return S.buffer;if(l.isURLSearchParams(S))return y(C,"application/x-www-form-urlencoded;charset=utf-8"),S.toString();var A,L=l.isObject(S),U=C&&C["Content-Type"];if((A=l.isFileList(S))||L&&U==="multipart/form-data"){var B=this.env&&this.env.FormData;return E(A?{"files[]":S}:S,B&&new B)}return L||U==="application/json"?(y(C,"application/json"),function(z,G,J){if(l.isString(z))try{return(G||JSON.parse)(z),l.trim(z)}catch(X){if(X.name!=="SyntaxError")throw X}return(J||JSON.stringify)(z)}(S)):S}],transformResponse:[function(S){var C=this.transitional||R.transitional,A=C&&C.silentJSONParsing,L=C&&C.forcedJSONParsing,U=!A&&this.responseType==="json";if(U||L&&l.isString(S)&&S.length)try{return JSON.parse(S)}catch(B){if(U)throw B.name==="SyntaxError"?p.from(B,p.ERR_BAD_RESPONSE,this,null,this.response):B}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:a(1534)},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(S){R.headers[S]={}}),l.forEach(["post","put","patch"],function(S){R.headers[S]=l.merge(_)}),o.exports=R},4896:o=>{o.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9641:o=>{o.exports={version:"0.27.2"}},9012:o=>{o.exports=function(c,a){return function(){for(var l=new Array(arguments.length),h=0;h<l.length;h++)l[h]=arguments[h];return c.apply(a,l)}}},9106:(o,c,a)=>{var l=a(9516);function h(p){return encodeURIComponent(p).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}o.exports=function(p,g,E){if(!g)return p;var _;if(E)_=E(g);else if(l.isURLSearchParams(g))_=g.toString();else{var y=[];l.forEach(g,function(R,S){R!=null&&(l.isArray(R)?S+="[]":R=[R],l.forEach(R,function(C){l.isDate(C)?C=C.toISOString():l.isObject(C)&&(C=JSON.stringify(C)),y.push(h(S)+"="+h(C))}))}),_=y.join("&")}if(_){var w=p.indexOf("#");w!==-1&&(p=p.slice(0,w)),p+=(p.indexOf("?")===-1?"?":"&")+_}return p}},4680:o=>{o.exports=function(c,a){return a?c.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):c}},3948:(o,c,a)=>{var l=a(9516);o.exports=l.isStandardBrowserEnv()?{write:function(h,p,g,E,_,y){var w=[];w.push(h+"="+encodeURIComponent(p)),l.isNumber(g)&&w.push("expires="+new Date(g).toGMTString()),l.isString(E)&&w.push("path="+E),l.isString(_)&&w.push("domain="+_),y===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(h){var p=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return p?decodeURIComponent(p[3]):null},remove:function(h){this.write(h,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:o=>{o.exports=function(c){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(c)}},5019:(o,c,a)=>{var l=a(9516);o.exports=function(h){return l.isObject(h)&&h.isAxiosError===!0}},4202:(o,c,a)=>{var l=a(9516);o.exports=l.isStandardBrowserEnv()?function(){var h,p=/(msie|trident)/i.test(navigator.userAgent),g=document.createElement("a");function E(_){var y=_;return p&&(g.setAttribute("href",y),y=g.href),g.setAttribute("href",y),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:g.pathname.charAt(0)==="/"?g.pathname:"/"+g.pathname}}return h=E(window.location.href),function(_){var y=l.isString(_)?E(_):_;return y.protocol===h.protocol&&y.host===h.host}}():function(){return!0}},7018:(o,c,a)=>{var l=a(9516);o.exports=function(h,p){l.forEach(h,function(g,E){E!==p&&E.toUpperCase()===p.toUpperCase()&&(h[p]=g,delete h[E])})}},1534:o=>{o.exports=null},2012:(o,c,a)=>{var l=a(9516),h=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];o.exports=function(p){var g,E,_,y={};return p&&l.forEach(p.split(`
`),function(w){if(_=w.indexOf(":"),g=l.trim(w.substr(0,_)).toLowerCase(),E=l.trim(w.substr(_+1)),g){if(y[g]&&h.indexOf(g)>=0)return;y[g]=g==="set-cookie"?(y[g]?y[g]:[]).concat([E]):y[g]?y[g]+", "+E:E}}),y}},5656:o=>{o.exports=function(c){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(c);return a&&a[1]||""}},7980:o=>{o.exports=function(c){return function(a){return c.apply(null,a)}}},6440:(o,c,a)=>{var l=a(9516);o.exports=function(h,p){p=p||new FormData;var g=[];function E(_){return _===null?"":l.isDate(_)?_.toISOString():l.isArrayBuffer(_)||l.isTypedArray(_)?typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}return function _(y,w){if(l.isPlainObject(y)||l.isArray(y)){if(g.indexOf(y)!==-1)throw Error("Circular reference detected in "+w);g.push(y),l.forEach(y,function(R,S){if(!l.isUndefined(R)){var C,A=w?w+"."+S:S;if(R&&!w&&typeof R=="object"){if(l.endsWith(S,"{}"))R=JSON.stringify(R);else if(l.endsWith(S,"[]")&&(C=l.toArray(R)))return void C.forEach(function(L){!l.isUndefined(L)&&p.append(A,E(L))})}_(R,A)}}),g.pop()}else p.append(w,E(y))}(h),p}},4841:(o,c,a)=>{var l=a(9641).version,h=a(5845),p={};["object","boolean","number","function","string","symbol"].forEach(function(E,_){p[E]=function(y){return typeof y===E||"a"+(_<1?"n ":" ")+E}});var g={};p.transitional=function(E,_,y){function w(R,S){return"[Axios v"+l+"] Transitional option '"+R+"'"+S+(y?". "+y:"")}return function(R,S,C){if(E===!1)throw new h(w(S," has been removed"+(_?" in "+_:"")),h.ERR_DEPRECATED);return _&&!g[S]&&(g[S]=!0,console.warn(w(S," has been deprecated since v"+_+" and will be removed in the near future"))),!E||E(R,S,C)}},o.exports={assertOptions:function(E,_,y){if(typeof E!="object")throw new h("options must be an object",h.ERR_BAD_OPTION_VALUE);for(var w=Object.keys(E),R=w.length;R-- >0;){var S=w[R],C=_[S];if(C){var A=E[S],L=A===void 0||C(A,S,E);if(L!==!0)throw new h("option "+S+" must be "+L,h.ERR_BAD_OPTION_VALUE)}else if(y!==!0)throw new h("Unknown option "+S,h.ERR_BAD_OPTION)}},validators:p}},9516:(o,c,a)=>{var l,h=a(9012),p=Object.prototype.toString,g=(l=Object.create(null),function(q){var ee=p.call(q);return l[ee]||(l[ee]=ee.slice(8,-1).toLowerCase())});function E(q){return q=q.toLowerCase(),function(ee){return g(ee)===q}}function _(q){return Array.isArray(q)}function y(q){return q===void 0}var w=E("ArrayBuffer");function R(q){return q!==null&&typeof q=="object"}function S(q){if(g(q)!=="object")return!1;var ee=Object.getPrototypeOf(q);return ee===null||ee===Object.prototype}var C=E("Date"),A=E("File"),L=E("Blob"),U=E("FileList");function B(q){return p.call(q)==="[object Function]"}var z=E("URLSearchParams");function G(q,ee){if(q!=null)if(typeof q!="object"&&(q=[q]),_(q))for(var ce=0,xe=q.length;ce<xe;ce++)ee.call(null,q[ce],ce,q);else for(var _e in q)Object.prototype.hasOwnProperty.call(q,_e)&&ee.call(null,q[_e],_e,q)}var J,X=(J=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(q){return J&&q instanceof J});o.exports={isArray:_,isArrayBuffer:w,isBuffer:function(q){return q!==null&&!y(q)&&q.constructor!==null&&!y(q.constructor)&&typeof q.constructor.isBuffer=="function"&&q.constructor.isBuffer(q)},isFormData:function(q){var ee="[object FormData]";return q&&(typeof FormData=="function"&&q instanceof FormData||p.call(q)===ee||B(q.toString)&&q.toString()===ee)},isArrayBufferView:function(q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(q):q&&q.buffer&&w(q.buffer)},isString:function(q){return typeof q=="string"},isNumber:function(q){return typeof q=="number"},isObject:R,isPlainObject:S,isUndefined:y,isDate:C,isFile:A,isBlob:L,isFunction:B,isStream:function(q){return R(q)&&B(q.pipe)},isURLSearchParams:z,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:G,merge:function q(){var ee={};function ce(ve,Y){S(ee[Y])&&S(ve)?ee[Y]=q(ee[Y],ve):S(ve)?ee[Y]=q({},ve):_(ve)?ee[Y]=ve.slice():ee[Y]=ve}for(var xe=0,_e=arguments.length;xe<_e;xe++)G(arguments[xe],ce);return ee},extend:function(q,ee,ce){return G(ee,function(xe,_e){q[_e]=ce&&typeof xe=="function"?h(xe,ce):xe}),q},trim:function(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")},stripBOM:function(q){return q.charCodeAt(0)===65279&&(q=q.slice(1)),q},inherits:function(q,ee,ce,xe){q.prototype=Object.create(ee.prototype,xe),q.prototype.constructor=q,ce&&Object.assign(q.prototype,ce)},toFlatObject:function(q,ee,ce){var xe,_e,ve,Y={};ee=ee||{};do{for(_e=(xe=Object.getOwnPropertyNames(q)).length;_e-- >0;)Y[ve=xe[_e]]||(ee[ve]=q[ve],Y[ve]=!0);q=Object.getPrototypeOf(q)}while(q&&(!ce||ce(q,ee))&&q!==Object.prototype);return ee},kindOf:g,kindOfTest:E,endsWith:function(q,ee,ce){q=String(q),(ce===void 0||ce>q.length)&&(ce=q.length),ce-=ee.length;var xe=q.indexOf(ee,ce);return xe!==-1&&xe===ce},toArray:function(q){if(!q)return null;var ee=q.length;if(y(ee))return null;for(var ce=new Array(ee);ee-- >0;)ce[ee]=q[ee];return ce},isTypedArray:X,isFileList:U}},6880:function(o){o.exports=function(c){var a={};function l(h){if(a[h])return a[h].exports;var p=a[h]={i:h,l:!1,exports:{}};return c[h].call(p.exports,p,p.exports,l),p.l=!0,p.exports}return l.m=c,l.c=a,l.d=function(h,p,g){l.o(h,p)||Object.defineProperty(h,p,{enumerable:!0,get:g})},l.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,p){if(1&p&&(h=l(h)),8&p||4&p&&typeof h=="object"&&h&&h.__esModule)return h;var g=Object.create(null);if(l.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&p&&typeof h!="string")for(var E in h)l.d(g,E,(function(_){return h[_]}).bind(null,E));return g},l.n=function(h){var p=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(p,"a",p),p},l.o=function(h,p){return Object.prototype.hasOwnProperty.call(h,p)},l.p="",l(l.s=90)}({17:function(c,a,l){a.__esModule=!0,a.default=void 0;var h=l(18),p=function(){function g(){}return g.getFirstMatch=function(E,_){var y=_.match(E);return y&&y.length>0&&y[1]||""},g.getSecondMatch=function(E,_){var y=_.match(E);return y&&y.length>1&&y[2]||""},g.matchAndReturnConst=function(E,_,y){if(E.test(_))return y},g.getWindowsVersionName=function(E){switch(E){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},g.getMacOSVersionName=function(E){var _=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(_.push(0),_[0]===10)switch(_[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},g.getAndroidVersionName=function(E){var _=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(_.push(0),!(_[0]===1&&_[1]<5))return _[0]===1&&_[1]<6?"Cupcake":_[0]===1&&_[1]>=6?"Donut":_[0]===2&&_[1]<2?"Eclair":_[0]===2&&_[1]===2?"Froyo":_[0]===2&&_[1]>2?"Gingerbread":_[0]===3?"Honeycomb":_[0]===4&&_[1]<1?"Ice Cream Sandwich":_[0]===4&&_[1]<4?"Jelly Bean":_[0]===4&&_[1]>=4?"KitKat":_[0]===5?"Lollipop":_[0]===6?"Marshmallow":_[0]===7?"Nougat":_[0]===8?"Oreo":_[0]===9?"Pie":void 0},g.getVersionPrecision=function(E){return E.split(".").length},g.compareVersions=function(E,_,y){y===void 0&&(y=!1);var w=g.getVersionPrecision(E),R=g.getVersionPrecision(_),S=Math.max(w,R),C=0,A=g.map([E,_],function(L){var U=S-g.getVersionPrecision(L),B=L+new Array(U+1).join(".0");return g.map(B.split("."),function(z){return new Array(20-z.length).join("0")+z}).reverse()});for(y&&(C=S-Math.min(w,R)),S-=1;S>=C;){if(A[0][S]>A[1][S])return 1;if(A[0][S]===A[1][S]){if(S===C)return 0;S-=1}else if(A[0][S]<A[1][S])return-1}},g.map=function(E,_){var y,w=[];if(Array.prototype.map)return Array.prototype.map.call(E,_);for(y=0;y<E.length;y+=1)w.push(_(E[y]));return w},g.find=function(E,_){var y,w;if(Array.prototype.find)return Array.prototype.find.call(E,_);for(y=0,w=E.length;y<w;y+=1){var R=E[y];if(_(R,y))return R}},g.assign=function(E){for(var _,y,w=E,R=arguments.length,S=new Array(R>1?R-1:0),C=1;C<R;C++)S[C-1]=arguments[C];if(Object.assign)return Object.assign.apply(Object,[E].concat(S));var A=function(){var L=S[_];typeof L=="object"&&L!==null&&Object.keys(L).forEach(function(U){w[U]=L[U]})};for(_=0,y=S.length;_<y;_+=1)A();return E},g.getBrowserAlias=function(E){return h.BROWSER_ALIASES_MAP[E]},g.getBrowserTypeByAlias=function(E){return h.BROWSER_MAP[E]||""},g}();a.default=p,c.exports=a.default},18:function(c,a,l){a.__esModule=!0,a.ENGINE_MAP=a.OS_MAP=a.PLATFORMS_MAP=a.BROWSER_MAP=a.BROWSER_ALIASES_MAP=void 0,a.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},a.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},a.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},a.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},a.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(c,a,l){a.__esModule=!0,a.default=void 0;var h,p=(h=l(91))&&h.__esModule?h:{default:h},g=l(18);function E(y,w){for(var R=0;R<w.length;R++){var S=w[R];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}var _=function(){function y(){}var w,R,S;return y.getParser=function(C,A){if(A===void 0&&(A=!1),typeof C!="string")throw new Error("UserAgent should be a string");return new p.default(C,A)},y.parse=function(C){return new p.default(C).getResult()},w=y,S=[{key:"BROWSER_MAP",get:function(){return g.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return g.ENGINE_MAP}},{key:"OS_MAP",get:function(){return g.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return g.PLATFORMS_MAP}}],(R=null)&&E(w.prototype,R),S&&E(w,S),y}();a.default=_,c.exports=a.default},91:function(c,a,l){a.__esModule=!0,a.default=void 0;var h=y(l(92)),p=y(l(93)),g=y(l(94)),E=y(l(95)),_=y(l(17));function y(R){return R&&R.__esModule?R:{default:R}}var w=function(){function R(C,A){if(A===void 0&&(A=!1),C==null||C==="")throw new Error("UserAgent parameter can't be empty");this._ua=C,this.parsedResult={},A!==!0&&this.parse()}var S=R.prototype;return S.getUA=function(){return this._ua},S.test=function(C){return C.test(this._ua)},S.parseBrowser=function(){var C=this;this.parsedResult.browser={};var A=_.default.find(h.default,function(L){if(typeof L.test=="function")return L.test(C);if(L.test instanceof Array)return L.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.browser=A.describe(this.getUA())),this.parsedResult.browser},S.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},S.getBrowserName=function(C){return C?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},S.getBrowserVersion=function(){return this.getBrowser().version},S.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},S.parseOS=function(){var C=this;this.parsedResult.os={};var A=_.default.find(p.default,function(L){if(typeof L.test=="function")return L.test(C);if(L.test instanceof Array)return L.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.os=A.describe(this.getUA())),this.parsedResult.os},S.getOSName=function(C){var A=this.getOS().name;return C?String(A).toLowerCase()||"":A||""},S.getOSVersion=function(){return this.getOS().version},S.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},S.getPlatformType=function(C){C===void 0&&(C=!1);var A=this.getPlatform().type;return C?String(A).toLowerCase()||"":A||""},S.parsePlatform=function(){var C=this;this.parsedResult.platform={};var A=_.default.find(g.default,function(L){if(typeof L.test=="function")return L.test(C);if(L.test instanceof Array)return L.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.platform=A.describe(this.getUA())),this.parsedResult.platform},S.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},S.getEngineName=function(C){return C?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},S.parseEngine=function(){var C=this;this.parsedResult.engine={};var A=_.default.find(E.default,function(L){if(typeof L.test=="function")return L.test(C);if(L.test instanceof Array)return L.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.engine=A.describe(this.getUA())),this.parsedResult.engine},S.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},S.getResult=function(){return _.default.assign({},this.parsedResult)},S.satisfies=function(C){var A=this,L={},U=0,B={},z=0;if(Object.keys(C).forEach(function(_e){var ve=C[_e];typeof ve=="string"?(B[_e]=ve,z+=1):typeof ve=="object"&&(L[_e]=ve,U+=1)}),U>0){var G=Object.keys(L),J=_.default.find(G,function(_e){return A.isOS(_e)});if(J){var X=this.satisfies(L[J]);if(X!==void 0)return X}var q=_.default.find(G,function(_e){return A.isPlatform(_e)});if(q){var ee=this.satisfies(L[q]);if(ee!==void 0)return ee}}if(z>0){var ce=Object.keys(B),xe=_.default.find(ce,function(_e){return A.isBrowser(_e,!0)});if(xe!==void 0)return this.compareVersion(B[xe])}},S.isBrowser=function(C,A){A===void 0&&(A=!1);var L=this.getBrowserName().toLowerCase(),U=C.toLowerCase(),B=_.default.getBrowserTypeByAlias(U);return A&&B&&(U=B.toLowerCase()),U===L},S.compareVersion=function(C){var A=[0],L=C,U=!1,B=this.getBrowserVersion();if(typeof B=="string")return C[0]===">"||C[0]==="<"?(L=C.substr(1),C[1]==="="?(U=!0,L=C.substr(2)):A=[],C[0]===">"?A.push(1):A.push(-1)):C[0]==="="?L=C.substr(1):C[0]==="~"&&(U=!0,L=C.substr(1)),A.indexOf(_.default.compareVersions(B,L,U))>-1},S.isOS=function(C){return this.getOSName(!0)===String(C).toLowerCase()},S.isPlatform=function(C){return this.getPlatformType(!0)===String(C).toLowerCase()},S.isEngine=function(C){return this.getEngineName(!0)===String(C).toLowerCase()},S.is=function(C,A){return A===void 0&&(A=!1),this.isBrowser(C,A)||this.isOS(C)||this.isPlatform(C)},S.some=function(C){var A=this;return C===void 0&&(C=[]),C.some(function(L){return A.is(L)})},R}();a.default=w,c.exports=a.default},92:function(c,a,l){a.__esModule=!0,a.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},g=/version\/(\d+(\.?_?\d+)+)/i,E=[{test:[/googlebot/i],describe:function(_){var y={name:"Googlebot"},w=p.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/opera/i],describe:function(_){var y={name:"Opera"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/opr\/|opios/i],describe:function(_){var y={name:"Opera"},w=p.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/SamsungBrowser/i],describe:function(_){var y={name:"Samsung Internet for Android"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/Whale/i],describe:function(_){var y={name:"NAVER Whale Browser"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/MZBrowser/i],describe:function(_){var y={name:"MZ Browser"},w=p.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/focus/i],describe:function(_){var y={name:"Focus"},w=p.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/swing/i],describe:function(_){var y={name:"Swing"},w=p.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/coast/i],describe:function(_){var y={name:"Opera Coast"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(_){var y={name:"Opera Touch"},w=p.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/yabrowser/i],describe:function(_){var y={name:"Yandex Browser"},w=p.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/ucbrowser/i],describe:function(_){var y={name:"UC Browser"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/Maxthon|mxios/i],describe:function(_){var y={name:"Maxthon"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/epiphany/i],describe:function(_){var y={name:"Epiphany"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/puffin/i],describe:function(_){var y={name:"Puffin"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/sleipnir/i],describe:function(_){var y={name:"Sleipnir"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/k-meleon/i],describe:function(_){var y={name:"K-Meleon"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/micromessenger/i],describe:function(_){var y={name:"WeChat"},w=p.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/qqbrowser/i],describe:function(_){var y={name:/qqbrowserlite/i.test(_)?"QQ Browser Lite":"QQ Browser"},w=p.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/msie|trident/i],describe:function(_){var y={name:"Internet Explorer"},w=p.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/\sedg\//i],describe:function(_){var y={name:"Microsoft Edge"},w=p.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/edg([ea]|ios)/i],describe:function(_){var y={name:"Microsoft Edge"},w=p.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/vivaldi/i],describe:function(_){var y={name:"Vivaldi"},w=p.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/seamonkey/i],describe:function(_){var y={name:"SeaMonkey"},w=p.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/sailfish/i],describe:function(_){var y={name:"Sailfish"},w=p.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,_);return w&&(y.version=w),y}},{test:[/silk/i],describe:function(_){var y={name:"Amazon Silk"},w=p.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/phantom/i],describe:function(_){var y={name:"PhantomJS"},w=p.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/slimerjs/i],describe:function(_){var y={name:"SlimerJS"},w=p.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(_){var y={name:"BlackBerry"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/(web|hpw)[o0]s/i],describe:function(_){var y={name:"WebOS Browser"},w=p.default.getFirstMatch(g,_)||p.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/bada/i],describe:function(_){var y={name:"Bada"},w=p.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/tizen/i],describe:function(_){var y={name:"Tizen"},w=p.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/qupzilla/i],describe:function(_){var y={name:"QupZilla"},w=p.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/firefox|iceweasel|fxios/i],describe:function(_){var y={name:"Firefox"},w=p.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/electron/i],describe:function(_){var y={name:"Electron"},w=p.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/MiuiBrowser/i],describe:function(_){var y={name:"Miui"},w=p.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/chromium/i],describe:function(_){var y={name:"Chromium"},w=p.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,_)||p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/chrome|crios|crmo/i],describe:function(_){var y={name:"Chrome"},w=p.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/GSA/i],describe:function(_){var y={name:"Google Search"},w=p.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:function(_){var y=!_.test(/like android/i),w=_.test(/android/i);return y&&w},describe:function(_){var y={name:"Android Browser"},w=p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/playstation 4/i],describe:function(_){var y={name:"PlayStation 4"},w=p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/safari|applewebkit/i],describe:function(_){var y={name:"Safari"},w=p.default.getFirstMatch(g,_);return w&&(y.version=w),y}},{test:[/.*/i],describe:function(_){var y=_.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:p.default.getFirstMatch(y,_),version:p.default.getSecondMatch(y,_)}}}];a.default=E,c.exports=a.default},93:function(c,a,l){a.__esModule=!0,a.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},g=l(18),E=[{test:[/Roku\/DVP/],describe:function(_){var y=p.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,_);return{name:g.OS_MAP.Roku,version:y}}},{test:[/windows phone/i],describe:function(_){var y=p.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,_);return{name:g.OS_MAP.WindowsPhone,version:y}}},{test:[/windows /i],describe:function(_){var y=p.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,_),w=p.default.getWindowsVersionName(y);return{name:g.OS_MAP.Windows,version:y,versionName:w}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(_){var y={name:g.OS_MAP.iOS},w=p.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,_);return w&&(y.version=w),y}},{test:[/macintosh/i],describe:function(_){var y=p.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,_).replace(/[_\s]/g,"."),w=p.default.getMacOSVersionName(y),R={name:g.OS_MAP.MacOS,version:y};return w&&(R.versionName=w),R}},{test:[/(ipod|iphone|ipad)/i],describe:function(_){var y=p.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,_).replace(/[_\s]/g,".");return{name:g.OS_MAP.iOS,version:y}}},{test:function(_){var y=!_.test(/like android/i),w=_.test(/android/i);return y&&w},describe:function(_){var y=p.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,_),w=p.default.getAndroidVersionName(y),R={name:g.OS_MAP.Android,version:y};return w&&(R.versionName=w),R}},{test:[/(web|hpw)[o0]s/i],describe:function(_){var y=p.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,_),w={name:g.OS_MAP.WebOS};return y&&y.length&&(w.version=y),w}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(_){var y=p.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,_)||p.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,_)||p.default.getFirstMatch(/\bbb(\d+)/i,_);return{name:g.OS_MAP.BlackBerry,version:y}}},{test:[/bada/i],describe:function(_){var y=p.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,_);return{name:g.OS_MAP.Bada,version:y}}},{test:[/tizen/i],describe:function(_){var y=p.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,_);return{name:g.OS_MAP.Tizen,version:y}}},{test:[/linux/i],describe:function(){return{name:g.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:g.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(_){var y=p.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,_);return{name:g.OS_MAP.PlayStation4,version:y}}}];a.default=E,c.exports=a.default},94:function(c,a,l){a.__esModule=!0,a.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},g=l(18),E=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(_){var y=p.default.getFirstMatch(/(can-l01)/i,_)&&"Nova",w={type:g.PLATFORMS_MAP.mobile,vendor:"Huawei"};return y&&(w.model=y),w}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(_){var y=_.test(/ipod|iphone/i),w=_.test(/like (ipod|iphone)/i);return y&&!w},describe:function(_){var y=p.default.getFirstMatch(/(ipod|iphone)/i,_);return{type:g.PLATFORMS_MAP.mobile,vendor:"Apple",model:y}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(_){return _.getBrowserName(!0)==="blackberry"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(_){return _.getBrowserName(!0)==="bada"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(_){return _.getBrowserName()==="windows phone"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(_){var y=Number(String(_.getOSVersion()).split(".")[0]);return _.getOSName(!0)==="android"&&y>=3},describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(_){return _.getOSName(!0)==="android"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(_){return _.getOSName(!0)==="macos"},describe:function(){return{type:g.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(_){return _.getOSName(!0)==="windows"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(_){return _.getOSName(!0)==="linux"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(_){return _.getOSName(!0)==="playstation 4"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}},{test:function(_){return _.getOSName(!0)==="roku"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}}];a.default=E,c.exports=a.default},95:function(c,a,l){a.__esModule=!0,a.default=void 0;var h,p=(h=l(17))&&h.__esModule?h:{default:h},g=l(18),E=[{test:function(_){return _.getBrowserName(!0)==="microsoft edge"},describe:function(_){if(/\sedg\//i.test(_))return{name:g.ENGINE_MAP.Blink};var y=p.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,_);return{name:g.ENGINE_MAP.EdgeHTML,version:y}}},{test:[/trident/i],describe:function(_){var y={name:g.ENGINE_MAP.Trident},w=p.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:function(_){return _.test(/presto/i)},describe:function(_){var y={name:g.ENGINE_MAP.Presto},w=p.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:function(_){var y=_.test(/gecko/i),w=_.test(/like gecko/i);return y&&!w},describe:function(_){var y={name:g.ENGINE_MAP.Gecko},w=p.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:g.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(_){var y={name:g.ENGINE_MAP.WebKit},w=p.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,_);return w&&(y.version=w),y}}];a.default=E,c.exports=a.default}})},228:o=>{var c=Object.prototype.hasOwnProperty,a="~";function l(){}function h(_,y,w){this.fn=_,this.context=y,this.once=w||!1}function p(_,y,w,R,S){if(typeof w!="function")throw new TypeError("The listener must be a function");var C=new h(w,R||_,S),A=a?a+y:y;return _._events[A]?_._events[A].fn?_._events[A]=[_._events[A],C]:_._events[A].push(C):(_._events[A]=C,_._eventsCount++),_}function g(_,y){--_._eventsCount==0?_._events=new l:delete _._events[y]}function E(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1)),E.prototype.eventNames=function(){var _,y,w=[];if(this._eventsCount===0)return w;for(y in _=this._events)c.call(_,y)&&w.push(a?y.slice(1):y);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(_)):w},E.prototype.listeners=function(_){var y=a?a+_:_,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var R=0,S=w.length,C=new Array(S);R<S;R++)C[R]=w[R].fn;return C},E.prototype.listenerCount=function(_){var y=a?a+_:_,w=this._events[y];return w?w.fn?1:w.length:0},E.prototype.emit=function(_,y,w,R,S,C){var A=a?a+_:_;if(!this._events[A])return!1;var L,U,B=this._events[A],z=arguments.length;if(B.fn){switch(B.once&&this.removeListener(_,B.fn,void 0,!0),z){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,y),!0;case 3:return B.fn.call(B.context,y,w),!0;case 4:return B.fn.call(B.context,y,w,R),!0;case 5:return B.fn.call(B.context,y,w,R,S),!0;case 6:return B.fn.call(B.context,y,w,R,S,C),!0}for(U=1,L=new Array(z-1);U<z;U++)L[U-1]=arguments[U];B.fn.apply(B.context,L)}else{var G,J=B.length;for(U=0;U<J;U++)switch(B[U].once&&this.removeListener(_,B[U].fn,void 0,!0),z){case 1:B[U].fn.call(B[U].context);break;case 2:B[U].fn.call(B[U].context,y);break;case 3:B[U].fn.call(B[U].context,y,w);break;case 4:B[U].fn.call(B[U].context,y,w,R);break;default:if(!L)for(G=1,L=new Array(z-1);G<z;G++)L[G-1]=arguments[G];B[U].fn.apply(B[U].context,L)}}return!0},E.prototype.on=function(_,y,w){return p(this,_,y,w,!1)},E.prototype.once=function(_,y,w){return p(this,_,y,w,!0)},E.prototype.removeListener=function(_,y,w,R){var S=a?a+_:_;if(!this._events[S])return this;if(!y)return g(this,S),this;var C=this._events[S];if(C.fn)C.fn!==y||R&&!C.once||w&&C.context!==w||g(this,S);else{for(var A=0,L=[],U=C.length;A<U;A++)(C[A].fn!==y||R&&!C[A].once||w&&C[A].context!==w)&&L.push(C[A]);L.length?this._events[S]=L.length===1?L[0]:L:g(this,S)}return this},E.prototype.removeAllListeners=function(_){var y;return _?(y=a?a+_:_,this._events[y]&&g(this,y)):(this._events=new l,this._eventsCount=0),this},E.prototype.off=E.prototype.removeListener,E.prototype.addListener=E.prototype.on,E.prefixed=a,E.EventEmitter=E,o.exports=E},8954:o=>{var c;c=()=>(()=>{var a={228:h=>{var p=Object.prototype.hasOwnProperty,g="~";function E(){}function _(S,C,A){this.fn=S,this.context=C,this.once=A||!1}function y(S,C,A,L,U){if(typeof A!="function")throw new TypeError("The listener must be a function");var B=new _(A,L||S,U),z=g?g+C:C;return S._events[z]?S._events[z].fn?S._events[z]=[S._events[z],B]:S._events[z].push(B):(S._events[z]=B,S._eventsCount++),S}function w(S,C){--S._eventsCount==0?S._events=new E:delete S._events[C]}function R(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(g=!1)),R.prototype.eventNames=function(){var S,C,A=[];if(this._eventsCount===0)return A;for(C in S=this._events)p.call(S,C)&&A.push(g?C.slice(1):C);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(S)):A},R.prototype.listeners=function(S){var C=g?g+S:S,A=this._events[C];if(!A)return[];if(A.fn)return[A.fn];for(var L=0,U=A.length,B=new Array(U);L<U;L++)B[L]=A[L].fn;return B},R.prototype.listenerCount=function(S){var C=g?g+S:S,A=this._events[C];return A?A.fn?1:A.length:0},R.prototype.emit=function(S,C,A,L,U,B){var z=g?g+S:S;if(!this._events[z])return!1;var G,J,X=this._events[z],q=arguments.length;if(X.fn){switch(X.once&&this.removeListener(S,X.fn,void 0,!0),q){case 1:return X.fn.call(X.context),!0;case 2:return X.fn.call(X.context,C),!0;case 3:return X.fn.call(X.context,C,A),!0;case 4:return X.fn.call(X.context,C,A,L),!0;case 5:return X.fn.call(X.context,C,A,L,U),!0;case 6:return X.fn.call(X.context,C,A,L,U,B),!0}for(J=1,G=new Array(q-1);J<q;J++)G[J-1]=arguments[J];X.fn.apply(X.context,G)}else{var ee,ce=X.length;for(J=0;J<ce;J++)switch(X[J].once&&this.removeListener(S,X[J].fn,void 0,!0),q){case 1:X[J].fn.call(X[J].context);break;case 2:X[J].fn.call(X[J].context,C);break;case 3:X[J].fn.call(X[J].context,C,A);break;case 4:X[J].fn.call(X[J].context,C,A,L);break;default:if(!G)for(ee=1,G=new Array(q-1);ee<q;ee++)G[ee-1]=arguments[ee];X[J].fn.apply(X[J].context,G)}}return!0},R.prototype.on=function(S,C,A){return y(this,S,C,A,!1)},R.prototype.once=function(S,C,A){return y(this,S,C,A,!0)},R.prototype.removeListener=function(S,C,A,L){var U=g?g+S:S;if(!this._events[U])return this;if(!C)return w(this,U),this;var B=this._events[U];if(B.fn)B.fn!==C||L&&!B.once||A&&B.context!==A||w(this,U);else{for(var z=0,G=[],J=B.length;z<J;z++)(B[z].fn!==C||L&&!B[z].once||A&&B[z].context!==A)&&G.push(B[z]);G.length?this._events[U]=G.length===1?G[0]:G:w(this,U)}return this},R.prototype.removeAllListeners=function(S){var C;return S?(C=g?g+S:S,this._events[C]&&w(this,C)):(this._events=new E,this._eventsCount=0),this},R.prototype.off=R.prototype.removeListener,R.prototype.addListener=R.prototype.on,R.prefixed=g,R.EventEmitter=R,h.exports=R},815:function(h,p){var g,E,_=this&&this.__extends||(g=function(Y,Q){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,fe){re.__proto__=fe}||function(re,fe){for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(re[Te]=fe[Te])},g(Y,Q)},function(Y,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function re(){this.constructor=Y}g(Y,Q),Y.prototype=Q===null?Object.create(Q):(re.prototype=Q.prototype,new re)});function y(Y){return 60*Y*60}function w(Y){return 60*Y*60*24}Object.defineProperty(p,"__esModule",{value:!0}),p.daysToSeconds=p.hoursToSeconds=p.ConfigurationHolder=p.ConfigurationManager=p.Env=void 0,function(Y){Y.BETA="beta",Y.PROD="prod",Y.CUSTOM="custom"}(E||(p.Env=E={})),p.hoursToSeconds=y,p.daysToSeconds=w;var R=function(Y){function Q(re){return Y.call(this,re)||this}return _(Q,Y),Q}(Error),S="data",C="metrics",A=y(1),L=w(3),U=y(2),B="base64",z=function(){function Y(Q,re){var fe,Te,He,Le,xt,zt,Ke,lt;if(!re.fileKey)throw new Error("options.fileKey cannot be empty");var Mt=(fe=re.clock)!==null&&fe!==void 0?fe:new xe,Kt=Mt.getMillis();switch(this.context=Q,this.fileKey=re.fileKey,this.env=re.standardEnv,re.standardEnv){case E.BETA:this.fetchServer="beta.ivs-device-config-beta.live-video.net";break;case E.PROD:this.fetchServer="prod.ivs-device-config.live-video.net";break;case E.CUSTOM:if(!re.customServer)throw new Error("Custom env requires options.customServer");this.fetchServer=re.customServer;break;default:throw new Error("Invalid value for standardEnv: ".concat(re.standardEnv))}this.trace=(Te=re.trace)!==null&&Te!==void 0?Te:new q(this.env),this.fetch=(He=re.fetch)!==null&&He!==void 0?He:new X(Q),this.storage=new ce("amazon_ivs_device_config_v1_"+re.fileKey,Q.localStorage),this.state=new ve(this.storage,"state"),this.refresh={refreshIntervalSeconds:(Le=re.refresh.refreshIntervalSeconds)!==null&&Le!==void 0?Le:A,retryCount:(xt=re.refresh.retryCount)!==null&&xt!==void 0?xt:3,retryIntervalSeconds:(zt=re.refresh.retryIntervalSeconds)!==null&&zt!==void 0?zt:10,maxCacheAgeSeconds:(Ke=re.refresh.maxCacheAgeSeconds)!==null&&Ke!==void 0?Ke:L,stopRefreshAfterSeconds:(lt=re.refresh.stopRefreshAfterSeconds)!==null&&lt!==void 0?lt:U,canRefreshNow:re.refresh.canRefreshNow},this.clock=Mt,this.isInitialRefreshDone=!1;var Lt=0,Wt=this.state.getState();Wt&&Wt.fetchServer===this.fetchServer&&Wt.lastFetchWhenMs&&(Lt=Wt.lastFetchWhenMs);var Mr=Mt.getMillis(),qr=(Mr-Lt)/1e3;if(qr<=this.refresh.maxCacheAgeSeconds){var ut=this.storage.getJson(S);ut&&ut.fetchServer===this.fetchServer&&this.setData(ut.json)}if(this.lastUseMs=Mr,qr>=this.refresh.refreshIntervalSeconds||Lt==0)this.trace.onTrace("Will start refresh right now"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),0);else{var In=Math.round(this.refresh.refreshIntervalSeconds-qr);this.trace.onTrace("Will start refresh in "+In+" seconds"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*In),this.isInitialRefreshDone=!0}var Mi=Mt.getMillis();this.initialLoadTime=Mi-Kt}return Y.getInstance=function(Q,re){try{if(!(Q.fetch&&Q.setTimeout&&Q.clearTimeout&&Q.localStorage))return void console.log("Context needs to provide fetch, setTimeout, clearTimeout, localStorage")}catch(fe){return void console.error("Error checking for context properties "+fe)}if(this.gInstance){if(this.gInstance.fileKey!=re.fileKey)throw new Error("Existing instance has file key ".concat(this.gInstance.fileKey,", now asking for ").concat(re.fileKey));return this.gInstance}return this.gInstance=new Y(Q,re),this.gInstance},Y.prototype.getConfigurationHolder=function(Q){var re,fe=this,Te=this.clock.getMillis();this.lastUseMs=Te;var He=(re=Q.analytics)!==null&&re!==void 0?re:new ee(this.env);this.context.setTimeout(function(){fe.emitMetrics(He)});var Le=0,xt=this.state.getState();return xt&&xt.fetchServer===this.fetchServer&&xt.lastFetchWhenMs&&(Le=xt.lastFetchWhenMs),(Te-Le)/1e3<=this.refresh.maxCacheAgeSeconds?new G(He,this.properties):new G(He,void 0)},Y.prototype.getFetchUrl=function(){var Q="https://".concat(this.fetchServer,"/").concat(this.fileKey,".json"),re=new URL(Q);return re.searchParams.set("version","1.0"),re},Y.clearInstance=function(){var Q;(Q=this.gInstance)===null||Q===void 0||Q.clearInstanceImpl(),this.gInstance=void 0},Y.prototype.clearInstanceImpl=function(){this.context.clearTimeout(this.fetchTask),this.fetchTask=void 0,this.context.clearTimeout(this.retryTask),this.retryTask=void 0},Y.prototype.startRefresh=function(){var Q=this;this.trace.onTrace("Starting refresh request..."),this.fetchTask=void 0,this.retryTask&&(this.context.clearTimeout(this.retryTask),this.retryTask=void 0);var re=this.clock.getMillis();return(re-this.lastUseMs)/1e3>this.refresh.stopRefreshAfterSeconds?(this.trace.onTrace("Actually will not refresh due to refresh timeout"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):this.isInitialRefreshDone&&!this.refresh.canRefreshNow()?(this.trace.onTrace("Will not refresh due to callback having returned false"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):void this.fetchData().then(function(fe){Q.processResponse(fe,re)}).catch(function(fe){Q.exceptionMetrics(fe),Q.trace.onTrace("Fetch error: "+fe),Q.refresh.retryCount>0&&Q.scheduleRetry(1)}).finally(function(){Q.isInitialRefreshDone=!0,Q.fetchTask=Q.context.setTimeout(Q.startRefresh.bind(Q),1e3*Q.refresh.refreshIntervalSeconds)})},Y.prototype.fetchData=function(){var Q=this.getFetchUrl(),re=new Headers,fe=this.state.getState();return fe.fetchServer===this.fetchServer&&(fe.lastFetchWhenFullMs&&this.clock.getMillis()-fe.lastFetchWhenFullMs>1e3*y(24)?this.trace.onTrace("Forcing full refresh"):this.properties&&fe.lastFetchEtagHeader&&re.set("If-None-Match",fe.lastFetchEtagHeader)),this.incrementMetrics("fetch_attempt_count"),this.fetch.fetchUrl(Q,re)},Y.prototype.processResponse=function(Q,re){var fe={fetchServer:this.fetchServer,lastFetchWhenMs:this.clock.getMillis()},Te=Q.headers.get("etag");Te&&(fe.lastFetchEtagHeader=Te);try{if(Q.status<300&&Q.json)if(this.setData(Q.json)){this.trace.onTrace("Successfully parsed fetched data"),this.storage.setJson(S,{fetchServer:this.fetchServer,json:Q.json});var He=this.clock.getMillis();fe.lastFetchWhenFullMs=He,this.incrementMetricsWithDuration("success_new_data_count",He-re)}else this.incrementMetrics("fail_invalid_data_count");else{if(Q.status!==304){var Le="Unexpected http fetch status: "+Q.status;throw this.trace.onTrace(Le),new R(Le)}this.trace.onTrace("Server said no change in data"),He=this.clock.getMillis(),this.incrementMetricsWithDuration("success_no_change_count",He-re)}}finally{this.state.setState(fe)}},Y.prototype.scheduleRetry=function(Q){var re=this;this.retryTask&&this.context.clearTimeout(this.retryTask);var fe=Q*this.refresh.retryIntervalSeconds;this.retryTask=this.context.setTimeout(function(){re.retryTask=void 0,re.fetchRetry(Q)},1e3*fe)},Y.prototype.fetchRetry=function(Q){var re=this;this.trace.onTrace("Starting retry request ".concat(Q,"..."));var fe=this.clock.getMillis();this.fetchData().then(function(Te){re.processResponse(Te,fe)}).catch(function(Te){re.exceptionMetrics(Te),re.trace.onTrace("Fetch error: "+Te),re.refresh.retryCount>Q&&re.scheduleRetry(Q+1)})},Y.prototype.setData=function(Q){if(!Q)return!1;if(Q.version!=="1.0")return this.trace.onTrace("Data version is not 1.0, not applying"),!1;var re=Q.properties;if(!re||!Array.isArray(re))return this.trace.onTrace("Data properties is not an array, not applying"),!1;for(var fe=new Map,Te=0,He=re;Te<He.length;Te++){var Le=He[Te];if(Le.name&&Le.type&&this.isValidValueType(Le.type)){if(Le.value_string&&typeof Le.value_string!="string"){this.trace.onTrace("Invalid type of value.value_string "+typeof Le.value_string);continue}if(Le.value_number&&typeof Le.value_number!="number"){this.trace.onTrace("Invalid type of value.value_number "+typeof Le.value_number);continue}if(Le.value_boolean&&typeof Le.value_boolean!="boolean"){this.trace.onTrace("Invalid type of value.value_boolean "+typeof Le.value_boolean);continue}if(Le.value_json&&typeof Le.value_json!="string"){this.trace.onTrace("Invalid type of value.value_json "+typeof Le.value_json);continue}if(Le.value_analytics&&typeof Le.value_analytics!="string"){this.trace.onTrace("Invalid type of item.value_analytics "+typeof Le.value_analytics);continue}var xt=new _e(Le.name,this.parseValueType(Le.type),Le.value_string,Le.value_number,Le.value_boolean,Le.value_json,Le.value_analytics,Le.encoding);fe.set(xt.name,xt)}}return fe.size!=0&&(this.properties=fe,!0)},Y.prototype.isValidValueType=function(Q){return Q==="string"||Q==="number"||Q==="boolean"||Q=="json"},Y.prototype.parseValueType=function(Q){switch(Q){case"string":return J.STRING;case"number":return J.NUMBER;case"boolean":return J.BOOLEAN;case"json":return J.JSON;default:throw new Error("Unsupported value type ".concat(Q))}},Y.prototype.emitMetrics=function(Q){var re,fe,Te,He,Le,xt,zt,Ke,lt=(re=this.storage.getJson(C))!==null&&re!==void 0?re:{},Mt={initial_load_time:this.initialLoadTime,fetch_attempt_count:(fe=lt.fetch_attempt_count)!==null&&fe!==void 0?fe:0,fetch_duration_average:(Te=lt.fetch_duration_average)!==null&&Te!==void 0?Te:0,success_no_change_count:(He=lt.success_no_change_count)!==null&&He!==void 0?He:0,success_new_data_count:(Le=lt.success_new_data_count)!==null&&Le!==void 0?Le:0,fail_exception_count:(xt=lt.fail_exception_count)!==null&&xt!==void 0?xt:0,fail_http_error_count:(zt=lt.fail_http_error_count)!==null&&zt!==void 0?zt:0,fail_invalid_data_count:(Ke=lt.fail_invalid_data_count)!==null&&Ke!==void 0?Ke:0};Q.onMetrics(Mt),lt.fetch_attempt_count=0,lt.success_no_change_count=0,lt.success_new_data_count=0,lt.fail_exception_count=0,lt.fail_http_error_count=0,lt.fail_invalid_data_count=0,this.storage.setJson(C,lt)},Y.prototype.exceptionMetrics=function(Q){Q instanceof R||Q.message.startsWith("http error")?this.incrementMetrics("fail_http_error_count"):this.incrementMetrics("fail_exception_count")},Y.prototype.incrementMetrics=function(Q){var re,fe,Te=(re=this.storage.getJson(C))!==null&&re!==void 0?re:{};Te[Q]=((fe=Te[Q])!==null&&fe!==void 0?fe:0)+1,this.storage.setJson(C,Te)},Y.prototype.incrementMetricsWithDuration=function(Q,re){var fe,Te,He=(fe=this.storage.getJson(C))!==null&&fe!==void 0?fe:{};He[Q]=((Te=He[Q])!==null&&Te!==void 0?Te:0)+1,re>0&&(He.fetch_duration_average!==void 0?He.fetch_duration_average=.9*He.fetch_duration_average+.1*re|0:He.fetch_duration_average=re),this.storage.setJson(C,He)},Y}();p.ConfigurationManager=z;var G=function(){function Y(Q,re){this.analytics=Q,this.properties=re}return Y.prototype.getSize=function(){return this.properties?this.properties.size:-1},Y.prototype.getStringValue=function(Q){var re,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===J.STRING){var He=(re=Te.valueString)!==null&&re!==void 0?re:"";return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He),He}this.analytics.onError(Q,"Type is not string")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getNumberValue=function(Q){var re,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===J.NUMBER){var He=(re=Te.valueNumber)!==null&&re!==void 0?re:0;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He.toString()),He}this.analytics.onError(Q,"Type is not number")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getBooleanValue=function(Q){var re,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===J.BOOLEAN){var He=(re=Te.valueBoolean)!==null&&re!==void 0&&re;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He.toString()),He}this.analytics.onError(Q,"Type is not boolean")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getJsonValue=function(Q){var re,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===J.JSON){var He=Te.valueJson;if(!He)return this.analytics.onValue(Q,(re=Te.valueAnalytics)!==null&&re!==void 0?re:""),null;try{var Le=JSON.parse(He);return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:He),Le}catch{return void this.analytics.onError(Q,"Json parse error")}}this.analytics.onError(Q,"Type is not json")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y}();p.ConfigurationHolder=G;var J,X=function(){function Y(Q){this.context=Q}return Y.prototype.fetchUrl=function(Q,re){var fe=this;return new Promise(function(Te,He){fe.context.fetch(Q,{headers:re,cache:"no-store"}).then(function(Le){if(Le.status>=400)He(new R("http error ".concat(Le.status,", ").concat(Le.statusText)));else{var xt={status:Le.status,headers:Le.headers};Le.json().then(function(zt){xt.json=zt}).catch(function(){}).finally(function(){Te(xt)})}}).catch(function(Le){He(Le)})})},Y}(),q=function(){function Y(Q){this.env=Q}return Y.prototype.onTrace=function(Q){this.env!=E.PROD&&console.log("Configuration: "+Q)},Y}(),ee=function(){function Y(Q){this.env=Q}return Y.prototype.onMetrics=function(Q){this.env!=E.PROD&&console.log("Metrics",Q)},Y.prototype.onValue=function(Q,re){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": value = ").concat(re))},Y.prototype.onError=function(Q,re){this.env!=E.PROD&&console.error("Configuration for ".concat(Q,": error = ").concat(re))},Y.prototype.onTrace=function(Q,re){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": trace = ").concat(re))},Y}(),ce=function(){function Y(Q,re){this.prefix=Q,this.storage=re}return Y.prototype.getJson=function(Q){var re=this.prefix+"_"+Q;try{var fe=this.storage.getItem(re);if(fe)return JSON.parse(fe)}catch(Te){console.error("Error getting local storage key ".concat(re)+Te)}return null},Y.prototype.setJson=function(Q,re){var fe=this.prefix+"_"+Q;try{this.storage.setItem(fe,JSON.stringify(re))}catch(Te){console.error("Error setting local storage key ".concat(fe,": ")+Te)}},Y}(),xe=function(){function Y(){}return Y.prototype.getMillis=function(){return Date.now()},Y}();(function(Y){Y[Y.STRING=0]="STRING",Y[Y.NUMBER=1]="NUMBER",Y[Y.BOOLEAN=2]="BOOLEAN",Y[Y.JSON=3]="JSON"})(J||(J={}));var _e=function(Y,Q,re,fe,Te,He,Le,xt){switch(this.name=Y,this.type=Q,this.valueString=re,this.valueNumber=fe,this.valueBoolean=Te,this.valueJson=He,this.valueAnalytics=Le,this.type){case J.STRING:xt===B&&re&&(this.valueString=atob(re));break;case J.JSON:xt===B&&He&&(this.valueJson=atob(He))}},ve=function(){function Y(Q,re){var fe;this.storage=Q,this.key=re,this.state=(fe=Q.getJson(re))!==null&&fe!==void 0?fe:{}}return Y.prototype.getState=function(){return this.state},Y.prototype.setState=function(Q){Object.assign(this.state,Q),this.storage.setJson(this.key,this.state)},Y}()},456:function(h,p,g){var E=this&&this.__createBinding||(Object.create?function(y,w,R,S){S===void 0&&(S=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,S,C)}:function(y,w,R,S){S===void 0&&(S=R),y[S]=w[R]}),_=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),_(g(903),p)},903:function(h,p,g){var E=this&&this.__spreadArray||function(w,R,S){if(S||arguments.length===2)for(var C,A=0,L=R.length;A<L;A++)!C&&A in R||(C||(C=Array.prototype.slice.call(R,0,A)),C[A]=R[A]);return w.concat(C||Array.prototype.slice.call(R))};Object.defineProperty(p,"__esModule",{value:!0}),p.TypedEmitter=void 0;var _=g(228),y=function(){function w(R){var S=R.propagateErrors;this.emitter=new _.EventEmitter,this.propagateErrors=S!=null&&S}return w.prototype.on=function(R,S){S.call=this.wrapCall(R,S),this.emitter.on(R,S)},w.prototype.off=function(R,S){this.emitter.off(R,S)},w.prototype.emit=function(R){for(var S,C=[],A=1;A<arguments.length;A++)C[A-1]=arguments[A];(S=this.emitter).emit.apply(S,E([R],C,!1))},w.prototype.removeAllListeners=function(){this.emitter.removeAllListeners()},w.prototype.wrapCall=function(R,S){var C=this;return function(A){for(var L=[],U=1;U<arguments.length;U++)L[U-1]=arguments[U];if(C.propagateErrors)S.apply(A,L);else try{S.apply(A,L)}catch(G){var B="Error in callback for ".concat(R),z=S.name;return z&&(B+=" for function ".concat(z)),void console.error(B,G)}}},w}();p.TypedEmitter=y},987:function(h,p,g){var E,_=this&&this.__extends||(E=function(L,U){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,z){B.__proto__=z}||function(B,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(B[G]=z[G])},E(L,U)},function(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function B(){this.constructor=L}E(L,U),L.prototype=U===null?Object.create(U):(B.prototype=U.prototype,new B)}),y=this&&this.__createBinding||(Object.create?function(L,U,B,z){z===void 0&&(z=B);var G=Object.getOwnPropertyDescriptor(U,B);G&&!("get"in G?!U.__esModule:G.writable||G.configurable)||(G={enumerable:!0,get:function(){return U[B]}}),Object.defineProperty(L,z,G)}:function(L,U,B,z){z===void 0&&(z=B),L[z]=U[B]}),w=this&&this.__setModuleDefault||(Object.create?function(L,U){Object.defineProperty(L,"default",{enumerable:!0,value:U})}:function(L,U){L.default=U}),R=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var U={};if(L!=null)for(var B in L)B!=="default"&&Object.prototype.hasOwnProperty.call(L,B)&&y(U,L,B);return w(U,L),U};Object.defineProperty(p,"__esModule",{value:!0}),p.createFsm=p.FsmWildcardState=p.RejectedTransitionError=p.InvalidStateTransitionError=void 0;var S=R(g(293)),C=function(L){function U(B,z){var G=L.call(this,"Invalid transition from '".concat(z,"' via event '").concat(B,"'"))||this;return G.name="InvalidStateTransitionError",G}return _(U,L),U}(Error);p.InvalidStateTransitionError=C;var A=function(L){function U(B,z,G){var J=L.call(this,"Transition from '".concat(z,"' via event '").concat(B,"' was rejected for: ").concat(G))||this;return J.name="RejectedTransitionError",J}return _(U,L),U}(Error);p.RejectedTransitionError=A,p.FsmWildcardState="*",p.createFsm=function(L){var U,B=L.transitions,z=L.callbacks,G=L.initialState,J=function(X){var q,ee=(q=B[X])===null||q===void 0?void 0:q.from;return!!ee&&(typeof ee=="string"?ee===p.FsmWildcardState:ee.includes(G))};return{canTransition:J,transition:function(X,q){var ee,ce,xe,_e,ve,Y;if(!J(X))return S.err(new C(String(G),String(X)));var Q=B[X];return Q.shouldTransition===void 0||Q.shouldTransition(G)?((ce=(ee=z==null?void 0:z[G])===null||ee===void 0?void 0:ee.onExiting)===null||ce===void 0||ce.call(ee),(xe=z==null?void 0:z.onStateExiting)===null||xe===void 0||xe.call(z,G),U=G,G=Q.to,(ve=(_e=z==null?void 0:z[G])===null||_e===void 0?void 0:_e.onChanged)===null||ve===void 0||ve.call(_e,U,q),(Y=z==null?void 0:z.onStateChanged)===null||Y===void 0||Y.call(z,U,G,q),S.ok(G)):S.err(new A(String(G),String(X),"shouldTransition returned false"))},previousState:function(){return U},currentState:function(){return G}}}},156:function(h,p,g){var E=this&&this.__createBinding||(Object.create?function(y,w,R,S){S===void 0&&(S=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,S,C)}:function(y,w,R,S){S===void 0&&(S=R),y[S]=w[R]}),_=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),p.VERSION=void 0,p.VERSION="0.2.0",_(g(815),p),_(g(456),p),_(g(987),p),_(g(293),p)},293:(h,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getErr=p.getOk_or=p.getOk=p.isNotOk=p.isOk=p.err=p.ok=void 0,p.ok=function(g){return{ok:!0,value:g}},p.err=function(g){return{ok:!1,error:g}},p.isOk=function(g){return g.ok===!0},p.isNotOk=function(g){return!(0,p.isOk)(g)},p.getOk=function(g){return g.ok===!0?g.value:void 0},p.getOk_or=function(g,E){return g.ok===!0?g.value:E},p.getErr=function(g){return g.ok===!0?void 0:g.error}}},l={};return function h(p){var g=l[p];if(g!==void 0)return g.exports;var E=l[p]={exports:{}};return a[p].call(E.exports,E,E.exports,h),E.exports}(156)})(),o.exports=c()},1549:(o,c,a)=>{var l=a(2032),h=a(3862),p=a(6721),g=a(2749),E=a(5749);function _(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var S=y[w];this.set(S[0],S[1])}}_.prototype.clear=l,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=E,o.exports=_},79:(o,c,a)=>{var l=a(3702),h=a(80),p=a(4739),g=a(8655),E=a(1175);function _(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var S=y[w];this.set(S[0],S[1])}}_.prototype.clear=l,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=E,o.exports=_},8223:(o,c,a)=>{var l=a(6110)(a(9325),"Map");o.exports=l},3661:(o,c,a)=>{var l=a(3040),h=a(7670),p=a(289),g=a(4509),E=a(2949);function _(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var S=y[w];this.set(S[0],S[1])}}_.prototype.clear=l,_.prototype.delete=h,_.prototype.get=p,_.prototype.has=g,_.prototype.set=E,o.exports=_},7217:(o,c,a)=>{var l=a(79),h=a(1420),p=a(938),g=a(3605),E=a(9817),_=a(945);function y(w){var R=this.__data__=new l(w);this.size=R.size}y.prototype.clear=h,y.prototype.delete=p,y.prototype.get=g,y.prototype.has=E,y.prototype.set=_,o.exports=y},1873:(o,c,a)=>{var l=a(9325).Symbol;o.exports=l},7828:(o,c,a)=>{var l=a(9325).Uint8Array;o.exports=l},1033:o=>{o.exports=function(c,a,l){switch(l.length){case 0:return c.call(a);case 1:return c.call(a,l[0]);case 2:return c.call(a,l[0],l[1]);case 3:return c.call(a,l[0],l[1],l[2])}return c.apply(a,l)}},695:(o,c,a)=>{var l=a(8096),h=a(2428),p=a(6449),g=a(3656),E=a(361),_=a(7167),y=Object.prototype.hasOwnProperty;o.exports=function(w,R){var S=p(w),C=!S&&h(w),A=!S&&!C&&g(w),L=!S&&!C&&!A&&_(w),U=S||C||A||L,B=U?l(w.length,String):[],z=B.length;for(var G in w)!R&&!y.call(w,G)||U&&(G=="length"||A&&(G=="offset"||G=="parent")||L&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||E(G,z))||B.push(G);return B}},7805:(o,c,a)=>{var l=a(3360),h=a(5288);o.exports=function(p,g,E){(E!==void 0&&!h(p[g],E)||E===void 0&&!(g in p))&&l(p,g,E)}},6547:(o,c,a)=>{var l=a(3360),h=a(5288),p=Object.prototype.hasOwnProperty;o.exports=function(g,E,_){var y=g[E];p.call(g,E)&&h(y,_)&&(_!==void 0||E in g)||l(g,E,_)}},6025:(o,c,a)=>{var l=a(5288);o.exports=function(h,p){for(var g=h.length;g--;)if(l(h[g][0],p))return g;return-1}},3360:(o,c,a)=>{var l=a(3243);o.exports=function(h,p,g){p=="__proto__"&&l?l(h,p,{configurable:!0,enumerable:!0,value:g,writable:!0}):h[p]=g}},9344:(o,c,a)=>{var l=a(3805),h=Object.create,p=function(){function g(){}return function(E){if(!l(E))return{};if(h)return h(E);g.prototype=E;var _=new g;return g.prototype=void 0,_}}();o.exports=p},6649:(o,c,a)=>{var l=a(3221)();o.exports=l},2552:(o,c,a)=>{var l=a(1873),h=a(659),p=a(9350),g=l?l.toStringTag:void 0;o.exports=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":g&&g in Object(E)?h(E):p(E)}},7534:(o,c,a)=>{var l=a(2552),h=a(346);o.exports=function(p){return h(p)&&l(p)=="[object Arguments]"}},5083:(o,c,a)=>{var l=a(1882),h=a(7296),p=a(3805),g=a(7473),E=/^\[object .+?Constructor\]$/,_=Function.prototype,y=Object.prototype,w=_.toString,R=y.hasOwnProperty,S=RegExp("^"+w.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(C){return!(!p(C)||h(C))&&(l(C)?S:E).test(g(C))}},4901:(o,c,a)=>{var l=a(2552),h=a(294),p=a(346),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,o.exports=function(E){return p(E)&&h(E.length)&&!!g[l(E)]}},2903:(o,c,a)=>{var l=a(3805),h=a(5527),p=a(181),g=Object.prototype.hasOwnProperty;o.exports=function(E){if(!l(E))return p(E);var _=h(E),y=[];for(var w in E)(w!="constructor"||!_&&g.call(E,w))&&y.push(w);return y}},5250:(o,c,a)=>{var l=a(7217),h=a(7805),p=a(6649),g=a(2824),E=a(3805),_=a(7241),y=a(4974);o.exports=function w(R,S,C,A,L){R!==S&&p(S,function(U,B){if(L||(L=new l),E(U))g(R,S,B,C,w,A,L);else{var z=A?A(y(R,B),U,B+"",R,S,L):void 0;z===void 0&&(z=U),h(R,B,z)}},_)}},2824:(o,c,a)=>{var l=a(7805),h=a(3290),p=a(1961),g=a(3007),E=a(5529),_=a(2428),y=a(6449),w=a(3693),R=a(3656),S=a(1882),C=a(3805),A=a(1331),L=a(7167),U=a(4974),B=a(9884);o.exports=function(z,G,J,X,q,ee,ce){var xe=U(z,J),_e=U(G,J),ve=ce.get(_e);if(ve)l(z,J,ve);else{var Y=ee?ee(xe,_e,J+"",z,G,ce):void 0,Q=Y===void 0;if(Q){var re=y(_e),fe=!re&&R(_e),Te=!re&&!fe&&L(_e);Y=_e,re||fe||Te?y(xe)?Y=xe:w(xe)?Y=g(xe):fe?(Q=!1,Y=h(_e,!0)):Te?(Q=!1,Y=p(_e,!0)):Y=[]:A(_e)||_(_e)?(Y=xe,_(xe)?Y=B(xe):C(xe)&&!S(xe)||(Y=E(_e))):Q=!1}Q&&(ce.set(_e,Y),q(Y,_e,X,ee,ce),ce.delete(_e)),l(z,J,Y)}}},9302:(o,c,a)=>{var l=a(3488),h=a(6757),p=a(2865);o.exports=function(g,E){return p(h(g,E,l),g+"")}},9570:(o,c,a)=>{var l=a(7334),h=a(3243),p=a(3488),g=h?function(E,_){return h(E,"toString",{configurable:!0,enumerable:!1,value:l(_),writable:!0})}:p;o.exports=g},8096:o=>{o.exports=function(c,a){for(var l=-1,h=Array(c);++l<c;)h[l]=a(l);return h}},7301:o=>{o.exports=function(c){return function(a){return c(a)}}},9653:(o,c,a)=>{var l=a(7828);o.exports=function(h){var p=new h.constructor(h.byteLength);return new l(p).set(new l(h)),p}},3290:(o,c,a)=>{o=a.nmd(o);var l=a(9325),h=c&&!c.nodeType&&c,p=h&&o&&!o.nodeType&&o,g=p&&p.exports===h?l.Buffer:void 0,E=g?g.allocUnsafe:void 0;o.exports=function(_,y){if(y)return _.slice();var w=_.length,R=E?E(w):new _.constructor(w);return _.copy(R),R}},1961:(o,c,a)=>{var l=a(9653);o.exports=function(h,p){var g=p?l(h.buffer):h.buffer;return new h.constructor(g,h.byteOffset,h.length)}},3007:o=>{o.exports=function(c,a){var l=-1,h=c.length;for(a||(a=Array(h));++l<h;)a[l]=c[l];return a}},1791:(o,c,a)=>{var l=a(6547),h=a(3360);o.exports=function(p,g,E,_){var y=!E;E||(E={});for(var w=-1,R=g.length;++w<R;){var S=g[w],C=_?_(E[S],p[S],S,E,p):void 0;C===void 0&&(C=p[S]),y?h(E,S,C):l(E,S,C)}return E}},5481:(o,c,a)=>{var l=a(9325)["__core-js_shared__"];o.exports=l},999:(o,c,a)=>{var l=a(9302),h=a(6800);o.exports=function(p){return l(function(g,E){var _=-1,y=E.length,w=y>1?E[y-1]:void 0,R=y>2?E[2]:void 0;for(w=p.length>3&&typeof w=="function"?(y--,w):void 0,R&&h(E[0],E[1],R)&&(w=y<3?void 0:w,y=1),g=Object(g);++_<y;){var S=E[_];S&&p(g,S,_,w)}return g})}},3221:o=>{o.exports=function(c){return function(a,l,h){for(var p=-1,g=Object(a),E=h(a),_=E.length;_--;){var y=E[c?_:++p];if(l(g[y],y,g)===!1)break}return a}}},3243:(o,c,a)=>{var l=a(6110),h=function(){try{var p=l(Object,"defineProperty");return p({},"",{}),p}catch{}}();o.exports=h},4840:(o,c,a)=>{var l=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g;o.exports=l},2651:(o,c,a)=>{var l=a(4218);o.exports=function(h,p){var g=h.__data__;return l(p)?g[typeof p=="string"?"string":"hash"]:g.map}},6110:(o,c,a)=>{var l=a(5083),h=a(392);o.exports=function(p,g){var E=h(p,g);return l(E)?E:void 0}},8879:(o,c,a)=>{var l=a(4335)(Object.getPrototypeOf,Object);o.exports=l},659:(o,c,a)=>{var l=a(1873),h=Object.prototype,p=h.hasOwnProperty,g=h.toString,E=l?l.toStringTag:void 0;o.exports=function(_){var y=p.call(_,E),w=_[E];try{_[E]=void 0;var R=!0}catch{}var S=g.call(_);return R&&(y?_[E]=w:delete _[E]),S}},392:o=>{o.exports=function(c,a){return c==null?void 0:c[a]}},2032:(o,c,a)=>{var l=a(1042);o.exports=function(){this.__data__=l?l(null):{},this.size=0}},3862:o=>{o.exports=function(c){var a=this.has(c)&&delete this.__data__[c];return this.size-=a?1:0,a}},6721:(o,c,a)=>{var l=a(1042),h=Object.prototype.hasOwnProperty;o.exports=function(p){var g=this.__data__;if(l){var E=g[p];return E==="__lodash_hash_undefined__"?void 0:E}return h.call(g,p)?g[p]:void 0}},2749:(o,c,a)=>{var l=a(1042),h=Object.prototype.hasOwnProperty;o.exports=function(p){var g=this.__data__;return l?g[p]!==void 0:h.call(g,p)}},5749:(o,c,a)=>{var l=a(1042);o.exports=function(h,p){var g=this.__data__;return this.size+=this.has(h)?0:1,g[h]=l&&p===void 0?"__lodash_hash_undefined__":p,this}},5529:(o,c,a)=>{var l=a(9344),h=a(8879),p=a(5527);o.exports=function(g){return typeof g.constructor!="function"||p(g)?{}:l(h(g))}},361:o=>{var c=/^(?:0|[1-9]\d*)$/;o.exports=function(a,l){var h=typeof a;return!!(l=l??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(a))&&a>-1&&a%1==0&&a<l}},6800:(o,c,a)=>{var l=a(5288),h=a(4894),p=a(361),g=a(3805);o.exports=function(E,_,y){if(!g(y))return!1;var w=typeof _;return!!(w=="number"?h(y)&&p(_,y.length):w=="string"&&_ in y)&&l(y[_],E)}},4218:o=>{o.exports=function(c){var a=typeof c;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?c!=="__proto__":c===null}},7296:(o,c,a)=>{var l,h=a(5481),p=(l=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";o.exports=function(g){return!!p&&p in g}},5527:o=>{var c=Object.prototype;o.exports=function(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||c)}},3702:o=>{o.exports=function(){this.__data__=[],this.size=0}},80:(o,c,a)=>{var l=a(6025),h=Array.prototype.splice;o.exports=function(p){var g=this.__data__,E=l(g,p);return!(E<0)&&(E==g.length-1?g.pop():h.call(g,E,1),--this.size,!0)}},4739:(o,c,a)=>{var l=a(6025);o.exports=function(h){var p=this.__data__,g=l(p,h);return g<0?void 0:p[g][1]}},8655:(o,c,a)=>{var l=a(6025);o.exports=function(h){return l(this.__data__,h)>-1}},1175:(o,c,a)=>{var l=a(6025);o.exports=function(h,p){var g=this.__data__,E=l(g,h);return E<0?(++this.size,g.push([h,p])):g[E][1]=p,this}},3040:(o,c,a)=>{var l=a(1549),h=a(79),p=a(8223);o.exports=function(){this.size=0,this.__data__={hash:new l,map:new(p||h),string:new l}}},7670:(o,c,a)=>{var l=a(2651);o.exports=function(h){var p=l(this,h).delete(h);return this.size-=p?1:0,p}},289:(o,c,a)=>{var l=a(2651);o.exports=function(h){return l(this,h).get(h)}},4509:(o,c,a)=>{var l=a(2651);o.exports=function(h){return l(this,h).has(h)}},2949:(o,c,a)=>{var l=a(2651);o.exports=function(h,p){var g=l(this,h),E=g.size;return g.set(h,p),this.size+=g.size==E?0:1,this}},1042:(o,c,a)=>{var l=a(6110)(Object,"create");o.exports=l},181:o=>{o.exports=function(c){var a=[];if(c!=null)for(var l in Object(c))a.push(l);return a}},6009:(o,c,a)=>{o=a.nmd(o);var l=a(4840),h=c&&!c.nodeType&&c,p=h&&o&&!o.nodeType&&o,g=p&&p.exports===h&&l.process,E=function(){try{var _=p&&p.require&&p.require("util").types;return _||g&&g.binding&&g.binding("util")}catch{}}();o.exports=E},9350:o=>{var c=Object.prototype.toString;o.exports=function(a){return c.call(a)}},4335:o=>{o.exports=function(c,a){return function(l){return c(a(l))}}},6757:(o,c,a)=>{var l=a(1033),h=Math.max;o.exports=function(p,g,E){return g=h(g===void 0?p.length-1:g,0),function(){for(var _=arguments,y=-1,w=h(_.length-g,0),R=Array(w);++y<w;)R[y]=_[g+y];y=-1;for(var S=Array(g+1);++y<g;)S[y]=_[y];return S[g]=E(R),l(p,this,S)}}},9325:(o,c,a)=>{var l=a(4840),h=typeof self=="object"&&self&&self.Object===Object&&self,p=l||h||Function("return this")();o.exports=p},4974:o=>{o.exports=function(c,a){if((a!=="constructor"||typeof c[a]!="function")&&a!="__proto__")return c[a]}},2865:(o,c,a)=>{var l=a(9570),h=a(1811)(l);o.exports=h},1811:o=>{var c=Date.now;o.exports=function(a){var l=0,h=0;return function(){var p=c(),g=16-(p-h);if(h=p,g>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}},1420:(o,c,a)=>{var l=a(79);o.exports=function(){this.__data__=new l,this.size=0}},938:o=>{o.exports=function(c){var a=this.__data__,l=a.delete(c);return this.size=a.size,l}},3605:o=>{o.exports=function(c){return this.__data__.get(c)}},9817:o=>{o.exports=function(c){return this.__data__.has(c)}},945:(o,c,a)=>{var l=a(79),h=a(8223),p=a(3661);o.exports=function(g,E){var _=this.__data__;if(_ instanceof l){var y=_.__data__;if(!h||y.length<199)return y.push([g,E]),this.size=++_.size,this;_=this.__data__=new p(y)}return _.set(g,E),this.size=_.size,this}},7473:o=>{var c=Function.prototype.toString;o.exports=function(a){if(a!=null){try{return c.call(a)}catch{}try{return a+""}catch{}}return""}},7334:o=>{o.exports=function(c){return function(){return c}}},5288:o=>{o.exports=function(c,a){return c===a||c!=c&&a!=a}},3488:o=>{o.exports=function(c){return c}},2428:(o,c,a)=>{var l=a(7534),h=a(346),p=Object.prototype,g=p.hasOwnProperty,E=p.propertyIsEnumerable,_=l(function(){return arguments}())?l:function(y){return h(y)&&g.call(y,"callee")&&!E.call(y,"callee")};o.exports=_},6449:o=>{var c=Array.isArray;o.exports=c},4894:(o,c,a)=>{var l=a(1882),h=a(294);o.exports=function(p){return p!=null&&h(p.length)&&!l(p)}},3693:(o,c,a)=>{var l=a(4894),h=a(346);o.exports=function(p){return h(p)&&l(p)}},3656:(o,c,a)=>{o=a.nmd(o);var l=a(9325),h=a(9935),p=c&&!c.nodeType&&c,g=p&&o&&!o.nodeType&&o,E=g&&g.exports===p?l.Buffer:void 0,_=(E?E.isBuffer:void 0)||h;o.exports=_},1882:(o,c,a)=>{var l=a(2552),h=a(3805);o.exports=function(p){if(!h(p))return!1;var g=l(p);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},294:o=>{o.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},3805:o=>{o.exports=function(c){var a=typeof c;return c!=null&&(a=="object"||a=="function")}},346:o=>{o.exports=function(c){return c!=null&&typeof c=="object"}},1331:(o,c,a)=>{var l=a(2552),h=a(8879),p=a(346),g=Function.prototype,E=Object.prototype,_=g.toString,y=E.hasOwnProperty,w=_.call(Object);o.exports=function(R){if(!p(R)||l(R)!="[object Object]")return!1;var S=h(R);if(S===null)return!0;var C=y.call(S,"constructor")&&S.constructor;return typeof C=="function"&&C instanceof C&&_.call(C)==w}},7167:(o,c,a)=>{var l=a(4901),h=a(7301),p=a(6009),g=p&&p.isTypedArray,E=g?h(g):l;o.exports=E},7241:(o,c,a)=>{var l=a(695),h=a(2903),p=a(4894);o.exports=function(g){return p(g)?l(g,!0):h(g)}},2543:function(o,c,a){var l;o=a.nmd(o),(function(){var h,p="Expected a function",g="__lodash_hash_undefined__",E="__lodash_placeholder__",_=16,y=32,w=64,R=128,S=256,C=1/0,A=9007199254740991,L=NaN,U=4294967295,B=[["ary",R],["bind",1],["bindKey",2],["curry",8],["curryRight",_],["flip",512],["partial",y],["partialRight",w],["rearg",S]],z="[object Arguments]",G="[object Array]",J="[object Boolean]",X="[object Date]",q="[object Error]",ee="[object Function]",ce="[object GeneratorFunction]",xe="[object Map]",_e="[object Number]",ve="[object Object]",Y="[object Promise]",Q="[object RegExp]",re="[object Set]",fe="[object String]",Te="[object Symbol]",He="[object WeakMap]",Le="[object ArrayBuffer]",xt="[object DataView]",zt="[object Float32Array]",Ke="[object Float64Array]",lt="[object Int8Array]",Mt="[object Int16Array]",Kt="[object Int32Array]",Lt="[object Uint8Array]",Wt="[object Uint8ClampedArray]",Mr="[object Uint16Array]",qr="[object Uint32Array]",ut=/\b__p \+= '';/g,In=/\b(__p \+=) '' \+/g,Mi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,he=/[&<>"']/g,Ce=RegExp(Z.source),Ye=RegExp(he.source),ne=/<%-([\s\S]+?)%>/g,de=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,De=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wr=/[\\^$.*+?()[\]{}|]/g,Qn=RegExp(wr.source),fi=/^\s+/,ds=/\s/,Er=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cr=/\{\n\/\* \[wrapped with (.+)\] \*/,aa=/,? & /,Tl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Et=/[()=,{}\[\]\/\s]/,ah=/\\(\\)?/g,md=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ca=/\w*$/,Rl=/^[-+]0x[0-9a-f]+$/i,kl=/^0b[01]+$/i,gd=/^\[object .+?Constructor\]$/,Ac=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pe=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Yt="\\ud800-\\udfff",on="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ir="\\u2700-\\u27bf",Ft="a-z\\xdf-\\xf6\\xf8-\\xff",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",et="\\ufe0e\\ufe0f",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="['’]",xr="["+Yt+"]",Kr="["+pt+"]",Lr="["+on+"]",Li="\\d+",vd="["+ir+"]",yd="["+Ft+"]",Cm="[^"+Yt+pt+Li+ir+Ft+dt+"]",ch="\\ud83c[\\udffb-\\udfff]",Tm="[^"+Yt+"]",lh="(?:\\ud83c[\\udde6-\\uddff]){2}",uh="[\\ud800-\\udbff][\\udc00-\\udfff]",Ol="["+dt+"]",$y="\\u200d",Pl="(?:"+yd+"|"+Cm+")",bd="(?:"+Ol+"|"+Cm+")",Nl="(?:['’](?:d|ll|m|re|s|t|ve))?",Al="(?:['’](?:D|LL|M|RE|S|T|VE))?",Il="(?:"+Lr+"|"+ch+")?",xd="["+et+"]?",_d=xd+Il+("(?:"+$y+"(?:"+[Tm,lh,uh].join("|")+")"+xd+Il+")*"),dh="(?:"+[vd,lh,uh].join("|")+")"+_d,Rm="(?:"+[Tm+Lr+"?",Lr,lh,uh,xr].join("|")+")",Ms=RegExp(Ct,"g"),Lo=RegExp(Lr,"g"),jl=RegExp(ch+"(?="+ch+")|"+Rm+_d,"g"),Vy=RegExp([Ol+"?"+yd+"+"+Nl+"(?="+[Kr,Ol,"$"].join("|")+")",bd+"+"+Al+"(?="+[Kr,Ol+Pl,"$"].join("|")+")",Ol+"?"+Pl+"+"+Nl,Ol+"+"+Al,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Li,dh].join("|"),"g"),mw=RegExp("["+$y+Yt+on+et+"]"),Sd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,km=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Om=-1,Yr={};Yr[zt]=Yr[Ke]=Yr[lt]=Yr[Mt]=Yr[Kt]=Yr[Lt]=Yr[Wt]=Yr[Mr]=Yr[qr]=!0,Yr[z]=Yr[G]=Yr[Le]=Yr[J]=Yr[xt]=Yr[X]=Yr[q]=Yr[ee]=Yr[xe]=Yr[_e]=Yr[ve]=Yr[Q]=Yr[re]=Yr[fe]=Yr[He]=!1;var Hr={};Hr[z]=Hr[G]=Hr[Le]=Hr[xt]=Hr[J]=Hr[X]=Hr[zt]=Hr[Ke]=Hr[lt]=Hr[Mt]=Hr[Kt]=Hr[xe]=Hr[_e]=Hr[ve]=Hr[Q]=Hr[re]=Hr[fe]=Hr[Te]=Hr[Lt]=Hr[Wt]=Hr[Mr]=Hr[qr]=!0,Hr[q]=Hr[ee]=Hr[He]=!1;var Pm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nm=parseFloat,zy=parseInt,Wy=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,or=typeof self=="object"&&self&&self.Object===Object&&self,Jn=Wy||or||Function("return this")(),fh=c&&!c.nodeType&&c,er=fh&&o&&!o.nodeType&&o,hh=er&&er.exports===fh,wd=hh&&Wy.process,bi=function(){try{var ye=er&&er.require&&er.require("util").types;return ye||wd&&wd.binding&&wd.binding("util")}catch{}}(),$a=bi&&bi.isArrayBuffer,Am=bi&&bi.isDate,Im=bi&&bi.isMap,ph=bi&&bi.isRegExp,mh=bi&&bi.isSet,Ed=bi&&bi.isTypedArray;function Fi(ye,me,Ie){switch(Ie.length){case 0:return ye.call(me);case 1:return ye.call(me,Ie[0]);case 2:return ye.call(me,Ie[0],Ie[1]);case 3:return ye.call(me,Ie[0],Ie[1],Ie[2])}return ye.apply(me,Ie)}function gw(ye,me,Ie,Xe){for(var Ht=-1,Ut=ye==null?0:ye.length;++Ht<Ut;){var Dn=ye[Ht];me(Xe,Dn,Ie(Dn),ye)}return Xe}function fs(ye,me){for(var Ie=-1,Xe=ye==null?0:ye.length;++Ie<Xe&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Hy(ye,me){for(var Ie=ye==null?0:ye.length;Ie--&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Ic(ye,me){for(var Ie=-1,Xe=ye==null?0:ye.length;++Ie<Xe;)if(!me(ye[Ie],Ie,ye))return!1;return!0}function Va(ye,me){for(var Ie=-1,Xe=ye==null?0:ye.length,Ht=0,Ut=[];++Ie<Xe;){var Dn=ye[Ie];me(Dn,Ie,ye)&&(Ut[Ht++]=Dn)}return Ut}function gh(ye,me){return!!(ye!=null&&ye.length)&&Dl(ye,me,0)>-1}function jm(ye,me,Ie){for(var Xe=-1,Ht=ye==null?0:ye.length;++Xe<Ht;)if(Ie(me,ye[Xe]))return!0;return!1}function an(ye,me){for(var Ie=-1,Xe=ye==null?0:ye.length,Ht=Array(Xe);++Ie<Xe;)Ht[Ie]=me(ye[Ie],Ie,ye);return Ht}function la(ye,me){for(var Ie=-1,Xe=me.length,Ht=ye.length;++Ie<Xe;)ye[Ht+Ie]=me[Ie];return ye}function vh(ye,me,Ie,Xe){var Ht=-1,Ut=ye==null?0:ye.length;for(Xe&&Ut&&(Ie=ye[++Ht]);++Ht<Ut;)Ie=me(Ie,ye[Ht],Ht,ye);return Ie}function vw(ye,me,Ie,Xe){var Ht=ye==null?0:ye.length;for(Xe&&Ht&&(Ie=ye[--Ht]);Ht--;)Ie=me(Ie,ye[Ht],Ht,ye);return Ie}function Dm(ye,me){for(var Ie=-1,Xe=ye==null?0:ye.length;++Ie<Xe;)if(me(ye[Ie],Ie,ye))return!0;return!1}var yw=bh("length");function Gy(ye,me,Ie){var Xe;return Ie(ye,function(Ht,Ut,Dn){if(me(Ht,Ut,Dn))return Xe=Ut,!1}),Xe}function yh(ye,me,Ie,Xe){for(var Ht=ye.length,Ut=Ie+(Xe?1:-1);Xe?Ut--:++Ut<Ht;)if(me(ye[Ut],Ut,ye))return Ut;return-1}function Dl(ye,me,Ie){return me==me?function(Xe,Ht,Ut){for(var Dn=Ut-1,oo=Xe.length;++Dn<oo;)if(Xe[Dn]===Ht)return Dn;return-1}(ye,me,Ie):yh(ye,qy,Ie)}function bw(ye,me,Ie,Xe){for(var Ht=Ie-1,Ut=ye.length;++Ht<Ut;)if(Xe(ye[Ht],me))return Ht;return-1}function qy(ye){return ye!=ye}function Ky(ye,me){var Ie=ye==null?0:ye.length;return Ie?Lm(ye,me)/Ie:L}function bh(ye){return function(me){return me==null?h:me[ye]}}function Mm(ye){return function(me){return ye==null?h:ye[me]}}function Yy(ye,me,Ie,Xe,Ht){return Ht(ye,function(Ut,Dn,oo){Ie=Xe?(Xe=!1,Ut):me(Ie,Ut,Dn,oo)}),Ie}function Lm(ye,me){for(var Ie,Xe=-1,Ht=ye.length;++Xe<Ht;){var Ut=me(ye[Xe]);Ut!==h&&(Ie=Ie===h?Ut:Ie+Ut)}return Ie}function _n(ye,me){for(var Ie=-1,Xe=Array(ye);++Ie<ye;)Xe[Ie]=me(Ie);return Xe}function Cd(ye){return ye&&ye.slice(0,jc(ye)+1).replace(fi,"")}function hs(ye){return function(me){return ye(me)}}function Ml(ye,me){return an(me,function(Ie){return ye[Ie]})}function Td(ye,me){return ye.has(me)}function Rd(ye,me){for(var Ie=-1,Xe=ye.length;++Ie<Xe&&Dl(me,ye[Ie],0)>-1;);return Ie}function Qy(ye,me){for(var Ie=ye.length;Ie--&&Dl(me,ye[Ie],0)>-1;);return Ie}var Jy=Mm({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Fm=Mm({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ps(ye){return"\\"+Pm[ye]}function so(ye){return mw.test(ye)}function xh(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Xe,Ht){Ie[++me]=[Ht,Xe]}),Ie}function Xy(ye,me){return function(Ie){return ye(me(Ie))}}function jn(ye,me){for(var Ie=-1,Xe=ye.length,Ht=0,Ut=[];++Ie<Xe;){var Dn=ye[Ie];Dn!==me&&Dn!==E||(ye[Ie]=E,Ut[Ht++]=Ie)}return Ut}function ms(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Xe){Ie[++me]=Xe}),Ie}function Zy(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Xe){Ie[++me]=[Xe,Xe]}),Ie}function gs(ye){return so(ye)?function(me){for(var Ie=jl.lastIndex=0;jl.test(me);)++Ie;return Ie}(ye):yw(ye)}function Ls(ye){return so(ye)?function(me){return me.match(jl)||[]}(ye):function(me){return me.split("")}(ye)}function jc(ye){for(var me=ye.length;me--&&ds.test(ye.charAt(me)););return me}var vt=Mm({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),kd=function ye(me){var Ie,Xe=(me=me==null?Jn:kd.defaults(Jn.Object(),me,kd.pick(Jn,km))).Array,Ht=me.Date,Ut=me.Error,Dn=me.Function,oo=me.Math,cn=me.Object,Um=me.RegExp,xw=me.String,Qi=me.TypeError,za=Xe.prototype,_w=Dn.prototype,Ll=cn.prototype,Dc=me["__core-js_shared__"],_h=_w.toString,Vr=Ll.hasOwnProperty,Fl=0,Bm=(Ie=/[^.]+$/.exec(Dc&&Dc.keys&&Dc.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",Sh=Ll.toString,Sw=_h.call(cn),e0=Jn._,ww=Um("^"+_h.call(Vr).replace(wr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wa=hh?me.Buffer:h,Ha=me.Symbol,Od=me.Uint8Array,wh=Wa?Wa.allocUnsafe:h,Pd=Xy(cn.getPrototypeOf,cn),Nd=cn.create,t0=Ll.propertyIsEnumerable,Ul=za.splice,$m=Ha?Ha.isConcatSpreadable:h,Bl=Ha?Ha.iterator:h,Ge=Ha?Ha.toStringTag:h,Sn=function(){try{var u=Vc(cn,"defineProperty");return u({},"",{}),u}catch{}}(),Ew=me.clearTimeout!==Jn.clearTimeout&&me.clearTimeout,Cw=Ht&&Ht.now!==Jn.Date.now&&Ht.now,Tw=me.setTimeout!==Jn.setTimeout&&me.setTimeout,Eh=oo.ceil,vs=oo.floor,Ch=cn.getOwnPropertySymbols,Rw=Wa?Wa.isBuffer:h,Ga=me.isFinite,r0=za.join,Ji=Xy(cn.keys,cn),gn=oo.max,Wn=oo.min,Qt=Ht.now,Ad=me.parseInt,Id=oo.random,kw=za.reverse,jd=Vc(me,"DataView"),Xn=Vc(me,"Map"),ua=Vc(me,"Promise"),Mc=Vc(me,"Set"),xi=Vc(me,"WeakMap"),je=Vc(cn,"create"),_i=xi&&new xi,$l={},Th=tc(jd),Rh=tc(Xn),Vm=tc(ua),kh=tc(Mc),zm=tc(xi),Oh=Ha?Ha.prototype:h,da=Oh?Oh.valueOf:h,Wm=Oh?Oh.toString:h;function H(u){if(Pn(u)&&!ft(u)&&!(u instanceof vr)){if(u instanceof Xi)return u;if(Vr.call(u,"__wrapped__"))return k0(u)}return new Xi(u)}var Lc=function(){function u(){}return function(v){if(!Gr(v))return{};if(Nd)return Nd(v);u.prototype=v;var k=new u;return u.prototype=h,k}}();function Vl(){}function Xi(u,v){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=h}function vr(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function qa(u){var v=-1,k=u==null?0:u.length;for(this.clear();++v<k;){var j=u[v];this.set(j[0],j[1])}}function ao(u){var v=-1,k=u==null?0:u.length;for(this.clear();++v<k;){var j=u[v];this.set(j[0],j[1])}}function Fo(u){var v=-1,k=u==null?0:u.length;for(this.clear();++v<k;){var j=u[v];this.set(j[0],j[1])}}function Ka(u){var v=-1,k=u==null?0:u.length;for(this.__data__=new Fo;++v<k;)this.add(u[v])}function Fs(u){var v=this.__data__=new ao(u);this.size=v.size}function Hm(u,v){var k=ft(u),j=!k&&Wc(u),V=!k&&!j&&Nr(u),K=!k&&!j&&!V&&D(u),te=k||j||V||K,oe=te?_n(u.length,xw):[],pe=oe.length;for(var Ne in u)!v&&!Vr.call(u,Ne)||te&&(Ne=="length"||V&&(Ne=="offset"||Ne=="parent")||K&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||Bs(Ne,pe))||oe.push(Ne);return oe}function Dd(u){var v=u.length;return v?u[rg(0,v-1)]:h}function n0(u,v){return Mn(Bi(u),Fc(v,0,u.length))}function i0(u){return Mn(Bi(u))}function co(u,v,k){(k!==h&&!yo(u[v],k)||k===h&&!(v in u))&&Uo(u,v,k)}function zl(u,v,k){var j=u[v];Vr.call(u,v)&&yo(j,k)&&(k!==h||v in u)||Uo(u,v,k)}function Wl(u,v){for(var k=u.length;k--;)if(yo(u[k][0],v))return k;return-1}function s0(u,v,k,j){return lo(u,function(V,K,te){v(j,V,k(V),te)}),j}function Gm(u,v){return u&&xs(v,yt(v),u)}function Uo(u,v,k){v=="__proto__"&&Sn?Sn(u,v,{configurable:!0,enumerable:!0,value:k,writable:!0}):u[v]=k}function Ph(u,v){for(var k=-1,j=v.length,V=Xe(j),K=u==null;++k<j;)V[k]=K?h:qt(u,v[k]);return V}function Fc(u,v,k){return u==u&&(k!==h&&(u=u<=k?u:k),v!==h&&(u=u>=v?u:v)),u}function ys(u,v,k,j,V,K){var te,oe=1&v,pe=2&v,Ne=4&v;if(k&&(te=V?k(u,j,V,K):k(u)),te!==h)return te;if(!Gr(u))return u;var ke=ft(u);if(ke){if(te=function(Ae){var ze=Ae.length,jt=new Ae.constructor(ze);return ze&&typeof Ae[0]=="string"&&Vr.call(Ae,"index")&&(jt.index=Ae.index,jt.input=Ae.input),jt}(u),!oe)return Bi(u,te)}else{var Me=Ei(u),at=Me==ee||Me==ce;if(Nr(u))return ag(u,oe);if(Me==ve||Me==z||at&&!V){if(te=pe||at?{}:zh(u),!oe)return pe?function(Ae,ze){return xs(Ae,C0(Ae),ze)}(u,function(Ae,ze){return Ae&&xs(ze,bt(ze),Ae)}(te,u)):function(Ae,ze){return xs(Ae,gg(Ae),ze)}(u,Gm(te,u))}else{if(!Hr[Me])return V?u:{};te=function(Ae,ze,jt){var Je=Ae.constructor;switch(ze){case Le:return cg(Ae);case J:case X:return new Je(+Ae);case xt:return function(Xt,Ur){var St=Ur?cg(Xt.buffer):Xt.buffer;return new Xt.constructor(St,Xt.byteOffset,Xt.byteLength)}(Ae,jt);case zt:case Ke:case lt:case Mt:case Kt:case Lt:case Wt:case Mr:case qr:return ho(Ae,jt);case xe:return new Je;case _e:case fe:return new Je(Ae);case Q:return function(Xt){var Ur=new Xt.constructor(Xt.source,ca.exec(Xt));return Ur.lastIndex=Xt.lastIndex,Ur}(Ae);case re:return new Je;case Te:return ur=Ae,da?cn(da.call(ur)):{}}var ur}(u,Me,oe)}}K||(K=new Fs);var nt=K.get(u);if(nt)return nt;K.set(u,te),T(u)?u.forEach(function(Ae){te.add(ys(Ae,v,k,Ae,u,K))}):x(u)&&u.forEach(function(Ae,ze){te.set(ze,ys(Ae,v,k,ze,u,K))});var kt=ke?h:(Ne?pe?zr:Zi:pe?bt:yt)(u);return fs(kt||u,function(Ae,ze){kt&&(Ae=u[ze=Ae]),zl(te,ze,ys(Ae,v,k,ze,u,K))}),te}function o0(u,v,k){var j=k.length;if(u==null)return!j;for(u=cn(u);j--;){var V=k[j],K=v[V],te=u[V];if(te===h&&!(V in u)||!K(te))return!1}return!0}function st(u,v,k){if(typeof u!="function")throw new Qi(p);return Zl(function(){u.apply(h,k)},v)}function Hl(u,v,k,j){var V=-1,K=gh,te=!0,oe=u.length,pe=[],Ne=v.length;if(!oe)return pe;k&&(v=an(v,hs(k))),j?(K=jm,te=!1):v.length>=200&&(K=Td,te=!1,v=new Ka(v));e:for(;++V<oe;){var ke=u[V],Me=k==null?ke:k(ke);if(ke=j||ke!==0?ke:0,te&&Me==Me){for(var at=Ne;at--;)if(v[at]===Me)continue e;pe.push(ke)}else K(v,Me,j)||pe.push(ke)}return pe}H.templateSettings={escape:ne,evaluate:de,interpolate:Re,variable:"",imports:{_:H}},H.prototype=Vl.prototype,H.prototype.constructor=H,Xi.prototype=Lc(Vl.prototype),Xi.prototype.constructor=Xi,vr.prototype=Lc(Vl.prototype),vr.prototype.constructor=vr,qa.prototype.clear=function(){this.__data__=je?je(null):{},this.size=0},qa.prototype.delete=function(u){var v=this.has(u)&&delete this.__data__[u];return this.size-=v?1:0,v},qa.prototype.get=function(u){var v=this.__data__;if(je){var k=v[u];return k===g?h:k}return Vr.call(v,u)?v[u]:h},qa.prototype.has=function(u){var v=this.__data__;return je?v[u]!==h:Vr.call(v,u)},qa.prototype.set=function(u,v){var k=this.__data__;return this.size+=this.has(u)?0:1,k[u]=je&&v===h?g:v,this},ao.prototype.clear=function(){this.__data__=[],this.size=0},ao.prototype.delete=function(u){var v=this.__data__,k=Wl(v,u);return!(k<0)&&(k==v.length-1?v.pop():Ul.call(v,k,1),--this.size,!0)},ao.prototype.get=function(u){var v=this.__data__,k=Wl(v,u);return k<0?h:v[k][1]},ao.prototype.has=function(u){return Wl(this.__data__,u)>-1},ao.prototype.set=function(u,v){var k=this.__data__,j=Wl(k,u);return j<0?(++this.size,k.push([u,v])):k[j][1]=v,this},Fo.prototype.clear=function(){this.size=0,this.__data__={hash:new qa,map:new(Xn||ao),string:new qa}},Fo.prototype.delete=function(u){var v=qd(this,u).delete(u);return this.size-=v?1:0,v},Fo.prototype.get=function(u){return qd(this,u).get(u)},Fo.prototype.has=function(u){return qd(this,u).has(u)},Fo.prototype.set=function(u,v){var k=qd(this,u),j=k.size;return k.set(u,v),this.size+=k.size==j?0:1,this},Ka.prototype.add=Ka.prototype.push=function(u){return this.__data__.set(u,g),this},Ka.prototype.has=function(u){return this.__data__.has(u)},Fs.prototype.clear=function(){this.__data__=new ao,this.size=0},Fs.prototype.delete=function(u){var v=this.__data__,k=v.delete(u);return this.size=v.size,k},Fs.prototype.get=function(u){return this.__data__.get(u)},Fs.prototype.has=function(u){return this.__data__.has(u)},Fs.prototype.set=function(u,v){var k=this.__data__;if(k instanceof ao){var j=k.__data__;if(!Xn||j.length<199)return j.push([u,v]),this.size=++k.size,this;k=this.__data__=new Fo(j)}return k.set(u,v),this.size=k.size,this};var lo=fg(bs),Zn=fg(Km,!0);function a0(u,v){var k=!0;return lo(u,function(j,V,K){return k=!!v(j,V,K)}),k}function Md(u,v,k){for(var j=-1,V=u.length;++j<V;){var K=u[j],te=v(K);if(te!=null&&(oe===h?te==te&&!N(te):k(te,oe)))var oe=te,pe=K}return pe}function c0(u,v){var k=[];return lo(u,function(j,V,K){v(j,V,K)&&k.push(j)}),k}function ei(u,v,k,j,V){var K=-1,te=u.length;for(k||(k=T0),V||(V=[]);++K<te;){var oe=u[K];v>0&&k(oe)?v>1?ei(oe,v-1,k,j,V):la(V,oe):j||(V[V.length]=oe)}return V}var Nh=m0(),qm=m0(!0);function bs(u,v){return u&&Nh(u,v,yt)}function Km(u,v){return u&&qm(u,v,yt)}function Ah(u,v){return Va(v,function(k){return _s(u[k])})}function Ya(u,v){for(var k=0,j=(v=Xa(v,u)).length;u!=null&&k<j;)u=u[po(v[k++])];return k&&k==j?u:h}function Ym(u,v,k){var j=v(u);return ft(u)?j:la(j,k(u))}function Ui(u){return u==null?u===h?"[object Undefined]":"[object Null]":Ge&&Ge in cn(u)?function(v){var k=Vr.call(v,Ge),j=v[Ge];try{v[Ge]=h;var V=!0}catch{}var K=Sh.call(v);return V&&(k?v[Ge]=j:delete v[Ge]),K}(u):function(v){return Sh.call(v)}(u)}function fa(u,v){return u>v}function Si(u,v){return u!=null&&Vr.call(u,v)}function Gl(u,v){return u!=null&&v in cn(u)}function ql(u,v,k){for(var j=k?jm:gh,V=u[0].length,K=u.length,te=K,oe=Xe(K),pe=1/0,Ne=[];te--;){var ke=u[te];te&&v&&(ke=an(ke,hs(v))),pe=Wn(ke.length,pe),oe[te]=!k&&(v||V>=120&&ke.length>=120)?new Ka(te&&ke):h}ke=u[0];var Me=-1,at=oe[0];e:for(;++Me<V&&Ne.length<pe;){var nt=ke[Me],kt=v?v(nt):nt;if(nt=k||nt!==0?nt:0,!(at?Td(at,kt):j(Ne,kt,k))){for(te=K;--te;){var Ae=oe[te];if(!(Ae?Td(Ae,kt):j(u[te],kt,k)))continue e}at&&at.push(kt),Ne.push(nt)}}return Ne}function Pr(u,v,k){var j=(u=Ri(u,v=Xa(v,u)))==null?u:u[po(Qr(v))];return j==null?h:Fi(j,u,k)}function Uc(u){return Pn(u)&&Ui(u)==z}function uo(u,v,k,j,V){return u===v||(u==null||v==null||!Pn(u)&&!Pn(v)?u!=u&&v!=v:function(K,te,oe,pe,Ne,ke){var Me=ft(K),at=ft(te),nt=Me?G:Ei(K),kt=at?G:Ei(te),Ae=(nt=nt==z?ve:nt)==ve,ze=(kt=kt==z?ve:kt)==ve,jt=nt==kt;if(jt&&Nr(K)){if(!Nr(te))return!1;Me=!0,Ae=!1}if(jt&&!Ae)return ke||(ke=new Fs),Me||D(K)?Hd(K,te,oe,pe,Ne,ke):function(St,Dt,mi,ni,Es,wn,rs){switch(mi){case xt:if(St.byteLength!=Dt.byteLength||St.byteOffset!=Dt.byteOffset)return!1;St=St.buffer,Dt=Dt.buffer;case Le:return!(St.byteLength!=Dt.byteLength||!wn(new Od(St),new Od(Dt)));case J:case X:case _e:return yo(+St,+Dt);case q:return St.name==Dt.name&&St.message==Dt.message;case Q:case fe:return St==Dt+"";case xe:var nc=xh;case re:var ou=1&ni;if(nc||(nc=ms),St.size!=Dt.size&&!ou)return!1;var D0=rs.get(St);if(D0)return D0==Dt;ni|=2,rs.set(St,Dt);var zw=Hd(nc(St),nc(Dt),ni,Es,wn,rs);return rs.delete(St),zw;case Te:if(da)return da.call(St)==da.call(Dt)}return!1}(K,te,nt,oe,pe,Ne,ke);if(!(1&oe)){var Je=Ae&&Vr.call(K,"__wrapped__"),ur=ze&&Vr.call(te,"__wrapped__");if(Je||ur){var Xt=Je?K.value():K,Ur=ur?te.value():te;return ke||(ke=new Fs),Ne(Xt,Ur,oe,pe,ke)}}return jt?(ke||(ke=new Fs),function(St,Dt,mi,ni,Es,wn){var rs=1&mi,nc=Zi(St),ou=nc.length,D0=Zi(Dt),zw=D0.length;if(ou!=zw&&!rs)return!1;for(var M0=ou;M0--;){var af=nc[M0];if(!(rs?af in Dt:Vr.call(Dt,af)))return!1}var pO=wn.get(St),mO=wn.get(Dt);if(pO&&mO)return pO==Dt&&mO==St;var L0=!0;wn.set(St,Dt),wn.set(Dt,St);for(var Ww=rs;++M0<ou;){var F0=St[af=nc[M0]],U0=Dt[af];if(ni)var gO=rs?ni(U0,F0,af,Dt,St,wn):ni(F0,U0,af,St,Dt,wn);if(!(gO===h?F0===U0||Es(F0,U0,mi,ni,wn):gO)){L0=!1;break}Ww||(Ww=af=="constructor")}if(L0&&!Ww){var B0=St.constructor,$0=Dt.constructor;B0==$0||!("constructor"in St)||!("constructor"in Dt)||typeof B0=="function"&&B0 instanceof B0&&typeof $0=="function"&&$0 instanceof $0||(L0=!1)}return wn.delete(St),wn.delete(Dt),L0}(K,te,oe,pe,Ne,ke)):!1}(u,v,k,j,uo,V))}function Ih(u,v,k,j){var V=k.length,K=V,te=!j;if(u==null)return!K;for(u=cn(u);V--;){var oe=k[V];if(te&&oe[2]?oe[1]!==u[oe[0]]:!(oe[0]in u))return!1}for(;++V<K;){var pe=(oe=k[V])[0],Ne=u[pe],ke=oe[1];if(te&&oe[2]){if(Ne===h&&!(pe in u))return!1}else{var Me=new Fs;if(j)var at=j(Ne,ke,pe,u,v,Me);if(!(at===h?uo(ke,Ne,3,j,Me):at))return!1}}return!0}function Qa(u){return!(!Gr(u)||(v=u,Bm&&Bm in v))&&(_s(u)?ww:gd).test(tc(u));var v}function Ld(u){return typeof u=="function"?u:u==null?mn:typeof u=="object"?ft(u)?Xm(u[0],u[1]):u0(u):Wo(u)}function Bc(u){if(!Jl(u))return Ji(u);var v=[];for(var k in cn(u))Vr.call(u,k)&&k!="constructor"&&v.push(k);return v}function Qm(u){if(!Gr(u))return function(V){var K=[];if(V!=null)for(var te in cn(V))K.push(te);return K}(u);var v=Jl(u),k=[];for(var j in u)(j!="constructor"||!v&&Vr.call(u,j))&&k.push(j);return k}function Jm(u,v){return u<v}function l0(u,v){var k=-1,j=Ln(u)?Xe(u.length):[];return lo(u,function(V,K,te){j[++k]=v(V,K,te)}),j}function u0(u){var v=mg(u);return v.length==1&&v[0][2]?R0(v[0][0],v[0][1]):function(k){return k===u||Ih(k,u,v)}}function Xm(u,v){return vg(u)&&yg(v)?R0(po(u),v):function(k){var j=qt(k,u);return j===h&&j===v?Bt(k,u):uo(v,j,3)}}function Fd(u,v,k,j,V){u!==v&&Nh(v,function(K,te){if(V||(V=new Fs),Gr(K))(function(pe,Ne,ke,Me,at,nt,kt){var Ae=bg(pe,ke),ze=bg(Ne,ke),jt=kt.get(ze);if(jt)return void co(pe,ke,jt);var Je=nt?nt(Ae,ze,ke+"",pe,Ne,kt):h,ur=Je===h;if(ur){var Xt=ft(ze),Ur=!Xt&&Nr(ze),St=!Xt&&!Ur&&D(ze);Je=ze,Xt||Ur||St?ft(Ae)?Je=Ae:Fn(Ae)?Je=Bi(Ae):Ur?(ur=!1,Je=ag(ze,!0)):St?(ur=!1,Je=ho(ze,!0)):Je=[]:m(ze)||Wc(ze)?(Je=Ae,Wc(Ae)?Je=ge(Ae):Gr(Ae)&&!_s(Ae)||(Je=zh(ze))):ur=!1}ur&&(kt.set(ze,Je),at(Je,ze,Me,nt,kt),kt.delete(ze)),co(pe,ke,Je)})(u,v,te,k,Fd,j,V);else{var oe=j?j(bg(u,te),K,te+"",u,v,V):h;oe===h&&(oe=K),co(u,te,oe)}},bt)}function fo(u,v){var k=u.length;if(k)return Bs(v+=v<0?k:0,k)?u[v]:h}function Zm(u,v,k){v=v.length?an(v,function(K){return ft(K)?function(te){return Ya(te,K.length===1?K[0]:K)}:K}):[mn];var j=-1;v=an(v,hs(Rt()));var V=l0(u,function(K,te,oe){var pe=an(v,function(Ne){return Ne(K)});return{criteria:pe,index:++j,value:K}});return function(K,te){var oe=K.length;for(K.sort(te);oe--;)K[oe]=K[oe].value;return K}(V,function(K,te){return function(oe,pe,Ne){for(var ke=-1,Me=oe.criteria,at=pe.criteria,nt=Me.length,kt=Ne.length;++ke<nt;){var Ae=lg(Me[ke],at[ke]);if(Ae)return ke>=kt?Ae:Ae*(Ne[ke]=="desc"?-1:1)}return oe.index-pe.index}(K,te,k)})}function eg(u,v,k){for(var j=-1,V=v.length,K={};++j<V;){var te=v[j],oe=Ya(u,te);k(oe,te)&&Ud(K,Xa(te,u),oe)}return K}function tg(u,v,k,j){var V=j?bw:Dl,K=-1,te=v.length,oe=u;for(u===v&&(v=Bi(v)),k&&(oe=an(u,hs(k)));++K<te;)for(var pe=0,Ne=v[K],ke=k?k(Ne):Ne;(pe=V(oe,ke,pe,j))>-1;)oe!==u&&Ul.call(oe,pe,1),Ul.call(u,pe,1);return u}function d0(u,v){for(var k=u?v.length:0,j=k-1;k--;){var V=v[k];if(k==j||V!==K){var K=V;Bs(V)?Ul.call(u,V,1):ig(u,V)}}return u}function rg(u,v){return u+vs(Id()*(v-u+1))}function ng(u,v){var k="";if(!u||v<1||v>A)return k;do v%2&&(k+=u),(v=vs(v/2))&&(u+=u);while(v);return k}function mr(u,v){return $i(Xl(u,v,mn),u+"")}function Ow(u){return Dd(Ar(u))}function Pw(u,v){var k=Ar(u);return Mn(k,Fc(v,0,k.length))}function Ud(u,v,k,j){if(!Gr(u))return u;for(var V=-1,K=(v=Xa(v,u)).length,te=K-1,oe=u;oe!=null&&++V<K;){var pe=po(v[V]),Ne=k;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return u;if(V!=te){var ke=oe[pe];(Ne=j?j(ke,pe,oe):h)===h&&(Ne=Gr(ke)?ke:Bs(v[V+1])?[]:{})}zl(oe,pe,Ne),oe=oe[pe]}return u}var f0=_i?function(u,v){return _i.set(u,v),u}:mn,jh=Sn?function(u,v){return Sn(u,"toString",{configurable:!0,enumerable:!1,value:Vi(v),writable:!0})}:mn;function Nw(u){return Mn(Ar(u))}function Us(u,v,k){var j=-1,V=u.length;v<0&&(v=-v>V?0:V+v),(k=k>V?V:k)<0&&(k+=V),V=v>k?0:k-v>>>0,v>>>=0;for(var K=Xe(V);++j<V;)K[j]=u[j+v];return K}function Kl(u,v){var k;return lo(u,function(j,V,K){return!(k=v(j,V,K))}),!!k}function ha(u,v,k){var j=0,V=u==null?j:u.length;if(typeof v=="number"&&v==v&&V<=2147483647){for(;j<V;){var K=j+V>>>1,te=u[K];te!==null&&!N(te)&&(k?te<=v:te<v)?j=K+1:V=K}return V}return pa(u,v,mn,k)}function pa(u,v,k,j){var V=0,K=u==null?0:u.length;if(K===0)return 0;for(var te=(v=k(v))!=v,oe=v===null,pe=N(v),Ne=v===h;V<K;){var ke=vs((V+K)/2),Me=k(u[ke]),at=Me!==h,nt=Me===null,kt=Me==Me,Ae=N(Me);if(te)var ze=j||kt;else ze=Ne?kt&&(j||at):oe?kt&&at&&(j||!nt):pe?kt&&at&&!nt&&(j||!Ae):!nt&&!Ae&&(j?Me<=v:Me<v);ze?V=ke+1:K=ke}return Wn(K,4294967294)}function Bd(u,v){for(var k=-1,j=u.length,V=0,K=[];++k<j;){var te=u[k],oe=v?v(te):te;if(!k||!yo(oe,pe)){var pe=oe;K[V++]=te===0?0:te}}return K}function ma(u){return typeof u=="number"?u:N(u)?L:+u}function wi(u){if(typeof u=="string")return u;if(ft(u))return an(u,wi)+"";if(N(u))return Wm?Wm.call(u):"";var v=u+"";return v=="0"&&1/u==-1/0?"-0":v}function Ja(u,v,k){var j=-1,V=gh,K=u.length,te=!0,oe=[],pe=oe;if(k)te=!1,V=jm;else if(K>=200){var Ne=v?null:Aw(u);if(Ne)return ms(Ne);te=!1,V=Td,pe=new Ka}else pe=v?[]:oe;e:for(;++j<K;){var ke=u[j],Me=v?v(ke):ke;if(ke=k||ke!==0?ke:0,te&&Me==Me){for(var at=pe.length;at--;)if(pe[at]===Me)continue e;v&&pe.push(Me),oe.push(ke)}else V(pe,Me,k)||(pe!==oe&&pe.push(Me),oe.push(ke))}return oe}function ig(u,v){return(u=Ri(u,v=Xa(v,u)))==null||delete u[po(Qr(v))]}function $d(u,v,k,j){return Ud(u,v,k(Ya(u,v)),j)}function Dh(u,v,k,j){for(var V=u.length,K=j?V:-1;(j?K--:++K<V)&&v(u[K],K,u););return k?Us(u,j?0:K,j?K+1:V):Us(u,j?K+1:0,j?V:K)}function h0(u,v){var k=u;return k instanceof vr&&(k=k.value()),vh(v,function(j,V){return V.func.apply(V.thisArg,la([j],V.args))},k)}function $c(u,v,k){var j=u.length;if(j<2)return j?Ja(u[0]):[];for(var V=-1,K=Xe(j);++V<j;)for(var te=u[V],oe=-1;++oe<j;)oe!=V&&(K[V]=Hl(K[V]||te,u[oe],v,k));return Ja(ei(K,1),v,k)}function p0(u,v,k){for(var j=-1,V=u.length,K=v.length,te={};++j<V;){var oe=j<K?v[j]:h;k(te,u[j],oe)}return te}function sg(u){return Fn(u)?u:[]}function Vd(u){return typeof u=="function"?u:mn}function Xa(u,v){return ft(u)?u:vg(u,v)?[u]:eu(le(u))}var Mh=mr;function Za(u,v,k){var j=u.length;return k=k===h?j:k,!v&&k>=j?u:Us(u,v,k)}var og=Ew||function(u){return Jn.clearTimeout(u)};function ag(u,v){if(v)return u.slice();var k=u.length,j=wh?wh(k):new u.constructor(k);return u.copy(j),j}function cg(u){var v=new u.constructor(u.byteLength);return new Od(v).set(new Od(u)),v}function ho(u,v){var k=v?cg(u.buffer):u.buffer;return new u.constructor(k,u.byteOffset,u.length)}function lg(u,v){if(u!==v){var k=u!==h,j=u===null,V=u==u,K=N(u),te=v!==h,oe=v===null,pe=v==v,Ne=N(v);if(!oe&&!Ne&&!K&&u>v||K&&te&&pe&&!oe&&!Ne||j&&te&&pe||!k&&pe||!V)return 1;if(!j&&!K&&!Ne&&u<v||Ne&&k&&V&&!j&&!K||oe&&k&&V||!te&&V||!pe)return-1}return 0}function ug(u,v,k,j){for(var V=-1,K=u.length,te=k.length,oe=-1,pe=v.length,Ne=gn(K-te,0),ke=Xe(pe+Ne),Me=!j;++oe<pe;)ke[oe]=v[oe];for(;++V<te;)(Me||V<K)&&(ke[k[V]]=u[V]);for(;Ne--;)ke[oe++]=u[V++];return ke}function dg(u,v,k,j){for(var V=-1,K=u.length,te=-1,oe=k.length,pe=-1,Ne=v.length,ke=gn(K-oe,0),Me=Xe(ke+Ne),at=!j;++V<ke;)Me[V]=u[V];for(var nt=V;++pe<Ne;)Me[nt+pe]=v[pe];for(;++te<oe;)(at||V<K)&&(Me[nt+k[te]]=u[V++]);return Me}function Bi(u,v){var k=-1,j=u.length;for(v||(v=Xe(j));++k<j;)v[k]=u[k];return v}function xs(u,v,k,j){var V=!k;k||(k={});for(var K=-1,te=v.length;++K<te;){var oe=v[K],pe=j?j(k[oe],u[oe],oe,k,u):h;pe===h&&(pe=u[oe]),V?Uo(k,oe,pe):zl(k,oe,pe)}return k}function ec(u,v){return function(k,j){var V=ft(k)?gw:s0,K=v?v():{};return V(k,u,Rt(j,2),K)}}function ga(u){return mr(function(v,k){var j=-1,V=k.length,K=V>1?k[V-1]:h,te=V>2?k[2]:h;for(K=u.length>3&&typeof K=="function"?(V--,K):h,te&&Ci(k[0],k[1],te)&&(K=V<3?h:K,V=1),v=cn(v);++j<V;){var oe=k[j];oe&&u(v,oe,j,K)}return v})}function fg(u,v){return function(k,j){if(k==null)return k;if(!Ln(k))return u(k,j);for(var V=k.length,K=v?V:-1,te=cn(k);(v?K--:++K<V)&&j(te[K],K,te)!==!1;);return k}}function m0(u){return function(v,k,j){for(var V=-1,K=cn(v),te=j(v),oe=te.length;oe--;){var pe=te[u?oe:++V];if(k(K[pe],pe,K)===!1)break}return v}}function g0(u){return function(v){var k=so(v=le(v))?Ls(v):h,j=k?k[0]:v.charAt(0),V=k?Za(k,1).join(""):v.slice(1);return j[u]()+V}}function Yl(u){return function(v){return vh(Pi(un(v).replace(Ms,"")),u,"")}}function zd(u){return function(){var v=arguments;switch(v.length){case 0:return new u;case 1:return new u(v[0]);case 2:return new u(v[0],v[1]);case 3:return new u(v[0],v[1],v[2]);case 4:return new u(v[0],v[1],v[2],v[3]);case 5:return new u(v[0],v[1],v[2],v[3],v[4]);case 6:return new u(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new u(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var k=Lc(u.prototype),j=u.apply(k,v);return Gr(j)?j:k}}function v0(u){return function(v,k,j){var V=cn(v);if(!Ln(v)){var K=Rt(k,3);v=yt(v),k=function(oe){return K(V[oe],oe,V)}}var te=u(v,k,j);return te>-1?V[K?v[te]:te]:h}}function y0(u){return ai(function(v){var k=v.length,j=k,V=Xi.prototype.thru;for(u&&v.reverse();j--;){var K=v[j];if(typeof K!="function")throw new Qi(p);if(V&&!te&&Gd(K)=="wrapper")var te=new Xi([],!0)}for(j=te?j:k;++j<k;){var oe=Gd(K=v[j]),pe=oe=="wrapper"?$h(K):h;te=pe&&Kd(pe[0])&&pe[1]==424&&!pe[4].length&&pe[9]==1?te[Gd(pe[0])].apply(te,pe[3]):K.length==1&&Kd(K)?te[oe]():te.thru(K)}return function(){var Ne=arguments,ke=Ne[0];if(te&&Ne.length==1&&ft(ke))return te.plant(ke).value();for(var Me=0,at=k?v[Me].apply(this,Ne):ke;++Me<k;)at=v[Me].call(this,at);return at}})}function Wd(u,v,k,j,V,K,te,oe,pe,Ne){var ke=v&R,Me=1&v,at=2&v,nt=24&v,kt=512&v,Ae=at?h:zd(u);return function ze(){for(var jt=arguments.length,Je=Xe(jt),ur=jt;ur--;)Je[ur]=arguments[ur];if(nt)var Xt=Ql(ze),Ur=function(ni,Es){for(var wn=ni.length,rs=0;wn--;)ni[wn]===Es&&++rs;return rs}(Je,Xt);if(j&&(Je=ug(Je,j,V,nt)),K&&(Je=dg(Je,K,te,nt)),jt-=Ur,nt&&jt<Ne){var St=jn(Je,Xt);return _0(u,v,Wd,ze.placeholder,k,Je,St,oe,pe,Ne-jt)}var Dt=Me?k:this,mi=at?Dt[u]:u;return jt=Je.length,oe?Je=function(ni,Es){for(var wn=ni.length,rs=Wn(Es.length,wn),nc=Bi(ni);rs--;){var ou=Es[rs];ni[rs]=Bs(ou,wn)?nc[ou]:h}return ni}(Je,oe):kt&&jt>1&&Je.reverse(),ke&&pe<jt&&(Je.length=pe),this&&this!==Jn&&this instanceof ze&&(mi=Ae||zd(mi)),mi.apply(Dt,Je)}}function b0(u,v){return function(k,j){return function(V,K,te,oe){return bs(V,function(pe,Ne,ke){K(oe,te(pe),Ne,ke)}),oe}(k,u,v(j),{})}}function Lh(u,v){return function(k,j){var V;if(k===h&&j===h)return v;if(k!==h&&(V=k),j!==h){if(V===h)return j;typeof k=="string"||typeof j=="string"?(k=wi(k),j=wi(j)):(k=ma(k),j=ma(j)),V=u(k,j)}return V}}function Fh(u){return ai(function(v){return v=an(v,hs(Rt())),mr(function(k){var j=this;return u(v,function(V){return Fi(V,j,k)})})})}function Uh(u,v){var k=(v=v===h?" ":wi(v)).length;if(k<2)return k?ng(v,u):v;var j=ng(v,Eh(u/gs(v)));return so(v)?Za(Ls(j),0,u).join(""):j.slice(0,u)}function x0(u){return function(v,k,j){return j&&typeof j!="number"&&Ci(v,k,j)&&(k=j=h),v=$(v),k===h?(k=v,v=0):k=$(k),function(V,K,te,oe){for(var pe=-1,Ne=gn(Eh((K-V)/(te||1)),0),ke=Xe(Ne);Ne--;)ke[oe?Ne:++pe]=V,V+=te;return ke}(v,k,j=j===h?v<k?1:-1:$(j),u)}}function Bh(u){return function(v,k){return typeof v=="string"&&typeof k=="string"||(v=be(v),k=be(k)),u(v,k)}}function _0(u,v,k,j,V,K,te,oe,pe,Ne){var ke=8&v;v|=ke?y:w,4&(v&=~(ke?w:y))||(v&=-4);var Me=[u,v,V,ke?K:h,ke?te:h,ke?h:K,ke?h:te,oe,pe,Ne],at=k.apply(h,Me);return Kd(u)&&xg(at,Me),at.placeholder=j,_g(at,u,v)}function hg(u){var v=oo[u];return function(k,j){if(k=be(k),(j=j==null?0:Wn(W(j),292))&&Ga(k)){var V=(le(k)+"e").split("e");return+((V=(le(v(V[0]+"e"+(+V[1]+j)))+"e").split("e"))[0]+"e"+(+V[1]-j))}return v(k)}}var Aw=Mc&&1/ms(new Mc([,-0]))[1]==C?function(u){return new Mc(u)}:$s;function S0(u){return function(v){var k=Ei(v);return k==xe?xh(v):k==re?Zy(v):function(j,V){return an(V,function(K){return[K,j[K]]})}(v,u(v))}}function va(u,v,k,j,V,K,te,oe){var pe=2&v;if(!pe&&typeof u!="function")throw new Qi(p);var Ne=j?j.length:0;if(Ne||(v&=-97,j=V=h),te=te===h?te:gn(W(te),0),oe=oe===h?oe:W(oe),Ne-=V?V.length:0,v&w){var ke=j,Me=V;j=V=h}var at=pe?h:$h(u),nt=[u,v,k,j,V,ke,Me,K,te,oe];if(at&&function(Ae,ze){var jt=Ae[1],Je=ze[1],ur=jt|Je,Xt=ur<131,Ur=Je==R&&jt==8||Je==R&&jt==S&&Ae[7].length<=ze[8]||Je==384&&ze[7].length<=ze[8]&&jt==8;if(!Xt&&!Ur)return Ae;1&Je&&(Ae[2]=ze[2],ur|=1&jt?0:4);var St=ze[3];if(St){var Dt=Ae[3];Ae[3]=Dt?ug(Dt,St,ze[4]):St,Ae[4]=Dt?jn(Ae[3],E):ze[4]}(St=ze[5])&&(Dt=Ae[5],Ae[5]=Dt?dg(Dt,St,ze[6]):St,Ae[6]=Dt?jn(Ae[5],E):ze[6]),(St=ze[7])&&(Ae[7]=St),Je&R&&(Ae[8]=Ae[8]==null?ze[8]:Wn(Ae[8],ze[8])),Ae[9]==null&&(Ae[9]=ze[9]),Ae[0]=ze[0],Ae[1]=ur}(nt,at),u=nt[0],v=nt[1],k=nt[2],j=nt[3],V=nt[4],!(oe=nt[9]=nt[9]===h?pe?0:u.length:gn(nt[9]-Ne,0))&&24&v&&(v&=-25),v&&v!=1)kt=v==8||v==_?function(Ae,ze,jt){var Je=zd(Ae);return function ur(){for(var Xt=arguments.length,Ur=Xe(Xt),St=Xt,Dt=Ql(ur);St--;)Ur[St]=arguments[St];var mi=Xt<3&&Ur[0]!==Dt&&Ur[Xt-1]!==Dt?[]:jn(Ur,Dt);return(Xt-=mi.length)<jt?_0(Ae,ze,Wd,ur.placeholder,h,Ur,mi,h,h,jt-Xt):Fi(this&&this!==Jn&&this instanceof ur?Je:Ae,this,Ur)}}(u,v,oe):v!=y&&v!=33||V.length?Wd.apply(h,nt):function(Ae,ze,jt,Je){var ur=1&ze,Xt=zd(Ae);return function Ur(){for(var St=-1,Dt=arguments.length,mi=-1,ni=Je.length,Es=Xe(ni+Dt),wn=this&&this!==Jn&&this instanceof Ur?Xt:Ae;++mi<ni;)Es[mi]=Je[mi];for(;Dt--;)Es[mi++]=arguments[++St];return Fi(wn,ur?jt:this,Es)}}(u,v,k,j);else var kt=function(Ae,ze,jt){var Je=1&ze,ur=zd(Ae);return function Xt(){return(this&&this!==Jn&&this instanceof Xt?ur:Ae).apply(Je?jt:this,arguments)}}(u,v,k);return _g((at?f0:xg)(kt,nt),u,v)}function pg(u,v,k,j){return u===h||yo(u,Ll[k])&&!Vr.call(j,k)?v:u}function w0(u,v,k,j,V,K){return Gr(u)&&Gr(v)&&(K.set(v,u),Fd(u,v,h,w0,K),K.delete(v)),u}function E0(u){return m(u)?h:u}function Hd(u,v,k,j,V,K){var te=1&k,oe=u.length,pe=v.length;if(oe!=pe&&!(te&&pe>oe))return!1;var Ne=K.get(u),ke=K.get(v);if(Ne&&ke)return Ne==v&&ke==u;var Me=-1,at=!0,nt=2&k?new Ka:h;for(K.set(u,v),K.set(v,u);++Me<oe;){var kt=u[Me],Ae=v[Me];if(j)var ze=te?j(Ae,kt,Me,v,u,K):j(kt,Ae,Me,u,v,K);if(ze!==h){if(ze)continue;at=!1;break}if(nt){if(!Dm(v,function(jt,Je){if(!Td(nt,Je)&&(kt===jt||V(kt,jt,k,j,K)))return nt.push(Je)})){at=!1;break}}else if(kt!==Ae&&!V(kt,Ae,k,j,K)){at=!1;break}}return K.delete(u),K.delete(v),at}function ai(u){return $i(Xl(u,h,ri),u+"")}function Zi(u){return Ym(u,yt,gg)}function zr(u){return Ym(u,bt,C0)}var $h=_i?function(u){return _i.get(u)}:$s;function Gd(u){for(var v=u.name+"",k=$l[v],j=Vr.call($l,v)?k.length:0;j--;){var V=k[j],K=V.func;if(K==null||K==u)return V.name}return v}function Ql(u){return(Vr.call(H,"placeholder")?H:u).placeholder}function Rt(){var u=H.iteratee||li;return u=u===li?Ld:u,arguments.length?u(arguments[0],arguments[1]):u}function qd(u,v){var k,j,V=u.__data__;return((j=typeof(k=v))=="string"||j=="number"||j=="symbol"||j=="boolean"?k!=="__proto__":k===null)?V[typeof v=="string"?"string":"hash"]:V.map}function mg(u){for(var v=yt(u),k=v.length;k--;){var j=v[k],V=u[j];v[k]=[j,V,yg(V)]}return v}function Vc(u,v){var k=function(j,V){return j==null?h:j[V]}(u,v);return Qa(k)?k:h}var gg=Ch?function(u){return u==null?[]:(u=cn(u),Va(Ch(u),function(v){return t0.call(u,v)}))}:Vs,C0=Ch?function(u){for(var v=[];u;)la(v,gg(u)),u=Pd(u);return v}:Vs,Ei=Ui;function Vh(u,v,k){for(var j=-1,V=(v=Xa(v,u)).length,K=!1;++j<V;){var te=po(v[j]);if(!(K=u!=null&&k(u,te)))break;u=u[te]}return K||++j!=V?K:!!(V=u==null?0:u.length)&&Yh(V)&&Bs(te,V)&&(ft(u)||Wc(u))}function zh(u){return typeof u.constructor!="function"||Jl(u)?{}:Lc(Pd(u))}function T0(u){return ft(u)||Wc(u)||!!($m&&u&&u[$m])}function Bs(u,v){var k=typeof u;return!!(v=v??A)&&(k=="number"||k!="symbol"&&ue.test(u))&&u>-1&&u%1==0&&u<v}function Ci(u,v,k){if(!Gr(k))return!1;var j=typeof v;return!!(j=="number"?Ln(k)&&Bs(v,k.length):j=="string"&&v in k)&&yo(k[v],u)}function vg(u,v){if(ft(u))return!1;var k=typeof u;return!(k!="number"&&k!="symbol"&&k!="boolean"&&u!=null&&!N(u))||rt.test(u)||!De.test(u)||v!=null&&u in cn(v)}function Kd(u){var v=Gd(u),k=H[v];if(typeof k!="function"||!(v in vr.prototype))return!1;if(u===k)return!0;var j=$h(k);return!!j&&u===j[0]}(jd&&Ei(new jd(new ArrayBuffer(1)))!=xt||Xn&&Ei(new Xn)!=xe||ua&&Ei(ua.resolve())!=Y||Mc&&Ei(new Mc)!=re||xi&&Ei(new xi)!=He)&&(Ei=function(u){var v=Ui(u),k=v==ve?u.constructor:h,j=k?tc(k):"";if(j)switch(j){case Th:return xt;case Rh:return xe;case Vm:return Y;case kh:return re;case zm:return He}return v});var Ti=Dc?_s:rc;function Jl(u){var v=u&&u.constructor;return u===(typeof v=="function"&&v.prototype||Ll)}function yg(u){return u==u&&!Gr(u)}function R0(u,v){return function(k){return k!=null&&k[u]===v&&(v!==h||u in cn(k))}}function Xl(u,v,k){return v=gn(v===h?u.length-1:v,0),function(){for(var j=arguments,V=-1,K=gn(j.length-v,0),te=Xe(K);++V<K;)te[V]=j[v+V];V=-1;for(var oe=Xe(v+1);++V<v;)oe[V]=j[V];return oe[v]=k(te),Fi(u,this,oe)}}function Ri(u,v){return v.length<2?u:Ya(u,Us(v,0,-1))}function bg(u,v){if((v!=="constructor"||typeof u[v]!="function")&&v!="__proto__")return u[v]}var xg=Sg(f0),Zl=Tw||function(u,v){return Jn.setTimeout(u,v)},$i=Sg(jh);function _g(u,v,k){var j=v+"";return $i(u,function(V,K){var te=K.length;if(!te)return V;var oe=te-1;return K[oe]=(te>1?"& ":"")+K[oe],K=K.join(te>2?", ":" "),V.replace(Er,`{
/* [wrapped with `+K+`] */
`)}(j,function(V,K){return fs(B,function(te){var oe="_."+te[0];K&te[1]&&!gh(V,oe)&&V.push(oe)}),V.sort()}(function(V){var K=V.match(Cr);return K?K[1].split(aa):[]}(j),k)))}function Sg(u){var v=0,k=0;return function(){var j=Qt(),V=16-(j-k);if(k=j,V>0){if(++v>=800)return arguments[0]}else v=0;return u.apply(h,arguments)}}function Mn(u,v){var k=-1,j=u.length,V=j-1;for(v=v===h?j:v;++k<v;){var K=rg(k,V),te=u[K];u[K]=u[k],u[k]=te}return u.length=v,u}var eu=function(u){var v=tf(u,function(j){return k.size===500&&k.clear(),j}),k=v.cache;return v}(function(u){var v=[];return u.charCodeAt(0)===46&&v.push(""),u.replace(_t,function(k,j,V,K){v.push(V?K.replace(ah,"$1"):j||k)}),v});function po(u){if(typeof u=="string"||N(u))return u;var v=u+"";return v=="0"&&1/u==-1/0?"-0":v}function tc(u){if(u!=null){try{return _h.call(u)}catch{}try{return u+""}catch{}}return""}function k0(u){if(u instanceof vr)return u.clone();var v=new Xi(u.__wrapped__,u.__chain__);return v.__actions__=Bi(u.__actions__),v.__index__=u.__index__,v.__values__=u.__values__,v}var Iw=mr(function(u,v){return Fn(u)?Hl(u,ei(v,1,Fn,!0)):[]}),jw=mr(function(u,v){var k=Qr(v);return Fn(k)&&(k=h),Fn(u)?Hl(u,ei(v,1,Fn,!0),Rt(k,2)):[]}),Yd=mr(function(u,v){var k=Qr(v);return Fn(k)&&(k=h),Fn(u)?Hl(u,ei(v,1,Fn,!0),h,k):[]});function ti(u,v,k){var j=u==null?0:u.length;if(!j)return-1;var V=k==null?0:W(k);return V<0&&(V=gn(j+V,0)),yh(u,Rt(v,3),V)}function Qd(u,v,k){var j=u==null?0:u.length;if(!j)return-1;var V=j-1;return k!==h&&(V=W(k),V=k<0?gn(j+V,0):Wn(V,j-1)),yh(u,Rt(v,3),V,!0)}function ri(u){return u!=null&&u.length?ei(u,1):[]}function Bo(u){return u&&u.length?u[0]:h}var Dw=mr(function(u){var v=an(u,sg);return v.length&&v[0]===u[0]?ql(v):[]}),Jd=mr(function(u){var v=Qr(u),k=an(u,sg);return v===Qr(k)?v=h:k.pop(),k.length&&k[0]===u[0]?ql(k,Rt(v,2)):[]}),Wh=mr(function(u){var v=Qr(u),k=an(u,sg);return(v=typeof v=="function"?v:h)&&k.pop(),k.length&&k[0]===u[0]?ql(k,h,v):[]});function Qr(u){var v=u==null?0:u.length;return v?u[v-1]:h}var ki=mr(zc);function zc(u,v){return u&&u.length&&v&&v.length?tg(u,v):u}var wg=ai(function(u,v){var k=u==null?0:u.length,j=Ph(u,v);return d0(u,an(v,function(V){return Bs(V,k)?+V:V}).sort(lg)),j});function Eg(u){return u==null?u:kw.call(u)}var ya=mr(function(u){return Ja(ei(u,1,Fn,!0))}),kr=mr(function(u){var v=Qr(u);return Fn(v)&&(v=h),Ja(ei(u,1,Fn,!0),Rt(v,2))}),Mw=mr(function(u){var v=Qr(u);return v=typeof v=="function"?v:h,Ja(ei(u,1,Fn,!0),h,v)});function Cg(u){if(!u||!u.length)return[];var v=0;return u=Va(u,function(k){if(Fn(k))return v=gn(k.length,v),!0}),_n(v,function(k){return an(u,bh(k))})}function O0(u,v){if(!u||!u.length)return[];var k=Cg(u);return v==null?k:an(k,function(j){return Fi(v,h,j)})}var Lw=mr(function(u,v){return Fn(u)?Hl(u,v):[]}),Hh=mr(function(u){return $c(Va(u,Fn))}),Xd=mr(function(u){var v=Qr(u);return Fn(v)&&(v=h),$c(Va(u,Fn),Rt(v,2))}),Zd=mr(function(u){var v=Qr(u);return v=typeof v=="function"?v:h,$c(Va(u,Fn),h,v)}),Fw=mr(Cg),Uw=mr(function(u){var v=u.length,k=v>1?u[v-1]:h;return k=typeof k=="function"?(u.pop(),k):h,O0(u,k)});function P0(u){var v=H(u);return v.__chain__=!0,v}function Gh(u,v){return v(u)}var mo=ai(function(u){var v=u.length,k=v?u[0]:0,j=this.__wrapped__,V=function(K){return Ph(K,u)};return!(v>1||this.__actions__.length)&&j instanceof vr&&Bs(k)?((j=j.slice(k,+k+(v?1:0))).__actions__.push({func:Gh,args:[V],thisArg:h}),new Xi(j,this.__chain__).thru(function(K){return v&&!K.length&&K.push(h),K})):this.thru(V)}),go=ec(function(u,v,k){Vr.call(u,k)?++u[k]:Uo(u,k,1)}),tu=v0(ti),ru=v0(Qd);function vo(u,v){return(ft(u)?fs:lo)(u,Rt(v,3))}function Tg(u,v){return(ft(u)?Hy:Zn)(u,Rt(v,3))}var Rg=ec(function(u,v,k){Vr.call(u,k)?u[k].push(v):Uo(u,k,[v])}),ba=mr(function(u,v,k){var j=-1,V=typeof v=="function",K=Ln(u)?Xe(u.length):[];return lo(u,function(te){K[++j]=V?Fi(v,te,k):Pr(te,v,k)}),K}),On=ec(function(u,v,k){Uo(u,k,v)});function ci(u,v){return(ft(u)?an:l0)(u,Rt(v,3))}var Bw=ec(function(u,v,k){u[k?0:1].push(v)},function(){return[[],[]]}),N0=mr(function(u,v){if(u==null)return[];var k=v.length;return k>1&&Ci(u,v[0],v[1])?v=[]:k>2&&Ci(v[0],v[1],v[2])&&(v=[v[0]]),Zm(u,ei(v,1),[])}),qh=Cw||function(){return Jn.Date.now()};function kg(u,v,k){return v=k?h:v,v=u&&v==null?u.length:v,va(u,R,h,h,h,h,v)}function Og(u,v){var k;if(typeof v!="function")throw new Qi(p);return u=W(u),function(){return--u>0&&(k=v.apply(this,arguments)),u<=1&&(v=h),k}}var Pg=mr(function(u,v,k){var j=1;if(k.length){var V=jn(k,Ql(Pg));j|=y}return va(u,j,v,k,V)}),Ng=mr(function(u,v,k){var j=3;if(k.length){var V=jn(k,Ql(Ng));j|=y}return va(v,j,u,k,V)});function ef(u,v,k){var j,V,K,te,oe,pe,Ne=0,ke=!1,Me=!1,at=!0;if(typeof u!="function")throw new Qi(p);function nt(Je){var ur=j,Xt=V;return j=V=h,Ne=Je,te=u.apply(Xt,ur)}function kt(Je){var ur=Je-pe;return pe===h||ur>=v||ur<0||Me&&Je-Ne>=K}function Ae(){var Je=qh();if(kt(Je))return ze(Je);oe=Zl(Ae,function(ur){var Xt=v-(ur-pe);return Me?Wn(Xt,K-(ur-Ne)):Xt}(Je))}function ze(Je){return oe=h,at&&j?nt(Je):(j=V=h,te)}function jt(){var Je=qh(),ur=kt(Je);if(j=arguments,V=this,pe=Je,ur){if(oe===h)return function(Xt){return Ne=Xt,oe=Zl(Ae,v),ke?nt(Xt):te}(pe);if(Me)return og(oe),oe=Zl(Ae,v),nt(pe)}return oe===h&&(oe=Zl(Ae,v)),te}return v=be(v)||0,Gr(k)&&(ke=!!k.leading,K=(Me="maxWait"in k)?gn(be(k.maxWait)||0,v):K,at="trailing"in k?!!k.trailing:at),jt.cancel=function(){oe!==h&&og(oe),Ne=0,j=pe=V=oe=h},jt.flush=function(){return oe===h?te:ze(qh())},jt}var Ag=mr(function(u,v){return st(u,1,v)}),$w=mr(function(u,v,k){return st(u,be(v)||0,k)});function tf(u,v){if(typeof u!="function"||v!=null&&typeof v!="function")throw new Qi(p);var k=function(){var j=arguments,V=v?v.apply(this,j):j[0],K=k.cache;if(K.has(V))return K.get(V);var te=u.apply(this,j);return k.cache=K.set(V,te)||K,te};return k.cache=new(tf.Cache||Fo),k}function Kh(u){if(typeof u!="function")throw new Qi(p);return function(){var v=arguments;switch(v.length){case 0:return!u.call(this);case 1:return!u.call(this,v[0]);case 2:return!u.call(this,v[0],v[1]);case 3:return!u.call(this,v[0],v[1],v[2])}return!u.apply(this,v)}}tf.Cache=Fo;var Oi=Mh(function(u,v){var k=(v=v.length==1&&ft(v[0])?an(v[0],hs(Rt())):an(ei(v,1),hs(Rt()))).length;return mr(function(j){for(var V=-1,K=Wn(j.length,k);++V<K;)j[V]=v[V].call(this,j[V]);return Fi(u,this,j)})}),rf=mr(function(u,v){var k=jn(v,Ql(rf));return va(u,y,h,v,k)}),xa=mr(function(u,v){var k=jn(v,Ql(xa));return va(u,w,h,v,k)}),Vw=ai(function(u,v){return va(u,S,h,h,h,v)});function yo(u,v){return u===v||u!=u&&v!=v}var A0=Bh(fa),I0=Bh(function(u,v){return u>=v}),Wc=Uc(function(){return arguments}())?Uc:function(u){return Pn(u)&&Vr.call(u,"callee")&&!t0.call(u,"callee")},ft=Xe.isArray,es=$a?hs($a):function(u){return Pn(u)&&Ui(u)==Le};function Ln(u){return u!=null&&Yh(u.length)&&!_s(u)}function Fn(u){return Pn(u)&&Ln(u)}var Nr=Rw||rc,j0=Am?hs(Am):function(u){return Pn(u)&&Ui(u)==X};function Ig(u){if(!Pn(u))return!1;var v=Ui(u);return v==q||v=="[object DOMException]"||typeof u.message=="string"&&typeof u.name=="string"&&!m(u)}function _s(u){if(!Gr(u))return!1;var v=Ui(u);return v==ee||v==ce||v=="[object AsyncFunction]"||v=="[object Proxy]"}function jg(u){return typeof u=="number"&&u==W(u)}function Yh(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=A}function Gr(u){var v=typeof u;return u!=null&&(v=="object"||v=="function")}function Pn(u){return u!=null&&typeof u=="object"}var x=Im?hs(Im):function(u){return Pn(u)&&Ei(u)==xe};function f(u){return typeof u=="number"||Pn(u)&&Ui(u)==_e}function m(u){if(!Pn(u)||Ui(u)!=ve)return!1;var v=Pd(u);if(v===null)return!0;var k=Vr.call(v,"constructor")&&v.constructor;return typeof k=="function"&&k instanceof k&&_h.call(k)==Sw}var b=ph?hs(ph):function(u){return Pn(u)&&Ui(u)==Q},T=mh?hs(mh):function(u){return Pn(u)&&Ei(u)==re};function O(u){return typeof u=="string"||!ft(u)&&Pn(u)&&Ui(u)==fe}function N(u){return typeof u=="symbol"||Pn(u)&&Ui(u)==Te}var D=Ed?hs(Ed):function(u){return Pn(u)&&Yh(u.length)&&!!Yr[Ui(u)]},M=Bh(Jm),I=Bh(function(u,v){return u<=v});function F(u){if(!u)return[];if(Ln(u))return O(u)?Ls(u):Bi(u);if(Bl&&u[Bl])return function(k){for(var j,V=[];!(j=k.next()).done;)V.push(j.value);return V}(u[Bl]());var v=Ei(u);return(v==xe?xh:v==re?ms:Ar)(u)}function $(u){return u?(u=be(u))===C||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}function W(u){var v=$(u),k=v%1;return v==v?k?v-k:v:0}function ie(u){return u?Fc(W(u),0,U):0}function be(u){if(typeof u=="number")return u;if(N(u))return L;if(Gr(u)){var v=typeof u.valueOf=="function"?u.valueOf():u;u=Gr(v)?v+"":v}if(typeof u!="string")return u===0?u:+u;u=Cd(u);var k=kl.test(u);return k||Ac.test(u)?zy(u.slice(2),k?2:8):Rl.test(u)?L:+u}function ge(u){return xs(u,bt(u))}function le(u){return u==null?"":wi(u)}var ae=ga(function(u,v){if(Jl(v)||Ln(v))xs(v,yt(v),u);else for(var k in v)Vr.call(v,k)&&zl(u,k,v[k])}),se=ga(function(u,v){xs(v,bt(v),u)}),we=ga(function(u,v,k,j){xs(v,bt(v),u,j)}),Ve=ga(function(u,v,k,j){xs(v,yt(v),u,j)}),ot=ai(Ph),Tt=mr(function(u,v){u=cn(u);var k=-1,j=v.length,V=j>2?v[2]:h;for(V&&Ci(v[0],v[1],V)&&(j=1);++k<j;)for(var K=v[k],te=bt(K),oe=-1,pe=te.length;++oe<pe;){var Ne=te[oe],ke=u[Ne];(ke===h||yo(ke,Ll[Ne])&&!Vr.call(u,Ne))&&(u[Ne]=K[Ne])}return u}),Gt=mr(function(u){return u.push(h,w0),Fi(At,h,u)});function qt(u,v,k){var j=u==null?h:Ya(u,v);return j===h?k:j}function Bt(u,v){return u!=null&&Vh(u,v,Gl)}var Nt=b0(function(u,v,k){v!=null&&typeof v.toString!="function"&&(v=Sh.call(v)),u[v]=k},Vi(mn)),Jt=b0(function(u,v,k){v!=null&&typeof v.toString!="function"&&(v=Sh.call(v)),Vr.call(u,v)?u[v].push(k):u[v]=[k]},Rt),cr=mr(Pr);function yt(u){return Ln(u)?Hm(u):Bc(u)}function bt(u){return Ln(u)?Hm(u,!0):Qm(u)}var sr=ga(function(u,v,k){Fd(u,v,k)}),At=ga(function(u,v,k,j){Fd(u,v,k,j)}),It=ai(function(u,v){var k={};if(u==null)return k;var j=!1;v=an(v,function(K){return K=Xa(K,u),j||(j=K.length>1),K}),xs(u,zr(u),k),j&&(k=ys(k,7,E0));for(var V=v.length;V--;)ig(k,v[V]);return k}),lr=ai(function(u,v){return u==null?{}:function(k,j){return eg(k,j,function(V,K){return Bt(k,K)})}(u,v)});function Or(u,v){if(u==null)return{};var k=an(zr(u),function(j){return[j]});return v=Rt(v),eg(u,k,function(j,V){return v(j,V[0])})}var Fr=S0(yt),rn=S0(bt);function Ar(u){return u==null?[]:Ml(u,yt(u))}var vn=Yl(function(u,v,k){return v=v.toLowerCase(),u+(k?ln(v):v)});function ln(u){return Hn(le(u).toLowerCase())}function un(u){return(u=le(u))&&u.replace(Se,Jy).replace(Lo,"")}var dn=Yl(function(u,v,k){return u+(k?"-":"")+v.toLowerCase()}),fn=Yl(function(u,v,k){return u+(k?" ":"")+v.toLowerCase()}),hn=g0("toLowerCase"),Un=Yl(function(u,v,k){return u+(k?"_":"")+v.toLowerCase()}),pn=Yl(function(u,v,k){return u+(k?" ":"")+Hn(v)}),hi=Yl(function(u,v,k){return u+(k?" ":"")+v.toUpperCase()}),Hn=g0("toUpperCase");function Pi(u,v,k){return u=le(u),(v=k?h:v)===h?function(j){return Sd.test(j)}(u)?function(j){return j.match(Vy)||[]}(u):function(j){return j.match(Tl)||[]}(u):u.match(v)||[]}var Ni=mr(function(u,v){try{return Fi(u,h,v)}catch(k){return Ig(k)?k:new Ut(k)}}),pi=ai(function(u,v){return fs(v,function(k){k=po(k),Uo(u,k,Pg(u[k],u))}),u});function Vi(u){return function(){return u}}var ts=y0(),Ss=y0(!0);function mn(u){return u}function li(u){return Ld(typeof u=="function"?u:ys(u,1))}var $o=mr(function(u,v){return function(k){return Pr(k,u,v)}}),_a=mr(function(u,v){return function(k){return Pr(u,k,v)}});function ws(u,v,k){var j=yt(v),V=Ah(v,j);k!=null||Gr(v)&&(V.length||!j.length)||(k=v,v=u,u=this,V=Ah(v,yt(v)));var K=!(Gr(k)&&"chain"in k&&!k.chain),te=_s(u);return fs(V,function(oe){var pe=v[oe];u[oe]=pe,te&&(u.prototype[oe]=function(){var Ne=this.__chain__;if(K||Ne){var ke=u(this.__wrapped__);return(ke.__actions__=Bi(this.__actions__)).push({func:pe,args:arguments,thisArg:u}),ke.__chain__=Ne,ke}return pe.apply(u,la([this.value()],arguments))})}),u}function $s(){}var Sa=Fh(an),Vo=Fh(Ic),zo=Fh(Dm);function Wo(u){return vg(u)?bh(po(u)):function(v){return function(k){return Ya(k,v)}}(u)}var Ho=x0(),Go=x0(!0);function Vs(){return[]}function rc(){return!1}var nu=Lh(function(u,v){return u+v},0),iu=hg("ceil"),su=Lh(function(u,v){return u/v},1),nf=hg("floor"),Hc,sf=Lh(function(u,v){return u*v},1),of=hg("round"),Gc=Lh(function(u,v){return u-v},0);return H.after=function(u,v){if(typeof v!="function")throw new Qi(p);return u=W(u),function(){if(--u<1)return v.apply(this,arguments)}},H.ary=kg,H.assign=ae,H.assignIn=se,H.assignInWith=we,H.assignWith=Ve,H.at=ot,H.before=Og,H.bind=Pg,H.bindAll=pi,H.bindKey=Ng,H.castArray=function(){if(!arguments.length)return[];var u=arguments[0];return ft(u)?u:[u]},H.chain=P0,H.chunk=function(u,v,k){v=(k?Ci(u,v,k):v===h)?1:gn(W(v),0);var j=u==null?0:u.length;if(!j||v<1)return[];for(var V=0,K=0,te=Xe(Eh(j/v));V<j;)te[K++]=Us(u,V,V+=v);return te},H.compact=function(u){for(var v=-1,k=u==null?0:u.length,j=0,V=[];++v<k;){var K=u[v];K&&(V[j++]=K)}return V},H.concat=function(){var u=arguments.length;if(!u)return[];for(var v=Xe(u-1),k=arguments[0],j=u;j--;)v[j-1]=arguments[j];return la(ft(k)?Bi(k):[k],ei(v,1))},H.cond=function(u){var v=u==null?0:u.length,k=Rt();return u=v?an(u,function(j){if(typeof j[1]!="function")throw new Qi(p);return[k(j[0]),j[1]]}):[],mr(function(j){for(var V=-1;++V<v;){var K=u[V];if(Fi(K[0],this,j))return Fi(K[1],this,j)}})},H.conforms=function(u){return function(v){var k=yt(v);return function(j){return o0(j,v,k)}}(ys(u,1))},H.constant=Vi,H.countBy=go,H.create=function(u,v){var k=Lc(u);return v==null?k:Gm(k,v)},H.curry=function u(v,k,j){var V=va(v,8,h,h,h,h,h,k=j?h:k);return V.placeholder=u.placeholder,V},H.curryRight=function u(v,k,j){var V=va(v,_,h,h,h,h,h,k=j?h:k);return V.placeholder=u.placeholder,V},H.debounce=ef,H.defaults=Tt,H.defaultsDeep=Gt,H.defer=Ag,H.delay=$w,H.difference=Iw,H.differenceBy=jw,H.differenceWith=Yd,H.drop=function(u,v,k){var j=u==null?0:u.length;return j?Us(u,(v=k||v===h?1:W(v))<0?0:v,j):[]},H.dropRight=function(u,v,k){var j=u==null?0:u.length;return j?Us(u,0,(v=j-(v=k||v===h?1:W(v)))<0?0:v):[]},H.dropRightWhile=function(u,v){return u&&u.length?Dh(u,Rt(v,3),!0,!0):[]},H.dropWhile=function(u,v){return u&&u.length?Dh(u,Rt(v,3),!0):[]},H.fill=function(u,v,k,j){var V=u==null?0:u.length;return V?(k&&typeof k!="number"&&Ci(u,v,k)&&(k=0,j=V),function(K,te,oe,pe){var Ne=K.length;for((oe=W(oe))<0&&(oe=-oe>Ne?0:Ne+oe),(pe=pe===h||pe>Ne?Ne:W(pe))<0&&(pe+=Ne),pe=oe>pe?0:ie(pe);oe<pe;)K[oe++]=te;return K}(u,v,k,j)):[]},H.filter=function(u,v){return(ft(u)?Va:c0)(u,Rt(v,3))},H.flatMap=function(u,v){return ei(ci(u,v),1)},H.flatMapDeep=function(u,v){return ei(ci(u,v),C)},H.flatMapDepth=function(u,v,k){return k=k===h?1:W(k),ei(ci(u,v),k)},H.flatten=ri,H.flattenDeep=function(u){return u!=null&&u.length?ei(u,C):[]},H.flattenDepth=function(u,v){return u!=null&&u.length?ei(u,v=v===h?1:W(v)):[]},H.flip=function(u){return va(u,512)},H.flow=ts,H.flowRight=Ss,H.fromPairs=function(u){for(var v=-1,k=u==null?0:u.length,j={};++v<k;){var V=u[v];j[V[0]]=V[1]}return j},H.functions=function(u){return u==null?[]:Ah(u,yt(u))},H.functionsIn=function(u){return u==null?[]:Ah(u,bt(u))},H.groupBy=Rg,H.initial=function(u){return u!=null&&u.length?Us(u,0,-1):[]},H.intersection=Dw,H.intersectionBy=Jd,H.intersectionWith=Wh,H.invert=Nt,H.invertBy=Jt,H.invokeMap=ba,H.iteratee=li,H.keyBy=On,H.keys=yt,H.keysIn=bt,H.map=ci,H.mapKeys=function(u,v){var k={};return v=Rt(v,3),bs(u,function(j,V,K){Uo(k,v(j,V,K),j)}),k},H.mapValues=function(u,v){var k={};return v=Rt(v,3),bs(u,function(j,V,K){Uo(k,V,v(j,V,K))}),k},H.matches=function(u){return u0(ys(u,1))},H.matchesProperty=function(u,v){return Xm(u,ys(v,1))},H.memoize=tf,H.merge=sr,H.mergeWith=At,H.method=$o,H.methodOf=_a,H.mixin=ws,H.negate=Kh,H.nthArg=function(u){return u=W(u),mr(function(v){return fo(v,u)})},H.omit=It,H.omitBy=function(u,v){return Or(u,Kh(Rt(v)))},H.once=function(u){return Og(2,u)},H.orderBy=function(u,v,k,j){return u==null?[]:(ft(v)||(v=v==null?[]:[v]),ft(k=j?h:k)||(k=k==null?[]:[k]),Zm(u,v,k))},H.over=Sa,H.overArgs=Oi,H.overEvery=Vo,H.overSome=zo,H.partial=rf,H.partialRight=xa,H.partition=Bw,H.pick=lr,H.pickBy=Or,H.property=Wo,H.propertyOf=function(u){return function(v){return u==null?h:Ya(u,v)}},H.pull=ki,H.pullAll=zc,H.pullAllBy=function(u,v,k){return u&&u.length&&v&&v.length?tg(u,v,Rt(k,2)):u},H.pullAllWith=function(u,v,k){return u&&u.length&&v&&v.length?tg(u,v,h,k):u},H.pullAt=wg,H.range=Ho,H.rangeRight=Go,H.rearg=Vw,H.reject=function(u,v){return(ft(u)?Va:c0)(u,Kh(Rt(v,3)))},H.remove=function(u,v){var k=[];if(!u||!u.length)return k;var j=-1,V=[],K=u.length;for(v=Rt(v,3);++j<K;){var te=u[j];v(te,j,u)&&(k.push(te),V.push(j))}return d0(u,V),k},H.rest=function(u,v){if(typeof u!="function")throw new Qi(p);return mr(u,v=v===h?v:W(v))},H.reverse=Eg,H.sampleSize=function(u,v,k){return v=(k?Ci(u,v,k):v===h)?1:W(v),(ft(u)?n0:Pw)(u,v)},H.set=function(u,v,k){return u==null?u:Ud(u,v,k)},H.setWith=function(u,v,k,j){return j=typeof j=="function"?j:h,u==null?u:Ud(u,v,k,j)},H.shuffle=function(u){return(ft(u)?i0:Nw)(u)},H.slice=function(u,v,k){var j=u==null?0:u.length;return j?(k&&typeof k!="number"&&Ci(u,v,k)?(v=0,k=j):(v=v==null?0:W(v),k=k===h?j:W(k)),Us(u,v,k)):[]},H.sortBy=N0,H.sortedUniq=function(u){return u&&u.length?Bd(u):[]},H.sortedUniqBy=function(u,v){return u&&u.length?Bd(u,Rt(v,2)):[]},H.split=function(u,v,k){return k&&typeof k!="number"&&Ci(u,v,k)&&(v=k=h),(k=k===h?U:k>>>0)?(u=le(u))&&(typeof v=="string"||v!=null&&!b(v))&&!(v=wi(v))&&so(u)?Za(Ls(u),0,k):u.split(v,k):[]},H.spread=function(u,v){if(typeof u!="function")throw new Qi(p);return v=v==null?0:gn(W(v),0),mr(function(k){var j=k[v],V=Za(k,0,v);return j&&la(V,j),Fi(u,this,V)})},H.tail=function(u){var v=u==null?0:u.length;return v?Us(u,1,v):[]},H.take=function(u,v,k){return u&&u.length?Us(u,0,(v=k||v===h?1:W(v))<0?0:v):[]},H.takeRight=function(u,v,k){var j=u==null?0:u.length;return j?Us(u,(v=j-(v=k||v===h?1:W(v)))<0?0:v,j):[]},H.takeRightWhile=function(u,v){return u&&u.length?Dh(u,Rt(v,3),!1,!0):[]},H.takeWhile=function(u,v){return u&&u.length?Dh(u,Rt(v,3)):[]},H.tap=function(u,v){return v(u),u},H.throttle=function(u,v,k){var j=!0,V=!0;if(typeof u!="function")throw new Qi(p);return Gr(k)&&(j="leading"in k?!!k.leading:j,V="trailing"in k?!!k.trailing:V),ef(u,v,{leading:j,maxWait:v,trailing:V})},H.thru=Gh,H.toArray=F,H.toPairs=Fr,H.toPairsIn=rn,H.toPath=function(u){return ft(u)?an(u,po):N(u)?[u]:Bi(eu(le(u)))},H.toPlainObject=ge,H.transform=function(u,v,k){var j=ft(u),V=j||Nr(u)||D(u);if(v=Rt(v,4),k==null){var K=u&&u.constructor;k=V?j?new K:[]:Gr(u)&&_s(K)?Lc(Pd(u)):{}}return(V?fs:bs)(u,function(te,oe,pe){return v(k,te,oe,pe)}),k},H.unary=function(u){return kg(u,1)},H.union=ya,H.unionBy=kr,H.unionWith=Mw,H.uniq=function(u){return u&&u.length?Ja(u):[]},H.uniqBy=function(u,v){return u&&u.length?Ja(u,Rt(v,2)):[]},H.uniqWith=function(u,v){return v=typeof v=="function"?v:h,u&&u.length?Ja(u,h,v):[]},H.unset=function(u,v){return u==null||ig(u,v)},H.unzip=Cg,H.unzipWith=O0,H.update=function(u,v,k){return u==null?u:$d(u,v,Vd(k))},H.updateWith=function(u,v,k,j){return j=typeof j=="function"?j:h,u==null?u:$d(u,v,Vd(k),j)},H.values=Ar,H.valuesIn=function(u){return u==null?[]:Ml(u,bt(u))},H.without=Lw,H.words=Pi,H.wrap=function(u,v){return rf(Vd(v),u)},H.xor=Hh,H.xorBy=Xd,H.xorWith=Zd,H.zip=Fw,H.zipObject=function(u,v){return p0(u||[],v||[],zl)},H.zipObjectDeep=function(u,v){return p0(u||[],v||[],Ud)},H.zipWith=Uw,H.entries=Fr,H.entriesIn=rn,H.extend=se,H.extendWith=we,ws(H,H),H.add=nu,H.attempt=Ni,H.camelCase=vn,H.capitalize=ln,H.ceil=iu,H.clamp=function(u,v,k){return k===h&&(k=v,v=h),k!==h&&(k=(k=be(k))==k?k:0),v!==h&&(v=(v=be(v))==v?v:0),Fc(be(u),v,k)},H.clone=function(u){return ys(u,4)},H.cloneDeep=function(u){return ys(u,5)},H.cloneDeepWith=function(u,v){return ys(u,5,v=typeof v=="function"?v:h)},H.cloneWith=function(u,v){return ys(u,4,v=typeof v=="function"?v:h)},H.conformsTo=function(u,v){return v==null||o0(u,v,yt(v))},H.deburr=un,H.defaultTo=function(u,v){return u==null||u!=u?v:u},H.divide=su,H.endsWith=function(u,v,k){u=le(u),v=wi(v);var j=u.length,V=k=k===h?j:Fc(W(k),0,j);return(k-=v.length)>=0&&u.slice(k,V)==v},H.eq=yo,H.escape=function(u){return(u=le(u))&&Ye.test(u)?u.replace(he,Fm):u},H.escapeRegExp=function(u){return(u=le(u))&&Qn.test(u)?u.replace(wr,"\\$&"):u},H.every=function(u,v,k){var j=ft(u)?Ic:a0;return k&&Ci(u,v,k)&&(v=h),j(u,Rt(v,3))},H.find=tu,H.findIndex=ti,H.findKey=function(u,v){return Gy(u,Rt(v,3),bs)},H.findLast=ru,H.findLastIndex=Qd,H.findLastKey=function(u,v){return Gy(u,Rt(v,3),Km)},H.floor=nf,H.forEach=vo,H.forEachRight=Tg,H.forIn=function(u,v){return u==null?u:Nh(u,Rt(v,3),bt)},H.forInRight=function(u,v){return u==null?u:qm(u,Rt(v,3),bt)},H.forOwn=function(u,v){return u&&bs(u,Rt(v,3))},H.forOwnRight=function(u,v){return u&&Km(u,Rt(v,3))},H.get=qt,H.gt=A0,H.gte=I0,H.has=function(u,v){return u!=null&&Vh(u,v,Si)},H.hasIn=Bt,H.head=Bo,H.identity=mn,H.includes=function(u,v,k,j){u=Ln(u)?u:Ar(u),k=k&&!j?W(k):0;var V=u.length;return k<0&&(k=gn(V+k,0)),O(u)?k<=V&&u.indexOf(v,k)>-1:!!V&&Dl(u,v,k)>-1},H.indexOf=function(u,v,k){var j=u==null?0:u.length;if(!j)return-1;var V=k==null?0:W(k);return V<0&&(V=gn(j+V,0)),Dl(u,v,V)},H.inRange=function(u,v,k){return v=$(v),k===h?(k=v,v=0):k=$(k),function(j,V,K){return j>=Wn(V,K)&&j<gn(V,K)}(u=be(u),v,k)},H.invoke=cr,H.isArguments=Wc,H.isArray=ft,H.isArrayBuffer=es,H.isArrayLike=Ln,H.isArrayLikeObject=Fn,H.isBoolean=function(u){return u===!0||u===!1||Pn(u)&&Ui(u)==J},H.isBuffer=Nr,H.isDate=j0,H.isElement=function(u){return Pn(u)&&u.nodeType===1&&!m(u)},H.isEmpty=function(u){if(u==null)return!0;if(Ln(u)&&(ft(u)||typeof u=="string"||typeof u.splice=="function"||Nr(u)||D(u)||Wc(u)))return!u.length;var v=Ei(u);if(v==xe||v==re)return!u.size;if(Jl(u))return!Bc(u).length;for(var k in u)if(Vr.call(u,k))return!1;return!0},H.isEqual=function(u,v){return uo(u,v)},H.isEqualWith=function(u,v,k){var j=(k=typeof k=="function"?k:h)?k(u,v):h;return j===h?uo(u,v,h,k):!!j},H.isError=Ig,H.isFinite=function(u){return typeof u=="number"&&Ga(u)},H.isFunction=_s,H.isInteger=jg,H.isLength=Yh,H.isMap=x,H.isMatch=function(u,v){return u===v||Ih(u,v,mg(v))},H.isMatchWith=function(u,v,k){return k=typeof k=="function"?k:h,Ih(u,v,mg(v),k)},H.isNaN=function(u){return f(u)&&u!=+u},H.isNative=function(u){if(Ti(u))throw new Ut("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Qa(u)},H.isNil=function(u){return u==null},H.isNull=function(u){return u===null},H.isNumber=f,H.isObject=Gr,H.isObjectLike=Pn,H.isPlainObject=m,H.isRegExp=b,H.isSafeInteger=function(u){return jg(u)&&u>=-9007199254740991&&u<=A},H.isSet=T,H.isString=O,H.isSymbol=N,H.isTypedArray=D,H.isUndefined=function(u){return u===h},H.isWeakMap=function(u){return Pn(u)&&Ei(u)==He},H.isWeakSet=function(u){return Pn(u)&&Ui(u)=="[object WeakSet]"},H.join=function(u,v){return u==null?"":r0.call(u,v)},H.kebabCase=dn,H.last=Qr,H.lastIndexOf=function(u,v,k){var j=u==null?0:u.length;if(!j)return-1;var V=j;return k!==h&&(V=(V=W(k))<0?gn(j+V,0):Wn(V,j-1)),v==v?function(K,te,oe){for(var pe=oe+1;pe--;)if(K[pe]===te)return pe;return pe}(u,v,V):yh(u,qy,V,!0)},H.lowerCase=fn,H.lowerFirst=hn,H.lt=M,H.lte=I,H.max=function(u){return u&&u.length?Md(u,mn,fa):h},H.maxBy=function(u,v){return u&&u.length?Md(u,Rt(v,2),fa):h},H.mean=function(u){return Ky(u,mn)},H.meanBy=function(u,v){return Ky(u,Rt(v,2))},H.min=function(u){return u&&u.length?Md(u,mn,Jm):h},H.minBy=function(u,v){return u&&u.length?Md(u,Rt(v,2),Jm):h},H.stubArray=Vs,H.stubFalse=rc,H.stubObject=function(){return{}},H.stubString=function(){return""},H.stubTrue=function(){return!0},H.multiply=sf,H.nth=function(u,v){return u&&u.length?fo(u,W(v)):h},H.noConflict=function(){return Jn._===this&&(Jn._=e0),this},H.noop=$s,H.now=qh,H.pad=function(u,v,k){u=le(u);var j=(v=W(v))?gs(u):0;if(!v||j>=v)return u;var V=(v-j)/2;return Uh(vs(V),k)+u+Uh(Eh(V),k)},H.padEnd=function(u,v,k){u=le(u);var j=(v=W(v))?gs(u):0;return v&&j<v?u+Uh(v-j,k):u},H.padStart=function(u,v,k){u=le(u);var j=(v=W(v))?gs(u):0;return v&&j<v?Uh(v-j,k)+u:u},H.parseInt=function(u,v,k){return k||v==null?v=0:v&&(v=+v),Ad(le(u).replace(fi,""),v||0)},H.random=function(u,v,k){if(k&&typeof k!="boolean"&&Ci(u,v,k)&&(v=k=h),k===h&&(typeof v=="boolean"?(k=v,v=h):typeof u=="boolean"&&(k=u,u=h)),u===h&&v===h?(u=0,v=1):(u=$(u),v===h?(v=u,u=0):v=$(v)),u>v){var j=u;u=v,v=j}if(k||u%1||v%1){var V=Id();return Wn(u+V*(v-u+Nm("1e-"+((V+"").length-1))),v)}return rg(u,v)},H.reduce=function(u,v,k){var j=ft(u)?vh:Yy,V=arguments.length<3;return j(u,Rt(v,4),k,V,lo)},H.reduceRight=function(u,v,k){var j=ft(u)?vw:Yy,V=arguments.length<3;return j(u,Rt(v,4),k,V,Zn)},H.repeat=function(u,v,k){return v=(k?Ci(u,v,k):v===h)?1:W(v),ng(le(u),v)},H.replace=function(){var u=arguments,v=le(u[0]);return u.length<3?v:v.replace(u[1],u[2])},H.result=function(u,v,k){var j=-1,V=(v=Xa(v,u)).length;for(V||(V=1,u=h);++j<V;){var K=u==null?h:u[po(v[j])];K===h&&(j=V,K=k),u=_s(K)?K.call(u):K}return u},H.round=of,H.runInContext=ye,H.sample=function(u){return(ft(u)?Dd:Ow)(u)},H.size=function(u){if(u==null)return 0;if(Ln(u))return O(u)?gs(u):u.length;var v=Ei(u);return v==xe||v==re?u.size:Bc(u).length},H.snakeCase=Un,H.some=function(u,v,k){var j=ft(u)?Dm:Kl;return k&&Ci(u,v,k)&&(v=h),j(u,Rt(v,3))},H.sortedIndex=function(u,v){return ha(u,v)},H.sortedIndexBy=function(u,v,k){return pa(u,v,Rt(k,2))},H.sortedIndexOf=function(u,v){var k=u==null?0:u.length;if(k){var j=ha(u,v);if(j<k&&yo(u[j],v))return j}return-1},H.sortedLastIndex=function(u,v){return ha(u,v,!0)},H.sortedLastIndexBy=function(u,v,k){return pa(u,v,Rt(k,2),!0)},H.sortedLastIndexOf=function(u,v){if(u!=null&&u.length){var k=ha(u,v,!0)-1;if(yo(u[k],v))return k}return-1},H.startCase=pn,H.startsWith=function(u,v,k){return u=le(u),k=k==null?0:Fc(W(k),0,u.length),v=wi(v),u.slice(k,k+v.length)==v},H.subtract=Gc,H.sum=function(u){return u&&u.length?Lm(u,mn):0},H.sumBy=function(u,v){return u&&u.length?Lm(u,Rt(v,2)):0},H.template=function(u,v,k){var j=H.templateSettings;k&&Ci(u,v,k)&&(v=h),u=le(u),v=we({},v,j,pg);var V,K,te=we({},v.imports,j.imports,pg),oe=yt(te),pe=Ml(te,oe),Ne=0,ke=v.interpolate||Pe,Me="__p += '",at=Um((v.escape||Pe).source+"|"+ke.source+"|"+(ke===Re?md:Pe).source+"|"+(v.evaluate||Pe).source+"|$","g"),nt="//# sourceURL="+(Vr.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Om+"]")+`
`;u.replace(at,function(ze,jt,Je,ur,Xt,Ur){return Je||(Je=ur),Me+=u.slice(Ne,Ur).replace($e,ps),jt&&(V=!0,Me+=`' +
__e(`+jt+`) +
'`),Xt&&(K=!0,Me+=`';
`+Xt+`;
__p += '`),Je&&(Me+=`' +
((__t = (`+Je+`)) == null ? '' : __t) +
'`),Ne=Ur+ze.length,ze}),Me+=`';
`;var kt=Vr.call(v,"variable")&&v.variable;if(kt){if(Et.test(kt))throw new Ut("Invalid `variable` option passed into `_.template`")}else Me=`with (obj) {
`+Me+`
}
`;Me=(K?Me.replace(ut,""):Me).replace(In,"$1").replace(Mi,"$1;"),Me="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var Ae=Ni(function(){return Dn(oe,nt+"return "+Me).apply(h,pe)});if(Ae.source=Me,Ig(Ae))throw Ae;return Ae},H.times=function(u,v){if((u=W(u))<1||u>A)return[];var k=U,j=Wn(u,U);v=Rt(v),u-=U;for(var V=_n(j,v);++k<u;)v(k);return V},H.toFinite=$,H.toInteger=W,H.toLength=ie,H.toLower=function(u){return le(u).toLowerCase()},H.toNumber=be,H.toSafeInteger=function(u){return u?Fc(W(u),-9007199254740991,A):u===0?u:0},H.toString=le,H.toUpper=function(u){return le(u).toUpperCase()},H.trim=function(u,v,k){if((u=le(u))&&(k||v===h))return Cd(u);if(!u||!(v=wi(v)))return u;var j=Ls(u),V=Ls(v);return Za(j,Rd(j,V),Qy(j,V)+1).join("")},H.trimEnd=function(u,v,k){if((u=le(u))&&(k||v===h))return u.slice(0,jc(u)+1);if(!u||!(v=wi(v)))return u;var j=Ls(u);return Za(j,0,Qy(j,Ls(v))+1).join("")},H.trimStart=function(u,v,k){if((u=le(u))&&(k||v===h))return u.replace(fi,"");if(!u||!(v=wi(v)))return u;var j=Ls(u);return Za(j,Rd(j,Ls(v))).join("")},H.truncate=function(u,v){var k=30,j="...";if(Gr(v)){var V="separator"in v?v.separator:V;k="length"in v?W(v.length):k,j="omission"in v?wi(v.omission):j}var K=(u=le(u)).length;if(so(u)){var te=Ls(u);K=te.length}if(k>=K)return u;var oe=k-gs(j);if(oe<1)return j;var pe=te?Za(te,0,oe).join(""):u.slice(0,oe);if(V===h)return pe+j;if(te&&(oe+=pe.length-oe),b(V)){if(u.slice(oe).search(V)){var Ne,ke=pe;for(V.global||(V=Um(V.source,le(ca.exec(V))+"g")),V.lastIndex=0;Ne=V.exec(ke);)var Me=Ne.index;pe=pe.slice(0,Me===h?oe:Me)}}else if(u.indexOf(wi(V),oe)!=oe){var at=pe.lastIndexOf(V);at>-1&&(pe=pe.slice(0,at))}return pe+j},H.unescape=function(u){return(u=le(u))&&Ce.test(u)?u.replace(Z,vt):u},H.uniqueId=function(u){var v=++Fl;return le(u)+v},H.upperCase=hi,H.upperFirst=Hn,H.each=vo,H.eachRight=Tg,H.first=Bo,ws(H,(Hc={},bs(H,function(u,v){Vr.call(H.prototype,v)||(Hc[v]=u)}),Hc),{chain:!1}),H.VERSION="4.17.21",fs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){H[u].placeholder=H}),fs(["drop","take"],function(u,v){vr.prototype[u]=function(k){k=k===h?1:gn(W(k),0);var j=this.__filtered__&&!v?new vr(this):this.clone();return j.__filtered__?j.__takeCount__=Wn(k,j.__takeCount__):j.__views__.push({size:Wn(k,U),type:u+(j.__dir__<0?"Right":"")}),j},vr.prototype[u+"Right"]=function(k){return this.reverse()[u](k).reverse()}}),fs(["filter","map","takeWhile"],function(u,v){var k=v+1,j=k==1||k==3;vr.prototype[u]=function(V){var K=this.clone();return K.__iteratees__.push({iteratee:Rt(V,3),type:k}),K.__filtered__=K.__filtered__||j,K}}),fs(["head","last"],function(u,v){var k="take"+(v?"Right":"");vr.prototype[u]=function(){return this[k](1).value()[0]}}),fs(["initial","tail"],function(u,v){var k="drop"+(v?"":"Right");vr.prototype[u]=function(){return this.__filtered__?new vr(this):this[k](1)}}),vr.prototype.compact=function(){return this.filter(mn)},vr.prototype.find=function(u){return this.filter(u).head()},vr.prototype.findLast=function(u){return this.reverse().find(u)},vr.prototype.invokeMap=mr(function(u,v){return typeof u=="function"?new vr(this):this.map(function(k){return Pr(k,u,v)})}),vr.prototype.reject=function(u){return this.filter(Kh(Rt(u)))},vr.prototype.slice=function(u,v){u=W(u);var k=this;return k.__filtered__&&(u>0||v<0)?new vr(k):(u<0?k=k.takeRight(-u):u&&(k=k.drop(u)),v!==h&&(k=(v=W(v))<0?k.dropRight(-v):k.take(v-u)),k)},vr.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},vr.prototype.toArray=function(){return this.take(U)},bs(vr.prototype,function(u,v){var k=/^(?:filter|find|map|reject)|While$/.test(v),j=/^(?:head|last)$/.test(v),V=H[j?"take"+(v=="last"?"Right":""):v],K=j||/^find/.test(v);V&&(H.prototype[v]=function(){var te=this.__wrapped__,oe=j?[1]:arguments,pe=te instanceof vr,Ne=oe[0],ke=pe||ft(te),Me=function(jt){var Je=V.apply(H,la([jt],oe));return j&&at?Je[0]:Je};ke&&k&&typeof Ne=="function"&&Ne.length!=1&&(pe=ke=!1);var at=this.__chain__,nt=!!this.__actions__.length,kt=K&&!at,Ae=pe&&!nt;if(!K&&ke){te=Ae?te:new vr(this);var ze=u.apply(te,oe);return ze.__actions__.push({func:Gh,args:[Me],thisArg:h}),new Xi(ze,at)}return kt&&Ae?u.apply(this,oe):(ze=this.thru(Me),kt?j?ze.value()[0]:ze.value():ze)})}),fs(["pop","push","shift","sort","splice","unshift"],function(u){var v=za[u],k=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);H.prototype[u]=function(){var V=arguments;if(j&&!this.__chain__){var K=this.value();return v.apply(ft(K)?K:[],V)}return this[k](function(te){return v.apply(ft(te)?te:[],V)})}}),bs(vr.prototype,function(u,v){var k=H[v];if(k){var j=k.name+"";Vr.call($l,j)||($l[j]=[]),$l[j].push({name:v,func:k})}}),$l[Wd(h,2).name]=[{name:"wrapper",func:h}],vr.prototype.clone=function(){var u=new vr(this.__wrapped__);return u.__actions__=Bi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Bi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Bi(this.__views__),u},vr.prototype.reverse=function(){if(this.__filtered__){var u=new vr(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},vr.prototype.value=function(){var u=this.__wrapped__.value(),v=this.__dir__,k=ft(u),j=v<0,V=k?u.length:0,K=function(Ur,St,Dt){for(var mi=-1,ni=Dt.length;++mi<ni;){var Es=Dt[mi],wn=Es.size;switch(Es.type){case"drop":Ur+=wn;break;case"dropRight":St-=wn;break;case"take":St=Wn(St,Ur+wn);break;case"takeRight":Ur=gn(Ur,St-wn)}}return{start:Ur,end:St}}(0,V,this.__views__),te=K.start,oe=K.end,pe=oe-te,Ne=j?oe:te-1,ke=this.__iteratees__,Me=ke.length,at=0,nt=Wn(pe,this.__takeCount__);if(!k||!j&&V==pe&&nt==pe)return h0(u,this.__actions__);var kt=[];e:for(;pe--&&at<nt;){for(var Ae=-1,ze=u[Ne+=v];++Ae<Me;){var jt=ke[Ae],Je=jt.iteratee,ur=jt.type,Xt=Je(ze);if(ur==2)ze=Xt;else if(!Xt){if(ur==1)continue e;break e}}kt[at++]=ze}return kt},H.prototype.at=mo,H.prototype.chain=function(){return P0(this)},H.prototype.commit=function(){return new Xi(this.value(),this.__chain__)},H.prototype.next=function(){this.__values__===h&&(this.__values__=F(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?h:this.__values__[this.__index__++]}},H.prototype.plant=function(u){for(var v,k=this;k instanceof Vl;){var j=k0(k);j.__index__=0,j.__values__=h,v?V.__wrapped__=j:v=j;var V=j;k=k.__wrapped__}return V.__wrapped__=u,v},H.prototype.reverse=function(){var u=this.__wrapped__;if(u instanceof vr){var v=u;return this.__actions__.length&&(v=new vr(this)),(v=v.reverse()).__actions__.push({func:Gh,args:[Eg],thisArg:h}),new Xi(v,this.__chain__)}return this.thru(Eg)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function(){return h0(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Bl&&(H.prototype[Bl]=function(){return this}),H}();Jn._=kd,(l=(function(){return kd}).call(c,a,c,o))===h||(o.exports=l)}).call(this)},5364:(o,c,a)=>{var l=a(5250),h=a(999)(function(p,g,E){l(p,g,E)});o.exports=h},9935:o=>{o.exports=function(){return!1}},9884:(o,c,a)=>{var l=a(1791),h=a(7241);o.exports=function(p){return l(p,h(p))}},5602:o=>{var c=o.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(a){return a.encoding?"rtpmap:%d %s/%s/%s":a.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(a){return a.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(a){return a.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(a){return"extmap:%d"+(a.direction?"/%s":"%v")+(a["encrypt-uri"]?" %s":"%v")+" %s"+(a.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(a){return a.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(a){var l="candidate:%s %d %s %d %s %d typ %s";return l+=a.raddr!=null?" raddr %s rport %d":"%v%v",l+=a.tcptype!=null?" tcptype %s":"%v",a.generation!=null&&(l+=" generation %d"),l+=a["network-id"]!=null?" network-id %d":"%v",l+=a["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(a){var l="ssrc:%d";return a.attribute!=null&&(l+=" %s",a.value!=null&&(l+=":%s")),l}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(a){return a.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(a){return a.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(a){return"imageattr:%s %s %s"+(a.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(a){return"simulcast:%s %s"+(a.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(a){return"ts-refclk:%s"+(a.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(a){var l="mediaclk:";return l+=a.id!=null?"id=%s %s":"%v%s",l+=a.mediaClockValue!=null?"=%s":"",l+=a.rateNumerator!=null?" rate=%s":"",l+=a.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(c).forEach(function(a){c[a].forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})})},7363:(o,c,a)=>{var l=a(5020),h=a(3804);c.M9=h,c.qg=l.parse,c.Sl=l.parseParams,l.parseFmtpConfig,l.parsePayloads,l.parseRemoteCandidates,l.parseImageAttributes,l.parseSimulcastStreamList},5020:(o,c,a)=>{var l=function(_){return String(Number(_))===_?Number(_):_},h=function(_,y,w){var R=_.name&&_.names;_.push&&!y[_.push]?y[_.push]=[]:R&&!y[_.name]&&(y[_.name]={});var S=_.push?{}:R?y[_.name]:y;(function(C,A,L,U){if(U&&!L)A[U]=l(C[1]);else for(var B=0;B<L.length;B+=1)C[B+1]!=null&&(A[L[B]]=l(C[B+1]))})(w.match(_.reg),S,_.names,_.name),_.push&&y[_.push].push(S)},p=a(5602),g=RegExp.prototype.test.bind(/^([a-z])=(.*)/);c.parse=function(_){var y={},w=[],R=y;return _.split(/(\r\n|\r|\n)/).filter(g).forEach(function(S){var C=S[0],A=S.slice(2);C==="m"&&(w.push({rtp:[],fmtp:[]}),R=w[w.length-1]);for(var L=0;L<(p[C]||[]).length;L+=1){var U=p[C][L];if(U.reg.test(A))return h(U,R,A)}}),y.media=w,y};var E=function(_,y){var w=y.split(/=(.+)/,2);return w.length===2?_[w[0]]=l(w[1]):w.length===1&&y.length>1&&(_[w[0]]=void 0),_};c.parseParams=function(_){return _.split(/;\s?/).reduce(E,{})},c.parseFmtpConfig=c.parseParams,c.parsePayloads=function(_){return _.toString().split(" ").map(Number)},c.parseRemoteCandidates=function(_){for(var y=[],w=_.split(" ").map(l),R=0;R<w.length;R+=3)y.push({component:w[R],ip:w[R+1],port:w[R+2]});return y},c.parseImageAttributes=function(_){return _.split(" ").map(function(y){return y.substring(1,y.length-1).split(",").reduce(E,{})})},c.parseSimulcastStreamList=function(_){return _.split(";").map(function(y){return y.split(",").map(function(w){var R,S=!1;return w[0]!=="~"?R=l(w):(R=l(w.substring(1,w.length)),S=!0),{scid:R,paused:S}})})}},3804:(o,c,a)=>{var l=a(5602),h=/%[sdv%]/g,p=function(y){var w=1,R=arguments,S=R.length;return y.replace(h,function(C){if(w>=S)return C;var A=R[w];switch(w+=1,C){case"%%":return"%";case"%s":return String(A);case"%d":return Number(A);case"%v":return""}})},g=function(y,w,R){var S=[y+"="+(w.format instanceof Function?w.format(w.push?R:R[w.name]):w.format)];if(w.names)for(var C=0;C<w.names.length;C+=1){var A=w.names[C];w.name?S.push(R[w.name][A]):S.push(R[w.names[C]])}else S.push(R[w.name]);return p.apply(null,S)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],_=["i","c","b","a"];o.exports=function(y,w){w=w||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(A){A.payloads==null&&(A.payloads="")});var R=w.outerOrder||E,S=w.innerOrder||_,C=[];return R.forEach(function(A){l[A].forEach(function(L){L.name in y&&y[L.name]!=null?C.push(g(A,L,y)):L.push in y&&y[L.push]!=null&&y[L.push].forEach(function(U){C.push(g(A,L,U))})})}),y.media.forEach(function(A){C.push(g("m",l.m[0],A)),S.forEach(function(L){l[L].forEach(function(U){U.name in A&&A[U.name]!=null?C.push(g(L,U,A)):U.push in A&&A[U.push]!=null&&A[U.push].forEach(function(B){C.push(g(L,U,B))})})})}),C.join(`\r
`)+`\r
`}},7963:o=>{const c={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};c.localCName=c.generateIdentifier(),c.splitLines=function(a){return a.trim().split(`
`).map(l=>l.trim())},c.splitSections=function(a){return a.split(`
m=`).map((l,h)=>(h>0?"m="+l:l).trim()+`\r
`)},c.getDescription=function(a){const l=c.splitSections(a);return l&&l[0]},c.getMediaSections=function(a){const l=c.splitSections(a);return l.shift(),l},c.matchPrefix=function(a,l){return c.splitLines(a).filter(h=>h.indexOf(l)===0)},c.parseCandidate=function(a){let l;l=a.indexOf("a=candidate:")===0?a.substring(12).split(" "):a.substring(10).split(" ");const h={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let p=8;p<l.length;p+=2)switch(l[p]){case"raddr":h.relatedAddress=l[p+1];break;case"rport":h.relatedPort=parseInt(l[p+1],10);break;case"tcptype":h.tcpType=l[p+1];break;case"ufrag":h.ufrag=l[p+1],h.usernameFragment=l[p+1];break;default:h[l[p]]===void 0&&(h[l[p]]=l[p+1])}return h},c.writeCandidate=function(a){const l=[];l.push(a.foundation);const h=a.component;h==="rtp"?l.push(1):h==="rtcp"?l.push(2):l.push(h),l.push(a.protocol.toUpperCase()),l.push(a.priority),l.push(a.address||a.ip),l.push(a.port);const p=a.type;return l.push("typ"),l.push(p),p!=="host"&&a.relatedAddress&&a.relatedPort&&(l.push("raddr"),l.push(a.relatedAddress),l.push("rport"),l.push(a.relatedPort)),a.tcpType&&a.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(l.push("ufrag"),l.push(a.usernameFragment||a.ufrag)),"candidate:"+l.join(" ")},c.parseIceOptions=function(a){return a.substring(14).split(" ")},c.parseRtpMap=function(a){let l=a.substring(9).split(" ");const h={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),h.name=l[0],h.clockRate=parseInt(l[1],10),h.channels=l.length===3?parseInt(l[2],10):1,h.numChannels=h.channels,h},c.writeRtpMap=function(a){let l=a.payloadType;a.preferredPayloadType!==void 0&&(l=a.preferredPayloadType);const h=a.channels||a.numChannels||1;return"a=rtpmap:"+l+" "+a.name+"/"+a.clockRate+(h!==1?"/"+h:"")+`\r
`},c.parseExtmap=function(a){const l=a.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},c.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&a.direction!=="sendrecv"?"/"+a.direction:"")+" "+a.uri+(a.attributes?" "+a.attributes:"")+`\r
`},c.parseFmtp=function(a){const l={};let h;const p=a.substring(a.indexOf(" ")+1).split(";");for(let g=0;g<p.length;g++)h=p[g].trim().split("="),l[h[0].trim()]=h[1];return l},c.writeFmtp=function(a){let l="",h=a.payloadType;if(a.preferredPayloadType!==void 0&&(h=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){const p=[];Object.keys(a.parameters).forEach(g=>{a.parameters[g]!==void 0?p.push(g+"="+a.parameters[g]):p.push(g)}),l+="a=fmtp:"+h+" "+p.join(";")+`\r
`}return l},c.parseRtcpFb=function(a){const l=a.substring(a.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},c.writeRtcpFb=function(a){let l="",h=a.payloadType;return a.preferredPayloadType!==void 0&&(h=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(p=>{l+="a=rtcp-fb:"+h+" "+p.type+(p.parameter&&p.parameter.length?" "+p.parameter:"")+`\r
`}),l},c.parseSsrcMedia=function(a){const l=a.indexOf(" "),h={ssrc:parseInt(a.substring(7,l),10)},p=a.indexOf(":",l);return p>-1?(h.attribute=a.substring(l+1,p),h.value=a.substring(p+1)):h.attribute=a.substring(l+1),h},c.parseSsrcGroup=function(a){const l=a.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(h=>parseInt(h,10))}},c.getMid=function(a){const l=c.matchPrefix(a,"a=mid:")[0];if(l)return l.substring(6)},c.parseFingerprint=function(a){const l=a.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},c.getDtlsParameters=function(a,l){return{role:"auto",fingerprints:c.matchPrefix(a+l,"a=fingerprint:").map(c.parseFingerprint)}},c.writeDtlsParameters=function(a,l){let h="a=setup:"+l+`\r
`;return a.fingerprints.forEach(p=>{h+="a=fingerprint:"+p.algorithm+" "+p.value+`\r
`}),h},c.parseCryptoLine=function(a){const l=a.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},c.writeCryptoLine=function(a){return"a=crypto:"+a.tag+" "+a.cryptoSuite+" "+(typeof a.keyParams=="object"?c.writeCryptoKeyParams(a.keyParams):a.keyParams)+(a.sessionParams?" "+a.sessionParams.join(" "):"")+`\r
`},c.parseCryptoKeyParams=function(a){if(a.indexOf("inline:")!==0)return null;const l=a.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},c.writeCryptoKeyParams=function(a){return a.keyMethod+":"+a.keySalt+(a.lifeTime?"|"+a.lifeTime:"")+(a.mkiValue&&a.mkiLength?"|"+a.mkiValue+":"+a.mkiLength:"")},c.getCryptoParameters=function(a,l){return c.matchPrefix(a+l,"a=crypto:").map(c.parseCryptoLine)},c.getIceParameters=function(a,l){const h=c.matchPrefix(a+l,"a=ice-ufrag:")[0],p=c.matchPrefix(a+l,"a=ice-pwd:")[0];return h&&p?{usernameFragment:h.substring(12),password:p.substring(10)}:null},c.writeIceParameters=function(a){let l="a=ice-ufrag:"+a.usernameFragment+`\r
a=ice-pwd:`+a.password+`\r
`;return a.iceLite&&(l+=`a=ice-lite\r
`),l},c.parseRtpParameters=function(a){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},h=c.splitLines(a)[0].split(" ");l.profile=h[2];for(let g=3;g<h.length;g++){const E=h[g],_=c.matchPrefix(a,"a=rtpmap:"+E+" ")[0];if(_){const y=c.parseRtpMap(_),w=c.matchPrefix(a,"a=fmtp:"+E+" ");switch(y.parameters=w.length?c.parseFmtp(w[0]):{},y.rtcpFeedback=c.matchPrefix(a,"a=rtcp-fb:"+E+" ").map(c.parseRtcpFb),l.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(y.name.toUpperCase())}}}c.matchPrefix(a,"a=extmap:").forEach(g=>{l.headerExtensions.push(c.parseExtmap(g))});const p=c.matchPrefix(a,"a=rtcp-fb:* ").map(c.parseRtcpFb);return l.codecs.forEach(g=>{p.forEach(E=>{g.rtcpFeedback.find(_=>_.type===E.type&&_.parameter===E.parameter)||g.rtcpFeedback.push(E)})}),l},c.writeRtpDescription=function(a,l){let h="";h+="m="+a+" ",h+=l.codecs.length>0?"9":"0",h+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",h+=l.codecs.map(g=>g.preferredPayloadType!==void 0?g.preferredPayloadType:g.payloadType).join(" ")+`\r
`,h+=`c=IN IP4 0.0.0.0\r
`,h+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(g=>{h+=c.writeRtpMap(g),h+=c.writeFmtp(g),h+=c.writeRtcpFb(g)});let p=0;return l.codecs.forEach(g=>{g.maxptime>p&&(p=g.maxptime)}),p>0&&(h+="a=maxptime:"+p+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(g=>{h+=c.writeExtmap(g)}),h},c.parseRtpEncodingParameters=function(a){const l=[],h=c.parseRtpParameters(a),p=h.fecMechanisms.indexOf("RED")!==-1,g=h.fecMechanisms.indexOf("ULPFEC")!==-1,E=c.matchPrefix(a,"a=ssrc:").map(S=>c.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),_=E.length>0&&E[0].ssrc;let y;const w=c.matchPrefix(a,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(C=>parseInt(C,10)));w.length>0&&w[0].length>1&&w[0][0]===_&&(y=w[0][1]),h.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let C={ssrc:_,codecPayloadType:parseInt(S.parameters.apt,10)};_&&y&&(C.rtx={ssrc:y}),l.push(C),p&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:_,mechanism:g?"red+ulpfec":"red"},l.push(C))}}),l.length===0&&_&&l.push({ssrc:_});let R=c.matchPrefix(a,"b=");return R.length&&(R=R[0].indexOf("b=TIAS:")===0?parseInt(R[0].substring(7),10):R[0].indexOf("b=AS:")===0?1e3*parseInt(R[0].substring(5),10)*.95-16e3:void 0,l.forEach(S=>{S.maxBitrate=R})),l},c.parseRtcpParameters=function(a){const l={},h=c.matchPrefix(a,"a=ssrc:").map(E=>c.parseSsrcMedia(E)).filter(E=>E.attribute==="cname")[0];h&&(l.cname=h.value,l.ssrc=h.ssrc);const p=c.matchPrefix(a,"a=rtcp-rsize");l.reducedSize=p.length>0,l.compound=p.length===0;const g=c.matchPrefix(a,"a=rtcp-mux");return l.mux=g.length>0,l},c.writeRtcpParameters=function(a){let l="";return a.reducedSize&&(l+=`a=rtcp-rsize\r
`),a.mux&&(l+=`a=rtcp-mux\r
`),a.ssrc!==void 0&&a.cname&&(l+="a=ssrc:"+a.ssrc+" cname:"+a.cname+`\r
`),l},c.parseMsid=function(a){let l;const h=c.matchPrefix(a,"a=msid:");if(h.length===1)return l=h[0].substring(7).split(" "),{stream:l[0],track:l[1]};const p=c.matchPrefix(a,"a=ssrc:").map(g=>c.parseSsrcMedia(g)).filter(g=>g.attribute==="msid");return p.length>0?(l=p[0].value.split(" "),{stream:l[0],track:l[1]}):void 0},c.parseSctpDescription=function(a){const l=c.parseMLine(a),h=c.matchPrefix(a,"a=max-message-size:");let p;h.length>0&&(p=parseInt(h[0].substring(19),10)),isNaN(p)&&(p=65536);const g=c.matchPrefix(a,"a=sctp-port:");if(g.length>0)return{port:parseInt(g[0].substring(12),10),protocol:l.fmt,maxMessageSize:p};const E=c.matchPrefix(a,"a=sctpmap:");if(E.length>0){const _=E[0].substring(10).split(" ");return{port:parseInt(_[0],10),protocol:_[1],maxMessageSize:p}}},c.writeSctpDescription=function(a,l){let h=[];return h=a.protocol!=="DTLS/SCTP"?["m="+a.kind+" 9 "+a.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:["m="+a.kind+" 9 "+a.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&h.push("a=max-message-size:"+l.maxMessageSize+`\r
`),h.join("")},c.generateSessionId=function(){return Math.random().toString().substr(2,22)},c.writeSessionBoilerplate=function(a,l,h){let p;const g=l!==void 0?l:2;return p=a||c.generateSessionId(),`v=0\r
o=`+(h||"thisisadapterortc")+" "+p+" "+g+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},c.getDirection=function(a,l){const h=c.splitLines(a);for(let p=0;p<h.length;p++)switch(h[p]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return h[p].substring(2)}return l?c.getDirection(l):"sendrecv"},c.getKind=function(a){return c.splitLines(a)[0].split(" ")[0].substring(2)},c.isRejected=function(a){return a.split(" ",2)[1]==="0"},c.parseMLine=function(a){const l=c.splitLines(a)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},c.parseOLine=function(a){const l=c.matchPrefix(a,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},c.isValidSDP=function(a){if(typeof a!="string"||a.length===0)return!1;const l=c.splitLines(a);for(let h=0;h<l.length;h++)if(l[h].length<2||l[h].charAt(1)!=="=")return!1;return!0},o.exports=c},5512:o=>{o.exports=function(c,a,l,h){var p=self||window;try{try{var g;try{g=new p.Blob([c])}catch{(g=new(p.BlobBuilder||p.WebKitBlobBuilder||p.MozBlobBuilder||p.MSBlobBuilder)).append(c),g=g.getBlob()}var E=p.URL||p.webkitURL,_=E.createObjectURL(g),y=new p[a](_,l);return E.revokeObjectURL(_),y}catch{return new p[a]("data:application/javascript,".concat(encodeURIComponent(c)),l)}}catch{if(!h)throw Error("Inline worker is not supported");return new p[a](h,l)}}},8630:(o,c,a)=>{var l;(function(h){(function(){var p=typeof globalThis=="object"?globalThis:typeof a.g=="object"?a.g:typeof self=="object"?self:typeof this=="object"?this:function(){try{return Function("return this;")()}catch{}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch{}}(),g=E(h);function E(_,y){return function(w,R){Object.defineProperty(_,w,{configurable:!0,writable:!0,value:R}),y&&y(w,R)}}p.Reflect!==void 0&&(g=E(p.Reflect,g)),function(_,y){var w=Object.prototype.hasOwnProperty,R=typeof Symbol=="function",S=R&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",C=R&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",A=typeof Object.create=="function",L={__proto__:[]}instanceof Array,U=!A&&!L,B={create:A?function(){return Ac(Object.create(null))}:L?function(){return Ac({__proto__:null})}:function(){return Ac({})},has:U?function(ue,Se){return w.call(ue,Se)}:function(ue,Se){return Se in ue},get:U?function(ue,Se){return w.call(ue,Se)?ue[Se]:void 0}:function(ue,Se){return ue[Se]}},z=Object.getPrototypeOf(Function),G=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Rl(),J=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:kl(),X=typeof WeakMap=="function"?WeakMap:gd(),q=R?Symbol.for("@reflect-metadata:registry"):void 0,ee=Et(),ce=ah(ee);function xe(ue,Se,Pe,$e){if(ut(Pe)){if(!Re(ue))throw new TypeError;if(!rt(Se))throw new TypeError;return xt(ue,Se)}if(!Re(ue))throw new TypeError;if(!Z(Se))throw new TypeError;if(!Z($e)&&!ut($e)&&!In($e))throw new TypeError;return In($e)&&($e=void 0),zt(ue,Se,Pe=de(Pe),$e)}function _e(ue,Se){function Pe($e,Yt){if(!Z($e))throw new TypeError;if(!ut(Yt)&&!_t(Yt))throw new TypeError;Lt(ue,Se,$e,Yt)}return Pe}function ve(ue,Se,Pe,$e){if(!Z(Pe))throw new TypeError;return ut($e)||($e=de($e)),Lt(ue,Se,Pe,$e)}function Y(ue,Se,Pe){if(!Z(Se))throw new TypeError;return ut(Pe)||(Pe=de(Pe)),Ke(ue,Se,Pe)}function Q(ue,Se,Pe){if(!Z(Se))throw new TypeError;return ut(Pe)||(Pe=de(Pe)),lt(ue,Se,Pe)}function re(ue,Se,Pe){if(!Z(Se))throw new TypeError;return ut(Pe)||(Pe=de(Pe)),Mt(ue,Se,Pe)}function fe(ue,Se,Pe){if(!Z(Se))throw new TypeError;return ut(Pe)||(Pe=de(Pe)),Kt(ue,Se,Pe)}function Te(ue,Se){if(!Z(ue))throw new TypeError;return ut(Se)||(Se=de(Se)),Wt(ue,Se)}function He(ue,Se){if(!Z(ue))throw new TypeError;return ut(Se)||(Se=de(Se)),Mr(ue,Se)}function Le(ue,Se,Pe){if(!Z(Se))throw new TypeError;if(ut(Pe)||(Pe=de(Pe)),!Z(Se))throw new TypeError;ut(Pe)||(Pe=de(Pe));var $e=ca(Se,Pe,!1);return!ut($e)&&$e.OrdinaryDeleteMetadata(ue,Se,Pe)}function xt(ue,Se){for(var Pe=ue.length-1;Pe>=0;--Pe){var $e=(0,ue[Pe])(Se);if(!ut($e)&&!In($e)){if(!rt($e))throw new TypeError;Se=$e}}return Se}function zt(ue,Se,Pe,$e){for(var Yt=ue.length-1;Yt>=0;--Yt){var on=(0,ue[Yt])(Se,Pe,$e);if(!ut(on)&&!In(on)){if(!Z(on))throw new TypeError;$e=on}}return $e}function Ke(ue,Se,Pe){if(lt(ue,Se,Pe))return!0;var $e=aa(Se);return!In($e)&&Ke(ue,$e,Pe)}function lt(ue,Se,Pe){var $e=ca(Se,Pe,!1);return!ut($e)&&Ye($e.OrdinaryHasOwnMetadata(ue,Se,Pe))}function Mt(ue,Se,Pe){if(lt(ue,Se,Pe))return Kt(ue,Se,Pe);var $e=aa(Se);return In($e)?void 0:Mt(ue,$e,Pe)}function Kt(ue,Se,Pe){var $e=ca(Se,Pe,!1);if(!ut($e))return $e.OrdinaryGetOwnMetadata(ue,Se,Pe)}function Lt(ue,Se,Pe,$e){ca(Pe,$e,!0).OrdinaryDefineOwnMetadata(ue,Se,Pe,$e)}function Wt(ue,Se){var Pe=Mr(ue,Se),$e=aa(ue);if($e===null)return Pe;var Yt=Wt($e,Se);if(Yt.length<=0)return Pe;if(Pe.length<=0)return Yt;for(var on=new J,ir=[],Ft=0,dt=Pe;Ft<dt.length;Ft++){var et=dt[Ft];on.has(et)||(on.add(et),ir.push(et))}for(var pt=0,Ct=Yt;pt<Ct.length;pt++)et=Ct[pt],on.has(et)||(on.add(et),ir.push(et));return ir}function Mr(ue,Se){var Pe=ca(ue,Se,!1);return Pe?Pe.OrdinaryOwnMetadataKeys(ue,Se):[]}function qr(ue){if(ue===null)return 1;switch(typeof ue){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ue===null?1:6;default:return 6}}function ut(ue){return ue===void 0}function In(ue){return ue===null}function Mi(ue){return typeof ue=="symbol"}function Z(ue){return typeof ue=="object"?ue!==null:typeof ue=="function"}function he(ue,Se){switch(qr(ue)){case 0:case 1:case 2:case 3:case 4:case 5:return ue}var Pe="string",$e=Qn(ue,S);if($e!==void 0){var Yt=$e.call(ue,Pe);if(Z(Yt))throw new TypeError;return Yt}return Ce(ue)}function Ce(ue,Se){var Pe,$e;{var Yt=ue.toString;if(De(Yt)&&!Z($e=Yt.call(ue))||De(Pe=ue.valueOf)&&!Z($e=Pe.call(ue)))return $e}throw new TypeError}function Ye(ue){return!!ue}function ne(ue){return""+ue}function de(ue){var Se=he(ue);return Mi(Se)?Se:ne(Se)}function Re(ue){return Array.isArray?Array.isArray(ue):ue instanceof Object?ue instanceof Array:Object.prototype.toString.call(ue)==="[object Array]"}function De(ue){return typeof ue=="function"}function rt(ue){return typeof ue=="function"}function _t(ue){switch(qr(ue)){case 3:case 4:return!0;default:return!1}}function wr(ue,Se){return ue===Se||ue!=ue&&Se!=Se}function Qn(ue,Se){var Pe=ue[Se];if(Pe!=null){if(!De(Pe))throw new TypeError;return Pe}}function fi(ue){var Se=Qn(ue,C);if(!De(Se))throw new TypeError;var Pe=Se.call(ue);if(!Z(Pe))throw new TypeError;return Pe}function ds(ue){return ue.value}function Er(ue){var Se=ue.next();return!Se.done&&Se}function Cr(ue){var Se=ue.return;Se&&Se.call(ue)}function aa(ue){var Se=Object.getPrototypeOf(ue);if(typeof ue!="function"||ue===z||Se!==z)return Se;var Pe=ue.prototype,$e=Pe&&Object.getPrototypeOf(Pe);if($e==null||$e===Object.prototype)return Se;var Yt=$e.constructor;return typeof Yt!="function"||Yt===ue?Se:Yt}function Tl(){var ue,Se,Pe,$e;ut(q)||y.Reflect===void 0||q in y.Reflect||typeof y.Reflect.defineMetadata!="function"||(ue=md(y.Reflect));var Yt=new X,on={registerProvider:ir,getProvider:dt,setProvider:pt};return on;function ir(Ct){if(!Object.isExtensible(on))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ue===Ct:break;case ut(Se):Se=Ct;break;case Se===Ct:break;case ut(Pe):Pe=Ct;break;case Pe===Ct:break;default:$e===void 0&&($e=new J),$e.add(Ct)}}function Ft(Ct,xr){if(!ut(Se)){if(Se.isProviderFor(Ct,xr))return Se;if(!ut(Pe)){if(Pe.isProviderFor(Ct,xr))return Se;if(!ut($e))for(var Kr=fi($e);;){var Lr=Er(Kr);if(!Lr)return;var Li=ds(Lr);if(Li.isProviderFor(Ct,xr))return Cr(Kr),Li}}}if(!ut(ue)&&ue.isProviderFor(Ct,xr))return ue}function dt(Ct,xr){var Kr,Lr=Yt.get(Ct);return ut(Lr)||(Kr=Lr.get(xr)),ut(Kr)&&(ut(Kr=Ft(Ct,xr))||(ut(Lr)&&(Lr=new G,Yt.set(Ct,Lr)),Lr.set(xr,Kr))),Kr}function et(Ct){if(ut(Ct))throw new TypeError;return Se===Ct||Pe===Ct||!ut($e)&&$e.has(Ct)}function pt(Ct,xr,Kr){if(!et(Kr))throw new Error("Metadata provider not registered.");var Lr=dt(Ct,xr);if(Lr!==Kr){if(!ut(Lr))return!1;var Li=Yt.get(Ct);ut(Li)&&(Li=new G,Yt.set(Ct,Li)),Li.set(xr,Kr)}return!0}}function Et(){var ue;return!ut(q)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&(ue=y.Reflect[q]),ut(ue)&&(ue=Tl()),!ut(q)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&Object.defineProperty(y.Reflect,q,{enumerable:!1,configurable:!1,writable:!1,value:ue}),ue}function ah(ue){var Se=new X,Pe={isProviderFor:function(et,pt){var Ct=Se.get(et);return!ut(Ct)&&Ct.has(pt)},OrdinaryDefineOwnMetadata:ir,OrdinaryHasOwnMetadata:Yt,OrdinaryGetOwnMetadata:on,OrdinaryOwnMetadataKeys:Ft,OrdinaryDeleteMetadata:dt};return ee.registerProvider(Pe),Pe;function $e(et,pt,Ct){var xr=Se.get(et),Kr=!1;if(ut(xr)){if(!Ct)return;xr=new G,Se.set(et,xr),Kr=!0}var Lr=xr.get(pt);if(ut(Lr)){if(!Ct)return;if(Lr=new G,xr.set(pt,Lr),!ue.setProvider(et,pt,Pe))throw xr.delete(pt),Kr&&Se.delete(et),new Error("Wrong provider for target.")}return Lr}function Yt(et,pt,Ct){var xr=$e(pt,Ct,!1);return!ut(xr)&&Ye(xr.has(et))}function on(et,pt,Ct){var xr=$e(pt,Ct,!1);if(!ut(xr))return xr.get(et)}function ir(et,pt,Ct,xr){$e(Ct,xr,!0).set(et,pt)}function Ft(et,pt){var Ct=[],xr=$e(et,pt,!1);if(ut(xr))return Ct;for(var Kr=fi(xr.keys()),Lr=0;;){var Li=Er(Kr);if(!Li)return Ct.length=Lr,Ct;var vd=ds(Li);try{Ct[Lr]=vd}catch(yd){try{Cr(Kr)}finally{throw yd}}Lr++}}function dt(et,pt,Ct){var xr=$e(pt,Ct,!1);if(ut(xr)||!xr.delete(et))return!1;if(xr.size===0){var Kr=Se.get(pt);ut(Kr)||(Kr.delete(Ct),Kr.size===0&&Se.delete(Kr))}return!0}}function md(ue){var Se=ue.defineMetadata,Pe=ue.hasOwnMetadata,$e=ue.getOwnMetadata,Yt=ue.getOwnMetadataKeys,on=ue.deleteMetadata,ir=new X;return{isProviderFor:function(Ft,dt){var et=ir.get(Ft);return!(ut(et)||!et.has(dt))||!!Yt(Ft,dt).length&&(ut(et)&&(et=new J,ir.set(Ft,et)),et.add(dt),!0)},OrdinaryDefineOwnMetadata:Se,OrdinaryHasOwnMetadata:Pe,OrdinaryGetOwnMetadata:$e,OrdinaryOwnMetadataKeys:Yt,OrdinaryDeleteMetadata:on}}function ca(ue,Se,Pe){var $e=ee.getProvider(ue,Se);if(!ut($e))return $e;if(Pe){if(ee.setProvider(ue,Se,ce))return ce;throw new Error("Illegal state.")}}function Rl(){var ue={},Se=[],Pe=function(){function ir(Ft,dt,et){this._index=0,this._keys=Ft,this._values=dt,this._selector=et}return ir.prototype["@@iterator"]=function(){return this},ir.prototype[C]=function(){return this},ir.prototype.next=function(){var Ft=this._index;if(Ft>=0&&Ft<this._keys.length){var dt=this._selector(this._keys[Ft],this._values[Ft]);return Ft+1>=this._keys.length?(this._index=-1,this._keys=Se,this._values=Se):this._index++,{value:dt,done:!1}}return{value:void 0,done:!0}},ir.prototype.throw=function(Ft){throw this._index>=0&&(this._index=-1,this._keys=Se,this._values=Se),Ft},ir.prototype.return=function(Ft){return this._index>=0&&(this._index=-1,this._keys=Se,this._values=Se),{value:Ft,done:!0}},ir}();return function(){function ir(){this._keys=[],this._values=[],this._cacheKey=ue,this._cacheIndex=-2}return Object.defineProperty(ir.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ir.prototype.has=function(Ft){return this._find(Ft,!1)>=0},ir.prototype.get=function(Ft){var dt=this._find(Ft,!1);return dt>=0?this._values[dt]:void 0},ir.prototype.set=function(Ft,dt){var et=this._find(Ft,!0);return this._values[et]=dt,this},ir.prototype.delete=function(Ft){var dt=this._find(Ft,!1);if(dt>=0){for(var et=this._keys.length,pt=dt+1;pt<et;pt++)this._keys[pt-1]=this._keys[pt],this._values[pt-1]=this._values[pt];return this._keys.length--,this._values.length--,wr(Ft,this._cacheKey)&&(this._cacheKey=ue,this._cacheIndex=-2),!0}return!1},ir.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ue,this._cacheIndex=-2},ir.prototype.keys=function(){return new Pe(this._keys,this._values,$e)},ir.prototype.values=function(){return new Pe(this._keys,this._values,Yt)},ir.prototype.entries=function(){return new Pe(this._keys,this._values,on)},ir.prototype["@@iterator"]=function(){return this.entries()},ir.prototype[C]=function(){return this.entries()},ir.prototype._find=function(Ft,dt){if(!wr(this._cacheKey,Ft)){this._cacheIndex=-1;for(var et=0;et<this._keys.length;et++)if(wr(this._keys[et],Ft)){this._cacheIndex=et;break}}return this._cacheIndex<0&&dt&&(this._cacheIndex=this._keys.length,this._keys.push(Ft),this._values.push(void 0)),this._cacheIndex},ir}();function $e(ir,Ft){return ir}function Yt(ir,Ft){return Ft}function on(ir,Ft){return[ir,Ft]}}function kl(){return function(){function ue(){this._map=new G}return Object.defineProperty(ue.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ue.prototype.has=function(Se){return this._map.has(Se)},ue.prototype.add=function(Se){return this._map.set(Se,Se),this},ue.prototype.delete=function(Se){return this._map.delete(Se)},ue.prototype.clear=function(){this._map.clear()},ue.prototype.keys=function(){return this._map.keys()},ue.prototype.values=function(){return this._map.keys()},ue.prototype.entries=function(){return this._map.entries()},ue.prototype["@@iterator"]=function(){return this.keys()},ue.prototype[C]=function(){return this.keys()},ue}()}function gd(){var ue=16,Se=B.create(),Pe=$e();return function(){function dt(){this._key=$e()}return dt.prototype.has=function(et){var pt=Yt(et,!1);return pt!==void 0&&B.has(pt,this._key)},dt.prototype.get=function(et){var pt=Yt(et,!1);return pt!==void 0?B.get(pt,this._key):void 0},dt.prototype.set=function(et,pt){return Yt(et,!0)[this._key]=pt,this},dt.prototype.delete=function(et){var pt=Yt(et,!1);return pt!==void 0&&delete pt[this._key]},dt.prototype.clear=function(){this._key=$e()},dt}();function $e(){var dt;do dt="@@WeakMap@@"+Ft();while(B.has(Se,dt));return Se[dt]=!0,dt}function Yt(dt,et){if(!w.call(dt,Pe)){if(!et)return;Object.defineProperty(dt,Pe,{value:B.create()})}return dt[Pe]}function on(dt,et){for(var pt=0;pt<et;++pt)dt[pt]=255*Math.random()|0;return dt}function ir(dt){if(typeof Uint8Array=="function"){var et=new Uint8Array(dt);return typeof crypto<"u"?crypto.getRandomValues(et):typeof msCrypto<"u"?msCrypto.getRandomValues(et):on(et,dt),et}return on(new Array(dt),dt)}function Ft(){var dt=ir(ue);dt[6]=79&dt[6]|64,dt[8]=191&dt[8]|128;for(var et="",pt=0;pt<ue;++pt){var Ct=dt[pt];pt!==4&&pt!==6&&pt!==8||(et+="-"),Ct<16&&(et+="0"),et+=Ct.toString(16).toLowerCase()}return et}}function Ac(ue){return ue.__=void 0,delete ue.__,ue}_("decorate",xe),_("metadata",_e),_("defineMetadata",ve),_("hasMetadata",Y),_("hasOwnMetadata",Q),_("getMetadata",re),_("getOwnMetadata",fe),_("getMetadataKeys",Te),_("getOwnMetadataKeys",He),_("deleteMetadata",Le)}(g,p),p.Reflect===void 0&&(p.Reflect=h)})()})(l||(l={}))}},n={};function i(o){var c=n[o];if(c!==void 0)return c.exports;var a=n[o]={id:o,loaded:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=o=>{var c=o&&o.__esModule?()=>o.default:()=>o;return i.d(c,{a:c}),c},i.d=(o,c)=>{for(var a in c)i.o(c,a)&&!i.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:c[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(o,c)=>Object.prototype.hasOwnProperty.call(o,c),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var s={};return(()=>{i.r(s),i.d(s,{BASIC_FULL_HD_LANDSCAPE:()=>Om,BASIC_FULL_HD_PORTRAIT:()=>Yr,BASIC_LANDSCAPE:()=>Sd,BASIC_PORTRAIT:()=>km,BroadcastClientError:()=>Et,BroadcastClientEvents:()=>jn,ConnectionState:()=>vt,Errors:()=>h,InitialLayerPreference:()=>Gl,JitterBufferMinDelay:()=>Si,LOG_LEVEL:()=>Er,LocalStageStream:()=>N0,LocalStageStreamEvents:()=>vo,LogLevels:()=>Er,RemoteStageStream:()=>tf,RemoteStageStreamEvents:()=>tu,STAGE_MAX_AUDIO_BITRATE_KBPS:()=>Bc,STAGE_MAX_AUDIO_BITRATE_KBPS_DEFAULT:()=>Qm,STAGE_MAX_BITRATE:()=>uo,STAGE_MAX_FRAMERATE:()=>Qa,STAGE_MIN_AUDIO_BITRATE_KBPS:()=>Ld,STAGE_MIN_BITRATE:()=>Uc,STAGE_MIN_FRAMERATE:()=>Ih,STANDARD_LANDSCAPE:()=>Hr,STANDARD_PORTRAIT:()=>Pm,Stage:()=>Yh,StageConnectionState:()=>zr,StageErrorCategory:()=>ya,StageErrorCode:()=>kr,StageEvents:()=>Nr,StageLeftReason:()=>Gr,StageParticipantPublishState:()=>On,StageParticipantSubscribeState:()=>ci,StageStream:()=>Rg,StageStreamLayerSelectedReason:()=>ru,StreamType:()=>me,SubscribeType:()=>ki,__version:()=>Bl,create:()=>$m,default:()=>Pn,isSupported:()=>ds});var o={};i.r(o),i.d(o,{fixNegotiationNeeded:()=>Q,shimAddTrackRemoveTrack:()=>ve,shimAddTrackRemoveTrackWithNative:()=>_e,shimGetDisplayMedia:()=>J,shimGetSendersWithDtmf:()=>ee,shimGetStats:()=>ce,shimGetUserMedia:()=>G,shimMediaStream:()=>X,shimOnTrack:()=>q,shimPeerConnection:()=>Y,shimSenderReceiverGetStats:()=>xe});var c={};i.r(c),i.d(c,{shimAddTransceiver:()=>lt,shimCreateAnswer:()=>Lt,shimCreateOffer:()=>Kt,shimGetDisplayMedia:()=>fe,shimGetParameters:()=>Mt,shimGetUserMedia:()=>re,shimOnTrack:()=>Te,shimPeerConnection:()=>He,shimRTCDataChannel:()=>Ke,shimReceiverGetStats:()=>xt,shimRemoveStream:()=>zt,shimSenderGetStats:()=>Le});var a={};i.r(a),i.d(a,{shimAudioContext:()=>Ce,shimCallbacksAPI:()=>qr,shimConstraints:()=>In,shimCreateOfferLegacy:()=>he,shimGetUserMedia:()=>ut,shimLocalStreamsAPI:()=>Wt,shimRTCIceServerUrls:()=>Mi,shimRemoteStreamsAPI:()=>Mr,shimTrackEventTransceiver:()=>Z});var l={};i.r(l),i.d(l,{removeExtmapAllowMixed:()=>wr,shimAddIceCandidateNullOrEmpty:()=>Qn,shimConnectionState:()=>_t,shimMaxMessageSize:()=>De,shimParameterlessSetLocalDescription:()=>fi,shimRTCIceCandidate:()=>de,shimRTCIceCandidateRelayProtocol:()=>Re,shimSendThrowTypeError:()=>rt});var h={};i.r(h),i.d(h,{ADD_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>Ac,ADD_DEVICE_COMPOSITION_MISSING_ERROR:()=>gd,ADD_DEVICE_CONSTRAINTS_ERROR:()=>Pe,ADD_DEVICE_DEVICE_ERROR:()=>Rl,ADD_DEVICE_NAME_EXISTS_ERROR:()=>kl,ADD_DEVICE_NAME_MISSING_ERROR:()=>ue,ADD_DEVICE_UNSUPPORTED:()=>Se,BROADCAST_CONFIGURATION_ERROR:()=>Kr,BROADCAST_ERROR:()=>ah,CAMERA_ERROR:()=>md,CLIENT_INVALID_ERROR:()=>ch,EXCHANGE_POSITION_DEVICE_NOT_FOUND_ERROR:()=>dt,FAILED_TO_ADD_IMAGE_ERROR:()=>et,INGEST_ENDPOINT_TYPE_ERROR:()=>Li,INGEST_ENDPOINT_URL_ERROR:()=>vd,INPUT_ERROR:()=>ca,INVALID_STREAM_KEY:()=>xr,LOGGER_TYPE_ERROR:()=>Cm,LOG_LEVEL_TYPE_ERROR:()=>yd,NETWORK_RECONNECT_CONFIGURATION_ERROR:()=>Tm,NETWORK_RECONNECT_CONFIGURATION_INVALID_TIMEOUT_ERROR:()=>lh,PEER_CONNECTION_ERROR:()=>Ct,PEER_SETUP_ERROR:()=>pt,REMOVE_DEVICE_NOT_FOUND_ERROR:()=>$e,REMOVE_IMAGE_NOT_FOUND_ERROR:()=>Yt,STAGE_TOKEN_TYPE_ERROR:()=>Ol,STAGE_WHIP_OVERRIDE_ERROR:()=>$y,STREAM_CONFIGURATION_ERROR:()=>Lr,STREAM_KEY_INVALID_CHAR_ERROR:()=>uh,UPDATE_VIDEO_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>ir,UPDATE_VIDEO_DEVICE_COMPOSITION_MISSING_ERROR:()=>on,UPDATE_VIDEO_DEVICE_COMPOSITION_NAME_NOT_FOUND_ERROR:()=>Ft});var p={};i.r(p),i.d(p,{BASIC_FULL_HD_LANDSCAPE:()=>Om,BASIC_FULL_HD_PORTRAIT:()=>Yr,BASIC_LANDSCAPE:()=>Sd,BASIC_PORTRAIT:()=>km,BroadcastClientError:()=>Et,BroadcastClientEvents:()=>jn,ConnectionState:()=>vt,Errors:()=>h,LOG_LEVEL:()=>Er,LogLevels:()=>Er,STANDARD_LANDSCAPE:()=>Hr,STANDARD_PORTRAIT:()=>Pm,__version:()=>Bl,create:()=>$m,isSupported:()=>ds});let g=!0,E=!0;function _(x,f,m){const b=x.match(f);return b&&b.length>=m&&parseInt(b[m],10)}function y(x,f,m){if(!x.RTCPeerConnection)return;const b=x.RTCPeerConnection.prototype,T=b.addEventListener;b.addEventListener=function(N,D){if(N!==f)return T.apply(this,arguments);const M=I=>{const F=m(I);F&&(D.handleEvent?D.handleEvent(F):D(F))};return this._eventMap=this._eventMap||{},this._eventMap[f]||(this._eventMap[f]=new Map),this._eventMap[f].set(D,M),T.apply(this,[N,M])};const O=b.removeEventListener;b.removeEventListener=function(N,D){if(N!==f||!this._eventMap||!this._eventMap[f])return O.apply(this,arguments);if(!this._eventMap[f].has(D))return O.apply(this,arguments);const M=this._eventMap[f].get(D);return this._eventMap[f].delete(D),this._eventMap[f].size===0&&delete this._eventMap[f],Object.keys(this._eventMap).length===0&&delete this._eventMap,O.apply(this,[N,M])},Object.defineProperty(b,"on"+f,{get(){return this["_on"+f]},set(N){this["_on"+f]&&(this.removeEventListener(f,this["_on"+f]),delete this["_on"+f]),N&&this.addEventListener(f,this["_on"+f]=N)},enumerable:!0,configurable:!0})}function w(x){return typeof x!="boolean"?new Error("Argument type: "+typeof x+". Please use a boolean."):(g=x,x?"adapter.js logging disabled":"adapter.js logging enabled")}function R(x){return typeof x!="boolean"?new Error("Argument type: "+typeof x+". Please use a boolean."):(E=!x,"adapter.js deprecation warnings "+(x?"disabled":"enabled"))}function S(){if(typeof window=="object"){if(g)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function C(x,f){E&&console.warn(x+" is deprecated, please use "+f+" instead.")}function A(x){return Object.prototype.toString.call(x)==="[object Object]"}function L(x){return A(x)?Object.keys(x).reduce(function(f,m){const b=A(x[m]),T=b?L(x[m]):x[m],O=b&&!Object.keys(T).length;return T===void 0||O?f:Object.assign(f,{[m]:T})},{}):x}function U(x,f,m){f&&!m.has(f.id)&&(m.set(f.id,f),Object.keys(f).forEach(b=>{b.endsWith("Id")?U(x,x.get(f[b]),m):b.endsWith("Ids")&&f[b].forEach(T=>{U(x,x.get(T),m)})}))}function B(x,f,m){const b=m?"outbound-rtp":"inbound-rtp",T=new Map;if(f===null)return T;const O=[];return x.forEach(N=>{N.type==="track"&&N.trackIdentifier===f.id&&O.push(N)}),O.forEach(N=>{x.forEach(D=>{D.type===b&&D.trackId===N.id&&U(x,D,T)})}),T}const z=S;function G(x,f){const m=x&&x.navigator;if(!m.mediaDevices)return;const b=function(N){if(typeof N!="object"||N.mandatory||N.optional)return N;const D={};return Object.keys(N).forEach(M=>{if(M==="require"||M==="advanced"||M==="mediaSource")return;const I=typeof N[M]=="object"?N[M]:{ideal:N[M]};I.exact!==void 0&&typeof I.exact=="number"&&(I.min=I.max=I.exact);const F=function($,W){return $?$+W.charAt(0).toUpperCase()+W.slice(1):W==="deviceId"?"sourceId":W};if(I.ideal!==void 0){D.optional=D.optional||[];let $={};typeof I.ideal=="number"?($[F("min",M)]=I.ideal,D.optional.push($),$={},$[F("max",M)]=I.ideal,D.optional.push($)):($[F("",M)]=I.ideal,D.optional.push($))}I.exact!==void 0&&typeof I.exact!="number"?(D.mandatory=D.mandatory||{},D.mandatory[F("",M)]=I.exact):["min","max"].forEach($=>{I[$]!==void 0&&(D.mandatory=D.mandatory||{},D.mandatory[F($,M)]=I[$])})}),N.advanced&&(D.optional=(D.optional||[]).concat(N.advanced)),D},T=function(N,D){if(f.version>=61)return D(N);if((N=JSON.parse(JSON.stringify(N)))&&typeof N.audio=="object"){const M=function(I,F,$){F in I&&!($ in I)&&(I[$]=I[F],delete I[F])};M((N=JSON.parse(JSON.stringify(N))).audio,"autoGainControl","googAutoGainControl"),M(N.audio,"noiseSuppression","googNoiseSuppression"),N.audio=b(N.audio)}if(N&&typeof N.video=="object"){let M=N.video.facingMode;M=M&&(typeof M=="object"?M:{ideal:M});const I=f.version<66;if(M&&(M.exact==="user"||M.exact==="environment"||M.ideal==="user"||M.ideal==="environment")&&(!m.mediaDevices.getSupportedConstraints||!m.mediaDevices.getSupportedConstraints().facingMode||I)){let F;if(delete N.video.facingMode,M.exact==="environment"||M.ideal==="environment"?F=["back","rear"]:M.exact!=="user"&&M.ideal!=="user"||(F=["front"]),F)return m.mediaDevices.enumerateDevices().then($=>{let W=($=$.filter(ie=>ie.kind==="videoinput")).find(ie=>F.some(be=>ie.label.toLowerCase().includes(be)));return!W&&$.length&&F.includes("back")&&(W=$[$.length-1]),W&&(N.video.deviceId=M.exact?{exact:W.deviceId}:{ideal:W.deviceId}),N.video=b(N.video),z("chrome: "+JSON.stringify(N)),D(N)})}N.video=b(N.video)}return z("chrome: "+JSON.stringify(N)),D(N)},O=function(N){return f.version>=64?N:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[N.name]||N.name,message:N.message,constraint:N.constraint||N.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(m.getUserMedia=(function(N,D,M){T(N,I=>{m.webkitGetUserMedia(I,D,F=>{M&&M(O(F))})})}).bind(m),m.mediaDevices.getUserMedia){const N=m.mediaDevices.getUserMedia.bind(m.mediaDevices);m.mediaDevices.getUserMedia=function(D){return T(D,M=>N(M).then(I=>{if(M.audio&&!I.getAudioTracks().length||M.video&&!I.getVideoTracks().length)throw I.getTracks().forEach(F=>{F.stop()}),new DOMException("","NotFoundError");return I},I=>Promise.reject(O(I))))}}}function J(x,f){x.navigator.mediaDevices&&"getDisplayMedia"in x.navigator.mediaDevices||x.navigator.mediaDevices&&(typeof f=="function"?x.navigator.mediaDevices.getDisplayMedia=function(m){return f(m).then(b=>{const T=m.video&&m.video.width,O=m.video&&m.video.height,N=m.video&&m.video.frameRate;return m.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:b,maxFrameRate:N||3}},T&&(m.video.mandatory.maxWidth=T),O&&(m.video.mandatory.maxHeight=O),x.navigator.mediaDevices.getUserMedia(m)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function X(x){x.MediaStream=x.MediaStream||x.webkitMediaStream}function q(x){if(typeof x=="object"&&x.RTCPeerConnection&&!("ontrack"in x.RTCPeerConnection.prototype)){Object.defineProperty(x.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(m){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=m)},enumerable:!0,configurable:!0});const f=x.RTCPeerConnection.prototype.setRemoteDescription;x.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=m=>{m.stream.addEventListener("addtrack",b=>{let T;T=x.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.track.id):{track:b.track};const O=new Event("track");O.track=b.track,O.receiver=T,O.transceiver={receiver:T},O.streams=[m.stream],this.dispatchEvent(O)}),m.stream.getTracks().forEach(b=>{let T;T=x.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.id):{track:b};const O=new Event("track");O.track=b,O.receiver=T,O.transceiver={receiver:T},O.streams=[m.stream],this.dispatchEvent(O)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}else y(x,"track",f=>(f.transceiver||Object.defineProperty(f,"transceiver",{value:{receiver:f.receiver}}),f))}function ee(x){if(typeof x=="object"&&x.RTCPeerConnection&&!("getSenders"in x.RTCPeerConnection.prototype)&&"createDTMFSender"in x.RTCPeerConnection.prototype){const f=function(T,O){return{track:O,get dtmf(){return this._dtmf===void 0&&(O.kind==="audio"?this._dtmf=T.createDTMFSender(O):this._dtmf=null),this._dtmf},_pc:T}};if(!x.RTCPeerConnection.prototype.getSenders){x.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const T=x.RTCPeerConnection.prototype.addTrack;x.RTCPeerConnection.prototype.addTrack=function(N,D){let M=T.apply(this,arguments);return M||(M=f(this,N),this._senders.push(M)),M};const O=x.RTCPeerConnection.prototype.removeTrack;x.RTCPeerConnection.prototype.removeTrack=function(N){O.apply(this,arguments);const D=this._senders.indexOf(N);D!==-1&&this._senders.splice(D,1)}}const m=x.RTCPeerConnection.prototype.addStream;x.RTCPeerConnection.prototype.addStream=function(T){this._senders=this._senders||[],m.apply(this,[T]),T.getTracks().forEach(O=>{this._senders.push(f(this,O))})};const b=x.RTCPeerConnection.prototype.removeStream;x.RTCPeerConnection.prototype.removeStream=function(T){this._senders=this._senders||[],b.apply(this,[T]),T.getTracks().forEach(O=>{const N=this._senders.find(D=>D.track===O);N&&this._senders.splice(this._senders.indexOf(N),1)})}}else if(typeof x=="object"&&x.RTCPeerConnection&&"getSenders"in x.RTCPeerConnection.prototype&&"createDTMFSender"in x.RTCPeerConnection.prototype&&x.RTCRtpSender&&!("dtmf"in x.RTCRtpSender.prototype)){const f=x.RTCPeerConnection.prototype.getSenders;x.RTCPeerConnection.prototype.getSenders=function(){const m=f.apply(this,[]);return m.forEach(b=>b._pc=this),m},Object.defineProperty(x.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ce(x){if(!x.RTCPeerConnection)return;const f=x.RTCPeerConnection.prototype.getStats;x.RTCPeerConnection.prototype.getStats=function(){const[m,b,T]=arguments;if(arguments.length>0&&typeof m=="function")return f.apply(this,arguments);if(f.length===0&&(arguments.length===0||typeof m!="function"))return f.apply(this,[]);const O=function(D){const M={};return D.result().forEach(I=>{const F={id:I.id,timestamp:I.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[I.type]||I.type};I.names().forEach($=>{F[$]=I.stat($)}),M[F.id]=F}),M},N=function(D){return new Map(Object.keys(D).map(M=>[M,D[M]]))};if(arguments.length>=2){const D=function(M){b(N(O(M)))};return f.apply(this,[D,m])}return new Promise((D,M)=>{f.apply(this,[function(I){D(N(O(I)))},M])}).then(b,T)}}function xe(x){if(!(typeof x=="object"&&x.RTCPeerConnection&&x.RTCRtpSender&&x.RTCRtpReceiver))return;if(!("getStats"in x.RTCRtpSender.prototype)){const m=x.RTCPeerConnection.prototype.getSenders;m&&(x.RTCPeerConnection.prototype.getSenders=function(){const T=m.apply(this,[]);return T.forEach(O=>O._pc=this),T});const b=x.RTCPeerConnection.prototype.addTrack;b&&(x.RTCPeerConnection.prototype.addTrack=function(){const T=b.apply(this,arguments);return T._pc=this,T}),x.RTCRtpSender.prototype.getStats=function(){const T=this;return this._pc.getStats().then(O=>B(O,T.track,!0))}}if(!("getStats"in x.RTCRtpReceiver.prototype)){const m=x.RTCPeerConnection.prototype.getReceivers;m&&(x.RTCPeerConnection.prototype.getReceivers=function(){const b=m.apply(this,[]);return b.forEach(T=>T._pc=this),b}),y(x,"track",b=>(b.receiver._pc=b.srcElement,b)),x.RTCRtpReceiver.prototype.getStats=function(){const b=this;return this._pc.getStats().then(T=>B(T,b.track,!1))}}if(!("getStats"in x.RTCRtpSender.prototype)||!("getStats"in x.RTCRtpReceiver.prototype))return;const f=x.RTCPeerConnection.prototype.getStats;x.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof x.MediaStreamTrack){const m=arguments[0];let b,T,O;return this.getSenders().forEach(N=>{N.track===m&&(b?O=!0:b=N)}),this.getReceivers().forEach(N=>(N.track===m&&(T?O=!0:T=N),N.track===m)),O||b&&T?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):b?b.getStats():T?T.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return f.apply(this,arguments)}}function _e(x){x.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(O=>this._shimmedLocalStreams[O][0])};const f=x.RTCPeerConnection.prototype.addTrack;x.RTCPeerConnection.prototype.addTrack=function(O,N){if(!N)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const D=f.apply(this,arguments);return this._shimmedLocalStreams[N.id]?this._shimmedLocalStreams[N.id].indexOf(D)===-1&&this._shimmedLocalStreams[N.id].push(D):this._shimmedLocalStreams[N.id]=[N,D],D};const m=x.RTCPeerConnection.prototype.addStream;x.RTCPeerConnection.prototype.addStream=function(O){this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(M=>{if(this.getSenders().find(I=>I.track===M))throw new DOMException("Track already exists.","InvalidAccessError")});const N=this.getSenders();m.apply(this,arguments);const D=this.getSenders().filter(M=>N.indexOf(M)===-1);this._shimmedLocalStreams[O.id]=[O].concat(D)};const b=x.RTCPeerConnection.prototype.removeStream;x.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],b.apply(this,arguments)};const T=x.RTCPeerConnection.prototype.removeTrack;x.RTCPeerConnection.prototype.removeTrack=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(N=>{const D=this._shimmedLocalStreams[N].indexOf(O);D!==-1&&this._shimmedLocalStreams[N].splice(D,1),this._shimmedLocalStreams[N].length===1&&delete this._shimmedLocalStreams[N]}),T.apply(this,arguments)}}function ve(x,f){if(!x.RTCPeerConnection)return;if(x.RTCPeerConnection.prototype.addTrack&&f.version>=65)return _e(x);const m=x.RTCPeerConnection.prototype.getLocalStreams;x.RTCPeerConnection.prototype.getLocalStreams=function(){const M=m.apply(this);return this._reverseStreams=this._reverseStreams||{},M.map(I=>this._reverseStreams[I.id])};const b=x.RTCPeerConnection.prototype.addStream;x.RTCPeerConnection.prototype.addStream=function(M){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},M.getTracks().forEach(I=>{if(this.getSenders().find(F=>F.track===I))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[M.id]){const I=new x.MediaStream(M.getTracks());this._streams[M.id]=I,this._reverseStreams[I.id]=M,M=I}b.apply(this,[M])};const T=x.RTCPeerConnection.prototype.removeStream;function O(M,I){let F=I.sdp;return Object.keys(M._reverseStreams||[]).forEach($=>{const W=M._reverseStreams[$],ie=M._streams[W.id];F=F.replace(new RegExp(ie.id,"g"),W.id)}),new RTCSessionDescription({type:I.type,sdp:F})}x.RTCPeerConnection.prototype.removeStream=function(M){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},T.apply(this,[this._streams[M.id]||M]),delete this._reverseStreams[this._streams[M.id]?this._streams[M.id].id:M.id],delete this._streams[M.id]},x.RTCPeerConnection.prototype.addTrack=function(M,I){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const F=[].slice.call(arguments,1);if(F.length!==1||!F[0].getTracks().find(W=>W===M))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(W=>W.track===M))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const $=this._streams[I.id];if($)$.addTrack(M),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const W=new x.MediaStream([M]);this._streams[I.id]=W,this._reverseStreams[W.id]=I,this.addStream(W)}return this.getSenders().find(W=>W.track===M)},["createOffer","createAnswer"].forEach(function(M){const I=x.RTCPeerConnection.prototype[M],F={[M](){const $=arguments;return arguments.length&&typeof arguments[0]=="function"?I.apply(this,[W=>{const ie=O(this,W);$[0].apply(null,[ie])},W=>{$[1]&&$[1].apply(null,W)},arguments[2]]):I.apply(this,arguments).then(W=>O(this,W))}};x.RTCPeerConnection.prototype[M]=F[M]});const N=x.RTCPeerConnection.prototype.setLocalDescription;x.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(M,I){let F=I.sdp;return Object.keys(M._reverseStreams||[]).forEach($=>{const W=M._reverseStreams[$],ie=M._streams[W.id];F=F.replace(new RegExp(W.id,"g"),ie.id)}),new RTCSessionDescription({type:I.type,sdp:F})}(this,arguments[0]),N.apply(this,arguments)):N.apply(this,arguments)};const D=Object.getOwnPropertyDescriptor(x.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(x.RTCPeerConnection.prototype,"localDescription",{get(){const M=D.get.apply(this);return M.type===""?M:O(this,M)}}),x.RTCPeerConnection.prototype.removeTrack=function(M){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!M._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(M._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let I;this._streams=this._streams||{},Object.keys(this._streams).forEach(F=>{this._streams[F].getTracks().find($=>M.track===$)&&(I=this._streams[F])}),I&&(I.getTracks().length===1?this.removeStream(this._reverseStreams[I.id]):I.removeTrack(M.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Y(x,f){!x.RTCPeerConnection&&x.webkitRTCPeerConnection&&(x.RTCPeerConnection=x.webkitRTCPeerConnection),x.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){const b=x.RTCPeerConnection.prototype[m],T={[m](){return arguments[0]=new(m==="addIceCandidate"?x.RTCIceCandidate:x.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};x.RTCPeerConnection.prototype[m]=T[m]})}function Q(x,f){y(x,"negotiationneeded",m=>{const b=m.target;if(!(f.version<72||b.getConfiguration&&b.getConfiguration().sdpSemantics==="plan-b")||b.signalingState==="stable")return m})}function re(x,f){const m=x&&x.navigator,b=x&&x.MediaStreamTrack;if(m.getUserMedia=function(T,O,N){C("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),m.mediaDevices.getUserMedia(T).then(O,N)},!(f.version>55&&"autoGainControl"in m.mediaDevices.getSupportedConstraints())){const T=function(N,D,M){D in N&&!(M in N)&&(N[M]=N[D],delete N[D])},O=m.mediaDevices.getUserMedia.bind(m.mediaDevices);if(m.mediaDevices.getUserMedia=function(N){return typeof N=="object"&&typeof N.audio=="object"&&(N=JSON.parse(JSON.stringify(N)),T(N.audio,"autoGainControl","mozAutoGainControl"),T(N.audio,"noiseSuppression","mozNoiseSuppression")),O(N)},b&&b.prototype.getSettings){const N=b.prototype.getSettings;b.prototype.getSettings=function(){const D=N.apply(this,arguments);return T(D,"mozAutoGainControl","autoGainControl"),T(D,"mozNoiseSuppression","noiseSuppression"),D}}if(b&&b.prototype.applyConstraints){const N=b.prototype.applyConstraints;b.prototype.applyConstraints=function(D){return this.kind==="audio"&&typeof D=="object"&&(D=JSON.parse(JSON.stringify(D)),T(D,"autoGainControl","mozAutoGainControl"),T(D,"noiseSuppression","mozNoiseSuppression")),N.apply(this,[D])}}}}function fe(x,f){x.navigator.mediaDevices&&"getDisplayMedia"in x.navigator.mediaDevices||x.navigator.mediaDevices&&(x.navigator.mediaDevices.getDisplayMedia=function(m){if(!m||!m.video){const b=new DOMException("getDisplayMedia without video constraints is undefined");return b.name="NotFoundError",b.code=8,Promise.reject(b)}return m.video===!0?m.video={mediaSource:f}:m.video.mediaSource=f,x.navigator.mediaDevices.getUserMedia(m)})}function Te(x){typeof x=="object"&&x.RTCTrackEvent&&"receiver"in x.RTCTrackEvent.prototype&&!("transceiver"in x.RTCTrackEvent.prototype)&&Object.defineProperty(x.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function He(x,f){if(typeof x!="object"||!x.RTCPeerConnection&&!x.mozRTCPeerConnection)return;!x.RTCPeerConnection&&x.mozRTCPeerConnection&&(x.RTCPeerConnection=x.mozRTCPeerConnection),f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(T){const O=x.RTCPeerConnection.prototype[T],N={[T](){return arguments[0]=new(T==="addIceCandidate"?x.RTCIceCandidate:x.RTCSessionDescription)(arguments[0]),O.apply(this,arguments)}};x.RTCPeerConnection.prototype[T]=N[T]});const m={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},b=x.RTCPeerConnection.prototype.getStats;x.RTCPeerConnection.prototype.getStats=function(){const[T,O,N]=arguments;return b.apply(this,[T||null]).then(D=>{if(f.version<53&&!O)try{D.forEach(M=>{M.type=m[M.type]||M.type})}catch(M){if(M.name!=="TypeError")throw M;D.forEach((I,F)=>{D.set(F,Object.assign({},I,{type:m[I.type]||I.type}))})}return D}).then(O,N)}}function Le(x){if(typeof x!="object"||!x.RTCPeerConnection||!x.RTCRtpSender||x.RTCRtpSender&&"getStats"in x.RTCRtpSender.prototype)return;const f=x.RTCPeerConnection.prototype.getSenders;f&&(x.RTCPeerConnection.prototype.getSenders=function(){const b=f.apply(this,[]);return b.forEach(T=>T._pc=this),b});const m=x.RTCPeerConnection.prototype.addTrack;m&&(x.RTCPeerConnection.prototype.addTrack=function(){const b=m.apply(this,arguments);return b._pc=this,b}),x.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function xt(x){if(typeof x!="object"||!x.RTCPeerConnection||!x.RTCRtpSender||x.RTCRtpSender&&"getStats"in x.RTCRtpReceiver.prototype)return;const f=x.RTCPeerConnection.prototype.getReceivers;f&&(x.RTCPeerConnection.prototype.getReceivers=function(){const m=f.apply(this,[]);return m.forEach(b=>b._pc=this),m}),y(x,"track",m=>(m.receiver._pc=m.srcElement,m)),x.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function zt(x){x.RTCPeerConnection&&!("removeStream"in x.RTCPeerConnection.prototype)&&(x.RTCPeerConnection.prototype.removeStream=function(f){C("removeStream","removeTrack"),this.getSenders().forEach(m=>{m.track&&f.getTracks().includes(m.track)&&this.removeTrack(m)})})}function Ke(x){x.DataChannel&&!x.RTCDataChannel&&(x.RTCDataChannel=x.DataChannel)}function lt(x){if(typeof x!="object"||!x.RTCPeerConnection)return;const f=x.RTCPeerConnection.prototype.addTransceiver;f&&(x.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let m=arguments[1]&&arguments[1].sendEncodings;m===void 0&&(m=[]),m=[...m];const b=m.length>0;b&&m.forEach(O=>{if("rid"in O&&!/^[a-z0-9]{0,16}$/i.test(O.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in O&&!(parseFloat(O.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in O&&!(parseFloat(O.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const T=f.apply(this,arguments);if(b){const{sender:O}=T,N=O.getParameters();(!("encodings"in N)||N.encodings.length===1&&Object.keys(N.encodings[0]).length===0)&&(N.encodings=m,O.sendEncodings=m,this.setParametersPromises.push(O.setParameters(N).then(()=>{delete O.sendEncodings}).catch(()=>{delete O.sendEncodings})))}return T})}function Mt(x){if(typeof x!="object"||!x.RTCRtpSender)return;const f=x.RTCRtpSender.prototype.getParameters;f&&(x.RTCRtpSender.prototype.getParameters=function(){const m=f.apply(this,arguments);return"encodings"in m||(m.encodings=[].concat(this.sendEncodings||[{}])),m})}function Kt(x){if(typeof x!="object"||!x.RTCPeerConnection)return;const f=x.RTCPeerConnection.prototype.createOffer;x.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>f.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):f.apply(this,arguments)}}function Lt(x){if(typeof x!="object"||!x.RTCPeerConnection)return;const f=x.RTCPeerConnection.prototype.createAnswer;x.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>f.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):f.apply(this,arguments)}}function Wt(x){if(typeof x=="object"&&x.RTCPeerConnection){if("getLocalStreams"in x.RTCPeerConnection.prototype||(x.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in x.RTCPeerConnection.prototype)){const f=x.RTCPeerConnection.prototype.addTrack;x.RTCPeerConnection.prototype.addStream=function(m){this._localStreams||(this._localStreams=[]),this._localStreams.includes(m)||this._localStreams.push(m),m.getAudioTracks().forEach(b=>f.call(this,b,m)),m.getVideoTracks().forEach(b=>f.call(this,b,m))},x.RTCPeerConnection.prototype.addTrack=function(m,...b){return b&&b.forEach(T=>{this._localStreams?this._localStreams.includes(T)||this._localStreams.push(T):this._localStreams=[T]}),f.apply(this,arguments)}}"removeStream"in x.RTCPeerConnection.prototype||(x.RTCPeerConnection.prototype.removeStream=function(f){this._localStreams||(this._localStreams=[]);const m=this._localStreams.indexOf(f);if(m===-1)return;this._localStreams.splice(m,1);const b=f.getTracks();this.getSenders().forEach(T=>{b.includes(T.track)&&this.removeTrack(T)})})}}function Mr(x){if(typeof x=="object"&&x.RTCPeerConnection&&("getRemoteStreams"in x.RTCPeerConnection.prototype||(x.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in x.RTCPeerConnection.prototype))){Object.defineProperty(x.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(m){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=m),this.addEventListener("track",this._onaddstreampoly=b=>{b.streams.forEach(T=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(T))return;this._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,this.dispatchEvent(O)})})}});const f=x.RTCPeerConnection.prototype.setRemoteDescription;x.RTCPeerConnection.prototype.setRemoteDescription=function(){const m=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(T=>{if(m._remoteStreams||(m._remoteStreams=[]),m._remoteStreams.indexOf(T)>=0)return;m._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,m.dispatchEvent(O)})}),f.apply(m,arguments)}}}function qr(x){if(typeof x!="object"||!x.RTCPeerConnection)return;const f=x.RTCPeerConnection.prototype,m=f.createOffer,b=f.createAnswer,T=f.setLocalDescription,O=f.setRemoteDescription,N=f.addIceCandidate;f.createOffer=function(M,I){const F=arguments.length>=2?arguments[2]:arguments[0],$=m.apply(this,[F]);return I?($.then(M,I),Promise.resolve()):$},f.createAnswer=function(M,I){const F=arguments.length>=2?arguments[2]:arguments[0],$=b.apply(this,[F]);return I?($.then(M,I),Promise.resolve()):$};let D=function(M,I,F){const $=T.apply(this,[M]);return F?($.then(I,F),Promise.resolve()):$};f.setLocalDescription=D,D=function(M,I,F){const $=O.apply(this,[M]);return F?($.then(I,F),Promise.resolve()):$},f.setRemoteDescription=D,D=function(M,I,F){const $=N.apply(this,[M]);return F?($.then(I,F),Promise.resolve()):$},f.addIceCandidate=D}function ut(x){const f=x&&x.navigator;if(f.mediaDevices&&f.mediaDevices.getUserMedia){const m=f.mediaDevices,b=m.getUserMedia.bind(m);f.mediaDevices.getUserMedia=T=>b(In(T))}!f.getUserMedia&&f.mediaDevices&&f.mediaDevices.getUserMedia&&(f.getUserMedia=(function(m,b,T){f.mediaDevices.getUserMedia(m).then(b,T)}).bind(f))}function In(x){return x&&x.video!==void 0?Object.assign({},x,{video:L(x.video)}):x}function Mi(x){if(!x.RTCPeerConnection)return;const f=x.RTCPeerConnection;x.RTCPeerConnection=function(m,b){if(m&&m.iceServers){const T=[];for(let O=0;O<m.iceServers.length;O++){let N=m.iceServers[O];N.urls===void 0&&N.url?(C("RTCIceServer.url","RTCIceServer.urls"),N=JSON.parse(JSON.stringify(N)),N.urls=N.url,delete N.url,T.push(N)):T.push(m.iceServers[O])}m.iceServers=T}return new f(m,b)},x.RTCPeerConnection.prototype=f.prototype,"generateCertificate"in f&&Object.defineProperty(x.RTCPeerConnection,"generateCertificate",{get:()=>f.generateCertificate})}function Z(x){typeof x=="object"&&x.RTCTrackEvent&&"receiver"in x.RTCTrackEvent.prototype&&!("transceiver"in x.RTCTrackEvent.prototype)&&Object.defineProperty(x.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function he(x){const f=x.RTCPeerConnection.prototype.createOffer;x.RTCPeerConnection.prototype.createOffer=function(m){if(m){m.offerToReceiveAudio!==void 0&&(m.offerToReceiveAudio=!!m.offerToReceiveAudio);const b=this.getTransceivers().find(O=>O.receiver.track.kind==="audio");m.offerToReceiveAudio===!1&&b?b.direction==="sendrecv"?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":b.direction==="recvonly"&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):m.offerToReceiveAudio!==!0||b||this.addTransceiver("audio",{direction:"recvonly"}),m.offerToReceiveVideo!==void 0&&(m.offerToReceiveVideo=!!m.offerToReceiveVideo);const T=this.getTransceivers().find(O=>O.receiver.track.kind==="video");m.offerToReceiveVideo===!1&&T?T.direction==="sendrecv"?T.setDirection?T.setDirection("sendonly"):T.direction="sendonly":T.direction==="recvonly"&&(T.setDirection?T.setDirection("inactive"):T.direction="inactive"):m.offerToReceiveVideo!==!0||T||this.addTransceiver("video",{direction:"recvonly"})}return f.apply(this,arguments)}}function Ce(x){typeof x!="object"||x.AudioContext||(x.AudioContext=x.webkitAudioContext)}var Ye=i(7963),ne=i.n(Ye);function de(x){if(!x.RTCIceCandidate||x.RTCIceCandidate&&"foundation"in x.RTCIceCandidate.prototype)return;const f=x.RTCIceCandidate;x.RTCIceCandidate=function(m){if(typeof m=="object"&&m.candidate&&m.candidate.indexOf("a=")===0&&((m=JSON.parse(JSON.stringify(m))).candidate=m.candidate.substring(2)),m.candidate&&m.candidate.length){const b=new f(m),T=ne().parseCandidate(m.candidate);for(const O in T)O in b||Object.defineProperty(b,O,{value:T[O]});return b.toJSON=function(){return{candidate:b.candidate,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex,usernameFragment:b.usernameFragment}},b}return new f(m)},x.RTCIceCandidate.prototype=f.prototype,y(x,"icecandidate",m=>(m.candidate&&Object.defineProperty(m,"candidate",{value:new x.RTCIceCandidate(m.candidate),writable:"false"}),m))}function Re(x){!x.RTCIceCandidate||x.RTCIceCandidate&&"relayProtocol"in x.RTCIceCandidate.prototype||y(x,"icecandidate",f=>{if(f.candidate){const m=ne().parseCandidate(f.candidate.candidate);m.type==="relay"&&(f.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[m.priority>>24])}return f})}function De(x,f){if(!x.RTCPeerConnection)return;"sctp"in x.RTCPeerConnection.prototype||Object.defineProperty(x.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const m=x.RTCPeerConnection.prototype.setRemoteDescription;x.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,f.browser==="chrome"&&f.version>=76){const{sdpSemantics:b}=this.getConfiguration();b==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(b){if(!b||!b.sdp)return!1;const T=ne().splitSections(b.sdp);return T.shift(),T.some(O=>{const N=ne().parseMLine(O);return N&&N.kind==="application"&&N.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const b=function(M){const I=M.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(I===null||I.length<2)return-1;const F=parseInt(I[1],10);return F!=F?-1:F}(arguments[0]),T=function(M){let I=65536;return f.browser==="firefox"&&(I=f.version<57?M===-1?16384:2147483637:f.version<60?f.version===57?65535:65536:2147483637),I}(b),O=function(M,I){let F=65536;f.browser==="firefox"&&f.version===57&&(F=65535);const $=ne().matchPrefix(M.sdp,"a=max-message-size:");return $.length>0?F=parseInt($[0].substring(19),10):f.browser==="firefox"&&I!==-1&&(F=2147483637),F}(arguments[0],b);let N;N=T===0&&O===0?Number.POSITIVE_INFINITY:T===0||O===0?Math.max(T,O):Math.min(T,O);const D={};Object.defineProperty(D,"maxMessageSize",{get:()=>N}),this._sctp=D}return m.apply(this,arguments)}}function rt(x){if(!x.RTCPeerConnection||!("createDataChannel"in x.RTCPeerConnection.prototype))return;function f(b,T){const O=b.send;b.send=function(){const N=arguments[0],D=N.length||N.size||N.byteLength;if(b.readyState==="open"&&T.sctp&&D>T.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+T.sctp.maxMessageSize+" bytes)");return O.apply(b,arguments)}}const m=x.RTCPeerConnection.prototype.createDataChannel;x.RTCPeerConnection.prototype.createDataChannel=function(){const b=m.apply(this,arguments);return f(b,this),b},y(x,"datachannel",b=>(f(b.channel,b.target),b))}function _t(x){if(!x.RTCPeerConnection||"connectionState"in x.RTCPeerConnection.prototype)return;const f=x.RTCPeerConnection.prototype;Object.defineProperty(f,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(f,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(m){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),m&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=m)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(m=>{const b=f[m];f[m]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=T=>{const O=T.target;if(O._lastConnectionState!==O.connectionState){O._lastConnectionState=O.connectionState;const N=new Event("connectionstatechange",T);O.dispatchEvent(N)}return T},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),b.apply(this,arguments)}})}function wr(x,f){if(!x.RTCPeerConnection||f.browser==="chrome"&&f.version>=71||f.browser==="safari"&&f.version>=605)return;const m=x.RTCPeerConnection.prototype.setRemoteDescription;x.RTCPeerConnection.prototype.setRemoteDescription=function(b){if(b&&b.sdp&&b.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const T=b.sdp.split(`
`).filter(O=>O.trim()!=="a=extmap-allow-mixed").join(`
`);x.RTCSessionDescription&&b instanceof x.RTCSessionDescription?arguments[0]=new x.RTCSessionDescription({type:b.type,sdp:T}):b.sdp=T}return m.apply(this,arguments)}}function Qn(x,f){if(!x.RTCPeerConnection||!x.RTCPeerConnection.prototype)return;const m=x.RTCPeerConnection.prototype.addIceCandidate;m&&m.length!==0&&(x.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(f.browser==="chrome"&&f.version<78||f.browser==="firefox"&&f.version<68||f.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():m.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function fi(x,f){if(!x.RTCPeerConnection||!x.RTCPeerConnection.prototype)return;const m=x.RTCPeerConnection.prototype.setLocalDescription;m&&m.length!==0&&(x.RTCPeerConnection.prototype.setLocalDescription=function(){let b=arguments[0]||{};if(typeof b!="object"||b.type&&b.sdp)return m.apply(this,arguments);if(b={type:b.type,sdp:b.sdp},!b.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":b.type="offer";break;default:b.type="answer"}return b.sdp||b.type!=="offer"&&b.type!=="answer"?m.apply(this,[b]):(b.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(T=>m.apply(this,[T]))})}(function({window:x}={},f={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const m=S,b=function(O){const N={browser:null,version:null};if(O===void 0||!O.navigator||!O.navigator.userAgent)return N.browser="Not a browser.",N;const{navigator:D}=O;if(D.mozGetUserMedia)N.browser="firefox",N.version=_(D.userAgent,/Firefox\/(\d+)\./,1);else if(D.webkitGetUserMedia||O.isSecureContext===!1&&O.webkitRTCPeerConnection)N.browser="chrome",N.version=_(D.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!O.RTCPeerConnection||!D.userAgent.match(/AppleWebKit\/(\d+)\./))return N.browser="Not a supported browser.",N;N.browser="safari",N.version=_(D.userAgent,/AppleWebKit\/(\d+)\./,1),N.supportsUnifiedPlan=O.RTCRtpTransceiver&&"currentDirection"in O.RTCRtpTransceiver.prototype}return N}(x),T={browserDetails:b,commonShim:l,extractVersion:_,disableLog:w,disableWarnings:R,sdp:Ye};switch(b.browser){case"chrome":if(!o||!Y||!f.shimChrome)return m("Chrome shim is not included in this adapter release."),T;if(b.version===null)return m("Chrome shim can not determine version, not shimming."),T;m("adapter.js shimming chrome."),T.browserShim=o,Qn(x,b),fi(x),G(x,b),X(x),Y(x,b),q(x),ve(x,b),ee(x),ce(x),xe(x),Q(x,b),de(x),Re(x),_t(x),De(x,b),rt(x),wr(x,b);break;case"firefox":if(!c||!He||!f.shimFirefox)return m("Firefox shim is not included in this adapter release."),T;m("adapter.js shimming firefox."),T.browserShim=c,Qn(x,b),fi(x),re(x,b),He(x,b),Te(x),zt(x),Le(x),xt(x),Ke(x),lt(x),Mt(x),Kt(x),Lt(x),de(x),_t(x),De(x,b),rt(x);break;case"safari":if(!a||!f.shimSafari)return m("Safari shim is not included in this adapter release."),T;m("adapter.js shimming safari."),T.browserShim=a,Qn(x,b),fi(x),Mi(x),he(x),qr(x),Wt(x),Mr(x),Z(x),ut(x),Ce(x),de(x),Re(x),De(x,b),rt(x),wr(x,b);break;default:m("Unsupported browser!")}})({window:typeof window>"u"?void 0:window}),i(8630);const ds=()=>typeof RTCPeerConnection=="function";var Er,Cr;(function(x){x[x.TRACE=0]="TRACE",x[x.DEBUG=1]="DEBUG",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT"})(Er||(Er={})),function(x){x.TIME="Time",x.WEBRTC="WebRTC",x.EMITTER="Emitter",x.MEDIA="Media",x.SUBSCRIPTION="StageSubscription",x.PUBLICATION="StagePublication",x.CONNECTION="StageConnection",x.SOCKET="StageSocket",x.BROADCAST_STAGE_CLIENT="BroadcastStageClient",x.STAGE="Stage",x.REMOTE_PARTICIPANT="RemoteParticipant",x.LOCAL_PARTICIPANT="LocalParticipant",x.CONFIGURATION="Configuration",x.REMOTE_PLAYBACK="RemotePlaybackController",x.REMOTE_STAGE_STREAM="RemoteStageStream"}(Cr||(Cr={}));const aa=12e4,Tl=3e5;class Et extends Error{constructor({name:f,message:m,code:b,details:T,cause:O,params:N}){super(m),Error.captureStackTrace&&Error.captureStackTrace(this,Et),this.name=f||"BroadcastClientError",this.message=m,this.code=b,this.details=T,this.cause=O,this.params=N}}const ah={name:"BroadcastError",code:1e3,message:"Unable to broadcast"},md={name:"CameraError",code:2e3,message:"Camera could not be captured"},ca={name:"InputError",code:3e3,message:"Input could not be attached"},Rl={name:"AddDeviceError",code:4e3,message:"Device is missing"},kl={name:"AddDeviceNameExistsError",code:4001,message:"Name is already registered"},gd={name:"AddDeviceCompositionMissingError",code:4002,message:"VideoComposition is missing"},Ac={name:"AddDeviceCompositionIndexMissingError",code:4003,message:`VideoComposition's "index" property is missing`},ue={name:"AddDeviceNameMissingError",code:4004,message:"Name property is missing"},Se={name:"AddDeviceUnsupported",code:4005,message:"Unsupported device"},Pe={name:"AddDeviceConstraintsError",code:4006,message:"Constraints error"},$e={name:"RemoveDeviceNotFoundError",code:5e3,message:"Device not found"},Yt={name:"RemoveImageNotFoundError",code:6e3,message:"Image not found"},on={name:"UpdateVideoDeviceCompositionMissingError",code:7e3,message:"VideoComposition is missing"},ir={name:"UpdateVideoDeviceCompositionIndexMissingError",code:7001,message:`VideoComposition's "index" property is missing`},Ft={name:"UpdateVideoDeviceCompositionNameMissingError",code:7002,message:"Video device with that name is not found"},dt={name:"ExchangePositionDeviceNotFoundError",code:8e3,message:"Device with that name is not found"},et={name:"FailedToAddImageError",code:9e3,message:"Failed to add image"},pt={name:"PeerSetupError",code:1e4,message:"Unexpected return value from setup request"},Ct={name:"PeerConnectionError",code:10001,message:"Peer connection has failed."},xr={name:"InvalidStreamKey",code:10003,message:"Invalid Stream Key."},Kr={name:"BroadcastConfigurationError",code:11e3,message:"Error when configuring broadcast client"},Lr={name:"StreamConfigurationError",code:12e3,message:"Error when configuring stream"},Li={name:"IngestEndpointTypeError",code:13e3,message:"Ingest endpoint must be a string"},vd={name:"IngestEndpointUrlError",code:13001,message:"Ingest endpoint must be a valid https or rtmps URL"},yd={name:"LogLevelTypeError",code:14e3,message:"Log Level must be a valid integer between [0..5]"},Cm={name:"LoggerTypeError",code:15e3,message:"Logger must be an object"},ch={name:"ClientInvalidError",code:16e3,message:"Client is no longer valid, possibly due to delete() invocation."},Tm={name:"NetworkReconnectConfigurationError",code:17e3,message:"Error when configuring network reconnect"},lh={name:"NetworkReconnectConfigurationInvalidTimeoutError",code:17001,message:"Network reconnect timeout value must be a number between [10000, 300000]"},uh={name:"StreamKeyInvalidCharError",code:18e3,message:"Streamkey must contain only [A-Za-z0-9_-] characters"},Ol={name:"StageTokenTypeError",code:19e3,message:"Stage token must be a string"},$y={name:"StageWhipUrlOverrideError",code:19001,message:"Stage WHIP override URL must be a string starting with http"};var Pl,bd,Nl,Al,Il,xd,_d,dh,Rm,Ms=function(x,f,m,b){if(typeof f=="function"?x!==f||!0:!f.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?b:m==="a"?b.call(x):b?b.value:f.get(x)},Lo=function(x,f,m,b,T){if(typeof f=="function"?x!==f||!0:!f.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f.set(x,m),m};const jl=1920,Vy=1080,mw=Er.ERROR,Sd={maxResolution:{width:852,height:480},maxFramerate:30,maxBitrate:1500},km={maxResolution:{width:480,height:852},maxFramerate:30,maxBitrate:1500},Om={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:3500},Yr={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:3500},Hr={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:8500},Pm={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:8500},Nm={reconnect:!1,timeout:aa};function zy(x){var f,m;if(typeof x!="string"&&x!==void 0)throw new Et(Li);if(x){if(x.startsWith("https"))return x;{const b=/(?<protocol>(rtmps|https):\/\/)?(?<id>.+)\.(?<environment>(?=\S*['-])([a-zA-Z'-]+))\.live-video\.net.*/.exec(x);if(((f=b==null?void 0:b.groups)===null||f===void 0?void 0:f.protocol)==="rtmps"&&console.warn("rtmps server url detected; please pass in the ingest endpoint (no rtmps:// protocol) instead"),(m=b==null?void 0:b.groups)===null||m===void 0?void 0:m.id)return`https://${b.groups.id}.webrtc.live-video.net:4443`;throw new Et(vd)}}return""}class Wy{constructor(f,m,b=Sd,T,O=Nm){this.LOG_LEVEL=Er,this.BASIC_LANDSCAPE=Sd,this.BASIC_PORTRAIT=km,this.BASIC_FULL_HD_LANDSCAPE=Om,this.BASIC_FULL_HD_PORTRAIT=Yr,this.STANDARD_LANDSCAPE=Hr,this.STANDARD_PORTRAIT=Pm,Pl.set(this,void 0),bd.set(this,void 0),Nl.set(this,Sd),Al.set(this,void 0),Il.set(this,Nm),xd.set(this,N=>{if(!N)throw new Et(Object.assign(Object.assign({},Lr),{details:"missing stream configuration"}));if(!(N.maxBitrate<=8500&&N.maxBitrate>=200))throw new Et(Object.assign(Object.assign({},Lr),{details:"maxBitrate must be between 200 and 8500"}));if(!(N.maxFramerate<=60&&N.maxFramerate>=10))throw new Et(Object.assign(Object.assign({},Lr),{details:"maxFramerate must be between 10 and 60"}));const D=N.maxResolution.width,M=N.maxResolution.height;if(D>jl||M>jl||D<160||M<160||D===jl&&M>Vy||M===jl&&D>Vy)throw new Et(Object.assign(Object.assign({},Lr),{details:"maxResolution values must be between 1080x1920 or 1920x1080"}))}),_d.set(this,N=>{if(!N)return;const D=Number(N),M=Number.isInteger(D),I=D>=Er.TRACE,F=D<=Er.SILENT;if(!M||!I||!F)throw new Et(yd)}),dh.set(this,N=>{if(N&&typeof N!="object")throw new Et(Cm)}),Rm.set(this,N=>{if(!N)return;if(typeof N!="object"||typeof N.reconnect!="boolean")throw new Et(Tm);const{timeout:D}=N;if(D!==void 0&&(Number.isNaN(D)||typeof D!="number"||D<1e4||D>Tl))throw new Et(lh)}),Ms(this,dh,"f").call(this,T),Ms(this,_d,"f").call(this,m),Ms(this,xd,"f").call(this,b),Lo(this,Pl,f),Lo(this,bd,m),Lo(this,Nl,b),Lo(this,Al,T),Lo(this,Il,O)}get ingestEndpoint(){return Ms(this,Pl,"f")}set ingestEndpoint(f){Lo(this,Pl,zy(f))}get streamConfig(){return Ms(this,Nl,"f")}set streamConfig(f){Ms(this,xd,"f").call(this,f),Lo(this,Nl,f)}get logLevel(){return Ms(this,bd,"f")}set logLevel(f){Ms(this,_d,"f").call(this,f),Lo(this,bd,f)}get logger(){return Ms(this,Al,"f")}set logger(f){Ms(this,dh,"f").call(this,f),Lo(this,Al,f)}get networkReconnectConfig(){return Ms(this,Il,"f")}set networkReconnectConfig(f){Ms(this,Rm,"f").call(this,f),Lo(this,Il,f)}}Pl=new WeakMap,bd=new WeakMap,Nl=new WeakMap,Al=new WeakMap,Il=new WeakMap,xd=new WeakMap,_d=new WeakMap,dh=new WeakMap,Rm=new WeakMap;var or,Jn=i(228),fh=i(6880);(function(x){x.PUBLISHED_VIDEO_STATS="ivs_broadcast_webrtc_published_video_stats",x.PUBLISHED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_published_video_stats_window",x.PUBLISHED_AUDIO_STATS="ivs_broadcast_webrtc_published_audio_stats",x.PUBLISHED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_published_audio_stats_window",x.SUBSCRIBED_VIDEO_STATS="ivs_broadcast_webrtc_subscribed_video_stats",x.SUBSCRIBED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_video_stats_window",x.SUBSCRIBED_AUDIO_STATS="ivs_broadcast_webrtc_subscribed_audio_stats",x.SUBSCRIBED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_audio_stats_window",x.PUBLISH="ivs_broadcast_multihost_publish",x.UNPUBLISH="ivs_broadcast_multihost_unpublish",x.SUBSCRIBE="ivs_broadcast_multihost_subscribe",x.UNSUBSCRIBE="ivs_broadcast_multihost_unsubscribe",x.PUBLISH_STARTED="ivs_broadcast_multihost_publish_started",x.PUBLISH_FAILED="ivs_broadcast_multihost_publish_failed",x.PUBLISH_ENDED="ivs_broadcast_multihost_publish_ended",x.STATE_UPDATED="ivs_broadcast_multihost_event_state_updated",x.SUBSCRIBE_STARTED="ivs_broadcast_multihost_subscribe_started",x.SUBSCRIBE_FAILED="ivs_broadcast_multihost_subscribe_failed",x.SUBSCRIBE_ENDED="ivs_broadcast_multihost_subscribe_ended",x.FIRST_FRAME="ivs_broadcast_multihost_first_frame",x.JOIN="ivs_broadcast_multihost_join",x.JOIN_ATTEMPT="ivs_broadcast_multihost_event_connect_attempt",x.JOIN_ATTEMPT_FAILED="ivs_broadcast_multihost_event_connect_failed",x.JOIN_ENDED="ivs_broadcast_multihost_join_ended",x.LEAVE="ivs_broadcast_multihost_leave",x.REASSIGNMENT_REQUEST="ivs_broadcast_multihost_reassignment_request",x.SERVER_REQUEST="ivs_broadcast_multihost_server_request",x.TRACE="ivs_broadcast_stage_trace",x.ERROR="ivs_broadcast_error",x.MINUTE="ivs_broadcast_multihost_minute",x.CONNECTION_STATE="ivs_broadcast_webrtc_connection_state",x.ICE_GATHERING_STATE="ivs_broadcast_webrtc_gathering_state",x.EDP_CONNECTED="ivs_broadcast_multihost_event_connected",x.EDP_DISCONNECTED="ivs_broadcast_multihost_event_disconnected",x.EDP_PONG="ivs_broadcast_multihost_edp_rtt",x.SIMULCAST_LAYER_INFO="ivs_broadcast_simulcast_layer_info",x.MULTIHOST_CONFIGURATION="ivs_broadcast_multihost_configuration",x.MULTIHOST_SUBSCRIBE_CONFIGURATION="ivs_broadcast_multihost_subscribe_configuration",x.PLAYBACK_LAYER_REQUEST="ivs_broadcast_multihost_playback_layer_request",x.PLAYBACK_LAYER_STATE="ivs_broadcast_multihost_playback_layer_state"})(or||(or={}));class er{constructor(f,m,b,T){let O="unknown";if(m.stageARN&&m.stageARN.startsWith("arn:aws:ivs:")){const N=m.stageARN.split(":");N.length===6&&(O=N[4])}this.event=f,this.properties={client_time:new Date().toISOString(),customer_id:O,device_software:window.navigator.userAgent,multihost_id:m.stageARN,participant_id:m.participantID,participant_user_id:m.userID,platform:"web",sdk_version:"1.21.0",stage_arn:m.stageARN,trace_id:b.value},m.attrGsRole&&(this.properties.token_attribute_0=m.attrGsRole),m.attrGsSessionId&&(this.properties.token_attribute_1=m.attrGsSessionId),this.critical=T}}class hh extends er{constructor(f){super(or.ERROR,f.token,f.traceId,!0),Object.assign(this.properties,{code:f.code,tag:f.tag,description:f.message,remote_participant_id:f.remoteParticipantId,request_uuid:f.requestUUID,is_nominal:f.nominal,is_fatal:f.fatal,details:f.details,location:f.location,event_count:f.count})}}function wd(x){const f=window.IVS_CLIENT_OVERRIDES;return typeof f=="object"?f[x]:x==="logLevel"?window.STAGES_LOG_LEVEL:x==="appLabel"?window.IVS_APP_LABEL:x==="whipUrl"?window.IVS_DATA_PLANE_ENDPOINT:void 0}function bi(x){const f=wd(x);if(typeof f=="string")return f}function $a(x){const f=wd(x);if(typeof f=="boolean")return f}function Am(){const x=wd("logLevel");if(typeof x=="number"&&Object.values(Er).includes(x))return x}function Im(){return $a("disableXdp")}function ph(){return $a("enableXdpPublish")}function mh(){return $a("preferMainProfile")}function Ed(){return $a("enableInitialLayerOnSdp")}var Fi=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class gw{constructor(f="https://broadcast.stats.live-video.net/"){this.endpointUrl=f}send(f,m=!1){return Fi(this,void 0,void 0,function*(){const b=Date.now();for(const D of f)D.properties.batch_time_millis=b;const T=this.b64EncodeUnicode(JSON.stringify(f)),O={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},N=`data=${T}`;m?navigator.sendBeacon(this.endpointUrl,N):Fi(this,void 0,void 0,function*(){try{yield function(D,M,I={},F=""){return Fi(this,void 0,void 0,function*(){const $=new XMLHttpRequest;return $.open(D,M,!0),I&&Object.keys(I).forEach(W=>{I.hasOwnProperty(W)&&$.setRequestHeader(W,I[W])}),new Promise((W,ie)=>{$.onreadystatechange=()=>{$.readyState===4&&($.status>=200&&$.status<300?W($.responseText):ie(new Error(`Ingest ${D} ${M} responded ${$.status}
${$.responseText}`)))},$.send(F)})})}("POST",this.endpointUrl,O,N)}catch{}})})}b64EncodeUnicode(f){return btoa(encodeURIComponent(f).replace(/%([0-9A-F]{2})/g,(m,b)=>String.fromCharCode(+`0x${b}`)))}}function fs(x){if(!x)throw new Error("eventSender is not defined")}function Hy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,x=>{const f=16*Math.random()|0;return(x==="x"?f:3&f|8).toString(16)})}class Ic{constructor(){this.sharedProperties={},this.eventSender={},this.queuedEvents=[],this.genSessionId();const f=function(){const b=bi("analyticsPostUrl");if(b!==void 0)return b}()||"https://broadcast.stats.live-video.net/",m=function(){const b=bi("appLabel");if(b!==void 0)return b.substring(0,64)}();this.eventSender=new gw(f),this.initSharedProperties({appLabel:m}),this.errorReports=new Map}start(){this.flushInterval||(this.flushInterval=window.setInterval(()=>{this.queueAggregateErrors({force:!1}),this.flushEvents()},1e3))}stop(f){let m=!1;clearInterval(this.flushInterval),this.flushInterval=void 0,this.queueAggregateErrors({force:!0}),f&&(this.queuedEvents=this.queuedEvents.filter(b=>b.critical),m=!0),this.flushEvents(m),this.genSessionId()}trackEvent(f,m=!1){let b=this.sharedProperties;m&&(b={global_session_id:Ic.globalSessionId,session_id:this.sharedProperties.session_id,browser:this.sharedProperties.browser,browser_family:this.sharedProperties.browser_family,browser_version:this.sharedProperties.browser_version,os_name:this.sharedProperties.os_name,os_version:this.sharedProperties.os_version,is_backgrounded:this.sharedProperties.is_backgrounded}),(document==null?void 0:document.visibilityState)==="hidden"&&(b.is_backgrounded=!0),"data"in f?(f.data.properties=Object.assign({},b,f.data.properties),this.queuedEvents.push(f.data)):(f.properties=Object.assign({},b,f.properties),this.queuedEvents.push(f))}trackEventNoSharedProps(f){this.trackEvent(f,!0)}trackErrorAndThrow(f){throw this.trackError(f),f}trackError(f){const m=`${f.code}${f.fatal}${f.nominal}${f.tag}${f.traceId.value}`,b=this.errorReports.get(m),T={error:f,queuedAt:Date.now(),count:0};return b?(b.count===0&&(b.error=f),b.count+=1,b.queuedAt+6e4<=Date.now()?(this.trackErrorReportIfNeeded(b),void this.errorReports.set(m,T)):void 0):(this.errorReports.set(m,T),void this.trackEvent(new hh(f)))}queueAggregateErrors({force:f=!1}){this.errorReports.forEach((m,b)=>{const T=m.queuedAt+6e4;!f&&T>Date.now()||(this.trackErrorReportIfNeeded(m),this.errorReports.delete(b))})}trackErrorReportIfNeeded(f){if(f.count===0)return;const m=f.error;m.count=f.count,this.trackEvent(new hh(m))}batchEvents(f){fs(this.eventSender);const m=f.map(b=>(b.data.properties=Object.assign({},this.sharedProperties,b.data.properties),b.data));this.eventSender.send(m)}initSharedProperties({appLabel:f}){const m=fh.getParser(navigator.userAgent),b=this.parseSemver(String(m.getBrowserVersion()));this.sharedProperties={browser:navigator.appVersion,browser_family:m.getBrowserName().toLowerCase(),browser_version:`${b.major}.${b.minor}`,customer_id:"ivs",host:window.location.hostname,os_name:m.getOSName(),os_version:String(m.getOSVersion()),platform:"web",global_session_id:Ic.globalSessionId,session_id:this.sessionId,sdk_version:"1.21.0",user_agent:navigator.userAgent,is_backgrounded:!1},f&&(this.sharedProperties.app_label=f)}genSessionId(){this.sessionId=Hy(),this.sharedProperties.session_id=this.sessionId}flushEvents(f=!1){fs(this.eventSender),this.queuedEvents.length>0&&this.eventSender.send(this.queuedEvents,f),this.queuedEvents=[]}parseSemver(f){const m=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/.exec(f)||/^(\d+)\.(\d+)[+|-]?(.*)?$/.exec(f)||/^(\d+)$/.exec(f)||[];return{major:parseInt(m[1],10)||0,minor:parseInt(m[2],10)||0,patch:parseInt(m[3],10)||0}}getSessionId(){return this.sessionId}}Ic.globalSessionId=Hy();class Va{constructor(f,m){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,m);this.data={event:_n.CONGESTION_TIME,properties:b}}}class gh{constructor(f,m,b){this.transformProperties=(O,N,D)=>({duration:(O.getTime()-((N==null?void 0:N.getTime())||0))/1e3,ecn_negotiated:!1,ingest_session_id:D});const T=this.transformProperties(f,m,b);this.data={event:_n.CONNECTION_ESTABLISHED,properties:T}}}class jm{constructor(f,m){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,m);this.data={event:_n.CONNECTION_RTT,properties:b}}}class an{constructor(f){this.transformProperties=b=>{var T;return{is_fatal:(T=b.isFatal)!==null&&T!==void 0&&T,value:b.value,code:b.code,description:b.description}};const m=this.transformProperties(f);this.data={event:_n.ERROR,properties:m}}}class la{constructor(f,m){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(f,m);this.data={event:_n.INPUT_DEVICE_ATTACHED,properties:b}}}class vh{constructor(f,m){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(f,m);this.data={event:_n.INPUT_DEVICE_DETACHED,properties:b}}}class vw{constructor(f,m){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,m);this.data={event:_n.MEASURED_BITRATE,properties:b}}}class Dm{constructor(f,m){this.transformProperties=(T,O)=>({minutes_logged:Math.round((T.timestamp-O)/6e4)});const b=this.transformProperties(f,m);this.data={event:_n.MINUTE_BROADCAST,properties:b}}}class yw{constructor(f,m){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,m);this.data={event:_n.RECOMMENDED_BITRATE,properties:b}}}class Gy{constructor(f){this.transformProperties=b=>({codec:b.mimeType,bitrate:0,sample_rate:b.clockRate,channel_count:b.channels});const m=this.transformProperties(f);this.data={event:_n.SESSION_AUDIO_ENCODER_CONFIGURED,properties:m}}}class yh{constructor(f){this.transformProperties=b=>({codec:"audio",bitrate:32e3,sample_rate:b.sampleRate,channel_count:b.channelCount});const m=this.transformProperties(f);this.data={event:_n.SESSION_AUDIO_PROPERTIES,properties:m}}}class Dl{constructor(f,m,b){this.transformProperties=(O,N,D)=>({codec:D.mimeType,codec_profile:N.profile,codec_level:N.level,rate_mode:"vbr",initial_bitrate:0,keyframe_interval:2,width:O.width,height:O.height,bframe_count:0,target_fps:O.frameRate});const T=this.transformProperties(f,m,b);this.data={event:_n.SESSION_VIDEO_ENCODER_CONFIGURED,properties:T}}}class bw{constructor(f){this.transformProperties=b=>({codec:"video",initial_bitrate:32e3,min_bitrate:0,max_bitrate:0,keyframe_interval:2,width:b.width,height:b.height,auto_bitrate_enabled:!0,bframes_enabled:!1,target_fps:b.frameRate});const m=this.transformProperties(f);this.data={event:_n.SESSION_VIDEO_PROPERTIES,properties:m}}}class qy{constructor(f,m){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,m);this.data={event:_n.SOURCE_AUDIO_LATENCY,properties:b}}}class Ky{constructor(f,m){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(f,m);this.data={event:_n.SOURCE_VIDEO_LATENCY,properties:b}}}class bh{constructor(f,m){this.transformProperties=({protocol:T,hostname:O,port:N},D)=>({protocol:T,endpoint_host:O,endpoint_port:N,reason:D});const b=this.transformProperties(f,m);this.data={event:_n.START_BROADCAST,properties:b}}}class Mm{constructor(f){this.transformProperties=({protocol:b,hostname:T,port:O})=>({protocol:b,endpoint_host:T,endpoint_port:O});const m=this.transformProperties(f);this.data={event:_n.STOP_BROADCAST,properties:m}}}class Yy{constructor(f){this.transformProperties=b=>({bytes_sent:b.bytesSent,header_bytes_sent:b.headerBytesSent,nack_count:b.nackCount,packets_sent:b.packetsSent,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent});const m=this.transformProperties(f);this.data={event:_n.WEBRTC_AUDIO_STATS,properties:m}}}class Lm{constructor(f){this.transformProperties=b=>({bytes_sent:b.bytesSent,fir_count:b.firCount,frames_encoded:b.framesEncoded,frames_sent:b.framesSent,header_bytes_sent:b.headerBytesSent,huge_frames_sent:b.hugeFramesSent,key_frames_encoded:b.keyFramesEncoded,nack_count:b.nackCount,packets_sent:b.packetsSent,pli_count:b.pliCount,quality_limitation_reason:b.qualityLimitationReason,quality_limitation_resolution_changes:b.qualityLimitationResolutionChanges,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent,total_encode_time:b.totalEncodeTime,total_encoded_bytes_target:b.totalEncodedBytesTarget,total_packet_send_delay:b.totalPacketSendDelay});const m=this.transformProperties(f);this.data={event:_n.WEBRTC_VIDEO_STATS,properties:m}}}var _n,Cd;(function(x){x.START_BROADCAST="ivs_broadcast_start_broadcast",x.STOP_BROADCAST="ivs_broadcast_stop_broadcast",x.MINUTE_BROADCAST="ivs_broadcast_minute_broadcast",x.WEBRTC_AUDIO_STATS="ivs_broadcast_webrtc_audio_stats",x.WEBRTC_VIDEO_STATS="ivs_broadcast_webrtc_video_stats",x.WEBRTC_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_audio_stats_window",x.WEBRTC_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_video_stats_window",x.CONNECTION_ESTABLISHED="ivs_broadcast_connection_established",x.SESSION_VIDEO_PROPERTIES="ivs_broadcast_session_video_properties",x.SESSION_AUDIO_PROPERTIES="ivs_broadcast_session_audio_properties",x.SESSION_VIDEO_ENCODER_CONFIGURED="ivs_broadcast_session_video_encoder_configured",x.SESSION_AUDIO_ENCODER_CONFIGURED="ivs_broadcast_session_audio_encoder_configured",x.SOURCE_AUDIO_LATENCY="ivs_broadcast_source_audio_latency",x.SOURCE_VIDEO_LATENCY="ivs_broadcast_source_video_latency",x.INPUT_DEVICE_ATTACHED="ivs_broadcast_input_device_attached",x.INPUT_DEVICE_DETACHED="ivs_broadcast_input_device_detached",x.CONGESTION_TIME="ivs_broadcast_congestion_time",x.BUFFER_DURATION="ivs_broadcast_buffer_duration",x.MEASURED_BITRATE="ivs_broadcast_measured_bitrate",x.RECOMMENDED_BITRATE="ivs_broadcast_recommended_bitrate",x.CONNECTION_RTT="ivs_broadcast_connection_rtt",x.ERROR="ivs_broadcast_error"})(_n||(_n={})),function(x){x.USER_INITIATED="user-initiated",x.NETWORK_DISCONNECT="network-disconnect"}(Cd||(Cd={}));const hs={[Er.INFO]:"#528bff",[Er.WARN]:"#ffb31a",[Er.DEBUG]:"#00f593",[Er.ERROR]:"#ff4f4d",[Er.TRACE]:"",[Er.SILENT]:"",[Cr.TIME]:"#53535f",[Cr.WEBRTC]:"#0e9bd8",[Cr.SUBSCRIPTION]:"#ffc400",[Cr.CONNECTION]:"#ff5edb",[Cr.SOCKET]:"#8585ff",[Cr.EMITTER]:"#adadb8",[Cr.LOCAL_PARTICIPANT]:"#1DD21D",[Cr.STAGE]:"#EC9806",[Cr.REMOTE_PARTICIPANT]:"#0680EC",details:"#808080"},Ml=({label:x})=>`background: ${hs[x]||"#333333"}; color: white; padding: 3px; margin-left: 3px;`,Td=Object.entries(Er),Rd=(x,f,m)=>{const b=Ml({label:x}),[T]=Td.find(([,be])=>be===Number(x))||[],O=`%c${T}`,N=Ml({label:f}),D=`%c${f}`,M=Ml({label:Cr.TIME}),I=`%c[${new Date().toISOString()}]`,F=Ml({label:"details"}),$=`%c[${m}]`,W=[I,O,D],ie=[M,b,N];return m&&(W.push($),ie.push(F)),[W.join(""),...ie]},Qy={debug(x){console.groupCollapsed(...Rd(Er.DEBUG,x.scope,x.label)),console.debug(x.msg,Object.assign(Object.assign({},x),{level:"debug"})),console.groupEnd()},info(x){console.groupCollapsed(...Rd(Er.INFO,x.scope,x.label)),console.info(x.msg,Object.assign(Object.assign({},x),{level:"info"})),console.groupEnd()},warn(x){console.groupCollapsed(...Rd(Er.WARN,x.scope,x.label)),console.warn(x.msg,Object.assign(Object.assign({},x),{level:"warn"})),console.groupEnd()},error(x){console.groupCollapsed(...Rd(Er.ERROR,x.scope,x.label)),console.error(x),console.groupEnd()}};var Jy=function(x,f){var m={};for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&f.indexOf(b)<0&&(m[b]=x[b]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function"){var T=0;for(b=Object.getOwnPropertySymbols(x);T<b.length;T++)f.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(x,b[T])&&(m[b[T]]=x[b[T]])}return m};Object.entries(Er);class Fm{constructor(f=mw,m=Qy){this.logLevel=f,this.loggerInstance=m}debug(f){var m,b;this.logLevel>Er.DEBUG||(b=(m=this.loggerInstance).debug)===null||b===void 0||b.call(m,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{level:"debug"}))))}info(f){var m,b;this.logLevel>Er.INFO||(b=(m=this.loggerInstance).info)===null||b===void 0||b.call(m,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{level:"info"}))))}warn(f){var m,b;this.logLevel>Er.WARN||(b=(m=this.loggerInstance).warn)===null||b===void 0||b.call(m,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{level:"warn"}))))}error(f){var m,b,{err:T}=f,O=Jy(f,["err"]);this.logLevel>Er.ERROR||(b=(m=this.loggerInstance).error)===null||b===void 0||b.call(m,Object.assign({err:T},O))}}class ps{constructor(f,m){this.logger=f,this.scope=m}debug(f){var m,b;(b=(m=this.logger).debug)===null||b===void 0||b.call(m,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{scope:this.scope}))))}info(f){var m,b;(b=(m=this.logger).info)===null||b===void 0||b.call(m,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{scope:this.scope}))))}warn(f){var m,b;(b=(m=this.logger).warn)===null||b===void 0||b.call(m,JSON.parse(JSON.stringify(Object.assign(Object.assign({},f),{scope:this.scope}))))}error(f){var m,b,{err:T}=f,O=Jy(f,["err"]);(b=(m=this.logger).error)===null||b===void 0||b.call(m,Object.assign(Object.assign({err:T},O),{scope:this.scope}))}unwrap(){return this.logger}}class so{constructor(){this.min=0,this.max=0,this.sum=0,this.data=[]}push(f){(this.min===0||f<this.min)&&(this.min=f),f>=this.max&&(this.max=f),this.data.push(f),this.sum+=f}median(){this.data.sort();const f=this.data.length>>1;return this.data.length%2==0?this.data[f-1]+this.data[f]>>1:this.data[f]}percentile(f){if(this.data.length===0)return 0;if(f<=0)return this.data[0];if(f>=1)return this.data[this.data.length-1];const m=(this.data.length-1)*f,b=Math.floor(m),T=b+1,O=m%1;return T>=this.data.length?this.data[b]:this.data[b]*(1-O)+this.data[T]*O}}var xh=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class Xy{constructor(f,m,b,T){this.peerClient=f,this.broadcastCanvasManager=m,this.analyticsTracker=T,this.logger=new ps(b,Cr.EMITTER),this.previousBytesSent=0,this.startTimestamp=0,this.initializeSamples()}start(){this.logger.info({msg:"start emitter"}),this.collectSamplesTimerId=window.setInterval(()=>{this.collectSamples()},1e3),this.trackSamplesTimerId=window.setInterval(()=>{this.trackSamples()},3e4),this.trackPeerConnectionStatsTimerId=window.setInterval(()=>{this.trackPeerConnectionStats()},6e4),this.trackSamples()}stop(){clearInterval(this.collectSamplesTimerId),clearInterval(this.trackSamplesTimerId),clearInterval(this.trackPeerConnectionStatsTimerId),this.collectSamplesTimerId=void 0,this.trackSamplesTimerId=void 0,this.trackPeerConnectionStatsTimerId=void 0}trackPeerConnectionStats(){return xh(this,void 0,void 0,function*(){(yield this.peerClient.getReports()).forEach(f=>{if(f.type==="outbound-rtp")switch(f.kind){case"audio":this.analyticsTracker.trackEvent(new Yy(f));break;case"video":{const m=new Lm(f),b=new Dm(f,this.startTimestamp);this.analyticsTracker.batchEvents([m,b]);break}default:this.logger.warn({msg:"unknown report kind: ",reportKind:f.kind})}})})}collectSamples(){return xh(this,void 0,void 0,function*(){let f=0;this.audioLatencySamples.push(this.broadcastCanvasManager.getAudioLatency()),this.videoLatencySamples.push(this.broadcastCanvasManager.getVideoLatency()),(yield this.peerClient.getReports()).forEach(b=>{switch(b.type){case"candidate-pair":b.nominated&&(this.rttSamples.push(b.currentRoundTripTime),this.recommendedBitrateSamples.push(b.availableOutgoingBitrate));break;case"outbound-rtp":f+=b.bytesSent||0,this.startTimestamp===0&&b.kind==="video"&&(this.startTimestamp=b.timestamp)}});const m=8*Math.round(f-this.previousBytesSent);this.previousBytesSent=f,this.measuredBitrateSamples.push(m)})}trackSamples(){const m=new qy(this.audioLatencySamples,30),b=new Ky(this.videoLatencySamples,30),T=new Va(this.congestionTimeSamples,30),O=new vw(this.measuredBitrateSamples,30),N=new yw(this.recommendedBitrateSamples,30),D=new jm(this.rttSamples,30);this.analyticsTracker.batchEvents([m,b,T,O,N,D]),this.initializeSamples()}initializeSamples(){this.audioLatencySamples=new so,this.videoLatencySamples=new so,this.congestionTimeSamples=new so,this.measuredBitrateSamples=new so,this.recommendedBitrateSamples=new so,this.rttSamples=new so}}const jn={CONNECTION_STATE_CHANGE:"connectionStateChange",ERROR:"clientError",ACTIVE_STATE_CHANGE:"activeStateChange"},ms="connectionStateChange",Zy="sdpNegotiated",gs="clientError",Ls="seiMessageReceived",jc="transformError";var vt;(function(x){x.CLOSED="closed",x.COMPLETED="completed",x.CONNECTED="connected",x.CONNECTING="connecting",x.DISCONNECTED="disconnected",x.FAILED="failed",x.IDLE="idle",x.NEW="new",x.NONE="none"})(vt||(vt={}));const kd=x=>{const f=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("web-contents-media-stream")?"tab":void 0},m=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("window")&&O.displaySurface==="window"?"window":void 0},b=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("screen")&&O.displaySurface==="monitor"?"screen":void 0};return(f(T=x)||m(T)||b(T)?void 0:"camera")||b(x)||m(x)||f(x)||"unknown";var T};function ye(x,f){return x.find(m=>m.kind===f)}var me;(function(x){x.VIDEO="video",x.AUDIO="audio"})(me||(me={}));class Ie{constructor(){this.mediaTracks=new Map([[me.VIDEO,void 0],[me.AUDIO,void 0]])}setTrack(f,m){this.mediaTracks.set(f,m)}getTrack(f){return this.mediaTracks.get(f)}}class Xe{constructor(){this.levelAsymmetryAllowed=!1,this.packetisationMode=!1,this.profile="",this.level=0}extractVideoSdpFmtpLine(f){return f?(f.split("\r").join(";").split(`
`).join(";").split(" ").join(";").split(";").map(m=>m.trim()).filter(Boolean).forEach(m=>{const b=m.split("=");if(b.length===2)switch(b[0]){case"level-asymmetry-allowed":b[1]==="1"?this.levelAsymmetryAllowed=!0:this.levelAsymmetryAllowed=!1;break;case"packetization-mode":b[1]==="1"?this.packetisationMode=!0:this.packetisationMode=!1;break;case"profile-level-id":this.profile=this.getProfileFromId(b[1]),this.level=this.getLevelFromId(b[1])}}),{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}):{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}}getProfileFromId(f){const m=f.substr(0,2),b=f.substr(2,2);switch(m.substr(0,2)){case"42":return"baseline";case"4d":return"main";case"58":return"extended";case"64":return"high";case"6e":return b==="00"?"high 10":"high 10 intra";case"7a":return b==="00"?"high 42":"high 42 intra";case"f4":return b==="00"?"high 44":"high 44 intra";default:return"unknown"}}getLevelFromId(f){return parseInt(f.substr(4,2),16)}}function Ht(x){return btoa(JSON.stringify(x))}var Ut,Dn=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};(function(x){x.IDLE="idle",x.EXECUTING="executing",x.RECONNECTING="reconnecting"})(Ut||(Ut={}));class oo{constructor(f,m=12e4,b,T){this.state=Ut.IDLE,this.failureCallback=()=>{},this.peerClient=f,this.timeout=m,this.logger=b,this.emitter=T}onFailure(f){this.failureCallback=f}setStartConfig(f,m){this.ingestEndpoint=f,this.streamKey=m}execute(){const{id:f}=this;this.state===Ut.IDLE&&(this.state=Ut.EXECUTING,this.emitter.emit(jn.CONNECTION_STATE_CHANGE,vt.CONNECTING),this.logger.info({msg:"Starting execution of reconnect strategy.",id:f}),this.startTimeoutTimer(this.timeout),this.executeStrategy())}startTimeoutTimer(f){this.timeoutTimerId=window.setTimeout(()=>{this.state!==Ut.IDLE&&(this.logger.info({msg:"Reconnect strategy timed out."}),this.stop(),this.emitter.emit(jn.CONNECTION_STATE_CHANGE,vt.FAILED),this.failureCallback())},f)}stop(){this.state=Ut.IDLE,clearTimeout(this.timeoutTimerId),this.stopStrategy()}reconnect(){return Dn(this,void 0,void 0,function*(){if(this.ingestEndpoint&&this.streamKey){const f=this.peerClient.getConnectionState();try{this.logger.info({msg:"Attempting reconnect."}),f===vt.CONNECTED?this.logger.info({msg:"Already connected! Stopping reconnect strategy."}):(yield this.peerClient.start(this.ingestEndpoint,this.streamKey),this.logger.info({msg:"Reconnect succeeded!"})),this.stop()}catch(m){throw this.logger.error({err:m}),m}}})}isActive(){return this.state!==Ut.IDLE}}class cn extends oo{constructor(){super(...arguments),this.id="ExponentialBackoffStrategy"}executeStrategy(){let f=5e3;const m=()=>Dn(this,void 0,void 0,function*(){if(this.state===Ut.EXECUTING)try{this.state=Ut.RECONNECTING,yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed. Trying again in: ",nextRetry:f}),this.state=Ut.EXECUTING,this.currentTimeoutId=window.setTimeout(m,f),f*=2}});this.currentTimeoutId=window.setTimeout(m,0)}stopStrategy(){clearTimeout(this.currentTimeoutId)}}class Um extends oo{constructor(){super(...arguments),this.id="NetworkApiStrategy",this.onConnectionChange=()=>Dn(this,void 0,void 0,function*(){if(navigator.onLine&&this.state===Ut.EXECUTING){this.state=Ut.RECONNECTING;try{yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed."}),this.state=Ut.EXECUTING}}})}executeStrategy(){navigator.connection.addEventListener("change",this.onConnectionChange),this.onConnectionChange()}stopStrategy(){navigator.connection.removeEventListener("change",this.onConnectionChange)}}class xw{static create(f,m=Nm,b,T){const{reconnect:O,timeout:N}=m;if(O){const D=fh.getParser(navigator.userAgent).getBrowserName().toLowerCase();return["edge","chrome"].includes(D)&&navigator.connection?new Um(f,N,b,T):new cn(f,N,b,T)}}}var Qi,za=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})},_w=function(x,f,m,b){if(typeof f=="function"?x!==f||!0:!f.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?b:m==="a"?b.call(x):b?b.value:f.get(x)};const Ll=x=>!!x;function Dc(x){if(!x)throw new Error("PeerConnection is not defined")}const _h={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:{exact:!0},enableRtpDataChannels:{exact:!1},optional:[{googHighStartBitrate:{exact:0}},{googPayloadPadding:{exact:!0}},{googScreencastMinBitrate:{exact:100}},{googCpuOveruseDetection:{exact:!0}},{googCpuOveruseEncodeUsage:{exact:!0}},{googCpuUnderuseThreshold:{exact:55}},{googCpuOveruseThreshold:{exact:85}},{enableDscp:{exact:!0}}]};class Vr{constructor(f,m,b,T,O){this.config=f,this.emitter=m,this.mediaStreamManager=b,this.analyticsTracker=O,this.establishConnection=(N,D)=>za(this,void 0,void 0,function*(){var M,I,F;Dc(this.peerConnection);try{const $=yield this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});yield this.handleLocalDescription($),yield this.sendSetupRequest(N,D,$)}catch($){if($ instanceof Error){(M=(F=$).code)!==null&&M!==void 0||(F.code=pt.code);const W=new Et(Object.assign(Object.assign({},pt),{name:$.name,message:$.message,code:$==null?void 0:$.code,cause:$}));throw!((I=this.reconnectStrategy)===null||I===void 0)&&I.isActive()||this.handleError($.code,$.message),this.stop(),W}}}),this.getSessionId=()=>this.ingestSessionId,this.getConnectionState=()=>{var N;if(!this.peerConnection)return vt.NONE;const D=(N=this.reconnectStrategy)===null||N===void 0?void 0:N.isActive(),M=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;switch(M){case"new":return vt.NEW;case"closed":return vt.CLOSED;case"disconnected":return D?vt.CONNECTING:vt.DISCONNECTED;case"failed":return D?vt.CONNECTING:vt.FAILED;case"idle":return vt.IDLE;case"checking":case"connecting":return vt.CONNECTING;case"completed":case"connected":return vt.CONNECTED;default:return this.logger.warn({msg:"Unhandled connection state:",rawState:M}),vt.IDLE}},this.onConnectionStateChange=()=>{var N;const D=this.getConnectionState();switch(D){case vt.CONNECTED:{this.emitter.emit(jn.CONNECTION_STATE_CHANGE,D);const M=new Date;this.analyticsTracker.trackEvent(new gh(M,this.connectionStartDate,this.ingestSessionId));const I=this.mediaStreamManager.getTrack(me.AUDIO),F=this.mediaStreamManager.getTrack(me.VIDEO);if(F){const $=F.getSettings();this.analyticsTracker.trackEvent(new bw($))}if(I){const $=I.getSettings();this.analyticsTracker.trackEvent(new yh($))}(((N=this.peerConnection)===null||N===void 0?void 0:N.getSenders())||[]).forEach($=>{var W;(((W=$.getParameters())===null||W===void 0?void 0:W.codecs)||[]).forEach(ie=>{var be;switch((be=$.track)===null||be===void 0?void 0:be.kind){case"video":{if(!F)break;const ge=new Xe().extractVideoSdpFmtpLine(ie.sdpFmtpLine),le=F.getSettings();this.analyticsTracker.trackEvent(new Dl(le,ge,ie));break}case"audio":if(!I)break;this.analyticsTracker.trackEvent(new Gy(ie))}})});break}case vt.CONNECTING:this.emitter.emit(jn.CONNECTION_STATE_CHANGE,D),this.connectionStartDate=new Date,this.disconnectionStartDate=void 0;break;case vt.FAILED:this.reconnectStrategy?this.reconnectStrategy.execute():(this.emitter.emit(jn.CONNECTION_STATE_CHANGE,D),this.handleTerminalConnectionFailure());break;case vt.DISCONNECTED:this.emitter.emit(jn.CONNECTION_STATE_CHANGE,D),this.disconnectionStartDate=new Date;break;default:this.emitter.emit(jn.CONNECTION_STATE_CHANGE,D)}},this.handleLocalDescription=N=>za(this,void 0,void 0,function*(){var D;return(D=this.peerConnection)===null||D===void 0?void 0:D.setLocalDescription(N)}),Qi.set(this,N=>{if(typeof N!="string")throw new Et(Li);try{new URL(N)}catch{throw new Et(vd)}}),this.logger=new ps(T,Cr.WEBRTC),this.createReconnectStrategy(f)}start(f,m){var b;return za(this,void 0,void 0,function*(){_w(this,Qi,"f").call(this,f);const T=[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)].filter(Ll);if(this.createPeerConnection(),this.addTracks({tracks:T}),this.reconnectStrategy&&this.reconnectStrategy.setStartConfig(f,m),yield this.establishConnection(f,m),!((b=this.reconnectStrategy)===null||b===void 0)&&b.isActive()){const O=new URL(f);this.analyticsTracker.trackEvent(new bh({protocol:"webrtc",hostname:O.hostname,port:O.port},Cd.NETWORK_DISCONNECT))}})}stop(){var f,m,b,T;this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stopStreamDataChannel&&this.stopStreamDataChannel.readyState==="open"&&this.stopStreamDataChannel.send(" "),[vt.NEW,vt.CONNECTING,vt.CONNECTED].includes(this.getConnectionState())&&this.emitter.emit(jn.CONNECTION_STATE_CHANGE,vt.CLOSED),(f=this.peerConnection)===null||f===void 0||f.close(),(m=this.peerConnection)===null||m===void 0||m.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onConnectionStateChange),this.ingestSessionId=void 0,(T=this.reconnectStrategy)===null||T===void 0||T.stop()}addTracks(f){var m;if(Dc(this.peerConnection),!f)return;const b=this.peerConnection.getSenders().map(O=>{var N;return(N=O.track)===null||N===void 0?void 0:N.id}),T=f.tracks.filter(O=>!b.includes(O.id));for(const O of T)(m=this.peerConnection)===null||m===void 0||m.addTrack(O)}getReports(){var f;return za(this,void 0,void 0,function*(){try{const m=(yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats())||[],b=[];return m.forEach(T=>{b.push(T)}),b}catch{return[]}})}sendSetupRequest(f,m,b){var T;return za(this,void 0,void 0,function*(){const O=yield fetch(`${f}/v1/offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({offer:Ht(b),streamKey:m},this.config.streamConfig))});if(!O.ok)throw function(D){let M=new Et(Object.assign({},pt));return(D==null?void 0:D.code)===1007&&(M=new Et(Object.assign({},xr))),D!=null&&D.message&&(M.message=D.message),M}(yield O.json());const N=yield O.json();N!=null&&N.answer&&(yield(T=this.peerConnection)===null||T===void 0?void 0:T.setRemoteDescription(function(D){return JSON.parse(atob(D))}(N.answer)),this.ingestSessionId=N.ingestSessionId)})}handleTerminalConnectionFailure(){const f=new Et(Ct);this.handleError(f.code,f.message)}handleError(f,m){this.analyticsTracker.trackEvent(new an({code:f,description:m,isFatal:!0})),this.emitter.emit(jn.ERROR,{code:f,message:m})}createPeerConnection(){var f;const m=this.getConnectionState(),b=m!==vt.NONE,T=m!==vt.CLOSED,O=(f=this.reconnectStrategy)===null||f===void 0?void 0:f.isActive();b&&T&&!O||(this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stateCheckInterval=window.setInterval(()=>{const N=this.getConnectionState();if(this.reconnectStrategy&&N===vt.DISCONNECTED&&this.disconnectionStartDate){const D=Date.now()-this.disconnectionStartDate.getTime();this.logger.info({msg:"Time since disconnected:",timeSinceDisconnect:D}),D>1e4&&(this.disconnectionStartDate=void 0,this.reconnectStrategy.execute())}else N===vt.CLOSED&&(this.handleTerminalConnectionFailure(),clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0)},1e3),this.peerConnection=new RTCPeerConnection(_h),this.stopStreamDataChannel=this.peerConnection.createDataChannel("stopStream"),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onConnectionStateChange))}createReconnectStrategy(f){if(this.reconnectStrategy=xw.create(this,f.networkReconnectConfig,this.logger,this.emitter),this.reconnectStrategy){this.reconnectStrategy.onFailure(this.handleTerminalConnectionFailure.bind(this));const m=this.reconnectStrategy.id;this.logger.info({msg:"Using reconnect strategy:",strategyId:m})}}}Qi=new WeakMap;var Fl,Bm,Sh=i(5364);(function(x){x.CONFIG="config",x.UPDATE="update",x.START="start",x.STOP="stop"})(Fl||(Fl={})),function(x){x.VIDEO_SEND="video/send",x.VIDEO_RECEIVE="video/receive",x.INSERT_SEI="insertSei"}(Bm||(Bm={}));var Sw=i(5512),e0=i.n(Sw);function ww(){return e0()(`/*! For license information please see scheduler.worker.worker.js.LICENSE.txt */
(()=>{"use strict";var i,t;!function(i){i.CONFIG="config",i.UPDATE="update",i.START="start",i.STOP="stop"}(i||(i={})),function(i){i.VIDEO_SEND="video/send",i.VIDEO_RECEIVE="video/receive",i.INSERT_SEI="insertSei"}(t||(t={}));const s=self;const n=new class Scheduler{constructor(){this.config={frameRate:60,isRunning:!1}}setConfig(i){this.config=Object.assign(Object.assign({},this.config),i),this.config.isRunning&&(this.stop(),this.start())}start(){this.config.isRunning||(this.intervalId=setInterval((()=>{s.postMessage({type:i.UPDATE})}),1e3/this.config.frameRate),this.config.isRunning=!0)}stop(){this.config.isRunning&&(clearInterval(this.intervalId),this.intervalId=void 0,this.config.isRunning=!1)}};s.addEventListener("message",(function(t){var s;if(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.type)switch(t.data.type){case i.CONFIG:n.setConfig(t.data.payload||{});break;case i.START:n.start();break;case i.STOP:n.stop()}}))})();`,"Worker",void 0,void 0)}var Wa=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class Ha{constructor(f,m,b){this.config=f,this.mediaStreamManager=m,this.analyticsTracker=b,this.handleWorkerEvent=D=>{var M;((M=D.data)===null||M===void 0?void 0:M.type)===Fl.UPDATE&&this.drawComposite()},this.mixer={video:[],audio:[]},this.schedulerWorker=new ww,this.running=!1,this.compositeEl=document.createElement("canvas"),this.compositeEl.height=this.config.streamConfig.maxResolution.height,this.compositeEl.width=this.config.streamConfig.maxResolution.width;const T=this.compositeEl.getContext("2d");if(T===null)throw new Et(Object.assign({},ah));this.compositeContext=T,this.compositeStream=this.compositeEl.captureStream(typeof CanvasCaptureMediaStreamTrack!==void 0?0:30);const O=ye(this.compositeStream.getTracks(),me.VIDEO);this.audioContext=new AudioContext,this.unlockAudioContext(),this.audioDestination=this.audioContext.createMediaStreamDestination(),this.setupSilence();const N=ye(this.audioDestination.stream.getTracks(),me.AUDIO);O&&this.mediaStreamManager.setTrack(me.VIDEO,O),N&&this.mediaStreamManager.setTrack(me.AUDIO,N),this.schedulerWorker.addEventListener("message",this.handleWorkerEvent),this.schedulerWorker.postMessage({type:Fl.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.previewElement=null,this.previewCtx=null,this.nextMix=new Date().getTime()}attachPreview(f){this.previewElement=f;const{width:m,height:b}=this.config.streamConfig.maxResolution;this.previewElement.width=m,this.previewElement.height=b,this.previewCtx=this.previewElement.getContext("2d")}detachPreview(){this.previewElement=null,this.previewCtx=null}setupSilence(){const f=this.audioContext.createConstantSource(),m=this.audioContext.createGain();m.gain.value=.001,f.connect(m),m.connect(this.audioDestination),f.start()}unlockAudioContext(){if(this.audioContext.state!=="suspended")return;const f=document.body,m=["touchstart","touchend","mousedown","keydown"],b=()=>{m.forEach(O=>{f.removeEventListener(O,T)})},T=()=>{this.audioContext.resume().then(b)};m.forEach(O=>{f.addEventListener(O,T,!1)})}getTracks(){return[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)]}getCanvasVideoTrack(){return this.mediaStreamManager.getTrack(me.VIDEO)}getAudioInputDevice(f){if(typeof f!="string")return;const m=this.mixer.audio.find(b=>{if(b.name===f)return b.source});return m==null?void 0:m.source}getVideoInputDevice(f){if(typeof f=="string")return this.mixer.video.find(m=>m.name===f)}getCanvasDimensions(){return{height:this.compositeEl.height,width:this.compositeEl.width}}addVideoInputDevice(f,m,b){var T;return Wa(this,void 0,void 0,function*(){if(typeof f!="object")throw new Et(Object.assign({},Rl));if(!m||typeof m!="string")throw new Et(Object.assign({},ue));if(this.mixer.video.some(W=>W.name===m))throw new Et(Object.assign({},kl));if(!b)throw new Et(Object.assign({},gd));if(typeof b.index!="number")throw new Et(Object.assign({},Ac));const O=function(){const W=document.createElement("video");return W.autoplay=!0,W.muted=!0,W.setAttribute("playsinline",""),W.setAttribute("webkit-playsinline",""),W}(),N=f.getVideoTracks(),[D]=N;if(!N.length)throw new Et(Object.assign({},md));const M=D.getConstraints(),I=Sh({},M,{frameRate:this.config.streamConfig.maxFramerate});try{yield D.applyConstraints(I)}catch(W){let ie="Unknown constraints error";W instanceof Error&&(ie=W.message),this.analyticsTracker.trackEvent(new an({description:`${Pe.message}: ${ie}`,isFatal:!1,code:Pe.code}))}const F=()=>Wa(this,void 0,void 0,function*(){let W=0;for(;W<5;)try{return void(yield O.play())}catch(ie){if(!(ie instanceof Error))throw new Error("unknown error trying to add video to broadcast");W++,yield new Promise(be=>setTimeout(be,150))}throw new Error("Error playing video, tries exceeded")}),$=new MediaStream([D]);O.srcObject=$;try{yield F();const W={name:m,element:O,position:b,source:$,render:!0},ie=((T=D.getSettings)===null||T===void 0?void 0:T.call(D))||{};this.analyticsTracker.trackEvent(new la(kd(ie),ie)),this.mixer.video.push(W)}catch(W){throw new Et(Object.assign(Object.assign({},md),{cause:W}))}})}addImageSource(f,m,b){var T;return Wa(this,void 0,void 0,function*(){if(!f)throw new Et(Object.assign({},Rl));if(!m||typeof m!="string")throw new Et(Object.assign({},ue));if(f.tagName==="image")throw new Et(Object.assign({},Se));if(this.mixer.video.some(N=>N.name===m))throw new Et(Object.assign({},kl));if(!b)throw new Et(Object.assign({},gd));if(typeof b.index!="number")throw new Et(Object.assign({},Ac));if(f instanceof Image){const N=(T=f.src)===null||T===void 0?void 0:T.slice();try{const D=f.src?new URL(f.src):{};if(D.host&&D.hostname){const M=yield fetch(f.src).then(F=>Wa(this,void 0,void 0,function*(){return F.blob()})),I=yield new Promise(F=>{const $=new FileReader;$.onload=()=>{F($.result)},$.readAsDataURL(M)});f.src=I}}catch{throw new Et(Object.assign(Object.assign({},et),{params:{details:`Image URL: ${N}`}}))}}const O={name:m,element:f,position:b,render:!0};this.mixer.video.push(O)})}addAudioInputDevice(f,m){return Wa(this,void 0,void 0,function*(){if(typeof f!="object")throw new Et(Object.assign({},Rl));if(!m||typeof m!="string")throw new Et(Object.assign({},ue));if(this.mixer.audio.some(D=>D.name===m))throw new Et(Object.assign({},kl));const b=f.getAudioTracks();if(!b.length)throw new Et(Object.assign({},ca));const T=this.audioContext.createMediaStreamSource(new MediaStream(b)),O=this.audioContext.createGain();O.gain.value=1,T.connect(O),O.connect(this.audioDestination);const N={name:m,source:f,audioTrackSource:T,gainNode:O};this.analyticsTracker.trackEvent(new la("audio",{deviceId:f.id})),this.mixer.audio.push(N)})}removeImage(f){const m=this.mixer.video.findIndex(b=>b.name===f);if(m<0)throw new Et(Object.assign({},Yt));this.mixer.video.splice(m,1)}removeVideoInputDevice(f){var m;const b=this.removeDevice(f,this.mixer.video);if(!b)throw new Et(Object.assign({},$e));{const T=ye(b.source.getTracks(),me.VIDEO);if(!T)throw new Et(Object.assign({},$e));b.element.srcObject=null,T.stop();const O=((m=T==null?void 0:T.getSettings)===null||m===void 0?void 0:m.call(T))||{};this.analyticsTracker.trackEvent(new vh(kd(O),O))}}removeAudioInputDevice(f){const m=this.removeDevice(f,this.mixer.audio);if(m!=null&&m.audioTrackSource){for(const b of m.source.getTracks())b.stop(),this.analyticsTracker.trackEvent(new vh("audio",{deviceId:b.id}));m.gainNode.disconnect(this.audioDestination)}else if(!m)throw new Et(Object.assign({},$e))}updateVideoDeviceComposition(f,m){if(!f||typeof f!="string")throw new Et(Object.assign({},Ft));if(!m)throw new Et(Object.assign({},on));if(typeof m.index!="number")throw new Et(Object.assign({},ir));this.mixer.video.forEach((b,T)=>{b.name===f&&(b.position=m)})}exchangeVideoDevicePositions(f,m){const b=this.getVideoInputDevice(f),T=this.getVideoInputDevice(m);if(!b)throw new Et(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${f}" not found`}}));if(!T)throw new Et(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${m}" not found`}}));const O=Object.assign({},b.position),N=Object.assign({},T.position);for(const D of this.mixer.video)D.name===f&&(Od(N.x)?D.position=Object.assign(Object.assign({},D.position),N):D.position={index:N.index}),D.name===m&&(Od(O.x)?D.position=Object.assign(Object.assign({},D.position),O):D.position={index:O.index})}start(){this.running||(this.running=!0,this.schedulerWorker.postMessage({type:Fl.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.schedulerWorker.postMessage({type:Fl.START}))}stop(){this.running&&(this.running=!1,this.schedulerWorker.removeEventListener("message",this.handleWorkerEvent))}isCapturing(){return this.running}getAudioLatency(){return this.audioContext.baseLatency}getVideoLatency(){var f;return((f=this.mediaStreamManager.getTrack(me.VIDEO))===null||f===void 0?void 0:f.getConstraints().latency)||0}disableVideo(){this.mixer.video.forEach(f=>{f.render=!1})}enableVideo(){this.mixer.video.forEach(f=>{f.render=!0})}disableAudio(){this.mixer.audio.forEach(f=>{f.audioTrackSource&&(f.gainNode.gain.value=0)})}enableAudio(){this.mixer.audio.forEach(f=>{f.audioTrackSource&&(f.gainNode.gain.value=1)})}getDrawRegion(f,m,b){var T,O,N,D;let M=(T=f.position.x)!==null&&T!==void 0?T:0,I=(O=f.position.y)!==null&&O!==void 0?O:0;const F=(N=f.position.width)!==null&&N!==void 0?N:m-M,$=(D=f.position.height)!==null&&D!==void 0?D:b-I,W=F/$;let ie=f.element.width,be=f.element.height;f.element instanceof HTMLVideoElement&&(ie=f.element.videoWidth,be=f.element.videoHeight);const ge=ie/be;let le=F,ae=$;return ge>W?(le=F,ae=2*Math.round(F/ge/2),I+=($-ae)/2):ge<W&&(ae=$,le=2*Math.round($*ge/2),M+=(F-le)/2),{x:M,y:I,width:le,height:ae}}drawComposite(){if(!this.shouldMix(new Date))return;this.compositeContext.clearRect(0,0,this.compositeEl.width,this.compositeEl.height),this.drawBlackScreen();const f=this.mixer.video.filter(m=>m.render);f.sort((m,b)=>m.position.index-b.position.index);for(const m of f){const{x:b,y:T,width:O,height:N}=this.getDrawRegion(m,this.compositeEl.width,this.compositeEl.height);this.compositeContext.drawImage(m.element,b,T,O,N)}this.previewElement&&this.previewCtx&&this.previewCtx.drawImage(this.compositeEl,0,0,this.previewElement.width,this.previewElement.height),this.requestCanvasCapture()}requestCanvasCapture(){typeof CanvasCaptureMediaStreamTrack!==void 0&&(typeof this.compositeStream.requestFrame=="function"?this.compositeStream.requestFrame():this.mediaStreamManager.getTrack(me.VIDEO).requestFrame())}drawBlackScreen(){this.compositeContext.fillStyle="#000000",this.compositeContext.fillRect(0,0,this.compositeEl.width,this.compositeEl.height)}removeDevice(f,m){const b=m.findIndex(T=>(O=>O.name===f)(T));if(!(b<0))return m.splice(b,1)[0]}shouldMix(f){if(f.getTime()<this.nextMix)return!1;for(;this.nextMix<=f.getTime();)this.nextMix+=1e3/this.config.streamConfig.maxFramerate;return!0}}function Od(x){return Number.isSafeInteger(x)}var wh,Pd,Nd=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})},t0=function(x,f,m,b){if(typeof f=="function"?x!==f||!b:!f.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?b:m==="a"?b.call(x):b?b.value:f.get(x)};class Ul{constructor(f){this.config=f,wh.add(this),this.emitter=new Jn,this.isValid=!0,this.emitter.on(jn.ERROR,this.stopBroadcast),this.config.ingestEndpoint&&(this.url=new URL(this.config.ingestEndpoint)),this.analyticsTracker=new Ic,this.mediaStreamManager=new Ie;const m=new Fm(f.logLevel,f.logger);this.peerClient=new Vr(this.config,this.emitter,this.mediaStreamManager,m,this.analyticsTracker),this.broadcastCanvasManager=new Ha(f,this.mediaStreamManager,this.analyticsTracker),this.peerStatsTracker=new Xy(this.peerClient,this.broadcastCanvasManager,m,this.analyticsTracker),this.broadcastCanvasManager.start(),Object.getOwnPropertyNames(Ul.prototype).forEach(b=>{this[b]=new Proxy(this[b],{apply:(T,O,N)=>{if(!O.isValid)throw new Et(Object.assign({},ch));return Reflect.apply(T,O,N)}})}),window.addEventListener("beforeunload",()=>{this.analyticsTracker.stop(!0)})}delete(){this.isValid=!1,this.peerClient.stop(),this.broadcastCanvasManager.stop(),this.emitter.removeAllListeners()}startBroadcast(f,m){return Nd(this,void 0,void 0,function*(){t0(this,wh,"m",Pd).call(this,f);const b=zy(m||this.config.ingestEndpoint);this.analyticsTracker.start(),this.peerStatsTracker.start(),yield this.peerClient.start(b,f),this.emitter.emit(jn.ACTIVE_STATE_CHANGE,!0),this.url=new URL(b),this.url&&this.analyticsTracker.trackEvent(new bh({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port},Cd.USER_INITIATED))})}stopBroadcast(){var f,m,b;this.url&&this.analyticsTracker.trackEvent(new Mm({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port})),(f=this.peerStatsTracker)===null||f===void 0||f.stop(),(m=this.peerClient)===null||m===void 0||m.stop(),(b=this.emitter)===null||b===void 0||b.emit(jn.ACTIVE_STATE_CHANGE,!1)}getCanvasDimensions(){return this.broadcastCanvasManager.getCanvasDimensions()}addVideoInputDevice(f,m,b){return Nd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addVideoInputDevice(f,m,b)})}addImageSource(f,m,b){return Nd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addImageSource(f,m,b)})}addAudioInputDevice(f,m){return Nd(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addAudioInputDevice(f,m)})}removeVideoInputDevice(f){this.broadcastCanvasManager.removeVideoInputDevice(f)}removeAudioInputDevice(f){this.broadcastCanvasManager.removeAudioInputDevice(f)}removeImage(f){this.broadcastCanvasManager.removeImage(f)}updateVideoDeviceComposition(f,m){this.broadcastCanvasManager.updateVideoDeviceComposition(f,m)}exchangeVideoDevicePositions(f,m){this.broadcastCanvasManager.exchangeVideoDevicePositions(f,m)}getAudioInputDevice(f){return this.broadcastCanvasManager.getAudioInputDevice(f)}getVideoInputDevice(f){return this.broadcastCanvasManager.getVideoInputDevice(f)}getConnectionState(){return this.peerClient.getConnectionState()}getSessionId(){return this.peerClient.getSessionId()}on(f,m){this.emitter.on(f,m)}off(f,m){this.emitter.off(f,m)}getAudioContext(){return this.broadcastCanvasManager.audioContext}attachPreview(f){this.broadcastCanvasManager.attachPreview(f)}detachPreview(){this.broadcastCanvasManager.detachPreview()}disableVideo(){this.broadcastCanvasManager.disableVideo()}enableVideo(){this.broadcastCanvasManager.enableVideo()}disableAudio(){this.broadcastCanvasManager.disableAudio()}enableAudio(){this.broadcastCanvasManager.enableAudio()}}function $m(x){return new Ul(function(f){const m=new Wy;return m.streamConfig=f.streamConfig,m.ingestEndpoint=f.ingestEndpoint,m.logger=f.logger,m.logLevel=f.logLevel,m.networkReconnectConfig=f.networkReconnectConfig,m}(x))}wh=new WeakSet,Pd=function(x){if(typeof x!="string"||!/^[a-zA-Z0-9_-]+$/.test(x))throw new Et(uh)};const Bl="1.21.0";var Ge,Sn=i(2543);(function(x){x.PUBLISH="publish",x.SUBSCRIBE="subscribe",x.JOIN="join",x.LEAVE="leave"})(Ge||(Ge={}));const Ew=2,Cw="X-Stages-Options",Tw="cap";class Eh extends er{constructor(f){super(or.LEAVE,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.LEAVE,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint,reason:f.reason}),this.critical=!0}}class vs{constructor(){this.emitter=new Jn}on(f,m,b){m.call=function(T,O){return function(N,...D){try{O.apply(N,D)}catch(M){let I=`Error in callback for ${T}`;const F=O.name;return F&&(I+=` for function ${F}`),void console.error(`${I}
`,M)}}}(f,m),this.emitter.on(f,m,b)}off(f,m,b){this.emitter.off(f,m,b)}emit(f,...m){this.emitter.emit(f,...m)}removeAllListeners(){this.emitter.removeAllListeners()}}function Ch(x){const f="0123456789abcdef";let m="";for(let b=0;b<x;b+=1)m+=f.charAt(Math.floor(16*Math.random()));return m}class Rw{constructor(){const f=Ch;this.value=`${f(8)}-${f(4)}-${f(4)}-${f(4)}-${f(12)}`}}function Ga(){return new Rw}class r0{constructor(){const f=(Date.now()/1e3|0).toString(16);this.value=`1-${f}-${Ch(24)}`}}function Ji(){return new r0}var gn=i(2505),Wn=i.n(gn);class Qt extends Et{constructor({token:f,traceId:m,code:b,tag:T,location:O,message:N,details:D,remoteParticipantId:M,requestUUID:I,fatal:F,nominal:$,action:W,count:ie=1}){super({name:"StageClientError",message:N,code:b}),Error.captureStackTrace&&Error.captureStackTrace(this,Qt),this.action=W,this.token=f,this.traceId=m,this.code=b,this.tag=T,this.location=O,this.message=N,this.details=D,this.remoteParticipantId=M,this.requestUUID=I,this.fatal=F,this.nominal=$,this.count=ie}}const Ad="signalling_session",Id="webrtc_sink",kw="webrtc_unsink",jd="webrtc_source";function Xn(x,f){switch(x){case Ge.PUBLISH:return Id;case Ge.SUBSCRIBE:return`webrtc_source:${f}`;default:return"unknown"}}function ua(x,f){var m,b,T,O;const N={code:x.code,message:`${x.message}: ${f.name} ${f.message}`,fatal:(m=x.fatal)!==null&&m!==void 0&&m,nominal:(b=x.nominal)!==null&&b!==void 0&&b};return f instanceof Qt&&(N.fatal=(T=f.fatal)!==null&&T!==void 0&&T,N.nominal=(O=f.nominal)!==null&&O!==void 0&&O),N}function Mc(x,f){if(x===0)return je.UNKNOWN_SERVER_ERROR;if(!(x<400))if(x>=400&&x<=403)switch(f){case xi.TokenExpired:return je.EXPIRED_TOKEN;case xi.NoPermissions:return je.TOKEN_PERMISSIONS_DENIED;case xi.StageAtCapacity:return je.STAGE_AT_CAPACITY;case xi.NoMatchingCodec:return je.NO_MATCHING_CODEC;default:return je.UNKNOWN_SERVER_ERROR}else{if(x===404)return f===xi.RemoteStreamNotFound?je.REMOTE_STREAM_NOT_FOUND:je.UNKNOWN_SERVER_ERROR;if(x===412)return f===xi.AbortedMHCPError?je.MHCP_ABORTED:je.UNKNOWN_SERVER_ERROR;if(x===429)return f===xi.StageAuthThrottled?je.STAGE_AUTH_THROTTLED:je.WHIP_TOO_MANY_REQUESTS;if(x!==500)return je.UNKNOWN_SERVER_ERROR;switch(f){case xi.InternalMHCPError:return je.INTERNAL_MHCP_ERROR;case xi.UnreachableMHCP:return je.UNREACHABLE_MHCP;case xi.InvalidSessionStatus:return je.INVALID_SESSION_STATUS;default:return je.INTERNAL_SERVER_ERROR}}}var xi;(function(x){x[x.Unspecified=2001]="Unspecified",x[x.TokenExpired=2002]="TokenExpired",x[x.NoPermissions=2003]="NoPermissions",x[x.RemoteStreamNotFound=2004]="RemoteStreamNotFound",x[x.StageAtCapacity=2005]="StageAtCapacity",x[x.InternalMHCPError=2006]="InternalMHCPError",x[x.UncategorizedMHCPError=2007]="UncategorizedMHCPError",x[x.UnreachableMHCP=2008]="UnreachableMHCP",x[x.InvalidSessionStatus=2010]="InvalidSessionStatus",x[x.PostWithoutOptions=2011]="PostWithoutOptions",x[x.AbortedMHCPError=2012]="AbortedMHCPError",x[x.StageAuthThrottled=2013]="StageAuthThrottled",x[x.NoMatchingCodec=2014]="NoMatchingCodec"})(xi||(xi={}));const je={MALFORMED_TOKEN:{code:1e3,message:"Token is malformed",fatal:!0,nominal:!0},EXPIRED_TOKEN:{code:1001,message:"Token expired and is no longer valid",fatal:!0,nominal:!0},UNPUBLISH_FAILURE:{code:1013,message:"Failed to unpublish",fatal:!1,nominal:!1},UNSUBSCRIBE_FAILURE:{code:1014,message:"Failed to unsubscribe",fatal:!1,nominal:!1},PUBLISH_FAILURE:{code:1015,message:"Failed to publish",fatal:!1,nominal:!1},SUBSCRIBE_FAILURE:{code:1016,message:"Failed to subscribe",fatal:!1,nominal:!1},JOIN_TIMED_OUT:{code:1019,message:"Join timed out",fatal:!0,nominal:!1},PUBLISH_TIMED_OUT:{code:1020,message:"Publish timed out",fatal:!1,nominal:!1},SUBSCRIBE_TIMED_OUT:{code:1021,message:"Subscribe timed out",fatal:!1,nominal:!1},OPERATION_ABORTED:{code:1023,message:"Request aborted",fatal:!1,nominal:!0},STAGE_AT_CAPACITY:{code:1024,message:"Stage at capacity",fatal:!0,nominal:!0},INTERNAL_SERVER_ERROR:{code:1025,message:"Internal server error",fatal:!0,nominal:!1},TOKEN_PERMISSIONS_DENIED:{code:1026,message:"Token permissions are not valid for the operation",fatal:!0,nominal:!1},REMOTE_STREAM_NOT_FOUND:{code:1027,message:"Contributor group (PUBLISH) or remote stream (SUBSCRIBE) not found",fatal:!0,nominal:!1},INTERNAL_MHCP_ERROR:{code:1028,message:"Authorization failed due to internal MHCP error",fatal:!0,nominal:!1},UNREACHABLE_MHCP:{code:1030,message:"Authorization failed due to MHCP unreachable",fatal:!0,nominal:!1},INVALID_SESSION_STATUS:{code:1031,message:"Stream has already been published (PUBLISH) or subscribed to (SUBSCRIBE)",fatal:!0,nominal:!1},MHCP_ABORTED:{code:1033,message:"Publisher state conflict",fatal:!0,nominal:!1},STAGE_AUTH_THROTTLED:{code:1034,message:"Too many requests",fatal:!1,nominal:!1},NO_MATCHING_CODEC:{code:1035,message:"No matching codec found",fatal:!0,nominal:!1},UNKNOWN_SERVER_ERROR:{code:1099,message:"Service error code unknown or not found",fatal:!0,nominal:!1},XDP_CONNECTION_LOST:{code:1221,message:"Connection lost during SDP exchange",fatal:!1,nominal:!1},XDP_INVALID_ANSWER_MSG:{code:1222,message:"Invalid answer message received by client",fatal:!1,nominal:!1},XDP_TIMEOUT:{code:1223,message:"Failed to receive SDP answer within timeout period",fatal:!1,nominal:!1},XDP_UNEXPECTED_ERROR:{code:1224,message:"Unexpected error encountered",fatal:!1,nominal:!1},WEBSOCKET_MESSAGE_PARSE_FAILURE:{code:1204,message:"Failed to parse websocket message"},WHIP_TOO_MANY_REQUESTS:{code:1207,message:"WHIP endpoint received too many requests",fatal:!1,nominal:!1},WHIP_POST_FAILURE:{code:1502,message:"WHIP post failure",fatal:!1,nominal:!1},WHIP_DELETE_FAILURE:{code:1503,message:"WHIP delete failure",fatal:!1,nominal:!1},WHIP_URL_MISSING:{code:1504,message:"WHIP delete failure",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_FAILED:{code:1510,message:"Set layer request failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_THROTTLED:{code:1511,message:"Too many set layer requests",fatal:!1,nominal:!0},WHEP_GET_LAYER_STATE_FAILED:{code:1512,message:"Get layer state failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_GET_LAYER_STATE_THROTTLED:{code:1513,message:"Too many get layer state requests",fatal:!1,nominal:!0},EVENT_PLANE_WS_CREATE_FAILED:{code:1300,message:"Error creating WebSocket",fatal:!0,nominal:!1},EVENT_PLANE_WS_UNEXPECTED_CLOSE:{code:1302,message:"Unexpectedly not connected to event plane",fatal:!1,nominal:!1},EVENT_PLANE_PING_SEND_FAIL:{code:1303,message:"Ping send fail",fatal:!1,nominal:!1},EVENT_PLANE_PONG_TIMEOUT:{code:1304,message:"Pong timed out",fatal:!1,nominal:!1},EVENT_PLANE_WS_CLOSE_BEFORE_OPEN:{code:1305,message:"Connect attempt closed by server",fatal:!1,nominal:!1},PEER_CONNECTION_NETWORK_FAILURE:{code:1400,message:"PeerConnection is lost due to unknown network error",fatal:!1,nominal:!1},CREATE_OFFER_FAILURE:{code:1402,message:"Failed to set local description",fatal:!1,nominal:!1},CREATE_PEER_CONNECTION_FAILURE:{code:1403,message:"Failed to create a peer connection",fatal:!1,nominal:!1},ICE_CANDIDATE_ERROR:{code:1404,message:"ICE candidate error",fatal:!1,nominal:!1},SET_ANSWER_FAILURE:{code:1405,message:"Failed to set remote answer",fatal:!1,nominal:!1},NETWORK_FAILURE:{code:1406,message:"Failed due to network problem",fatal:!1,nominal:!1},SEI_INSERT_NOT_PUBLISHING_VIDEO:{code:1460,message:"SEI failed to insert due to not publishing video",fatal:!1,nominal:!0},SEI_INSERT_INBAND_NOT_ENABLED:{code:1461,message:"SEI failed to insert due to in-band messaging not being enabled",fatal:!1,nominal:!0},REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID:{code:1470,message:"Invalid participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID:{code:1471,message:"Invalid remote participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE:{code:1472,message:"Invalid subscriber peer connection state for reassignment",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS:{code:1473,message:"Request rejected because client is already processing a previous reassignment request",fatal:!1,nominal:!1},UNEXPECTED_ERROR:{code:9999,message:"Encountered unexpected error condition. Expected StageClientError type.",fatal:!1,nominal:!1},TRANSFORM_UNEXPECTED_ERROR:{code:1480,message:"Unexpected error occurred during transform execution",fatal:!1,nominal:!1},TRANSFORM_TOO_MANY_ERRORS:{code:1481,message:"Transformer encountered too many consecutive errors",fatal:!1,nominal:!1},TRANSFORM_NOT_SUPPORTED_BY_PLATFORM:{code:1482,message:"Transforms are not supported by this platform",fatal:!1,nominal:!1},CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR:{code:1490,message:"Unexpected error occurred when handling incompatible codecs",fatal:!1,nominal:!1}};var _i;(function(x){x.UNPUBLISH="unpublish",x.UNSUBSCRIBE="unsubscribe",x.UNLOAD="unload",x.CONNECTION_FAIL="connection fail",x.REASSIGNMENT="reassignment"})(_i||(_i={}));const $l="stageJoined",Th="stageParticipantJoined",Rh="stageParticipantLeft",Vm="stageParticipantKicked",kh="stageParticipantUpdated",zm="localPublishingChanged",Oh="stageRefresh",da="stateChange",Wm="error",H="reassignmentRequest",Lc="incompatibleCodecs",Vl="connectionStateChange",Xi="stageStreamUpdate",vr="error",qa="stageStreamSeiMessageReceived",ao="transformError",Fo="reassignmentStarted",Ka="reassignmentSuccess",Fs="reassignmentFailed",Hm="open",Dd="closed",n0="messageParseError",i0="refresh",co="error",zl="stageStateMessage",Wl="sdpAnswer",s0="disconnectMessage",Gm="reassignmentMessage",Uo="incompatibleCodecs";function Ph(x){return m=function(b){return b.replace(/-/g,"+").replace(/_/g,"/").padEnd(b.length+(4-b.length%4)%4,"=")}(x),window.atob(m);var m}class Fc{constructor(f,m){this.analyticsTracker=m,this.rawToken=f;const b=f.split(".");if(b.length!==3)throw Error(`Token format incorrect. length: ${b.length}`);try{this.header=JSON.parse(Ph(b[0]))}catch(N){const D=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token header${D}`)}try{this.claims=JSON.parse(Ph(b[1]))}catch(N){const D=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token claims${D}`)}this.signature=b[2];const{claims:T}=this;this.stageARN=T.resource,this.participantID=T.jti,this.eventsURL=T.events_url,this.whipURL=bi("whipUrl")||T.whip_url,this.userID=T.user_id,this.expirationTime=T.exp,this.topic=T.topic,this.parseVersionFlags(T.version);const{attributes:O}=T;O&&(this.attrGsRole=O.gs_role,this.attrGsSessionId=O.gs_session_id)}getPublishEndpoint(){let f="";return this.whipURL&&this.participantID&&(f=`${this.whipURL}/publish/${this.participantID}`),f}getSubscribeEndpoint(f){let m="";return this.whipURL&&(m=`${this.whipURL}/subscribe/${f}`),m}assertTokenIsUnexpired(f,m,b,T){(!this.expirationTime||Date.now()/1e3>=this.expirationTime)&&this.analyticsTracker.trackErrorAndThrow(new Qt(Object.assign(Object.assign({},je.EXPIRED_TOKEN),{action:Ge.JOIN,location:b,tag:m,token:this,traceId:f,remoteParticipantId:T,message:je.EXPIRED_TOKEN.message,details:`Token expired at ${this.expirationTime} and is no longer valid`})))}parseVersionFlags(f){if(!f)return;const m=f.split(".");m.length===2&&(this.versionFlags=parseInt(m[1],10))}shouldSendSilentAudio(){return this.versionFlags===void 0||!!(this.versionFlags&Ew)}}function ys(x,f){return new Fc(x,f)}class o0{constructor(f,m){this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=()=>{this.trailing&&this.trailingFn&&this.trailingFn(...this.trailingFnArgs),this.clear()},this.throttleDuration=f,this.trailing=!(m&&m.skipTrailing)}invoke(f,...m){return this.throttled?(this.trailingFn=f,this.trailingFnArgs=m,!1):(this.throttled=!0,this.timeout=window.setTimeout(this.unthrottle,this.throttleDuration),f(...m),!0)}clear(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn,delete this.trailingFnArgs}}var st=i(8954);class Hl extends er{constructor(f,m,b,T,O,N,D,M){super(or.SERVER_REQUEST,m,D,!0),Object.assign(this.properties,{action:f,http_method:T,remote_participant_id:N,request_uuid:O,url:b,transport:M})}}const lo="draft-ietf-wish-whip-04";var Zn,a0=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};function Md(x,f){return a0(this,void 0,void 0,function*(){x.validateStatus=b=>b>=200&&b<300||b===403;const m=yield Wn()(x);if(m.status===403){if(m.data.code===2003)throw new gn.AxiosError("Request failed with status code 403","ERR_BAD_REQUEST",x,m.request,m);return x.url===m.request.responseURL?(x.validateStatus=b=>b>=200&&b<300,Wn()(x)):(x.url=m.request.responseURL,f<5?Md(x,f+1):(x.validateStatus=b=>b>=200&&b<300,Wn()(x)))}return m})}function c0(x){return a0(this,void 0,void 0,function*(){return Md(x,0)})}function ei(){}function Nh(x){switch(x){case"new":return vt.NEW;case"closed":return vt.CLOSED;case"disconnected":return vt.DISCONNECTED;case"failed":return vt.FAILED;case"idle":return vt.IDLE;case"checking":case"connecting":return vt.CONNECTING;case"completed":case"connected":return vt.CONNECTED;default:throw new Error(`unknown connecion state: ${x}`)}}function qm(x,f,m){let b=document.createElement(f);const T=()=>{b&&(b.removeEventListener("loadeddata",O),b.removeEventListener("error",T),b.srcObject=null,b.src="",b=null)},O=()=>{T(),m(f)};return b.addEventListener("loadeddata",O),b.addEventListener("error",T),b.srcObject=x,T}class bs extends er{constructor(f,m,b,T,O){super(or.TRACE,f,m,!1),Object.assign(this.properties,{action:T,message:b,remote_participant_id:O})}}class Km extends er{constructor(f,m,b,T,O){super(or.CONNECTION_STATE,m,b,!1),Object.assign(this.properties,{action:f,remote_participant_id:O,state:T})}}class Ah extends er{constructor(f,m,b,T,O){super(or.ICE_GATHERING_STATE,m,b,!1),Object.assign(this.properties,{action:f,remote_participant_id:O,state:T})}}(function(x){x.POST="post",x.CONNECTED="connected",x.ICE_GATHERING="icegathering",x.SDP_EXCHANGE="sdpExchange",x.SET_REMOTE_DESC="setRemoteDesc",x.PEER_CONNECTION="peerConnection"})(Zn||(Zn={}));const Ya="start",Ym="stop";class Ui{constructor(f,m){this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0,this.action=f,this.traceId=m}markActionStart(){this.markStart(Zn.CONNECTED)}markPostStart(){this.markStart(Zn.POST)}markPostStop(){this.markStop(Zn.POST),this.postDuration=this.measure(Zn.POST)}markIceGatheringStart(){this.markStart(Zn.ICE_GATHERING)}markIceGatheringStop(){this.markStop(Zn.ICE_GATHERING),this.timeToCandidate=this.measure(Zn.ICE_GATHERING)}markActionStop(){this.markStop(Zn.CONNECTED),this.timeToConnected=this.measure(Zn.CONNECTED),this.markStop(Zn.PEER_CONNECTION),this.peerConnectionDuration=this.measure(Zn.PEER_CONNECTION)}markSetRemoteDescStart(){this.markStart(Zn.SET_REMOTE_DESC)}markSetRemoteDescStop(){const f=Zn.SET_REMOTE_DESC;this.markStop(f),this.setRemoteDescDuration=this.measure(f),this.markStart(Zn.PEER_CONNECTION)}markSdpExchangeStart(){this.markStart(Zn.SDP_EXCHANGE)}markSdpExchangeStop(){const f=Zn.SDP_EXCHANGE;this.markStop(f),this.sdpExchangeDuration=this.measure(f)}setTransport(f){this.sdpExchangeTransport=f}markStart(f){this.marks[`${this.namespace}.${f}.${Ya}`]=performance.now()}markStop(f){this.marks[`${this.namespace}.${f}.${Ym}`]=performance.now()}measure(f){const m=`${this.namespace}.${f}.${Ya}`,b=`${this.namespace}.${f}.${Ym}`,T=this.marks[m],O=this.marks[b];return T===void 0||O===void 0?0:O-T}get namespace(){return`ivswb.peerclient.${this.action}.${this.traceId.value}`}getMeasurements(){const{optionsDuration:f,postDuration:m,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:D,peerConnectionDuration:M}=this;return{optionsDuration:f,postDuration:m,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:D,peerConnectionDuration:M}}resetMeasurements(f){this.traceId=f,this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0}}var fa,Si,Gl;(function(x){x.VIDEO="video",x.AUDIO="audio"})(fa||(fa={})),function(x){x.DEFAULT="default",x.LOW="low",x.MEDIUM="medium",x.HIGH="high"}(Si||(Si={})),function(x){x.LOWEST_QUALITY="lowest_quality",x.HIGHEST_QUALITY="highest_quality"}(Gl||(Gl={}));var ql=i(7363);class Pr{constructor(f){this.sdp=f}static splitLines(f){return f.trim().split(`
`).map(m=>m.trim())}static splitSections(f){return f.split(`
m=`).map((m,b)=>(b>0?`m=${m}`:m).trim()+Pr.CRLF)}getUniqueRtpHeaderExtensionId(f){const m=[];for(const T of f)if(/^a=extmap:/.test(T.trim())){const O=+T.split("a=extmap:")[1].split(" ")[0];m.includes(O)||m.push(O)}m.sort((T,O)=>T-O);let b=0;for(const T of m){if(T-b>1)return b+1;b=T}return b===14?-1:b+1}withVideoLayersAllocationRtpHeaderExtension(f){const m="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",b=f?f.getRtpHeaderExtensionId(m):-1,T=b===-1?this.getUniqueRtpHeaderExtensionId(Pr.splitLines(this.sdp)):b,O=Pr.splitSections(this.sdp),N=[];for(let M of O){if(/^m=video/.test(M)&&Pr.getRtpHeaderExtensionIdInSection(M,m)===-1){const I=Pr.splitLines(M),F=[];if(T===-1||this.hasRtpHeaderExtensionId(T)){N.push(M);continue}for(const $ of I)if(F.push($),/^a=sendrecv/.test($.trim())){const W=`a=extmap:${T} ${m}`;F.push(W)}M=F.join(Pr.CRLF)+Pr.CRLF}else if(b!==-1&&/^m=video/.test(M)&&Pr.getRtpHeaderExtensionIdInSection(M,m)!==b){const I=Pr.splitLines(M),F=[];for(const $ of I){if(/^a=extmap:/.test($.trim())&&$.split("a=extmap:")[1].split(" ")[1]===m){if(!this.hasRtpHeaderExtensionId(b)){const W=`a=extmap:${b} ${m}`;F.push(W)}continue}F.push($)}M=F.join(Pr.CRLF)+Pr.CRLF}N.push(M)}const D=N.join("");return new Pr(D)}withOpusAudioConfig(f,m){const b=ql.qg(this.sdp);for(const T of b.media)if(T.type==="audio"){const{payload:O}=T.rtp.find(I=>I.codec==="opus");if(!O)continue;let N=T.fmtp.find(I=>I.payload===O);N||(N={payload:O,config:""});const D=ql.Sl(N.config);if(D.maxaveragebitrate=f,typeof m=="boolean"){const I=m?1:0;D["sprop-stereo"]=I,D.stereo=I}let M="";for(const I of Object.keys(D))M+=`${I}=${D[I]}; `;N.config=M.trim()}return new Pr(ql.M9(b))}static getRtpHeaderExtensionIdInSection(f,m){const b=Pr.splitLines(f);for(const T of b)if(/^a=extmap:/.test(T.trim())){const O=T.split("a=extmap:")[1].split(" "),N=+O[0];if(O[1]===m)return N}return-1}getRtpHeaderExtensionId(f){const m=Pr.splitSections(this.sdp);for(const b of m)if(/^m=video/.test(b)){const T=Pr.getRtpHeaderExtensionIdInSection(b,f);if(T!==-1)return T}return-1}hasRtpHeaderExtensionId(f){const m=Pr.splitLines(this.sdp);for(const b of m)if(/^a=extmap:/.test(b.trim())&&+b.split("a=extmap:")[1].split(" ")[0]===f)return!0;return!1}hasAudioNacksEnabled(){var f,m,b;return((b=(m=((f=ql.qg(this.sdp).media.filter(T=>T.type==="audio")[0])!==null&&f!==void 0?f:{}).rtcpFb)===null||m===void 0?void 0:m.filter(T=>T.type==="nack"))!==null&&b!==void 0?b:[]).length>0}}Pr.CRLF=`\r
`,Pr.rfc7587LowestBitrate=6e3,Pr.rfc7587HighestBitrate=51e4;const Uc=200,uo=2500,Ih=10,Qa=30,Ld=12,Bc=128,Qm=64,Jm={[Si.DEFAULT]:0,[Si.LOW]:50,[Si.MEDIUM]:150,[Si.HIGH]:250},l0={[Si.DEFAULT]:0,[Si.LOW]:100,[Si.MEDIUM]:200,[Si.HIGH]:300};var u0=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};const Xm="H264",Fd=x=>{const f=x==null?void 0:x.split("/");if((f==null?void 0:f.length)===2)return f[1]},fo=(x,f)=>{const m=Fd(x);if(x===void 0||m===void 0)return;const b={mimeSubtype:m};if(f){const T=(O=>{const N=O.split(";"),D=new Map;for(const M of N){const[I,F]=M.split("=");D.set(I,F)}return D})(f);switch(m){case Xm:{const O=T.get("profile-level-id");O&&((N,D)=>{if(D.length<6)return;const M=D.substring(0,4),I=parseInt(D.substring(4,6),16);N.profile=M,N.level=I})(b,O);break}case"H265":((O,N)=>{const D=N.get("profile-id")||"0",M=N.get("tier-flag")||"0",I=parseInt(N.get("level-id")||"0",10),F=[M,D].join("_");O.profile=F,O.level=I})(b,T)}}return b},Zm=(x,f)=>x.sort((m,b)=>{if(Fd(m.mimeType)===Xm){const T=fo(m.mimeType,m.sdpFmtpLine);if((T==null?void 0:T.profile)===f)return-1}return 0}),eg=(x,f)=>{var m;const b=fo(x.mimeType,x.sdpFmtpLine);return(b==null?void 0:b.mimeSubtype.toLowerCase())===f.mime.toLowerCase()&&((m=b==null?void 0:b.profile)===null||m===void 0?void 0:m.toLowerCase().indexOf(f.config.toLowerCase()))===0},tg=(x,f)=>f.filter(m=>!m.mimeType.endsWith("rtx")).filter(m=>m.mimeType.indexOf("packetization-mode=0")===-1).find(m=>x.reduce((b,T)=>b&&eg(m,T)===!1,!0));class d0 extends er{constructor(f,m,b,T,O,N,D,M,I){var F,$;super(or.PUBLISHED_VIDEO_STATS,f,m,!1),Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(F=b==null?void 0:b.node)!==null&&F!==void 0?F:"",cluster:($=b==null?void 0:b.cluster)!==null&&$!==void 0?$:""},((W,ie,be,ge,le,ae)=>{var se,we,Ve,ot,Tt,Gt,qt,Bt,Nt,Jt,cr,yt,bt,sr,At,It,lr,Or,Fr,rn,Ar,vn,ln,un,dn,fn,hn,Un,pn,hi,Hn;const Pi=(we=(se=W==null?void 0:W.qualityLimitationDurations)===null||se===void 0?void 0:se.cpu)!==null&&we!==void 0?we:0,Ni=(ot=(Ve=W==null?void 0:W.qualityLimitationDurations)===null||Ve===void 0?void 0:Ve.bandwidth)!==null&&ot!==void 0?ot:0,pi=Math.max((Tt=W==null?void 0:W.bytesSent)!==null&&Tt!==void 0?Tt:0,0),Vi=8*pi/(ae??1),ts=Math.max((Gt=ie==null?void 0:ie.packetsLost)!==null&&Gt!==void 0?Gt:0,0),Ss=Math.max((qt=W==null?void 0:W.packetsSent)!==null&&qt!==void 0?qt:0,0),mn=ts/Math.max(Ss,1),li=fo(ge==null?void 0:ge.mimeType,ge==null?void 0:ge.sdpFmtpLine);return{active:!!(W!=null&&W.framesPerSecond)&&W.framesPerSecond!==0,bytes_sent:pi,codec_mime_type:li==null?void 0:li.mimeSubtype,codec_profile:li==null?void 0:li.profile,codec_level:li==null?void 0:li.level,configured_bitrate:le==null?void 0:le.max_bitrate,connection_bandwidth:(Bt=be==null?void 0:be.availableOutgoingBitrate)!==null&&Bt!==void 0?Bt:0,encode_bitrate:Vi,encoder_implementation:(Nt=W==null?void 0:W.encoderImplementation)!==null&&Nt!==void 0?Nt:"unknown",fir_count:(Jt=W==null?void 0:W.firCount)!==null&&Jt!==void 0?Jt:0,fraction_packets_lost:mn,frame_height:Math.max((cr=W==null?void 0:W.frameHeight)!==null&&cr!==void 0?cr:0,0),frame_width:Math.max((yt=W==null?void 0:W.frameWidth)!==null&&yt!==void 0?yt:0,0),frames_encoded:(bt=W==null?void 0:W.framesEncoded)!==null&&bt!==void 0?bt:0,frames_per_second:Math.max((sr=W==null?void 0:W.framesPerSecond)!==null&&sr!==void 0?sr:0,0),frames_sent:(At=W==null?void 0:W.framesSent)!==null&&At!==void 0?At:0,header_bytes_sent:(It=W==null?void 0:W.headerBytesSent)!==null&&It!==void 0?It:0,huge_frames_sent:(lr=W==null?void 0:W.hugeFramesSent)!==null&&lr!==void 0?lr:0,key_frames_encoded:(Or=W==null?void 0:W.keyFramesEncoded)!==null&&Or!==void 0?Or:0,nack_count:(Fr=W==null?void 0:W.nackCount)!==null&&Fr!==void 0?Fr:0,packets_lost:ts,packets_sent:Ss,power_efficient_encoder:(rn=W==null?void 0:W.powerEfficientEncoder)!==null&&rn!==void 0&&rn,pli_count:(Ar=W==null?void 0:W.pliCount)!==null&&Ar!==void 0?Ar:0,quality_limitation_reason:(vn=W==null?void 0:W.qualityLimitationReason)!==null&&vn!==void 0?vn:"none",quality_limitation_resolution_changes:(ln=W==null?void 0:W.qualityLimitationResolutionChanges)!==null&&ln!==void 0?ln:0,quality_limitation_cpu_duration:Pi,quality_limitation_bandwidth_duration:Ni,retransmitted_bytes_sent:(un=W==null?void 0:W.retransmittedBytesSent)!==null&&un!==void 0?un:0,retransmitted_packets_sent:(dn=W==null?void 0:W.retransmittedPacketsSent)!==null&&dn!==void 0?dn:0,rid:(fn=W==null?void 0:W.rid)!==null&&fn!==void 0?fn:"no-rid",scalability_mode:(hn=W==null?void 0:W.scalabilityMode)!==null&&hn!==void 0?hn:"unknown",target_bitrate:Math.max((Un=W==null?void 0:W.targetBitrate)!==null&&Un!==void 0?Un:0,0),total_encode_time:(pn=W==null?void 0:W.totalEncodeTime)!==null&&pn!==void 0?pn:0,total_encoded_bytes_target:(hi=W==null?void 0:W.totalEncodedBytesTarget)!==null&&hi!==void 0?hi:0,total_packet_send_delay:(Hn=W==null?void 0:W.totalPacketSendDelay)!==null&&Hn!==void 0?Hn:0}})(T,O,N,D,M,I)))}}class rg extends er{constructor(f,m,b,T,O,N,D,M,I,F,$,W){var ie,be,ge,le;super(or.PUBLISHED_VIDEO_STATS_WINDOW,f,m,!1);const ae=Math.max(((ie=T==null?void 0:T.timestamp)!==null&&ie!==void 0?ie:0)-((be=O==null?void 0:O.timestamp)!==null&&be!==void 0?be:0),0);Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(ge=b==null?void 0:b.node)!==null&&ge!==void 0?ge:"",cluster:(le=b==null?void 0:b.cluster)!==null&&le!==void 0?le:"",window_size_ms:ae},((se,we,Ve,ot,Tt,Gt,qt,Bt,Nt,Jt)=>{var cr,yt,bt,sr,At,It,lr,Or,Fr,rn,Ar,vn,ln,un,dn,fn,hn,Un,pn,hi,Hn,Pi,Ni,pi,Vi,ts,Ss,mn,li,$o,_a,ws,$s,Sa,Vo,zo,Wo,Ho,Go,Vs,rc,nu,iu,su,nf,Hc,sf,of,Gc,u,v,k;const j=(yt=(cr=se==null?void 0:se.qualityLimitationDurations)===null||cr===void 0?void 0:cr.cpu)!==null&&yt!==void 0?yt:0,V=(sr=(bt=we==null?void 0:we.qualityLimitationDurations)===null||bt===void 0?void 0:bt.cpu)!==null&&sr!==void 0?sr:0,K=(It=(At=se==null?void 0:se.qualityLimitationDurations)===null||At===void 0?void 0:At.bandwidth)!==null&&It!==void 0?It:0,te=(Or=(lr=we==null?void 0:we.qualityLimitationDurations)===null||lr===void 0?void 0:lr.bandwidth)!==null&&Or!==void 0?Or:0,oe=Math.max(((Fr=se==null?void 0:se.bytesSent)!==null&&Fr!==void 0?Fr:0)-((rn=we==null?void 0:we.bytesSent)!==null&&rn!==void 0?rn:0),0),pe=typeof Bt!="number"?1:Bt/1e3,Ne=8*oe/pe,ke=Math.max(((Ar=Ve==null?void 0:Ve.packetsLost)!==null&&Ar!==void 0?Ar:0)-((vn=ot==null?void 0:ot.packetsLost)!==null&&vn!==void 0?vn:0),0),Me=Math.max(((ln=se==null?void 0:se.packetsSent)!==null&&ln!==void 0?ln:0)-((un=we==null?void 0:we.packetsSent)!==null&&un!==void 0?un:0),0),at=ke/Math.max(Me,1),nt=fo(Gt==null?void 0:Gt.mimeType,Gt==null?void 0:Gt.sdpFmtpLine),kt=8*(Jt||0)/pe;return{active:!!(se!=null&&se.framesPerSecond)&&(se==null?void 0:se.framesPerSecond)!==0,bytes_sent:oe,codec_mime_type:nt==null?void 0:nt.mimeSubtype,codec_profile:nt==null?void 0:nt.profile,codec_level:nt==null?void 0:nt.level,configured_bitrate:qt==null?void 0:qt.max_bitrate,connection_bandwidth:(dn=Tt==null?void 0:Tt.availableOutgoingBitrate)!==null&&dn!==void 0?dn:0,encode_bitrate:Ne,encoder_implementation:(fn=se==null?void 0:se.encoderImplementation)!==null&&fn!==void 0?fn:"unknown",fir_count:Math.max(((hn=se==null?void 0:se.firCount)!==null&&hn!==void 0?hn:0)-((Un=we==null?void 0:we.firCount)!==null&&Un!==void 0?Un:0),0),fraction_packets_lost:at,frame_height:Math.max((pn=se==null?void 0:se.frameHeight)!==null&&pn!==void 0?pn:0,0),frame_width:Math.max((hi=se==null?void 0:se.frameWidth)!==null&&hi!==void 0?hi:0,0),frames_encoded:Math.max(((Hn=se==null?void 0:se.framesEncoded)!==null&&Hn!==void 0?Hn:0)-((Pi=we==null?void 0:we.framesEncoded)!==null&&Pi!==void 0?Pi:0),0),frames_per_second:Math.max((Ni=se==null?void 0:se.framesPerSecond)!==null&&Ni!==void 0?Ni:0,0),frames_sent:Math.max(((pi=se==null?void 0:se.framesSent)!==null&&pi!==void 0?pi:0)-((Vi=we==null?void 0:we.framesSent)!==null&&Vi!==void 0?Vi:0),0),header_bytes_sent:Math.max(((ts=se==null?void 0:se.headerBytesSent)!==null&&ts!==void 0?ts:0)-((Ss=we==null?void 0:we.headerBytesSent)!==null&&Ss!==void 0?Ss:0),0),huge_frames_sent:Math.max(((mn=se==null?void 0:se.hugeFramesSent)!==null&&mn!==void 0?mn:0)-((li=we==null?void 0:we.hugeFramesSent)!==null&&li!==void 0?li:0),0),key_frames_encoded:Math.max((($o=se==null?void 0:se.keyFramesEncoded)!==null&&$o!==void 0?$o:0)-((_a=we==null?void 0:we.keyFramesEncoded)!==null&&_a!==void 0?_a:0),0),nack_count:Math.max(((ws=se==null?void 0:se.nackCount)!==null&&ws!==void 0?ws:0)-(($s=we==null?void 0:we.nackCount)!==null&&$s!==void 0?$s:0),0),packets_lost:ke,packets_sent:Me,power_efficient_encoder:(Sa=se==null?void 0:se.powerEfficientEncoder)!==null&&Sa!==void 0&&Sa,pli_count:Math.max(((Vo=se==null?void 0:se.pliCount)!==null&&Vo!==void 0?Vo:0)-((zo=we==null?void 0:we.pliCount)!==null&&zo!==void 0?zo:0),0),quality_limitation_reason:(Wo=se==null?void 0:se.qualityLimitationReason)!==null&&Wo!==void 0?Wo:"none",quality_limitation_resolution_changes:Math.max(((Ho=se==null?void 0:se.qualityLimitationResolutionChanges)!==null&&Ho!==void 0?Ho:0)-((Go=we==null?void 0:we.qualityLimitationResolutionChanges)!==null&&Go!==void 0?Go:0),0),quality_limitation_cpu_duration:Math.max(j-V,0),quality_limitation_bandwidth_duration:Math.max(K-te,0),retransmitted_bytes_sent:Math.max(((Vs=se==null?void 0:se.retransmittedBytesSent)!==null&&Vs!==void 0?Vs:0)-((rc=we==null?void 0:we.retransmittedBytesSent)!==null&&rc!==void 0?rc:0),0),rid:(nu=se==null?void 0:se.rid)!==null&&nu!==void 0?nu:"no-rid",retransmitted_packets_sent:Math.max(((iu=se==null?void 0:se.retransmittedPacketsSent)!==null&&iu!==void 0?iu:0)-((su=we==null?void 0:we.retransmittedPacketsSent)!==null&&su!==void 0?su:0),0),scalability_mode:(nf=se==null?void 0:se.scalabilityMode)!==null&&nf!==void 0?nf:"unknown",target_bitrate:Math.max((Hc=se==null?void 0:se.targetBitrate)!==null&&Hc!==void 0?Hc:0,0),total_encode_time:Math.max(((sf=se==null?void 0:se.totalEncodeTime)!==null&&sf!==void 0?sf:0)-((of=we==null?void 0:we.totalEncodeTime)!==null&&of!==void 0?of:0),0),total_encoded_bytes_target:Math.max(((Gc=se==null?void 0:se.totalEncodedBytesTarget)!==null&&Gc!==void 0?Gc:0)-((u=we==null?void 0:we.totalEncodedBytesTarget)!==null&&u!==void 0?u:0),0),total_packet_send_delay:Math.max(((v=se==null?void 0:se.totalPacketSendDelay)!==null&&v!==void 0?v:0)-((k=we==null?void 0:we.totalPacketSendDelay)!==null&&k!==void 0?k:0),0),sei_write_count:Nt,sei_bytes_sent:Jt,sei_bitrate:kt}})(T,O,N,D,M,I,F,ae,$,W)))}}class ng extends er{constructor(f,m,b,T,O,N,D,M,I,F){var $,W;super(or.PUBLISHED_AUDIO_STATS,f,m,!1),Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:($=b==null?void 0:b.node)!==null&&$!==void 0?$:"",cluster:(W=b==null?void 0:b.cluster)!==null&&W!==void 0?W:""},((ie,be,ge,le,ae,se,we)=>{var Ve,ot,Tt,Gt,qt,Bt,Nt,Jt,cr,yt,bt;const sr=Math.max((Ve=ie==null?void 0:ie.bytesSent)!==null&&Ve!==void 0?Ve:0,0),At=8*sr/(se??1),It=Math.max((ot=be==null?void 0:be.packetsLost)!==null&&ot!==void 0?ot:0,0),lr=Math.max((Tt=ie==null?void 0:ie.packetsSent)!==null&&Tt!==void 0?Tt:0,0),Or=It/Math.max(lr,1),Fr=fo(le==null?void 0:le.mimeType,le==null?void 0:le.sdpFmtpLine);return{audio_nacks_enabled:(Gt=we==null?void 0:we.audioNacks)!==null&&Gt!==void 0&&Gt,bytes_sent:sr,codec_mime_type:Fr==null?void 0:Fr.mimeSubtype,configured_bitrate:(qt=ae==null?void 0:ae.max_audio_bitrate_bps)!==null&&qt!==void 0?qt:0,connection_bandwidth:(Bt=ge==null?void 0:ge.availableOutgoingBitrate)!==null&&Bt!==void 0?Bt:0,encode_bitrate:At,fraction_packets_lost:Or,header_bytes_sent:(Nt=ie==null?void 0:ie.headerBytesSent)!==null&&Nt!==void 0?Nt:0,nack_count:(Jt=ie==null?void 0:ie.nackCount)!==null&&Jt!==void 0?Jt:0,packets_lost:It,packets_sent:lr,retransmitted_bytes_sent:(cr=ie==null?void 0:ie.retransmittedBytesSent)!==null&&cr!==void 0?cr:0,retransmitted_packets_sent:(yt=ie==null?void 0:ie.retransmittedPacketsSent)!==null&&yt!==void 0?yt:0,target_bitrate:(bt=ie==null?void 0:ie.targetBitrate)!==null&&bt!==void 0?bt:0}})(T,O,N,D,M,I,F)))}}class mr extends er{constructor(f,m,b,T,O,N,D,M,I,F,$){var W,ie,be,ge;super(or.PUBLISHED_AUDIO_STATS_WINDOW,f,m,!1);const le=Math.max(((W=T==null?void 0:T.timestamp)!==null&&W!==void 0?W:0)-((ie=O==null?void 0:O.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:Ge.PUBLISH,node:(be=b==null?void 0:b.node)!==null&&be!==void 0?be:"",cluster:(ge=b==null?void 0:b.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le},((ae,se,we,Ve,ot,Tt,Gt,qt,Bt)=>{var Nt,Jt,cr,yt,bt,sr,At,It,lr,Or,Fr,rn,Ar,vn,ln,un,dn,fn,hn,Un;const pn=Math.max(((Nt=ae==null?void 0:ae.bytesSent)!==null&&Nt!==void 0?Nt:0)-((Jt=se==null?void 0:se.bytesSent)!==null&&Jt!==void 0?Jt:0),0),hi=8*pn/(typeof qt!="number"?1:qt/1e3),Hn=Math.max(((cr=we==null?void 0:we.packetsLost)!==null&&cr!==void 0?cr:0)-((yt=Ve==null?void 0:Ve.packetsLost)!==null&&yt!==void 0?yt:0),0),Pi=Math.max(((bt=ae==null?void 0:ae.packetsSent)!==null&&bt!==void 0?bt:0)-((sr=se==null?void 0:se.packetsSent)!==null&&sr!==void 0?sr:0),0),Ni=Hn/Math.max(Pi,1),pi=fo(Tt==null?void 0:Tt.mimeType,Tt==null?void 0:Tt.sdpFmtpLine);return{audio_nacks_enabled:(At=Bt==null?void 0:Bt.audioNacks)!==null&&At!==void 0&&At,bytes_sent:pn,codec_mime_type:pi==null?void 0:pi.mimeSubtype,configured_bitrate:(It=Gt==null?void 0:Gt.max_audio_bitrate_bps)!==null&&It!==void 0?It:0,connection_bandwidth:(lr=ot==null?void 0:ot.availableOutgoingBitrate)!==null&&lr!==void 0?lr:0,encode_bitrate:hi,fraction_packets_lost:Ni,header_bytes_sent:Math.max(((Or=ae==null?void 0:ae.headerBytesSent)!==null&&Or!==void 0?Or:0)-((Fr=se==null?void 0:se.headerBytesSent)!==null&&Fr!==void 0?Fr:0),0),nack_count:Math.max(((rn=ae==null?void 0:ae.nackCount)!==null&&rn!==void 0?rn:0)-((Ar=se==null?void 0:se.nackCount)!==null&&Ar!==void 0?Ar:0),0),packets_lost:Hn,packets_sent:Math.max(((vn=ae==null?void 0:ae.packetsSent)!==null&&vn!==void 0?vn:0)-((ln=se==null?void 0:se.packetsSent)!==null&&ln!==void 0?ln:0),0),retransmitted_bytes_sent:Math.max(((un=ae==null?void 0:ae.retransmittedBytesSent)!==null&&un!==void 0?un:0)-((dn=se==null?void 0:se.retransmittedBytesSent)!==null&&dn!==void 0?dn:0),0),retransmitted_packets_sent:Math.max(((fn=ae==null?void 0:ae.retransmittedPacketsSent)!==null&&fn!==void 0?fn:0)-((hn=se==null?void 0:se.retransmittedPacketsSent)!==null&&hn!==void 0?hn:0),0),target_bitrate:Math.max((Un=ae==null?void 0:ae.targetBitrate)!==null&&Un!==void 0?Un:0,0)}})(T,O,N,D,M,I,F,le,$)))}}class Ow extends er{constructor(f,m,b,T,O,N,D,M){var I,F;super(or.SUBSCRIBED_VIDEO_STATS,f,m,!1),Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(I=T==null?void 0:T.node)!==null&&I!==void 0?I:"",cluster:(F=T==null?void 0:T.cluster)!==null&&F!==void 0?F:"",remote_participant_id:b},(($,W,ie,be)=>{var ge,le,ae,se,we,Ve,ot,Tt,Gt,qt,Bt,Nt,Jt,cr,yt,bt,sr,At,It,lr,Or,Fr,rn;let Ar=0;$!=null&&$.jitterBufferDelay&&($!=null&&$.jitterBufferEmittedCount)&&$.jitterBufferEmittedCount>0&&(Ar=$.jitterBufferDelay/$.jitterBufferEmittedCount);const vn=be??1,ln=Math.max((ge=$==null?void 0:$.bytesReceived)!==null&&ge!==void 0?ge:0,0),un=8*ln/vn;let dn=0;$!=null&&$.totalDecodeTime&&($!=null&&$.framesDecoded)&&(dn=$.totalDecodeTime/Math.max($==null?void 0:$.framesDecoded,1));const fn=Math.max((le=$==null?void 0:$.packetsLost)!==null&&le!==void 0?le:0,0),hn=Math.max((ae=$==null?void 0:$.packetsReceived)!==null&&ae!==void 0?ae:0,0),Un=fn/Math.max(hn+fn,1),pn=fo(ie==null?void 0:ie.mimeType,ie==null?void 0:ie.sdpFmtpLine);return{bytes_received:ln,codec_mime_type:pn==null?void 0:pn.mimeSubtype,codec_profile:pn==null?void 0:pn.profile,codec_level:pn==null?void 0:pn.level,connection_bandwidth:(se=W==null?void 0:W.availableIncomingBitrate)!==null&&se!==void 0?se:0,decode_bitrate:un,decoder_implementation:(we=$==null?void 0:$.decoderImplementation)!==null&&we!==void 0?we:"unknown",fir_count:Math.max((Ve=$==null?void 0:$.firCount)!==null&&Ve!==void 0?Ve:0,0),fraction_packets_lost:Un,frame_decode_time_avg:dn,frame_height:Math.max((ot=$==null?void 0:$.frameHeight)!==null&&ot!==void 0?ot:0,0),frame_width:Math.max((Tt=$==null?void 0:$.frameWidth)!==null&&Tt!==void 0?Tt:0,0),frames_decoded:Math.max((Gt=$==null?void 0:$.framesDecoded)!==null&&Gt!==void 0?Gt:0,0),frames_dropped:Math.max((qt=$==null?void 0:$.framesDropped)!==null&&qt!==void 0?qt:0,0),frames_received:Math.max((Bt=$==null?void 0:$.framesReceived)!==null&&Bt!==void 0?Bt:0,0),freeze_count:Math.max((Nt=$==null?void 0:$.freezeCount)!==null&&Nt!==void 0?Nt:0,0),frames_rendered:Math.max((Jt=$==null?void 0:$.framesRendered)!==null&&Jt!==void 0?Jt:0,0),frames_per_second:Math.max((cr=$==null?void 0:$.framesPerSecond)!==null&&cr!==void 0?cr:0,0),header_bytes_received:Math.max((yt=$==null?void 0:$.headerBytesReceived)!==null&&yt!==void 0?yt:0,0),jitter_buffer_delay_avg:Ar,key_frames_decoded:Math.max((bt=$==null?void 0:$.keyFramesDecoded)!==null&&bt!==void 0?bt:0,0),nack_count:Math.max((sr=$==null?void 0:$.nackCount)!==null&&sr!==void 0?sr:0,0),packets_discarded:Math.max((At=$==null?void 0:$.packetsDiscarded)!==null&&At!==void 0?At:0,0),packets_lost:fn,packets_received:hn,pause_count:Math.max((It=$==null?void 0:$.pauseCount)!==null&&It!==void 0?It:0,0),pli_count:Math.max((lr=$==null?void 0:$.pliCount)!==null&&lr!==void 0?lr:0,0),power_efficient_decoder:(Or=$==null?void 0:$.powerEfficientDecoder)!==null&&Or!==void 0&&Or,total_freezes_duration:Math.max((Fr=$==null?void 0:$.totalFreezesDuration)!==null&&Fr!==void 0?Fr:0,0),total_pauses_duration:Math.max((rn=$==null?void 0:$.totalPausesDuration)!==null&&rn!==void 0?rn:0,0)}})(O,N,D,M)))}}class Pw extends er{constructor(f,m,b,T,O,N,D,M,I,F,$){var W,ie,be,ge;super(or.SUBSCRIBED_VIDEO_STATS_WINDOW,f,m,!1);const le=Math.max(((W=O==null?void 0:O.timestamp)!==null&&W!==void 0?W:0)-((ie=N==null?void 0:N.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(be=T==null?void 0:T.node)!==null&&be!==void 0?be:"",cluster:(ge=T==null?void 0:T.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le,remote_participant_id:b},((ae,se,we,Ve,ot,Tt,Gt,qt)=>{var Bt,Nt,Jt,cr,yt,bt,sr,At,It,lr,Or,Fr,rn,Ar,vn,ln,un,dn,fn,hn,Un,pn,hi,Hn,Pi,Ni,pi,Vi,ts,Ss,mn,li,$o,_a,ws,$s,Sa,Vo,zo,Wo,Ho,Go,Vs;let rc=0,nu=0;if(ae!=null&&ae.jitterBufferEmittedCount&&(se!=null&&se.jitterBufferEmittedCount)&&ae.jitterBufferEmittedCount>se.jitterBufferEmittedCount){ae!=null&&ae.jitterBufferDelay&&(se!=null&&se.jitterBufferDelay)&&(rc=(ae.jitterBufferDelay-se.jitterBufferDelay)/(ae.jitterBufferEmittedCount-se.jitterBufferEmittedCount));const V=se==null?void 0:se.jitterBufferMinimumDelay,K=ae==null?void 0:ae.jitterBufferMinimumDelay;V&&K&&(nu=(K-V)/(ae.jitterBufferEmittedCount-se.jitterBufferEmittedCount))}const iu=Math.max(((Bt=ae==null?void 0:ae.bytesReceived)!==null&&Bt!==void 0?Bt:0)-((Nt=se==null?void 0:se.bytesReceived)!==null&&Nt!==void 0?Nt:0),0),su=typeof ot!="number"?1:ot/1e3,nf=8*iu/su,Hc=Math.max(((Jt=ae==null?void 0:ae.totalDecodeTime)!==null&&Jt!==void 0?Jt:0)-((cr=se==null?void 0:se.totalDecodeTime)!==null&&cr!==void 0?cr:0),0),sf=Math.max(((yt=ae==null?void 0:ae.framesDecoded)!==null&&yt!==void 0?yt:0)-((bt=se==null?void 0:se.framesDecoded)!==null&&bt!==void 0?bt:0),0),of=Hc/Math.max(sf,1),Gc=Math.max(((sr=ae==null?void 0:ae.packetsLost)!==null&&sr!==void 0?sr:0)-((At=se==null?void 0:se.packetsLost)!==null&&At!==void 0?At:0),0),u=Math.max(((It=ae==null?void 0:ae.packetsReceived)!==null&&It!==void 0?It:0)-((lr=se==null?void 0:se.packetsReceived)!==null&&lr!==void 0?lr:0),0),v=Gc/Math.max(u+Gc,1),k=fo(Ve==null?void 0:Ve.mimeType,Ve==null?void 0:Ve.sdpFmtpLine),j=8*(qt||0)/su;return{bytes_received:iu,codec_mime_type:k==null?void 0:k.mimeSubtype,codec_profile:k==null?void 0:k.profile,codec_level:k==null?void 0:k.level,connection_bandwidth:(Or=we==null?void 0:we.availableIncomingBitrate)!==null&&Or!==void 0?Or:0,decode_bitrate:nf,decoder_implementation:(Fr=ae==null?void 0:ae.decoderImplementation)!==null&&Fr!==void 0?Fr:"unknown",fir_count:Math.max(((rn=ae==null?void 0:ae.firCount)!==null&&rn!==void 0?rn:0)-((Ar=se==null?void 0:se.firCount)!==null&&Ar!==void 0?Ar:0),0),fraction_packets_lost:v,frame_decode_time_avg:of,frame_height:Math.max((vn=ae==null?void 0:ae.frameHeight)!==null&&vn!==void 0?vn:0,0),frame_width:Math.max((ln=ae==null?void 0:ae.frameWidth)!==null&&ln!==void 0?ln:0,0),frames_decoded:Math.max(((un=ae==null?void 0:ae.framesDecoded)!==null&&un!==void 0?un:0)-((dn=se==null?void 0:se.framesDecoded)!==null&&dn!==void 0?dn:0),0),frames_dropped:Math.max(((fn=ae==null?void 0:ae.framesDropped)!==null&&fn!==void 0?fn:0)-((hn=se==null?void 0:se.framesDropped)!==null&&hn!==void 0?hn:0),0),frames_received:Math.max(((Un=ae==null?void 0:ae.framesReceived)!==null&&Un!==void 0?Un:0)-((pn=se==null?void 0:se.framesReceived)!==null&&pn!==void 0?pn:0),0),freeze_count:Math.max(((hi=ae==null?void 0:ae.freezeCount)!==null&&hi!==void 0?hi:0)-((Hn=se==null?void 0:se.freezeCount)!==null&&Hn!==void 0?Hn:0),0),frames_rendered:Math.max((Pi=ae==null?void 0:ae.framesRendered)!==null&&Pi!==void 0?Pi:0,0),frames_per_second:Math.max((Ni=ae==null?void 0:ae.framesPerSecond)!==null&&Ni!==void 0?Ni:0,0),header_bytes_received:Math.max(((pi=ae==null?void 0:ae.headerBytesReceived)!==null&&pi!==void 0?pi:0)-((Vi=se==null?void 0:se.headerBytesReceived)!==null&&Vi!==void 0?Vi:0),0),configured_jitter_buffer_min_delay_ms:Tt??0,jitter_buffer_min_obtainable_delay:nu,jitter_buffer_delay_avg:rc,key_frames_decoded:Math.max(((ts=ae==null?void 0:ae.keyFramesDecoded)!==null&&ts!==void 0?ts:0)-((Ss=se==null?void 0:se.keyFramesDecoded)!==null&&Ss!==void 0?Ss:0),0),nack_count:Math.max(((mn=ae==null?void 0:ae.nackCount)!==null&&mn!==void 0?mn:0)-((li=se==null?void 0:se.nackCount)!==null&&li!==void 0?li:0),0),packets_discarded:Math.max((($o=ae==null?void 0:ae.packetsDiscarded)!==null&&$o!==void 0?$o:0)-((_a=se==null?void 0:se.packetsDiscarded)!==null&&_a!==void 0?_a:0),0),packets_lost:Gc,packets_received:u,pause_count:Math.max(((ws=ae==null?void 0:ae.pauseCount)!==null&&ws!==void 0?ws:0)-(($s=se==null?void 0:se.pauseCount)!==null&&$s!==void 0?$s:0),0),pli_count:Math.max(((Sa=ae==null?void 0:ae.pliCount)!==null&&Sa!==void 0?Sa:0)-((Vo=se==null?void 0:se.pliCount)!==null&&Vo!==void 0?Vo:0),0),power_efficient_decoder:(zo=ae==null?void 0:ae.powerEfficientDecoder)!==null&&zo!==void 0&&zo,total_freezes_duration:Math.max(((Wo=ae==null?void 0:ae.totalFreezesDuration)!==null&&Wo!==void 0?Wo:0)-((Ho=se==null?void 0:se.totalFreezesDuration)!==null&&Ho!==void 0?Ho:0),0),total_pauses_duration:Math.max(((Go=ae==null?void 0:ae.totalPausesDuration)!==null&&Go!==void 0?Go:0)-((Vs=se==null?void 0:se.totalPausesDuration)!==null&&Vs!==void 0?Vs:0),0),sei_read_count:Gt,sei_bytes_received:qt,sei_bitrate:j}})(O,N,D,M,le,I,F,$)))}}class Ud extends er{constructor(f,m,b,T,O,N,D,M,I){var F,$;super(or.SUBSCRIBED_AUDIO_STATS,f,m,!1),Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,node:(F=T==null?void 0:T.node)!==null&&F!==void 0?F:"",cluster:($=T==null?void 0:T.cluster)!==null&&$!==void 0?$:"",remote_participant_id:b},((W,ie,be,ge,le)=>{var ae,se,we,Ve,ot,Tt,Gt,qt,Bt,Nt,Jt,cr,yt,bt,sr,At,It;let lr=0;W!=null&&W.jitterBufferDelay&&(W!=null&&W.jitterBufferEmittedCount)&&W.jitterBufferEmittedCount>0&&(lr=W.jitterBufferDelay/W.jitterBufferEmittedCount);const Or=ge??1,Fr=Math.max((ae=W==null?void 0:W.bytesReceived)!==null&&ae!==void 0?ae:0,0),rn=8*Fr/Or,Ar=Math.max((se=W==null?void 0:W.packetsLost)!==null&&se!==void 0?se:0,0),vn=Math.max((we=W==null?void 0:W.packetsReceived)!==null&&we!==void 0?we:0,0),ln=Ar/Math.max(vn+Ar,1),un=Math.max((Ve=W==null?void 0:W.concealedSamples)!==null&&Ve!==void 0?Ve:0,0),dn=Math.max((ot=W==null?void 0:W.totalSamplesReceived)!==null&&ot!==void 0?ot:0,0),fn=un/Math.max(dn,1),hn=fo(be==null?void 0:be.mimeType,be==null?void 0:be.sdpFmtpLine);return{audio_level:(Tt=W==null?void 0:W.audioLevel)!==null&&Tt!==void 0?Tt:0,audio_nacks_enabled:(Gt=le==null?void 0:le.audioNacks)!==null&&Gt!==void 0&&Gt,bytes_received:Fr,codec_mime_type:hn==null?void 0:hn.mimeSubtype,connection_bandwidth:(qt=ie==null?void 0:ie.availableIncomingBitrate)!==null&&qt!==void 0?qt:0,concealed_samples:un,concealment_events:Math.max((Bt=W==null?void 0:W.concealmentEvents)!==null&&Bt!==void 0?Bt:0,0),silent_concealed_samples:Math.max((Nt=W==null?void 0:W.silentConcealedSamples)!==null&&Nt!==void 0?Nt:0,0),decode_bitrate:rn,fraction_audio_concealed:fn,fraction_packets_lost:ln,header_bytes_received:Math.max((Jt=W==null?void 0:W.headerBytesReceived)!==null&&Jt!==void 0?Jt:0,0),inserted_samples_for_deceleration:Math.max((cr=W==null?void 0:W.insertedSamplesForDeceleration)!==null&&cr!==void 0?cr:0,0),jitter_buffer_delay_avg:lr,packets_discarded:Math.max((yt=W==null?void 0:W.packetsDiscarded)!==null&&yt!==void 0?yt:0,0),retransmitted_packets_received:Math.max((bt=W==null?void 0:W.retransmittedPacketsReceived)!==null&&bt!==void 0?bt:0,0),retransmitted_bytes_received:Math.max((sr=W==null?void 0:W.retransmittedBytesReceived)!==null&&sr!==void 0?sr:0,0),packets_lost:Ar,packets_received:vn,nack_count:Math.max((At=W==null?void 0:W.nackCount)!==null&&At!==void 0?At:0,0),removed_samples_for_acceleration:Math.max((It=W==null?void 0:W.removedSamplesForAcceleration)!==null&&It!==void 0?It:0,0),total_samples_received:dn}})(O,N,D,M,I)))}}class f0 extends er{constructor(f,m,b,T,O,N,D,M,I,F){var $,W,ie,be;super(or.SUBSCRIBED_AUDIO_STATS_WINDOW,f,m,!1);const ge=Math.max((($=O==null?void 0:O.timestamp)!==null&&$!==void 0?$:0)-((W=N==null?void 0:N.timestamp)!==null&&W!==void 0?W:0),0);Object.assign(this.properties,Object.assign({action:Ge.SUBSCRIBE,window_size_ms:ge,node:(ie=T==null?void 0:T.node)!==null&&ie!==void 0?ie:"",cluster:(be=T==null?void 0:T.cluster)!==null&&be!==void 0?be:"",remote_participant_id:b},((le,ae,se,we,Ve,ot,Tt)=>{var Gt,qt,Bt,Nt,Jt,cr,yt,bt,sr,At,It,lr,Or,Fr,rn,Ar,vn,ln,un,dn,fn,hn,Un,pn,hi,Hn,Pi,Ni,pi,Vi,ts;let Ss=0,mn=0;if(le!=null&&le.jitterBufferEmittedCount&&(ae!=null&&ae.jitterBufferEmittedCount)&&le.jitterBufferEmittedCount>ae.jitterBufferEmittedCount){le!=null&&le.jitterBufferDelay&&(ae!=null&&ae.jitterBufferDelay)&&(Ss=(le.jitterBufferDelay-ae.jitterBufferDelay)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount));const Go=ae==null?void 0:ae.jitterBufferMinimumDelay,Vs=le==null?void 0:le.jitterBufferMinimumDelay;Go&&Vs&&(mn=(Vs-Go)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount))}const li=typeof Ve!="number"?1:Ve/1e3,$o=Math.max(((Gt=le==null?void 0:le.bytesReceived)!==null&&Gt!==void 0?Gt:0)-((qt=ae==null?void 0:ae.bytesReceived)!==null&&qt!==void 0?qt:0),0),_a=8*$o/li,ws=Math.max(((Bt=le==null?void 0:le.packetsLost)!==null&&Bt!==void 0?Bt:0)-((Nt=ae==null?void 0:ae.packetsLost)!==null&&Nt!==void 0?Nt:0),0),$s=Math.max(((Jt=le==null?void 0:le.packetsReceived)!==null&&Jt!==void 0?Jt:0)-((cr=ae==null?void 0:ae.packetsReceived)!==null&&cr!==void 0?cr:0),0),Sa=ws/Math.max($s+ws,1),Vo=Math.max(((yt=le==null?void 0:le.concealedSamples)!==null&&yt!==void 0?yt:0)-((bt=ae==null?void 0:ae.concealedSamples)!==null&&bt!==void 0?bt:0),0),zo=Math.max(((sr=le==null?void 0:le.totalSamplesReceived)!==null&&sr!==void 0?sr:0)-((At=ae==null?void 0:ae.totalSamplesReceived)!==null&&At!==void 0?At:0),0),Wo=Vo/Math.max(zo,1),Ho=fo(we==null?void 0:we.mimeType,we==null?void 0:we.sdpFmtpLine);return{audio_level:(It=le==null?void 0:le.audioLevel)!==null&&It!==void 0?It:0,audio_nacks_enabled:(lr=ot==null?void 0:ot.audioNacks)!==null&&lr!==void 0&&lr,bytes_received:$o,codec_mime_type:Ho==null?void 0:Ho.mimeSubtype,connection_bandwidth:(Or=se==null?void 0:se.availableIncomingBitrate)!==null&&Or!==void 0?Or:0,decode_bitrate:_a,concealed_samples:Vo,concealment_events:Math.max(((Fr=le==null?void 0:le.concealmentEvents)!==null&&Fr!==void 0?Fr:0)-((rn=ae==null?void 0:ae.concealmentEvents)!==null&&rn!==void 0?rn:0),0),silent_concealed_samples:Math.max(((Ar=le==null?void 0:le.silentConcealedSamples)!==null&&Ar!==void 0?Ar:0)-((vn=ae==null?void 0:ae.silentConcealedSamples)!==null&&vn!==void 0?vn:0),0),fraction_audio_concealed:Wo,fraction_packets_lost:Sa,header_bytes_received:Math.max(((ln=le==null?void 0:le.headerBytesReceived)!==null&&ln!==void 0?ln:0)-((un=ae==null?void 0:ae.headerBytesReceived)!==null&&un!==void 0?un:0),0),inserted_samples_for_deceleration:Math.max(((dn=le==null?void 0:le.insertedSamplesForDeceleration)!==null&&dn!==void 0?dn:0)-((fn=ae==null?void 0:ae.insertedSamplesForDeceleration)!==null&&fn!==void 0?fn:0),0),configured_jitter_buffer_min_delay_ms:Tt??0,jitter_buffer_min_obtainable_delay:mn,jitter_buffer_delay_avg:Ss,packets_discarded:Math.max(((hn=le==null?void 0:le.packetsDiscarded)!==null&&hn!==void 0?hn:0)-((Un=ae==null?void 0:ae.packetsDiscarded)!==null&&Un!==void 0?Un:0),0),packets_lost:ws,packets_received:$s,nack_count:Math.max(((pn=le==null?void 0:le.nackCount)!==null&&pn!==void 0?pn:0)-((hi=ae==null?void 0:ae.nackCount)!==null&&hi!==void 0?hi:0),0),removed_samples_for_acceleration:Math.max(((Hn=le==null?void 0:le.removedSamplesForAcceleration)!==null&&Hn!==void 0?Hn:0)-((Pi=ae==null?void 0:ae.removedSamplesForAcceleration)!==null&&Pi!==void 0?Pi:0),0),retransmitted_packets_received:Math.max(((Ni=le==null?void 0:le.retransmittedPacketsReceived)!==null&&Ni!==void 0?Ni:0)-((pi=ae==null?void 0:ae.retransmittedPacketsReceived)!==null&&pi!==void 0?pi:0),0),retransmitted_bytes_received:Math.max(((Vi=le==null?void 0:le.retransmittedBytesReceived)!==null&&Vi!==void 0?Vi:0)-((ts=ae==null?void 0:ae.retransmittedBytesReceived)!==null&&ts!==void 0?ts:0),0),total_samples_received:zo}})(O,N,D,M,ge,I,F)))}}class jh extends er{constructor(f,m,b,T,O=Ge.PUBLISH,N=!1,D=""){super(or.SIMULCAST_LAYER_INFO,f,m,!1),Object.assign(this.properties,{rid:b,active:T,selected:N,source:O===Ge.PUBLISH?"publisher":"subscriber",remote_participant_id:D})}}class Nw extends er{constructor(f,m,b,T){super(or.MULTIHOST_CONFIGURATION,f,m,!1),Object.assign(this.properties,Object.assign(Object.assign({},b),{action:T}))}}class Us extends er{constructor(f,m,b){super(or.MULTIHOST_SUBSCRIBE_CONFIGURATION,f,m,!1),Object.assign(this.properties,Object.assign({},b))}}var Kl,ha,pa;(function(x){x.Mobile="mobile",x.Tablet="tablet",x.Desktop="desktop",x.Tv="tv"})(Kl||(Kl={})),function(x){x.IOS="iOS",x.MacOS="macOS",x.Windows="Windows",x.Android="Android"}(ha||(ha={})),function(x){x.Safari="Safari",x.Firefox="Firefox",x.Chrome="Chrome",x.IE="Internet Explorer",x.Edge="Microsoft Edge"}(pa||(pa={}));const Bd=function(x){const f=ma(x);return{platform:{isMobile:wi(Kl.Mobile,f),isTablet:wi(Kl.Tablet,f),isDesktop:wi(Kl.Desktop,f),isTv:wi(Kl.Tv,f)},os:{name:ig(f),version:Ja(f),isIOS:$d(ha.IOS,f),isMacOS:$d(ha.MacOS,f),isWindows:$d(ha.Windows,f),isAndroid:$d(ha.Android,f)},browser:{name:h0(f),version:Dh(f),isSafari:$c(pa.Safari,f),isFirefox:$c(pa.Firefox,f),isChrome:$c(pa.Chrome,f),isIE:$c(pa.IE,f),isEdge:$c(pa.Edge,f)}}}(window.navigator.userAgent);function ma(x){try{return fh.getParser(x||window.navigator.userAgent)}catch{}}function wi(x,f){return()=>(f||(f=ma()),!(!f||f.getPlatformType(!0)!==x.toLowerCase()))}function Ja(x){return()=>(x||(x=ma()),x&&x.getOSVersion()||"")}function ig(x){return()=>(x||(x=ma()),x&&x.getOSName()||"")}function $d(x,f){return()=>(f||(f=ma()),!(!f||f.getOSName(!0)!==x.toLowerCase()))}function Dh(x){return()=>(x||(x=ma()),x&&x.getBrowserVersion()||"")}function h0(x){return()=>(x||(x=ma()),x&&x.getBrowserName()||"")}function $c(x,f){return()=>(f||(f=ma()),!(!f||f.getBrowserName().toLowerCase()!==x.toLowerCase()))}const p0={active:!1,maxBitrate:2e5,rid:"low",maxFramerate:15,scaleResolutionDownBy:4},sg={width:320,height:180},Vd={active:!1,maxBitrate:7e5,rid:"mid",maxFramerate:20,scaleResolutionDownBy:2},Xa={width:640,height:360},Mh={active:!1,maxBitrate:17e5,rid:"hi",maxFramerate:30,scaleResolutionDownBy:1},Za={width:1280,height:720};function og(x){const{config:f}=x;return[{maxBitrate:f.maxBitrateBps}]}function ag(x,f){var m,b;const T=f==null?void 0:f.track,O=f==null?void 0:f.config;if(x&&T){const N=(0,Sn.cloneDeep)([{encodingParams:p0,targetResolution:sg},{encodingParams:Vd,targetResolution:Xa},{encodingParams:Mh,targetResolution:Za}]),{height:D,width:M}=T.getSettings(),I=D&&M?{width:M,height:D}:void 0;for(const W of N){W.encodingParams.active=!0;let ie=1;I&&(ie=Math.floor(Math.sqrt(I.width*I.height/(W.targetResolution.width*W.targetResolution.height))),ie=Math.max(ie,1)),W.encodingParams.scaleResolutionDownBy=ie}let F=(m=O==null?void 0:O.maxBitrateBps)!==null&&m!==void 0?m:Mh.maxBitrate;const $=(b=O==null?void 0:O.maxFramerate)!==null&&b!==void 0?b:Mh.maxFramerate;return F<Vd.maxBitrate&&(F=Mh.maxBitrate),N[2].encodingParams.maxBitrate=F,N[2].encodingParams.maxFramerate=$,N[2].encodingParams.scaleResolutionDownBy=1,N.map(W=>W.encodingParams)}return O?[{maxBitrate:O.maxBitrateBps,maxFramerate:O.maxFramerate}]:[{maxBitrate:ho(uo),maxFramerate:Qa}]}const cg=1e3;function ho(x){return x*cg}const lg=(x,...f)=>{const m=f.map(b=>typeof b!="object").filter(Boolean).length>0;if(typeof x=="object"&&!m)return(0,Sn.merge)({},x,...f)},ug=x=>dg(x),dg=x=>(0,Sn.cloneDeep)(x),Bi=x=>{switch(x){case Gl.HIGHEST_QUALITY:return"highest";case Gl.LOWEST_QUALITY:default:return"lowest"}};var xs=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};const ec="no-rid";class ga{constructor(f,m,b,T,O,N,D){this.analyticsTracker=O,this.receiveVideoTransformer=N,this.senderVideoTransformer=D,this.simulcastEnabled=!1,this.simulcastState={low:!1,mid:!1,hi:!1},this.sdp=new Pr(""),this.sdpFeatures={audioNacks:!1},this.multihostConfiguration=ga.defaultMultihostConfiguration(),this.prevOutboundVideoStats=new Map,this.prevInboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.sfuResource={node:"",cluster:""},this.connectionStartedTimestamp=Date.now(),this.prevVideoReceiverTransformerStats={seiReadCnt:0,seiBytesRead:0},this.prevVideoSenderTransformerStats={seiWriteCnt:0,seiBytesWritten:0},this.onPeerConnectionStateChange=()=>{switch(this.getConnectionState()){case vt.CONNECTED:this.connectionStartedTimestamp=Date.now(),this.setupIntervals();break;case vt.FAILED:this.flushStats()}},this.action=f,this.token=m,this.traceId=b,this.identifier=T}static defaultMultihostConfiguration(){return{video_codec:"unknown",width:0,height:0,max_bitrate:0,min_bitrate:0,target_fps:0,echo_cancellation:!1,auto_gain:!1,noise_suppression:!1,enable_simulcast:!1,max_audio_bitrate_bps:ho(Bc)}}set sdpAnswer(f){try{this.sdp=new Pr(f),this.sdpFeatures.audioNacks=this.sdp.hasAudioNacksEnabled()}catch{}}start(f,m=!1){this.peerConnection=f,this.simulcastEnabled=m,this.prevOutboundAudioStats=void 0,this.prevOutboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.peerConnection.addEventListener("connectionstatechange",this.onPeerConnectionStateChange)}stop(){var f;clearInterval(this.uploadStatsInterval),this.uploadStatsInterval=void 0,(f=this.peerConnection)===null||f===void 0||f.removeEventListener("connectionstatechange",this.onPeerConnectionStateChange)}updateSfuResource(f){this.sfuResource=f}updateMultihostConfiguration(f,m){var b,T,O,N,D,M;return xs(this,void 0,void 0,function*(){if(this.action!==Ge.PUBLISH||!this.peerConnection)return;const I=ga.defaultMultihostConfiguration();if(m){const F=this.peerConnection.getSenders().filter(W=>W.track!==null&&W.track.kind==="video");F.length>0&&(yield F[0].getStats()).forEach(W=>{W.type==="codec"&&(I.video_codec=W.mimeType)});const $=m.track.getSettings();I.width=(b=$.width)!==null&&b!==void 0?b:0,I.height=(T=$.height)!==null&&T!==void 0?T:0,I.target_fps=(O=$.frameRate)!==null&&O!==void 0?O:0,m.config?(I.max_bitrate=m.config.maxBitrateBps,I.min_bitrate=m.config.minBitrateBps,I.enable_simulcast=m.config.simulcastEnabled):(I.max_bitrate=ho(uo),I.min_bitrate=ho(Uc),I.enable_simulcast=!1)}if(f){const F=f.track.getSettings();I.auto_gain=(N=F.autoGainControl)!==null&&N!==void 0&&N,I.echo_cancellation=(D=F.echoCancellation)!==null&&D!==void 0&&D,I.noise_suppression=(M=F.noiseSuppression)!==null&&M!==void 0&&M,I.max_audio_bitrate_bps=f.config.maxBitrateBps,I.stereo=f.config.stereo}(0,Sn.isEqual)(I,this.multihostConfiguration)||(this.analyticsTracker.trackEventNoSharedProps(new Nw(this.token,this.traceId,I,this.action)),this.multihostConfiguration=I)})}updateJitterBufferMinDelay(f){this.jitterBufferMinDelayInMs=f}setupIntervals(){this.action===Ge.PUBLISH&&this.simulcastEnabled&&!this.pollSimulcastLayerInterval&&(this.pollSimulcastLayers(),this.pollSimulcastLayerInterval=this.startInterval(this.pollSimulcastLayers,5e3)),this.uploadStatsInterval||(this.uploadStats(),this.uploadStatsInterval=this.startInterval(this.uploadStats,1e4))}startInterval(f,m){return setInterval(f.bind(this),m)}getConnectionState(){var f;if(!this.peerConnection)return vt.NONE;const m=(f=this.peerConnection.connectionState)!==null&&f!==void 0?f:this.peerConnection.iceConnectionState;try{return Nh(m)}catch{return vt.IDLE}}pollSimulcastLayers(){var f;return xs(this,void 0,void 0,function*(){if(this.getConnectionState()===vt.CONNECTED){const m=yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats();if(!m)return;m.forEach(b=>{var T;if(b.type==="outbound-rtp"){const O=((T=b.framesPerSecond)!==null&&T!==void 0?T:0)!==0;switch(b.rid){case"low":O!==this.simulcastState.low&&(this.simulcastState.low=O,this.analyticsTracker.trackEventNoSharedProps(new jh(this.token,this.traceId,b.rid,O)));break;case"mid":O!==this.simulcastState.mid&&(this.simulcastState.mid=O,this.analyticsTracker.trackEventNoSharedProps(new jh(this.token,this.traceId,b.rid,O)));break;case"hi":O!==this.simulcastState.hi&&(this.simulcastState.hi=O,this.analyticsTracker.trackEventNoSharedProps(new jh(this.token,this.traceId,b.rid,O)))}}})}})}flushStats(){var f;return xs(this,void 0,void 0,function*(){const m=yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats();m&&(this.action===Ge.PUBLISH?this.uploadPublisherStats(m):this.action===Ge.SUBSCRIBE&&this.uploadSubscriberStats(m))})}uploadStats(){var f;return xs(this,void 0,void 0,function*(){if(this.getConnectionState()===vt.CONNECTED){const m=yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats();if(!m)return;this.action===Ge.PUBLISH?this.uploadPublisherStats(m):this.action===Ge.SUBSCRIBE&&this.uploadSubscriberStats(m)}})}uploadPublisherStats(f){const m={audio:{},video:[]},b=new Map,T=(Date.now()-this.connectionStartedTimestamp)/1e3,O=Object.assign({},this.multihostConfiguration),{seiWriteCnt:N,seiBytesWritten:D}=this.updateAndDiffSeiPublishStatsSinceLastUpdate(this.senderVideoTransformer.getSenderStats());f.forEach(M=>{if(M.type==="outbound-rtp"){const I=f.get(M.remoteId),F=this.prevRemoteInboundStats.get(M.remoteId);switch(I&&this.prevRemoteInboundStats.set(I.id,I),M.kind){case"audio":m.audio=this.updateOutboundAudio(M),m.audio.remoteInbound=I,m.audio.prevRemoteInbound=F,m.audio.codec=b.get(M.codecId);break;case"video":m.video.push(Object.assign({},this.updateOutboundVideo(M),{remoteInbound:I,prevRemoteInbound:F,codec:b.get(M.codecId)}))}}M.type==="candidate-pair"&&M.nominated&&(m.candidatePair=M),M.type==="codec"&&b.set(M.id,M)}),this.analyticsTracker.trackEventNoSharedProps(new ng(this.token,this.traceId,this.sfuResource,m.audio.outbound,m.audio.remoteInbound,m.candidatePair,m.audio.codec,O,T,this.sdpFeatures)),m.audio.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new mr(this.token,this.traceId,this.sfuResource,m.audio.outbound,m.audio.prevOutbound,m.audio.remoteInbound,m.audio.prevRemoteInbound,m.candidatePair,m.audio.codec,O,this.sdpFeatures)),m.video.forEach(M=>{this.analyticsTracker.trackEventNoSharedProps(new d0(this.token,this.traceId,this.sfuResource,M.outbound,M.remoteInbound,m.candidatePair,M.codec,O,T)),M.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new rg(this.token,this.traceId,this.sfuResource,M.outbound,M.prevOutbound,M.remoteInbound,M.prevRemoteInbound,m.candidatePair,M.codec,O,N,D))})}uploadSubscriberStats(f){var m;const b={audio:{},video:{}},T=new Map,O=(Date.now()-this.connectionStartedTimestamp)/1e3,N=(m=this.jitterBufferMinDelayInMs)!==null&&m!==void 0?m:0,{seiReadCnt:D,seiBytesRead:M}=this.updateAndDiffSeiSubscribeStatsSinceLastUpdate(this.receiveVideoTransformer.getReceiverStats());f.forEach(I=>{if(I.type==="inbound-rtp")switch(I.kind){case"audio":b.audio=this.updateInboundAudio(I),b.audio.codec=T.get(I.codecId);break;case"video":b.video=this.updateInboundVideo(I),b.video.codec=T.get(I.codecId)}I.type==="candidate-pair"&&I.nominated&&(b.candidatePair=I),I.type==="codec"&&T.set(I.id,I)}),this.analyticsTracker.trackEventNoSharedProps(new Ud(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.candidatePair,b.audio.codec,O,this.sdpFeatures)),b.audio.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new f0(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.audio.prevInbound,b.candidatePair,b.audio.codec,this.sdpFeatures,N)),this.analyticsTracker.trackEventNoSharedProps(new Ow(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.candidatePair,b.video.codec,O)),b.video.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new Pw(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.video.prevInbound,b.candidatePair,b.video.codec,N,D,M))}updateAndDiffSeiSubscribeStatsSinceLastUpdate(f){const m=this.prevVideoReceiverTransformerStats,b=f.seiReadCnt-m.seiReadCnt,T=f.seiBytesRead-m.seiBytesRead;return this.prevVideoReceiverTransformerStats={seiReadCnt:f.seiReadCnt,seiBytesRead:f.seiBytesRead},{seiReadCnt:b,seiBytesRead:T}}updateAndDiffSeiPublishStatsSinceLastUpdate(f){const m=this.prevVideoSenderTransformerStats,b=f.seiWriteCnt-m.seiWriteCnt,T=f.seiBytesWritten-m.seiBytesWritten;return this.prevVideoSenderTransformerStats={seiWriteCnt:f.seiWriteCnt,seiBytesWritten:f.seiBytesWritten},{seiWriteCnt:b,seiBytesWritten:T}}updateOutboundAudio(f){const m=f,b=this.prevOutboundAudioStats,T=f.id===(b==null?void 0:b.id)?b:void 0;return this.prevOutboundAudioStats=f,{outbound:m,prevOutbound:T}}updateInboundAudio(f){const m=f,b=this.prevInboundAudioStats,T=f.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundAudioStats=f,{inbound:m,prevInbound:T}}updateInboundVideo(f){const m=f,b=this.prevInboundVideoStats.get(ec),T=f.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundVideoStats.set(ec,f),{inbound:m,prevInbound:T}}updateOutboundVideo(f){const m=f,b=this.getPrevOutboundVideo(f),T=f.id===(b==null?void 0:b.id)?b:void 0;return this.setPrevVideoStat(f),{outbound:m,prevOutbound:T}}getPrevOutboundVideo(f){return this.simulcastEnabled&&f.rid&&this.prevOutboundVideoStats.has(f.rid)?this.prevOutboundVideoStats.get(f.rid):!this.simulcastEnabled&&this.prevOutboundVideoStats.has(ec)?this.prevOutboundVideoStats.get(ec):void 0}setPrevVideoStat(f){this.simulcastEnabled&&f.rid?this.prevOutboundVideoStats.set(f.rid,f):this.simulcastEnabled||this.prevOutboundVideoStats.set(ec,f)}}class fg extends er{constructor(f,m,b,T,O){super(or.MINUTE,f,m,!1),Object.assign(this.properties,{action:T?Ge.PUBLISH:Ge.SUBSCRIBE,is_publishing:T,minutes_logged:b,subscribed_number:O})}}class m0 extends er{constructor(f){super(or.PUBLISH,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:f.token.participantID})}}class g0 extends er{constructor(f){super(or.UNPUBLISH,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:f.token.participantID})}}class Yl extends er{constructor(f){var m,b,T,O;super(or.SUBSCRIBE,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.subscribedId,subscribed_id:f.subscribedId,is_edp_connected:f.isEdpConnected,is_reassignment:f.isReassignment,node:(b=(m=f.preAttemptSfuResource)===null||m===void 0?void 0:m.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.preAttemptSfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:""})}}class zd extends er{constructor(f){super(or.UNSUBSCRIBE,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.unsubscribedId,unsubscribed_id:f.unsubscribedId})}}class v0 extends er{constructor(f){var m,b,T,O;super(or.PUBLISH_STARTED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,options_duration:f.optionsDuration,post_duration:f.postDuration,remote_participant_id:f.token.participantID,time_to_candidate:f.timeToCandidate,total_duration:f.totalDuration,edp_initial_connect_duration:f.edpInitialConnectDuration,edp_initial_connect_retry_times:f.edpInitialConnectRetries,edp_initial_state_duration:f.edpInitialStateDuration,edp_state_update_count:f.edpStateUpdateCount,sdp_exchange_duration:f.sdpExchangeDuration,sdp_exchange_transport:f.sdpExchangeTransport,set_remote_desc_duration:f.setRemoteDescDuration,peer_connection_duration:f.peerConnectionDuration,node:(b=(m=f.sfuResource)===null||m===void 0?void 0:m.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",publish_retry_times:f.publishRetries,total_duration_with_retries:f.totalDurationWithRetries})}}class y0 extends er{constructor(f){super(or.PUBLISH_FAILED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.PUBLISH,code:f.code,message:f.message,fatal:f.fatal,nominal:f.nominal})}}class Wd extends er{constructor(f){super(or.PUBLISH_ENDED,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.PUBLISH,remote_participant_id:f.token.participantID,unpublish_successful:f.isUnpublishSuccessful,reason:f.reason})}}class b0 extends er{constructor(f){var m,b,T,O;super(or.SUBSCRIBE_STARTED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,options_duration:f.optionsDuration,post_duration:f.postDuration,remote_participant_id:f.remoteParticipantId,time_to_candidate:f.timeToCandidate,total_duration:f.totalDuration,edp_initial_connect_duration:f.edpInitialConnectDuration,edp_initial_connect_retry_times:f.edpInitialConnectRetries,edp_initial_state_duration:f.edpInitialStateDuration,edp_initial_state_publishing_count:f.edpInitialStatePublishingCount,edp_state_update_count:f.edpStateUpdateCount,sdp_exchange_duration:f.sdpExchangeDuration,sdp_exchange_transport:f.sdpExchangeTransport,set_remote_desc_duration:f.setRemoteDescDuration,peer_connection_duration:f.peerConnectionDuration,node:(b=(m=f.sfuResource)===null||m===void 0?void 0:m.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",total_duration_with_retries:f.totalDurationWithRetries,subscribe_retry_times:f.subscribeRetryTimes,is_reassignment:f.isReassignment})}}class Lh extends er{constructor(f){super(or.SUBSCRIBE_FAILED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.remoteParticipantId,code:f.code,message:f.message,fatal:f.fatal,nominal:f.nominal,is_reassignment:f.isReassignment})}}class Fh extends er{constructor(f){super(or.SUBSCRIBE_ENDED,f.token,f.traceId,!0),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.remoteParticipantId,unsubscribe_successful:f.isUnsubscribeSuccessful,reason:f.reason}),this.critical=!0}}class Uh extends er{constructor(f){super(or.STATE_UPDATED,f.token,f.traceId,!1),Object.assign(this.properties,{audio_muted:f.isAudioMuted,is_disconnected:f.isDisconnected,is_publishing:f.isPublishing,other_participant_id:f.otherParticipantId,other_participant_user_id:f.otherParticipantUserId,video_stopped:f.isVideoStopped})}}class x0 extends er{constructor(f){var m,b,T,O,N;super(or.FIRST_FRAME,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.SUBSCRIBE,remote_participant_id:f.remoteParticipantId,edp_initial_connect_duration:f.edpInitialConnectDuration,edp_initial_connect_retry_times:f.edpInitialConnectRetries,edp_initial_state_duration:f.edpInitialStateDuration,edp_initial_state_publishing_count:f.edpInitialStatePublishingCount,edp_state_update_count:f.edpStateUpdateCount,sdp_exchange_duration:f.sdpExchangeDuration,sdp_exchange_transport:f.sdpExchangeTransport,set_remote_desc_duration:f.setRemoteDescDuration,peer_connection_duration:f.peerConnectionDuration,node:(b=(m=f.sfuResource)===null||m===void 0?void 0:m.node)!==null&&b!==void 0?b:"",cluster:(O=(T=f.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",video_was_paused:f.videoWasPaused,first_frame_duration:f.firstFrameDuration,total_duration_with_retries:f.totalDurationWithRetries,subscribe_retry_times:f.subscribeRetryTimes,media_type:f.mediaType,configured_jitter_buffer_min_delay_ms:(N=f.currentJitterBufferMinDelayInMs)!==null&&N!==void 0?N:0})}}class Bh extends er{constructor(f){super(or.EDP_PONG,f.token,f.traceId,!1),Object.assign(this.properties,{event_endpoint:f.eventEndpoint,protocol:f.protocol,edp_rtt:f.edpRttMs})}}class _0 extends er{constructor(f){super(or.JOIN,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint})}}class hg extends er{constructor(f){super(or.JOIN_ATTEMPT,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint})}}class Aw extends er{constructor(f){super(or.JOIN_ATTEMPT_FAILED,f.token,f.traceId,!1),Object.assign(this.properties,{action:Ge.JOIN,event_endpoint:f.eventEndpoint,whip_endpoint:f.whipEndpoint,code:f.code,message:f.message,fatal:f.fatal,nominal:f.nominal,connect_retry_times:f.retryCnt})}}class S0 extends er{constructor(f){super(or.EDP_DISCONNECTED,f.token,f.traceId,!1),Object.assign(this.properties,{event_endpoint:f.eventEndpoint,protocol:f.protocol}),this.critical=!0}}class va extends er{constructor(f){super(or.EDP_CONNECTED,f.token,f.traceId,!1),Object.assign(this.properties,{event_endpoint:f.eventEndpoint,protocol:f.protocol,connect_retry_times:f.numRetries}),this.critical=!0}}var pg;(function(x){x.MESSAGE="message",x.RESPONSE="response"})(pg||(pg={}));class w0{constructor(f,m,b){this.token=f,this.analyticsTracker=b,this.protocol="",this.connecting=!1,this.closing=!1,this.windowUnloading=!1,this.latestPingTimestamp=0,this.pongCount=0,this.latestSequenceNumber=0,this.nextConnectionAttempt=0,this.pingInterval=0,this.pongTimeout=0,this.connectTimeout=0,this.beforeUnload=()=>{this.emitter.emit(Dd,"beforeunload"),this.windowUnloading=!0},this.sendSdpOffer=(T,O,N,D,M,I,F,$)=>{var W;const ie={type:"aws:ivs:SDP_OFFER",payload:{whipUrl:O,requestId:D,traceId:N,platform:"web",sdk:"1.21.0",whipVersion:lo,content:T,contentType:"application/sdp"}};M&&(ie.payload.forceNode=M),I&&(ie.payload.assignmentToken=I),F&&(ie.payload.multiCodec=F);const be=Ed()===void 0,ge=Ed()||be;$&&ge&&(ie.payload.initialLayerPref=Bi($)),(W=this.socket)===null||W===void 0||W.send(JSON.stringify(ie))},this.getRetryCount=()=>Math.max(this.connectionAttempts-1,0),this.trackJoinEnded=()=>{this.analyticsTracker.trackEventNoSharedProps(new S0({token:this.token,eventEndpoint:this.token.eventsURL,traceId:this.traceId,protocol:this.protocol}))},this.logger=new ps(m,Cr.SOCKET),this.emitter=new Jn.EventEmitter,this.connectionAttempts=0,this.sentPing=!1,this.receivedPong=!1,this.traceId=Ji(),this.id=`[${Ga().value}] `,window.addEventListener("beforeunload",this.beforeUnload)}connect(f,m,b=!1){this.logger.debug({msg:`${this.id}connecting to ${this.addr}`}),this.addr=f,this.traceId=m,b&&!this.connecting&&(window.clearTimeout(this.connectTimeout),this.connectTimeout=window.setTimeout(this.connectTimedOut.bind(this),1e4)),this.attemptConnect(m)}attemptConnect(f){this.traceId=f||Ji(),this.connectionAttempts++,this.trackJoinAttempt(this.connectionAttempts);const{topic:m,rawToken:b}=this.token;this.connecting=!0,this.closing=!1;try{const T=encodeURIComponent(this.traceId.value);this.socket=this.createWebSocket(`${this.addr}?topic=${m}/publishers&traceid=${T}`,b),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onopen=this.onOpen.bind(this),this.protocol=this.socket.protocol}catch(T){const O=T instanceof Error?T.message:void 0,N=this.createError(je.EVENT_PLANE_WS_CREATE_FAILED,O);this.trackJoinFailed(N,this.getRetryCount()),this.emitter.emit(co,N)}}send(f){var m;this.logger.debug({msg:`${this.id}sending ${JSON.stringify(f)}`}),this.isReady()?(m=this.socket)===null||m===void 0||m.send(JSON.stringify(f)):this.logger.warn({msg:"Trying to send data over stage socket that is not ready"})}close(){this.logger.debug({msg:`${this.id}closing`});const f=this.connecting,m=this.socket&&this.socket.readyState===this.socket.OPEN,b=this.socket&&this.socket.readyState===this.socket.CLOSING,T=this.getRetryCount();if(this.closing=!0,this.connecting=!1,this.cleanPingPongTimeouts(),window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.connectionAttempts=0,this.connectTimeout=0,this.socket){if(this.socket.close(),this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onopen=null,m)this.trackJoinEnded(),this.emitter.emit(Dd,"intentional-close");else if(f&&!b){const O=this.createError(je.OPERATION_ABORTED);this.trackJoinFailed(O,T),this.analyticsTracker.trackError(O),this.emitter.emit(co,O)}}}removeAllListeners(){window.removeEventListener("beforeunload",this.beforeUnload),this.emitter.removeAllListeners()}createWebSocket(f,m){return new WebSocket(f,m)}createError(f,m){return new Qt(Object.assign({action:Ge.JOIN,traceId:this.traceId,token:this.token,location:"StageSocket.connection",tag:Ad,details:m},f))}on(f,m){this.emitter.on(f,m)}off(f,m){this.emitter.off(f,m)}isReady(){return this.logger.debug({msg:`${this.id}isReady called`}),!!this.socket&&this.socket.readyState===this.socket.OPEN}onMessage(f){this.logger.debug({msg:`${this.id}received message: ${f.data}`});try{const m=JSON.parse(f.data);switch(m.type){case"STAGE_STATE":case"aws:ivs:STAGE_STATE":{const b=m.payload.sequenceNumber;b>this.latestSequenceNumber&&(this.latestSequenceNumber===0&&ph()&&this.connectTimeout>0&&this.triggerSocketOpen(m),this.emitter.emit(zl,m),this.latestSequenceNumber=b);break}case"PONG":this.receivedPong=!0,this.pongCount%2==0&&this.analyticsTracker.trackEventNoSharedProps(new Bh({token:this.token,eventEndpoint:this.token.eventsURL,protocol:this.protocol,traceId:this.traceId,edpRttMs:performance.now()-this.latestPingTimestamp})),this.pongCount++;break;case"REFRESH":this.emitter.emit(i0);break;case"aws:ivs:SDP_ANSWER":this.emitter.emit(Wl,m.payload);break;case"aws:ivs:DISCONNECT":this.emitter.emit(s0,m.payload);break;case"aws:ivs:REASSIGN":this.emitter.emit(Gm,m.payload);break;case"aws:ivs:INCOMPATIBLE_CODECS":this.emitter.emit(Uo,m.payload);break;default:(0,Sn.noop)()}}catch(m){this.logger.debug({msg:`onMessage JSON Parse error: ${m}`}),this.emitter.emit(n0,m)}}onError(f){this.logger.debug({msg:`${this.id}error: ${JSON.stringify(f)}`})}onClose(f){if(this.logger.debug({msg:`${this.id}onClose triggered with code (closing = ${this.closing}, connecting = ${this.connecting})`}),this.cleanPingPongTimeouts(),this.closing)this.closing=!1;else if(!this.windowUnloading)if(this.connecting){let m=Math.pow(2,this.connectionAttempts-1);m>64&&(m=64),this.logger.debug({msg:`${this.id}reconnecting in ${m} seconds`}),window.clearTimeout(this.nextConnectionAttempt),this.nextConnectionAttempt=window.setTimeout(this.attemptConnect.bind(this),1e3*m);const b=this.createError(je.EVENT_PLANE_WS_CLOSE_BEFORE_OPEN,`code: ${f==null?void 0:f.code}, reason: ${f==null?void 0:f.reason}, wasClean: ${f==null?void 0:f.wasClean}`);this.trackJoinFailed(b,this.getRetryCount()),this.analyticsTracker.trackError(b)}else{this.logger.debug({msg:`${this.id}unexpected close`}),this.emitter.emit(Dd,"unknown");const m=this.createError(je.EVENT_PLANE_WS_UNEXPECTED_CLOSE,`code: ${f==null?void 0:f.code}, reason: ${f==null?void 0:f.reason}, wasClean: ${f==null?void 0:f.wasClean}`);this.trackJoinEnded(),this.emitter.emit(co,m)}}onOpen(){this.logger.debug({msg:`${this.id} socket opened`}),this.clearConnectionAttemptTimeouts(),ph()?this.connectTimeout=window.setTimeout(()=>{this.triggerSocketOpen()},1e4):this.triggerSocketOpen()}clearConnectionAttemptTimeouts(){window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.nextConnectionAttempt=0,this.connectTimeout=0}triggerSocketOpen(f){this.clearConnectionAttemptTimeouts();const m=this.getRetryCount();this.connectionAttempts=0,this.connecting=!1,this.trackJoinStarted(),this.emitter.emit(Hm,{retryCnt:m,traceId:this.traceId,initialStageState:f}),this.pingInterval=window.setInterval(this.ping.bind(this),3e4)}ping(){var f;this.logger.debug({msg:`${this.id}sending PING`});try{this.latestPingTimestamp=performance.now(),(f=this.socket)===null||f===void 0||f.send(JSON.stringify({type:"PING"})),this.sentPing=!0,this.receivedPong=!1,this.pongTimeout&&clearTimeout(this.pongTimeout),this.pongTimeout=window.setTimeout(this.pongTimedOut.bind(this),5e3)}catch(m){const b=m instanceof Error?m.message:void 0,T=this.createError(je.EVENT_PLANE_PING_SEND_FAIL,b);this.emitter.emit(co,T)}}connectTimedOut(){const f=this.socket&&this.socket.readyState===this.socket.CONNECTING;this.connecting=!1,this.logger.debug({msg:`${this.id}Connect timed out!`});const m=this.createError(je.JOIN_TIMED_OUT);f&&this.trackJoinFailed(m,this.getRetryCount()),this.createError(je.JOIN_TIMED_OUT),this.emitter.emit(co,m),this.close()}pongTimedOut(){if(this.sentPing&&!this.receivedPong){this.logger.debug({msg:`${this.id}Pong timed out!`});const f=this.createError(je.EVENT_PLANE_PONG_TIMEOUT);this.emitter.emit(co,f)}}cleanPingPongTimeouts(){this.sentPing=this.receivedPong=!1,window.clearTimeout(this.pongTimeout),window.clearInterval(this.pingInterval)}trackJoinAttempt(f){const{token:m,traceId:b}=this;this.analyticsTracker.trackEvent(new hg({token:m,eventEndpoint:(m==null?void 0:m.eventsURL)||"",whipEndpoint:(m==null?void 0:m.whipURL)||"",traceId:b}))}trackJoinFailed(f,m){const{token:b,traceId:T,code:O,message:N,fatal:D,nominal:M}=f;this.analyticsTracker.trackEvent(new Aw({token:b,eventEndpoint:b.eventsURL,whipEndpoint:b.whipURL,traceId:T,code:O,message:N,fatal:D,nominal:M,retryCnt:m}))}trackJoinStarted(){this.analyticsTracker.trackEventNoSharedProps(new va({token:this.token,eventEndpoint:this.token.eventsURL,numRetries:this.getRetryCount(),protocol:this.protocol,traceId:this.traceId}))}}var E0=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})},Hd,ai,Zi,zr;(function(x){x.SDP_EXCHANGE="xdp",x.JITTER_BUFFER_MIN_DELAY_MS="jit_buf_min_delay_ms"})(Hd||(Hd={})),function(x){x.USER_INITIATED="user-initiated",x.CLIENT_RECONNECT="reconnect",x.TOKEN_REUSED="token-reused",x.UNKNOWN="unknown",x.PARTICIPANT_DISCONNECTED="participant-disconnected",x.STAGE_DELETED="stage-deleted"}(ai||(ai={})),function(x){x[x.NOT_CONNECTED=0]="NOT_CONNECTED",x[x.CONNECTION_LOST=1]="CONNECTION_LOST",x[x.TIMEDOUT=2]="TIMEDOUT",x[x.ABORTED=3]="ABORTED",x[x.INVALID_MESSAGE=4]="INVALID_MESSAGE",x[x.UNEXPECTED_ERROR=5]="UNEXPECTED_ERROR"}(Zi||(Zi={})),function(x){x.DISCONNECTED="disconnected",x.CONNECTING="connecting",x.CONNECTED="connected",x.ERRORED="errored"}(zr||(zr={}));class $h extends vs{constructor(f,m,b){super(),this.token=f,this.nonScopedLogger=m,this.analyticsTracker=b,this.participants=new Map,this.disconnected=[],this.state={value:zr.DISCONNECTED,context:{connectStartTime:0,hasConnected:!1}},this.features={sdpExchange:!1},this.stats=this.resetStats(),this.stageMinutesLogged=0,this.isStagePublishing=!1,this.onConnecting=(T,O)=>{this.logger.debug({msg:"onConnecting",context:T,event:O}),T.connectStartTime=performance.now();const N=O.type==="RECONNECT";N&&this.stageSocket.close();const{eventsURL:D}=this.token;this.emit(da,zr.CONNECTING),this.state.value=zr.CONNECTING;const M=!N;this.stageSocket.connect(D,this.traceId,M)},this.onConnected=(T,O)=>{this.logger.debug({msg:"onConnected",context:T,event:O}),T.hasConnected=!0,this.emit($l),this.emit(da,zr.CONNECTED),this.state.value=zr.CONNECTED},this.onDisconnected=(T,O)=>{this.logger.debug({msg:"onDisconnected",context:T}),this.state.value=zr.DISCONNECTED,this.stopStageMinuteLoggedInterval(!0),this.stageSocket.close(),T.hasConnected=!1,this.participants=new Map,this.disconnected=[],this.stageSocket.removeAllListeners(),this.resetStats(),this.emit(da,zr.DISCONNECTED,O)},this.onErrored=(T,O)=>{this.logger.error({msg:"Connection failure occurred",err:O.payload.error}),this.emit(da,zr.ERRORED),this.emit(Wm,O.payload.error),this.state.value=zr.ERRORED,T.hasConnected?this.processStateUpdate({type:"RECONNECT"}):this.stageSocket.close()},this.processStateUpdate=T=>{const O=this.state.value,N=this.state.context;switch(O){case zr.DISCONNECTED:T.type==="CONNECT"&&this.onConnecting(N,T);break;case zr.CONNECTING:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="CONNECT_SUCCESS"?this.onConnected(N,T):T.type==="ERROR"&&this.onErrored(N,T);break;case zr.CONNECTED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="ERROR"&&this.onErrored(N,T);break;case zr.ERRORED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"&&this.onDisconnected(N,T.reason)}},this.measureConnect=(T,O)=>{const N=this.stats.edpConnectCount,D=N+1,M=performance.now(),I=M-O;return Object.assign(this.stats,{edpConnectCount:D,edpConnectDuration:I}),N===0&&Object.assign(this.stats,{edpInitialStartConnectTime:O,edpInitialFinishConnectTime:M,edpInitialConnectDuration:I,edpInitialConnectRetries:T}),this.stats},this.measureStateUpdate=T=>{const{edpInitialFinishConnectTime:O}=this.stats,N=this.stats.edpStateUpdateCount,D=N+1;return Object.assign(this.stats,{edpStateUpdateCount:D}),N===0&&Object.assign(this.stats,{edpInitialStateDuration:performance.now()-O,edpInitialStatePublishingCount:T}),this.stats},this.trackMessageParseError=T=>{this.logger.error({msg:"Message Parse Error occurred",err:T.err});const O=new Qt({token:T.token,traceId:T.traceId,code:je.WEBSOCKET_MESSAGE_PARSE_FAILURE.code,tag:T.tag,location:T.location,message:T.message,details:T.err.message});this.analyticsTracker.trackEvent(new hh(O))},this.trackStageSocketMessageParseError=(T,O,N)=>{this.trackMessageParseError({token:T,traceId:O,tag:Ad,location:"StageConnection.onMessage",message:je.WEBSOCKET_MESSAGE_PARSE_FAILURE.message,err:N})},this.trackStageStateMessageParseError=(T,O,N,D)=>{this.trackMessageParseError({token:T,traceId:O,tag:Ad,location:"StageConnection.onStageStateMessage",message:D,err:N})},this.onDisconnectMessage=T=>{this.analyticsTracker.trackEventNoSharedProps(new bs(this.token,this.traceId,`DISCONNECT message received: ${T.code}:${T.reason}`,Ge.JOIN));let O=ai.UNKNOWN;if(T.code==="PARTICIPANT_DISCONNECTED")O=ai.PARTICIPANT_DISCONNECTED;else if(T.code==="STAGE_DELETED")O=ai.STAGE_DELETED;else if(T.code==="TOKEN_REUSED"&&(O=ai.TOKEN_REUSED,$a("disableTokenReuseMessage")))return void console.warn("Token reuse is detected, but skipping as feature is disabled");console.warn(`Disconnecting client due to: ${T.reason}`),this.processStateUpdate({type:"DISCONNECT",reason:O})},this.onReassignmentMessage=T=>{this.emit(H,T)},this.onIncompatibleCodecsMessage=T=>{this.emit(Lc,T)},this.onStageStateMessage=(T,O,N)=>{var D,M;this.logger.debug({msg:"State Stage Message occurred",state:N});const I=N.payload,F=(D=I.participants)!==null&&D!==void 0?D:[],$=(M=I.disconnected)!==null&&M!==void 0?M:[],W=[],ie=[];this.measureStateUpdate(F.length),this.enableFeaturesBasedOnServerFeatures(I.serverFeatures||[]);const be=(ge,le)=>{this.analyticsTracker.trackEventNoSharedProps(new Uh({token:T,otherParticipantId:ge.id,otherParticipantUserId:ge.userId,isAudioMuted:ge.audioMuted,isVideoStopped:ge.videoStopped,isPublishing:ge.isPublishing,isDisconnected:le,traceId:O}))};this.participants.forEach(ge=>{const le=F.find(ae=>ae.id===ge.id);if(le){let ae=!0,se=!1;["isPublishing","id","audioMuted","joinedAt","userId","videoStopped"].forEach(we=>{ae=ae&&le[we.toString()]===ge[we.toString()],ae||(ge[we.toString()]=le[we.toString()],se=!0)}),Object.keys(ge.attributes).forEach(we=>{ae=ae&&le.attributes[we]===ge.attributes[we],ae||(ge.attributes=le.attributes,se=!0)}),se&&(be(ge,!1),this.emit(kh,le))}else ie.push(ge)}),F.forEach(ge=>{this.participants.get(ge.id)||W.push(ge)}),ie.forEach(ge=>{this.participants.delete(ge.id),be(ge,!0),this.emit(Rh,ge)}),W.forEach(ge=>{this.participants.set(ge.id,ge),be(ge,!1),this.emit(Th,ge)}),$.forEach(ge=>{this.disconnected.find(le=>le.id===ge.id)||(this.disconnected.push(ge),ge.status==="KICKED"&&this.emit(Vm,ge))}),this.disconnected=$},this.nonScopedLogger=m,this.logger=new ps(m,Cr.CONNECTION),this.stageSocket=new w0(f,this.nonScopedLogger,b),this.token=f,this.traceId=Ji()}resetStats(){return this.stats={isConnected:!1,edpInitialStartConnectTime:0,edpInitialFinishConnectTime:0,edpConnectCount:0,edpInitialConnectDuration:0,edpConnectDuration:0,edpInitialStateDuration:0,edpInitialStatePublishingCount:0,edpStateUpdateCount:0,edpInitialConnectRetries:0},this.stats}connect(f){return E0(this,void 0,void 0,function*(){return this.logger.debug({msg:"connect invoked",token:this.token,traceId:f}),this.traceId=f,this.state.value!==zr.DISCONNECTED&&(this.logger.debug({msg:"Disconnecting previous connection"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.CLIENT_RECONNECT})),new Promise((m,b)=>{this.stageSocket.on(Hm,T=>{var O,N;const{retryCnt:D,initialStageState:M}=T;M&&this.enableFeaturesBasedOnServerFeatures((N=(O=M.payload)===null||O===void 0?void 0:O.serverFeatures)!==null&&N!==void 0?N:[]),this.traceId=T.traceId||Ji(),this.measureConnect(D,this.state.context.connectStartTime),this.processStateUpdate({type:"CONNECT_SUCCESS"}),this.startStageMinuteLoggedInterval(this.token,this.traceId),m(this.traceId)}),this.stageSocket.on(co,T=>{b(T),this.processStateUpdate({type:"ERROR",payload:{error:T}})}),this.stageSocket.on(i0,()=>{this.logger.debug({msg:"Refresh event occurred"}),this.emit(Oh),this.processStateUpdate({type:"RECONNECT"})}),this.stageSocket.on(zl,T=>this.onStageStateMessage(this.token,this.traceId,T)),this.stageSocket.on(n0,T=>this.trackStageSocketMessageParseError(this.token,this.traceId,T)),this.stageSocket.on(s0,this.onDisconnectMessage),this.stageSocket.on(Gm,this.onReassignmentMessage),this.stageSocket.on(Uo,this.onIncompatibleCodecsMessage),this.stageSocket.on(Dd,T=>{this.stopStageMinuteLoggedInterval()}),this.processStateUpdate({type:"CONNECT",payload:{token:this.token,traceId:f}})})})}disconnect(){return this.logger.debug({msg:"disconnect invoked"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.USER_INITIATED}),this.traceId}getParticipant(f){return this.participants.get(f)}listConnectedParticipants(){const f=[];return this.participants.forEach(m=>{m.subscribed&&f.push(m)}),f}listAvailableParticipants(){return Array.from(this.participants.values())}emitStageState(f,m){this.stageSocket.send({audioMuted:f,type:"SET_STATE",version:"0",videoStopped:m})}setStagePublishing(f){this.isStagePublishing=f,this.emit(zm,this.isStagePublishing)}getIsStagePublishing(){return this.isStagePublishing}startStageMinuteLoggedInterval(f,m){this.uploadStageMinutesBroadcastInterval||(this.analyticsTracker.trackEvent(new fg(f,m,this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++,this.uploadStageMinutesBroadcastInterval=setInterval(()=>{this.analyticsTracker.trackEvent(new fg(f,m??Ji(),this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++},6e4))}stopStageMinuteLoggedInterval(f=!1){this.uploadStageMinutesBroadcastInterval&&(clearInterval(this.uploadStageMinutesBroadcastInterval),this.uploadStageMinutesBroadcastInterval=void 0),f&&(this.stageMinutesLogged=0)}enableFeaturesBasedOnServerFeatures(f){const m=(N,D)=>{this.trackStageStateMessageParseError(this.token,this.traceId,D,`Could not parse "${N}" from the Eevee server features list`)},b=f.includes(Hd.SDP_EXCHANGE);this.features.sdpExchange!==b&&(this.logger.debug({msg:`XDP SDP exchange feature toggled: ${b}`}),this.features.sdpExchange=b);const T=f.find(N=>N.indexOf(Hd.JITTER_BUFFER_MIN_DELAY_MS)!==-1),O=N=>{this.logger.debug({msg:`jitterBufferMinDelay feature updated to: ${N}`}),this.features.jitterBufferMinDelayInMs=N};if(T!==void 0)try{const N=T.split("=")[1],D=parseInt(N,10);if(isNaN(D))throw new Error("Unable to parse - result is NaN");if(D<0)throw new Error("Unable to apply - result is negative");this.features.jitterBufferMinDelayInMs!==void 0&&this.features.jitterBufferMinDelayInMs===D||O(D)}catch(N){m(T,N),O(void 0)}else O(void 0)}isConnected(){return this.state.value===zr.CONNECTED}supportsSdpExchange(){return this.features.sdpExchange}jitterBufferMinDelayInMs(){return this.features.jitterBufferMinDelayInMs}getConnectionStats(){return Object.assign({},this.stats,{isConnected:this.isConnected()})}exchangeSdp(f,m,b,T,O,N,D,M,I){return E0(this,void 0,void 0,function*(){return this.isConnected()?new Promise((F,$)=>{const W=window.setTimeout(()=>{ie(),$(Zi.TIMEDOUT)},8e3),ie=()=>{window.clearTimeout(W),this.stageSocket.off(Wl,be),this.stageSocket.off(co,ge)},be=le=>{le.requestId===T&&(ie(),F(le))},ge=()=>{ie(),$(Zi.CONNECTION_LOST)};O==null||O.addEventListener("abort",()=>{ie(),$(Zi.ABORTED)}),this.stageSocket.on(Wl,be),this.stageSocket.on(co,ge),this.stageSocket.sendSdpOffer(f,m,b,T,N,D,M,I)}):Promise.reject(Zi.NOT_CONNECTED)})}}class Gd{constructor(f){this.token=f}}const Ql=new RegExp("^(?:[a-z+]+:)?//","i");function Rt(x){return Ql.test(x)}function qd({sdpExchangeTransport:x,serverHttpResponse:f,serverErrorCode:m}){return`sdpExchangeTransport: ${x}, serverHttpResponse: ${f}, serverErrorCode: ${m}`}var mg=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};const Vc={[Zi.ABORTED]:je.OPERATION_ABORTED,[Zi.NOT_CONNECTED]:je.EVENT_PLANE_WS_UNEXPECTED_CLOSE,[Zi.CONNECTION_LOST]:je.XDP_CONNECTION_LOST,[Zi.TIMEDOUT]:je.XDP_TIMEOUT,[Zi.INVALID_MESSAGE]:je.XDP_INVALID_ANSWER_MSG,[Zi.UNEXPECTED_ERROR]:je.XDP_UNEXPECTED_ERROR};class gg extends Gd{constructor(f,m,b,T){super(f),this.token=f,this.stageConnection=m,this.contextData=b,this.analyticsTracker=T}exchange(f){return mg(this,void 0,void 0,function*(){const m=Ga(),{action:b}=this.contextData,{sdpOffer:T,url:O,traceId:N,forceNode:D,assignmentToken:M,multiCodec:I,abortController:F,initialLayerPreference:$}=f;let W;this.trackAttempt(O,m,N);try{W=yield this.stageConnection.exchangeSdp(T,O,N.value,m.value,F==null?void 0:F.signal,D,M,I,$)}catch(Ve){if(typeof Ve=="number")throw this.createClientSideErrorFromReasonCode(Ve,N,m,b)}if(!W)return;const{httpStatusCode:ie,errorCode:be,location:ge,content:le,sessionDeleteLink:ae,subscriberControlLink:se,videoLayersLink:we}=W;if(ie>=200&&ie<300)return{sdpAnswer:le,url:O,location:ge,sessionDeleteLink:ae,mediaControls:se,layerControls:we};throw this.createServerSideError(N,m,ie,be,b)})}trackAttempt(f,m,b){const{remoteParticipantId:T,action:O}=this.contextData;this.analyticsTracker.trackEventNoSharedProps(new Hl(O,this.token,f,"POST",m.value,T,b,"xdp"))}createServerSideError(f,m,b,T,O){const N=this.baseErrorProps(f,m);let D=Mc(b,T);return D||(D=je.UNKNOWN_SERVER_ERROR),new Qt(Object.assign(Object.assign(Object.assign({action:O},N),D),{details:qd({sdpExchangeTransport:"xdp",serverHttpResponse:b,serverErrorCode:T})}))}baseErrorProps(f,m){const{remoteParticipantId:b,action:T}=this.contextData;return{token:this.token,traceId:f,tag:Xn(T,b),location:"EdpSdpExchanger.exchange",requestUUID:m,remoteParticipantId:b}}createClientSideErrorFromReasonCode(f,m,b,T){const O=this.baseErrorProps(m,b),N=Vc[f];return new Qt(N?Object.assign(Object.assign({action:T},O),N):Object.assign(Object.assign({action:T},O),je.XDP_INVALID_ANSWER_MSG))}getTransport(){return"sdp"}}var C0=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class Ei extends Gd{constructor(f,m,b){super(f),this.contextData=m,this.analyticsTracker=b}exchange(f){var m,b,T;return C0(this,void 0,void 0,function*(){const O=Ga(),{token:N}=this,{action:D,remoteParticipantId:M}=this.contextData,{sdpOffer:I,url:F,traceId:$,forceNode:W,assignmentToken:ie,multiCodec:be,abortController:ge,initialLayerPreference:le}=f;try{const se="POST",we="http";this.analyticsTracker.trackEventNoSharedProps(new Hl(D,N,F,se,O.value,M,$,we));const Ve={data:I,headers:{Authorization:`Bearer ${N.rawToken}`,"Content-Type":"application/sdp","X-Stages-Platform":"web","X-Stages-Request-ID":O.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":$.value,"X-Stages-WHIP-Version":lo,[Cw]:(ae=JSON.stringify({[Tw]:["sau"]}),btoa(ae).replace(/[^A-Za-z0-9+/]/g,""))},method:se,responseType:"text",url:F,signal:ge==null?void 0:ge.signal,params:{}};W&&(Ve.params.force_node=W),ie&&(Ve.params.assignment_token=ie),be&&(Ve.params.multi_codec=!0);const ot=Ed()===void 0,Tt=Ed()||ot;le&&Ve.headers&&Tt&&(Ve.headers["X-Stages-Initial-Layer-Pref"]=Bi(le));const{data:Gt,headers:qt,request:Bt}=yield c0(Ve),Nt=this.parseWhipResource(F,qt.location,qt.link);return{url:Bt.responseURL,sdpAnswer:Gt,location:Nt==null?void 0:Nt.location,sessionDeleteLink:Nt==null?void 0:Nt.sessionDeleteLink,mediaControls:Nt==null?void 0:Nt.mediaControls,layerControls:Nt==null?void 0:Nt.layerControls}}catch(se){if(Wn().isCancel(se))throw new Qt(Object.assign(Object.assign({},ua(je.OPERATION_ABORTED,se)),{action:D,token:N,traceId:$,tag:Xn(D,M),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:M}));const we=Number((m=se==null?void 0:se.response)===null||m===void 0?void 0:m.status)||-1,Ve=((T=(b=se==null?void 0:se.response)===null||b===void 0?void 0:b.data)===null||T===void 0?void 0:T.code)||-1,ot=function(Tt,Gt){var qt;return Tt instanceof gn.AxiosError&&Tt.response&&typeof Tt.response.status=="number"?Tt instanceof gn.AxiosError&&Tt.code==="ERR_NETWORK"?je.NETWORK_FAILURE:Mc(Number(Tt.response.status),(qt=Tt.response.data)===null||qt===void 0?void 0:qt.code)||Gt:Gt}(se,je.WHIP_POST_FAILURE);throw new Qt(Object.assign(Object.assign({},ua(ot,se)),{action:D,token:N,traceId:$,tag:Xn(D,M),details:qd({sdpExchangeTransport:"http",serverHttpResponse:we,serverErrorCode:Ve}),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:M}))}var ae})}parseWhipResource(f,m,b){const T=new URL(f);let O;return O=function(N,D,M){if(!M)return N;if(N||(N={}),Rt(M))return N.location=M,N;const I=D.port?`:${D.port}`:"";return N.location=`${D.protocol}//${D.hostname}${I}${M}`,N}(O,T,m),O=function(N,D,M){if(!M)return N;N||(N={});const I=N;return M.split(",").forEach(F=>{const $=/<(.+)>;\s?rel="([a-z:-]+)"/.exec(F);if(($==null?void 0:$.length)!==3)return;let W;if(Rt($[1]))W=$[1];else{const ie=D.port?`:${D.port}`:"";W=`${D.protocol}//${D.hostname}${ie}${$[1]}`}switch($[2]){case"urn:ietf:params:whip:ivs-stages:session-delete":I.sessionDeleteLink=W;break;case"urn:ietf:params:whep:core:playback-controls":I.mediaControls=W;break;case"urn:ietf:params:whep:ext:core:layer":I.layerControls=W;break;default:return}}),I}(O,T,b),O}getTransport(){return"http"}}function Vh(x){return x.track.kind===fa.AUDIO}function zh(x){return x.track.kind===fa.VIDEO&&typeof x.config=="object"}const T0=(x,f)=>function(m){return m.kind===fa.AUDIO}(x)?((m,b)=>{var T;const O={maxBitrateBps:ho((T=b==null?void 0:b.maxAudioBitrateKbps)!==null&&T!==void 0?T:Qm)},N=b==null?void 0:b.stereo;return typeof N=="boolean"&&(O.stereo=N),{track:m,config:O}})(x,f):((m,b)=>{var T,O,N,D,M;const I=(T=b==null?void 0:b.minBitrate)!==null&&T!==void 0?T:Uc,F=(O=b==null?void 0:b.maxBitrate)!==null&&O!==void 0?O:uo,$=(N=b==null?void 0:b.maxFramerate)!==null&&N!==void 0?N:Qa,W=!!(!((D=b==null?void 0:b.simulcast)===null||D===void 0)&&D.enabled),ie=!!(!((M=b==null?void 0:b.inBandMessaging)===null||M===void 0)&&M.enabled);return{track:m,config:{minBitrateBps:ho(I),maxBitrateBps:ho(F),maxFramerate:$,simulcastEnabled:W,inBandMessagingEnabled:ie}}})(x,f),Bs=(x,f)=>{if(typeof x=="number")return x;const m=f?Jm:l0;return m[x]!==void 0?m[x]:0};function Ci(x){if(x<Uc||x>uo)throw new Error(`Stage bitrate must be between ${Uc} kbps and ${uo} kbps`)}function vg(x,f){let b=Object.assign({},{minBitrate:Uc,maxBitrate:uo,maxFramerate:Qa,simulcast:{enabled:!1},maxAudioBitrateKbps:Qm,stereo:!1,inBandMessaging:{enabled:!1}},(0,Sn.cloneDeep)(f));return b=function(T,O){var N,D,M;const I=Object.assign({},(0,Sn.cloneDeep)(O)),F=!Bd.browser.isChrome()&&!Bd.browser.isEdge(),$=(M=(D=(N=T.getSettings)===null||N===void 0?void 0:N.call(T))===null||D===void 0?void 0:D.displaySurface)!==null&&M!==void 0&&M,W=ho(I.maxBitrate)<Vd.maxBitrate;return(F||$||W)&&(I.simulcast.enabled=!1),I}(x,b),Ci(b.maxBitrate),Ci(b.minBitrate),function(T){if(T&&(T>Qa||T<Ih))throw new Error(`framerate cannot exceed ${Qa} fps`)}(b.maxFramerate),function(T){if(T<Ld||T>Bc)throw new Error(`Stage audio bitrate must be between ${Ld} kbps and ${Bc} kbps`)}(b.maxAudioBitrateKbps),function(T){if(typeof T!="boolean")throw new Error("Stage stereo prop must be a boolean")}(b.stereo),function(T){if(typeof T!="object")throw new Error("In-band messaging config must be an object");if(typeof T.enabled!="boolean")throw new Error("In-band messaging config enabled property must be a boolean")}(b.inBandMessaging),b}function Kd({stageErrorValue:x,action:f,token:m,traceId:b,tag:T,identifier:O,details:N}){return new Qt(Object.assign(Object.assign({},x),{token:m,traceId:b,location:"peer-client",tag:T,action:f,remoteParticipantId:O,details:N}))}var Ti;function Jl(x){var f;return!((f=x==null?void 0:x.sender)===null||f===void 0)&&f.createEncodedStreams?Ti.INSERTABLE_STREAMS:window.RTCRtpSender&&"transform"in RTCRtpSender.prototype&&window.RTCRtpScriptTransform?Ti.ENCODED_TRANSFORMS:Ti.NONE}function yg(x){var f;return!((f=x==null?void 0:x.receiver)===null||f===void 0)&&f.createEncodedStreams?Ti.INSERTABLE_STREAMS:window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&window.RTCRtpScriptTransform?Ti.ENCODED_TRANSFORMS:Ti.NONE}function R0(){return e0()(`/*! For license information please see transform.worker.worker.js.LICENSE.txt */
(()=>{"use strict";const e=new Uint8Array([158,80,78,165,238,90,79,2,148,159,176,51,163,118,141,162]);var t;!function(e){e.VIDEO_SEND="video/send",e.VIDEO_RECEIVE="video/receive",e.INSERT_SEI="insertSei"}(t||(t={}));function n(t,n){const{transformerId:s,type:r,payloads:a}=n;let o=[];if("sei"===n.type){const{value:n,messages:s}=function(t,n){function s(e,t,n){return n+t.length<=e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function r(e,t){const n=function(e,t){return new Uint8Array([0,0,1,6,5,...t,...e])}(e,function(e){const t=[];for(;e>=255;)t.push(255),e-=255;return t.push(e),new Uint8Array(t)}(t.length+e.length)),s=function(e){const t=[...e];let n=3;for(;n<t.length-2;)0!==t[n]||0!==t[n+1]||0!==t[n+2]&&1!==t[n+2]&&2!==t[n+2]&&3!==t[n+2]?n+=1:(t.splice(n+2,0,3),n+=3);return t}(new Uint8Array([...n,...t,128]));return new Uint8Array(s)}function a(e,n){const r=function(e){const t=new DataView(e);for(let e=0;e<t.byteLength-4;e++)if(s(t,[0,0,1],e)){const n=31&t.getUint8(e+3);if(n>=1&&n<=5)return e}return-1}(t.data);if(r>=0){const e=new ArrayBuffer(t.data.byteLength+n.byteLength),s=new Uint8Array(e);return s.set(new Uint8Array(t.data.slice(0,r)),0),s.set(n,r),s.set(new Uint8Array(t.data.slice(r)),r+n.byteLength),e}return e}return function(){const s=[];for(let o=0;o<n.length;o+=1){const i=r(e,new Uint8Array(n[o]));t.data=a(t.data,i),s.push({uuid:e,payload:n[o]})}return{value:t,messages:s}}()}(t,a||[]);t=n,o=s}return{success:!0,frame:t,transformerId:s,type:r,seiResult:o}}const s=function(){let e=[];const t=new Map;return{add:({payload:t,repeatCount:n})=>(e.push({payload:t,repeatCount:n}),!0),poll(n){t.has(n)||t.set(n,[]),t.size>0&&(t.forEach((t=>{t.push(...e)})),e=[]);const s=t.get(n)||[],r=s.filter((e=>e.repeatCount>0)).map((e=>Object.assign(Object.assign({},e),{repeatCount:e.repeatCount-1})));return t.set(n,r),s}}}(),r=e=>(t,r)=>{try{const a=t.getMetadata().synchronizationSource,o=(s?s.poll(a):[]).map((e=>e.payload)),i=n(t,Object.assign(Object.assign({},e),{payloads:o}));r.enqueue(i.frame),self.postMessage(Object.assign({success:i.success,seiResult:i.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}},a=e=>(t,n)=>{try{const s=function(e,t){const{type:n,transformerId:s}=t;if("sei"===n){const t=function(e){function t(e,t,n){return n+t.length<e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function n(e){const t=[];let n=0;for(;n<e.length;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(t.push(e[n]),t.push(e[n+1]),n+=3):(t.push(e[n]),n+=1);return new Uint8Array(t)}function s(e){let t=2;const n=e.byteLength;for(;t<n;){let s=0;for(;t<n&&255===e[t];)s+=255,t++;s+=e[t],t++;const r=Math.min(t+s,n),a=new Uint8Array(e.slice(t,r));return{uuid:a.slice(0,16),payload:a.slice(16)}}}return{messages:function(e){const r=new DataView(e.data),a=[];let o=0;if(!t(r,[0,0,1],0)&&!t(r,[0,0,0,1],0))return[];for(;o<r.byteLength-5;)if(t(r,[0,0,1],o)){const i=o+3;o=i;const c=31&r.getUint8(o),u=31&r.getUint8(o+1);if(6===c&&5===u){for(;o<r.byteLength&&!t(r,[0,0,1],o);)o++;const c=o,u=s(n(new Uint8Array(e.data.slice(i,c))));u&&a.push(Object.assign({},u))}else o++}else o++;return a}(e),frame:e}}(e),{frame:r,messages:a}=t;return{success:!0,frame:r,type:n,transformerId:s,seiResult:a}}return{success:!0,frame:e,transformerId:s,type:n}}(t,e);n.enqueue(s.frame),self.postMessage(Object.assign({success:s.success,seiResult:s.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}};function o(e,t,n,s){const o=new TransformStream({transform:"video/send"===e?r(t):a(t)});n.pipeThrough(o).pipeTo(s)}const i=self;i.addEventListener("message",(function(e){var n,r,a;if(!(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.operation)||!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transformerId))return;const{operation:i,transformerId:c}=e.data;switch(i){case t.VIDEO_SEND:case t.VIDEO_RECEIVE:o(i,{method:i,transformerId:c,type:"sei"},e.data.readable,e.data.writable);break;case t.INSERT_SEI:s.add({payload:e.data.payload,repeatCount:null!==(a=e.data.repeatCount)&&void 0!==a?a:0})}})),i.addEventListener("rtctransform",(function(e){const t=e.transformer;if(!t)return;o(t.options.method,t.options,t.readable,t.writable)}))})();`,"Worker",void 0,void 0)}(function(x){x.NONE="none",x.ENCODED_TRANSFORMS="encodedTransforms",x.INSERTABLE_STREAMS="insertableStreams"})(Ti||(Ti={}));const Xl=(()=>{let x;return{getWorker:()=>(x||(x=new R0),x),destroy:()=>{x&&x.terminate(),x=void 0}}})();var Ri;(function(x){x.NOT_PUBLISHING_VIDEO="NOT_PUBLISHING_VIDEO",x.INBAND_MESSAGING_NOT_ENABLED="INBAND_MESSAGING_NOT_ENABLED",x.INVALID_REPEAT_COUNT="INVALID_REPEAT_COUNT",x.PAYLOAD_SIZE_INVALID="PAYLOAD_SIZE_INVALID",x.PAYLOAD_RATE_EXCEEDED="PAYLOAD_RATE_EXCEEDED",x.INVALID_TRACK_TYPE="INVALID_TRACK_TYPE"})(Ri||(Ri={}));class bg{constructor(f){this.maxFramerate=f,this.queued=[]}validateMessagePayload(f,m){if(f.byteLength<=0)return st.err(Ri.PAYLOAD_SIZE_INVALID);if(m<0||m>30)return st.err(Ri.INVALID_REPEAT_COUNT);if(f.byteLength>1024)return st.err(Ri.PAYLOAD_SIZE_INVALID);this.queued=this.trimPastPayloads(this.queued,1e3);const{before:b,after:T}=this.getPayloadSums(this.queued);if(b+f.byteLength>10240||T+f.byteLength*Math.max(1,m)>10240)return st.err(Ri.PAYLOAD_RATE_EXCEEDED);if(this.queued.push({byteLength:f.byteLength,timestamp:Date.now()}),m>0){const O=1e3/this.maxFramerate;let N=Date.now()+O;for(let D=0;D<m;D+=1)this.queued.push({byteLength:f.byteLength,timestamp:N}),N+=O}return st.ok(!0)}trimPastPayloads(f,m){const b=Date.now()-m;return f.filter(T=>T.timestamp>b)}getPayloadSums(f){const m=Date.now();return f.reduce((b,T)=>{const{before:O,after:N}=b;return T.timestamp<=m?{before:O+T.byteLength,after:N}:{before:O,after:N+T.byteLength}},{before:0,after:0})}}const xg="seiMessageReceived",Zl="error";var $i;(function(x){x.CREATED="created",x.INITIALIZED="initialized",x.DESTROYED="destroyed"})($i||($i={}));class _g extends vs{constructor(){super(),this.state=$i.CREATED,this.transformerId=Ga().value,this.prevResultWasError=!1,this.consecutiveErrorResults=0,this.seiReadCnt=0,this.seiBytesRead=0,this.onMessage=f=>{this.onTransformResult(f.data)}}initializeInsertableStreams(f){var m,b;this.worker=Xl.getWorker();const T=f.receiver.createEncodedStreams(),{readable:O,writable:N}=T;(m=this.worker)===null||m===void 0||m.postMessage({operation:"video/receive",transformerId:this.transformerId,readable:O,writable:N},[O,N]),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initializeEncodedTransforms(f){var m;this.worker=Xl.getWorker();const b={method:"video/receive",type:"sei",transformerId:this.transformerId};f.receiver.transform=new RTCRtpScriptTransform(this.worker,b),(m=this.worker)===null||m===void 0||m.addEventListener("message",this.onMessage)}initialize(f,m){if(this.state!==$i.CREATED)return!1;const b=yg(f);if(b===Ti.NONE)return!1;if(m&&b===Ti.INSERTABLE_STREAMS)this.initializeInsertableStreams(f);else{if(m||b!==Ti.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(f)}return this.transceiver=f,this.state=$i.INITIALIZED,!0}onTransceiverAdd(f){return this.initialize(f,!0)}onTrackEvent(f){return f.track.kind==="video"&&this.initialize(f.transceiver,!1)}static isSupported(f){return yg(f)!==Ti.NONE}onTransformResult(f){return f.transformerId===this.transformerId&&(f.success?(this.prevResultWasError=!1,this.consecutiveErrorResults=0,!!f.seiResult&&(f.seiResult.forEach(m=>{const{payload:b,uuid:T}=m;this.updateReadStats(m),this.emit(xg,{uuid:T,payload:b})}),f.seiResult.length>0)):(this.prevResultWasError&&this.consecutiveErrorResults++,this.consecutiveErrorResults>=300&&this.onError(f,je.TRANSFORM_TOO_MANY_ERRORS),this.prevResultWasError=!0,this.onError(f,je.TRANSFORM_UNEXPECTED_ERROR),!1))}updateReadStats(f){this.seiReadCnt++,this.seiBytesRead+=f.payload.byteLength}getReceiverStats(){const{seiBytesRead:f,seiReadCnt:m}=this;return{seiReadCnt:m,seiBytesRead:f}}onError(f,m){const{type:b}=f;this.emit(Zl,{type:b,stageErrorValue:m})}destroy(){var f,m;this.state!==$i.DESTROYED&&(this.removeAllListeners(),(f=this.worker)===null||f===void 0||f.removeEventListener("message",this.onMessage),!((m=this.transceiver)===null||m===void 0)&&m.receiver&&(this.transceiver.receiver.transform=null),this.state=$i.DESTROYED)}getState(){return this.state}}class Sg{constructor(){this.state=$i.CREATED,this.transformerId=Ga().value,this.seiWriteCnt=0,this.seiBytesWritten=0,this.onMessage=f=>{this.onTransformResult(f.data)}}initializeInsertableStreams(f,m){var b,T;this.worker=Xl.getWorker();const O=f.sender.createEncodedStreams(),{readable:N,writable:D}=O;(b=this.worker)===null||b===void 0||b.postMessage({operation:"video/send",transformerId:this.transformerId,readable:N,writable:D},[N,D]),(T=this.worker)===null||T===void 0||T.addEventListener("message",this.onMessage)}initializeEncodedTransforms(f,m){var b;this.worker=Xl.getWorker();const T={method:"video/send",type:"sei",transformerId:this.transformerId,encodingLayers:m};f.sender.transform=new RTCRtpScriptTransform(this.worker,T),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initialize(f){var m;if(this.state!==$i.CREATED)return!1;const b=Jl(f);if(b===Ti.NONE)return!1;const T=f.sender.getParameters(),O=((m=T==null?void 0:T.encodings)===null||m===void 0?void 0:m.length)||1;if(b===Ti.INSERTABLE_STREAMS)this.initializeInsertableStreams(f,O);else{if(b!==Ti.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(f,O)}return this.transceiver=f,this.state=$i.INITIALIZED,!0}static isSupported(f){return Jl(f)!==Ti.NONE}sendSeiMessage(f,m){var b;return this.state===$i.INITIALIZED&&this.transceiver?((b=this.worker)===null||b===void 0||b.postMessage({operation:"insertSei",transformerId:this.transformerId,payload:f,repeatCount:m}),st.ok(!0)):st.err(Ri.NOT_PUBLISHING_VIDEO)}onTransceiverAdd(f){return this.initialize(f)}onTrackEvent(f){return!1}onTransformResult(f){return f.transformerId===this.transformerId&&(f.success&&this.updateSendStats(f),f.success)}updateSendStats(f){f.seiResult&&f.seiResult.forEach(m=>{this.seiWriteCnt++,this.seiBytesWritten+=m.payload.byteLength})}getSenderStats(){const{seiBytesWritten:f,seiWriteCnt:m}=this;return{seiWriteCnt:m,seiBytesWritten:f}}destroy(){var f;this.state!==$i.DESTROYED&&(!((f=this.transceiver)===null||f===void 0)&&f.receiver&&(this.transceiver.receiver.transform=null),this.state=$i.DESTROYED)}getState(){return this.state}}var Mn=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};let eu=null;class po extends vs{constructor(f,m,b,T,O,N,D,M,I){var F;if(super(),this.analyticsTracker=N,this.subscribeConfig=I,this.sfuResource={node:"",cluster:""},this.stageCapabilities={simulcastNegotiated:!1},this.incompatibleCodecs=new Set,this.connect=({audioOnly:$=!1,traceId:W,iceRestartOptions:ie})=>Mn(this,void 0,void 0,function*(){const{token:be,tag:ge,identifier:le,action:ae}=this,se=!!ie,we=new AbortController;let Ve,ot,Tt;this.abortController=we,this.traceId=W,this.perfTracker.resetMeasurements(W);const Gt=()=>{Ve&&this.off(gs,Ve),ot&&this.off(ms,ot)},qt=new Promise((Bt,Nt)=>{const Jt=function({action:bt,token:sr,traceId:At,tag:It,identifier:lr}){const Or=bt===Ge.SUBSCRIBE?je.SUBSCRIBE_TIMED_OUT:je.PUBLISH_TIMED_OUT;return new Qt(Object.assign(Object.assign({},Or),{action:bt,token:sr,traceId:At,tag:It,location:"connect",remoteParticipantId:lr}))}({action:ae,token:be,traceId:W,tag:ge,identifier:le}),cr=function({action:bt,token:sr,traceId:At,tag:It}){const lr=je.OPERATION_ABORTED;return new Qt(Object.assign(Object.assign({},lr),{token:sr,traceId:At,location:"peer-client.connect",tag:It,action:bt}))}({action:ae,token:be,traceId:W,tag:ge}),yt=setTimeout(()=>{this.stop(),this.analyticsTracker.trackError(Jt),Nt(Jt)},1e4);Ve=bt=>{clearTimeout(yt),se||this.stop(),Nt(bt)},ot=bt=>{if(bt===vt.CONNECTED)clearTimeout(yt),Bt();else if(bt===vt.FAILED){const sr=function({action:At,token:It,traceId:lr,tag:Or}){return new Qt(Object.assign(Object.assign({},je.PEER_CONNECTION_NETWORK_FAILURE),{token:It,traceId:lr,location:"peer-client.connect",tag:Or,action:At}))}({action:ae,token:be,traceId:W,tag:ge});clearTimeout(yt),Nt(sr)}},this.on(gs,Ve),this.on(ms,ot),Tt=()=>{clearTimeout(yt)},we.signal.aborted&&(clearTimeout(yt),Nt(cr)),we.signal.addEventListener("abort",()=>{clearTimeout(yt),Nt(cr)})});try{const Bt=yield Promise.all([Mn(this,void 0,void 0,function*(){se||(yield this.start(),this.mediaStream=yield this.initializePeerConnection($));const Jt=ie==null?void 0:ie.assignmentToken,cr=ie==null?void 0:ie.nodeOverride;return yield this.exchangeSdp({iceRestart:se,nodeOverride:cr,assignmentToken:Jt,abortController:we}),this.mediaStream}),qt]);this.statsReporter.traceId=W;const Nt=Bt[0];if(this.abortController=void 0,!se&&ae===Ge.PUBLISH)try{yield this.verifyOrUpdateTransceiverSync()}catch(Jt){this.logger.error({err:Jt,msg:"error syncing transceivers"})}return{mediaStream:Nt}}catch(Bt){throw Tt&&Tt(),Bt}finally{Gt()}}),this.disconnect=($=!1)=>Mn(this,void 0,void 0,function*(){var W;const{token:ie,action:be}=this;(W=this.abortController)===null||W===void 0||W.abort(),this.stop(),$?this.cleanup(be,ie.participantID,ie,$):yield this.cleanup(be,ie.participantID,ie,$)}),this.onTrack=$=>{const{token:W,action:ie,traceId:be,identifier:ge}=this;this.trace(W,be,`onTrack: ${$.track.kind}`,ie,ge),this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTrackEvent($),this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTrackEvent($)},this.onIceGatheringStateChange=()=>{var $,W,ie;const{token:be,action:ge,traceId:le,identifier:ae}=this;if((($=this.peerConnection)===null||$===void 0?void 0:$.iceGatheringState)==="gathering"?this.perfTracker.markIceGatheringStart():((W=this.peerConnection)===null||W===void 0?void 0:W.iceGatheringState)==="complete"&&this.perfTracker.markIceGatheringStop(),this.peerConnection){const se=this.peerConnection.iceGatheringState,we=new Ah(ge,be,le,se,ae);this.analyticsTracker.trackEventNoSharedProps(we)}this.trace(be,le,`ICE gathering state change: ${(ie=this.peerConnection)===null||ie===void 0?void 0:ie.iceGatheringState}`,ge,ae)},this.onSelectedCandidatePairChange=()=>{var $,W;const{token:ie,action:be,traceId:ge,identifier:le}=this,ae=(W=($=this.peerConnection)===null||$===void 0?void 0:$.getReceivers()[0].transport)===null||W===void 0?void 0:W.iceTransport,se=ae==null?void 0:ae.getSelectedCandidatePair();if(se){const{local:we,remote:Ve}=se,ot=`Selected candidate pair change (local, remote): ${we==null?void 0:we.candidate}, ${Ve==null?void 0:Ve.candidate}`;this.logger.debug({msg:ot}),this.trace(ie,ge,ot,be,le)}},this.onIceCandidate=$=>Mn(this,void 0,void 0,function*(){var W,ie;const{identifier:be,action:ge,traceId:le}=this,ae=(W=$.target.localDescription)===null||W===void 0?void 0:W.sdp.includes("relay");this.analyticsTracker.trackEventNoSharedProps(new bs(this.token,le,`ice candidate: hasRelay = ${ae}, candidate = ${(ie=$.candidate)===null||ie===void 0?void 0:ie.candidate}`,ge,be))}),this.onMute=()=>Mn(this,void 0,void 0,function*(){const{token:$,action:W,traceId:ie,identifier:be}=this;this.trace($,ie,"Track has muted",W,be)}),this.onUnMute=()=>Mn(this,void 0,void 0,function*(){const{token:$,action:W,traceId:ie,identifier:be}=this;this.trace($,ie,"Track has unmuted",W,be)}),this.fetchAndSetRemoteDescription=$=>Mn(this,void 0,void 0,function*(){var W,ie,be,ge;const le=(ie=(W=this.peerConnection)===null||W===void 0?void 0:W.localDescription)===null||ie===void 0?void 0:ie.sdp;le||this.logger.warn({msg:"Unexpected state: No SDP offer when attempting to fetch remote description"});const{token:ae,traceId:se,action:we,identifier:Ve,tag:ot}=this,{endpointURL:Tt,nodeOverride:Gt,assignmentToken:qt,multiCodec:Bt,abortController:Nt}=$;let Jt;this.perfTracker.markPostStart(),this.perfTracker.markSdpExchangeStart();try{this.perfTracker.setTransport(this.sdpExchanger.getTransport());const At=Gt||bi("node")||bi("dataPlaneEndpoint");Jt=yield this.sdpExchanger.exchange({sdpOffer:le,url:Tt,traceId:se,forceNode:At,assignmentToken:qt,multiCodec:Bt,abortController:Nt,initialLayerPreference:(be=this.simulcastSubscribeConfig)===null||be===void 0?void 0:be.initialLayerPreference})}catch(At){let It=At;It instanceof Qt||(It=new Qt(Object.assign(Object.assign({},je.UNEXPECTED_ERROR),{action:we,token:ae,traceId:se,tag:ot,details:At instanceof Error?At.message:"",location:"sdp-exchange"}))),It instanceof Qt&&(this.analyticsTracker.trackError(It),this.emit(gs,It))}if(this.perfTracker.markSdpExchangeStop(),!Jt)return;const{location:cr,sessionDeleteLink:yt,mediaControls:bt}=Jt;let sr=Jt.sdpAnswer;try{sr=this.mungeSdpAnswer(sr),Jt.sdpAnswer=sr}catch(At){this.logger.error({err:At,msg:"Error while attempting to munge SDP, keeping original answer"})}this.statsReporter.sdpAnswer=sr,this.emit(Zy,Jt),cr&&(this.whipResource={location:cr,sessionDeleteLink:yt,mediaControls:bt},this.sfuResource=function(At){const It=At.match(/https:\/\/([^/]+)\//);if(It){const lr=It[1].split(".");if(lr[0].includes("video-rtx"))return{node:`${lr[0]}.${lr[1]}`,cluster:lr[1]}}}(cr)||{node:"",cluster:""},this.statsReporter.updateSfuResource(this.sfuResource));try{this.perfTracker.markSetRemoteDescStart(),yield(ge=this.peerConnection)===null||ge===void 0?void 0:ge.setRemoteDescription({sdp:sr,type:"answer"}),this.perfTracker.markSetRemoteDescStop(),this.perfTracker.markPostStop()}catch(At){const It=new Qt(Object.assign(Object.assign({},je.SET_ANSWER_FAILURE),{action:we,token:ae,traceId:se,tag:Xn(we,Ve),location:"setRemoteDescription",remoteParticipantId:Ve,details:At instanceof Error?At.message:""}));this.analyticsTracker.trackError(It),this.emit(gs,It)}}),this.cleanup=($,W,ie,be=!1)=>Mn(this,void 0,void 0,function*(){var ge,le,ae;const se=Ga();if(this.toggleStageConnectionListeners(!1),this.currentJitterBufferMinDelayInMs=void 0,this.stageConnection=void 0,this.closeFailedPeerConnections(),!(!((ge=this.whipResource)===null||ge===void 0)&&ge.location))return this.trace(ie,this.traceId,"whipResource location not known, exiting cleanup",$,W),void this.analyticsTracker.trackError(new Qt(Object.assign(Object.assign({},je.WHIP_URL_MISSING),{action:$,token:ie,traceId:this.traceId,tag:Xn($,W),location:$===Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:se,remoteParticipantId:W})));let we=this.whipResource.location;if(this.trace(ie,this.traceId,`use hostnamecachedurl: ${we}`,$,W),be){if(!((ae=this.whipResource)===null||ae===void 0)&&ae.sessionDeleteLink){we=this.whipResource.sessionDeleteLink,this.trace(ie,this.traceId,`DELETE via session-delete beacon path: ${we}`,$,W);try{navigator.sendBeacon(we,JSON.stringify({authorization:ie.rawToken}))}catch(Ve){this.analyticsTracker.trackErrorAndThrow(new Qt(Object.assign(Object.assign({},ua(je.WHIP_DELETE_FAILURE,Ve)),{action:$,token:ie,traceId:this.traceId,tag:Xn($,W),location:Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:se,remoteParticipantId:W})))}}}else try{yield Wn().delete(we,{headers:{Authorization:`Bearer ${ie.rawToken}`,"X-Stages-Platform":"web","X-Stages-Request-ID":se.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":lo}})}catch(Ve){((le=Ve.response)===null||le===void 0?void 0:le.status)===404?this.trace(ie,this.traceId,`DELETE returned 404, ignoring, action = ${$}, uuid = ${se.value}`,$,W):this.analyticsTracker.trackErrorAndThrow(new Qt(Object.assign(Object.assign({},ua(je.WHIP_DELETE_FAILURE,Ve)),{action:$,token:ie,traceId:this.traceId,tag:Xn($,W),location:Ge.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:se,remoteParticipantId:W})))}}),this.getConnectionState=()=>{if(!this.peerConnection)return vt.NONE;const $=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;try{return Nh($)}catch{return this.logger.warn({msg:"Unhandled connection state:",rawState:$}),vt.IDLE}},this.onIceCandidateError=$=>{const{token:W,traceId:ie,tag:be}=this;if($.errorCode!==701){const ge=new Qt(Object.assign(Object.assign({},je.ICE_CANDIDATE_ERROR),{action:this.action,token:W,traceId:ie,tag:be,location:"onIceCandidateError",remoteParticipantId:this.identifier}));this.analyticsTracker.trackError(ge),this.emit(gs,ge)}},this.onIceConnectionStateChange=()=>{var $;const{token:W,traceId:ie,action:be,identifier:ge}=this;this.trace(W,ie,`ICE connection state change: ${($=this.peerConnection)===null||$===void 0?void 0:$.iceConnectionState}`,be,ge),this.onConnectionStateChange()},this.createVideoReceiverTransformer=()=>{const $=new _g,{token:W,tag:ie,identifier:be,action:ge,traceId:le}=this;$.on(xg,we=>{this.emit(Ls,we)});const ae=function(we,Ve){let ot=0;return function(...Tt){const Gt=Date.now();Gt-ot>=Ve&&(ot=Gt,we(...Tt))}}(we=>{const Ve=`Transform error occurred: ${we.type}`,ot=Kd({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:Ve,stageErrorValue:je.TRANSFORM_UNEXPECTED_ERROR});this.logger.warn({err:ot,msg:"Error encountered when transforming receiver",error:we})},1e3),se=we=>{const Ve=`Too many errors occurred: ${we.type}`,ot=Kd({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:Ve,stageErrorValue:je.TRANSFORM_TOO_MANY_ERRORS});this.logger.error({err:ot,msg:"Too many errors encountered when transforming receiver. Shutting down transformer.",error:we}),$.destroy(),this.analyticsTracker.trackError(ot),this.emit(jc,ot)};return $.on(Zl,we=>{we.stageErrorValue.code!==je.TRANSFORM_TOO_MANY_ERRORS.code?ae(we):se(we)}),$},this.onConnectionStateChange=()=>{var $;if(this.peerConnection){const ie=this.peerConnection.connectionState||this.peerConnection.iceConnectionState,{token:be,traceId:ge,identifier:le,action:ae}=this,se=new Km(ae,be,ge,ie,le);this.analyticsTracker.trackEventNoSharedProps(se),this.trace(be,ge,`connection state change: ${ie}`,ae,le)}const W=this.getConnectionState();switch(W){case vt.CONNECTED:this.closeFailedPeerConnections(),this.perfTracker.markActionStop(),this.emit(ms,W),this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub),($=this.peerConnection)===null||$===void 0||$.getTransceivers().forEach(ie=>{var be,ge;!((ge=(be=ie.receiver)===null||be===void 0?void 0:be.transport)===null||ge===void 0)&&ge.iceTransport&&ie.receiver.transport.iceTransport.addEventListener("selectedcandidatepairchange",this.onSelectedCandidatePairChange)});break;case vt.FAILED:this.storeFailedPeerConnection(this.peerConnection),this.destroyPeerConnection({closeConnection:!1}),this.emit(ms,W),this.handleConnectionFailure();break;default:this.emit(ms,W)}},this.onIncompatibleCodecs=$=>Mn(this,void 0,void 0,function*(){if($.forEach(be=>{let ge=!1;this.incompatibleCodecs.forEach(le=>{le.config===be.config&&le.mime===be.mime&&(ge=!0)}),ge||this.incompatibleCodecs.add(be)}),this.peerConnection)try{yield(W=this.peerConnection,ie=[...this.incompatibleCodecs],u0(void 0,void 0,void 0,function*(){var be;for(const ge of W.getSenders()){const le=ge.getParameters();if(le.codecs.length>1){const ae=le.codecs[0];let se=!1;for(const we of ie)eg(ae,we)&&(se=!0);if(se){const we=tg(ie,le.codecs);(be=le.encodings)===null||be===void 0||be.forEach(Ve=>{Ve.active&&(Ve.codec=we)}),yield ge.setParameters(le)}}}}))}catch(be){const{token:ge,action:le,traceId:ae,identifier:se}=this,we=new Qt(Object.assign(Object.assign({},je.CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR),{action:le,token:ge,traceId:ae,tag:Xn(le,se),location:"onIncompatibleCodecs",remoteParticipantId:se,details:be instanceof Error?be.message:""}));this.analyticsTracker.trackError(we),this.emit(gs,we)}var W,ie}),this.token=f,this.logger=new ps(m,Cr.WEBRTC),this.action=b,this.tag=T,this.traceId=O,b===Ge.SUBSCRIBE&&!D)throw new Error("Subscribe action provided without subscriber Id");this.jitterBufferConfig=I==null?void 0:I.jitterBuffer,this.simulcastSubscribeConfig=I==null?void 0:I.simulcast,this.subscriberId=D,this.stageConnection=M,this.failedPeerConnections=[],this.receiveInBandMessagingEnabled=!!(!((F=this.subscribeConfig)===null||F===void 0)&&F.inBandMessaging.enabled),this.videoSenderTransformer=new Sg,this.videoReceiverTransformer=this.createVideoReceiverTransformer(),this.perfTracker=new Ui(this.action,this.traceId),this.statsReporter=new ga(b,f,O,this.identifier,this.analyticsTracker,this.videoReceiverTransformer,this.videoSenderTransformer),this.sdpExchanger=function($){const{connection:W,token:ie,action:be,identifier:ge,tracker:le}=$,ae=W&&W.supportsSdpExchange(),se=be===Ge.SUBSCRIBE&&ae&&!Im(),we=be===Ge.PUBLISH&&ae&&ph()&&!Im();return se||we?new gg(ie,W,{action:be,remoteParticipantId:ge},le):new Ei(ie,{action:be,remoteParticipantId:ge},le)}({connection:M,action:b,token:f,identifier:this.identifier,tracker:N}),this.handlePublishingChangedBinding=this.handlePublishingChanged.bind(this),this.toggleStageConnectionListeners(!0)}get videoMediaId(){var f,m;return(m=(f=this.videoTransceiver)===null||f===void 0?void 0:f.mid)!==null&&m!==void 0?m:null}toggleStageConnectionListeners(f){var m,b;f?(m=this.stageConnection)===null||m===void 0||m.on(zm,this.handlePublishingChangedBinding):(b=this.stageConnection)===null||b===void 0||b.off(zm,this.handlePublishingChangedBinding)}updateSubscribeConfig(f){var m,b;if(this.jitterBufferConfig=f.jitterBuffer,this.simulcastSubscribeConfig=f.simulcast,this.action===Ge.SUBSCRIBE){const T=f.inBandMessaging.enabled;this.receiveInBandMessagingEnabled!==T&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for receiver"})}this.applyJitterBufferMinDelayConditionally((b=(m=this.stageConnection)===null||m===void 0?void 0:m.getIsStagePublishing())!==null&&b!==void 0&&b)}verifyOrUpdateTransceiverSync(){var f,m;return Mn(this,void 0,void 0,function*(){if(this.videoTrackForPub){const b=this.getTransceiverForKind("video");b?this.videoTrackForPub.track.id!==((f=b.sender.track)===null||f===void 0?void 0:f.id)&&(this.logger.debug({msg:"found out of sync video transceiver... updating"}),yield this.replaceOrUpdateTrack(this.videoTrackForPub)):this.logger.warn({msg:"missing transceiver for video"})}if(this.audioTrackForPub){const b=this.getTransceiverForKind("audio");b?this.audioTrackForPub.track.id!==((m=b.sender.track)===null||m===void 0?void 0:m.id)&&(this.logger.debug({msg:"found out of sync audio transceiver... updating"}),yield this.replaceOrUpdateTrack(this.audioTrackForPub)):this.logger.warn({msg:"missing transceiver for audio"})}})}start(){var f,m,b;return Mn(this,void 0,void 0,function*(){const{token:T,action:O,traceId:N,identifier:D}=this;O!==Ge.PUBLISH||T.claims.capabilities.allow_publish||this.analyticsTracker.trackErrorAndThrow(new Qt(Object.assign(Object.assign({},ua(je.TOKEN_PERMISSIONS_DENIED,new Error("Cannot publish with subscribe only token"))),{action:O,token:T,traceId:N,tag:Xn(O,D),location:"StagePeerClient.start",remoteParticipantId:D})));const M=function({action:I,identifier:F,token:$,analyticsTracker:W}){let ie="";const be=ys($,W);switch(I){case Ge.PUBLISH:ie=be.getPublishEndpoint();break;case Ge.SUBSCRIBE:F&&(ie=be.getSubscribeEndpoint(F))}return ie}({action:O,identifier:D,token:T.rawToken,analyticsTracker:this.analyticsTracker});try{this.perfTracker.markActionStart(),this.stageCapabilities={simulcastNegotiated:(b=(m=(f=this.videoTrackForPub)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.simulcastEnabled)!==null&&b!==void 0&&b},this.endpointURL=M,this.createPeerConnection(),this.trace(T,N,"peer connection created",O,D)}catch(I){const F=new Qt(Object.assign(Object.assign({action:O},ua(je.CREATE_PEER_CONNECTION_FAILURE,I)),{token:T,traceId:N,tag:Xn(O,D),location:"StagePeerClient.start",remoteParticipantId:D}));O===Ge.PUBLISH&&this.emit(ms,vt.FAILED),this.emit(gs,F),this.analyticsTracker.trackErrorAndThrow(F)}})}mungeSdpOffer(f,m,b){if(b.simulcastNegotiated&&(f=new Pr(f).withVideoLayersAllocationRtpHeaderExtension().sdp),m===Ge.SUBSCRIBE)f=new Pr(f).withOpusAudioConfig(ho(Bc),!0).sdp;else if(m===Ge.PUBLISH&&b.audioConfig){const{maxBitrateBps:T,stereo:O}=b.audioConfig;f=new Pr(f).withOpusAudioConfig(T,O).sdp}return f}mungeSdpAnswer(f){return Bd.browser.isFirefox()&&this.audioTrackForPub&&this.action===Ge.PUBLISH&&(f=new Pr(f).withOpusAudioConfig(this.audioTrackForPub.config.maxBitrateBps,void 0).sdp),f}createPeerConnection(){this.logger.debug({msg:"setting up peer connection"}),this.peerConnection&&(this.logger.debug({msg:"peer connection is already established, cleaning up previous connection"}),this.destroyPeerConnection({closeConnection:!1})),this.peerConnection=new RTCPeerConnection({iceTransportPolicy:"all"}),this.statsReporter.start(this.peerConnection,this.stageCapabilities.simulcastNegotiated),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.peerConnection.addEventListener("icecandidateerror",this.onIceCandidateError),this.peerConnection.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.peerConnection.addEventListener("icecandidate",this.onIceCandidate),this.peerConnection.addEventListener("track",this.onTrack),this.peerConnection.addEventListener("mute",this.onMute),this.peerConnection.addEventListener("unmute",this.onUnMute)}destroyPeerConnection(f){var m,b,T,O,N,D,M,I,F;this.statsReporter.stop(),(m=this.peerConnection)===null||m===void 0||m.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),(T=this.peerConnection)===null||T===void 0||T.removeEventListener("icecandidateerror",this.onIceCandidateError),(O=this.peerConnection)===null||O===void 0||O.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),(N=this.peerConnection)===null||N===void 0||N.removeEventListener("icecandidate",this.onIceCandidate),(D=this.peerConnection)===null||D===void 0||D.removeEventListener("track",this.onTrack),(M=this.peerConnection)===null||M===void 0||M.removeEventListener("mute",this.onMute),(I=this.peerConnection)===null||I===void 0||I.removeEventListener("unmute",this.onUnMute),f.closeConnection&&((F=this.peerConnection)===null||F===void 0||F.close()),this.peerConnection=void 0}closeFailedPeerConnections(){for(const f of this.failedPeerConnections)f==null||f.close();this.failedPeerConnections=[]}storeFailedPeerConnection(f){f&&this.failedPeerConnections.push(f)}stop(){this.videoReceiverTransformer.destroy(),this.videoSenderTransformer.destroy(),this.destroyPeerConnection({closeConnection:!0})}getTransceiverForKind(f){if(!this.peerConnection)return;const m=this.peerConnection.getTransceivers();return f==="audio"?m.find(b=>b.mid==="0"):f==="video"?m.find(b=>b.mid==="1"):void 0}removeTrack(f){return Mn(this,void 0,void 0,function*(){if(f==="audio"||f==="video")if(this.peerConnection)try{const m=this.getTransceiverForKind(f);if(!m)return void this.logger.warn({msg:`tried removing track type ${f} but couldn't find transceiver`});yield m.sender.replaceTrack(null),f===fa.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0,yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(m){this.logger.warn({msg:"error replacing track",err:m})}else f===fa.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0;else this.logger.warn({msg:"RemoveTrack called with invalid track type",trackType:f})})}replaceOrUpdateTrack(f){return Mn(this,void 0,void 0,function*(){if(f.track){if(Vh(f)?this.audioTrackForPub=f:zh(f)&&(this.videoTrackForPub=f),this.peerConnection)try{const m=this.getTransceiverForKind(f.track.kind);if(!m)return void this.logger.warn({msg:`tried replacing track type ${f.track.kind} but couldn't find transceiver`,track:f.track});if(zh(f)){const b=m.sender.getParameters(),T=ag(this.stageCapabilities.simulcastNegotiated,f);b.encodings=b.encodings.map(O=>{var N;const D=(N=O.rid)!==null&&N!==void 0?N:"",M=T.find(I=>{var F;return((F=I.rid)!==null&&F!==void 0?F:"")===D});return M?Object.assign(Object.assign({},O),M):O}),yield m.sender.setParameters(b)}else if(Vh(f)){const b=m.sender.getParameters(),T=og(f)[0];b.encodings=b.encodings.map(O=>Object.assign(Object.assign({},O),T)),yield m.sender.setParameters(b)}yield m.sender.replaceTrack(f.track),yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(m){this.logger.warn({msg:"error replacing track",err:m})}}else this.logger.warn({msg:"Unexpected call to replaceOrUpdateTrack with no track"})})}initializePeerConnection(f=!1){var m,b,T,O,N;return Mn(this,void 0,void 0,function*(){const{traceId:D,token:M,action:I,identifier:F}=this;Dc(this.peerConnection);let $=new MediaStream;if(I===Ge.PUBLISH){this.audioTrackForPub||(this.audioTrackForPub={track:this.getSilentAudio(),config:{maxBitrateBps:ho(Ld),stereo:!1}});const W=this.peerConnection.getTransceivers(),ie=[];W.forEach(Ve=>{var ot;ie.concat((ot=Ve.sender.track)===null||ot===void 0?void 0:ot.id)}),$=new MediaStream([this.audioTrackForPub.track,(m=this.videoTrackForPub)===null||m===void 0?void 0:m.track].filter(Ve=>!!Ve&&!ie.includes(Ve.id)));const be=$.getAudioTracks()[0]||"audio",ge=$.getVideoTracks()[0]||"video",le={direction:"sendonly",streams:[$],sendEncodings:og(this.audioTrackForPub)},ae={direction:"sendrecv",streams:[$],sendEncodings:ag(this.stageCapabilities.simulcastNegotiated,this.videoTrackForPub)};this.peerConnection.addTransceiver(be,le),this.trace(M,D,`track added, type: ${be.kind||be}`,I,F);const se=this.peerConnection.addTransceiver(ge,ae);this.trace(M,D,`track added, type: ${ge.kind||ge}`,I,F);const we=!!(!((T=(b=this.videoTrackForPub)===null||b===void 0?void 0:b.config)===null||T===void 0)&&T.inBandMessagingEnabled);this.sendInBandMessagingEnabled===void 0?this.sendInBandMessagingEnabled=we:this.sendInBandMessagingEnabled!==we&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for sender"}),this.sendInBandMessagingEnabled&&!Sg.isSupported(se)?this.handleTransformNotSupported():this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTransceiverAdd(se)}else I===Ge.SUBSCRIBE&&(M.shouldSendSilentAudio()?this.peerConnection.addTransceiver(this.getSilentAudio(),{direction:"sendrecv"}):this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),this.trace(M,D,"track added, type: audio",I,F),f||(this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.trace(M,D,"track added, type: video",I,F),this.receiveInBandMessagingEnabled&&!_g.isSupported(this.videoTransceiver)?this.handleTransformNotSupported():this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTransceiverAdd(this.videoTransceiver)),this.peerConnection.getTransceivers().forEach(W=>{W.receiver?(this.logger.info({msg:"dbg: Subscribe succeeded, adding media track to participant mediaStream"}),$==null||$.addTrack(W.receiver.track)):this.logger.info({msg:"dbg: Subscribe succeeded, but Transceiver were negotiated without Receiver"})}),this.applyJitterBufferMinDelayConditionally((N=(O=this.stageConnection)===null||O===void 0?void 0:O.getIsStagePublishing())!==null&&N!==void 0&&N));return $})}handlePublishingChanged(f){this.logger.debug({msg:`[handlePublishingChanged (${this.subscriberId})] isStagePublishing: ${f}, currentMinDelay: ${this.currentJitterBufferMinDelayInMs}`}),this.action===Ge.SUBSCRIBE&&this.applyJitterBufferMinDelayConditionally(f)}applyJitterBufferMinDelayConditionally(f){const m=this.currentJitterBufferMinDelayInMs,b=this.calcJitterBufferMinDelay(f,this.jitterBufferConfig);if(f){if(m===void 0||m>b){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is publishing and min delay is unset or > configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}else if(m===void 0||b!==m){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is subscribe-only and min delay is unset or != configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}calcJitterBufferMinDelay(f,m){var b,T,O;let N=0;if(!(()=>{const D=RTCRtpReceiver.prototype;return!(!D||typeof D!="object")&&("jitterBufferTarget"in D||"playoutDelayHint"in D)})())return 0;if(f)N=Bs((b=m==null?void 0:m.minDelayWhenPublishing)!==null&&b!==void 0?b:Si.DEFAULT,f);else{N=Bs((T=m==null?void 0:m.minDelayWhenSubscribeOnly)!==null&&T!==void 0?T:Si.DEFAULT,f);const D=(O=this.stageConnection)===null||O===void 0?void 0:O.jitterBufferMinDelayInMs();(m==null?void 0:m.minDelayWhenSubscribeOnly)===Si.DEFAULT&&D!==void 0&&(N=D,this.logger.debug({msg:`[calcJitterBufferMinDelay] overriding min delay with remote value: ${N}`}))}return N}applyAndTrackJitterBufferMinDelay(f){var m,b;this.currentJitterBufferMinDelayInMs=f,this.statsReporter.updateJitterBufferMinDelay(f),f!==void 0&&((b=(m=this.peerConnection)===null||m===void 0?void 0:m.getTransceivers())===null||b===void 0||b.forEach(T=>{T.receiver&&this.applyJitterBufferMinDelay(T.receiver,f)}))}applyJitterBufferMinDelay(f,m){let b="Unable to set jitter buffer min delay";if("jitterBufferTarget"in f)b=`setting jitterBufferTarget to: ${m} for track: ${f.track.kind}`,this.logger.debug({msg:b}),f.jitterBufferTarget=m;else if("playoutDelayHint"in f){const T=m/1e3;b=`setting playoutDelayHint to: ${m} for track: ${f.track.kind}`,this.logger.debug({msg:b}),f.playoutDelayHint=T}else this.logger.warn({msg:b});this.trace(this.token,this.traceId,b,this.action,this.identifier)}exchangeSdp(f){var m;return Mn(this,void 0,void 0,function*(){const{traceId:b,token:T,action:O,identifier:N,tag:D,endpointURL:M}=this,{iceRestart:I=!1,nodeOverride:F,assignmentToken:$,abortController:W}=f;let ie;this.logger.debug({msg:`Exchanging SDP: ${b.value}, iceRestart=${I}, nodeOverride=${F}, assignmentToken=${$}`}),Dc(this.peerConnection),O===Ge.PUBLISH&&mh()&&(this.logger.debug({msg:"Applying publisher codec preference for main profile."}),((ge,le)=>{var ae,se;const we=(ae=RTCRtpReceiver.getCapabilities("video"))===null||ae===void 0?void 0:ae.codecs;if(!we)return;let Ve=we;Ve=Zm(we,"42e0"),le.preferMainProfile&&(Ve=Zm(we,"4d00")),(se=ge.getTransceivers().find(ot=>ot.receiver.track.kind==="video"))===null||se===void 0||se.setCodecPreferences(Ve)})(this.peerConnection,{preferMainProfile:mh()}));try{this.trace(T,b,"Creating offer",O,N),ie=yield this.peerConnection.createOffer({iceRestart:I})}catch(ge){const le=new Qt(Object.assign(Object.assign({},ua(je.CREATE_OFFER_FAILURE,ge)),{action:O,token:T,traceId:b,tag:D,location:"exchangeSdp",remoteParticipantId:N}));this.emit(gs,le),this.analyticsTracker.trackErrorAndThrow(le)}ie.sdp&&(ie.sdp=this.mungeSdpOffer(ie.sdp,O,{simulcastNegotiated:this.stageCapabilities.simulcastNegotiated,audioConfig:(m=this.audioTrackForPub)===null||m===void 0?void 0:m.config})),this.trace(T,b,"Setting local description",O,N),yield this.peerConnection.setLocalDescription(ie),this.trace(T,b,"local description set",O,N),M||this.logger.warn({msg:"Unexpected state: No endpointURL specified for fetching of remote description."});const be=O===Ge.PUBLISH&&mh()||O===Ge.SUBSCRIBE&&$a("multiCodecAnswer");yield this.fetchAndSetRemoteDescription({endpointURL:M,nodeOverride:F,assignmentToken:$,multiCodec:be,abortController:W})})}getReports(){var f;return Mn(this,void 0,void 0,function*(){try{const m=(yield(f=this.peerConnection)===null||f===void 0?void 0:f.getStats())||[],b=[];return m.forEach(T=>{b.push(T)}),b}catch{return[]}})}requestRTCStats(f){return Mn(this,void 0,void 0,function*(){if(this.peerConnection)return this.peerConnection.getStats(f)})}get identifier(){return this.subscriberId||this.token.participantID}handleTransformNotSupported(){const{token:f,tag:m,identifier:b,action:T,traceId:O}=this,N=Kd({traceId:O,token:f,tag:m,identifier:b,action:T,stageErrorValue:je.TRANSFORM_NOT_SUPPORTED_BY_PLATFORM});this.logger.error({err:N,msg:"Transforms not supported by this platform"}),this.analyticsTracker.trackError(N),this.emit(jc,N)}handleConnectionFailure(){return Mn(this,void 0,void 0,function*(){const{token:f,traceId:m,tag:b}=this;this.analyticsTracker.trackError(new Qt(Object.assign(Object.assign({},je.PEER_CONNECTION_NETWORK_FAILURE),{action:this.action,token:f,traceId:m,tag:b,location:"onIceCandidateError",remoteParticipantId:this.identifier})))})}getSilentAudio(){eu||(eu=new AudioContext);const f=eu.createOscillator(),m=eu.createGain();f.connect(m);const b=eu.createMediaStreamDestination();return m.connect(b),m.gain.value=0,f.start(),b.stream.getAudioTracks()[0]}getActionMeasurements(){return this.perfTracker.getMeasurements()}initTracksToPublish(f){this.videoTrackForPub=f.find(zh),this.audioTrackForPub=f.find(Vh)}getSfuResource(){return this.sfuResource}getExpectedJitterBufferMinDelayInMs(){var f,m;return this.calcJitterBufferMinDelay((m=(f=this.stageConnection)===null||f===void 0?void 0:f.getIsStagePublishing())!==null&&m!==void 0&&m,this.jitterBufferConfig)}trace(f,m,b,T,O){this.analyticsTracker.trackEventNoSharedProps(new bs(f,m,b,T,O))}sendSeiMessage(f,m){const b=this.getTransceiverForKind("video");return this.sendInBandMessagingEnabled?this.action===Ge.PUBLISH&&b?this.videoSenderTransformer.sendSeiMessage(f,m):st.err(Ri.NOT_PUBLISHING_VIDEO):st.err(Ri.INBAND_MESSAGING_NOT_ENABLED)}}const tc=Ge.SUBSCRIBE;class k0{constructor(f,m,b){this.analyticsTracker=f,this.token=m,this.remoteId=b,this.action=tc}trackAttempt({stageConnectionStats:f,isReassignment:m=!1,traceIdOverride:b,preAttemptSfuResource:T}){const{action:O,analyticsTracker:N,token:D,remoteId:M}=this,I=b||Ji();return N.trackEvent(new Yl({token:this.token,subscribedId:this.remoteId,traceId:I,isEdpConnected:f.isConnected,isReassignment:m,preAttemptSfuResource:T})),{getTraceId:()=>I,trackSubscribeStarted({totalDurationWithRetries:F,retryTimes:$,sfuResource:W,peerClientPerfStats:ie}){const{optionsDuration:be,postDuration:ge,timeToCandidate:le,timeToConnected:ae,sdpExchangeDuration:se,sdpExchangeTransport:we,setRemoteDescDuration:Ve,peerConnectionDuration:ot}=ie,{edpInitialConnectDuration:Tt,edpInitialConnectRetries:Gt,edpInitialStateDuration:qt,edpInitialStatePublishingCount:Bt,edpStateUpdateCount:Nt}=f;N.trackEvent(new b0({token:D,traceId:I,remoteParticipantId:M,optionsDuration:be,postDuration:ge,timeToCandidate:le,totalDuration:ae,edpInitialConnectDuration:Tt,edpInitialConnectRetries:Gt,edpInitialStateDuration:qt,edpInitialStatePublishingCount:Bt,edpStateUpdateCount:Nt,sdpExchangeDuration:se,sdpExchangeTransport:we,setRemoteDescDuration:Ve,peerConnectionDuration:ot,sfuResource:W,totalDurationWithRetries:F,subscribeRetryTimes:$,isReassignment:m}))},trackSubscribeFirstFrame:({peerClientPerfStats:F,totalDurationWithRetries:$,sfuResource:W,retryTimes:ie,currentJitterBufferMinDelayInMs:be,mediaType:ge,firstFrameDuration:le})=>{const{sdpExchangeDuration:ae,sdpExchangeTransport:se,setRemoteDescDuration:we,peerConnectionDuration:Ve}=F,{edpInitialConnectDuration:ot,edpInitialConnectRetries:Tt,edpInitialStateDuration:Gt,edpInitialStatePublishingCount:qt,edpStateUpdateCount:Bt}=f;this.analyticsTracker.trackEvent(new x0({token:this.token,traceId:I,remoteParticipantId:M,edpInitialConnectDuration:ot,edpInitialConnectRetries:Tt,edpInitialStateDuration:Gt,edpInitialStatePublishingCount:qt,edpStateUpdateCount:Bt,sdpExchangeDuration:ae,sdpExchangeTransport:se,setRemoteDescDuration:we,peerConnectionDuration:Ve,videoWasPaused:!1,firstFrameDuration:le,mediaType:ge,sfuResource:W,totalDurationWithRetries:$,subscribeRetryTimes:ie,currentJitterBufferMinDelayInMs:be}))},trackSubscribeFailed(F,$){const W=((ge,le,ae)=>{if(ge instanceof Qt)return ge;let se="";return ge instanceof gn.AxiosError&&(se+=`AxiosError - ${ge.code}`),new Qt(Object.assign(Object.assign(Object.assign({},je.SUBSCRIBE_FAILURE),{action:tc,token:le,traceId:ae,tag:jd,location:"subscribe",details:`${se} ${ge==null?void 0:ge.message}`}),{fatal:!0}))})(F,D,I);N.trackEvent(new Lh({token:D,traceId:I,remoteParticipantId:M,code:W.code,message:W.message,fatal:W.fatal,nominal:W.nominal,isReassignment:m}));const{isConnected:ie}=f,be=new Qt(Object.assign(Object.assign({},je.SUBSCRIBE_FAILURE),{action:O,token:D,traceId:I,tag:Xn(Ge.SUBSCRIBE,M),location:"subscribe",remoteParticipantId:M,isEdpConnected:ie,details:$}));return F instanceof Qt&&(be.fatal=F.fatal,be.nominal=F.nominal,be.location=`subscribe > ${F.location}`),N.trackError(be),W},trackUnsubscribe:()=>{N.trackEvent(new zd({token:D,unsubscribedId:M,traceId:I}))},trackEndSucceeded:F=>{N.trackEvent(new Fh({token:D,traceId:I,remoteParticipantId:M,isUnsubscribeSuccessful:!0,reason:F}))},trackEndFailed:F=>{const $=new Qt(Object.assign(Object.assign({},je.UNSUBSCRIBE_FAILURE),{token:D,traceId:I,tag:Xn(Ge.SUBSCRIBE,M),location:"unsubscribe",remoteParticipantId:M}));return F!==_i.UNLOAD&&F!==_i.UNSUBSCRIBE||N.trackError($),N.trackEvent(new Fh({token:D,traceId:I,remoteParticipantId:M,isUnsubscribeSuccessful:!0,reason:F})),$}}}}class Iw extends er{constructor(f,m,b,T,O,N){super(or.PLAYBACK_LAYER_REQUEST,f,m,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,layer_id:N})}}class jw extends er{constructor(f,m,b,T,O,N=1){super(or.PLAYBACK_LAYER_STATE,f,m,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,request_count:N})}}var Yd,ti,Qd,ri;(function(x){x.PAUSE="pause",x.PLAY="play"})(Yd||(Yd={})),function(x){x.IDLE="idle",x.ACTIVE="active",x.ERRORED="errored",x.DESTROYED="destroyed"}(ti||(ti={})),function(x){x.SUCCESS="success"}(Qd||(Qd={})),function(x){x.FAILED="failed",x.DESTROYED="destroyed",x.THROTTLED="throttled"}(ri||(ri={}));var Bo=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class Dw{constructor(f){this.state=ti.IDLE,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null,this.stopVideo=()=>Bo(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("stopVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Yd.PAUSE)}),this.startVideo=()=>Bo(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("startVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Yd.PLAY)}),this.setLayer=m=>Bo(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("setLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest(m)}),this.unsetLayer=()=>Bo(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("unsetLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest()}),this.getLayers=()=>Bo(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("getLayers"),this.mapSkippedResultFromState(this.state)):this.sendLayerStateRequest()}),this.sendPlaybackRequest=m=>Bo(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,st.err)(ri.FAILED);if(!this.playbackEndpoint)return this.logger.warn({msg:"Playback endpoint is unset and required for playback control requests"}),(0,st.err)(ri.FAILED);this.logger.info({msg:`Sending ${m} request to ${this.playbackEndpoint}`});const b=m===Yd.PAUSE?{pause:[this.mid]}:{play:[this.mid]},T=this.createPostWhepRequest(b);return fetch(this.playbackEndpoint,T).then(O=>{if(O.status>=300){const N=new Error(`Error sending media controls request: ${O.status}:${O.statusText}`);return this.logger.error({err:N}),(0,st.err)(ri.FAILED)}return this.logger.debug({msg:`Request to ${m} was successful: ${O.status}`}),(0,st.ok)(Qd.SUCCESS)}).catch(O=>(this.logger.error({err:O,msg:"Error sending media controls request"}),(0,st.err)(ri.FAILED)))}),this.sendLayerRequest=m=>Bo(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,st.err)(ri.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,st.err)(ri.FAILED);const b=typeof m=="string",T=b?{mediaId:this.mid,encodingId:m}:{},O=b?`set : ${m}`:"unset layer";this.logger.info({msg:`sendLayerRequest for ${O} at ${this.layersEndpoint}`});const N=this.createPostWhepRequest(T);return this.trackLayerRequest(m??"auto"),fetch(this.layersEndpoint,N).then(D=>this.state===ti.DESTROYED?(0,st.err)(ri.DESTROYED):D.status>=300?this.handleLayerRequestError(D.status,D.statusText):(this.logger.debug({msg:`Request to ${O} was successful: ${D.status}`}),(0,st.ok)(Qd.SUCCESS))).catch(D=>this.handleLayerRequestError(0,D.message))}),this.sendLayerStateRequest=()=>Bo(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,st.err)(ri.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,st.err)(ri.FAILED);this.logger.info({msg:`sendLayerStateRequest for ${this.mid} at ${this.layersEndpoint}`});const m=this.createGetWhepRequest();return this.trackLayerStateRequest(),fetch(this.layersEndpoint,m).then(b=>Bo(this,void 0,void 0,function*(){var T;if(this.state===ti.DESTROYED)return(0,st.err)(ri.DESTROYED);if(b.status>=300)return this.handleLayerStateRequestError(b.status,b.statusText);const O=yield b.json(),N=(T=O==null?void 0:O.layers)!==null&&T!==void 0?T:[],D=JSON.stringify(N,null,2);return this.logger.debug({msg:`sendLayerStateRequest was successful: ${D}`}),(0,st.ok)(N)})).catch(b=>this.handleLayerStateRequestError(0,b.message))}),this.logger=new ps(f.logger,Cr.REMOTE_PLAYBACK),this.token=f.token,this.traceId=f.traceId,this.analyticsTracker=f.analyticsTracker,this.remoteParticipantId=f.remoteParticipantId}set mediaId(f){if(this.state!==ti.DESTROYED){if(this.mid=f,this.mid===null)return this.logger.info({msg:"media id is unset, controller is transitioning to idle state"}),void(this.state=ti.IDLE);(this.playbackEndpoint||this.layersEndpoint)&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set mediaId")}set endpoints(f){var m,b;if(this.state!==ti.DESTROYED){if(this.playbackEndpoint=(m=f.playback)!==null&&m!==void 0?m:null,this.layersEndpoint=(b=f.layers)!==null&&b!==void 0?b:null,!this.playbackEndpoint||!this.layersEndpoint){const T={playbackEndpoint:this.playbackEndpoint,layersEndpoint:this.layersEndpoint};return this.logger.info({msg:`no endpoints are set, transitioning to idle state: ${JSON.stringify(T,null)}`}),void(this.state=ti.IDLE)}this.mid&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set endpoints")}destroy(){this.state=ti.DESTROYED,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null}logCommandSkipped(f="command"){this.logger.info({msg:`skipping ${f}, controller state invalid: ${this.state}`})}mapSkippedResultFromState(f){return f===ti.DESTROYED?(0,st.err)(ri.DESTROYED):(0,st.err)(ri.FAILED)}createPostWhepRequest(f){return{method:"POST",headers:this.createRequestHeaders(),body:JSON.stringify(f)}}createGetWhepRequest(){return{method:"GET",headers:this.createRequestHeaders()}}createRequestHeaders(){var f,m;return{Authorization:`Bearer ${this.token.rawToken}`,"Content-Type":"application/json","X-Stages-Platform":"web","X-Stages-Request-ID":Ga().value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":(m=(f=this.traceId)===null||f===void 0?void 0:f.value)!==null&&m!==void 0?m:"","X-Stages-WHIP-Version":lo}}trackLayerRequest(f){var m;this.analyticsTracker.trackEventNoSharedProps(new Iw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(m=this.mid)!==null&&m!==void 0?m:"unknown",f))}trackLayerStateRequest(f=1){var m;this.analyticsTracker.trackEventNoSharedProps(new jw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(m=this.mid)!==null&&m!==void 0?m:"unknown",f))}handleLayerRequestError(f,m){const b=`sendLayerRequest failed for reason: ${f} ${m}`;let T,O;return f===429?(T=ri.THROTTLED,O=je.WHEP_SET_LAYER_REQUEST_THROTTLED):(T=ri.FAILED,O=je.WHEP_SET_LAYER_REQUEST_FAILED),this.trackRequestError(O,b),(0,st.err)(T)}handleLayerStateRequestError(f,m){const b=`sendLayerStateRequest failed for reason: ${f} ${m}`;let T,O;return f===429?(T=ri.THROTTLED,O=je.WHEP_GET_LAYER_STATE_THROTTLED):(T=ri.FAILED,O=je.WHEP_GET_LAYER_STATE_FAILED),this.trackRequestError(O,b),(0,st.err)(T)}trackRequestError(f,m){const b=new Error(m);this.logger.error({err:b}),f.message=m;const T=this.createError(f);this.analyticsTracker.trackError(T)}createError(f,m){return new Qt(Object.assign({action:Ge.SUBSCRIBE,traceId:this.traceId,token:this.token,location:"RemotePlaybackController",tag:jd,details:m},f))}}var Jd,Wh,Qr,ki,zc=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})},wg=function(x,f,m,b){if(typeof f=="function"?x!==f||!b:!f.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?b:m==="a"?b.call(x):b?b.value:f.get(x)};(function(x){x.DISCONNECTED="disconnected",x.CONNECTING="connecting",x.CONNECTED="connected",x.ERRORED="errored"})(Qr||(Qr={})),function(x){x.NONE="none",x.AUDIO_ONLY="audio_only",x.AUDIO_VIDEO="audio_video"}(ki||(ki={}));class Eg extends vs{constructor(f,m,b,T,O,N,D){super(),this.id=f,this.token=m,this.stageConnection=b,this.nonScopedLogger=T,this.analyticsTracker=O,this.desiredSubscribeType=N,Jd.add(this),this.isSubscriptionActive=!1,this.subscriptionState={connectionState:Qr.DISCONNECTED,subscribeInProgress:!1},this.previousSignalState={isTargetPublishing:!1},this.failedRetries=0,this.startConnectingTimestamp=-1,this.throttler=new o0(1e3),this.cleanupFirstFrameTracking=ei,this.actualSubscribeType=ki.NONE,this.action=Ge.SUBSCRIBE,this.updateDesiredSubscribeType=I=>{this.desiredSubscribeType=I,this.attemptToActualizeSubscribeType()},this.updateSubscribeConfig=I=>{this.peerClient.updateSubscribeConfig(I)},this.getDesiredSubscribeType=()=>this.desiredSubscribeType,this.attemptToActualizeSubscribeType=()=>{const I=this.actualSubscribeType,F=this.desiredSubscribeType;this.logger.debug({msg:`Attempt to actualize subscribe type to ${F}`}),this.subscriptionState.connectionState===Qr.CONNECTED&&F!==ki.NONE&&I!==F&&this.applyVideoControlsBySubscribeType(F,I)},this.onParticipantUpdated=I=>{wg(this,Jd,"m",Wh).call(this,I)&&(this.logger.debug({msg:"onParticipantUpdated",participant:I}),this.processStateUpdate({isTargetPublishing:I.isPublishing}))},this.onParticipantJoined=I=>{wg(this,Jd,"m",Wh).call(this,I)&&(this.logger.debug({msg:"onParticipantJoined",participant:I}),this.processStateUpdate({isTargetPublishing:I.isPublishing}))},this.onParticipantLeft=I=>{wg(this,Jd,"m",Wh).call(this,I)&&(this.logger.debug({msg:"onParticipantLeft",participant:I}),this.processStateUpdate({isTargetPublishing:!1}))},this.requestRTCStats=I=>zc(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(I)}),this.trySubscribe=I=>zc(this,void 0,void 0,function*(){if(this.logger.debug({msg:`Subscribe attempt started: ${I}`}),!this.isSubscriptionActive)return this.logger.warn({msg:"Subscribe attempt invalid: Subscription is inactive"}),!1;this.logger.debug({msg:"Subscribe attempt is valid."}),this.startConnectingTimestamp<0&&(this.startConnectingTimestamp=performance.now()),this.subscriptionState.connectionState!==Qr.ERRORED&&(this.logger.debug({msg:"Updating state to CONNECTING"}),this.updateState({connectionState:Qr.CONNECTING}));const F=this.stageConnection.getConnectionStats(),$=this.peerClient.getExpectedJitterBufferMinDelayInMs(),W=this.peerClient.getSfuResource();this.attemptTracker=this.subscribeTracker.trackAttempt({stageConnectionStats:F,preAttemptSfuResource:W});try{this.remotePlaybackController.traceId=this.attemptTracker.getTraceId();const{mediaStream:ie}=yield this.subscribe(this.attemptTracker.getTraceId()),be=performance.now()-this.startConnectingTimestamp,ge=this.peerClient.getSfuResource();this.remotePlaybackController.mediaId=this.peerClient.videoMediaId;const le=this.failedRetries;this.attemptToActualizeSubscribeType();const ae=this.peerClient.getActionMeasurements();if(this.attemptTracker.trackSubscribeStarted({sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,peerClientPerfStats:ae}),ie){this.cleanupFirstFrameTracking();const se=this.actualSubscribeType,we=this.attemptTracker,Ve=(ot,Tt)=>{we.trackSubscribeFirstFrame({peerClientPerfStats:ae,sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,currentJitterBufferMinDelayInMs:$,mediaType:Tt,firstFrameDuration:ot})};this.cleanupFirstFrameTracking=this.measureFirstFrameDuration({mediaStream:ie,subscribeType:se,callback:Ve})}return this.throttler.clear(),this.failedRetries=0,this.startConnectingTimestamp=-1,ie&&this.emit(Xi,ie,this.remotePlaybackController),this.logger.debug({msg:"Subscribe attempt succeeded"}),!0}catch(ie){const be=this.attemptTracker.trackSubscribeFailed(ie);this.logger.error({log:"Subscribe attempt failed",err:ie}),this.onTrySubscribeFailure(be,I)}return!1});const M=Ji();this.peerClient=new po(m,this.nonScopedLogger,this.action,Xn(this.action,f),M,O,f,b,D),this.logger=new ps(T,Cr.SUBSCRIPTION),this.subscribeTracker=new k0(this.analyticsTracker,m,f),this.remotePlaybackController=new Dw({token:m,analyticsTracker:O,traceId:M,logger:this.nonScopedLogger,remoteParticipantId:this.id})}applyVideoControlsBySubscribeType(f,m){try{f===ki.AUDIO_ONLY?this.remotePlaybackController.stopVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to stop video failed"})}):f===ki.AUDIO_VIDEO&&this.remotePlaybackController.startVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to start video failed"})}),this.actualSubscribeType=f,this.logger.debug({msg:`Desired subscribe type actualized from ${m} to ${f}.`})}catch(b){this.logger.error({err:b,msg:`Error updating subscribe type from ${m} to ${f}.`})}}onPeerClientConnectionStateChange(f){const m=this.stageConnection.getParticipant(this.id);this.logger.debug({msg:`onPeerClientConnectionStateChange: ${f}`,state:f,targetParticipant:m}),this.processStateUpdate({peerClientState:f})}onPeerClientTransformError(f){this.emit(ao,f)}processStateUpdate(f){const m=this.previousSignalState,b=Object.assign({},m,f);if(!this.isSubscriptionActive)return void this.logger.warn({msg:"Unexpected processStateUpdate when subscription is inactive"});b.isTargetPublishing?f.peerClientState===vt.CONNECTED?this.updateState({connectionState:Qr.CONNECTED,subscribeInProgress:!0}):f.peerClientState===vt.FAILED&&this.subscriptionState.subscribeInProgress&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(_i.CONNECTION_FAIL),this.updateState({subscribeInProgress:!1})):(m.isTargetPublishing&&this.subscriptionState.subscribeInProgress&&(this.logger.debug({msg:"Scheduling an unsubscribe on the event loop"}),this.unsubscribe()),this.throttler.clear(),this.updateState({connectionState:Qr.DISCONNECTED}));const T=!m.isTargetPublishing&&f.isTargetPublishing,O=this.subscriptionState.connectionState===Qr.CONNECTED&&f.peerClientState===vt.FAILED;(T||O)&&this.throttledTrySubscribe("onSignalState change: isTargetPublishing is now true"),Object.assign(this.previousSignalState,f)}onTrySubscribeFailure(f,m){this.logger.debug({msg:"Changing/keeping state FAILED"});const b=f.fatal,T=f.code===je.OPERATION_ABORTED.code,O=this.failedRetries<=4;if(!T&&!b&&O){const N=1e3*Math.pow(2,this.failedRetries);this.logger.debug({msg:`Retrying in ${N}ms`}),this.failedRetries++,this.nextAttemptTimerId=window.setTimeout(()=>zc(this,void 0,void 0,function*(){this.throttledTrySubscribe(m)}),N)}else this.updateState({connectionState:Qr.ERRORED}),this.emit(vr,f),this.onTerminalFailure()}onTerminalFailure(){this.previousSignalState.isTargetPublishing=!1,this.startConnectingTimestamp=-1,this.failedRetries=0}start(){this.isSubscriptionActive=!0,this.peerClient.on(ms,this.onPeerClientConnectionStateChange,this),this.peerClient.on(Zy,m=>{this.remotePlaybackController.endpoints={playback:m.mediaControls,layers:m.layerControls}}),this.peerClient.on(Ls,m=>{this.emit(qa,m)}),this.peerClient.on(jc,this.onPeerClientTransformError,this),this.stageConnection.on(kh,this.onParticipantUpdated),this.stageConnection.on(Th,this.onParticipantJoined),this.stageConnection.on(Rh,this.onParticipantLeft),this.stageConnection.on(Vm,this.onParticipantLeft);let f=!0;if(this.stageConnection.isConnected()){const m=this.stageConnection.getParticipant(this.id);f=!!(m!=null&&m.isPublishing)}this.processStateUpdate({isTargetPublishing:f})}throttledTrySubscribe(f){return this.throttler.invoke(this.trySubscribe,f)}updateState(f){f.subscribeInProgress!==void 0&&(this.subscriptionState.subscribeInProgress=f.subscribeInProgress),f.connectionState&&this.subscriptionState.connectionState!==f.connectionState&&(this.subscriptionState.connectionState=f.connectionState,this.emit(Vl,this.subscriptionState.connectionState))}stop(f=!1){this.peerClient.off(ms,this.onPeerClientConnectionStateChange,this),this.peerClient.off(jc,this.onPeerClientTransformError,this),this.unsubscribe(f),this.throttler.clear(),this.stageConnection.off(kh,this.onParticipantUpdated),this.stageConnection.off(Th,this.onParticipantJoined),this.stageConnection.off(Rh,this.onParticipantLeft),this.stageConnection.off(Vm,this.onParticipantLeft),this.isSubscriptionActive=!1,this.updateState({connectionState:Qr.DISCONNECTED})}isActive(){return this.isSubscriptionActive}subscribe(f,m){return zc(this,void 0,void 0,function*(){const{token:b,id:T}=this;b.assertTokenIsUnexpired(f,Xn(Ge.SUBSCRIBE,T),"subscribe",T);const{mediaStream:O}=yield this.peerClient.connect({audioOnly:m,traceId:f});return{peerClient:this.peerClient,mediaStream:O}})}unsubscribe(f=!1){return zc(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.remotePlaybackController.destroy(),!this.isSubscriptionActive||!this.attemptTracker||this.subscriptionState.connectionState===Qr.DISCONNECTED)return;this.cleanupFirstFrameTracking(),this.attemptTracker.trackUnsubscribe();const m=f?_i.UNLOAD:_i.UNSUBSCRIBE;try{f?this.peerClient.disconnect(f):yield this.peerClient.disconnect(f),this.updateState({subscribeInProgress:!1}),this.attemptTracker.trackEndSucceeded(m)}catch{this.attemptTracker.trackEndFailed(m)}})}triggerIceRestart(f){var m;return zc(this,void 0,void 0,function*(){const b=this.stageConnection.getConnectionStats(),T=this.peerClient.getSfuResource(),O=this.subscribeTracker.trackAttempt({stageConnectionStats:b,isReassignment:!0,traceIdOverride:f.traceId,preAttemptSfuResource:T}),N=performance.now();try{this.emit(Fo),this.logger.debug({msg:`Triggering attempt. Current node: ${this.peerClient.getSfuResource().node}`}),yield this.peerClient.connect({iceRestartOptions:f,traceId:f.traceId}),this.logger.debug({msg:`Successful ICE restart attempt. Current node: ${this.peerClient.getSfuResource().node}`});const D=performance.now()-N,M=this.peerClient.getSfuResource(),I=this.peerClient.getActionMeasurements();(m=this.attemptTracker)===null||m===void 0||m.trackEndSucceeded(_i.REASSIGNMENT),this.applyVideoControlsBySubscribeType(this.actualSubscribeType,this.actualSubscribeType),O.trackSubscribeStarted({totalDurationWithRetries:D,sfuResource:M,retryTimes:0,peerClientPerfStats:I}),this.emit(Ka)}catch(D){this.emit(Fs),this.logger.error({msg:"ICE restart attempt failed",err:D});const M=this.peerClient.getSfuResource(),I=O.trackSubscribeFailed(D,`iceRestart=true, startNode=${T.node}, endNode=${M==null?void 0:M.node}`);throw I.code===je.SUBSCRIBE_TIMED_OUT.code&&this.onTrySubscribeFailure(I,"ice restart timeout"),D}})}measureFirstFrameDuration({mediaStream:f,subscribeType:m,callback:b}){const T=performance.now(),O=M=>{const I=performance.now()-T;b(I,M),M==="audio"?D():N()};let N=ei,D=ei;return m!==ki.AUDIO_ONLY&&(N=function(M,I){return qm(M,"video",I)}(f,O)),D=function(M,I){return qm(M,"audio",I)}(f,O),()=>{N(),D()}}}var ya,kr;Jd=new WeakSet,Wh=function(x){return x.id===this.id},function(x){x.JOIN_ERROR="JOIN_ERROR",x.PUBLISH_ERROR="PUBLISH_ERROR",x.SUBSCRIBE_ERROR="SUBSCRIBE_ERROR"}(ya||(ya={})),function(x){x[x.TOKEN_MALFORMED=1]="TOKEN_MALFORMED",x[x.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",x[x.TIMEOUT=3]="TIMEOUT",x[x.FAILED=4]="FAILED",x[x.CANCELED=5]="CANCELED",x[x.STAGE_AT_CAPACITY=6]="STAGE_AT_CAPACITY",x[x.CODEC_MISMATCH=7]="CODEC_MISMATCH",x[x.TOKEN_NOT_ALLOWED=8]="TOKEN_NOT_ALLOWED"}(kr||(kr={}));const Mw={[kr.TOKEN_MALFORMED]:"Token is malformed",[kr.TOKEN_EXPIRED]:"Token expired and is no longer valid",[kr.TIMEOUT]:"Operation timed out",[kr.FAILED]:"Operation failed",[kr.CANCELED]:"Operation canceled",[kr.STAGE_AT_CAPACITY]:"Stage at capacity",[kr.CODEC_MISMATCH]:"Client codec is not supported",[kr.TOKEN_NOT_ALLOWED]:"Token not allowed to perform operation"},Cg={[je.EXPIRED_TOKEN.code]:kr.TOKEN_EXPIRED,[je.MALFORMED_TOKEN.code]:kr.TOKEN_MALFORMED,[je.TOKEN_PERMISSIONS_DENIED.code]:kr.TOKEN_NOT_ALLOWED,[je.OPERATION_ABORTED.code]:kr.CANCELED,[je.JOIN_TIMED_OUT.code]:kr.TIMEOUT,[je.EVENT_PLANE_WS_CREATE_FAILED.code]:kr.FAILED,[je.EVENT_PLANE_PONG_TIMEOUT.code]:kr.FAILED,[je.EVENT_PLANE_WS_UNEXPECTED_CLOSE.code]:kr.FAILED,[je.PUBLISH_TIMED_OUT.code]:kr.TIMEOUT,[je.PUBLISH_FAILURE.code]:kr.FAILED,[je.SUBSCRIBE_TIMED_OUT.code]:kr.TIMEOUT,[je.SUBSCRIBE_FAILURE.code]:kr.FAILED,[je.STAGE_AT_CAPACITY.code]:kr.STAGE_AT_CAPACITY,[je.NO_MATCHING_CODEC.code]:kr.CODEC_MISMATCH,[je.NETWORK_FAILURE.code]:kr.FAILED,[je.INTERNAL_SERVER_ERROR.code]:kr.FAILED,[je.REMOTE_STREAM_NOT_FOUND.code]:kr.FAILED,[je.INTERNAL_MHCP_ERROR.code]:kr.FAILED,[je.UNREACHABLE_MHCP.code]:kr.FAILED,[je.INVALID_SESSION_STATUS.code]:kr.FAILED,[je.MHCP_ABORTED.code]:kr.FAILED},O0={[je.SEI_INSERT_NOT_PUBLISHING_VIDEO.code]:"SEI insert failed due to not publishing video",[je.SEI_INSERT_INBAND_NOT_ENABLED.code]:"SEI insert failed due to in-band messaging not being enabled for the stage stream"};class Lw extends Error{constructor(f,m,b){super(),this.code=f,this.category=m,this.message=b,this.name="StageError",this.errorDetails=[],this.message=`[${m}] ${b}`}addDetails(f){this.errorDetails.push(f)}get details(){return this.errorDetails.length?JSON.stringify(this.errorDetails):""}toString(){return`
${this.message}
details - ${this.details}
        `.trim()}}var Hh,Xd,Zd;function Fw(x,f){let m;if(x instanceof Qt){const b=Cg[x.code];b&&(m=function(T,O,N){var D,M;const I=Mw[T],F=new Lw(T,O,I);return F.addDetails({stageErrorMessage:I,stageErrorCode:T,stageErrorCategory:O,stageArn:(D=N.token)===null||D===void 0?void 0:D.stageARN,traceId:(M=N.traceId)===null||M===void 0?void 0:M.value,causeCode:N.code,causeDetails:N.details,causeMessage:N.message,causeLocation:N.location}),F}(b,f,x))}return m}(function(x){x.ERROR="error"})(Hh||(Hh={}));class Uw extends vs{constructor(f){super(),this.logger=f,this.handleError=(m,b,T=!0)=>{const O=function(D){let M;return D instanceof Qt&&(M=O0[D.code]),M}(m),N=Fw(m,b);if(O&&this.logger.warn({msg:O}),N)return T&&this.emit(Hh.ERROR,N),N}}}(function(x){x.INTERNAL="internal",x.API="api"})(Xd||(Xd={})),function(x){x.ADDITIVE="additive",x.REPLACE="replace"}(Zd||(Zd={}));class P0{constructor(f){this.logger=new ps(f.logger,Cr.CONNECTION),this.subscribeConfig={defaults:f.subscribeDefaults,participants:{}}}handleSubscribeConfigUpdate(f,m,b,T=Zd.REPLACE){m=(F=>{const $=dg(F);if($.jitterBuffer!==void 0){const W=ie=>{if(typeof ie=="number"){if(ie<0)return 0;if(ie>4e3)return 4e3}return ie};$.jitterBuffer.minDelayWhenPublishing!==void 0&&($.jitterBuffer.minDelayWhenPublishing=W($.jitterBuffer.minDelayWhenPublishing)),$.jitterBuffer.minDelayWhenSubscribeOnly!==void 0&&($.jitterBuffer.minDelayWhenSubscribeOnly=W($.jitterBuffer.minDelayWhenSubscribeOnly))}return $})(m),this.subscribeConfig.participants[f]===void 0&&(this.subscribeConfig.participants[f]={internalOverrides:{},apiOverrides:{},lastMerged:this.subscribeConfig.defaults});const O=this.subscribeConfig.participants[f];switch(b){case Xd.INTERNAL:O.internalOverrides=this.handleSubscribeConfigLevelMerging(O.internalOverrides,m,T);break;case Xd.API:O.apiOverrides=this.handleSubscribeConfigLevelMerging(O.apiOverrides,m,T);break;default:(function(F){throw new Error(`Unknown case kind: ${F}`)})(b)}const N=lg(this.subscribeConfig.defaults,O.internalOverrides,O.apiOverrides);if(N===void 0)return this.logger.warn({msg:`Unable to merge subscribe configs for participant: ${f} | ${O}, ${m}`}),!1;const D=(M=O.lastMerged,I=N,(typeof M=="object"&&typeof I=="object"&&(0,Sn.isEqual)(M,I))===!1);var M,I;return O.lastMerged=N,this.subscribeConfig.participants[f]=O,D}handleExternalSubscribeConfigUpdate(f,m,b,T=Zd.REPLACE){const O=(N=>{const D={};return typeof N!="object"?st.err(new Error("Invalid input")):(N.jitterBuffer!==void 0&&(D.jitterBuffer={},N.jitterBuffer.minDelay!==void 0&&(D.jitterBuffer.minDelayWhenSubscribeOnly=N.jitterBuffer.minDelay)),N.inBandMessaging!==void 0&&(D.inBandMessaging={enabled:N.inBandMessaging.enabled===!0}),N.simulcast!==void 0&&(D.simulcast={},N.simulcast.initialLayerPreference!==void 0&&(D.simulcast.initialLayerPreference=N.simulcast.initialLayerPreference)),st.ok(D))})(m);return O.ok===!0&&this.handleSubscribeConfigUpdate(f,O.value,b,T)}handleSubscribeConfigLevelMerging(f,m,b){if(b===Zd.REPLACE)return m;{const T=lg(f,m);return T===void 0?(this.logger.warn({msg:`Unable to merge '${f}' and '${m}' with type ${b}`}),f):T}}getSubscribeConfigSnapshot(f){return this.subscribeConfig.participants[f]===void 0?ug(this.subscribeConfig.defaults):ug(this.subscribeConfig.participants[f].lastMerged)}}class Gh extends er{constructor(f){super(or.REASSIGNMENT_REQUEST,f.token,f.traceId,!1),Object.assign(this.properties,{target_local_participant_id:f.targetLocalParticipantId,target_remote_participant_id:f.targetRemoteParticipantId}),this.critical=!0}}var mo,go,tu,ru,vo,Tg=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class Rg extends vs{constructor(f,m){super(),this.setGetStats=b=>{this.getInternalStats=b},this.getStats=()=>Tg(this,void 0,void 0,function*(){return this.requestRTCStats()}),this.requestRTCStats=()=>Tg(this,void 0,void 0,function*(){if(this.getInternalStats)return this.getInternalStats(this.mediaStreamTrack)}),this.getInternalStats=m,this.id=f.id,this.isMuted=!f.enabled,this.mediaStreamTrack=f,this.streamType=this.mediaStreamTrack.kind==="audio"?me.AUDIO:me.VIDEO}cleanup(){this.removeAllListeners(),this.getInternalStats=void 0}}(function(x){x.IDLE="IDLE",x.INITIALIZING="INITIALIZING",x.ACTIVE="ACTIVE",x.CONTROLS_PAUSED="CONTROLS_PAUSED",x.DESTROYED="DESTROYED"})(mo||(mo={})),function(x){x.LAYERS_CHANGED="LAYERS_CHANGED",x.LAYER_SELECTED="LAYER_SELECTED",x.ADAPTION_CHANGED="ADAPTION_CHANGED"}(go||(go={})),function(x){x.LAYERS_CHANGED="LAYERS_CHANGED",x.LAYER_SELECTED="LAYER_SELECTED",x.ADAPTION_CHANGED="ADAPTION_CHANGED"}(tu||(tu={})),function(x){x.UNAVAILABLE="unavailable",x.SELECTED="selected"}(ru||(ru={})),function(x){x.LOCAL_STREAM_MUTE_CHANGED="localStreamMutedChanged",x.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST="localStreamInsertSeiMsgRequest"}(vo||(vo={}));var ba,On,ci,Bw=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class N0 extends Rg{constructor(f,m){super(f),this.setMuted=b=>{b!==this.isMuted&&(this.mediaStreamTrack.enabled=!b,this.isMuted=b,this.emit(vo.LOCAL_STREAM_MUTE_CHANGED,this))},this.insertSeiMessage=(b,T)=>Bw(this,void 0,void 0,function*(){var O;let N;if(this.streamType==="audio")N=Ri.INVALID_TRACK_TYPE;else if(!((O=this.mediaConfig)===null||O===void 0)&&O.inBandMessaging.enabled){const D=this.validator.validateMessagePayload(b,(T==null?void 0:T.repeatCount)||0);N=st.getErr(D)}else N=Ri.INBAND_MESSAGING_NOT_ENABLED;N?console.warn(`Unable to insert SEI message due to ${N}`):this.emit(vo.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this,b,T)}),this.mediaConfig=vg(f,m),this.validator=new bg(Qa)}}class qh{constructor(f,m){this.strategy=f,this.logger=m}setStrategy(f){this.strategy=f}stageStreamsToPublish(){let f=[];try{f=this.strategy.stageStreamsToPublish(),f=f.filter(T=>T instanceof N0)}catch(T){return this.logger.warn({msg:"error executing stageStreamsToPublish treating this as a no-op",err:T}),console.error("Error executing stageStreamsToPublish",T),st.err(T)}let m=0,b=0;for(const T of f)T.mediaStreamTrack.kind==="audio"?m++:T.mediaStreamTrack.kind==="video"&&b++;if(m>1||b>1){const T=Error("stageStreamsToPublish strategy function returned more than 1 video or audio stream and as a result will not publish",{cause:"UserStrategy"});return st.err(T)}return st.ok(f)}shouldPublishParticipant(f){try{return st.ok(this.strategy.shouldPublishParticipant(f))}catch(m){return this.logger.warn({msg:"error executing shouldPublishParticipant treating this as a no-op",err:m}),console.error("Error executing shouldPublishParticipant",m),st.err(m)}}shouldSubscribeToParticipant(f){try{return st.ok(this.strategy.shouldSubscribeToParticipant(f))}catch(m){return this.logger.warn({msg:"error executing shouldSubscribeToParticipant. Treating it as a no-op",err:m}),console.error("Error executing shouldSubscribeToParticipant",m),st.err(m)}}subscribeConfiguration(f){var m,b;try{return st.ok((b=(m=this.strategy).subscribeConfiguration)===null||b===void 0?void 0:b.call(m,f))}catch(T){return this.logger.warn({msg:"error executing subscribeConfiguration. Treating it as a no-op",err:T}),console.error("Error executing subscribeConfiguration",T),st.err(T)}}preferredLayerForStream(f,m){var b,T;try{return st.ok((T=(b=this.strategy).preferredLayerForStream)===null||T===void 0?void 0:T.call(b,f,m))}catch(O){return this.logger.warn({msg:"error executing preferredLayerForStream. Treating it as a no-op",err:O}),console.error("Error executing preferredLayerForStream",O),st.err(O)}}}class kg extends vs{constructor(f,m){super(),this.audioMuted=!0,this.videoStopped=!0,this.publishState=On.NOT_PUBLISHED,this.logger=m,this.info=f,this.audioMuted=f.audioMuted,this.videoStopped=f.videoStopped}}(function(x){x.PUBLISH="publish",x.SUBSCRIBE="subscribe"})(ba||(ba={})),function(x){x.NOT_PUBLISHED="not_published",x.ATTEMPTING_PUBLISH="attempting_publish",x.PUBLISHED="published",x.ERRORED="errored"}(On||(On={})),function(x){x.NOT_SUBSCRIBED="not_subscribed",x.ATTEMPTING_SUBSCRIBE="attempting_subscribe",x.SUBSCRIBED="subscribed",x.ERRORED="errored"}(ci||(ci={}));function Og(x){return x.map(f=>f.remote)}function Pg(x){return{label:x.encodingId,bitrateBps:1e3*x.bitrate,width:x.width,height:x.height,framesPerSecond:x.framesPerSecond,selected:x.selected}}function Ng(x,f){const m=x.width*x.height,b=f.width*f.height;return m>b||x.bitrateBps>f.bitrateBps||x.framesPerSecond>f.framesPerSecond?1:m===b||x.bitrateBps===f.bitrateBps||x.framesPerSecond>f.framesPerSecond?0:-1}var ef,Ag,$w=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class tf extends vs{constructor(f){super(),this.setGetStats=()=>{},this.requestRTCStats=()=>this.internalStream.requestRTCStats(),this.getStats=()=>$w(this,void 0,void 0,function*(){return this.internalStream.requestRTCStats()}),this.setMuted=m=>{this.internalStream.setMuted(m)},this.getLayers=()=>this.internalStream.layers,this.getSelectedLayer=()=>this.internalStream.selectedLayer,this.getLowestQualityLayer=()=>this.internalStream.lowestQualityLayer,this.getHighestQualityLayer=()=>this.internalStream.highestQualityLayer,this.internalStream=f,this.internalStream.on(go.ADAPTION_CHANGED,m=>{this.emit(tu.ADAPTION_CHANGED,m)}),this.internalStream.on(go.LAYERS_CHANGED,m=>{this.emit(tu.LAYERS_CHANGED,m)}),this.internalStream.on(go.LAYER_SELECTED,(m,b)=>{this.emit(tu.LAYER_SELECTED,m,b)})}get id(){return this.internalStream.id}get participantInfo(){return this.internalStream.participantInfo}get streamType(){return this.internalStream.streamType}get mediaStreamTrack(){return this.internalStream.mediaStreamTrack}get isMuted(){return this.internalStream.isMuted}set isMuted(f){this.internalStream.setMuted(f)}get isAdapting(){return this.internalStream.isAdapting}cleanup(){this.removeAllListeners()}}class Kh extends Rg{constructor({track:f,info:m,getStats:b,remotePlaybackController:T,analyticsTracker:O,token:N}){super(f,b),this.setMuted=M=>{this.isMuted=M},this.setLayer=M=>{const I=(0,Sn.cloneDeep)(M);if(this.queueLayerUpdateForValidState(I))return void this.logger.debug({msg:`setLayer:${I} queued, skipping for now`});const F=function(W,ie){if(!W)return(0,st.ok)(void 0);const be=typeof W=="string"?W:W.label,ge=ie.filter(le=>le.label===be)[0];return ge?(0,st.ok)(ge):(0,st.err)(`Provided layer with id ${be} does not exist`)}(I,this._layers);if(!F.ok){const W=F.error;return void this.logger.error({err:W,msg:"Unable to select layer, skipping skipping selection"})}const $=F.value;if(this.isNextUpdateAdaptionOnly($))return this.logger.warn({msg:"setLayer:dynamic"}),void this.handleDynamicUpdate();this.isFirstLayerUpdate()||!this.isRepeatLayerSelection($)||this.isAdapting?$&&(this.logger.warn({msg:`setLayer:${JSON.stringify($)} `}),this.handleManualUpdate($)):this.logger.debug({msg:"Setting the same layer, same adaption state, skipping selection"})},this.state=mo.INITIALIZING,this.prevState=mo.IDLE,this.analyticsTracker=O,this.token=N,this.id=f.id,this.info=m,this.mediaStreamTrack=f,this.remotePlaybackController=T,this.layerPollingTimeoutId=null,this.weakRemoteMap=new WeakMap,this.weakRemoteKey={id:"remote"},this.commandMap=new Map,this._isAdapting=!0,this._layers=[],this._selectedLayer=null;const D=Am();this.logger=new ps(new Fm(D),Cr.REMOTE_STAGE_STREAM),this.streamType===me.AUDIO?this.isMuted=m.audioMuted:this.isMuted=m.videoStopped,this.initializeLayerPolling(),this.pollInternalLayers()}transitionStateTo(f){this.state!==f&&(this.prevState=this.state,this.state=f)}initializeLayerPolling(){this.streamType!==me.AUDIO?(this.logger.debug({msg:"Setting up RemoteStageStream, requesting initial layers"}),this.layerPollingTimeoutId=setInterval(()=>{this.pollInternalLayers()},3e3)):this.logger.debug({msg:"Skipping initializing polling for audio streams"})}startLayerPolling(){this.layerPollingTimeoutId===null?this.initializeLayerPolling():this.logger.debug({msg:"Skipping start polling request, already started"})}stopLayerPolling(){this.layerPollingTimeoutId!==null?(clearInterval(this.layerPollingTimeoutId),this.layerPollingTimeoutId=null):this.logger.debug({msg:"Skipping stop polling request, already stopped"})}pollInternalLayers(){this.streamType!==me.AUDIO?this.remotePlaybackController.getLayers().then(f=>{if(this.isStateValidForLayerUpdates()){if(!f.ok)throw Error(f.error);this.updateInternalLayersFromRemote(f.value),this.transitionStateTo(mo.ACTIVE),this.flushCommandQueue()}else this.logger.warn({msg:"Stream controls have been paused, skipping getLayers"})}).catch(f=>{this.logger.error({err:f,msg:"Error calling getLayers, returning current layers"})}):this.logger.debug({msg:"Skipping layer poll request for audio stream"})}updateInternalLayersFromRemote(f){const m=this._layers,b=f.map(Pg).sort(Ng),T=!(0,Sn.isEqual)(b,m);this._layers=b;const O=this._selectedLayer,N=this._layers.filter(M=>M.selected)[0],D=!(0,Sn.isEqual)(N,O);O&&(O.selected=!1),this._selectedLayer=N,D&&(this.trackLayerUpdate(O),this.trackLayerUpdate(N)),this.isCommandQueueEmpty()&&(T&&this.emitLayersChanged(),D&&this.emitLayerSelected(N))}flushCommandQueue(){if(this.isCommandQueueEmpty())return;const f=Array.from(this.commandMap.keys());this.logger.debug({msg:`Flushing active commands from map ${f}`});for(const m of this.commandMap.keys()){const b=this.commandMap.get(m);b==null||b()}this.commandMap.clear()}queueLayerUpdateForValidState(f){if(!f)return this.commandMap.delete("setLayer"),!1;if(this.state===mo.INITIALIZING){const m=this.setLayer.bind(this,f);return this.commandMap.set("setLayer",m),!0}return!1}handleDynamicUpdate(){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const f=this._isAdapting;this._isAdapting=!0,this.emitAdaptionChanged(),this.remotePlaybackController.unsetLayer().then(m=>{if(!this.isStateValidForLayerUpdates())return this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"}),void this.resetAdaptionStateOnError(f,`Stream in invalid state: ${this.state}`);m.ok?this.logger.debug({msg:"Layer successfully unset, restarting dynamic adaption"}):this.resetAdaptionStateOnError(f,m.error)}).catch(()=>{})}resetAdaptionStateOnError(f,m){this._isAdapting=f,this.emitAdaptionChanged(),this.logger.error({err:m,msg:"Error unsetting layer, reverting adaption state"})}handleManualUpdate(f){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping manual updates"});const m=this._isAdapting,b=this._selectedLayer;b&&(b.selected=!1),this._isAdapting=!1,this._selectedLayer=f,f.selected=!0,m!==this._isAdapting&&this.emitAdaptionChanged(),this.updateLocalLayerStateBeforeRemote(f,b),this.trackLayerUpdate(b),this.trackLayerUpdate(f),this.emitLayersChanged(),this.emitLayerSelected(f),this.remotePlaybackController.setLayer(f.label).then(T=>{if(!this.isStateValidForLayerUpdates()){this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const O=`Stream in invalid state: ${this.state}`;return this.resetAdaptionStateOnError(m,O),void this.resetLayerOnError(b,f,O)}if(!T.ok){const O=T.error;return this.resetAdaptionStateOnError(m,O),void this.resetLayerOnError(b,f,O)}this.logger.debug({msg:`Layer successfully selected: ${f.label}`})}).catch(()=>{})}applyExistingControlState(){var f;this._isAdapting?this.remotePlaybackController.unsetLayer().then(()=>{}).catch(()=>{}):!((f=this._selectedLayer)===null||f===void 0)&&f.label&&this.remotePlaybackController.setLayer(this._selectedLayer.label).then(()=>{}).catch(()=>{})}resetLayerOnError(f,m,b){m&&(m.selected=!1),f&&(f.selected=!0),this._selectedLayer=f,this.logger.error({err:b,msg:"Error unsetting layer, leaving current selection in place"}),this.updateLocalLayerStateBeforeRemote(f,m),this.emitLayersChanged(),f!==null&&this.emitLayerSelected(f,ru.UNAVAILABLE),this.trackLayerUpdate(m),this.trackLayerUpdate(f)}updateLocalLayerStateBeforeRemote(f,m){this._layers=this._layers.map(b=>b.label===(f==null?void 0:f.label)?f:b.label===(m==null?void 0:m.label)?m:b).sort(Ng)}trackLayerUpdate(f){var m,b;this.analyticsTracker.trackEventNoSharedProps(new jh(this.token,Ji(),(m=f==null?void 0:f.label)!==null&&m!==void 0?m:"auto",!0,Ge.SUBSCRIBE,(b=f==null?void 0:f.selected)!==null&&b!==void 0&&b,this.info.id))}isNextUpdateAdaptionOnly(f){return f===void 0&&this.isFirstLayerUpdate()||f===void 0&&!this.isAdapting}isFirstLayerUpdate(){return this._selectedLayer===null}isRepeatLayerSelection(f){var m;return((m=this._selectedLayer)===null||m===void 0?void 0:m.label)===(f==null?void 0:f.label)}isStateValidForLayerUpdates(){return this.state===mo.ACTIVE||this.state===mo.INITIALIZING}isCommandQueueEmpty(){return this.commandMap.size===0}emitLayerSelected(f,m=ru.SELECTED){this.logger.debug({msg:`Emitting layers selected ${JSON.stringify(f,null,2)}`}),this.emit(go.LAYER_SELECTED,(0,Sn.cloneDeep)(f),m)}emitLayersChanged(){this.emit(go.LAYERS_CHANGED,(0,Sn.cloneDeep)(this._layers))}emitAdaptionChanged(){this.emit(go.ADAPTION_CHANGED,this._isAdapting)}get remote(){const f=this.weakRemoteMap.get(this.weakRemoteKey);if(f)return f;const m=new tf(this);return this.weakRemoteMap.set(this.weakRemoteKey,m),m}get participantInfo(){return(0,Sn.cloneDeep)(this.info)}get isAdapting(){return this._isAdapting}get layers(){return(0,Sn.cloneDeep)(this._layers)}get selectedLayer(){var f;return(0,Sn.cloneDeep)((f=this._selectedLayer)!==null&&f!==void 0?f:void 0)}get highestQualityLayer(){return(0,Sn.cloneDeep)(this.layers[this.layers.length-1])}get lowestQualityLayer(){return(0,Sn.cloneDeep)(this.layers[0])}pauseControls(){this.transitionStateTo(mo.CONTROLS_PAUSED),this.stopLayerPolling()}resumeControls(){this.applyExistingControlState(),this.startLayerPolling(),this.transitionStateTo(mo.ACTIVE)}cleanup(){this.transitionStateTo(mo.DESTROYED),super.cleanup(),this.stopLayerPolling(),this._layers=[],this._selectedLayer=null,this._isAdapting=!0,this.commandMap.clear()}}(function(x){x.STATE_CHANGE="stateChange",x.MEDIA_STREAM_ADDED="mediaStreamAdded",x.MEDIA_STREAM_REMOVED="mediaStreamRemoved",x.MEDIA_STREAM_MUTE_CHANGED="mediaStreamMuteChanged",x.ERROR="error"})(ef||(ef={})),function(x){x.SUBSCRIPTION_STATE_CHANGE="subscriptionStateChange",x.MEDIA_STREAM_SEI_MESSAGE_RECEIVED="mediaStreamSeiMessageReceived"}(Ag||(Ag={}));const Oi=Object.assign(Object.assign({},ef),Ag);var rf;(function(x){x.PUBLICATION_STATE_CHANGE="publicationStateChange"})(rf||(rf={}));const xa=Object.assign(Object.assign({},ef),rf);var Vw=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class yo extends kg{constructor(f,m,b,T,O,N,D,M=!1){super(f,new ps(T,Cr.REMOTE_PARTICIPANT)),this.subscribeState=ci.NOT_SUBSCRIBED,this.reassigning=!1,this.streams=[],this.left=!1,this.onSubscriptionStateChange=I=>{this.logger.debug({msg:"subscriptionStateChange",state:I}),I===Qr.DISCONNECTED?this.updateSubscriptionState(ci.NOT_SUBSCRIBED):I===Qr.CONNECTED?this.updateSubscriptionState(ci.SUBSCRIBED):I===Qr.CONNECTING?this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE):I===Qr.ERRORED?this.updateSubscriptionState(ci.ERRORED):this.logger.warn({msg:"FIXME onSubscriptionStateChange UNHANDLED STATE",state:I})},this.onSubscriptionMediaStream=(I,F)=>{this.logger.debug({msg:"onSubscriptionMediaStream",stream:I});let $=I.getTracks().map(W=>{const ie=new Kh({track:W,info:this.info,getStats:this.subscription.requestRTCStats,remotePlaybackController:F,analyticsTracker:this.analyticsTracker,token:this.token});return this.streams.push(ie),ie});this.subscription.getDesiredSubscribeType()===ki.AUDIO_ONLY&&($=$.filter(W=>W.streamType!==me.VIDEO)),this.emit(Oi.MEDIA_STREAM_ADDED,$)},this.onSubscriptionError=I=>{this.emit(Oi.ERROR,I)},this.onSubscriptionSeiMessageReceived=I=>{this.emit(Oi.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,I)},this.onSubscriptionTransformError=I=>{this.emit(Oi.ERROR,I)},this.onSubscriptionReassignmentStart=()=>{for(const I of this.streams)I.pauseControls()},this.onSubscriptionReassignmentDone=()=>{for(const I of this.streams)I.resumeControls()},this.updateSubscribeStateIfNecessary=(I,F)=>{if(!this.info.capabilities.has(ba.SUBSCRIBE))return;F!==void 0&&this.subscription.updateSubscribeConfig(F);const $=I!==ki.NONE&&this.publishState===On.PUBLISHED,W=this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscribeState!==ci.ERRORED;if($&&!W)this.subscription.updateDesiredSubscribeType(I),this.subscribe();else if(!$&&W)this.unsubscribe(),this.subscription.updateDesiredSubscribeType(I);else if(this.subscribeState===ci.SUBSCRIBED&&this.subscription.getDesiredSubscribeType()!==I)try{I===ki.AUDIO_ONLY?this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams.filter(ie=>ie.streamType===me.VIDEO)):I===ki.AUDIO_VIDEO&&this.emit(Oi.MEDIA_STREAM_ADDED,this.streams.filter(ie=>ie.streamType===me.VIDEO)),this.subscription.updateDesiredSubscribeType(I)}catch(ie){this.logger.error({err:ie,msg:"error updating subscribe type"})}},this.updatePublishState=I=>{const F=I&&this.publishState===On.PUBLISHED,$=!I&&this.publishState===On.NOT_PUBLISHED;return!F&&!$&&(this.info.isPublishing=I,this.publishState=I?On.PUBLISHED:On.NOT_PUBLISHED,!0)},this.updateStreamState=(I,F)=>{this.audioMuted!==I&&(this.audioMuted=I,this.info.audioMuted=I,this.updateStreamMuteState(me.AUDIO,I)),this.videoStopped!==F&&(this.videoStopped=F,this.info.videoStopped=F,this.updateStreamMuteState(me.VIDEO,F))},this.updateStreamMuteState=(I,F)=>{const $=this.streams.find(W=>W.streamType===I);$?($.setMuted(F),this.emit(Oi.MEDIA_STREAM_MUTE_CHANGED,$)):this.logger.warn({msg:`tried to update mute state for ${I} stream on participant ${this.info.id} that didn't exist`})},this.cleanup=()=>{for(const I of this.streams)I.remote.removeAllListeners(),I.removeAllListeners();this.removeAllListeners()},this.quickUnsubscribe=()=>this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscription.stop(!0),this.getDesiredSubscribeType=()=>this.subscription.getDesiredSubscribeType(),this.isReassigning=()=>this.reassigning,this.analyticsTracker=D,this.token=m,this.createSubscription=()=>{const I=new Eg(f.id,m,b,T,D,O,N);return I.on(Vl,this.onSubscriptionStateChange),I.on(Xi,this.onSubscriptionMediaStream),I.on(vr,this.onSubscriptionError),I.on(qa,this.onSubscriptionSeiMessageReceived),I.on(ao,this.onSubscriptionTransformError),I.on(Fo,this.onSubscriptionReassignmentStart),I.on(Ka,this.onSubscriptionReassignmentDone),I.on(Fs,this.onSubscriptionReassignmentDone),I},this.subscription=this.createSubscription(),M&&(this.publishState=On.PUBLISHED)}updateSubscriptionState(f){f!==this.subscribeState&&(this.subscribeState=f,this.emit(Oi.SUBSCRIPTION_STATE_CHANGE,this.subscribeState))}participantLeave(){this.left=!0}subscribe(){this.left?this.logger.warn({msg:"tried to subscribe to a participant that left"}):(this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE),this.logger.debug({msg:"subscribe"}),this.subscription.start())}unsubscribe(){if(this.subscribeState===ci.NOT_SUBSCRIBED)return;this.logger.debug({msg:"unsubscribe"}),this.subscription.stop(),this.subscription.off(Vl,this.onSubscriptionStateChange),this.subscription.off(Xi,this.onSubscriptionMediaStream),this.subscription.off(vr,this.onSubscriptionError),this.subscription.off(ao,this.onSubscriptionTransformError);const f=this.getDesiredSubscribeType();this.subscription=this.createSubscription(),f===ki.AUDIO_ONLY?this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams.filter(m=>m.streamType===me.AUDIO)):this.emit(Oi.MEDIA_STREAM_REMOVED,this.streams),this.updateSubscriptionState(ci.NOT_SUBSCRIBED),this.streams.forEach(m=>{m.cleanup()}),this.streams=[]}triggerIceRestart(f){return Vw(this,void 0,void 0,function*(){this.reassigning=!0;try{yield this.subscription.triggerIceRestart(f)}finally{this.reassigning=!1}})}}const A0=Ge.PUBLISH;function I0(x,f,m){return new Qt(Object.assign(Object.assign({},x),{token:f,traceId:m,location:"stage-publication.sendSeiMessage",tag:Id,action:Ge.PUBLISH}))}class Wc{constructor(f,m){this.analyticsTracker=f,this.token=m,this.action=A0,this.traceId=Ji()}trackPublish(f){const{action:m,traceId:b,analyticsTracker:T,token:O}=this;return T.trackEvent(new m0({token:O,traceId:b})),{getTraceId:()=>b,trackPublishStarted({totalDurationWithRetries:N,retryTimes:D,sfuResource:M,peerClientPerfStats:I}){const{optionsDuration:F,postDuration:$,timeToCandidate:W,timeToConnected:ie,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae}=I,{edpInitialConnectDuration:se,edpInitialConnectRetries:we,edpInitialStateDuration:Ve,edpStateUpdateCount:ot}=f;T.trackEvent(new v0({token:O,traceId:b,optionsDuration:F,postDuration:$,timeToCandidate:W,totalDuration:ie,edpInitialConnectDuration:se,edpInitialConnectRetries:we,edpInitialStateDuration:Ve,edpStateUpdateCount:ot,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae,publishRetries:D,totalDurationWithRetries:N,sfuResource:M}))},trackPublishFailed(N){const D=((I,F,$)=>{if(I instanceof Qt)return I;let W="";return I instanceof gn.AxiosError&&(W+=`AxiosError - ${I.code}`),new Qt(Object.assign(Object.assign(Object.assign({},je.PUBLISH_FAILURE),{action:A0,token:F,traceId:$,tag:Id,location:"publish",details:`${W} ${I.message}`}),{fatal:!0}))})(N,O,b);T.trackEvent(new y0({token:O,traceId:b,code:D.code,message:D.message,fatal:D.fatal,nominal:D.nominal}));const M=new Qt(Object.assign(Object.assign({},je.PUBLISH_FAILURE),{action:m,token:O,traceId:b,tag:Id,location:"publish"}));return N instanceof Qt&&(M.fatal=N.fatal,M.nominal=N.nominal,M.location=`publish > ${N.location}`),T.trackError(M),D},trackUnpublish:()=>{T.trackEvent(new g0({token:O,traceId:b}))},trackEndSucceeded:N=>{T.trackEvent(new Wd({token:O,isUnpublishSuccessful:!0,traceId:b,reason:N}))},trackEndFailed:N=>{const D=new Qt(Object.assign(Object.assign({},je.UNPUBLISH_FAILURE),{token:O,traceId:b,tag:kw,location:"unpublish"}));return N!==_i.UNLOAD&&N!==_i.UNPUBLISH||this.analyticsTracker.trackError(D),T.trackEvent(new Wd({token:O,isUnpublishSuccessful:!1,traceId:b,reason:N})),D},createSeiNotPublishingVideoError:()=>I0(je.SEI_INSERT_NOT_PUBLISHING_VIDEO,O,b),createSeiInBandMessagingNotEnabledError:()=>I0(je.SEI_INSERT_INBAND_NOT_ENABLED,O,b)}}}var ft,es,Ln=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};(function(x){x.DISCONNECTED="disconnected",x.CONNECTING="connecting",x.CONNECTED="connected",x.ERRORED="errored"})(ft||(ft={})),function(x){x.STATE_CHANGE="stateChange",x.ERROR="error",x.TRANSFORM_ERROR="transformError"}(es||(es={}));class Fn extends vs{constructor(f,m,b,T){super(),this.token=f,this.stageConnection=m,this.nonScopedLogger=b,this.analyticsTracker=T,this.tracksToPublish=[],this.publicationState=ft.DISCONNECTED,this.latestPubAttemptNum=0,this.startConnectingTimestamp=-1,this.action=Ge.PUBLISH,this.start=O=>{this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED?(this.tracksToPublish=O,this.latestPubAttemptNum=0,this.processStateUpdate()):this.logger.warn({msg:"publication cannot be started if not in disconnected or error state"})},this.requestRTCStats=O=>Ln(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(O)}),this.stop=(O=!1)=>Ln(this,void 0,void 0,function*(){this.peerClient.off(ms,this.onPeerClientConnectionStateChange,this),this.peerClient.off(jc,this.onPeerClientTransformError,this),yield this.unpublish(O),this.updateState(ft.DISCONNECTED)}),this.processStateUpdate=O=>{const{publicationState:N}=this;N===ft.DISCONNECTED||N===ft.ERRORED?this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()):N===ft.CONNECTING?O===vt.CONNECTED&&this.updateState(ft.CONNECTED):N===ft.CONNECTED&&O===vt.FAILED&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(_i.CONNECTION_FAIL),this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()))},this.updateState=O=>{this.publicationState=O,this.emit(es.STATE_CHANGE,O)},this.tryPublish=()=>Ln(this,void 0,void 0,function*(){if(this.latestPubAttemptNum++,this.latestPubAttemptNum<=4){const O=this.stageConnection.getConnectionStats();this.attemptTracker=this.publishTracker.trackPublish(O);try{this.logger.debug({msg:`attempting to publish, attemptNum: ${this.latestPubAttemptNum}`}),yield this.publish(this.tracksToPublish,this.attemptTracker.getTraceId()),this.logger.debug({msg:"publish succeeded!"});const N=this.peerClient.getSfuResource(),D=this.latestPubAttemptNum-1,M=performance.now()-this.startConnectingTimestamp,I=this.peerClient.getActionMeasurements();this.attemptTracker.trackPublishStarted({sfuResource:N,totalDurationWithRetries:M,retryTimes:D,peerClientPerfStats:I}),this.latestPubAttemptNum=0}catch(N){this.logger.error({msg:"publish failed!",err:N});const D=this.attemptTracker.trackPublishFailed(N),M=D.code===je.OPERATION_ABORTED.code,I=D.fatal,F=this.latestPubAttemptNum===4;if(M)return;if(I||F)return this.logger.error({msg:`Stopping attempts: isFatal=${I}, isLastAttempt=${F}`,err:N}),this.updateState(ft.ERRORED),void this.emit(es.ERROR,D);const $=1e3*Math.pow(2,this.latestPubAttemptNum);this.logger.debug({msg:`attempt failed, retrying in ${$}ms`}),this.nextAttemptTimerId=window.setTimeout(()=>{this.tryPublish()},$)}}}),this.publish=(O,N)=>Ln(this,void 0,void 0,function*(){this.peerClient.initTracksToPublish(O),yield this.peerClient.connect({audioOnly:!1,traceId:N})}),this.unpublish=(O=!1)=>Ln(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED||!this.attemptTracker)return;this.attemptTracker.trackUnpublish();const N=O?_i.UNLOAD:_i.UNPUBLISH;try{O?this.peerClient.disconnect(O):yield this.peerClient.disconnect(O),this.attemptTracker.trackEndSucceeded(N)}catch{this.attemptTracker.trackEndFailed(N)}}),this.replaceOrUpdateTrack=O=>Ln(this,void 0,void 0,function*(){this.tracksToPublish.find(N=>N.track.kind===O.track.kind)?this.tracksToPublish=this.tracksToPublish.map(N=>N.track.kind===O.track.kind?O:N):this.tracksToPublish.push(O),yield this.peerClient.replaceOrUpdateTrack(O)}),this.onPeerClientConnectionStateChange=O=>{this.logger.debug({msg:`onPeerClientConnectionStateChange: ${O}`,state:O}),this.processStateUpdate(O)},this.onPeerClientTransformError=O=>{this.emit(es.TRANSFORM_ERROR,O)},this.onIncompatibleCodecs=O=>Ln(this,void 0,void 0,function*(){yield this.peerClient.onIncompatibleCodecs(O)}),this.sendSeiMessage=(O,N)=>{if(this.publicationState!==ft.CONNECTED)return this.attemptTracker&&this.emit(es.ERROR,this.attemptTracker.createSeiNotPublishingVideoError()),st.err(Ri.NOT_PUBLISHING_VIDEO);const D=this.peerClient.sendSeiMessage(O,N),M=st.getErr(D);return M&&this.attemptTracker&&(M===Ri.INBAND_MESSAGING_NOT_ENABLED?this.emit(es.ERROR,this.attemptTracker.createSeiInBandMessagingNotEnabledError()):M===Ri.NOT_PUBLISHING_VIDEO&&this.emit(es.ERROR,this.attemptTracker.createSeiNotPublishingVideoError())),D},this.peerClient=new po(f,this.nonScopedLogger,this.action,Xn(this.action),Ji(),this.analyticsTracker,void 0,m,void 0),this.logger=new ps(b,Cr.PUBLICATION),this.peerClient.on(ms,this.onPeerClientConnectionStateChange,this),this.peerClient.on(jc,this.onPeerClientTransformError,this),this.publishTracker=new Wc(this.analyticsTracker,this.token)}removeTrack(f){return Ln(this,void 0,void 0,function*(){this.tracksToPublish=this.tracksToPublish.filter(m=>m.track.kind!==f),yield this.peerClient.removeTrack(f)})}}var Nr,j0=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};class Ig extends kg{constructor(f,m,b,T,O){super(f,new ps(b,Cr.LOCAL_PARTICIPANT)),this.onPublicationStateChange=N=>{switch(this.logger.debug({msg:"publicationStateChange",state:N}),N){case"connected":this.connection.setStagePublishing(!0),this.updatePublishState(On.PUBLISHED);break;case"connecting":this.updatePublishState(On.ATTEMPTING_PUBLISH);break;case"errored":this.updatePublishState(On.ERRORED),this.connection.setStagePublishing(!1);break;default:return void this.logger.warn({msg:"FIXME onPublicationStateChange UNHANDLED STATE",state:N})}},this.onPublicationError=N=>{this.emit(xa.ERROR,N)},this.updatePublishState=N=>{this.info.isPublishing=N===On.PUBLISHED,this.publishState=N,this.emit(xa.PUBLICATION_STATE_CHANGE,this.publishState)},this.handleMute=N=>{N.streamType===me.AUDIO&&(this.audioMuted=N.isMuted,this.info.audioMuted=N.isMuted),N.streamType===me.VIDEO&&(this.videoStopped=N.isMuted,this.info.videoStopped=N.isMuted),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.emit(xa.MEDIA_STREAM_MUTE_CHANGED,N)},this.handleInsertSeiMsgRequest=(N,D,M)=>{this.sendSeiMessage(D,M==null?void 0:M.repeatCount)},this.publish=N=>{this.logger.debug({msg:"publish"}),N.forEach(M=>{M&&(this.setupStreamListener(M),M.streamType===me.AUDIO?(this.audioStream=M,this.audioMuted=!M.mediaStreamTrack.enabled,this.info.audioMuted=this.audioMuted):M.streamType===me.VIDEO&&(this.videoStream=M,this.videoStream.on(vo.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleInsertSeiMsgRequest),this.videoStopped=!M.mediaStreamTrack.enabled,this.info.videoStopped=this.videoStopped),M.setGetStats(this.publication.requestRTCStats))}),this.connection.emitStageState(this.audioMuted,this.videoStopped);const D=N.map(M=>T0(M.mediaStreamTrack,M.mediaConfig));this.publication.start(D)},this.cleanup=()=>this.removeAllListeners(),this.quickUnpublish=()=>this.publishState!==On.NOT_PUBLISHED&&this.publishState!==On.ERRORED&&void this.publication.stop(!0),this.onIncompatibleCodecs=N=>j0(this,void 0,void 0,function*(){yield this.publication.onIncompatibleCodecs(N)}),this.sendSeiMessage=(N,D=0)=>this.publication.sendSeiMessage(N,D),this.sendSeiMessageString=(N,D=0)=>{const M=new TextEncoder().encode(N);return this.publication.sendSeiMessage(M,D)},this.connection=T,this.createPublication=()=>{const N=new Fn(m,T,b,O);return N.on(es.STATE_CHANGE,this.onPublicationStateChange),N.on(es.ERROR,this.onPublicationError),N.on(es.TRANSFORM_ERROR,this.onPublicationError),N},this.publication=this.createPublication()}setupStreamListener(f){f.on(vo.LOCAL_STREAM_MUTE_CHANGED,this.handleMute)}removeTrack(f){var m,b,T;f.streamType===me.AUDIO?((m=this.audioStream)===null||m===void 0||m.off(vo.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.audioStream=void 0,this.audioMuted=!0,this.info.audioMuted=!0):f.streamType===me.VIDEO&&((b=this.videoStream)===null||b===void 0||b.off(vo.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),(T=this.videoStream)===null||T===void 0||T.off(vo.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleMute),this.videoStream=void 0,this.videoStopped=!0,this.info.videoStopped=!0),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.publication.removeTrack(f.streamType)}replaceOrAddTrack(f){return j0(this,void 0,void 0,function*(){this.setupStreamListener(f),f.setGetStats(this.publication.requestRTCStats),f.streamType===me.AUDIO?(this.audioStream=f,this.audioMuted=!f.mediaStreamTrack.enabled):f.streamType===me.VIDEO&&(this.videoStream=f,this.videoStopped=!f.mediaStreamTrack.enabled),this.connection.emitStageState(this.audioMuted,this.videoStopped);const m=T0(f.mediaStreamTrack,f.mediaConfig);yield this.publication.replaceOrUpdateTrack(m)})}unpublish(){if(this.publishState===On.NOT_PUBLISHED||this.publishState===On.ERRORED)return;this.logger.debug({msg:"unpublish"}),this.connection.setStagePublishing(!1),this.publication.stop(),this.publication.off(es.STATE_CHANGE,this.onPublicationStateChange),this.publication.off(es.ERROR,this.onPublicationError),this.publication.off(es.TRANSFORM_ERROR,this.onPublicationError);const f=[this.audioStream,this.videoStream].filter(m=>!!m);f.forEach(m=>{m.cleanup()}),this.audioStream=void 0,this.videoStream=void 0,this.emit(xa.MEDIA_STREAM_REMOVED,f),this.updatePublishState(On.NOT_PUBLISHED),this.publication=this.createPublication()}}(function(x){x.STAGE_CONNECTION_STATE_CHANGED="stageConnectionStateChanged",x.STAGE_PARTICIPANT_JOINED="stageParticipantJoined",x.STAGE_PARTICIPANT_LEFT="stageParticipantLeft",x.STAGE_PARTICIPANT_STREAMS_ADDED="stageParticipantStreamsAdded",x.STAGE_PARTICIPANT_STREAMS_REMOVED="stageParticipantStreamsRemoved",x.STAGE_STREAM_MUTE_CHANGED="stageStreamMuteChanged",x.STAGE_STREAM_SEI_MESSAGE_RECEIVED="stageStreamSeiMessageReceived",x.STAGE_STREAM_LAYERS_CHANGED="stageStreamLayersChanged",x.STAGE_STREAM_LAYER_SELECTED="stageStreamLayerSelected",x.STAGE_STREAM_ADAPTION_CHANGED="stageStreamAdaptionChanged",x.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED="stageParticipantSubscribeStateChanged",x.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED="stageParticipantPublishStateChanged",x.ERROR="error",x.STAGE_LEFT="stageLeft"})(Nr||(Nr={}));var _s=function(x,f,m,b){return new(m||(m=Promise))(function(T,O){function N(I){try{M(b.next(I))}catch(F){O(F)}}function D(I){try{M(b.throw(I))}catch(F){O(F)}}function M(I){var F;I.done?T(I.value):(F=I.value,F instanceof m?F:new m(function($){$(F)})).then(N,D)}M((b=b.apply(x,[])).next())})};const jg=x=>!!x;class Yh extends vs{constructor(f,m){super(),this.connectionState=zr.DISCONNECTED,this.participants=new Map,this.connectionStateErrored=!1,this.onConnectionStateChanged=(T,O)=>{var N,D;if(this.connectionState=T,T===zr.ERRORED&&(this.connectionStateErrored=!0),T===zr.CONNECTED&&this.localParticipant&&this.localParticipant.publishState!==On.NOT_PUBLISHED&&this.stageConnection.emitStageState((N=this.localParticipant)===null||N===void 0?void 0:N.audioMuted,(D=this.localParticipant)===null||D===void 0?void 0:D.videoStopped),T===zr.CONNECTED&&this.connectionStateErrored&&(this.connectionStateErrored=!1,this.refreshStrategy()),T===zr.DISCONNECTED){if(O&&O!==ai.CLIENT_RECONNECT&&O!==ai.USER_INITIATED){let M=Gr.UNKNOWN;(function(I){return Object.values(Gr).includes(I)})(O)?M=O:this.logger.warn({msg:`DISCONNECTED reason is not a StageLeftReason: ${O}`}),this.cleanup(M)}}else this.emit(Nr.STAGE_CONNECTION_STATE_CHANGED,this.connectionState)},this.setupLocalParticipantOnce=()=>{var T;this.localParticipant?this.analyticsTracker.trackEventNoSharedProps(new bs(this.token,(T=this.joinTraceId)!==null&&T!==void 0?T:new r0,"reusing local participant from repeat join",Ge.JOIN,"")):this.createLocalParticipant()},this.createLocalParticipant=()=>{const T=function(O){var N,D;const M=new Set;return O.token.claims.capabilities.allow_publish&&M.add(ba.PUBLISH),O.token.claims.capabilities.allow_subscribe&&M.add(ba.SUBSCRIBE),{id:O.token.participantID,userId:(N=O.token.userID)!==null&&N!==void 0?N:"",attributes:(D=O.token.claims.attributes)!==null&&D!==void 0?D:{},capabilities:M,isLocal:!0,userInfo:{},videoStopped:O.videoStopped,audioMuted:O.audioMuted,isPublishing:O.isPublishing}}({token:this.token,videoStopped:!0,audioMuted:!0,isPublishing:!1});this.localParticipant=new Ig(T,this.token,this.logger.unwrap(),this.stageConnection,this.analyticsTracker),this.localParticipant.on(xa.PUBLICATION_STATE_CHANGE,O=>{this.onPublishStateChanged(this.localParticipant.info,O)}),this.localParticipant.on(xa.MEDIA_STREAM_REMOVED,this.onLocalStreamsRemoved),this.localParticipant.on(xa.MEDIA_STREAM_MUTE_CHANGED,O=>{this.localParticipant?this.onStreamMuteChange(this.localParticipant.info,O):this.logger.warn({msg:"tried to emit a stream mute change event for undefined local participant"})}),this.localParticipant.on(xa.ERROR,O=>{this.errorManager.handleError(O,ya.PUBLISH_ERROR)}),this.emit(Nr.STAGE_PARTICIPANT_JOINED,T)},this.onRemoteParticipantJoined=T=>{var O;if(T.id!==((O=this.localParticipant)===null||O===void 0?void 0:O.info.id)){const N=function(F){return{id:F.id,userId:F.userId,attributes:F.attributes,capabilities:new Set([ba.SUBSCRIBE]),isLocal:!1,userInfo:{},videoStopped:F.videoStopped,audioMuted:F.audioMuted,isPublishing:F.isPublishing}}(T);if(this.participants.has(N.id))return void this.logger.warn({msg:"Remote participant already tracked"});let D=ki.NONE;N.capabilities.has(ba.SUBSCRIBE)&&(D=st.getOk_or(this.strategyWrapper.shouldSubscribeToParticipant(N),D),this.updateManagerWithExternalSubscribeConfig(N,"joined"));const M=this.configManager.getSubscribeConfigSnapshot(N.id),I=new yo(N,this.token,this.stageConnection,this.logger.unwrap(),D,M,this.analyticsTracker,T.isPublishing);this.participants.set(N.id,I),this.setupRemoteParticipantListeners(I),this.emit(Nr.STAGE_PARTICIPANT_JOINED,I.info),I.updateSubscribeStateIfNecessary(D)}},this.setupRemoteParticipantListeners=T=>{T.on(Oi.SUBSCRIPTION_STATE_CHANGE,O=>{this.onParticipantSubscribeStateChanged(T.info.id,O)}),T.on(Oi.MEDIA_STREAM_ADDED,O=>{const N=this.participants.get(T.info.id);if(N){for(const D of O)this.setupRemoteParticipantStreamEvents(N.info,D);this.emit(Nr.STAGE_PARTICIPANT_STREAMS_ADDED,N.info,Og(O)),this.updateStreamLayerForParticipant(T)}else this.logger.warn({msg:"Got stream add for participant no longer being tracked"})}),T.on(Oi.MEDIA_STREAM_REMOVED,O=>{const N=this.participants.get(T.info.id);N?this.emit(Nr.STAGE_PARTICIPANT_STREAMS_REMOVED,N.info,Og(O)):this.logger.warn({msg:"Got stream remove for participant no longer being tracked"})}),T.on(Oi.MEDIA_STREAM_MUTE_CHANGED,O=>{this.onStreamMuteChange(T.info,O.remote)}),T.on(Oi.ERROR,O=>{this.errorManager.handleError(O,ya.SUBSCRIBE_ERROR)}),T.on(Oi.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,O=>{this.onSeiMessageReceived(T.info,O)})},this.onRemoteParticipantLeft=T=>{if(this.connectionState!==zr.CONNECTED)return;const O=this.participants.get(T);O?(O.participantLeave(),O.unsubscribe(),O.cleanup(),this.participants.delete(T),this.emitParticipantLeave(O.info)):this.logger.warn({msg:"Remote participant no longer tracked"})},this.emitParticipantLeave=T=>{this.emit(Nr.STAGE_PARTICIPANT_LEFT,T)},this.onRemoteParticipantStateChanged=T=>{const O=this.participants.get(T.id);if(!O)return void this.logger.warn({msg:"Remote participant updated but not tracked"});O.updatePublishState(T.isPublishing)&&this.onPublishStateChanged(O.info,O.publishState),O.updateStreamState(T.audioMuted,T.videoStopped);const N=this.strategyWrapper.shouldSubscribeToParticipant(O.info);if(st.isNotOk(N))return;this.updateManagerWithExternalSubscribeConfig(O.info,"updated");const D=this.configManager.getSubscribeConfigSnapshot(O.info.id),M=st.getOk_or(N,ki.NONE);O.updateSubscribeStateIfNecessary(M,D)},this.onPublishStateChanged=(T,O)=>{this.emit(Nr.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,T,O)},this.onParticipantSubscribeStateChanged=(T,O)=>{const N=this.participants.get(T);N?this.emit(Nr.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED,N.info,O):this.logger.warn({msg:"Remote participant subscribe state changed but not tracked"})},this.onLocalStreamsAdded=T=>{this.localParticipant&&this.emit(Nr.STAGE_PARTICIPANT_STREAMS_ADDED,this.localParticipant.info,T)},this.onLocalStreamsRemoved=T=>{this.localParticipant&&this.emit(Nr.STAGE_PARTICIPANT_STREAMS_REMOVED,this.localParticipant.info,T)},this.onStreamMuteChange=(T,O)=>{this.emit(Nr.STAGE_STREAM_MUTE_CHANGED,T,O)},this.onSeiMessageReceived=(T,O)=>{this.emit(Nr.STAGE_STREAM_SEI_MESSAGE_RECEIVED,T,O)},this.leave=()=>{this.cleanup(Gr.USER_INITIATED)},this.onBeforeUnloadCleanup=()=>{var T;this.participants.forEach(O=>{O.quickUnsubscribe()}),(T=this.localParticipant)===null||T===void 0||T.quickUnpublish(),this.stageConnection.disconnect(),this.emit(Nr.STAGE_CONNECTION_STATE_CHANGED,zr.DISCONNECTED),this.analyticsTracker.stop(!0)},this.cleanup=T=>{if(!this.localParticipant)return;this.analyticsTracker.trackEventNoSharedProps(new Eh({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId,reason:T})),this.localParticipant.unpublish(),this.localParticipant.cleanup();const O=this.localParticipant.info;this.localParticipant=void 0,this.emitParticipantLeave(O);const N=this.participants.entries();for(const[D,M]of N)M.unsubscribe(),this.participants.delete(D),M.cleanup(),this.emitParticipantLeave(M.info);Xl.destroy(),this.stageConnection.disconnect(),this.emit(Nr.STAGE_CONNECTION_STATE_CHANGED,zr.DISCONNECTED),this.emit(Nr.STAGE_LEFT,T),this.stageConnection.removeAllListeners(),this.stageConnection=new $h(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners(),this.analyticsTracker.stop(!1),window.removeEventListener("beforeunload",this.onBeforeUnloadCleanup)},this.refreshStrategy=()=>{this.participants.forEach(T=>{if(T.info.capabilities.has(ba.SUBSCRIBE)){const O=this.strategyWrapper.shouldSubscribeToParticipant(T.info);if(st.isNotOk(O))return;const N=st.getOk_or(O,ki.NONE);this.updateManagerWithExternalSubscribeConfig(T.info,"updated");const D=this.configManager.getSubscribeConfigSnapshot(T.info.id);T.updateSubscribeStateIfNecessary(N,D),this.updateStreamLayerForParticipant(T)}}),this.updateStreamsToPublishIfNecessary()},this.updateStreamsToPublishIfNecessary=()=>{var T;if(!this.localParticipant||!(!((T=this.localParticipant)===null||T===void 0)&&T.info.capabilities.has(ba.PUBLISH)))return;const O=this.localParticipant.publishState!==On.NOT_PUBLISHED&&this.localParticipant.publishState!==On.ERRORED,N=this.strategyWrapper.shouldPublishParticipant(this.localParticipant.info);if(st.isNotOk(N))return;let D=st.getOk_or(N,!1);if(!O&&!D)return;if(O&&!D)return void this.localParticipant.unpublish();const M=this.strategyWrapper.stageStreamsToPublish();if(st.isNotOk(M)){const F=st.getErr(M);if(F instanceof Error&&F.cause==="UserStrategy")throw F;return}const I=st.getOk_or(M,[]);D=D&&I.length>0,!O&&D?(this.localParticipant.publish(I),this.onLocalStreamsAdded(I)):this.syncTracksToPublish(I)},this.syncTracksToPublish=T=>{var O;if(!this.localParticipant)return;const N=this.localParticipant.audioStream,D=this.localParticipant.videoStream,{updates:M,streamsToAdd:I,streamsToRemove:F}=this.determineStreamUpdates(N,D,T);if(M.length){for(const $ of M)$.newStream?(O=this.localParticipant)===null||O===void 0||O.replaceOrAddTrack($.newStream):$.oldStream&&this.localParticipant.removeTrack($.oldStream);F.length!==0&&this.onLocalStreamsRemoved(F),I.length!==0&&this.onLocalStreamsAdded(I)}},this.determineStreamUpdates=(T,O,N=[])=>{const D=[],M=N.slice(0,2);if(M.sort(($,W)=>$.streamType===me.AUDIO?-1:1),M.length===0)T&&D.push({oldStream:T}),O&&D.push({oldStream:O});else if(M.length===1){const $=M[0];$.streamType===me.AUDIO?O&&D.push({oldStream:O}):$.streamType===me.VIDEO&&T&&D.push({oldStream:T})}M.forEach($=>{var W,ie;$.streamType===me.AUDIO?T?T.id===$.id&&(0,Sn.isEqual)(T.mediaConfig,$.mediaConfig)||(!!(!((W=T.mediaConfig)===null||W===void 0)&&W.stereo)!=!!(!((ie=$.mediaConfig)===null||ie===void 0)&&ie.stereo)&&this.logger.warn({msg:"Ignoring change to audio stream's stereo configuration. Re-publish to change stereo configuraiton."}),D.push({oldStream:T,newStream:$})):D.push({newStream:$}):$.streamType===me.VIDEO&&(O?O.id===$.id&&(0,Sn.isEqual)(O.mediaConfig,$.mediaConfig)||D.push({oldStream:O,newStream:$}):D.push({newStream:$}))});const I=D.map($=>$.newStream).filter(jg),F=D.map($=>$.oldStream).filter(jg);return{updates:D,streamsToAdd:I,streamsToRemove:F}},this.onReassignmentMessage=T=>_s(this,void 0,void 0,function*(){if($a("disableReassignments"))return void this.logger.debug({msg:"REASSIGN message ignored: disableReassignments is configured"});if(!Bd.browser.isChrome())return void this.logger.debug({msg:"REASSIGN message ignored: browser is not chrome"});const O=Ji();this.trackReassignmentRequest(T,O);const N=this.participants.get(T.remoteParticipantId),D=this.token.participantID,M=function(I,{localParticipantId:F,remoteParticipant:$}){const{participantId:W}=I;if(F!==W)return st.err(Object.assign(Object.assign({},je.REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID),{details:`Invalid participantId received: ${W}`}));if(!$)return st.err(Object.assign(Object.assign({},je.REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID),{details:`Invalid remoteParticipantId received: ${$}`}));if($.isReassigning())return st.err(je.REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS);const ie=$.subscription.peerClient.getConnectionState();return[vt.CONNECTED,vt.DISCONNECTED].includes(ie)?st.ok($):st.err(Object.assign(Object.assign({},je.REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE),{details:`connectionState: ${ie}`}))}(T,{localParticipantId:D,remoteParticipant:N});if(!M.ok)this.trackReassignmentRequestRejected(M.error,O);else try{const{token:I,nodeOverride:F}=T;yield M.value.triggerIceRestart({assignmentToken:I,traceId:O,nodeOverride:F})}catch(I){this.logger.error({msg:"Reassignment failed.",err:I})}}),this.onIncompatibleCodecsMessage=T=>_s(this,void 0,void 0,function*(){var O;yield(O=this.localParticipant)===null||O===void 0?void 0:O.onIncompatibleCodecs(T.codecs)}),this.analyticsTracker=new Ic;const b=Am();this.logger=new ps(new Fm(b),Cr.STAGE),this.strategyWrapper=new qh(m,this.logger),this.configManager=new P0({logger:this.logger.unwrap(),subscribeDefaults:{jitterBuffer:{minDelayWhenPublishing:Si.DEFAULT,minDelayWhenSubscribeOnly:Si.DEFAULT},inBandMessaging:{enabled:!1},simulcast:{initialLayerPreference:Gl.LOWEST_QUALITY}}}),this.errorManager=new Uw(this.logger.unwrap());try{this.token=ys(f,this.analyticsTracker)}catch(T){const O=new Qt(Object.assign({action:Ge.JOIN,token:f,traceId:Ji(),tag:Ad,location:"Stage.constructor"},je.MALFORMED_TOKEN));throw T instanceof Error&&(O.details=T.message),this.errorManager.handleError(O,ya.JOIN_ERROR)||T}this.stageConnection=new $h(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners()}setupListeners(){this.stageConnection.on(da,(f,m)=>{this.onConnectionStateChanged(f,m)}),this.stageConnection.on(Th,f=>{this.onRemoteParticipantJoined(f)}),this.stageConnection.on(Rh,f=>{this.onRemoteParticipantLeft(f.id)}),this.stageConnection.on(kh,f=>{var m;f.id!==((m=this.localParticipant)===null||m===void 0?void 0:m.info.id)&&this.onRemoteParticipantStateChanged(f)}),this.stageConnection.on(H,f=>_s(this,void 0,void 0,function*(){yield this.onReassignmentMessage(f)})),this.stageConnection.on(Lc,f=>_s(this,void 0,void 0,function*(){yield this.onIncompatibleCodecsMessage(f)})),this.stageConnection.on(Wm,f=>{f instanceof Qt&&this.analyticsTracker.trackError(f),this.errorManager.handleError(f,ya.JOIN_ERROR)}),this.errorManager.on(Hh.ERROR,f=>{this.emit(Nr.ERROR,f)})}setupRemoteParticipantStreamEvents(f,m){const b=m.remote;m.on(go.ADAPTION_CHANGED,T=>{this.emit(Nr.STAGE_STREAM_ADAPTION_CHANGED,f,b,T)}),m.on(go.LAYERS_CHANGED,T=>{this.emit(Nr.STAGE_STREAM_LAYERS_CHANGED,f,b,T)}),m.on(go.LAYER_SELECTED,(T,O)=>{this.emit(Nr.STAGE_STREAM_LAYER_SELECTED,f,b,T,O)}),m.layers.length>0&&(this.emit(Nr.STAGE_STREAM_LAYERS_CHANGED,f,b,b.getLayers()),this.emit(Nr.STAGE_STREAM_LAYER_SELECTED,f,b,b.getSelectedLayer(),ru.SELECTED))}join(){return _s(this,void 0,void 0,function*(){this.analyticsTracker.start(),this.joinTraceId=Ji(),this.analyticsTracker.trackEvent(new _0({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId}));try{this.token.assertTokenIsUnexpired(Ji(),Ad,"join")}catch(f){throw this.errorManager.handleError(f,ya.JOIN_ERROR)||f}try{this.joinTraceId=yield this.stageConnection.connect(this.joinTraceId),this.connectionState===zr.CONNECTED&&(this.setupLocalParticipantOnce(),this.updateStreamsToPublishIfNecessary()),window.addEventListener("beforeunload",this.onBeforeUnloadCleanup)}catch(f){throw this.logger.error({err:f,msg:"error joining stage"}),this.errorManager.handleError(f,ya.JOIN_ERROR,!1)||f}})}replaceStrategy(f){this.strategyWrapper.setStrategy(f),this.refreshStrategy()}updateManagerWithExternalSubscribeConfig(f,m){const b=st.getOk(this.strategyWrapper.subscribeConfiguration(f));if(b===void 0)return;const T=f.id;if(this.configManager.handleExternalSubscribeConfigUpdate(T,b,Xd.API)){const O=this.configManager.getSubscribeConfigSnapshot(T);this.analyticsTracker.trackEventNoSharedProps(new Us(this.token,this.joinTraceId,{trigger:m==="joined"?"initial":"ad-hoc",remote_participant_id:T,min_delay_when_publishing:Bs(O.jitterBuffer.minDelayWhenPublishing,!0),min_delay_when_subscribe_only:Bs(O.jitterBuffer.minDelayWhenSubscribeOnly,!1),in_band_messaging_enabled:O.inBandMessaging.enabled,simulcast_initial_layer_preference:O.simulcast.initialLayerPreference}))}}updateStreamLayerForParticipant(f){f.streams.forEach(m=>{if(m.streamType==="audio")return;const b=this.strategyWrapper.preferredLayerForStream(f.info,m.remote),T=st.getOk_or(b,void 0);m.setLayer(T)})}trackReassignmentRequestRejected(f,m){const{token:b}=this,T=new Qt(Object.assign(Object.assign({},f),{token:b,action:Ge.JOIN,traceId:m,tag:jd,location:"publish"}));this.logger.error({err:T,msg:"Reassignment request rejected."}),this.analyticsTracker.trackError(T)}trackReassignmentRequest(f,m){const{token:b}=this;this.analyticsTracker.trackEvent(new Gh({token:b,traceId:m,targetLocalParticipantId:f.participantId,targetRemoteParticipantId:f.remoteParticipantId}))}}var Gr;(function(x){x.UNKNOWN="unknown",x.USER_INITIATED="user-initiated",x.TOKEN_REUSED="token-reused",x.PARTICIPANT_DISCONNECTED="participant-disconnected",x.STAGE_DELETED="stage-deleted"})(Gr||(Gr={}));const Pn=p})(),s})())})(WB);var HB=WB.exports;const cae=Kf(HB),lae=()=>{const e=P.useRef(null),[t,r]=P.useState(null),[n,i]=P.useState(!1),{toast:s}=kc(),o=_l(),c="rtmps://6b879004354a.global-contribute.live-video.net:443/app/",a="sk_ap-south-1_4LeRY8OAJOep_ZX2Eci4lRcTxA8SND1PngxjmaeNKSY";P.useEffect(()=>{const p=cae.create({streamConfig:HB.BASIC_LANDSCAPE,ingestEndpoint:c});return r(p),e.current&&p.attachPreview(e.current),navigator.mediaDevices.enumerateDevices().then(g=>{var y,w;const E=g.filter(R=>R.kind==="videoinput"),_=g.filter(R=>R.kind==="audioinput");navigator.mediaDevices.getUserMedia({video:{deviceId:(y=E[0])==null?void 0:y.deviceId},audio:{deviceId:(w=_[0])==null?void 0:w.deviceId}}).then(R=>{p.addVideoInputDevice(R,"camera1",{index:0,width:1280,height:720,x:-200,y:0}),p.addAudioInputDevice(R,"mic1")}).catch(R=>console.error("Error accessing media devices:",R))}).catch(g=>console.error("Error enumerating devices:",g)),()=>{p.stopBroadcast()}},[]);const l=async()=>{t&&(await t.startBroadcast(a),i(!0))},h=async()=>{try{const p=await sn.post(Yv+eW,{},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});t&&(await t.stopBroadcast(),i(!1)),o("/dashboard/upcomingLive"),s({title:"Live Stopped",description:"Live stopped Successfully"})}catch(p){s({title:"Live error",description:p.response.data.error||"Something went wrong"})}};return d.jsxs("div",{children:[d.jsx("div",{className:"w-full h-[80vh]",children:d.jsx("canvas",{ref:e,className:"w-full h-full",style:{border:"2px solid black"}})}),n?d.jsx("button",{onClick:h,style:{padding:"10px",margin:"10px",backgroundColor:"red",color:"white"},children:"Stop Live"}):d.jsx("button",{onClick:l,style:{padding:"10px",margin:"10px",backgroundColor:"ButtonText",color:"white"},children:"Start Live"})]})},uae=({isOpen:e,onClose:t,refetch:r=()=>{}})=>{const[n,i]=P.useState({title:"",startDate:new Date().toISOString().split("T")[0]}),s=c=>{const{name:a,value:l}=c.target;i({...n,[a]:l})},o=async c=>{c.preventDefault();try{const a=await sn.post(Yv+X8,n,{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});r(),t()}catch(a){console.error("Error fetching UpcomingLive:",a)}};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Live Details"}),d.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-gray-200 transition-colors",children:d.jsx(cd,{size:20})})]}),d.jsxs("form",{onSubmit:o,className:"p-4",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),d.jsx("input",{id:"title",name:"title",type:"text",value:n.title,onChange:s,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),d.jsx("div",{className:"relative",children:d.jsx("input",{id:"startDate",name:"startDate",type:"datetime-local",value:n.startDate,onChange:s,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})})]})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})]})}):null};function dae(){const[e,t]=P.useState(!1),{toast:r}=kc(),n=_l(),[i,s]=P.useState([]),o=async()=>{try{const l=(await sn.get(Yv+J8,{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}})).data.data;s(l)}catch(a){console.error("Error fetching UpcomingLive:",a),s([])}};P.useEffect(()=>{o()},[]);const c=async a=>{var l,h;try{const p=await sn.post(Yv+Z8(a),{},{headers:{Authorization:`Bearer ${Gi.get("accessToken")}`}});(h=(l=p==null?void 0:p.data)==null?void 0:l.data)!=null&&h.isLive&&(o(),n(`/dashboard/live/${a}`),r({title:"Toast Created",description:"The Live is Started successfully"}))}catch(p){r({title:"Live error",description:p.response.data.error||"Something went wrong"})}};return d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upcoming Live"}),d.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Add Up Coming Live"})]}),d.jsx("div",{className:"bg-white rounded-lg shadow",children:d.jsxs(Io,{children:[d.jsx(jo,{children:d.jsxs(Tr,{children:[d.jsx(Qe,{children:"Title"}),d.jsx(Qe,{children:"Stream Key"}),d.jsx(Qe,{children:"Start Date"}),d.jsx(Qe,{children:"Is Live"}),d.jsx(Qe,{children:"Actions"})]})}),d.jsx(Do,{children:i.length>0?i.map(a=>d.jsxs(Tr,{children:[d.jsx(Be,{children:a==null?void 0:a.title}),d.jsx(Be,{children:a==null?void 0:a.streamKey}),d.jsx(Be,{children:d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{children:new Date(a==null?void 0:a.startDate).toLocaleDateString()}),d.jsx("span",{children:new Date(a==null?void 0:a.startDate).toLocaleTimeString()})]})}),d.jsx(Be,{children:a!=null&&a.isLive?"Yes":"No"}),d.jsx(Be,{children:d.jsx("button",{onClick:()=>c(a==null?void 0:a._id),className:"px-2 py-1 bg-blue-600 text-white rounded-md text-sm",children:"Go Live"})})]},a==null?void 0:a._id)):d.jsx(Tr,{children:d.jsx(Be,{className:"text-center",children:"No Upcoming Live Streams"})})})]})}),d.jsx(uae,{isOpen:e,onClose:()=>t(!1),refetch:o})]})}const fae=({children:e})=>Gi.get("accessToken")?d.jsx(d.Fragment,{children:e}):d.jsx(gT,{to:"/login"}),hae=()=>{const e=Gi.get("accessToken");return d.jsxs(d.Fragment,{children:[d.jsx(qV,{children:d.jsxs(UV,{children:[d.jsx(Gn,{path:"/checkout",element:d.jsx(Soe,{})}),d.jsx(Gn,{path:"/payment-status/:status",element:d.jsx(woe,{})}),d.jsx(Gn,{path:"/login",element:e?d.jsx(gT,{to:"/dashboard",replace:!0}):d.jsx(JH,{})}),d.jsxs(Gn,{path:"/dashboard",element:d.jsx(fae,{children:d.jsx(_K,{})}),children:[d.jsx(Gn,{index:!0,element:d.jsx("div",{className:"page-transition",children:d.jsx(fZ,{})})}),d.jsx(Gn,{path:"users",element:d.jsx(sX,{})}),d.jsx(Gn,{path:"userDetails/:id",element:d.jsx(nae,{})}),d.jsx(Gn,{path:"quiz",element:d.jsx(sZ,{})}),d.jsx(Gn,{path:"payments",element:d.jsx(lZ,{})}),d.jsx(Gn,{path:"transaction",element:d.jsx(aae,{})}),d.jsx(Gn,{path:"activity",element:d.jsx(hoe,{})}),d.jsx(Gn,{path:"standard",element:d.jsx(loe,{})}),d.jsx(Gn,{path:"subject",element:d.jsx(Voe,{})}),d.jsx(Gn,{path:"board",element:d.jsx(coe,{})}),d.jsx(Gn,{path:"lesson",element:d.jsx(xee,{})}),d.jsx(Gn,{path:"course",element:d.jsx(Eee,{})}),d.jsx(Gn,{path:"mentor",element:d.jsx(Poe,{})}),d.jsx(Gn,{path:"offer",element:d.jsx(Boe,{})}),d.jsx(Gn,{path:"live/:liveId",element:d.jsx(lae,{})}),d.jsx(Gn,{path:"upcomingLive",element:d.jsx(dae,{})})]}),d.jsx(Gn,{path:"*",element:d.jsx(gT,{to:"/dashboard",replace:!0})})]})}),d.jsx(K6,{})]})},pae=rH({reducer:{auth:EH,activity:foe,standard:KX,subject:JX,board:gee,course:hee,quiz:tZ,lesson:mZ,user:EK,payment:cZ,mentore:Ooe,offer:Ioe,userDetail:Xoe,transaction:oae}}),mae=new z5;TD(document.getElementById("root")).render(d.jsx(H5,{client:mae,children:d.jsx(GH,{store:pae,children:d.jsx(hae,{})})}))});export default gae();
