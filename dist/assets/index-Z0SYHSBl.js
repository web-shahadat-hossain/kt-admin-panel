var d3=Object.defineProperty;var AO=e=>{throw TypeError(e)};var f3=(e,t,n)=>t in e?d3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var h3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var rE=(e,t,n)=>f3(e,typeof t!="symbol"?t+"":t,n),iE=(e,t,n)=>t.has(e)||AO("Cannot "+n);var Ae=(e,t,n)=>(iE(e,t,"read from private field"),n?n.call(e):t.get(e)),Kn=(e,t,n)=>t.has(e)?AO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),bn=(e,t,n,r)=>(iE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ro=(e,t,n)=>(iE(e,t,"access private method"),n);var K0=(e,t,n,r)=>({set _(i){bn(e,t,i,n)},get _(){return Ae(e,t,r)}});var Pce=h3((Ts,Rs)=>{function p3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pj={exports:{}},i_={},Nj={exports:{}},Cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=Symbol.for("react.element"),m3=Symbol.for("react.portal"),g3=Symbol.for("react.fragment"),v3=Symbol.for("react.strict_mode"),y3=Symbol.for("react.profiler"),b3=Symbol.for("react.provider"),x3=Symbol.for("react.context"),S3=Symbol.for("react.forward_ref"),_3=Symbol.for("react.suspense"),w3=Symbol.for("react.memo"),E3=Symbol.for("react.lazy"),DO=Symbol.iterator;function C3(e){return e===null||typeof e!="object"?null:(e=DO&&e[DO]||e["@@iterator"],typeof e=="function"?e:null)}var Ij={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jj=Object.assign,Aj={};function gm(e,t,n){this.props=e,this.context=t,this.refs=Aj,this.updater=n||Ij}gm.prototype.isReactComponent={};gm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dj(){}Dj.prototype=gm.prototype;function z1(e,t,n){this.props=e,this.context=t,this.refs=Aj,this.updater=n||Ij}var V1=z1.prototype=new Dj;V1.constructor=z1;jj(V1,gm.prototype);V1.isPureReactComponent=!0;var MO=Array.isArray,Mj=Object.prototype.hasOwnProperty,W1={current:null},Lj={key:!0,ref:!0,__self:!0,__source:!0};function Fj(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Mj.call(t,r)&&!Lj.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yy,type:e,key:o,ref:s,props:i,_owner:W1.current}}function T3(e,t){return{$$typeof:yy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H1(e){return typeof e=="object"&&e!==null&&e.$$typeof===yy}function R3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LO=/\/+/g;function oE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R3(""+e.key):t.toString(36)}function Cb(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yy:case m3:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+oE(s,0):r,MO(i)?(n="",e!=null&&(n=e.replace(LO,"$&/")+"/"),Cb(i,t,n,"",function(l){return l})):i!=null&&(H1(i)&&(i=T3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(LO,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",MO(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+oE(o,a);s+=Cb(o,t,n,c,i)}else if(c=C3(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+oE(o,a++),s+=Cb(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Y0(e,t,n){if(e==null)return e;var r=[],i=0;return Cb(e,r,"","",function(o){return t.call(n,o,i++)}),r}function k3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Do={current:null},Tb={transition:null},O3={ReactCurrentDispatcher:Do,ReactCurrentBatchConfig:Tb,ReactCurrentOwner:W1};function Uj(){throw Error("act(...) is not supported in production builds of React.")}Cn.Children={map:Y0,forEach:function(e,t,n){Y0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Y0(e,function(){t++}),t},toArray:function(e){return Y0(e,function(t){return t})||[]},only:function(e){if(!H1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Cn.Component=gm;Cn.Fragment=g3;Cn.Profiler=y3;Cn.PureComponent=z1;Cn.StrictMode=v3;Cn.Suspense=_3;Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O3;Cn.act=Uj;Cn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jj({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=W1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Mj.call(t,c)&&!Lj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:yy,type:e.type,key:i,ref:o,props:r,_owner:s}};Cn.createContext=function(e){return e={$$typeof:x3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b3,_context:e},e.Consumer=e};Cn.createElement=Fj;Cn.createFactory=function(e){var t=Fj.bind(null,e);return t.type=e,t};Cn.createRef=function(){return{current:null}};Cn.forwardRef=function(e){return{$$typeof:S3,render:e}};Cn.isValidElement=H1;Cn.lazy=function(e){return{$$typeof:E3,_payload:{_status:-1,_result:e},_init:k3}};Cn.memo=function(e,t){return{$$typeof:w3,type:e,compare:t===void 0?null:t}};Cn.startTransition=function(e){var t=Tb.transition;Tb.transition={};try{e()}finally{Tb.transition=t}};Cn.unstable_act=Uj;Cn.useCallback=function(e,t){return Do.current.useCallback(e,t)};Cn.useContext=function(e){return Do.current.useContext(e)};Cn.useDebugValue=function(){};Cn.useDeferredValue=function(e){return Do.current.useDeferredValue(e)};Cn.useEffect=function(e,t){return Do.current.useEffect(e,t)};Cn.useId=function(){return Do.current.useId()};Cn.useImperativeHandle=function(e,t,n){return Do.current.useImperativeHandle(e,t,n)};Cn.useInsertionEffect=function(e,t){return Do.current.useInsertionEffect(e,t)};Cn.useLayoutEffect=function(e,t){return Do.current.useLayoutEffect(e,t)};Cn.useMemo=function(e,t){return Do.current.useMemo(e,t)};Cn.useReducer=function(e,t,n){return Do.current.useReducer(e,t,n)};Cn.useRef=function(e){return Do.current.useRef(e)};Cn.useState=function(e){return Do.current.useState(e)};Cn.useSyncExternalStore=function(e,t,n){return Do.current.useSyncExternalStore(e,t,n)};Cn.useTransition=function(){return Do.current.useTransition()};Cn.version="18.3.1";Nj.exports=Cn;var P=Nj.exports;const ht=rh(P),Bj=p3({__proto__:null,default:ht},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P3=P,N3=Symbol.for("react.element"),I3=Symbol.for("react.fragment"),j3=Object.prototype.hasOwnProperty,A3=P3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D3={key:!0,ref:!0,__self:!0,__source:!0};function $j(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)j3.call(t,r)&&!D3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:N3,type:e,key:o,ref:s,props:i,_owner:A3.current}}i_.Fragment=I3;i_.jsx=$j;i_.jsxs=$j;Pj.exports=i_;var u=Pj.exports,zj={exports:{}},Ds={},Vj={exports:{}},Wj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,Q){var ne=Y.length;Y.push(Q);e:for(;0<ne;){var fe=ne-1>>>1,Te=Y[fe];if(0<i(Te,Q))Y[fe]=Q,Y[ne]=Te,ne=fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],ne=Y.pop();if(ne!==Q){Y[0]=ne;e:for(var fe=0,Te=Y.length,Ge=Te>>>1;fe<Ge;){var Fe=2*(fe+1)-1,bt=Y[Fe],Gt=Fe+1,Ye=Y[Gt];if(0>i(bt,ne))Gt<Te&&0>i(Ye,bt)?(Y[fe]=Ye,Y[Gt]=ne,fe=Gt):(Y[fe]=bt,Y[Fe]=ne,fe=Fe);else if(Gt<Te&&0>i(Ye,ne))Y[fe]=Ye,Y[Gt]=ne,fe=Gt;else break e}}return Q}function i(Y,Q){var ne=Y.sortIndex-Q.sortIndex;return ne!==0?ne:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],l=[],f=1,p=null,m=3,E=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var Q=n(l);Q!==null;){if(Q.callback===null)r(l);else if(Q.startTime<=Y)r(l),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(l)}}function I(Y){if(y=!1,C(Y),!x)if(n(c)!==null)x=!0,Se(A);else{var Q=n(l);Q!==null&&ve(I,Q.startTime-Y)}}function A(Y,Q){x=!1,y&&(y=!1,R(V),V=-1),E=!0;var ne=m;try{for(C(Q),p=n(c);p!==null&&(!(p.expirationTime>Q)||Y&&!J());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,m=p.priorityLevel;var Te=fe(p.expirationTime<=Q);Q=e.unstable_now(),typeof Te=="function"?p.callback=Te:p===n(c)&&r(c),C(Q)}else r(c);p=n(c)}if(p!==null)var Ge=!0;else{var Fe=n(l);Fe!==null&&ve(I,Fe.startTime-Q),Ge=!1}return Ge}finally{p=null,m=ne,E=!1}}var U=!1,$=null,V=-1,q=5,X=-1;function J(){return!(e.unstable_now()-X<q)}function G(){if($!==null){var Y=e.unstable_now();X=Y;var Q=!0;try{Q=$(!0,Y)}finally{Q?ee():(U=!1,$=null)}}else U=!1}var ee;if(typeof _=="function")ee=function(){_(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,xe=ce.port2;ce.port1.onmessage=G,ee=function(){xe.postMessage(null)}}else ee=function(){w(G,0)};function Se(Y){$=Y,U||(U=!0,ee())}function ve(Y,Q){V=w(function(){Y(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||E||(x=!0,Se(A))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var ne=m;m=Q;try{return Y()}finally{m=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=m;m=Y;try{return Q()}finally{m=ne}},e.unstable_scheduleCallback=function(Y,Q,ne){var fe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,Y){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,Y={id:f++,callback:Q,priorityLevel:Y,startTime:ne,expirationTime:Te,sortIndex:-1},ne>fe?(Y.sortIndex=ne,t(l,Y),n(c)===null&&Y===n(l)&&(y?(R(V),V=-1):y=!0,ve(I,ne-fe))):(Y.sortIndex=Te,t(c,Y),x||E||(x=!0,Se(A))),Y},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(Y){var Q=m;return function(){var ne=m;m=Q;try{return Y.apply(this,arguments)}finally{m=ne}}}})(Wj);Vj.exports=Wj;var M3=Vj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3=P,Ns=M3;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hj=new Set,jv={};function ih(e,t){Qp(e,t),Qp(e+"Capture",t)}function Qp(e,t){for(jv[e]=t,e=0;e<t.length;e++)Hj.add(t[e])}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MC=Object.prototype.hasOwnProperty,F3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FO={},UO={};function U3(e){return MC.call(UO,e)?!0:MC.call(FO,e)?!1:F3.test(e)?UO[e]=!0:(FO[e]=!0,!1)}function B3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $3(e,t,n,r){if(t===null||typeof t>"u"||B3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mo(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ki[e]=new Mo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ki[t]=new Mo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ki[e]=new Mo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ki[e]=new Mo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ki[e]=new Mo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ki[e]=new Mo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ki[e]=new Mo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ki[e]=new Mo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ki[e]=new Mo(e,5,!1,e.toLowerCase(),null,!1,!1)});var G1=/[\-:]([a-z])/g;function q1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G1,q1);Ki[t]=new Mo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G1,q1);Ki[t]=new Mo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G1,q1);Ki[t]=new Mo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ki[e]=new Mo(e,1,!1,e.toLowerCase(),null,!1,!1)});Ki.xlinkHref=new Mo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ki[e]=new Mo(e,1,!1,e.toLowerCase(),null,!0,!0)});function K1(e,t,n,r){var i=Ki.hasOwnProperty(t)?Ki[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($3(t,n,i,r)&&(n=null),r||i===null?U3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tl=L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q0=Symbol.for("react.element"),mp=Symbol.for("react.portal"),gp=Symbol.for("react.fragment"),Y1=Symbol.for("react.strict_mode"),LC=Symbol.for("react.profiler"),Gj=Symbol.for("react.provider"),qj=Symbol.for("react.context"),Q1=Symbol.for("react.forward_ref"),FC=Symbol.for("react.suspense"),UC=Symbol.for("react.suspense_list"),X1=Symbol.for("react.memo"),yu=Symbol.for("react.lazy"),Kj=Symbol.for("react.offscreen"),BO=Symbol.iterator;function $g(e){return e===null||typeof e!="object"?null:(e=BO&&e[BO]||e["@@iterator"],typeof e=="function"?e:null)}var Wr=Object.assign,sE;function rv(e){if(sE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sE=t&&t[1]||""}return`
`+sE+e}var aE=!1;function cE(e,t){if(!e||aE)return"";aE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{aE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rv(e):""}function z3(e){switch(e.tag){case 5:return rv(e.type);case 16:return rv("Lazy");case 13:return rv("Suspense");case 19:return rv("SuspenseList");case 0:case 2:case 15:return e=cE(e.type,!1),e;case 11:return e=cE(e.type.render,!1),e;case 1:return e=cE(e.type,!0),e;default:return""}}function BC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gp:return"Fragment";case mp:return"Portal";case LC:return"Profiler";case Y1:return"StrictMode";case FC:return"Suspense";case UC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qj:return(e.displayName||"Context")+".Consumer";case Gj:return(e._context.displayName||"Context")+".Provider";case Q1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X1:return t=e.displayName||null,t!==null?t:BC(e.type)||"Memo";case yu:t=e._payload,e=e._init;try{return BC(e(t))}catch{}}return null}function V3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return BC(t);case 8:return t===Y1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ju(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W3(e){var t=Yj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function X0(e){e._valueTracker||(e._valueTracker=W3(e))}function Qj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ux(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $C(e,t){var n=t.checked;return Wr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $O(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ju(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xj(e,t){t=t.checked,t!=null&&K1(e,"checked",t,!1)}function zC(e,t){Xj(e,t);var n=Ju(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?VC(e,t.type,n):t.hasOwnProperty("defaultValue")&&VC(e,t.type,Ju(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function VC(e,t,n){(t!=="number"||Ux(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var iv=Array.isArray;function kp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ju(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function WC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Wr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(iv(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ju(n)}}function Jj(e,t){var n=Ju(t.value),r=Ju(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var J0,eA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(J0=J0||document.createElement("div"),J0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=J0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Av(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H3=["Webkit","ms","Moz","O"];Object.keys(pv).forEach(function(e){H3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pv[t]=pv[e]})});function tA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pv.hasOwnProperty(e)&&pv[e]?(""+t).trim():t+"px"}function nA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var G3=Wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GC(e,t){if(t){if(G3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function qC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KC=null;function J1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var YC=null,Op=null,Pp=null;function HO(e){if(e=Sy(e)){if(typeof YC!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=l_(t),YC(e.stateNode,e.type,t))}}function rA(e){Op?Pp?Pp.push(e):Pp=[e]:Op=e}function iA(){if(Op){var e=Op,t=Pp;if(Pp=Op=null,HO(e),t)for(e=0;e<t.length;e++)HO(t[e])}}function oA(e,t){return e(t)}function sA(){}var lE=!1;function aA(e,t,n){if(lE)return e(t,n);lE=!0;try{return oA(e,t,n)}finally{lE=!1,(Op!==null||Pp!==null)&&(sA(),iA())}}function Dv(e,t){var n=e.stateNode;if(n===null)return null;var r=l_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var QC=!1;if(ml)try{var zg={};Object.defineProperty(zg,"passive",{get:function(){QC=!0}}),window.addEventListener("test",zg,zg),window.removeEventListener("test",zg,zg)}catch{QC=!1}function q3(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(f){this.onError(f)}}var mv=!1,Bx=null,$x=!1,XC=null,K3={onError:function(e){mv=!0,Bx=e}};function Y3(e,t,n,r,i,o,s,a,c){mv=!1,Bx=null,q3.apply(K3,arguments)}function Q3(e,t,n,r,i,o,s,a,c){if(Y3.apply(this,arguments),mv){if(mv){var l=Bx;mv=!1,Bx=null}else throw Error(Ue(198));$x||($x=!0,XC=l)}}function oh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function GO(e){if(oh(e)!==e)throw Error(Ue(188))}function X3(e){var t=e.alternate;if(!t){if(t=oh(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return GO(i),e;if(o===r)return GO(i),t;o=o.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function lA(e){return e=X3(e),e!==null?uA(e):null}function uA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uA(e);if(t!==null)return t;e=e.sibling}return null}var dA=Ns.unstable_scheduleCallback,qO=Ns.unstable_cancelCallback,J3=Ns.unstable_shouldYield,Z3=Ns.unstable_requestPaint,ii=Ns.unstable_now,e$=Ns.unstable_getCurrentPriorityLevel,Z1=Ns.unstable_ImmediatePriority,fA=Ns.unstable_UserBlockingPriority,zx=Ns.unstable_NormalPriority,t$=Ns.unstable_LowPriority,hA=Ns.unstable_IdlePriority,o_=null,gc=null;function n$(e){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(o_,e,void 0,(e.current.flags&128)===128)}catch{}}var Ia=Math.clz32?Math.clz32:o$,r$=Math.log,i$=Math.LN2;function o$(e){return e>>>=0,e===0?32:31-(r$(e)/i$|0)|0}var Z0=64,eb=4194304;function ov(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vx(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ov(a):(o&=s,o!==0&&(r=ov(o)))}else s=n&~i,s!==0?r=ov(s):o!==0&&(r=ov(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ia(t),i=1<<n,r|=e[n],t&=~i;return r}function s$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ia(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=s$(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function JC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pA(){var e=Z0;return Z0<<=1,!(Z0&4194240)&&(Z0=64),e}function uE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function by(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ia(t),e[t]=n}function c$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ia(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function eR(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ia(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var rr=0;function mA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gA,tR,vA,yA,bA,ZC=!1,tb=[],Mu=null,Lu=null,Fu=null,Mv=new Map,Lv=new Map,Su=[],l$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KO(e,t){switch(e){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Lu=null;break;case"mouseover":case"mouseout":Fu=null;break;case"pointerover":case"pointerout":Mv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lv.delete(t.pointerId)}}function Vg(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Sy(t),t!==null&&tR(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function u$(e,t,n,r,i){switch(t){case"focusin":return Mu=Vg(Mu,e,t,n,r,i),!0;case"dragenter":return Lu=Vg(Lu,e,t,n,r,i),!0;case"mouseover":return Fu=Vg(Fu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mv.set(o,Vg(Mv.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lv.set(o,Vg(Lv.get(o)||null,e,t,n,r,i)),!0}return!1}function xA(e){var t=xf(e.target);if(t!==null){var n=oh(t);if(n!==null){if(t=n.tag,t===13){if(t=cA(n),t!==null){e.blockedOn=t,bA(e.priority,function(){vA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);KC=r,n.target.dispatchEvent(r),KC=null}else return t=Sy(n),t!==null&&tR(t),e.blockedOn=n,!1;t.shift()}return!0}function YO(e,t,n){Rb(e)&&n.delete(t)}function d$(){ZC=!1,Mu!==null&&Rb(Mu)&&(Mu=null),Lu!==null&&Rb(Lu)&&(Lu=null),Fu!==null&&Rb(Fu)&&(Fu=null),Mv.forEach(YO),Lv.forEach(YO)}function Wg(e,t){e.blockedOn===t&&(e.blockedOn=null,ZC||(ZC=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,d$)))}function Fv(e){function t(i){return Wg(i,e)}if(0<tb.length){Wg(tb[0],e);for(var n=1;n<tb.length;n++){var r=tb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mu!==null&&Wg(Mu,e),Lu!==null&&Wg(Lu,e),Fu!==null&&Wg(Fu,e),Mv.forEach(t),Lv.forEach(t),n=0;n<Su.length;n++)r=Su[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Su.length&&(n=Su[0],n.blockedOn===null);)xA(n),n.blockedOn===null&&Su.shift()}var Np=Tl.ReactCurrentBatchConfig,Wx=!0;function f$(e,t,n,r){var i=rr,o=Np.transition;Np.transition=null;try{rr=1,nR(e,t,n,r)}finally{rr=i,Np.transition=o}}function h$(e,t,n,r){var i=rr,o=Np.transition;Np.transition=null;try{rr=4,nR(e,t,n,r)}finally{rr=i,Np.transition=o}}function nR(e,t,n,r){if(Wx){var i=eT(e,t,n,r);if(i===null)xE(e,t,r,Hx,n),KO(e,r);else if(u$(i,e,t,n,r))r.stopPropagation();else if(KO(e,r),t&4&&-1<l$.indexOf(e)){for(;i!==null;){var o=Sy(i);if(o!==null&&gA(o),o=eT(e,t,n,r),o===null&&xE(e,t,r,Hx,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else xE(e,t,r,null,n)}}var Hx=null;function eT(e,t,n,r){if(Hx=null,e=J1(r),e=xf(e),e!==null)if(t=oh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hx=e,null}function SA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e$()){case Z1:return 1;case fA:return 4;case zx:case t$:return 16;case hA:return 536870912;default:return 16}default:return 16}}var Pu=null,rR=null,kb=null;function _A(){if(kb)return kb;var e,t=rR,n=t.length,r,i="value"in Pu?Pu.value:Pu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return kb=i.slice(e,1<r?1-r:void 0)}function Ob(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nb(){return!0}function QO(){return!1}function Ms(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nb:QO,this.isPropagationStopped=QO,this}return Wr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nb)},persist:function(){},isPersistent:nb}),t}var vm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iR=Ms(vm),xy=Wr({},vm,{view:0,detail:0}),p$=Ms(xy),dE,fE,Hg,s_=Wr({},xy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hg&&(Hg&&e.type==="mousemove"?(dE=e.screenX-Hg.screenX,fE=e.screenY-Hg.screenY):fE=dE=0,Hg=e),dE)},movementY:function(e){return"movementY"in e?e.movementY:fE}}),XO=Ms(s_),m$=Wr({},s_,{dataTransfer:0}),g$=Ms(m$),v$=Wr({},xy,{relatedTarget:0}),hE=Ms(v$),y$=Wr({},vm,{animationName:0,elapsedTime:0,pseudoElement:0}),b$=Ms(y$),x$=Wr({},vm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S$=Ms(x$),_$=Wr({},vm,{data:0}),JO=Ms(_$),w$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C$[e])?!!t[e]:!1}function oR(){return T$}var R$=Wr({},xy,{key:function(e){if(e.key){var t=w$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ob(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oR,charCode:function(e){return e.type==="keypress"?Ob(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ob(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k$=Ms(R$),O$=Wr({},s_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZO=Ms(O$),P$=Wr({},xy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oR}),N$=Ms(P$),I$=Wr({},vm,{propertyName:0,elapsedTime:0,pseudoElement:0}),j$=Ms(I$),A$=Wr({},s_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D$=Ms(A$),M$=[9,13,27,32],sR=ml&&"CompositionEvent"in window,gv=null;ml&&"documentMode"in document&&(gv=document.documentMode);var L$=ml&&"TextEvent"in window&&!gv,wA=ml&&(!sR||gv&&8<gv&&11>=gv),eP=" ",tP=!1;function EA(e,t){switch(e){case"keyup":return M$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vp=!1;function F$(e,t){switch(e){case"compositionend":return CA(t);case"keypress":return t.which!==32?null:(tP=!0,eP);case"textInput":return e=t.data,e===eP&&tP?null:e;default:return null}}function U$(e,t){if(vp)return e==="compositionend"||!sR&&EA(e,t)?(e=_A(),kb=rR=Pu=null,vp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wA&&t.locale!=="ko"?null:t.data;default:return null}}var B$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B$[e.type]:t==="textarea"}function TA(e,t,n,r){rA(r),t=Gx(t,"onChange"),0<t.length&&(n=new iR("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vv=null,Uv=null;function $$(e){LA(e,0)}function a_(e){var t=xp(e);if(Qj(t))return e}function z$(e,t){if(e==="change")return t}var RA=!1;if(ml){var pE;if(ml){var mE="oninput"in document;if(!mE){var rP=document.createElement("div");rP.setAttribute("oninput","return;"),mE=typeof rP.oninput=="function"}pE=mE}else pE=!1;RA=pE&&(!document.documentMode||9<document.documentMode)}function iP(){vv&&(vv.detachEvent("onpropertychange",kA),Uv=vv=null)}function kA(e){if(e.propertyName==="value"&&a_(Uv)){var t=[];TA(t,Uv,e,J1(e)),aA($$,t)}}function V$(e,t,n){e==="focusin"?(iP(),vv=t,Uv=n,vv.attachEvent("onpropertychange",kA)):e==="focusout"&&iP()}function W$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return a_(Uv)}function H$(e,t){if(e==="click")return a_(t)}function G$(e,t){if(e==="input"||e==="change")return a_(t)}function q$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Aa=typeof Object.is=="function"?Object.is:q$;function Bv(e,t){if(Aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!MC.call(t,i)||!Aa(e[i],t[i]))return!1}return!0}function oP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sP(e,t){var n=oP(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oP(n)}}function OA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PA(){for(var e=window,t=Ux();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ux(e.document)}return t}function aR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K$(e){var t=PA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&OA(n.ownerDocument.documentElement,n)){if(r!==null&&aR(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sP(n,o);var s=sP(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y$=ml&&"documentMode"in document&&11>=document.documentMode,yp=null,tT=null,yv=null,nT=!1;function aP(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nT||yp==null||yp!==Ux(r)||(r=yp,"selectionStart"in r&&aR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yv&&Bv(yv,r)||(yv=r,r=Gx(tT,"onSelect"),0<r.length&&(t=new iR("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yp)))}function rb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bp={animationend:rb("Animation","AnimationEnd"),animationiteration:rb("Animation","AnimationIteration"),animationstart:rb("Animation","AnimationStart"),transitionend:rb("Transition","TransitionEnd")},gE={},NA={};ml&&(NA=document.createElement("div").style,"AnimationEvent"in window||(delete bp.animationend.animation,delete bp.animationiteration.animation,delete bp.animationstart.animation),"TransitionEvent"in window||delete bp.transitionend.transition);function c_(e){if(gE[e])return gE[e];if(!bp[e])return e;var t=bp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NA)return gE[e]=t[n];return e}var IA=c_("animationend"),jA=c_("animationiteration"),AA=c_("animationstart"),DA=c_("transitionend"),MA=new Map,cP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ld(e,t){MA.set(e,t),ih(t,[e])}for(var vE=0;vE<cP.length;vE++){var yE=cP[vE],Q$=yE.toLowerCase(),X$=yE[0].toUpperCase()+yE.slice(1);ld(Q$,"on"+X$)}ld(IA,"onAnimationEnd");ld(jA,"onAnimationIteration");ld(AA,"onAnimationStart");ld("dblclick","onDoubleClick");ld("focusin","onFocus");ld("focusout","onBlur");ld(DA,"onTransitionEnd");Qp("onMouseEnter",["mouseout","mouseover"]);Qp("onMouseLeave",["mouseout","mouseover"]);Qp("onPointerEnter",["pointerout","pointerover"]);Qp("onPointerLeave",["pointerout","pointerover"]);ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J$=new Set("cancel close invalid load scroll toggle".split(" ").concat(sv));function lP(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q3(r,t,void 0,e),e.currentTarget=null}function LA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;lP(i,a,l),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;lP(i,a,l),o=c}}}if($x)throw e=XC,$x=!1,XC=null,e}function Tr(e,t){var n=t[aT];n===void 0&&(n=t[aT]=new Set);var r=e+"__bubble";n.has(r)||(FA(t,e,2,!1),n.add(r))}function bE(e,t,n){var r=0;t&&(r|=4),FA(n,e,r,t)}var ib="_reactListening"+Math.random().toString(36).slice(2);function $v(e){if(!e[ib]){e[ib]=!0,Hj.forEach(function(n){n!=="selectionchange"&&(J$.has(n)||bE(n,!1,e),bE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ib]||(t[ib]=!0,bE("selectionchange",!1,t))}}function FA(e,t,n,r){switch(SA(t)){case 1:var i=f$;break;case 4:i=h$;break;default:i=nR}n=i.bind(null,t,n,e),i=void 0,!QC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xE(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=xf(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}aA(function(){var l=o,f=J1(n),p=[];e:{var m=MA.get(e);if(m!==void 0){var E=iR,x=e;switch(e){case"keypress":if(Ob(n)===0)break e;case"keydown":case"keyup":E=k$;break;case"focusin":x="focus",E=hE;break;case"focusout":x="blur",E=hE;break;case"beforeblur":case"afterblur":E=hE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=XO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=g$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=N$;break;case IA:case jA:case AA:E=b$;break;case DA:E=j$;break;case"scroll":E=p$;break;case"wheel":E=D$;break;case"copy":case"cut":case"paste":E=S$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=ZO}var y=(t&4)!==0,w=!y&&e==="scroll",R=y?m!==null?m+"Capture":null:m;y=[];for(var _=l,C;_!==null;){C=_;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,R!==null&&(I=Dv(_,R),I!=null&&y.push(zv(_,I,C)))),w)break;_=_.return}0<y.length&&(m=new E(m,x,null,n,f),p.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",m&&n!==KC&&(x=n.relatedTarget||n.fromElement)&&(xf(x)||x[gl]))break e;if((E||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,E?(x=n.relatedTarget||n.toElement,E=l,x=x?xf(x):null,x!==null&&(w=oh(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(E=null,x=l),E!==x)){if(y=XO,I="onMouseLeave",R="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(y=ZO,I="onPointerLeave",R="onPointerEnter",_="pointer"),w=E==null?m:xp(E),C=x==null?m:xp(x),m=new y(I,_+"leave",E,n,f),m.target=w,m.relatedTarget=C,I=null,xf(f)===l&&(y=new y(R,_+"enter",x,n,f),y.target=C,y.relatedTarget=w,I=y),w=I,E&&x)t:{for(y=E,R=x,_=0,C=y;C;C=ap(C))_++;for(C=0,I=R;I;I=ap(I))C++;for(;0<_-C;)y=ap(y),_--;for(;0<C-_;)R=ap(R),C--;for(;_--;){if(y===R||R!==null&&y===R.alternate)break t;y=ap(y),R=ap(R)}y=null}else y=null;E!==null&&uP(p,m,E,y,!1),x!==null&&w!==null&&uP(p,w,x,y,!0)}}e:{if(m=l?xp(l):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var A=z$;else if(nP(m))if(RA)A=G$;else{A=W$;var U=V$}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=H$);if(A&&(A=A(e,l))){TA(p,A,n,f);break e}U&&U(e,m,l),e==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&VC(m,"number",m.value)}switch(U=l?xp(l):window,e){case"focusin":(nP(U)||U.contentEditable==="true")&&(yp=U,tT=l,yv=null);break;case"focusout":yv=tT=yp=null;break;case"mousedown":nT=!0;break;case"contextmenu":case"mouseup":case"dragend":nT=!1,aP(p,n,f);break;case"selectionchange":if(Y$)break;case"keydown":case"keyup":aP(p,n,f)}var $;if(sR)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else vp?EA(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(wA&&n.locale!=="ko"&&(vp||V!=="onCompositionStart"?V==="onCompositionEnd"&&vp&&($=_A()):(Pu=f,rR="value"in Pu?Pu.value:Pu.textContent,vp=!0)),U=Gx(l,V),0<U.length&&(V=new JO(V,e,null,n,f),p.push({event:V,listeners:U}),$?V.data=$:($=CA(n),$!==null&&(V.data=$)))),($=L$?F$(e,n):U$(e,n))&&(l=Gx(l,"onBeforeInput"),0<l.length&&(f=new JO("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:l}),f.data=$))}LA(p,t)})}function zv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gx(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Dv(e,n),o!=null&&r.unshift(zv(e,o,i)),o=Dv(e,t),o!=null&&r.push(zv(e,o,i))),e=e.return}return r}function ap(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uP(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Dv(n,o),c!=null&&s.unshift(zv(n,c,a))):i||(c=Dv(n,o),c!=null&&s.push(zv(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Z$=/\r\n?/g,e5=/\u0000|\uFFFD/g;function dP(e){return(typeof e=="string"?e:""+e).replace(Z$,`
`).replace(e5,"")}function ob(e,t,n){if(t=dP(t),dP(e)!==t&&n)throw Error(Ue(425))}function qx(){}var rT=null,iT=null;function oT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sT=typeof setTimeout=="function"?setTimeout:void 0,t5=typeof clearTimeout=="function"?clearTimeout:void 0,fP=typeof Promise=="function"?Promise:void 0,n5=typeof queueMicrotask=="function"?queueMicrotask:typeof fP<"u"?function(e){return fP.resolve(null).then(e).catch(r5)}:sT;function r5(e){setTimeout(function(){throw e})}function SE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fv(t)}function Uu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ym=Math.random().toString(36).slice(2),fc="__reactFiber$"+ym,Vv="__reactProps$"+ym,gl="__reactContainer$"+ym,aT="__reactEvents$"+ym,i5="__reactListeners$"+ym,o5="__reactHandles$"+ym;function xf(e){var t=e[fc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gl]||n[fc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hP(e);e!==null;){if(n=e[fc])return n;e=hP(e)}return t}e=n,n=e.parentNode}return null}function Sy(e){return e=e[fc]||e[gl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function l_(e){return e[Vv]||null}var cT=[],Sp=-1;function ud(e){return{current:e}}function kr(e){0>Sp||(e.current=cT[Sp],cT[Sp]=null,Sp--)}function xr(e,t){Sp++,cT[Sp]=e.current,e.current=t}var Zu={},lo=ud(Zu),Jo=ud(!1),$f=Zu;function Xp(e,t){var n=e.type.contextTypes;if(!n)return Zu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zo(e){return e=e.childContextTypes,e!=null}function Kx(){kr(Jo),kr(lo)}function pP(e,t,n){if(lo.current!==Zu)throw Error(Ue(168));xr(lo,t),xr(Jo,n)}function UA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ue(108,V3(e)||"Unknown",i));return Wr({},n,r)}function Yx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zu,$f=lo.current,xr(lo,e),xr(Jo,Jo.current),!0}function mP(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=UA(e,t,$f),r.__reactInternalMemoizedMergedChildContext=e,kr(Jo),kr(lo),xr(lo,e)):kr(Jo),xr(Jo,n)}var rl=null,u_=!1,_E=!1;function BA(e){rl===null?rl=[e]:rl.push(e)}function s5(e){u_=!0,BA(e)}function dd(){if(!_E&&rl!==null){_E=!0;var e=0,t=rr;try{var n=rl;for(rr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rl=null,u_=!1}catch(i){throw rl!==null&&(rl=rl.slice(e+1)),dA(Z1,dd),i}finally{rr=t,_E=!1}}return null}var _p=[],wp=0,Qx=null,Xx=0,Js=[],Zs=0,zf=null,ol=1,sl="";function mf(e,t){_p[wp++]=Xx,_p[wp++]=Qx,Qx=e,Xx=t}function $A(e,t,n){Js[Zs++]=ol,Js[Zs++]=sl,Js[Zs++]=zf,zf=e;var r=ol;e=sl;var i=32-Ia(r)-1;r&=~(1<<i),n+=1;var o=32-Ia(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ol=1<<32-Ia(t)+i|n<<i|r,sl=o+e}else ol=1<<o|n<<i|r,sl=e}function cR(e){e.return!==null&&(mf(e,1),$A(e,1,0))}function lR(e){for(;e===Qx;)Qx=_p[--wp],_p[wp]=null,Xx=_p[--wp],_p[wp]=null;for(;e===zf;)zf=Js[--Zs],Js[Zs]=null,sl=Js[--Zs],Js[Zs]=null,ol=Js[--Zs],Js[Zs]=null}var ks=null,Cs=null,Ir=!1,Pa=null;function zA(e,t){var n=ta(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ks=e,Cs=Uu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ks=e,Cs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zf!==null?{id:ol,overflow:sl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ta(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ks=e,Cs=null,!0):!1;default:return!1}}function lT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uT(e){if(Ir){var t=Cs;if(t){var n=t;if(!gP(e,t)){if(lT(e))throw Error(Ue(418));t=Uu(n.nextSibling);var r=ks;t&&gP(e,t)?zA(r,n):(e.flags=e.flags&-4097|2,Ir=!1,ks=e)}}else{if(lT(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Ir=!1,ks=e}}}function vP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ks=e}function sb(e){if(e!==ks)return!1;if(!Ir)return vP(e),Ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oT(e.type,e.memoizedProps)),t&&(t=Cs)){if(lT(e))throw VA(),Error(Ue(418));for(;t;)zA(e,t),t=Uu(t.nextSibling)}if(vP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cs=Uu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cs=null}}else Cs=ks?Uu(e.stateNode.nextSibling):null;return!0}function VA(){for(var e=Cs;e;)e=Uu(e.nextSibling)}function Jp(){Cs=ks=null,Ir=!1}function uR(e){Pa===null?Pa=[e]:Pa.push(e)}var a5=Tl.ReactCurrentBatchConfig;function Gg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function ab(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yP(e){var t=e._init;return t(e._payload)}function WA(e){function t(R,_){if(e){var C=R.deletions;C===null?(R.deletions=[_],R.flags|=16):C.push(_)}}function n(R,_){if(!e)return null;for(;_!==null;)t(R,_),_=_.sibling;return null}function r(R,_){for(R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function i(R,_){return R=Vu(R,_),R.index=0,R.sibling=null,R}function o(R,_,C){return R.index=C,e?(C=R.alternate,C!==null?(C=C.index,C<_?(R.flags|=2,_):C):(R.flags|=2,_)):(R.flags|=1048576,_)}function s(R){return e&&R.alternate===null&&(R.flags|=2),R}function a(R,_,C,I){return _===null||_.tag!==6?(_=OE(C,R.mode,I),_.return=R,_):(_=i(_,C),_.return=R,_)}function c(R,_,C,I){var A=C.type;return A===gp?f(R,_,C.props.children,I,C.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===yu&&yP(A)===_.type)?(I=i(_,C.props),I.ref=Gg(R,_,C),I.return=R,I):(I=Mb(C.type,C.key,C.props,null,R.mode,I),I.ref=Gg(R,_,C),I.return=R,I)}function l(R,_,C,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=PE(C,R.mode,I),_.return=R,_):(_=i(_,C.children||[]),_.return=R,_)}function f(R,_,C,I,A){return _===null||_.tag!==7?(_=Af(C,R.mode,I,A),_.return=R,_):(_=i(_,C),_.return=R,_)}function p(R,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=OE(""+_,R.mode,C),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Q0:return C=Mb(_.type,_.key,_.props,null,R.mode,C),C.ref=Gg(R,null,_),C.return=R,C;case mp:return _=PE(_,R.mode,C),_.return=R,_;case yu:var I=_._init;return p(R,I(_._payload),C)}if(iv(_)||$g(_))return _=Af(_,R.mode,C,null),_.return=R,_;ab(R,_)}return null}function m(R,_,C,I){var A=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return A!==null?null:a(R,_,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Q0:return C.key===A?c(R,_,C,I):null;case mp:return C.key===A?l(R,_,C,I):null;case yu:return A=C._init,m(R,_,A(C._payload),I)}if(iv(C)||$g(C))return A!==null?null:f(R,_,C,I,null);ab(R,C)}return null}function E(R,_,C,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return R=R.get(C)||null,a(_,R,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Q0:return R=R.get(I.key===null?C:I.key)||null,c(_,R,I,A);case mp:return R=R.get(I.key===null?C:I.key)||null,l(_,R,I,A);case yu:var U=I._init;return E(R,_,C,U(I._payload),A)}if(iv(I)||$g(I))return R=R.get(C)||null,f(_,R,I,A,null);ab(_,I)}return null}function x(R,_,C,I){for(var A=null,U=null,$=_,V=_=0,q=null;$!==null&&V<C.length;V++){$.index>V?(q=$,$=null):q=$.sibling;var X=m(R,$,C[V],I);if(X===null){$===null&&($=q);break}e&&$&&X.alternate===null&&t(R,$),_=o(X,_,V),U===null?A=X:U.sibling=X,U=X,$=q}if(V===C.length)return n(R,$),Ir&&mf(R,V),A;if($===null){for(;V<C.length;V++)$=p(R,C[V],I),$!==null&&(_=o($,_,V),U===null?A=$:U.sibling=$,U=$);return Ir&&mf(R,V),A}for($=r(R,$);V<C.length;V++)q=E($,R,V,C[V],I),q!==null&&(e&&q.alternate!==null&&$.delete(q.key===null?V:q.key),_=o(q,_,V),U===null?A=q:U.sibling=q,U=q);return e&&$.forEach(function(J){return t(R,J)}),Ir&&mf(R,V),A}function y(R,_,C,I){var A=$g(C);if(typeof A!="function")throw Error(Ue(150));if(C=A.call(C),C==null)throw Error(Ue(151));for(var U=A=null,$=_,V=_=0,q=null,X=C.next();$!==null&&!X.done;V++,X=C.next()){$.index>V?(q=$,$=null):q=$.sibling;var J=m(R,$,X.value,I);if(J===null){$===null&&($=q);break}e&&$&&J.alternate===null&&t(R,$),_=o(J,_,V),U===null?A=J:U.sibling=J,U=J,$=q}if(X.done)return n(R,$),Ir&&mf(R,V),A;if($===null){for(;!X.done;V++,X=C.next())X=p(R,X.value,I),X!==null&&(_=o(X,_,V),U===null?A=X:U.sibling=X,U=X);return Ir&&mf(R,V),A}for($=r(R,$);!X.done;V++,X=C.next())X=E($,R,V,X.value,I),X!==null&&(e&&X.alternate!==null&&$.delete(X.key===null?V:X.key),_=o(X,_,V),U===null?A=X:U.sibling=X,U=X);return e&&$.forEach(function(G){return t(R,G)}),Ir&&mf(R,V),A}function w(R,_,C,I){if(typeof C=="object"&&C!==null&&C.type===gp&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Q0:e:{for(var A=C.key,U=_;U!==null;){if(U.key===A){if(A=C.type,A===gp){if(U.tag===7){n(R,U.sibling),_=i(U,C.props.children),_.return=R,R=_;break e}}else if(U.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===yu&&yP(A)===U.type){n(R,U.sibling),_=i(U,C.props),_.ref=Gg(R,U,C),_.return=R,R=_;break e}n(R,U);break}else t(R,U);U=U.sibling}C.type===gp?(_=Af(C.props.children,R.mode,I,C.key),_.return=R,R=_):(I=Mb(C.type,C.key,C.props,null,R.mode,I),I.ref=Gg(R,_,C),I.return=R,R=I)}return s(R);case mp:e:{for(U=C.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(R,_.sibling),_=i(_,C.children||[]),_.return=R,R=_;break e}else{n(R,_);break}else t(R,_);_=_.sibling}_=PE(C,R.mode,I),_.return=R,R=_}return s(R);case yu:return U=C._init,w(R,_,U(C._payload),I)}if(iv(C))return x(R,_,C,I);if($g(C))return y(R,_,C,I);ab(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(R,_.sibling),_=i(_,C),_.return=R,R=_):(n(R,_),_=OE(C,R.mode,I),_.return=R,R=_),s(R)):n(R,_)}return w}var Zp=WA(!0),HA=WA(!1),Jx=ud(null),Zx=null,Ep=null,dR=null;function fR(){dR=Ep=Zx=null}function hR(e){var t=Jx.current;kr(Jx),e._currentValue=t}function dT(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ip(e,t){Zx=e,dR=Ep=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ko=!0),e.firstContext=null)}function oa(e){var t=e._currentValue;if(dR!==e)if(e={context:e,memoizedValue:t,next:null},Ep===null){if(Zx===null)throw Error(Ue(308));Ep=e,Zx.dependencies={lanes:0,firstContext:e}}else Ep=Ep.next=e;return t}var Sf=null;function pR(e){Sf===null?Sf=[e]:Sf.push(e)}function GA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,pR(t)):(n.next=i.next,i.next=n),t.interleaved=n,vl(e,r)}function vl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bu=!1;function mR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ll(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ln&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vl(e,n)}return i=r.interleaved,i===null?(t.next=t,pR(r)):(t.next=i.next,i.next=t),r.interleaved=t,vl(e,n)}function Pb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eR(e,n)}}function bP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eS(e,t,n,r){var i=e.updateQueue;bu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?o=l:s.next=l,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,f=l=c=null,a=o;do{var m=a.lane,E=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(m=t,E=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(E,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(E,p,m):x,m==null)break e;p=Wr({},p,m);break e;case 2:bu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else E={eventTime:E,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(l=f=E,c=p):f=f.next=E,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wf|=s,e.lanes=s,e.memoizedState=p}}function xP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var _y={},vc=ud(_y),Wv=ud(_y),Hv=ud(_y);function _f(e){if(e===_y)throw Error(Ue(174));return e}function gR(e,t){switch(xr(Hv,t),xr(Wv,e),xr(vc,_y),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:HC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=HC(t,e)}kr(vc),xr(vc,t)}function em(){kr(vc),kr(Wv),kr(Hv)}function KA(e){_f(Hv.current);var t=_f(vc.current),n=HC(t,e.type);t!==n&&(xr(Wv,e),xr(vc,n))}function vR(e){Wv.current===e&&(kr(vc),kr(Wv))}var $r=ud(0);function tS(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wE=[];function yR(){for(var e=0;e<wE.length;e++)wE[e]._workInProgressVersionPrimary=null;wE.length=0}var Nb=Tl.ReactCurrentDispatcher,EE=Tl.ReactCurrentBatchConfig,Vf=0,Vr=null,vi=null,Ai=null,nS=!1,bv=!1,Gv=0,c5=0;function io(){throw Error(Ue(321))}function bR(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Aa(e[n],t[n]))return!1;return!0}function xR(e,t,n,r,i,o){if(Vf=o,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nb.current=e===null||e.memoizedState===null?f5:h5,e=n(r,i),bv){o=0;do{if(bv=!1,Gv=0,25<=o)throw Error(Ue(301));o+=1,Ai=vi=null,t.updateQueue=null,Nb.current=p5,e=n(r,i)}while(bv)}if(Nb.current=rS,t=vi!==null&&vi.next!==null,Vf=0,Ai=vi=Vr=null,nS=!1,t)throw Error(Ue(300));return e}function SR(){var e=Gv!==0;return Gv=0,e}function ac(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Vr.memoizedState=Ai=e:Ai=Ai.next=e,Ai}function sa(){if(vi===null){var e=Vr.alternate;e=e!==null?e.memoizedState:null}else e=vi.next;var t=Ai===null?Vr.memoizedState:Ai.next;if(t!==null)Ai=t,vi=e;else{if(e===null)throw Error(Ue(310));vi=e,e={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ai===null?Vr.memoizedState=Ai=e:Ai=Ai.next=e}return Ai}function qv(e,t){return typeof t=="function"?t(e):t}function CE(e){var t=sa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=vi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,l=o;do{var f=l.lane;if((Vf&f)===f)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var p={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=p,s=r):c=c.next=p,Vr.lanes|=f,Wf|=f}l=l.next}while(l!==null&&l!==o);c===null?s=r:c.next=a,Aa(r,t.memoizedState)||(Ko=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Vr.lanes|=o,Wf|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function TE(e){var t=sa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Aa(o,t.memoizedState)||(Ko=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function YA(){}function QA(e,t){var n=Vr,r=sa(),i=t(),o=!Aa(r.memoizedState,i);if(o&&(r.memoizedState=i,Ko=!0),r=r.queue,_R(ZA.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ai!==null&&Ai.memoizedState.tag&1){if(n.flags|=2048,Kv(9,JA.bind(null,n,r,i,t),void 0,null),Di===null)throw Error(Ue(349));Vf&30||XA(n,t,i)}return i}function XA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function JA(e,t,n,r){t.value=n,t.getSnapshot=r,eD(t)&&tD(e)}function ZA(e,t,n){return n(function(){eD(t)&&tD(e)})}function eD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Aa(e,n)}catch{return!0}}function tD(e){var t=vl(e,1);t!==null&&ja(t,e,1,-1)}function SP(e){var t=ac();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qv,lastRenderedState:e},t.queue=e,e=e.dispatch=d5.bind(null,Vr,e),[t.memoizedState,e]}function Kv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nD(){return sa().memoizedState}function Ib(e,t,n,r){var i=ac();Vr.flags|=e,i.memoizedState=Kv(1|t,n,void 0,r===void 0?null:r)}function d_(e,t,n,r){var i=sa();r=r===void 0?null:r;var o=void 0;if(vi!==null){var s=vi.memoizedState;if(o=s.destroy,r!==null&&bR(r,s.deps)){i.memoizedState=Kv(t,n,o,r);return}}Vr.flags|=e,i.memoizedState=Kv(1|t,n,o,r)}function _P(e,t){return Ib(8390656,8,e,t)}function _R(e,t){return d_(2048,8,e,t)}function rD(e,t){return d_(4,2,e,t)}function iD(e,t){return d_(4,4,e,t)}function oD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sD(e,t,n){return n=n!=null?n.concat([e]):null,d_(4,4,oD.bind(null,t,e),n)}function wR(){}function aD(e,t){var n=sa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bR(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cD(e,t){var n=sa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bR(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lD(e,t,n){return Vf&21?(Aa(n,t)||(n=pA(),Vr.lanes|=n,Wf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ko=!0),e.memoizedState=n)}function l5(e,t){var n=rr;rr=n!==0&&4>n?n:4,e(!0);var r=EE.transition;EE.transition={};try{e(!1),t()}finally{rr=n,EE.transition=r}}function uD(){return sa().memoizedState}function u5(e,t,n){var r=zu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dD(e))fD(t,n);else if(n=GA(e,t,n,r),n!==null){var i=jo();ja(n,e,r,i),hD(n,t,r)}}function d5(e,t,n){var r=zu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dD(e))fD(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Aa(a,s)){var c=t.interleaved;c===null?(i.next=i,pR(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=GA(e,t,i,r),n!==null&&(i=jo(),ja(n,e,r,i),hD(n,t,r))}}function dD(e){var t=e.alternate;return e===Vr||t!==null&&t===Vr}function fD(e,t){bv=nS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eR(e,n)}}var rS={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},f5={readContext:oa,useCallback:function(e,t){return ac().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:_P,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ib(4194308,4,oD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ib(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ib(4,2,e,t)},useMemo:function(e,t){var n=ac();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ac();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u5.bind(null,Vr,e),[r.memoizedState,e]},useRef:function(e){var t=ac();return e={current:e},t.memoizedState=e},useState:SP,useDebugValue:wR,useDeferredValue:function(e){return ac().memoizedState=e},useTransition:function(){var e=SP(!1),t=e[0];return e=l5.bind(null,e[1]),ac().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vr,i=ac();if(Ir){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Di===null)throw Error(Ue(349));Vf&30||XA(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,_P(ZA.bind(null,r,o,e),[e]),r.flags|=2048,Kv(9,JA.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ac(),t=Di.identifierPrefix;if(Ir){var n=sl,r=ol;n=(r&~(1<<32-Ia(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h5={readContext:oa,useCallback:aD,useContext:oa,useEffect:_R,useImperativeHandle:sD,useInsertionEffect:rD,useLayoutEffect:iD,useMemo:cD,useReducer:CE,useRef:nD,useState:function(){return CE(qv)},useDebugValue:wR,useDeferredValue:function(e){var t=sa();return lD(t,vi.memoizedState,e)},useTransition:function(){var e=CE(qv)[0],t=sa().memoizedState;return[e,t]},useMutableSource:YA,useSyncExternalStore:QA,useId:uD,unstable_isNewReconciler:!1},p5={readContext:oa,useCallback:aD,useContext:oa,useEffect:_R,useImperativeHandle:sD,useInsertionEffect:rD,useLayoutEffect:iD,useMemo:cD,useReducer:TE,useRef:nD,useState:function(){return TE(qv)},useDebugValue:wR,useDeferredValue:function(e){var t=sa();return vi===null?t.memoizedState=e:lD(t,vi.memoizedState,e)},useTransition:function(){var e=TE(qv)[0],t=sa().memoizedState;return[e,t]},useMutableSource:YA,useSyncExternalStore:QA,useId:uD,unstable_isNewReconciler:!1};function Ta(e,t){if(e&&e.defaultProps){t=Wr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fT(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Wr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var f_={isMounted:function(e){return(e=e._reactInternals)?oh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jo(),i=zu(e),o=ll(r,i);o.payload=t,n!=null&&(o.callback=n),t=Bu(e,o,i),t!==null&&(ja(t,e,i,r),Pb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jo(),i=zu(e),o=ll(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Bu(e,o,i),t!==null&&(ja(t,e,i,r),Pb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jo(),r=zu(e),i=ll(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bu(e,i,r),t!==null&&(ja(t,e,r,n),Pb(t,e,r))}};function wP(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Bv(n,r)||!Bv(i,o):!0}function pD(e,t,n){var r=!1,i=Zu,o=t.contextType;return typeof o=="object"&&o!==null?o=oa(o):(i=Zo(t)?$f:lo.current,r=t.contextTypes,o=(r=r!=null)?Xp(e,i):Zu),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=f_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function EP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&f_.enqueueReplaceState(t,t.state,null)}function hT(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},mR(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=oa(o):(o=Zo(t)?$f:lo.current,i.context=Xp(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fT(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&f_.enqueueReplaceState(i,i.state,null),eS(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function tm(e,t){try{var n="",r=t;do n+=z3(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function RE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m5=typeof WeakMap=="function"?WeakMap:Map;function mD(e,t,n){n=ll(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oS||(oS=!0,ET=r),pT(e,t)},n}function gD(e,t,n){n=ll(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){pT(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pT(e,t),typeof r!="function"&&($u===null?$u=new Set([this]):$u.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function CP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=O5.bind(null,e,t,n),t.then(e,e))}function TP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ll(-1,1),t.tag=2,Bu(n,t,1))),n.lanes|=1),e)}var g5=Tl.ReactCurrentOwner,Ko=!1;function ko(e,t,n,r){t.child=e===null?HA(t,null,n,r):Zp(t,e.child,n,r)}function kP(e,t,n,r,i){n=n.render;var o=t.ref;return Ip(t,i),r=xR(e,t,n,r,o,i),n=SR(),e!==null&&!Ko?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yl(e,t,i)):(Ir&&n&&cR(t),t.flags|=1,ko(e,t,r,i),t.child)}function OP(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!NR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vD(e,t,o,r,i)):(e=Mb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bv,n(s,r)&&e.ref===t.ref)return yl(e,t,i)}return t.flags|=1,e=Vu(o,r),e.ref=t.ref,e.return=t,t.child=e}function vD(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Bv(o,r)&&e.ref===t.ref)if(Ko=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ko=!0);else return t.lanes=e.lanes,yl(e,t,i)}return mT(e,t,n,r,i)}function yD(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(Tp,ws),ws|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xr(Tp,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xr(Tp,ws),ws|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xr(Tp,ws),ws|=r;return ko(e,t,i,n),t.child}function bD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mT(e,t,n,r,i){var o=Zo(n)?$f:lo.current;return o=Xp(t,o),Ip(t,i),n=xR(e,t,n,r,o,i),r=SR(),e!==null&&!Ko?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yl(e,t,i)):(Ir&&r&&cR(t),t.flags|=1,ko(e,t,n,i),t.child)}function PP(e,t,n,r,i){if(Zo(n)){var o=!0;Yx(t)}else o=!1;if(Ip(t,i),t.stateNode===null)jb(e,t),pD(t,n,r),hT(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=oa(l):(l=Zo(n)?$f:lo.current,l=Xp(t,l));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==l)&&EP(t,s,r,l),bu=!1;var m=t.memoizedState;s.state=m,eS(t,r,s,i),c=t.memoizedState,a!==r||m!==c||Jo.current||bu?(typeof f=="function"&&(fT(t,n,f,r),c=t.memoizedState),(a=bu||wP(t,n,a,r,m,c,l))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,qA(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Ta(t.type,a),s.props=l,p=t.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=oa(c):(c=Zo(n)?$f:lo.current,c=Xp(t,c));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==c)&&EP(t,s,r,c),bu=!1,m=t.memoizedState,s.state=m,eS(t,r,s,i);var x=t.memoizedState;a!==p||m!==x||Jo.current||bu?(typeof E=="function"&&(fT(t,n,E,r),x=t.memoizedState),(l=bu||wP(t,n,l,r,m,x,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return gT(e,t,n,r,o,i)}function gT(e,t,n,r,i,o){bD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&mP(t,n,!1),yl(e,t,o);r=t.stateNode,g5.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Zp(t,e.child,null,o),t.child=Zp(t,null,a,o)):ko(e,t,a,o),t.memoizedState=r.state,i&&mP(t,n,!0),t.child}function xD(e){var t=e.stateNode;t.pendingContext?pP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pP(e,t.context,!1),gR(e,t.containerInfo)}function NP(e,t,n,r,i){return Jp(),uR(i),t.flags|=256,ko(e,t,n,r),t.child}var vT={dehydrated:null,treeContext:null,retryLane:0};function yT(e){return{baseLanes:e,cachePool:null,transitions:null}}function SD(e,t,n){var r=t.pendingProps,i=$r.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xr($r,i&1),e===null)return uT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=m_(s,r,0,null),e=Af(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=yT(n),t.memoizedState=vT,e):ER(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return v5(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Vu(a,o):(o=Af(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?yT(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=vT,r}return o=e.child,e=o.sibling,r=Vu(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ER(e,t){return t=m_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cb(e,t,n,r){return r!==null&&uR(r),Zp(t,e.child,null,n),e=ER(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v5(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=RE(Error(Ue(422))),cb(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=m_({mode:"visible",children:r.children},i,0,null),o=Af(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Zp(t,e.child,null,s),t.child.memoizedState=yT(s),t.memoizedState=vT,o);if(!(t.mode&1))return cb(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ue(419)),r=RE(o,r,void 0),cb(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ko||a){if(r=Di,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vl(e,i),ja(r,e,i,-1))}return PR(),r=RE(Error(Ue(421))),cb(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=P5.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Cs=Uu(i.nextSibling),ks=t,Ir=!0,Pa=null,e!==null&&(Js[Zs++]=ol,Js[Zs++]=sl,Js[Zs++]=zf,ol=e.id,sl=e.overflow,zf=t),t=ER(t,r.children),t.flags|=4096,t)}function IP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dT(e.return,t,n)}function kE(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _D(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ko(e,t,r.children,n),r=$r.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&IP(e,n,t);else if(e.tag===19)IP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xr($r,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&tS(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),kE(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tS(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}kE(t,!0,n,null,o);break;case"together":kE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=Vu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y5(e,t,n){switch(t.tag){case 3:xD(t),Jp();break;case 5:KA(t);break;case 1:Zo(t.type)&&Yx(t);break;case 4:gR(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xr(Jx,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xr($r,$r.current&1),t.flags|=128,null):n&t.child.childLanes?SD(e,t,n):(xr($r,$r.current&1),e=yl(e,t,n),e!==null?e.sibling:null);xr($r,$r.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _D(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xr($r,$r.current),r)break;return null;case 22:case 23:return t.lanes=0,yD(e,t,n)}return yl(e,t,n)}var wD,bT,ED,CD;wD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bT=function(){};ED=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_f(vc.current);var o=null;switch(n){case"input":i=$C(e,i),r=$C(e,r),o=[];break;case"select":i=Wr({},i,{value:void 0}),r=Wr({},r,{value:void 0}),o=[];break;case"textarea":i=WC(e,i),r=WC(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qx)}GC(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(jv.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(jv.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Tr("scroll",e),o||a===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};CD=function(e,t,n,r){n!==r&&(t.flags|=4)};function qg(e,t){if(!Ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oo(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function b5(e,t,n){var r=t.pendingProps;switch(lR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(t),null;case 1:return Zo(t.type)&&Kx(),oo(t),null;case 3:return r=t.stateNode,em(),kr(Jo),kr(lo),yR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pa!==null&&(RT(Pa),Pa=null))),bT(e,t),oo(t),null;case 5:vR(t);var i=_f(Hv.current);if(n=t.type,e!==null&&t.stateNode!=null)ED(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return oo(t),null}if(e=_f(vc.current),sb(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fc]=t,r[Vv]=o,e=(t.mode&1)!==0,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(i=0;i<sv.length;i++)Tr(sv[i],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":$O(r,o),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tr("invalid",r);break;case"textarea":VO(r,o),Tr("invalid",r)}GC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ob(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ob(r.textContent,a,e),i=["children",""+a]):jv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Tr("scroll",r)}switch(n){case"input":X0(r),zO(r,o,!0);break;case"textarea":X0(r),WO(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qx)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fc]=t,e[Vv]=r,wD(e,t,!1,!1),t.stateNode=e;e:{switch(s=qC(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),i=r;break;case"iframe":case"object":case"embed":Tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<sv.length;i++)Tr(sv[i],e);i=r;break;case"source":Tr("error",e),i=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),i=r;break;case"details":Tr("toggle",e),i=r;break;case"input":$O(e,r),i=$C(e,r),Tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Wr({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":VO(e,r),i=WC(e,r),Tr("invalid",e);break;default:i=r}GC(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?nA(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eA(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Av(e,c):typeof c=="number"&&Av(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jv.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Tr("scroll",e):c!=null&&K1(e,o,c,s))}switch(n){case"input":X0(e),zO(e,r,!1);break;case"textarea":X0(e),WO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ju(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?kp(e,!!r.multiple,o,!1):r.defaultValue!=null&&kp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return oo(t),null;case 6:if(e&&t.stateNode!=null)CD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=_f(Hv.current),_f(vc.current),sb(t)){if(r=t.stateNode,n=t.memoizedProps,r[fc]=t,(o=r.nodeValue!==n)&&(e=ks,e!==null))switch(e.tag){case 3:ob(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ob(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fc]=t,t.stateNode=r}return oo(t),null;case 13:if(kr($r),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ir&&Cs!==null&&t.mode&1&&!(t.flags&128))VA(),Jp(),t.flags|=98560,o=!1;else if(o=sb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ue(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ue(317));o[fc]=t}else Jp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oo(t),o=!1}else Pa!==null&&(RT(Pa),Pa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$r.current&1?xi===0&&(xi=3):PR())),t.updateQueue!==null&&(t.flags|=4),oo(t),null);case 4:return em(),bT(e,t),e===null&&$v(t.stateNode.containerInfo),oo(t),null;case 10:return hR(t.type._context),oo(t),null;case 17:return Zo(t.type)&&Kx(),oo(t),null;case 19:if(kr($r),o=t.memoizedState,o===null)return oo(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)qg(o,!1);else{if(xi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=tS(e),s!==null){for(t.flags|=128,qg(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xr($r,$r.current&1|2),t.child}e=e.sibling}o.tail!==null&&ii()>nm&&(t.flags|=128,r=!0,qg(o,!1),t.lanes=4194304)}else{if(!r)if(e=tS(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ir)return oo(t),null}else 2*ii()-o.renderingStartTime>nm&&n!==1073741824&&(t.flags|=128,r=!0,qg(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ii(),t.sibling=null,n=$r.current,xr($r,r?n&1|2:n&1),t):(oo(t),null);case 22:case 23:return OR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ws&1073741824&&(oo(t),t.subtreeFlags&6&&(t.flags|=8192)):oo(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function x5(e,t){switch(lR(t),t.tag){case 1:return Zo(t.type)&&Kx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return em(),kr(Jo),kr(lo),yR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vR(t),null;case 13:if(kr($r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Jp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kr($r),null;case 4:return em(),null;case 10:return hR(t.type._context),null;case 22:case 23:return OR(),null;case 24:return null;default:return null}}var lb=!1,ao=!1,S5=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Cp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yr(e,t,r)}else n.current=null}function xT(e,t,n){try{n()}catch(r){Yr(e,t,r)}}var jP=!1;function _5(e,t){if(rT=Wx,e=PA(),aR(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,l=0,f=0,p=e,m=null;t:for(;;){for(var E;p!==n||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(E=p.firstChild)!==null;)m=p,p=E;for(;;){if(p===e)break t;if(m===n&&++l===i&&(a=s),m===o&&++f===r&&(c=s),(E=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(iT={focusedElem:e,selectionRange:n},Wx=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){t=ct;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,R=t.stateNode,_=R.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ta(t.type,y),w);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(I){Yr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}return x=jP,jP=!1,x}function xv(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&xT(t,n,o)}i=i.next}while(i!==r)}}function h_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ST(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TD(e){var t=e.alternate;t!==null&&(e.alternate=null,TD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fc],delete t[Vv],delete t[aT],delete t[i5],delete t[o5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RD(e){return e.tag===5||e.tag===3||e.tag===4}function AP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _T(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qx));else if(r!==4&&(e=e.child,e!==null))for(_T(e,t,n),e=e.sibling;e!==null;)_T(e,t,n),e=e.sibling}function wT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wT(e,t,n),e=e.sibling;e!==null;)wT(e,t,n),e=e.sibling}var Hi=null,Oa=!1;function du(e,t,n){for(n=n.child;n!==null;)kD(e,t,n),n=n.sibling}function kD(e,t,n){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(o_,n)}catch{}switch(n.tag){case 5:ao||Cp(n,t);case 6:var r=Hi,i=Oa;Hi=null,du(e,t,n),Hi=r,Oa=i,Hi!==null&&(Oa?(e=Hi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hi.removeChild(n.stateNode));break;case 18:Hi!==null&&(Oa?(e=Hi,n=n.stateNode,e.nodeType===8?SE(e.parentNode,n):e.nodeType===1&&SE(e,n),Fv(e)):SE(Hi,n.stateNode));break;case 4:r=Hi,i=Oa,Hi=n.stateNode.containerInfo,Oa=!0,du(e,t,n),Hi=r,Oa=i;break;case 0:case 11:case 14:case 15:if(!ao&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&xT(n,t,s),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!ao&&(Cp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yr(n,t,a)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:n.mode&1?(ao=(r=ao)||n.memoizedState!==null,du(e,t,n),ao=r):du(e,t,n);break;default:du(e,t,n)}}function DP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new S5),t.forEach(function(r){var i=N5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ea(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Hi=a.stateNode,Oa=!1;break e;case 3:Hi=a.stateNode.containerInfo,Oa=!0;break e;case 4:Hi=a.stateNode.containerInfo,Oa=!0;break e}a=a.return}if(Hi===null)throw Error(Ue(160));kD(o,s,i),Hi=null,Oa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Yr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OD(t,e),t=t.sibling}function OD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ea(t,e),oc(e),r&4){try{xv(3,e,e.return),h_(3,e)}catch(y){Yr(e,e.return,y)}try{xv(5,e,e.return)}catch(y){Yr(e,e.return,y)}}break;case 1:Ea(t,e),oc(e),r&512&&n!==null&&Cp(n,n.return);break;case 5:if(Ea(t,e),oc(e),r&512&&n!==null&&Cp(n,n.return),e.flags&32){var i=e.stateNode;try{Av(i,"")}catch(y){Yr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Xj(i,o),qC(a,s);var l=qC(a,o);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];f==="style"?nA(i,p):f==="dangerouslySetInnerHTML"?eA(i,p):f==="children"?Av(i,p):K1(i,f,p,l)}switch(a){case"input":zC(i,o);break;case"textarea":Jj(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?kp(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?kp(i,!!o.multiple,o.defaultValue,!0):kp(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vv]=o}catch(y){Yr(e,e.return,y)}}break;case 6:if(Ea(t,e),oc(e),r&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Yr(e,e.return,y)}}break;case 3:if(Ea(t,e),oc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fv(t.containerInfo)}catch(y){Yr(e,e.return,y)}break;case 4:Ea(t,e),oc(e);break;case 13:Ea(t,e),oc(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(RR=ii())),r&4&&DP(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ao=(l=ao)||f,Ea(t,e),ao=l):Ea(t,e),oc(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!f&&e.mode&1)for(ct=e,f=e.child;f!==null;){for(p=ct=f;ct!==null;){switch(m=ct,E=m.child,m.tag){case 0:case 11:case 14:case 15:xv(4,m,m.return);break;case 1:Cp(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Yr(r,n,y)}}break;case 5:Cp(m,m.return);break;case 22:if(m.memoizedState!==null){LP(p);continue}}E!==null?(E.return=m,ct=E):LP(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=tA("display",s))}catch(y){Yr(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(y){Yr(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ea(t,e),oc(e),r&4&&DP(e);break;case 21:break;default:Ea(t,e),oc(e)}}function oc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(RD(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Av(i,""),r.flags&=-33);var o=AP(e);wT(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=AP(e);_T(e,a,s);break;default:throw Error(Ue(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w5(e,t,n){ct=e,PD(e)}function PD(e,t,n){for(var r=(e.mode&1)!==0;ct!==null;){var i=ct,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||lb;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||ao;a=lb;var l=ao;if(lb=s,(ao=c)&&!l)for(ct=i;ct!==null;)s=ct,c=s.child,s.tag===22&&s.memoizedState!==null?FP(i):c!==null?(c.return=s,ct=c):FP(i);for(;o!==null;)ct=o,PD(o),o=o.sibling;ct=i,lb=a,ao=l}MP(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ct=o):MP(e)}}function MP(e){for(;ct!==null;){var t=ct;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ao||h_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ao)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ta(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&xP(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xP(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var f=l.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Fv(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ao||t.flags&512&&ST(t)}catch(m){Yr(t,t.return,m)}}if(t===e){ct=null;break}if(n=t.sibling,n!==null){n.return=t.return,ct=n;break}ct=t.return}}function LP(e){for(;ct!==null;){var t=ct;if(t===e){ct=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ct=n;break}ct=t.return}}function FP(e){for(;ct!==null;){var t=ct;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{h_(4,t)}catch(c){Yr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Yr(t,i,c)}}var o=t.return;try{ST(t)}catch(c){Yr(t,o,c)}break;case 5:var s=t.return;try{ST(t)}catch(c){Yr(t,s,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){ct=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ct=a;break}ct=t.return}}var E5=Math.ceil,iS=Tl.ReactCurrentDispatcher,CR=Tl.ReactCurrentOwner,na=Tl.ReactCurrentBatchConfig,Ln=0,Di=null,di=null,qi=0,ws=0,Tp=ud(0),xi=0,Yv=null,Wf=0,p_=0,TR=0,Sv=null,Go=null,RR=0,nm=1/0,nl=null,oS=!1,ET=null,$u=null,ub=!1,Nu=null,sS=0,_v=0,CT=null,Ab=-1,Db=0;function jo(){return Ln&6?ii():Ab!==-1?Ab:Ab=ii()}function zu(e){return e.mode&1?Ln&2&&qi!==0?qi&-qi:a5.transition!==null?(Db===0&&(Db=pA()),Db):(e=rr,e!==0||(e=window.event,e=e===void 0?16:SA(e.type)),e):1}function ja(e,t,n,r){if(50<_v)throw _v=0,CT=null,Error(Ue(185));by(e,n,r),(!(Ln&2)||e!==Di)&&(e===Di&&(!(Ln&2)&&(p_|=n),xi===4&&_u(e,qi)),es(e,r),n===1&&Ln===0&&!(t.mode&1)&&(nm=ii()+500,u_&&dd()))}function es(e,t){var n=e.callbackNode;a$(e,t);var r=Vx(e,e===Di?qi:0);if(r===0)n!==null&&qO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qO(n),t===1)e.tag===0?s5(UP.bind(null,e)):BA(UP.bind(null,e)),n5(function(){!(Ln&6)&&dd()}),n=null;else{switch(mA(r)){case 1:n=Z1;break;case 4:n=fA;break;case 16:n=zx;break;case 536870912:n=hA;break;default:n=zx}n=FD(n,ND.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ND(e,t){if(Ab=-1,Db=0,Ln&6)throw Error(Ue(327));var n=e.callbackNode;if(jp()&&e.callbackNode!==n)return null;var r=Vx(e,e===Di?qi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=aS(e,r);else{t=r;var i=Ln;Ln|=2;var o=jD();(Di!==e||qi!==t)&&(nl=null,nm=ii()+500,jf(e,t));do try{R5();break}catch(a){ID(e,a)}while(!0);fR(),iS.current=o,Ln=i,di!==null?t=0:(Di=null,qi=0,t=xi)}if(t!==0){if(t===2&&(i=JC(e),i!==0&&(r=i,t=TT(e,i))),t===1)throw n=Yv,jf(e,0),_u(e,r),es(e,ii()),n;if(t===6)_u(e,r);else{if(i=e.current.alternate,!(r&30)&&!C5(i)&&(t=aS(e,r),t===2&&(o=JC(e),o!==0&&(r=o,t=TT(e,o))),t===1))throw n=Yv,jf(e,0),_u(e,r),es(e,ii()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:gf(e,Go,nl);break;case 3:if(_u(e,r),(r&130023424)===r&&(t=RR+500-ii(),10<t)){if(Vx(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=sT(gf.bind(null,e,Go,nl),t);break}gf(e,Go,nl);break;case 4:if(_u(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ia(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ii()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E5(r/1960))-r,10<r){e.timeoutHandle=sT(gf.bind(null,e,Go,nl),r);break}gf(e,Go,nl);break;case 5:gf(e,Go,nl);break;default:throw Error(Ue(329))}}}return es(e,ii()),e.callbackNode===n?ND.bind(null,e):null}function TT(e,t){var n=Sv;return e.current.memoizedState.isDehydrated&&(jf(e,t).flags|=256),e=aS(e,t),e!==2&&(t=Go,Go=n,t!==null&&RT(t)),e}function RT(e){Go===null?Go=e:Go.push.apply(Go,e)}function C5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Aa(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _u(e,t){for(t&=~TR,t&=~p_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ia(t),r=1<<n;e[n]=-1,t&=~r}}function UP(e){if(Ln&6)throw Error(Ue(327));jp();var t=Vx(e,0);if(!(t&1))return es(e,ii()),null;var n=aS(e,t);if(e.tag!==0&&n===2){var r=JC(e);r!==0&&(t=r,n=TT(e,r))}if(n===1)throw n=Yv,jf(e,0),_u(e,t),es(e,ii()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gf(e,Go,nl),es(e,ii()),null}function kR(e,t){var n=Ln;Ln|=1;try{return e(t)}finally{Ln=n,Ln===0&&(nm=ii()+500,u_&&dd())}}function Hf(e){Nu!==null&&Nu.tag===0&&!(Ln&6)&&jp();var t=Ln;Ln|=1;var n=na.transition,r=rr;try{if(na.transition=null,rr=1,e)return e()}finally{rr=r,na.transition=n,Ln=t,!(Ln&6)&&dd()}}function OR(){ws=Tp.current,kr(Tp)}function jf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t5(n)),di!==null)for(n=di.return;n!==null;){var r=n;switch(lR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kx();break;case 3:em(),kr(Jo),kr(lo),yR();break;case 5:vR(r);break;case 4:em();break;case 13:kr($r);break;case 19:kr($r);break;case 10:hR(r.type._context);break;case 22:case 23:OR()}n=n.return}if(Di=e,di=e=Vu(e.current,null),qi=ws=t,xi=0,Yv=null,TR=p_=Wf=0,Go=Sv=null,Sf!==null){for(t=0;t<Sf.length;t++)if(n=Sf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Sf=null}return e}function ID(e,t){do{var n=di;try{if(fR(),Nb.current=rS,nS){for(var r=Vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nS=!1}if(Vf=0,Ai=vi=Vr=null,bv=!1,Gv=0,CR.current=null,n===null||n.return===null){xi=1,Yv=t,di=null;break}e:{var o=e,s=n.return,a=n,c=t;if(t=qi,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=TP(s);if(E!==null){E.flags&=-257,RP(E,s,a,o,t),E.mode&1&&CP(o,l,t),t=E,c=l;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){CP(o,l,t),PR();break e}c=Error(Ue(426))}}else if(Ir&&a.mode&1){var w=TP(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),RP(w,s,a,o,t),uR(tm(c,a));break e}}o=c=tm(c,a),xi!==4&&(xi=2),Sv===null?Sv=[o]:Sv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var R=mD(o,c,t);bP(o,R);break e;case 1:a=c;var _=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($u===null||!$u.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=gD(o,a,t);bP(o,I);break e}}o=o.return}while(o!==null)}DD(n)}catch(A){t=A,di===n&&n!==null&&(di=n=n.return);continue}break}while(!0)}function jD(){var e=iS.current;return iS.current=rS,e===null?rS:e}function PR(){(xi===0||xi===3||xi===2)&&(xi=4),Di===null||!(Wf&268435455)&&!(p_&268435455)||_u(Di,qi)}function aS(e,t){var n=Ln;Ln|=2;var r=jD();(Di!==e||qi!==t)&&(nl=null,jf(e,t));do try{T5();break}catch(i){ID(e,i)}while(!0);if(fR(),Ln=n,iS.current=r,di!==null)throw Error(Ue(261));return Di=null,qi=0,xi}function T5(){for(;di!==null;)AD(di)}function R5(){for(;di!==null&&!J3();)AD(di)}function AD(e){var t=LD(e.alternate,e,ws);e.memoizedProps=e.pendingProps,t===null?DD(e):di=t,CR.current=null}function DD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x5(n,t),n!==null){n.flags&=32767,di=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xi=6,di=null;return}}else if(n=b5(n,t,ws),n!==null){di=n;return}if(t=t.sibling,t!==null){di=t;return}di=t=e}while(t!==null);xi===0&&(xi=5)}function gf(e,t,n){var r=rr,i=na.transition;try{na.transition=null,rr=1,k5(e,t,n,r)}finally{na.transition=i,rr=r}return null}function k5(e,t,n,r){do jp();while(Nu!==null);if(Ln&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(c$(e,o),e===Di&&(di=Di=null,qi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ub||(ub=!0,FD(zx,function(){return jp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=na.transition,na.transition=null;var s=rr;rr=1;var a=Ln;Ln|=4,CR.current=null,_5(e,n),OD(n,e),K$(iT),Wx=!!rT,iT=rT=null,e.current=n,w5(n),Z3(),Ln=a,rr=s,na.transition=o}else e.current=n;if(ub&&(ub=!1,Nu=e,sS=i),o=e.pendingLanes,o===0&&($u=null),n$(n.stateNode),es(e,ii()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oS)throw oS=!1,e=ET,ET=null,e;return sS&1&&e.tag!==0&&jp(),o=e.pendingLanes,o&1?e===CT?_v++:(_v=0,CT=e):_v=0,dd(),null}function jp(){if(Nu!==null){var e=mA(sS),t=na.transition,n=rr;try{if(na.transition=null,rr=16>e?16:e,Nu===null)var r=!1;else{if(e=Nu,Nu=null,sS=0,Ln&6)throw Error(Ue(331));var i=Ln;for(Ln|=4,ct=e.current;ct!==null;){var o=ct,s=o.child;if(ct.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ct=l;ct!==null;){var f=ct;switch(f.tag){case 0:case 11:case 15:xv(8,f,o)}var p=f.child;if(p!==null)p.return=f,ct=p;else for(;ct!==null;){f=ct;var m=f.sibling,E=f.return;if(TD(f),f===l){ct=null;break}if(m!==null){m.return=E,ct=m;break}ct=E}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ct=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ct=s;else e:for(;ct!==null;){if(o=ct,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xv(9,o,o.return)}var R=o.sibling;if(R!==null){R.return=o.return,ct=R;break e}ct=o.return}}var _=e.current;for(ct=_;ct!==null;){s=ct;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ct=C;else e:for(s=_;ct!==null;){if(a=ct,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:h_(9,a)}}catch(A){Yr(a,a.return,A)}if(a===s){ct=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ct=I;break e}ct=a.return}}if(Ln=i,dd(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(o_,e)}catch{}r=!0}return r}finally{rr=n,na.transition=t}}return!1}function BP(e,t,n){t=tm(n,t),t=mD(e,t,1),e=Bu(e,t,1),t=jo(),e!==null&&(by(e,1,t),es(e,t))}function Yr(e,t,n){if(e.tag===3)BP(e,e,n);else for(;t!==null;){if(t.tag===3){BP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($u===null||!$u.has(r))){e=tm(n,e),e=gD(t,e,1),t=Bu(t,e,1),e=jo(),t!==null&&(by(t,1,e),es(t,e));break}}t=t.return}}function O5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jo(),e.pingedLanes|=e.suspendedLanes&n,Di===e&&(qi&n)===n&&(xi===4||xi===3&&(qi&130023424)===qi&&500>ii()-RR?jf(e,0):TR|=n),es(e,t)}function MD(e,t){t===0&&(e.mode&1?(t=eb,eb<<=1,!(eb&130023424)&&(eb=4194304)):t=1);var n=jo();e=vl(e,t),e!==null&&(by(e,t,n),es(e,n))}function P5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MD(e,n)}function N5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),MD(e,n)}var LD;LD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jo.current)Ko=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ko=!1,y5(e,t,n);Ko=!!(e.flags&131072)}else Ko=!1,Ir&&t.flags&1048576&&$A(t,Xx,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jb(e,t),e=t.pendingProps;var i=Xp(t,lo.current);Ip(t,n),i=xR(null,t,r,e,i,n);var o=SR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zo(r)?(o=!0,Yx(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mR(t),i.updater=f_,t.stateNode=i,i._reactInternals=t,hT(t,r,e,n),t=gT(null,t,r,!0,o,n)):(t.tag=0,Ir&&o&&cR(t),ko(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=j5(r),e=Ta(r,e),i){case 0:t=mT(null,t,r,e,n);break e;case 1:t=PP(null,t,r,e,n);break e;case 11:t=kP(null,t,r,e,n);break e;case 14:t=OP(null,t,r,Ta(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ta(r,i),mT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ta(r,i),PP(e,t,r,i,n);case 3:e:{if(xD(t),e===null)throw Error(Ue(387));r=t.pendingProps,o=t.memoizedState,i=o.element,qA(e,t),eS(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=tm(Error(Ue(423)),t),t=NP(e,t,r,n,i);break e}else if(r!==i){i=tm(Error(Ue(424)),t),t=NP(e,t,r,n,i);break e}else for(Cs=Uu(t.stateNode.containerInfo.firstChild),ks=t,Ir=!0,Pa=null,n=HA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jp(),r===i){t=yl(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return KA(t),e===null&&uT(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,oT(r,i)?s=null:o!==null&&oT(r,o)&&(t.flags|=32),bD(e,t),ko(e,t,s,n),t.child;case 6:return e===null&&uT(t),null;case 13:return SD(e,t,n);case 4:return gR(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zp(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ta(r,i),kP(e,t,r,i,n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:return ko(e,t,t.pendingProps.children,n),t.child;case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xr(Jx,r._currentValue),r._currentValue=s,o!==null)if(Aa(o.value,s)){if(o.children===i.children&&!Jo.current){t=yl(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ll(-1,n&-n),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),dT(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),dT(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ko(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ip(t,n),i=oa(i),r=r(i),t.flags|=1,ko(e,t,r,n),t.child;case 14:return r=t.type,i=Ta(r,t.pendingProps),i=Ta(r.type,i),OP(e,t,r,i,n);case 15:return vD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ta(r,i),jb(e,t),t.tag=1,Zo(r)?(e=!0,Yx(t)):e=!1,Ip(t,n),pD(t,r,i),hT(t,r,i,n),gT(null,t,r,!0,e,n);case 19:return _D(e,t,n);case 22:return yD(e,t,n)}throw Error(Ue(156,t.tag))};function FD(e,t){return dA(e,t)}function I5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(e,t,n,r){return new I5(e,t,n,r)}function NR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j5(e){if(typeof e=="function")return NR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Q1)return 11;if(e===X1)return 14}return 2}function Vu(e,t){var n=e.alternate;return n===null?(n=ta(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mb(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")NR(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case gp:return Af(n.children,i,o,t);case Y1:s=8,i|=8;break;case LC:return e=ta(12,n,t,i|2),e.elementType=LC,e.lanes=o,e;case FC:return e=ta(13,n,t,i),e.elementType=FC,e.lanes=o,e;case UC:return e=ta(19,n,t,i),e.elementType=UC,e.lanes=o,e;case Kj:return m_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gj:s=10;break e;case qj:s=9;break e;case Q1:s=11;break e;case X1:s=14;break e;case yu:s=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=ta(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Af(e,t,n,r){return e=ta(7,e,r,t),e.lanes=n,e}function m_(e,t,n,r){return e=ta(22,e,r,t),e.elementType=Kj,e.lanes=n,e.stateNode={isHidden:!1},e}function OE(e,t,n){return e=ta(6,e,null,t),e.lanes=n,e}function PE(e,t,n){return t=ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uE(0),this.expirationTimes=uE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function IR(e,t,n,r,i,o,s,a,c){return e=new A5(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ta(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mR(o),e}function D5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UD(e){if(!e)return Zu;e=e._reactInternals;e:{if(oh(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Zo(n))return UA(e,n,t)}return t}function BD(e,t,n,r,i,o,s,a,c){return e=IR(n,r,!0,e,i,o,s,a,c),e.context=UD(null),n=e.current,r=jo(),i=zu(n),o=ll(r,i),o.callback=t??null,Bu(n,o,i),e.current.lanes=i,by(e,i,r),es(e,r),e}function g_(e,t,n,r){var i=t.current,o=jo(),s=zu(i);return n=UD(n),t.context===null?t.context=n:t.pendingContext=n,t=ll(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bu(i,t,s),e!==null&&(ja(e,i,s,o),Pb(e,i,s)),s}function cS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $P(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jR(e,t){$P(e,t),(e=e.alternate)&&$P(e,t)}function M5(){return null}var $D=typeof reportError=="function"?reportError:function(e){console.error(e)};function AR(e){this._internalRoot=e}v_.prototype.render=AR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));g_(e,t,null,null)};v_.prototype.unmount=AR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hf(function(){g_(null,e,null,null)}),t[gl]=null}};function v_(e){this._internalRoot=e}v_.prototype.unstable_scheduleHydration=function(e){if(e){var t=yA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Su.length&&t!==0&&t<Su[n].priority;n++);Su.splice(n,0,e),n===0&&xA(e)}};function DR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zP(){}function L5(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=cS(s);o.call(l)}}var s=BD(t,r,e,0,null,!1,!1,"",zP);return e._reactRootContainer=s,e[gl]=s.current,$v(e.nodeType===8?e.parentNode:e),Hf(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=cS(c);a.call(l)}}var c=IR(e,0,!1,null,null,!1,!1,"",zP);return e._reactRootContainer=c,e[gl]=c.current,$v(e.nodeType===8?e.parentNode:e),Hf(function(){g_(t,c,n,r)}),c}function b_(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=cS(s);a.call(c)}}g_(t,s,e,i)}else s=L5(n,t,e,i,r);return cS(s)}gA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ov(t.pendingLanes);n!==0&&(eR(t,n|1),es(t,ii()),!(Ln&6)&&(nm=ii()+500,dd()))}break;case 13:Hf(function(){var r=vl(e,1);if(r!==null){var i=jo();ja(r,e,1,i)}}),jR(e,1)}};tR=function(e){if(e.tag===13){var t=vl(e,134217728);if(t!==null){var n=jo();ja(t,e,134217728,n)}jR(e,134217728)}};vA=function(e){if(e.tag===13){var t=zu(e),n=vl(e,t);if(n!==null){var r=jo();ja(n,e,t,r)}jR(e,t)}};yA=function(){return rr};bA=function(e,t){var n=rr;try{return rr=e,t()}finally{rr=n}};YC=function(e,t,n){switch(t){case"input":if(zC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=l_(r);if(!i)throw Error(Ue(90));Qj(r),zC(r,i)}}}break;case"textarea":Jj(e,n);break;case"select":t=n.value,t!=null&&kp(e,!!n.multiple,t,!1)}};oA=kR;sA=Hf;var F5={usingClientEntryPoint:!1,Events:[Sy,xp,l_,rA,iA,kR]},Kg={findFiberByHostInstance:xf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U5={bundleType:Kg.bundleType,version:Kg.version,rendererPackageName:Kg.rendererPackageName,rendererConfig:Kg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lA(e),e===null?null:e.stateNode},findFiberByHostInstance:Kg.findFiberByHostInstance||M5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var db=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!db.isDisabled&&db.supportsFiber)try{o_=db.inject(U5),gc=db}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F5;Ds.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DR(t))throw Error(Ue(200));return D5(e,t,null,n)};Ds.createRoot=function(e,t){if(!DR(e))throw Error(Ue(299));var n=!1,r="",i=$D;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=IR(e,1,!1,null,null,n,!1,r,i),e[gl]=t.current,$v(e.nodeType===8?e.parentNode:e),new AR(t)};Ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=lA(t),e=e===null?null:e.stateNode,e};Ds.flushSync=function(e){return Hf(e)};Ds.hydrate=function(e,t,n){if(!y_(t))throw Error(Ue(200));return b_(null,e,t,!0,n)};Ds.hydrateRoot=function(e,t,n){if(!DR(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=$D;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=BD(t,null,e,1,n??null,i,!1,o,s),e[gl]=t.current,$v(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new v_(t)};Ds.render=function(e,t,n){if(!y_(t))throw Error(Ue(200));return b_(null,e,t,!1,n)};Ds.unmountComponentAtNode=function(e){if(!y_(e))throw Error(Ue(40));return e._reactRootContainer?(Hf(function(){b_(null,null,e,!1,function(){e._reactRootContainer=null,e[gl]=null})}),!0):!1};Ds.unstable_batchedUpdates=kR;Ds.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!y_(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return b_(e,t,n,!1,r)};Ds.version="18.3.1-next-f1338f8080-20240426";function zD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zD)}catch(e){console.error(e)}}zD(),zj.exports=Ds;var sh=zj.exports;const B5=rh(sh);var VD,VP=sh;VD=VP.createRoot,VP.hydrateRoot;var x_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S_=typeof window>"u"||"Deno"in globalThis;function Ra(){}function $5(e,t){return typeof e=="function"?e(t):e}function z5(e){return typeof e=="number"&&e>=0&&e!==1/0}function V5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function WP(e,t){return typeof e=="function"?e(t):e}function W5(e,t){return typeof e=="function"?e(t):e}function HP(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==MR(s,t.options))return!1}else if(!Xv(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function GP(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Qv(t.options.mutationKey)!==Qv(o))return!1}else if(!Xv(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function MR(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qv)(e)}function Qv(e){return JSON.stringify(e,(t,n)=>kT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Xv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Xv(e[n],t[n])):!1}function WD(e,t){if(e===t)return e;const n=qP(e)&&qP(t);if(n||kT(e)&&kT(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let c=0;for(let l=0;l<s;l++){const f=n?l:o[l];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=WD(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return i===s&&c===i?e:a}return t}function qP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kT(e){if(!KP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!KP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function KP(e){return Object.prototype.toString.call(e)==="[object Object]"}function H5(e){return new Promise(t=>{setTimeout(t,e)})}function G5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?WD(e,t):t}function q5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function K5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var LR=Symbol();function HD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===LR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Of,Cu,$p,_j,Y5=(_j=class extends x_{constructor(){super();Kn(this,Of);Kn(this,Cu);Kn(this,$p);bn(this,$p,t=>{if(!S_&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ae(this,Cu)||this.setEventListener(Ae(this,$p))}onUnsubscribe(){var t;this.hasListeners()||((t=Ae(this,Cu))==null||t.call(this),bn(this,Cu,void 0))}setEventListener(t){var n;bn(this,$p,t),(n=Ae(this,Cu))==null||n.call(this),bn(this,Cu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Ae(this,Of)!==t&&(bn(this,Of,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ae(this,Of)=="boolean"?Ae(this,Of):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Of=new WeakMap,Cu=new WeakMap,$p=new WeakMap,_j),GD=new Y5,zp,Tu,Vp,wj,Q5=(wj=class extends x_{constructor(){super();Kn(this,zp,!0);Kn(this,Tu);Kn(this,Vp);bn(this,Vp,t=>{if(!S_&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ae(this,Tu)||this.setEventListener(Ae(this,Vp))}onUnsubscribe(){var t;this.hasListeners()||((t=Ae(this,Tu))==null||t.call(this),bn(this,Tu,void 0))}setEventListener(t){var n;bn(this,Vp,t),(n=Ae(this,Tu))==null||n.call(this),bn(this,Tu,t(this.setOnline.bind(this)))}setOnline(t){Ae(this,zp)!==t&&(bn(this,zp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Ae(this,zp)}},zp=new WeakMap,Tu=new WeakMap,Vp=new WeakMap,wj),lS=new Q5;function X5(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function J5(e){return Math.min(1e3*2**e,3e4)}function qD(e){return(e??"online")==="online"?lS.isOnline():!0}var KD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function NE(e){return e instanceof KD}function YD(e){let t=!1,n=0,r=!1,i;const o=X5(),s=y=>{var w;r||(m(new KD(y)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},c=()=>{t=!1},l=()=>GD.isFocused()&&(e.networkMode==="always"||lS.isOnline())&&e.canRun(),f=()=>qD(e.networkMode)&&e.canRun(),p=y=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,y),i==null||i(),o.resolve(y))},m=y=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,y),i==null||i(),o.reject(y))},E=()=>new Promise(y=>{var w;i=R=>{(r||l())&&y(R)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;i=void 0,r||(y=e.onContinue)==null||y.call(e)}),x=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(R){y=Promise.reject(R)}Promise.resolve(y).then(p).catch(R=>{var U;if(r)return;const _=e.retry??(S_?0:3),C=e.retryDelay??J5,I=typeof C=="function"?C(n,R):C,A=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,R);if(t||!A){m(R);return}n++,(U=e.onFail)==null||U.call(e,n,R),H5(I).then(()=>l()?void 0:E()).then(()=>{t?m(R):x()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?x():E().then(x),o)}}function Z5(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const o=a=>{t?e.push(a):i(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var No=Z5(),Pf,Ej,QD=(Ej=class{constructor(){Kn(this,Pf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z5(this.gcTime)&&bn(this,Pf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(S_?1/0:5*60*1e3))}clearGcTimeout(){Ae(this,Pf)&&(clearTimeout(Ae(this,Pf)),bn(this,Pf,void 0))}},Pf=new WeakMap,Ej),Wp,Hp,Qs,so,gy,Nf,ka,el,Cj,ez=(Cj=class extends QD{constructor(t){super();Kn(this,ka);Kn(this,Wp);Kn(this,Hp);Kn(this,Qs);Kn(this,so);Kn(this,gy);Kn(this,Nf);bn(this,Nf,!1),bn(this,gy,t.defaultOptions),this.setOptions(t.options),this.observers=[],bn(this,Qs,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,bn(this,Wp,nz(this.options)),this.state=t.state??Ae(this,Wp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ae(this,so))==null?void 0:t.promise}setOptions(t){this.options={...Ae(this,gy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ae(this,Qs).remove(this)}setData(t,n){const r=G5(this.state.data,t,this.options);return ro(this,ka,el).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ro(this,ka,el).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Ae(this,so))==null?void 0:r.promise;return(i=Ae(this,so))==null||i.cancel(t),n?n.then(Ra).catch(Ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ae(this,Wp))}isActive(){return this.observers.some(t=>W5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!V5(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Ae(this,so))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Ae(this,so))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ae(this,Qs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Ae(this,so)&&(Ae(this,Nf)?Ae(this,so).cancel({revert:!0}):Ae(this,so).cancelRetry()),this.scheduleGc()),Ae(this,Qs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ro(this,ka,el).call(this,{type:"invalidate"})}fetch(t,n){var c,l,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ae(this,so))return Ae(this,so).continueRetry(),Ae(this,so).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(bn(this,Nf,!0),r.signal)})},o=()=>{const p=HD(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),bn(this,Nf,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(c=this.options.behavior)==null||c.onFetch(s,this),bn(this,Hp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=s.fetchOptions)==null?void 0:l.meta))&&ro(this,ka,el).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const a=p=>{var m,E,x,y;NE(p)&&p.silent||ro(this,ka,el).call(this,{type:"error",error:p}),NE(p)||((E=(m=Ae(this,Qs).config).onError)==null||E.call(m,p,this),(y=(x=Ae(this,Qs).config).onSettled)==null||y.call(x,this.state.data,p,this)),this.scheduleGc()};return bn(this,so,YD({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,E,x,y;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){a(w);return}(E=(m=Ae(this,Qs).config).onSuccess)==null||E.call(m,p,this),(y=(x=Ae(this,Qs).config).onSettled)==null||y.call(x,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,m)=>{ro(this,ka,el).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ro(this,ka,el).call(this,{type:"pause"})},onContinue:()=>{ro(this,ka,el).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Ae(this,so).start()}},Wp=new WeakMap,Hp=new WeakMap,Qs=new WeakMap,so=new WeakMap,gy=new WeakMap,Nf=new WeakMap,ka=new WeakSet,el=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tz(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return NE(i)&&i.revert&&Ae(this,Hp)?{...Ae(this,Hp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),No.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ae(this,Qs).notify({query:this,type:"updated",action:t})})},Cj);function tz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lc,Tj,rz=(Tj=class extends x_{constructor(t={}){super();Kn(this,lc);this.config=t,bn(this,lc,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??MR(i,n);let s=this.get(o);return s||(s=new ez({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){Ae(this,lc).has(t.queryHash)||(Ae(this,lc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ae(this,lc).get(t.queryHash);n&&(t.destroy(),n===t&&Ae(this,lc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){No.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ae(this,lc).get(t)}getAll(){return[...Ae(this,lc).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>HP(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>HP(t,r)):n}notify(t){No.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){No.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){No.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},lc=new WeakMap,Tj),uc,To,If,dc,gu,Rj,iz=(Rj=class extends QD{constructor(t){super();Kn(this,dc);Kn(this,uc);Kn(this,To);Kn(this,If);this.mutationId=t.mutationId,bn(this,To,t.mutationCache),bn(this,uc,[]),this.state=t.state||oz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ae(this,uc).includes(t)||(Ae(this,uc).push(t),this.clearGcTimeout(),Ae(this,To).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){bn(this,uc,Ae(this,uc).filter(n=>n!==t)),this.scheduleGc(),Ae(this,To).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ae(this,uc).length||(this.state.status==="pending"?this.scheduleGc():Ae(this,To).remove(this))}continue(){var t;return((t=Ae(this,If))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,c,l,f,p,m,E,x,y,w,R,_,C,I,A,U,$;bn(this,If,YD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(V,q)=>{ro(this,dc,gu).call(this,{type:"failed",failureCount:V,error:q})},onPause:()=>{ro(this,dc,gu).call(this,{type:"pause"})},onContinue:()=>{ro(this,dc,gu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ae(this,To).canRun(this)}));const n=this.state.status==="pending",r=!Ae(this,If).canStart();try{if(!n){ro(this,dc,gu).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=Ae(this,To).config).onMutate)==null?void 0:o.call(i,t,this));const q=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));q!==this.state.context&&ro(this,dc,gu).call(this,{type:"pending",context:q,variables:t,isPaused:r})}const V=await Ae(this,If).start();return await((l=(c=Ae(this,To).config).onSuccess)==null?void 0:l.call(c,V,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,V,t,this.state.context)),await((E=(m=Ae(this,To).config).onSettled)==null?void 0:E.call(m,V,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,V,null,t,this.state.context)),ro(this,dc,gu).call(this,{type:"success",data:V}),V}catch(V){try{throw await((R=(w=Ae(this,To).config).onError)==null?void 0:R.call(w,V,t,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,V,t,this.state.context)),await((A=(I=Ae(this,To).config).onSettled)==null?void 0:A.call(I,void 0,V,this.state.variables,this.state.context,this)),await(($=(U=this.options).onSettled)==null?void 0:$.call(U,void 0,V,t,this.state.context)),V}finally{ro(this,dc,gu).call(this,{type:"error",error:V})}}finally{Ae(this,To).runNext(this)}}},uc=new WeakMap,To=new WeakMap,If=new WeakMap,dc=new WeakSet,gu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),No.batch(()=>{Ae(this,uc).forEach(r=>{r.onMutationUpdate(t)}),Ae(this,To).notify({mutation:this,type:"updated",action:t})})},Rj);function oz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _s,vy,kj,sz=(kj=class extends x_{constructor(t={}){super();Kn(this,_s);Kn(this,vy);this.config=t,bn(this,_s,new Map),bn(this,vy,Date.now())}build(t,n,r){const i=new iz({mutationCache:this,mutationId:++K0(this,vy)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=fb(t),r=Ae(this,_s).get(n)??[];r.push(t),Ae(this,_s).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=fb(t);if(Ae(this,_s).has(n)){const i=(r=Ae(this,_s).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?Ae(this,_s).delete(n):Ae(this,_s).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Ae(this,_s).get(fb(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Ae(this,_s).get(fb(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){No.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Ae(this,_s).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>GP(n,r))}findAll(t={}){return this.getAll().filter(n=>GP(t,n))}notify(t){No.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return No.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ra))))}},_s=new WeakMap,vy=new WeakMap,kj);function fb(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function YP(e){return{onFetch:(t,n)=>{var f,p,m,E,x;const r=t.options,i=(m=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,o=((E=t.state.data)==null?void 0:E.pages)||[],s=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let y=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},R=HD(t.options,t.fetchOptions),_=async(C,I,A)=>{if(y)return Promise.reject();if(I==null&&C.pages.length)return Promise.resolve(C);const U={queryKey:t.queryKey,pageParam:I,direction:A?"backward":"forward",meta:t.options.meta};w(U);const $=await R(U),{maxPages:V}=t.options,q=A?K5:q5;return{pages:q(C.pages,$,V),pageParams:q(C.pageParams,I,V)}};if(i&&o.length){const C=i==="backward",I=C?az:QP,A={pages:o,pageParams:s},U=I(r,A);a=await _(A,U,C)}else{const C=e??o.length;do{const I=c===0?s[0]??r.initialPageParam:QP(r,a);if(c>0&&I==null)break;a=await _(a,I),c++}while(c<C)}return a};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,l,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=l}}}function QP(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function az(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var qr,Ru,ku,Gp,qp,Ou,Kp,Yp,Oj,cz=(Oj=class{constructor(e={}){Kn(this,qr);Kn(this,Ru);Kn(this,ku);Kn(this,Gp);Kn(this,qp);Kn(this,Ou);Kn(this,Kp);Kn(this,Yp);bn(this,qr,e.queryCache||new rz),bn(this,Ru,e.mutationCache||new sz),bn(this,ku,e.defaultOptions||{}),bn(this,Gp,new Map),bn(this,qp,new Map),bn(this,Ou,0)}mount(){K0(this,Ou)._++,Ae(this,Ou)===1&&(bn(this,Kp,GD.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ae(this,qr).onFocus())})),bn(this,Yp,lS.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ae(this,qr).onOnline())})))}unmount(){var e,t;K0(this,Ou)._--,Ae(this,Ou)===0&&((e=Ae(this,Kp))==null||e.call(this),bn(this,Kp,void 0),(t=Ae(this,Yp))==null||t.call(this),bn(this,Yp,void 0))}isFetching(e){return Ae(this,qr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ae(this,Ru).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ae(this,qr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Ae(this,qr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(WP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Ae(this,qr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Ae(this,qr).get(r.queryHash),o=i==null?void 0:i.state.data,s=$5(t,o);if(s!==void 0)return Ae(this,qr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return No.batch(()=>Ae(this,qr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ae(this,qr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ae(this,qr);No.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ae(this,qr),r={type:"active",...e};return No.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=No.batch(()=>Ae(this,qr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ra).catch(Ra)}invalidateQueries(e={},t={}){return No.batch(()=>{if(Ae(this,qr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=No.batch(()=>Ae(this,qr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ra)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ra)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ae(this,qr).build(this,t);return n.isStaleByTime(WP(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ra).catch(Ra)}fetchInfiniteQuery(e){return e.behavior=YP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ra).catch(Ra)}ensureInfiniteQueryData(e){return e.behavior=YP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lS.isOnline()?Ae(this,Ru).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ae(this,qr)}getMutationCache(){return Ae(this,Ru)}getDefaultOptions(){return Ae(this,ku)}setDefaultOptions(e){bn(this,ku,e)}setQueryDefaults(e,t){Ae(this,Gp).set(Qv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ae(this,Gp).values()];let n={};return t.forEach(r=>{Xv(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Ae(this,qp).set(Qv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ae(this,qp).values()];let n={};return t.forEach(r=>{Xv(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ae(this,ku).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=MR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===LR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ae(this,ku).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ae(this,qr).clear(),Ae(this,Ru).clear()}},qr=new WeakMap,Ru=new WeakMap,ku=new WeakMap,Gp=new WeakMap,qp=new WeakMap,Ou=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,Oj),lz=P.createContext(void 0),uz=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(lz.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}var Iu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Iu||(Iu={}));const XP="popstate";function dz(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return OT("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uS(i)}return hz(t,n,null,e)}function oi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fz(){return Math.random().toString(36).substr(2,8)}function JP(e,t){return{usr:e.state,key:e.key,idx:t}}function OT(e,t,n,r){return n===void 0&&(n=null),Jv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bm(t):t,{state:n,key:t&&t.key||r||fz()})}function uS(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hz(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Iu.Pop,c=null,l=f();l==null&&(l=0,s.replaceState(Jv({},s.state,{idx:l}),""));function f(){return(s.state||{idx:null}).idx}function p(){a=Iu.Pop;let w=f(),R=w==null?null:w-l;l=w,c&&c({action:a,location:y.location,delta:R})}function m(w,R){a=Iu.Push;let _=OT(y.location,w,R);l=f()+1;let C=JP(_,l),I=y.createHref(_);try{s.pushState(C,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(I)}o&&c&&c({action:a,location:y.location,delta:1})}function E(w,R){a=Iu.Replace;let _=OT(y.location,w,R);l=f();let C=JP(_,l),I=y.createHref(_);s.replaceState(C,"",I),o&&c&&c({action:a,location:y.location,delta:0})}function x(w){let R=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:uS(w);return _=_.replace(/ $/,"%20"),oi(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let y={get action(){return a},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(XP,p),c=w,()=>{i.removeEventListener(XP,p),c=null}},createHref(w){return t(i,w)},createURL:x,encodeLocation(w){let R=x(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:m,replace:E,go(w){return s.go(w)}};return y}var ZP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ZP||(ZP={}));function pz(e,t,n){return n===void 0&&(n="/"),mz(e,t,n,!1)}function mz(e,t,n,r){let i=typeof t=="string"?bm(t):t,o=FR(i.pathname||"/",n);if(o==null)return null;let s=JD(e);gz(s);let a=null;for(let c=0;a==null&&c<s.length;++c){let l=Rz(o);a=Cz(s[c],l,r)}return a}function JD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(oi(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Wu([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(oi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),JD(o.children,t,f,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:wz(l,o.index),routesMeta:f})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let c of ZD(o.path))i(o,s,c)}),t}function ZD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=ZD(r.join("/")),a=[];return a.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&a.push(...s),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function gz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ez(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vz=/^:[\w-]+$/,yz=3,bz=2,xz=1,Sz=10,_z=-2,eN=e=>e==="*";function wz(e,t){let n=e.split("/"),r=n.length;return n.some(eN)&&(r+=_z),t&&(r+=bz),n.filter(i=>!eN(i)).reduce((i,o)=>i+(vz.test(o)?yz:o===""?xz:Sz),r)}function Ez(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Cz(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",p=tN({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},f),m=c.route;if(!p&&l&&n&&!r[r.length-1].route.index&&(p=tN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Wu([o,p.pathname]),pathnameBase:Nz(Wu([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Wu([o,p.pathnameBase]))}return s}function tN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Tz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,f,p)=>{let{paramName:m,isOptional:E}=f;if(m==="*"){let y=a[p]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[p];return E&&!x?l[m]=void 0:l[m]=(x||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function Tz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),XD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Rz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return XD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function FR(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kz(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bm(e):e;return{pathname:n?n.startsWith("/")?n:Oz(n,t):t,search:Iz(r),hash:jz(i)}}function Oz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function IE(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UR(e,t){let n=Pz(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BR(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bm(e):(i=Jv({},e),oi(!i.pathname||!i.pathname.includes("?"),IE("?","pathname","search",i)),oi(!i.pathname||!i.pathname.includes("#"),IE("#","pathname","hash",i)),oi(!i.search||!i.search.includes("#"),IE("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?t[p]:"/"}let c=kz(i,a),l=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||f)&&(c.pathname+="/"),c}const Wu=e=>e.join("/").replace(/\/\/+/g,"/"),Nz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Iz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Az(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eM=["post","put","patch","delete"];new Set(eM);const Dz=["get",...eM];new Set(Dz);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(this,arguments)}const $R=P.createContext(null),Mz=P.createContext(null),fd=P.createContext(null),__=P.createContext(null),Tc=P.createContext({outlet:null,matches:[],isDataRoute:!1}),tM=P.createContext(null);function Lz(e,t){let{relative:n}=t===void 0?{}:t;xm()||oi(!1);let{basename:r,navigator:i}=P.useContext(fd),{hash:o,pathname:s,search:a}=iM(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:Wu([r,s])),i.createHref({pathname:c,search:a,hash:o})}function xm(){return P.useContext(__)!=null}function ed(){return xm()||oi(!1),P.useContext(__).location}function nM(e){P.useContext(fd).static||P.useLayoutEffect(e)}function Rl(){let{isDataRoute:e}=P.useContext(Tc);return e?Jz():Fz()}function Fz(){xm()||oi(!1);let e=P.useContext($R),{basename:t,future:n,navigator:r}=P.useContext(fd),{matches:i}=P.useContext(Tc),{pathname:o}=ed(),s=JSON.stringify(UR(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return nM(()=>{a.current=!0}),P.useCallback(function(l,f){if(f===void 0&&(f={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let p=BR(l,JSON.parse(s),o,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wu([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,s,o,e])}const Uz=P.createContext(null);function Bz(e){let t=P.useContext(Tc).outlet;return t&&P.createElement(Uz.Provider,{value:e},t)}function rM(){let{matches:e}=P.useContext(Tc),t=e[e.length-1];return t?t.params:{}}function iM(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=P.useContext(fd),{matches:i}=P.useContext(Tc),{pathname:o}=ed(),s=JSON.stringify(UR(i,r.v7_relativeSplatPath));return P.useMemo(()=>BR(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function $z(e,t){return zz(e,t)}function zz(e,t,n,r){xm()||oi(!1);let{navigator:i}=P.useContext(fd),{matches:o}=P.useContext(Tc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let l=ed(),f;if(t){var p;let w=typeof t=="string"?bm(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||oi(!1),f=w}else f=l;let m=f.pathname||"/",E=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=pz(e,{pathname:E}),y=qz(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Wu([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Wu([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&y?P.createElement(__.Provider,{value:{location:Zv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Iu.Pop}},y):y}function Vz(){let e=Xz(),t=Az(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,null)}const Wz=P.createElement(Vz,null);class Hz extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?P.createElement(Tc.Provider,{value:this.props.routeContext},P.createElement(tM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gz(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext($R);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Tc.Provider,{value:t},r)}function qz(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||oi(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:m,errors:E}=n,x=p.route.loader&&m[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||x){c=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let E,x=!1,y=null,w=null;n&&(E=a&&p.route.id?a[p.route.id]:void 0,y=p.route.errorElement||Wz,c&&(l<0&&m===0?(x=!0,w=null):l===m&&(x=!0,w=p.route.hydrateFallbackElement||null)));let R=t.concat(s.slice(0,m+1)),_=()=>{let C;return E?C=y:x?C=w:p.route.Component?C=P.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,P.createElement(Gz,{match:p,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?P.createElement(Hz,{location:n.location,revalidation:n.revalidation,component:y,error:E,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var oM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oM||{}),dS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dS||{});function Kz(e){let t=P.useContext($R);return t||oi(!1),t}function Yz(e){let t=P.useContext(Mz);return t||oi(!1),t}function Qz(e){let t=P.useContext(Tc);return t||oi(!1),t}function sM(e){let t=Qz(),n=t.matches[t.matches.length-1];return n.route.id||oi(!1),n.route.id}function Xz(){var e;let t=P.useContext(tM),n=Yz(dS.UseRouteError),r=sM(dS.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Jz(){let{router:e}=Kz(oM.UseNavigateStable),t=sM(dS.UseNavigateStable),n=P.useRef(!1);return nM(()=>{n.current=!0}),P.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Zv({fromRouteId:t},o)))},[e,t])}function PT(e){let{to:t,replace:n,state:r,relative:i}=e;xm()||oi(!1);let{future:o,static:s}=P.useContext(fd),{matches:a}=P.useContext(Tc),{pathname:c}=ed(),l=Rl(),f=BR(t,UR(a,o.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(f);return P.useEffect(()=>l(JSON.parse(p),{replace:n,state:r,relative:i}),[l,p,i,n,r]),null}function Zz(e){return Bz(e.context)}function Br(e){oi(!1)}function eV(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Iu.Pop,navigator:o,static:s=!1,future:a}=e;xm()&&oi(!1);let c=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:c,navigator:o,static:s,future:Zv({v7_relativeSplatPath:!1},a)}),[c,a,o,s]);typeof r=="string"&&(r=bm(r));let{pathname:f="/",search:p="",hash:m="",state:E=null,key:x="default"}=r,y=P.useMemo(()=>{let w=FR(f,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:E,key:x},navigationType:i}},[c,f,p,m,E,x,i]);return y==null?null:P.createElement(fd.Provider,{value:l},P.createElement(__.Provider,{children:n,value:y}))}function tV(e){let{children:t,location:n}=e;return $z(NT(t),n)}new Promise(()=>{});function NT(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let o=[...t,i];if(r.type===P.Fragment){n.push.apply(n,NT(r.props.children,o));return}r.type!==Br&&oi(!1),!r.props.index||!r.props.children||oi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=NT(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(this,arguments)}function nV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iV(e,t){return e.button===0&&(!t||t==="_self")&&!rV(e)}function jT(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function oV(e,t){let n=jT(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const sV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aV="6";try{window.__reactRouterVersion=aV}catch{}const cV="startTransition",nN=Bj[cV];function lV(e){let{basename:t,children:n,future:r,window:i}=e,o=P.useRef();o.current==null&&(o.current=dz({window:i,v5Compat:!0}));let s=o.current,[a,c]=P.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},f=P.useCallback(p=>{l&&nN?nN(()=>c(p)):c(p)},[c,l]);return P.useLayoutEffect(()=>s.listen(f),[s,f]),P.createElement(eV,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const uV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rN=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:c,to:l,preventScrollReset:f,viewTransition:p}=t,m=nV(t,sV),{basename:E}=P.useContext(fd),x,y=!1;if(typeof l=="string"&&dV.test(l)&&(x=l,uV))try{let C=new URL(window.location.href),I=l.startsWith("//")?new URL(C.protocol+l):new URL(l),A=FR(I.pathname,E);I.origin===C.origin&&A!=null?l=A+I.search+I.hash:y=!0}catch{}let w=Lz(l,{relative:i}),R=fV(l,{replace:s,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function _(C){r&&r(C),C.defaultPrevented||R(C)}return P.createElement("a",IT({},m,{href:x||w,onClick:y||o?r:_,ref:n,target:c}))});var iN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var oN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oN||(oN={}));function fV(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,c=Rl(),l=ed(),f=iM(e,{relative:s});return P.useCallback(p=>{if(iV(p,n)){p.preventDefault();let m=r!==void 0?r:uS(l)===uS(f);c(e,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[l,c,f,r,i,n,e,o,s,a])}function hV(e){let t=P.useRef(jT(e)),n=P.useRef(!1),r=ed(),i=P.useMemo(()=>oV(r.search,n.current?null:t.current),[r.search]),o=Rl(),s=P.useCallback((a,c)=>{const l=jT(typeof a=="function"?a(i):a);n.current=!0,o("?"+l,c)},[o,i]);return[i,s]}const pV=1,mV=1e6;let jE=0;function gV(){return jE=(jE+1)%Number.MAX_SAFE_INTEGER,jE.toString()}const AE=new Map,sN=e=>{if(AE.has(e))return;const t=setTimeout(()=>{AE.delete(e),wv({type:"REMOVE_TOAST",toastId:e})},mV);AE.set(e,t)},vV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?sN(n):e.toasts.forEach(r=>{sN(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Lb=[];let Fb={toasts:[]};function wv(e){Fb=vV(Fb,e),Lb.forEach(t=>{t(Fb)})}function Hu({...e}){const t=gV(),n=i=>wv({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>wv({type:"DISMISS_TOAST",toastId:t});return wv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function kl(){const[e,t]=P.useState(Fb);return P.useEffect(()=>(Lb.push(t),()=>{const n=Lb.indexOf(t);n>-1&&Lb.splice(n,1)}),[e]),{...e,toast:Hu,dismiss:n=>wv({type:"DISMISS_TOAST",toastId:n})}}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function yV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function w_(...e){return t=>e.forEach(n=>yV(n,t))}function xn(...e){return P.useCallback(w_(...e),e)}function bV(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,xV(i,...t)]}function xV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Sc=P.forwardRef((e,t)=>{const{children:n,...r}=e,i=P.Children.toArray(n),o=i.find(_V);if(o){const s=o.props.children,a=i.map(c=>c===o?P.Children.count(s)>1?P.Children.only(null):P.isValidElement(s)?s.props.children:null:c);return u.jsx(AT,{...r,ref:t,children:P.isValidElement(s)?P.cloneElement(s,void 0,a):null})}return u.jsx(AT,{...r,ref:t,children:n})});Sc.displayName="Slot";var AT=P.forwardRef((e,t)=>{const{children:n,...r}=e;if(P.isValidElement(n)){const i=EV(n);return P.cloneElement(n,{...wV(r,n.props),ref:t?w_(t,i):i})}return P.Children.count(n)>1?P.Children.only(null):null});AT.displayName="SlotClone";var SV=({children:e})=>u.jsx(u.Fragment,{children:e});function _V(e){return P.isValidElement(e)&&e.type===SV}function wV(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function EV(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function E_(e){const t=e+"CollectionProvider",[n,r]=bV(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=E=>{const{scope:x,children:y}=E,w=ht.useRef(null),R=ht.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:R,collectionRef:w,children:y})};s.displayName=t;const a=e+"CollectionSlot",c=ht.forwardRef((E,x)=>{const{scope:y,children:w}=E,R=o(a,y),_=xn(x,R.collectionRef);return u.jsx(Sc,{ref:_,children:w})});c.displayName=a;const l=e+"CollectionItemSlot",f="data-radix-collection-item",p=ht.forwardRef((E,x)=>{const{scope:y,children:w,...R}=E,_=ht.useRef(null),C=xn(x,_),I=o(l,y);return ht.useEffect(()=>(I.itemMap.set(_,{ref:_,...R}),()=>void I.itemMap.delete(_))),u.jsx(Sc,{[f]:"",ref:C,children:w})});p.displayName=l;function m(E){const x=o(e+"CollectionConsumer",E);return ht.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const R=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((I,A)=>R.indexOf(I.ref.current)-R.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},m,r]}function CV(e,t){const n=P.createContext(t),r=o=>{const{children:s,...a}=o,c=P.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function i(o){const s=P.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Rc(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];const l=p=>{var R;const{scope:m,children:E,...x}=p,y=((R=m==null?void 0:m[e])==null?void 0:R[c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})};l.displayName=o+"Provider";function f(p,m){var y;const E=((y=m==null?void 0:m[e])==null?void 0:y[c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,TV(i,...t)]}function TV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var RV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=RV.reduce((e,t)=>{const n=P.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Sc:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zR(e,t){e&&sh.flushSync(()=>e.dispatchEvent(t))}function zr(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kV(e,t=globalThis==null?void 0:globalThis.document){const n=zr(e);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var OV="DismissableLayer",DT="dismissableLayer.update",PV="dismissableLayer.pointerDownOutside",NV="dismissableLayer.focusOutside",aN,aM=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sm=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...c}=e,l=P.useContext(aM),[f,p]=P.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=P.useState({}),x=xn(t,$=>p($)),y=Array.from(l.layers),[w]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),R=y.indexOf(w),_=f?y.indexOf(f):-1,C=l.layersWithOutsidePointerEventsDisabled.size>0,I=_>=R,A=jV($=>{const V=$.target,q=[...l.branches].some(X=>X.contains(V));!I||q||(i==null||i($),s==null||s($),$.defaultPrevented||a==null||a())},m),U=AV($=>{const V=$.target;[...l.branches].some(X=>X.contains(V))||(o==null||o($),s==null||s($),$.defaultPrevented||a==null||a())},m);return kV($=>{_===l.layers.size-1&&(r==null||r($),!$.defaultPrevented&&a&&($.preventDefault(),a()))},m),P.useEffect(()=>{if(f)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(aN=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),cN(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=aN)}},[f,m,n,l]),P.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),cN())},[f,l]),P.useEffect(()=>{const $=()=>E({});return document.addEventListener(DT,$),()=>document.removeEventListener(DT,$)},[]),u.jsx(Pt.div,{...c,ref:x,style:{pointerEvents:C?I?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,U.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,A.onPointerDownCapture)})});Sm.displayName=OV;var IV="DismissableLayerBranch",cM=P.forwardRef((e,t)=>{const n=P.useContext(aM),r=P.useRef(null),i=xn(t,r);return P.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Pt.div,{...e,ref:i})});cM.displayName=IV;function jV(e,t=globalThis==null?void 0:globalThis.document){const n=zr(e),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){lM(PV,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function AV(e,t=globalThis==null?void 0:globalThis.document){const n=zr(e),r=P.useRef(!1);return P.useEffect(()=>{const i=o=>{o.target&&!r.current&&lM(NV,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cN(){const e=new CustomEvent(DT);document.dispatchEvent(e)}function lM(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?zR(i,o):i.dispatchEvent(o)}var DV=Sm,MV=cM,Yi=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},LV="Portal",_m=P.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,o]=P.useState(!1);Yi(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?B5.createPortal(u.jsx(Pt.div,{...r,ref:t}),s):null});_m.displayName=LV;function FV(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var uo=e=>{const{present:t,children:n}=e,r=UV(t),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),o=xn(r.ref,BV(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:o}):null};uo.displayName="Presence";function UV(e){const[t,n]=P.useState(),r=P.useRef({}),i=P.useRef(e),o=P.useRef("none"),s=e?"mounted":"unmounted",[a,c]=FV(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const l=hb(r.current);o.current=a==="mounted"?l:"none"},[a]),Yi(()=>{const l=r.current,f=i.current;if(f!==e){const m=o.current,E=hb(l);e?c("MOUNT"):E==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(f&&m!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Yi(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,p=E=>{const y=hb(r.current).includes(E.animationName);if(E.target===t&&y&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=E=>{E.target===t&&(o.current=hb(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function hb(e){return(e==null?void 0:e.animationName)||"none"}function BV(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=$V({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=zr(n),c=P.useCallback(l=>{if(o){const p=typeof l=="function"?l(e):l;p!==e&&a(p)}else i(l)},[o,e,i,a]);return[s,c]}function $V({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,i=P.useRef(r),o=zr(t);return P.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var zV="VisuallyHidden",C_=P.forwardRef((e,t)=>u.jsx(Pt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));C_.displayName=zV;var VR="ToastProvider",[WR,VV,WV]=E_("Toast"),[uM,Ice]=Rc("Toast",[WV]),[HV,T_]=uM(VR),dM=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,c]=P.useState(null),[l,f]=P.useState(0),p=P.useRef(!1),m=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${VR}\`. Expected non-empty \`string\`.`),u.jsx(WR.Provider,{scope:t,children:u.jsx(HV,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:l,viewport:a,onViewportChange:c,onToastAdd:P.useCallback(()=>f(E=>E+1),[]),onToastRemove:P.useCallback(()=>f(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:s})})};dM.displayName=VR;var fM="ToastViewport",GV=["F8"],MT="toast.viewportPause",LT="toast.viewportResume",hM=P.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=GV,label:i="Notifications ({hotkey})",...o}=e,s=T_(fM,n),a=VV(n),c=P.useRef(null),l=P.useRef(null),f=P.useRef(null),p=P.useRef(null),m=xn(t,p,s.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=s.toastCount>0;P.useEffect(()=>{const w=R=>{var C;r.length!==0&&r.every(I=>R[I]||R.code===I)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),P.useEffect(()=>{const w=c.current,R=p.current;if(x&&w&&R){const _=()=>{if(!s.isClosePausedRef.current){const U=new CustomEvent(MT);R.dispatchEvent(U),s.isClosePausedRef.current=!0}},C=()=>{if(s.isClosePausedRef.current){const U=new CustomEvent(LT);R.dispatchEvent(U),s.isClosePausedRef.current=!1}},I=U=>{!w.contains(U.relatedTarget)&&C()},A=()=>{w.contains(document.activeElement)||C()};return w.addEventListener("focusin",_),w.addEventListener("focusout",I),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",A),window.addEventListener("blur",_),window.addEventListener("focus",C),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",I),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",A),window.removeEventListener("blur",_),window.removeEventListener("focus",C)}}},[x,s.isClosePausedRef]);const y=P.useCallback(({tabbingDirection:w})=>{const _=a().map(C=>{const I=C.ref.current,A=[I,...o6(I)];return w==="forwards"?A:A.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return P.useEffect(()=>{const w=p.current;if(w){const R=_=>{var A,U,$;const C=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!C){const V=document.activeElement,q=_.shiftKey;if(_.target===w&&q){(A=l.current)==null||A.focus();return}const G=y({tabbingDirection:q?"backwards":"forwards"}),ee=G.findIndex(ce=>ce===V);DE(G.slice(ee+1))?_.preventDefault():q?(U=l.current)==null||U.focus():($=f.current)==null||$.focus()}};return w.addEventListener("keydown",R),()=>w.removeEventListener("keydown",R)}},[a,y]),u.jsxs(MV,{ref:c,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(FT,{ref:l,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});DE(w)}}),u.jsx(WR.Slot,{scope:n,children:u.jsx(Pt.ol,{tabIndex:-1,...o,ref:m})}),x&&u.jsx(FT,{ref:f,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});DE(w)}})]})});hM.displayName=fM;var pM="ToastFocusProxy",FT=P.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=T_(pM,n);return u.jsx(C_,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var l;const a=s.relatedTarget;!((l=o.viewport)!=null&&l.contains(a))&&r()}})});FT.displayName=pM;var R_="Toast",qV="toast.swipeStart",KV="toast.swipeMove",YV="toast.swipeCancel",QV="toast.swipeEnd",mM=P.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[a=!0,c]=bl({prop:r,defaultProp:i,onChange:o});return u.jsx(uo,{present:n||a,children:u.jsx(ZV,{open:a,...s,ref:t,onClose:()=>c(!1),onPause:zr(e.onPause),onResume:zr(e.onResume),onSwipeStart:Ke(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,l=>{const{x:f,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,l=>{const{x:f,y:p}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});mM.displayName=R_;var[XV,JV]=uM(R_,{onClose(){}}),ZV=P.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:c,onResume:l,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:E,...x}=e,y=T_(R_,n),[w,R]=P.useState(null),_=xn(t,ce=>R(ce)),C=P.useRef(null),I=P.useRef(null),A=i||y.duration,U=P.useRef(0),$=P.useRef(A),V=P.useRef(0),{onToastAdd:q,onToastRemove:X}=y,J=zr(()=>{var xe;(w==null?void 0:w.contains(document.activeElement))&&((xe=y.viewport)==null||xe.focus()),s()}),G=P.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(V.current),U.current=new Date().getTime(),V.current=window.setTimeout(J,ce))},[J]);P.useEffect(()=>{const ce=y.viewport;if(ce){const xe=()=>{G($.current),l==null||l()},Se=()=>{const ve=new Date().getTime()-U.current;$.current=$.current-ve,window.clearTimeout(V.current),c==null||c()};return ce.addEventListener(MT,Se),ce.addEventListener(LT,xe),()=>{ce.removeEventListener(MT,Se),ce.removeEventListener(LT,xe)}}},[y.viewport,A,c,l,G]),P.useEffect(()=>{o&&!y.isClosePausedRef.current&&G(A)},[o,A,y.isClosePausedRef,G]),P.useEffect(()=>(q(),()=>X()),[q,X]);const ee=P.useMemo(()=>w?_M(w):null,[w]);return y.viewport?u.jsxs(u.Fragment,{children:[ee&&u.jsx(e6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),u.jsx(XV,{scope:n,onClose:J,children:sh.createPortal(u.jsx(WR.ItemSlot,{scope:n,children:u.jsx(DV,{asChild:!0,onEscapeKeyDown:Ke(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||J(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,ce=>{ce.key==="Escape"&&(a==null||a(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:Ke(e.onPointerDown,ce=>{ce.button===0&&(C.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:Ke(e.onPointerMove,ce=>{if(!C.current)return;const xe=ce.clientX-C.current.x,Se=ce.clientY-C.current.y,ve=!!I.current,Y=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=Y?Q(0,xe):0,fe=Y?0:Q(0,Se),Te=ce.pointerType==="touch"?10:2,Ge={x:ne,y:fe},Fe={originalEvent:ce,delta:Ge};ve?(I.current=Ge,pb(KV,p,Fe,{discrete:!1})):lN(Ge,y.swipeDirection,Te)?(I.current=Ge,pb(qV,f,Fe,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(xe)>Te||Math.abs(Se)>Te)&&(C.current=null)}),onPointerUp:Ke(e.onPointerUp,ce=>{const xe=I.current,Se=ce.target;if(Se.hasPointerCapture(ce.pointerId)&&Se.releasePointerCapture(ce.pointerId),I.current=null,C.current=null,xe){const ve=ce.currentTarget,Y={originalEvent:ce,delta:xe};lN(xe,y.swipeDirection,y.swipeThreshold)?pb(QV,E,Y,{discrete:!0}):pb(YV,m,Y,{discrete:!0}),ve.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),e6=e=>{const{__scopeToast:t,children:n,...r}=e,i=T_(R_,t),[o,s]=P.useState(!1),[a,c]=P.useState(!1);return r6(()=>s(!0)),P.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:u.jsx(_m,{asChild:!0,children:u.jsx(C_,{...r,children:o&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},t6="ToastTitle",gM=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});gM.displayName=t6;var n6="ToastDescription",vM=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});vM.displayName=n6;var yM="ToastAction",bM=P.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(SM,{altText:n,asChild:!0,children:u.jsx(HR,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${yM}\`. Expected non-empty \`string\`.`),null)});bM.displayName=yM;var xM="ToastClose",HR=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=JV(xM,n);return u.jsx(SM,{asChild:!0,children:u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,i.onClose)})})});HR.displayName=xM;var SM=P.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return u.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function _M(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),i6(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(..._M(r))}}),t}function pb(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?zR(i,o):i.dispatchEvent(o)}var lN=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function r6(e=()=>{}){const t=zr(e);Yi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function i6(e){return e.nodeType===e.ELEMENT_NODE}function o6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function DE(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var s6=dM,wM=hM,EM=mM,CM=gM,TM=vM,RM=bM,kM=HR;function OM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=OM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function PM(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=OM(e))&&(r&&(r+=" "),r+=t);return r}const uN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dN=PM,k_=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return dN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(l=>{const f=n==null?void 0:n[l],p=o==null?void 0:o[l];if(f===null)return null;const m=uN(f)||uN(p);return i[l][m]}),a=n&&Object.entries(n).reduce((l,f)=>{let[p,m]=f;return m===void 0||(l[p]=m),l},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,f)=>{let{class:p,className:m,...E}=f;return Object.entries(E).every(x=>{let[y,w]=x;return Array.isArray(w)?w.includes({...o,...a}[y]):{...o,...a}[y]===w})?[...l,p,m]:l},[]);return dN(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>P.createElement("svg",{ref:c,...c6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:NM("lucide",i),...a},[...s.map(([l,f])=>P.createElement(l,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(e,t)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(l6,{ref:o,iconNode:t,className:NM(`lucide-${a6(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Rn("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Rn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Rn("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Rn("BookOpenText",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Rn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Rn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Rn("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Rn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=Rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Rn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Rn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Rn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Rn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Rn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Rn("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Rn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Rn("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Rn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Rn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Rn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=Rn("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Rn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Rn("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Rn("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Rn("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Rn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Rn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Rn("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Rn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Rn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Rn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KR="-",I6=e=>{const t=A6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(KR);return a[0]===""&&a.length!==1&&a.shift(),LM(a,t)||j6(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},LM=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?LM(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(KR);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},fN=/^\[(.+)\]$/,j6=e=>{if(fN.test(e)){const t=fN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},A6=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return M6(Object.entries(e.classGroups),n).forEach(([o,s])=>{$T(s,r,o,t)}),r},$T=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:hN(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(D6(i)){$T(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{$T(s,hN(t,o),n,r)})})},hN=(e,t)=>{let n=e;return t.split(KR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},D6=e=>e.isThemeGetter,M6=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,L6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},FM="!",F6=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const c=[];let l=0,f=0,p;for(let w=0;w<a.length;w++){let R=a[w];if(l===0){if(R===i&&(r||a.slice(w,w+o)===t)){c.push(a.slice(f,w)),f=w+o;continue}if(R==="/"){p=w;continue}}R==="["?l++:R==="]"&&l--}const m=c.length===0?a:a.substring(f),E=m.startsWith(FM),x=E?m.substring(1):m,y=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:E,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:s}):s},U6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},B6=e=>({cache:L6(e.cacheSize),parseClassName:F6(e),...I6(e)}),$6=/\s+/,z6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split($6);let a="";for(let c=s.length-1;c>=0;c-=1){const l=s[c],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:E}=n(l);let x=!!E,y=r(x?m.substring(0,E):m);if(!y){if(!x){a=l+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=l+(a.length>0?" "+a:a);continue}x=!1}const w=U6(f).join(":"),R=p?w+FM:w,_=R+y;if(o.includes(_))continue;o.push(_);const C=i(y,x);for(let I=0;I<C.length;++I){const A=C[I];o.push(R+A)}a=l+(a.length>0?" "+a:a)}return a};function V6(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=UM(t))&&(r&&(r+=" "),r+=n);return r}const UM=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=UM(e[r]))&&(n&&(n+=" "),n+=t);return n};function W6(e,...t){let n,r,i,o=s;function s(c){const l=t.reduce((f,p)=>p(f),e());return n=B6(l),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const f=z6(c,n);return i(c,f),f}return function(){return o(V6.apply(null,arguments))}}const Cr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},BM=/^\[(?:([a-z-]+):)?(.+)\]$/i,H6=/^\d+\/\d+$/,G6=new Set(["px","full","screen"]),q6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,X6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yc=e=>Ap(e)||G6.has(e)||H6.test(e),fu=e=>wm(e,"length",o8),Ap=e=>!!e&&!Number.isNaN(Number(e)),ME=e=>wm(e,"number",Ap),Yg=e=>!!e&&Number.isInteger(Number(e)),J6=e=>e.endsWith("%")&&Ap(e.slice(0,-1)),gn=e=>BM.test(e),hu=e=>q6.test(e),Z6=new Set(["length","size","percentage"]),e8=e=>wm(e,Z6,$M),t8=e=>wm(e,"position",$M),n8=new Set(["image","url"]),r8=e=>wm(e,n8,a8),i8=e=>wm(e,"",s8),Qg=()=>!0,wm=(e,t,n)=>{const r=BM.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},o8=e=>K6.test(e)&&!Y6.test(e),$M=()=>!1,s8=e=>Q6.test(e),a8=e=>X6.test(e),c8=()=>{const e=Cr("colors"),t=Cr("spacing"),n=Cr("blur"),r=Cr("brightness"),i=Cr("borderColor"),o=Cr("borderRadius"),s=Cr("borderSpacing"),a=Cr("borderWidth"),c=Cr("contrast"),l=Cr("grayscale"),f=Cr("hueRotate"),p=Cr("invert"),m=Cr("gap"),E=Cr("gradientColorStops"),x=Cr("gradientColorStopPositions"),y=Cr("inset"),w=Cr("margin"),R=Cr("opacity"),_=Cr("padding"),C=Cr("saturate"),I=Cr("scale"),A=Cr("sepia"),U=Cr("skew"),$=Cr("space"),V=Cr("translate"),q=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",gn,t],G=()=>[gn,t],ee=()=>["",Yc,fu],ce=()=>["auto",Ap,gn],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Se=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",gn],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Ap,gn];return{cacheSize:500,separator:":",theme:{colors:[Qg],spacing:[Yc,fu],blur:["none","",hu,gn],brightness:fe(),borderColor:[e],borderRadius:["none","","full",hu,gn],borderSpacing:G(),borderWidth:ee(),contrast:fe(),grayscale:Q(),hueRotate:fe(),invert:Q(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[J6,fu],inset:J(),margin:J(),opacity:fe(),padding:G(),saturate:fe(),scale:fe(),sepia:Q(),skew:fe(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",gn]}],container:["container"],columns:[{columns:[hu]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),gn]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yg,gn]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gn]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Yg,gn]}],"grid-cols":[{"grid-cols":[Qg]}],"col-start-end":[{col:["auto",{span:["full",Yg,gn]},gn]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[Qg]}],"row-start-end":[{row:["auto",{span:[Yg,gn]},gn]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gn,t]}],"min-w":[{"min-w":[gn,t,"min","max","fit"]}],"max-w":[{"max-w":[gn,t,"none","full","min","max","fit","prose",{screen:[hu]},hu]}],h:[{h:[gn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hu,fu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ME]}],"font-family":[{font:[Qg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gn]}],"line-clamp":[{"line-clamp":["none",Ap,ME]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yc,gn]}],"list-image":[{"list-image":["none",gn]}],"list-style-type":[{list:["none","disc","decimal",gn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yc,fu]}],"underline-offset":[{"underline-offset":["auto",Yc,gn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),t8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...Se(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:Se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Se()]}],"outline-offset":[{"outline-offset":[Yc,gn]}],"outline-w":[{outline:[Yc,fu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Yc,fu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hu,i8]}],"shadow-color":[{shadow:[Qg]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hu,gn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gn]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",gn]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",gn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Yg,gn]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yc,fu,ME]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l8=W6(c8);function nt(...e){return l8(PM(e))}const u8=s6,zM=P.forwardRef(({className:e,...t},n)=>u.jsx(wM,{ref:n,className:nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zM.displayName=wM.displayName;const d8=k_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VM=P.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(EM,{ref:r,className:nt(d8({variant:t}),e),...n}));VM.displayName=EM.displayName;const f8=P.forwardRef(({className:e,...t},n)=>u.jsx(RM,{ref:n,className:nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));f8.displayName=RM.displayName;const WM=P.forwardRef(({className:e,...t},n)=>u.jsx(kM,{ref:n,className:nt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(hd,{className:"h-4 w-4"})}));WM.displayName=kM.displayName;const HM=P.forwardRef(({className:e,...t},n)=>u.jsx(CM,{ref:n,className:nt("text-sm font-semibold",e),...t}));HM.displayName=CM.displayName;const GM=P.forwardRef(({className:e,...t},n)=>u.jsx(TM,{ref:n,className:nt("text-sm opacity-90",e),...t}));GM.displayName=TM.displayName;function h8(){const{toasts:e}=kl();return u.jsxs(u8,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return u.jsxs(VM,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(HM,{children:n}),r&&u.jsx(GM,{children:r})]}),i,u.jsx(WM,{})]},t)}),u.jsx(zM,{})]})}const Dp="https://back.knowledgetemple.in/api/v1/admin",zT="https://back.knowledgetemple.in/api/v1",p8="/login",m8="/standard/createstandard",g8="/standard/getstandard/:id",v8="/standard/getallstandards",y8="/standard/updatestandard/:id",b8="/standard/standardtoggle",x8="/subject/subjectcreate",S8="/subject/idsubject/:id",_8="/subject/allsubjects",w8="/subject/updatesubject/:id",E8="/subject/togglesubject",C8="/board/createboard",T8="/board/getbyidboard/:id",R8="/board/allboard",k8="/board/updateboard/:id",O8="/board/toggleboard",P8="/activity/createactivity",N8="/activity/idactivity/:id",I8="/activity/allactivity",j8="/activity/updateactivity/:id",A8="/activity/toggleactivity",D8="/course/createcourse",M8="/course/getallcourses",L8="/course/updatecourse",F8="/course/coursetoggle",U8="/quiz/create",B8="/quiz",$8="/quiz/all",z8="/quiz/",V8="/quiz/activeToggle",qM="/quiz/results",W8="/lesson/create",H8="/lesson/alllesson",G8="/lesson/updatelesson",q8="/lesson/togglelesson",K8="/mentor/creatementors",Y8="/mentor/fetchmentors",Q8="/mentor/",X8="/mentor/mentorstoggle",J8="/getCheckoutDetails",Z8="/verifyPayment",eW="/user/all",tW="/user/toggleBlockUser",nW="/user/updateUserDetails",KM="/payment/all",rW="/payment/allTransactions",iW="/getProfile",oW="/quiz/getUserQuizResults",sW="/course/getUserCoursesTrack",aW="/user/getUserDetails",cW="/offer",lW="/offer",uW=e=>`/offer/${e}`,dW=e=>`/offer/${e}`,fW=e=>`/offer/${e}`,hW="/quiz/getEligibleOfrQuizzes",pW="/course/getEligibleOfrCourses",mW="/stream",gW="/stream/create-stream",vW=e=>`/stream/start-stream/${e}`,yW="/stream/stop-stream/";function YM(e,t){return function(){return e.apply(t,arguments)}}const{toString:bW}=Object.prototype,{getPrototypeOf:YR}=Object,P_=(e=>t=>{const n=bW.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ua=e=>(e=e.toLowerCase(),t=>P_(t)===e),N_=e=>t=>typeof t===e,{isArray:Em}=Array,ey=N_("undefined");function xW(e){return e!==null&&!ey(e)&&e.constructor!==null&&!ey(e.constructor)&&Os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const QM=Ua("ArrayBuffer");function SW(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QM(e.buffer),t}const _W=N_("string"),Os=N_("function"),XM=N_("number"),I_=e=>e!==null&&typeof e=="object",wW=e=>e===!0||e===!1,Ub=e=>{if(P_(e)!=="object")return!1;const t=YR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},EW=Ua("Date"),CW=Ua("File"),TW=Ua("Blob"),RW=Ua("FileList"),kW=e=>I_(e)&&Os(e.pipe),OW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Os(e.append)&&((t=P_(e))==="formdata"||t==="object"&&Os(e.toString)&&e.toString()==="[object FormData]"))},PW=Ua("URLSearchParams"),[NW,IW,jW,AW]=["ReadableStream","Request","Response","Headers"].map(Ua),DW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ey(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Em(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function JM(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const wf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZM=e=>!ey(e)&&e!==wf;function VT(){const{caseless:e}=ZM(this)&&this||{},t={},n=(r,i)=>{const o=e&&JM(t,i)||i;Ub(t[o])&&Ub(r)?t[o]=VT(t[o],r):Ub(r)?t[o]=VT({},r):Em(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ey(arguments[r],n);return t}const MW=(e,t,n,{allOwnKeys:r}={})=>(Ey(t,(i,o)=>{n&&Os(i)?e[o]=YM(i,n):e[o]=i},{allOwnKeys:r}),e),LW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),FW=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},UW=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&YR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},BW=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},$W=e=>{if(!e)return null;if(Em(e))return e;let t=e.length;if(!XM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},zW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&YR(Uint8Array)),VW=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},WW=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},HW=Ua("HTMLFormElement"),GW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pN=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),qW=Ua("RegExp"),eL=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ey(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},KW=e=>{eL(e,(t,n)=>{if(Os(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Os(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},YW=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Em(e)?r(e):r(String(e).split(t)),n},QW=()=>{},XW=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,LE="abcdefghijklmnopqrstuvwxyz",mN="0123456789",tL={DIGIT:mN,ALPHA:LE,ALPHA_DIGIT:LE+LE.toUpperCase()+mN},JW=(e=16,t=tL.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function ZW(e){return!!(e&&Os(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const e9=e=>{const t=new Array(10),n=(r,i)=>{if(I_(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Em(r)?[]:{};return Ey(r,(s,a)=>{const c=n(s,i+1);!ey(c)&&(o[a]=c)}),t[i]=void 0,o}}return r};return n(e,0)},t9=Ua("AsyncFunction"),n9=e=>e&&(I_(e)||Os(e))&&Os(e.then)&&Os(e.catch),nL=((e,t)=>e?setImmediate:t?((n,r)=>(wf.addEventListener("message",({source:i,data:o})=>{i===wf&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wf.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Os(wf.postMessage)),r9=typeof queueMicrotask<"u"?queueMicrotask.bind(wf):typeof process<"u"&&process.nextTick||nL,Ee={isArray:Em,isArrayBuffer:QM,isBuffer:xW,isFormData:OW,isArrayBufferView:SW,isString:_W,isNumber:XM,isBoolean:wW,isObject:I_,isPlainObject:Ub,isReadableStream:NW,isRequest:IW,isResponse:jW,isHeaders:AW,isUndefined:ey,isDate:EW,isFile:CW,isBlob:TW,isRegExp:qW,isFunction:Os,isStream:kW,isURLSearchParams:PW,isTypedArray:zW,isFileList:RW,forEach:Ey,merge:VT,extend:MW,trim:DW,stripBOM:LW,inherits:FW,toFlatObject:UW,kindOf:P_,kindOfTest:Ua,endsWith:BW,toArray:$W,forEachEntry:VW,matchAll:WW,isHTMLForm:HW,hasOwnProperty:pN,hasOwnProp:pN,reduceDescriptors:eL,freezeMethods:KW,toObjectSet:YW,toCamelCase:GW,noop:QW,toFiniteNumber:XW,findKey:JM,global:wf,isContextDefined:ZM,ALPHABET:tL,generateString:JW,isSpecCompliantForm:ZW,toJSONObject:e9,isAsyncFn:t9,isThenable:n9,setImmediate:nL,asap:r9};function hn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const rL=hn.prototype,iL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{iL[e]={value:e}});Object.defineProperties(hn,iL);Object.defineProperty(rL,"isAxiosError",{value:!0});hn.from=(e,t,n,r,i,o)=>{const s=Object.create(rL);return Ee.toFlatObject(e,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),hn.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const i9=null;function WT(e){return Ee.isPlainObject(e)||Ee.isArray(e)}function oL(e){return Ee.endsWith(e,"[]")?e.slice(0,-2):e}function gN(e,t,n){return e?e.concat(t).map(function(i,o){return i=oL(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function o9(e){return Ee.isArray(e)&&!e.some(WT)}const s9=Ee.toFlatObject(Ee,{},null,function(t){return/^is[A-Z]/.test(t)});function j_(e,t,n){if(!Ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!Ee.isUndefined(w[y])});const r=n.metaTokens,i=n.visitor||f,o=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(t);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(Ee.isDate(x))return x.toISOString();if(!c&&Ee.isBlob(x))throw new hn("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(x)||Ee.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,y,w){let R=x;if(x&&!w&&typeof x=="object"){if(Ee.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(Ee.isArray(x)&&o9(x)||(Ee.isFileList(x)||Ee.endsWith(y,"[]"))&&(R=Ee.toArray(x)))return y=oL(y),R.forEach(function(C,I){!(Ee.isUndefined(C)||C===null)&&t.append(s===!0?gN([y],I,o):s===null?y:y+"[]",l(C))}),!1}return WT(x)?!0:(t.append(gN(w,y,o),l(x)),!1)}const p=[],m=Object.assign(s9,{defaultVisitor:f,convertValue:l,isVisitable:WT});function E(x,y){if(!Ee.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(x),Ee.forEach(x,function(R,_){(!(Ee.isUndefined(R)||R===null)&&i.call(t,R,Ee.isString(_)?_.trim():_,y,m))===!0&&E(R,y?y.concat(_):[_])}),p.pop()}}if(!Ee.isObject(e))throw new TypeError("data must be an object");return E(e),t}function vN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function QR(e,t){this._pairs=[],e&&j_(e,this,t)}const sL=QR.prototype;sL.append=function(t,n){this._pairs.push([t,n])};sL.toString=function(t){const n=t?function(r){return t.call(this,r,vN)}:vN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function a9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aL(e,t,n){if(!t)return e;const r=n&&n.encode||a9;Ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=Ee.isURLSearchParams(t)?t.toString():new QR(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class yN{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c9=typeof URLSearchParams<"u"?URLSearchParams:QR,l9=typeof FormData<"u"?FormData:null,u9=typeof Blob<"u"?Blob:null,d9={isBrowser:!0,classes:{URLSearchParams:c9,FormData:l9,Blob:u9},protocols:["http","https","file","blob","url","data"]},XR=typeof window<"u"&&typeof document<"u",HT=typeof navigator=="object"&&navigator||void 0,f9=XR&&(!HT||["ReactNative","NativeScript","NS"].indexOf(HT.product)<0),h9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p9=XR&&window.location.href||"http://localhost",m9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XR,hasStandardBrowserEnv:f9,hasStandardBrowserWebWorkerEnv:h9,navigator:HT,origin:p9},Symbol.toStringTag,{value:"Module"})),co={...m9,...d9};function g9(e,t){return j_(e,new co.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return co.isNode&&Ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function v9(e){return Ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function y9(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function lL(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=o>=n.length;return s=!s&&Ee.isArray(i)?i.length:s,c?(Ee.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Ee.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Ee.isArray(i[s])&&(i[s]=y9(i[s])),!a)}if(Ee.isFormData(e)&&Ee.isFunction(e.entries)){const n={};return Ee.forEachEntry(e,(r,i)=>{t(v9(r),i,n,0)}),n}return null}function b9(e,t,n){if(Ee.isString(e))try{return(t||JSON.parse)(e),Ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Cy={transitional:cL,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ee.isObject(t);if(o&&Ee.isHTMLForm(t)&&(t=new FormData(t)),Ee.isFormData(t))return i?JSON.stringify(lL(t)):t;if(Ee.isArrayBuffer(t)||Ee.isBuffer(t)||Ee.isStream(t)||Ee.isFile(t)||Ee.isBlob(t)||Ee.isReadableStream(t))return t;if(Ee.isArrayBufferView(t))return t.buffer;if(Ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return g9(t,this.formSerializer).toString();if((a=Ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return j_(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),b9(t)):t}],transformResponse:[function(t){const n=this.transitional||Cy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(t)||Ee.isReadableStream(t))return t;if(t&&Ee.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?hn.from(a,hn.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:co.classes.FormData,Blob:co.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],e=>{Cy.headers[e]={}});const x9=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S9=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&x9[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},bN=Symbol("internals");function Xg(e){return e&&String(e).trim().toLowerCase()}function Bb(e){return e===!1||e==null?e:Ee.isArray(e)?e.map(Bb):String(e)}function _9(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const w9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function FE(e,t,n,r,i){if(Ee.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Ee.isString(t)){if(Ee.isString(r))return t.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(t)}}function E9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function C9(e,t){const n=Ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class ts{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,c,l){const f=Xg(c);if(!f)throw new Error("header name must be a non-empty string");const p=Ee.findKey(i,f);(!p||i[p]===void 0||l===!0||l===void 0&&i[p]!==!1)&&(i[p||c]=Bb(a))}const s=(a,c)=>Ee.forEach(a,(l,f)=>o(l,f,c));if(Ee.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Ee.isString(t)&&(t=t.trim())&&!w9(t))s(S9(t),n);else if(Ee.isHeaders(t))for(const[a,c]of t.entries())o(c,a,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Xg(t),t){const r=Ee.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return _9(i);if(Ee.isFunction(n))return n.call(this,i,r);if(Ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xg(t),t){const r=Ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||FE(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=Xg(s),s){const a=Ee.findKey(r,s);a&&(!n||FE(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ee.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||FE(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Ee.forEach(this,(i,o)=>{const s=Ee.findKey(r,o);if(s){n[s]=Bb(i),delete n[o];return}const a=t?E9(o):String(o).trim();a!==o&&delete n[o],n[a]=Bb(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[bN]=this[bN]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Xg(s);r[a]||(C9(i,s),r[a]=!0)}return Ee.isArray(t)?t.forEach(o):o(t),this}}ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(ts.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ee.freezeMethods(ts);function UE(e,t){const n=this||Cy,r=t||n,i=ts.from(r.headers);let o=r.data;return Ee.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function uL(e){return!!(e&&e.__CANCEL__)}function Cm(e,t,n){hn.call(this,e??"canceled",hn.ERR_CANCELED,t,n),this.name="CanceledError"}Ee.inherits(Cm,hn,{__CANCEL__:!0});function dL(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new hn("Request failed with status code "+n.status,[hn.ERR_BAD_REQUEST,hn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function T9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function R9(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),f=r[o];s||(s=l),n[i]=c,r[i]=l;let p=o,m=0;for(;p!==i;)m+=n[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const E=f&&l-f;return E?Math.round(m*1e3/E):void 0}}function k9(e,t){let n=0,r=1e3/t,i,o;const s=(l,f=Date.now())=>{n=f,i=null,o&&(clearTimeout(o),o=null),e.apply(null,l)};return[(...l)=>{const f=Date.now(),p=f-n;p>=r?s(l,f):(i=l,o||(o=setTimeout(()=>{o=null,s(i)},r-p)))},()=>i&&s(i)]}const fS=(e,t,n=3)=>{let r=0;const i=R9(50,250);return k9(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,l=i(c),f=s<=a;r=s;const p={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&f?(a-s)/l:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(p)},n)},xN=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},SN=e=>(...t)=>Ee.asap(()=>e(...t)),O9=co.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,co.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(co.origin),co.navigator&&/(msie|trident)/i.test(co.navigator.userAgent)):()=>!0,P9=co.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Ee.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ee.isString(r)&&s.push("path="+r),Ee.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function I9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function fL(e,t){return e&&!N9(t)?I9(e,t):t}const _N=e=>e instanceof ts?{...e}:e;function Gf(e,t){t=t||{};const n={};function r(l,f,p,m){return Ee.isPlainObject(l)&&Ee.isPlainObject(f)?Ee.merge.call({caseless:m},l,f):Ee.isPlainObject(f)?Ee.merge({},f):Ee.isArray(f)?f.slice():f}function i(l,f,p,m){if(Ee.isUndefined(f)){if(!Ee.isUndefined(l))return r(void 0,l,p,m)}else return r(l,f,p,m)}function o(l,f){if(!Ee.isUndefined(f))return r(void 0,f)}function s(l,f){if(Ee.isUndefined(f)){if(!Ee.isUndefined(l))return r(void 0,l)}else return r(void 0,f)}function a(l,f,p){if(p in t)return r(l,f);if(p in e)return r(void 0,l)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,f,p)=>i(_N(l),_N(f),p,!0)};return Ee.forEach(Object.keys(Object.assign({},e,t)),function(f){const p=c[f]||i,m=p(e[f],t[f],f);Ee.isUndefined(m)&&p!==a||(n[f]=m)}),n}const hL=e=>{const t=Gf({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=ts.from(s),t.url=aL(fL(t.baseURL,t.url),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Ee.isFormData(n)){if(co.hasStandardBrowserEnv||co.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...f].join("; "))}}if(co.hasStandardBrowserEnv&&(r&&Ee.isFunction(r)&&(r=r(t)),r||r!==!1&&O9(t.url))){const l=i&&o&&P9.read(o);l&&s.set(i,l)}return t},j9=typeof XMLHttpRequest<"u",A9=j9&&function(e){return new Promise(function(n,r){const i=hL(e);let o=i.data;const s=ts.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=i,f,p,m,E,x;function y(){E&&E(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function R(){if(!w)return;const C=ts.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:C,config:e,request:w};dL(function($){n($),y()},function($){r($),y()},A),w=null}"onloadend"in w?w.onloadend=R:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(R)},w.onabort=function(){w&&(r(new hn("Request aborted",hn.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new hn("Network Error",hn.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||cL;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new hn(I,A.clarifyTimeoutError?hn.ETIMEDOUT:hn.ECONNABORTED,e,w)),w=null},o===void 0&&s.setContentType(null),"setRequestHeader"in w&&Ee.forEach(s.toJSON(),function(I,A){w.setRequestHeader(A,I)}),Ee.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),l&&([m,x]=fS(l,!0),w.addEventListener("progress",m)),c&&w.upload&&([p,E]=fS(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(f=C=>{w&&(r(!C||C.type?new Cm(null,e,w):C),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const _=T9(i.url);if(_&&co.protocols.indexOf(_)===-1){r(new hn("Unsupported protocol "+_+":",hn.ERR_BAD_REQUEST,e));return}w.send(o||null)})},D9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(l){if(!i){i=!0,a();const f=l instanceof Error?l:this.reason;r.abort(f instanceof hn?f:new Cm(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,o(new hn(`timeout ${t} of ms exceeded`,hn.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),e=null)};e.forEach(l=>l.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>Ee.asap(a),c}},M9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},L9=async function*(e,t){for await(const n of F9(e))yield*M9(n,t)},F9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},wN=(e,t,n,r)=>{const i=L9(e,t);let o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:f}=await i.next();if(l){a(),c.close();return}let p=f.byteLength;if(n){let m=o+=p;n(m)}c.enqueue(new Uint8Array(f))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},A_=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pL=A_&&typeof ReadableStream=="function",U9=A_&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},B9=pL&&mL(()=>{let e=!1;const t=new Request(co.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),EN=64*1024,GT=pL&&mL(()=>Ee.isReadableStream(new Response("").body)),hS={stream:GT&&(e=>e.body)};A_&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!hS[t]&&(hS[t]=Ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new hn(`Response type '${t}' is not supported`,hn.ERR_NOT_SUPPORT,r)})})})(new Response);const $9=async e=>{if(e==null)return 0;if(Ee.isBlob(e))return e.size;if(Ee.isSpecCompliantForm(e))return(await new Request(co.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(e)||Ee.isArrayBuffer(e))return e.byteLength;if(Ee.isURLSearchParams(e)&&(e=e+""),Ee.isString(e))return(await U9(e)).byteLength},z9=async(e,t)=>{const n=Ee.toFiniteNumber(e.getContentLength());return n??$9(t)},V9=A_&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:f,withCredentials:p="same-origin",fetchOptions:m}=hL(e);l=l?(l+"").toLowerCase():"text";let E=D9([i,o&&o.toAbortSignal()],s),x;const y=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let w;try{if(c&&B9&&n!=="get"&&n!=="head"&&(w=await z9(f,r))!==0){let A=new Request(t,{method:"POST",body:r,duplex:"half"}),U;if(Ee.isFormData(r)&&(U=A.headers.get("content-type"))&&f.setContentType(U),A.body){const[$,V]=xN(w,fS(SN(c)));r=wN(A.body,EN,$,V)}}Ee.isString(p)||(p=p?"include":"omit");const R="credentials"in Request.prototype;x=new Request(t,{...m,signal:E,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:R?p:void 0});let _=await fetch(x);const C=GT&&(l==="stream"||l==="response");if(GT&&(a||C&&y)){const A={};["status","statusText","headers"].forEach(q=>{A[q]=_[q]});const U=Ee.toFiniteNumber(_.headers.get("content-length")),[$,V]=a&&xN(U,fS(SN(a),!0))||[];_=new Response(wN(_.body,EN,$,()=>{V&&V(),y&&y()}),A)}l=l||"text";let I=await hS[Ee.findKey(hS,l)||"text"](_,e);return!C&&y&&y(),await new Promise((A,U)=>{dL(A,U,{data:I,headers:ts.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:x})})}catch(R){throw y&&y(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new hn("Network Error",hn.ERR_NETWORK,e,x),{cause:R.cause||R}):hn.from(R,R&&R.code,e,x)}}),qT={http:i9,xhr:A9,fetch:V9};Ee.forEach(qT,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const CN=e=>`- ${e}`,W9=e=>Ee.isFunction(e)||e===null||e===!1,gL={getAdapter:e=>{e=Ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!W9(n)&&(r=qT[(s=String(n)).toLowerCase()],r===void 0))throw new hn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(CN).join(`
`):" "+CN(o[0]):"as no adapter specified";throw new hn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:qT};function BE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cm(null,e)}function TN(e){return BE(e),e.headers=ts.from(e.headers),e.data=UE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gL.getAdapter(e.adapter||Cy.adapter)(e).then(function(r){return BE(e),r.data=UE.call(e,e.transformResponse,r),r.headers=ts.from(r.headers),r},function(r){return uL(r)||(BE(e),r&&r.response&&(r.response.data=UE.call(e,e.transformResponse,r.response),r.response.headers=ts.from(r.response.headers))),Promise.reject(r)})}const vL="1.7.9",D_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{D_[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const RN={};D_.transitional=function(t,n,r){function i(o,s){return"[Axios v"+vL+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new hn(i(s," has been removed"+(n?" in "+n:"")),hn.ERR_DEPRECATED);return n&&!RN[s]&&(RN[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};D_.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function H9(e,t,n){if(typeof e!="object")throw new hn("options must be an object",hn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new hn("option "+o+" must be "+c,hn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new hn("Unknown option "+o,hn.ERR_BAD_OPTION)}}const $b={assertOptions:H9,validators:D_},sc=$b.validators;class Df{constructor(t){this.defaults=t,this.interceptors={request:new yN,response:new yN}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Gf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&$b.assertOptions(r,{silentJSONParsing:sc.transitional(sc.boolean),forcedJSONParsing:sc.transitional(sc.boolean),clarifyTimeoutError:sc.transitional(sc.boolean)},!1),i!=null&&(Ee.isFunction(i)?n.paramsSerializer={serialize:i}:$b.assertOptions(i,{encode:sc.function,serialize:sc.function},!0)),$b.assertOptions(n,{baseUrl:sc.spelling("baseURL"),withXsrfToken:sc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Ee.merge(o.common,o[n.method]);o&&Ee.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=ts.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let f,p=0,m;if(!c){const x=[TN.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,l),m=x.length,f=Promise.resolve(n);p<m;)f=f.then(x[p++],x[p++]);return f}m=a.length;let E=n;for(p=0;p<m;){const x=a[p++],y=a[p++];try{E=x(E)}catch(w){y.call(this,w);break}}try{f=TN.call(this,E)}catch(x){return Promise.reject(x)}for(p=0,m=l.length;p<m;)f=f.then(l[p++],l[p++]);return f}getUri(t){t=Gf(this.defaults,t);const n=fL(t.baseURL,t.url);return aL(n,t.params,t.paramsSerializer)}}Ee.forEach(["delete","get","head","options"],function(t){Df.prototype[t]=function(n,r){return this.request(Gf(r||{},{method:t,url:n,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(Gf(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Df.prototype[t]=n(),Df.prototype[t+"Form"]=n(!0)});class JR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new Cm(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new JR(function(i){t=i}),cancel:t}}}function G9(e){return function(n){return e.apply(null,n)}}function q9(e){return Ee.isObject(e)&&e.isAxiosError===!0}const KT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(KT).forEach(([e,t])=>{KT[t]=e});function yL(e){const t=new Df(e),n=YM(Df.prototype.request,t);return Ee.extend(n,Df.prototype,t,{allOwnKeys:!0}),Ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return yL(Gf(e,i))},n}const Yn=yL(Cy);Yn.Axios=Df;Yn.CanceledError=Cm;Yn.CancelToken=JR;Yn.isCancel=uL;Yn.VERSION=vL;Yn.toFormData=j_;Yn.AxiosError=hn;Yn.Cancel=Yn.CanceledError;Yn.all=function(t){return Promise.all(t)};Yn.spread=G9;Yn.isAxiosError=q9;Yn.mergeConfig=Gf;Yn.AxiosHeaders=ts;Yn.formToJSON=e=>lL(Ee.isHTMLForm(e)?new FormData(e):e);Yn.getAdapter=gL.getAdapter;Yn.HttpStatusCode=KT;Yn.default=Yn;/*! js-cookie v3.0.5 | MIT */function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var K9={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function YT(e,t){function n(i,o,s){if(!(typeof document>"u")){s=mb({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var c=o[a].split("="),l=c.slice(1).join("=");try{var f=decodeURIComponent(c[0]);if(s[f]=e.read(l,f),i===f)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",mb({},o,{expires:-1}))},withAttributes:function(i){return YT(this.converter,mb({},this.attributes,i))},withConverter:function(i){return YT(mb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var yi=YT(K9,{path:"/"});const pt=Yn.create({baseURL:Dp,timeout:6e4,headers:{"Content-Type":"application/json"}});pt.interceptors.request.use(e=>{var n;const t=yi.get("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`Request: ${(n=e.method)==null?void 0:n.toUpperCase()} ${e.url}`),e.params&&console.log("Params:",e.params),e.data&&console.log("Data:",e.data),e},e=>Promise.reject(e));pt.interceptors.response.use(e=>(console.log("Response:",e.data),e.data),async e=>{console.error("API Error:",e.response);const t=e.config;if(e.response.status===401){if(t._retry)return yi.set("accessToken",""),yi.set("refreshToken",""),window.location.href="/login",Promise.reject(e);t._retry=!0;try{const n=yi.get("refreshToken"),r=await Yn.post(`${zT}/refreshToken`,{refreshToken:n}),{accessToken:i}=r.data;return yi.set("accessToken",i),pt.defaults.headers.common.Authorization=`Bearer ${i}`,t.headers.Authorization=`Bearer ${i}`,pt(t)}catch(n){return yi.set("accessToken",""),yi.set("refreshToken",""),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});function Wi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Y9=typeof Symbol=="function"&&Symbol.observable||"@@observable",kN=Y9,$E=()=>Math.random().toString(36).substring(7).split("").join("."),Q9={INIT:`@@redux/INIT${$E()}`,REPLACE:`@@redux/REPLACE${$E()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$E()}`},pS=Q9;function ZR(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bL(e,t,n){if(typeof e!="function")throw new Error(Wi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wi(1));return n(bL)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,c=!1;function l(){s===o&&(s=new Map,o.forEach((w,R)=>{s.set(R,w)}))}function f(){if(c)throw new Error(Wi(3));return i}function p(w){if(typeof w!="function")throw new Error(Wi(4));if(c)throw new Error(Wi(5));let R=!0;l();const _=a++;return s.set(_,w),function(){if(R){if(c)throw new Error(Wi(6));R=!1,l(),s.delete(_),o=null}}}function m(w){if(!ZR(w))throw new Error(Wi(7));if(typeof w.type>"u")throw new Error(Wi(8));if(typeof w.type!="string")throw new Error(Wi(17));if(c)throw new Error(Wi(9));try{c=!0,i=r(i,w)}finally{c=!1}return(o=s).forEach(_=>{_()}),w}function E(w){if(typeof w!="function")throw new Error(Wi(10));r=w,m({type:pS.REPLACE})}function x(){const w=p;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Wi(11));function _(){const I=R;I.next&&I.next(f())}return _(),{unsubscribe:w(_)}},[kN](){return this}}}return m({type:pS.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:E,[kN]:x}}function X9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:pS.INIT})>"u")throw new Error(Wi(12));if(typeof n(void 0,{type:pS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wi(13))})}function J9(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{X9(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let c=!1;const l={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],E=s[p],x=m(E,a);if(typeof x>"u")throw a&&a.type,new Error(Wi(14));l[p]=x,c=c||x!==E}return c=c||r.length!==Object.keys(s).length,c?l:s}}function mS(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Z9(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Wi(15))};const s={getState:i.getState,dispatch:(c,...l)=>o(c,...l)},a=e.map(c=>c(s));return o=mS(...a)(i.dispatch),{...i,dispatch:o}}}function eH(e){return ZR(e)&&"type"in e&&typeof e.type=="string"}var xL=Symbol.for("immer-nothing"),ON=Symbol.for("immer-draftable"),Is=Symbol.for("immer-state");function Na(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var im=Object.getPrototypeOf;function qf(e){return!!e&&!!e[Is]}function xl(e){var t;return e?SL(e)||Array.isArray(e)||!!e[ON]||!!((t=e.constructor)!=null&&t[ON])||L_(e)||F_(e):!1}var tH=Object.prototype.constructor.toString();function SL(e){if(!e||typeof e!="object")return!1;const t=im(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===tH}function gS(e,t){M_(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function M_(e){const t=e[Is];return t?t.type_:Array.isArray(e)?1:L_(e)?2:F_(e)?3:0}function QT(e,t){return M_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _L(e,t,n){const r=M_(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function L_(e){return e instanceof Map}function F_(e){return e instanceof Set}function vf(e){return e.copy_||e.base_}function XT(e,t){if(L_(e))return new Map(e);if(F_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=SL(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Is];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(im(e),r)}else{const r=im(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ek(e,t=!1){return U_(e)||qf(e)||!xl(e)||(M_(e)>1&&(e.set=e.add=e.clear=e.delete=rH),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>ek(r,!0))),e}function rH(){Na(2)}function U_(e){return Object.isFrozen(e)}var iH={};function Kf(e){const t=iH[e];return t||Na(0,e),t}var ty;function wL(){return ty}function oH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PN(e,t){t&&(Kf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function JT(e){ZT(e),e.drafts_.forEach(sH),e.drafts_=null}function ZT(e){e===ty&&(ty=e.parent_)}function NN(e){return ty=oH(ty,e)}function sH(e){const t=e[Is];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function IN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Is].modified_&&(JT(t),Na(4)),xl(e)&&(e=vS(t,e),t.parent_||yS(t,e)),t.patches_&&Kf("Patches").generateReplacementPatches_(n[Is].base_,e,t.patches_,t.inversePatches_)):e=vS(t,n,[]),JT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xL?e:void 0}function vS(e,t,n){if(U_(t))return t;const r=t[Is];if(!r)return gS(t,(i,o)=>jN(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return yS(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),gS(o,(a,c)=>jN(e,r,i,a,c,n,s)),yS(e,i,!1),n&&e.patches_&&Kf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function jN(e,t,n,r,i,o,s){if(qf(i)){const a=o&&t&&t.type_!==3&&!QT(t.assigned_,r)?o.concat(r):void 0,c=vS(e,i,a);if(_L(n,r,c),qf(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(xl(i)&&!U_(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;vS(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&yS(e,i)}}function yS(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ek(t,n)}function aH(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:wL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=tk;n&&(i=[r],o=ny);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var tk={get(e,t){if(t===Is)return e;const n=vf(e);if(!QT(n,t))return cH(e,n,t);const r=n[t];return e.finalized_||!xl(r)?r:r===zE(e.base_,t)?(VE(e),e.copy_[t]=t1(r,e)):r},has(e,t){return t in vf(e)},ownKeys(e){return Reflect.ownKeys(vf(e))},set(e,t,n){const r=EL(vf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=zE(vf(e),t),o=i==null?void 0:i[Is];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(nH(n,i)&&(n!==void 0||QT(e.base_,t)))return!0;VE(e),e1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zE(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,VE(e),e1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=vf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Na(11)},getPrototypeOf(e){return im(e.base_)},setPrototypeOf(){Na(12)}},ny={};gS(tk,(e,t)=>{ny[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ny.deleteProperty=function(e,t){return ny.set.call(this,e,t,void 0)};ny.set=function(e,t,n){return tk.set.call(this,e[0],t,n,e[0])};function zE(e,t){const n=e[Is];return(n?vf(n):e)[t]}function cH(e,t,n){var i;const r=EL(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function EL(e,t){if(!(t in e))return;let n=im(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=im(n)}}function e1(e){e.modified_||(e.modified_=!0,e.parent_&&e1(e.parent_))}function VE(e){e.copy_||(e.copy_=XT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(c=o,...l){return s.produce(c,f=>n.call(this,f,...l))}}typeof n!="function"&&Na(6),r!==void 0&&typeof r!="function"&&Na(7);let i;if(xl(t)){const o=NN(this),s=t1(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?JT(o):ZT(o)}return PN(o,r),IN(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===xL&&(i=void 0),this.autoFreeze_&&ek(i,!0),r){const o=[],s=[];Kf("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Na(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xl(e)||Na(8),qf(e)&&(e=uH(e));const t=NN(this),n=t1(e,void 0);return n[Is].isManual_=!0,ZT(t),n}finishDraft(e,t){const n=e&&e[Is];(!n||!n.isManual_)&&Na(9);const{scope_:r}=n;return PN(r,t),IN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Kf("Patches").applyPatches_;return qf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function t1(e,t){const n=L_(e)?Kf("MapSet").proxyMap_(e,t):F_(e)?Kf("MapSet").proxySet_(e,t):aH(e,t);return(t?t.scope_:wL()).drafts_.push(n),n}function uH(e){return qf(e)||Na(10,e),CL(e)}function CL(e){if(!xl(e)||U_(e))return e;const t=e[Is];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=XT(e,t.scope_.immer_.useStrictShallowCopy_)}else n=XT(e,!0);return gS(n,(r,i)=>{_L(n,r,CL(i))}),t&&(t.finalized_=!1),n}var js=new lH,TL=js.produce;js.produceWithPatches.bind(js);js.setAutoFreeze.bind(js);js.setUseStrictShallowCopy.bind(js);js.applyPatches.bind(js);js.createDraft.bind(js);js.finishDraft.bind(js);function RL(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var dH=RL(),fH=RL,hH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mS:mS.apply(null,arguments)},pH=e=>e&&typeof e.match=="function";function Ev(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ul(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>eH(r)&&r.type===e,n}var kL=class av extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,av.prototype)}static get[Symbol.species](){return av}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new av(...t[0].concat(this)):new av(...t.concat(this))}};function AN(e){return xl(e)?TL(e,()=>{}):e}function DN(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function mH(e){return typeof e=="boolean"}var gH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new kL;return n&&(mH(n)?s.push(dH):s.push(fH(n.extraArgument))),s},vH="RTK_autoBatch",MN=e=>t=>{setTimeout(t,e)},yH=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MN(10):e.type==="callback"?e.queueNotification:MN(e.timeout),l=()=>{s=!1,o&&(o=!1,a.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return a.add(f),()=>{m(),a.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[vH]),o=!i,o&&(s||(s=!0,c(l))),r.dispatch(f)}finally{i=!0}}})},bH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new kL(e);return r&&i.push(yH(typeof r=="object"?r:void 0)),i};function xH(e){const t=gH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(ZR(n))a=J9(n);else throw new Error(ul(1));let c;typeof r=="function"?c=r(t):c=t();let l=mS;i&&(l=hH({trace:!1,...typeof i=="object"&&i}));const f=Z9(...c),p=bH(f);let m=typeof s=="function"?s(p):p();const E=l(...m);return bL(a,o,E)}function OL(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(ul(28));if(a in t)throw new Error(ul(29));return t[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function SH(e){return typeof e=="function"}function _H(e,t){let[n,r,i]=OL(t),o;if(SH(e))o=()=>AN(e());else{const a=AN(e);o=()=>a}function s(a=o(),c){let l=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return l.filter(f=>!!f).length===0&&(l=[i]),l.reduce((f,p)=>{if(p)if(qf(f)){const E=p(f,c);return E===void 0?f:E}else{if(xl(f))return TL(f,m=>p(m,c));{const m=p(f,c);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},a)}return s.getInitialState=o,s}var wH=(e,t)=>pH(e)?e.match(t):e(t);function EH(...e){return t=>e.some(n=>wH(n,t))}var CH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TH=(e=21)=>{let t="",n=e;for(;n--;)t+=CH[Math.random()*64|0];return t},RH=["name","message","stack","code"],WE=class{constructor(e,t){rE(this,"_type");this.payload=e,this.meta=t}},LN=class{constructor(e,t){rE(this,"_type");this.payload=e,this.meta=t}},kH=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of RH)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},_t=(()=>{function e(t,n,r){const i=Ev(t+"/fulfilled",(c,l,f,p)=>({payload:c,meta:{...p||{},arg:f,requestId:l,requestStatus:"fulfilled"}})),o=Ev(t+"/pending",(c,l,f)=>({payload:void 0,meta:{...f||{},arg:l,requestId:c,requestStatus:"pending"}})),s=Ev(t+"/rejected",(c,l,f,p,m)=>({payload:p,error:(r&&r.serializeError||kH)(c||"Rejected"),meta:{...m||{},arg:f,requestId:l,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(l,f,p)=>{const m=r!=null&&r.idGenerator?r.idGenerator(c):TH(),E=new AbortController;let x,y;function w(_){y=_,E.abort()}const R=async function(){var I,A;let _;try{let U=(I=r==null?void 0:r.condition)==null?void 0:I.call(r,c,{getState:f,extra:p});if(PH(U)&&(U=await U),U===!1||E.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const $=new Promise((V,q)=>{x=()=>{q({name:"AbortError",message:y||"Aborted"})},E.signal.addEventListener("abort",x)});l(o(m,c,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:m,arg:c},{getState:f,extra:p}))),_=await Promise.race([$,Promise.resolve(n(c,{dispatch:l,getState:f,extra:p,requestId:m,signal:E.signal,abort:w,rejectWithValue:(V,q)=>new WE(V,q),fulfillWithValue:(V,q)=>new LN(V,q)})).then(V=>{if(V instanceof WE)throw V;return V instanceof LN?i(V.payload,m,c,V.meta):i(V,m,c)})])}catch(U){_=U instanceof WE?s(null,m,c,U.payload,U.meta):s(U,m,c)}finally{x&&E.signal.removeEventListener("abort",x)}return r&&!r.dispatchConditionRejection&&s.match(_)&&_.meta.condition||l(_),_}();return Object.assign(R,{abort:w,requestId:m,arg:c,unwrap(){return R.then(OH)}})}}return Object.assign(a,{pending:o,rejected:s,fulfilled:i,settled:EH(s,i),typePrefix:t})}return e.withTypes=()=>e,e})();function OH(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function PH(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var NH=Symbol.for("rtk-slice-createasyncthunk");function IH(e,t){return`${e}/${t}`}function jH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[NH];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(ul(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(DH()):i.reducers)||{},c=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,I){const A=typeof C=="string"?C:C.type;if(!A)throw new Error(ul(12));if(A in l.sliceCaseReducersByType)throw new Error(ul(13));return l.sliceCaseReducersByType[A]=I,f},addMatcher(C,I){return l.sliceMatchers.push({matcher:C,reducer:I}),f},exposeAction(C,I){return l.actionCreators[C]=I,f},exposeCaseReducer(C,I){return l.sliceCaseReducersByName[C]=I,f}};c.forEach(C=>{const I=a[C],A={reducerName:C,type:IH(o,C),createNotation:typeof i.reducers=="function"};LH(I)?UH(A,I,f,t):MH(A,I,f)});function p(){const[C={},I=[],A=void 0]=typeof i.extraReducers=="function"?OL(i.extraReducers):[i.extraReducers],U={...C,...l.sliceCaseReducersByType};return _H(i.initialState,$=>{for(let V in U)$.addCase(V,U[V]);for(let V of l.sliceMatchers)$.addMatcher(V.matcher,V.reducer);for(let V of I)$.addMatcher(V.matcher,V.reducer);A&&$.addDefaultCase(A)})}const m=C=>C,E=new Map;let x;function y(C,I){return x||(x=p()),x(C,I)}function w(){return x||(x=p()),x.getInitialState()}function R(C,I=!1){function A($){let V=$[C];return typeof V>"u"&&I&&(V=w()),V}function U($=m){const V=DN(E,I,()=>new WeakMap);return DN(V,$,()=>{const q={};for(const[X,J]of Object.entries(i.selectors??{}))q[X]=AH(J,$,w,I);return q})}return{reducerPath:C,getSelectors:U,get selectors(){return U(A)},selectSlice:A}}const _={name:o,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...R(s),injectInto(C,{reducerPath:I,...A}={}){const U=I??s;return C.inject({reducerPath:U,reducer:y},A),{..._,...R(U,!0)}}};return _}}function AH(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var os=jH();function DH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function MH({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!FH(r))throw new Error(ul(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Ev(e,s):Ev(e))}function LH(e){return e._reducerDefinitionType==="asyncThunk"}function FH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function UH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ul(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:c,settled:l,options:f}=n,p=i(e,o,f);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),a&&r.addCase(p.pending,a),c&&r.addCase(p.rejected,c),l&&r.addMatcher(p.settled,l),r.exposeCaseReducer(t,{fulfilled:s||gb,pending:a||gb,rejected:c||gb,settled:l||gb})}function gb(){}function ul(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const BH={isAuthenticated:!1,loading:!1,error:null,email:null,activeQuiz:0,payment:0,totalUser:0},zb=_t("auth/loginUser",async(e,{rejectWithValue:t})=>{var n,r;try{const i=await pt.post(p8,e),{accessToken:o,refreshToken:s}=i.data;return yi.set("accessToken",o),yi.set("refreshToken",s),i.data}catch(i){return t(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.message)||"An error occurred")}}),Vb=_t("getProfile",async(e,{rejectWithValue:t})=>{try{return(await pt.get(iW)).data}catch(n){return t(n.response.data)}}),PL=os({name:"auth",initialState:BH,reducers:{logout:e=>{console.log("logout :>> "),yi.set("accessToken",""),yi.set("refreshToken","")}},extraReducers:e=>{e.addCase(zb.pending,(t,n)=>{t.loading=!0,t.error=null}).addCase(zb.fulfilled,(t,n)=>{t.loading=!1,t.isAuthenticated=!0,t.email=n.payload.email}).addCase(zb.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"An unknown error occurred"}).addCase(Vb.pending,(t,n)=>{t.loading=!0,t.error=null}).addCase(Vb.fulfilled,(t,n)=>{t.loading=!1,t.email=n.payload.email,t.payment=n.payload.totalSum,t.activeQuiz=n.payload.activeQuiz,t.totalUser=n.payload.totalUser}).addCase(Vb.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"An unknown error occurred"})}}),{logout:$H}=PL.actions,zH=PL.reducer,n1=k_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),St=P.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?Sc:"button";return u.jsx(s,{className:nt(n1({variant:t,size:n,className:e})),ref:o,...i})});St.displayName="Button";const rn=P.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:nt("flex h-10 w-full rounded-md border border-input bg-background px-2 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm ",e),ref:r,...n}));rn.displayName="Input";var VH="Label",NL=P.forwardRef((e,t)=>u.jsx(Pt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));NL.displayName=VH;var IL=NL;const WH=k_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bi=P.forwardRef(({className:e,...t},n)=>u.jsx(IL,{ref:n,className:nt(WH(),e),...t}));bi.displayName=IL.displayName;var jL={exports:{}},AL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=P;function HH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GH=typeof Object.is=="function"?Object.is:HH,qH=Ty.useSyncExternalStore,KH=Ty.useRef,YH=Ty.useEffect,QH=Ty.useMemo,XH=Ty.useDebugValue;AL.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=KH(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=QH(function(){function c(E){if(!l){if(l=!0,f=E,E=r(E),i!==void 0&&s.hasValue){var x=s.value;if(i(x,E))return p=x}return p=E}if(x=p,GH(f,E))return x;var y=r(E);return i!==void 0&&i(x,y)?(f=E,x):(f=E,p=y)}var l=!1,f,p,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var a=qH(e,o[0],o[1]);return YH(function(){s.hasValue=!0,s.value=a},[a]),XH(a),a};jL.exports=AL;var JH=jL.exports;function ZH(e){e()}function e7(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ZH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var FN={notify(){},get:()=>[]};function t7(e,t){let n,r=FN,i=0,o=!1;function s(y){f();const w=r.subscribe(y);let R=!1;return()=>{R||(R=!0,w(),p())}}function a(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function l(){return o}function f(){i++,n||(n=e.subscribe(c),r=e7())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=FN)}function m(){o||(o=!0,f())}function E(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:l,trySubscribe:m,tryUnsubscribe:E,getListeners:()=>r};return x}var n7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r7=n7(),i7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",o7=i7(),s7=()=>r7||o7?P.useLayoutEffect:P.useEffect,a7=s7(),HE=Symbol.for("react-redux-context"),GE=typeof globalThis<"u"?globalThis:{};function c7(){if(!P.createContext)return{};const e=GE[HE]??(GE[HE]=new Map);let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var nd=c7();function l7(e){const{children:t,context:n,serverState:r,store:i}=e,o=P.useMemo(()=>{const c=t7(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);a7(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const a=n||nd;return P.createElement(a.Provider,{value:o},t)}var u7=l7;function nk(e=nd){return function(){return P.useContext(e)}}var DL=nk();function ML(e=nd){const t=e===nd?DL:nk(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var d7=ML();function f7(e=nd){const t=e===nd?d7:ML(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Qn=f7(),h7=(e,t)=>e===t;function p7(e=nd){const t=e===nd?DL:nk(e),n=(r,i={})=>{const{equalityFn:o=h7}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:c,getServerState:l}=s;P.useRef(!0);const f=P.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=JH.useSyncExternalStoreWithSelector(c.addNestedSub,a.getState,l||a.getState,f,o);return P.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var Nn=p7();const m7=()=>{const[e,t]=P.useState(""),[n,r]=P.useState(""),i=Qn(),{loading:o}=Nn(l=>l.auth),s=Rl(),{toast:a}=kl(),c=async l=>{l.preventDefault(),i(zb({email:e,password:n})).unwrap().then(f=>{s("/dashboard"),a({title:"Success",description:"Welcome back!"})}).catch(f=>{a({variant:"destructive",title:"Error",description:"Invalid credentials"})})};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsx("div",{children:u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[u.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[u.jsxs("div",{children:[u.jsx(bi,{htmlFor:"email",children:"Email address"}),u.jsx(rn,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(bi,{htmlFor:"password",children:"Password"}),u.jsx(rn,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:l=>r(l.target.value),className:"mt-1"})]})]}),u.jsx("div",{children:u.jsx(St,{type:"submit",className:"w-full",disabled:o,children:o?"Signing in...":"Sign in"})})]})]})})};var g7=P.createContext(void 0);function Ry(e){const t=P.useContext(g7);return e||t||"ltr"}var qE=0;function B_(){P.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??UN()),document.body.insertAdjacentElement("beforeend",e[1]??UN()),qE++,()=>{qE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qE--}},[])}function UN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var KE="focusScope.autoFocusOnMount",YE="focusScope.autoFocusOnUnmount",BN={bubbles:!1,cancelable:!0},v7="FocusScope",ky=P.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,c]=P.useState(null),l=zr(i),f=zr(o),p=P.useRef(null),m=xn(t,y=>c(y)),E=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let y=function(C){if(E.paused||!a)return;const I=C.target;a.contains(I)?p.current=I:vu(p.current,{select:!0})},w=function(C){if(E.paused||!a)return;const I=C.relatedTarget;I!==null&&(a.contains(I)||vu(p.current,{select:!0}))},R=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&vu(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const _=new MutationObserver(R);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,E.paused]),P.useEffect(()=>{if(a){zN.add(E);const y=document.activeElement;if(!a.contains(y)){const R=new CustomEvent(KE,BN);a.addEventListener(KE,l),a.dispatchEvent(R),R.defaultPrevented||(y7(w7(LL(a)),{select:!0}),document.activeElement===y&&vu(a))}return()=>{a.removeEventListener(KE,l),setTimeout(()=>{const R=new CustomEvent(YE,BN);a.addEventListener(YE,f),a.dispatchEvent(R),R.defaultPrevented||vu(y??document.body,{select:!0}),a.removeEventListener(YE,f),zN.remove(E)},0)}}},[a,l,f,E]);const x=P.useCallback(y=>{if(!n&&!r||E.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,R=document.activeElement;if(w&&R){const _=y.currentTarget,[C,I]=b7(_);C&&I?!y.shiftKey&&R===I?(y.preventDefault(),n&&vu(C,{select:!0})):y.shiftKey&&R===C&&(y.preventDefault(),n&&vu(I,{select:!0})):R===_&&y.preventDefault()}},[n,r,E.paused]);return u.jsx(Pt.div,{tabIndex:-1,...s,ref:m,onKeyDown:x})});ky.displayName=v7;function y7(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(vu(r,{select:t}),document.activeElement!==n)return}function b7(e){const t=LL(e),n=$N(t,e),r=$N(t.reverse(),e);return[n,r]}function LL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $N(e,t){for(const n of e)if(!x7(n,{upTo:t}))return n}function x7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function S7(e){return e instanceof HTMLInputElement&&"select"in e}function vu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&S7(e)&&t&&e.select()}}var zN=_7();function _7(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=VN(e,t),e.unshift(t)},remove(t){var n;e=VN(e,t),(n=e[0])==null||n.resume()}}}function VN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w7(e){return e.filter(t=>t.tagName!=="A")}var E7=Bj.useId||(()=>{}),C7=0;function yc(e){const[t,n]=P.useState(E7());return Yi(()=>{n(r=>r??String(C7++))},[e]),t?`radix-${t}`:""}const T7=["top","right","bottom","left"],rd=Math.min,Es=Math.max,bS=Math.round,vb=Math.floor,id=e=>({x:e,y:e}),R7={left:"right",right:"left",bottom:"top",top:"bottom"},k7={start:"end",end:"start"};function r1(e,t,n){return Es(e,rd(t,n))}function Sl(e,t){return typeof e=="function"?e(t):e}function _l(e){return e.split("-")[0]}function Tm(e){return e.split("-")[1]}function rk(e){return e==="x"?"y":"x"}function ik(e){return e==="y"?"height":"width"}function od(e){return["top","bottom"].includes(_l(e))?"y":"x"}function ok(e){return rk(od(e))}function O7(e,t,n){n===void 0&&(n=!1);const r=Tm(e),i=ok(e),o=ik(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=xS(s)),[s,xS(s)]}function P7(e){const t=xS(e);return[i1(e),t,i1(t)]}function i1(e){return e.replace(/start|end/g,t=>k7[t])}function N7(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function I7(e,t,n,r){const i=Tm(e);let o=N7(_l(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(i1)))),o}function xS(e){return e.replace(/left|right|bottom|top/g,t=>R7[t])}function j7(e){return{top:0,right:0,bottom:0,left:0,...e}}function FL(e){return typeof e!="number"?j7(e):{top:e,right:e,bottom:e,left:e}}function SS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function WN(e,t,n){let{reference:r,floating:i}=e;const o=od(t),s=ok(t),a=ik(s),c=_l(t),l=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let E;switch(c){case"top":E={x:f,y:r.y-i.height};break;case"bottom":E={x:f,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:p};break;case"left":E={x:r.x-i.width,y:p};break;default:E={x:r.x,y:r.y}}switch(Tm(t)){case"start":E[s]-=m*(n&&l?-1:1);break;case"end":E[s]+=m*(n&&l?-1:1);break}return E}const A7=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=WN(l,r,c),m=r,E={},x=0;for(let y=0;y<a.length;y++){const{name:w,fn:R}=a[y],{x:_,y:C,data:I,reset:A}=await R({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:E,rects:l,platform:s,elements:{reference:e,floating:t}});f=_??f,p=C??p,E={...E,[w]:{...E[w],...I}},A&&x<=50&&(x++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(l=A.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:f,y:p}=WN(l,m,c)),y=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:E}};async function ry(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:E=0}=Sl(t,e),x=FL(E),w=a[m?p==="floating"?"reference":"floating":p],R=SS(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:f,strategy:c})),_=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),I=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},A=SS(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:c}):_);return{top:(R.top-A.top+x.top)/I.y,bottom:(A.bottom-R.bottom+x.bottom)/I.y,left:(R.left-A.left+x.left)/I.x,right:(A.right-R.right+x.right)/I.x}}const D7=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=t,{element:l,padding:f=0}=Sl(e,t)||{};if(l==null)return{};const p=FL(f),m={x:n,y:r},E=ok(i),x=ik(E),y=await s.getDimensions(l),w=E==="y",R=w?"top":"left",_=w?"bottom":"right",C=w?"clientHeight":"clientWidth",I=o.reference[x]+o.reference[E]-m[E]-o.floating[x],A=m[E]-o.reference[E],U=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let $=U?U[C]:0;(!$||!await(s.isElement==null?void 0:s.isElement(U)))&&($=a.floating[C]||o.floating[x]);const V=I/2-A/2,q=$/2-y[x]/2-1,X=rd(p[R],q),J=rd(p[_],q),G=X,ee=$-y[x]-J,ce=$/2-y[x]/2+V,xe=r1(G,ce,ee),Se=!c.arrow&&Tm(i)!=null&&ce!==xe&&o.reference[x]/2-(ce<G?X:J)-y[x]/2<0,ve=Se?ce<G?ce-G:ce-ee:0;return{[E]:m[E]+ve,data:{[E]:xe,centerOffset:ce-xe-ve,...Se&&{alignmentOffset:ve}},reset:Se}}}),M7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...w}=Sl(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=_l(i),_=od(a),C=_l(a)===a,I=await(c.isRTL==null?void 0:c.isRTL(l.floating)),A=m||(C||!y?[xS(a)]:P7(a)),U=x!=="none";!m&&U&&A.push(...I7(a,y,x,I));const $=[a,...A],V=await ry(t,w),q=[];let X=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&q.push(V[R]),p){const ce=O7(i,s,I);q.push(V[ce[0]],V[ce[1]])}if(X=[...X,{placement:i,overflows:q}],!q.every(ce=>ce<=0)){var J,G;const ce=(((J=o.flip)==null?void 0:J.index)||0)+1,xe=$[ce];if(xe)return{data:{index:ce,overflows:X},reset:{placement:xe}};let Se=(G=X.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:G.placement;if(!Se)switch(E){case"bestFit":{var ee;const ve=(ee=X.filter(Y=>{if(U){const Q=od(Y.placement);return Q===_||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:ee[0];ve&&(Se=ve);break}case"initialPlacement":Se=a;break}if(i!==Se)return{reset:{placement:Se}}}return{}}}};function HN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GN(e){return T7.some(t=>e[t]>=0)}const L7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Sl(e,t);switch(r){case"referenceHidden":{const o=await ry(t,{...i,elementContext:"reference"}),s=HN(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:GN(s)}}}case"escaped":{const o=await ry(t,{...i,altBoundary:!0}),s=HN(o,n.floating);return{data:{escapedOffsets:s,escaped:GN(s)}}}default:return{}}}}};async function F7(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=_l(n),a=Tm(n),c=od(n)==="y",l=["left","top"].includes(s)?-1:1,f=o&&c?-1:1,p=Sl(t,e);let{mainAxis:m,crossAxis:E,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(E=a==="end"?x*-1:x),c?{x:E*f,y:m*l}:{x:m*l,y:E*f}}const U7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,c=await F7(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},B7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:R,y:_}=w;return{x:R,y:_}}},...c}=Sl(e,t),l={x:n,y:r},f=await ry(t,c),p=od(_l(i)),m=rk(p);let E=l[m],x=l[p];if(o){const w=m==="y"?"top":"left",R=m==="y"?"bottom":"right",_=E+f[w],C=E-f[R];E=r1(_,E,C)}if(s){const w=p==="y"?"top":"left",R=p==="y"?"bottom":"right",_=x+f[w],C=x-f[R];x=r1(_,x,C)}const y=a.fn({...t,[m]:E,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[p]:s}}}}}},$7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Sl(e,t),f={x:n,y:r},p=od(i),m=rk(p);let E=f[m],x=f[p];const y=Sl(a,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=m==="y"?"height":"width",I=o.reference[m]-o.floating[C]+w.mainAxis,A=o.reference[m]+o.reference[C]-w.mainAxis;E<I?E=I:E>A&&(E=A)}if(l){var R,_;const C=m==="y"?"width":"height",I=["top","left"].includes(_l(i)),A=o.reference[p]-o.floating[C]+(I&&((R=s.offset)==null?void 0:R[p])||0)+(I?0:w.crossAxis),U=o.reference[p]+o.reference[C]+(I?0:((_=s.offset)==null?void 0:_[p])||0)-(I?w.crossAxis:0);x<A?x=A:x>U&&(x=U)}return{[m]:E,[p]:x}}}},z7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:c=()=>{},...l}=Sl(e,t),f=await ry(t,l),p=_l(i),m=Tm(i),E=od(i)==="y",{width:x,height:y}=o.floating;let w,R;p==="top"||p==="bottom"?(w=p,R=m===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(R=p,w=m==="end"?"top":"bottom");const _=y-f.top-f.bottom,C=x-f.left-f.right,I=rd(y-f[w],_),A=rd(x-f[R],C),U=!t.middlewareData.shift;let $=I,V=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&($=_),U&&!m){const X=Es(f.left,0),J=Es(f.right,0),G=Es(f.top,0),ee=Es(f.bottom,0);E?V=x-2*(X!==0||J!==0?X+J:Es(f.left,f.right)):$=y-2*(G!==0||ee!==0?G+ee:Es(f.top,f.bottom))}await c({...t,availableWidth:V,availableHeight:$});const q=await s.getDimensions(a.floating);return x!==q.width||y!==q.height?{reset:{rects:!0}}:{}}}};function $_(){return typeof window<"u"}function Rm(e){return UL(e)?(e.nodeName||"").toLowerCase():"#document"}function Ps(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kc(e){var t;return(t=(UL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function UL(e){return $_()?e instanceof Node||e instanceof Ps(e).Node:!1}function Da(e){return $_()?e instanceof Element||e instanceof Ps(e).Element:!1}function _c(e){return $_()?e instanceof HTMLElement||e instanceof Ps(e).HTMLElement:!1}function qN(e){return!$_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ps(e).ShadowRoot}function Oy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function V7(e){return["table","td","th"].includes(Rm(e))}function z_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sk(e){const t=ak(),n=Da(e)?Ma(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function W7(e){let t=sd(e);for(;_c(t)&&!om(t);){if(sk(t))return t;if(z_(t))return null;t=sd(t)}return null}function ak(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function om(e){return["html","body","#document"].includes(Rm(e))}function Ma(e){return Ps(e).getComputedStyle(e)}function V_(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sd(e){if(Rm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qN(e)&&e.host||kc(e);return qN(t)?t.host:t}function BL(e){const t=sd(e);return om(t)?e.ownerDocument?e.ownerDocument.body:e.body:_c(t)&&Oy(t)?t:BL(t)}function iy(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=BL(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ps(i);if(o){const a=o1(s);return t.concat(s,s.visualViewport||[],Oy(i)?i:[],a&&n?iy(a):[])}return t.concat(i,iy(i,[],n))}function o1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $L(e){const t=Ma(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=_c(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=bS(n)!==o||bS(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function ck(e){return Da(e)?e:e.contextElement}function Mp(e){const t=ck(e);if(!_c(t))return id(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=$L(t);let s=(o?bS(n.width):n.width)/r,a=(o?bS(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const H7=id(0);function zL(e){const t=Ps(e);return!ak()||!t.visualViewport?H7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function G7(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ps(e)?!1:t}function Yf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=ck(e);let s=id(1);t&&(r?Da(r)&&(s=Mp(r)):s=Mp(e));const a=G7(o,n,r)?zL(o):id(0);let c=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,f=i.width/s.x,p=i.height/s.y;if(o){const m=Ps(o),E=r&&Da(r)?Ps(r):r;let x=m,y=o1(x);for(;y&&r&&E!==x;){const w=Mp(y),R=y.getBoundingClientRect(),_=Ma(y),C=R.left+(y.clientLeft+parseFloat(_.paddingLeft))*w.x,I=R.top+(y.clientTop+parseFloat(_.paddingTop))*w.y;c*=w.x,l*=w.y,f*=w.x,p*=w.y,c+=C,l+=I,x=Ps(y),y=o1(x)}}return SS({width:f,height:p,x:c,y:l})}function q7(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=kc(r),a=t?z_(t.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=id(1);const f=id(0),p=_c(r);if((p||!p&&!o)&&((Rm(r)!=="body"||Oy(s))&&(c=V_(r)),_c(r))){const m=Yf(r);l=Mp(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+f.x,y:n.y*l.y-c.scrollTop*l.y+f.y}}function K7(e){return Array.from(e.getClientRects())}function s1(e,t){const n=V_(e).scrollLeft;return t?t.left+n:Yf(kc(e)).left+n}function Y7(e){const t=kc(e),n=V_(e),r=e.ownerDocument.body,i=Es(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Es(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+s1(e);const a=-n.scrollTop;return Ma(r).direction==="rtl"&&(s+=Es(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Q7(e,t){const n=Ps(e),r=kc(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const l=ak();(!l||l&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function X7(e,t){const n=Yf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=_c(e)?Mp(e):id(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,l=r*o.y;return{width:s,height:a,x:c,y:l}}function KN(e,t,n){let r;if(t==="viewport")r=Q7(e,n);else if(t==="document")r=Y7(kc(e));else if(Da(t))r=X7(t,n);else{const i=zL(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return SS(r)}function VL(e,t){const n=sd(e);return n===t||!Da(n)||om(n)?!1:Ma(n).position==="fixed"||VL(n,t)}function J7(e,t){const n=t.get(e);if(n)return n;let r=iy(e,[],!1).filter(a=>Da(a)&&Rm(a)!=="body"),i=null;const o=Ma(e).position==="fixed";let s=o?sd(e):e;for(;Da(s)&&!om(s);){const a=Ma(s),c=sk(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Oy(s)&&!c&&VL(e,s))?r=r.filter(f=>f!==s):i=a,s=sd(s)}return t.set(e,r),r}function Z7(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?z_(t)?[]:J7(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,f)=>{const p=KN(t,f,i);return l.top=Es(p.top,l.top),l.right=rd(p.right,l.right),l.bottom=rd(p.bottom,l.bottom),l.left=Es(p.left,l.left),l},KN(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eG(e){const{width:t,height:n}=$L(e);return{width:t,height:n}}function tG(e,t,n){const r=_c(t),i=kc(t),o=n==="fixed",s=Yf(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=id(0);if(r||!r&&!o)if((Rm(t)!=="body"||Oy(i))&&(a=V_(t)),r){const E=Yf(t,!0,o,t);c.x=E.x+t.clientLeft,c.y=E.y+t.clientTop}else i&&(c.x=s1(i));let l=0,f=0;if(i&&!r&&!o){const E=i.getBoundingClientRect();f=E.top+a.scrollTop,l=E.left+a.scrollLeft-s1(i,E)}const p=s.left+a.scrollLeft-c.x-l,m=s.top+a.scrollTop-c.y-f;return{x:p,y:m,width:s.width,height:s.height}}function QE(e){return Ma(e).position==="static"}function YN(e,t){if(!_c(e)||Ma(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return kc(e)===n&&(n=n.ownerDocument.body),n}function WL(e,t){const n=Ps(e);if(z_(e))return n;if(!_c(e)){let i=sd(e);for(;i&&!om(i);){if(Da(i)&&!QE(i))return i;i=sd(i)}return n}let r=YN(e,t);for(;r&&V7(r)&&QE(r);)r=YN(r,t);return r&&om(r)&&QE(r)&&!sk(r)?n:r||W7(e)||n}const nG=async function(e){const t=this.getOffsetParent||WL,n=this.getDimensions,r=await n(e.floating);return{reference:tG(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rG(e){return Ma(e).direction==="rtl"}const iG={convertOffsetParentRelativeRectToViewportRelativeRect:q7,getDocumentElement:kc,getClippingRect:Z7,getOffsetParent:WL,getElementRects:nG,getClientRects:K7,getDimensions:eG,getScale:Mp,isElement:Da,isRTL:rG};function oG(e,t){let n=null,r;const i=kc(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:l,top:f,width:p,height:m}=e.getBoundingClientRect();if(a||t(),!p||!m)return;const E=vb(f),x=vb(i.clientWidth-(l+p)),y=vb(i.clientHeight-(f+m)),w=vb(l),_={rootMargin:-E+"px "+-x+"px "+-y+"px "+-w+"px",threshold:Es(0,rd(1,c))||1};let C=!0;function I(A){const U=A[0].intersectionRatio;if(U!==c){if(!C)return s();U?s(!1,U):r=setTimeout(()=>{s(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(I,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,_)}n.observe(e)}return s(!0),o}function sG(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=ck(e),f=i||o?[...l?iy(l):[],...iy(t)]:[];f.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const p=l&&a?oG(l,n):null;let m=-1,E=null;s&&(E=new ResizeObserver(R=>{let[_]=R;_&&_.target===l&&E&&(E.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=E)==null||C.observe(t)})),n()}),l&&!c&&E.observe(l),E.observe(t));let x,y=c?Yf(e):null;c&&w();function w(){const R=Yf(e);y&&(R.x!==y.x||R.y!==y.y||R.width!==y.width||R.height!==y.height)&&n(),y=R,x=requestAnimationFrame(w)}return n(),()=>{var R;f.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),p==null||p(),(R=E)==null||R.disconnect(),E=null,c&&cancelAnimationFrame(x)}}const aG=U7,cG=B7,lG=M7,uG=z7,dG=L7,QN=D7,fG=$7,hG=(e,t,n)=>{const r=new Map,i={platform:iG,...n},o={...i.platform,_c:r};return A7(e,t,{...i,platform:o})};var Wb=typeof document<"u"?P.useLayoutEffect:P.useEffect;function _S(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_S(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!_S(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function HL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XN(e,t){const n=HL(e);return Math.round(t*n)/n}function XE(e){const t=P.useRef(e);return Wb(()=>{t.current=e}),t}function pG(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[f,p]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,E]=P.useState(r);_S(m,r)||E(r);const[x,y]=P.useState(null),[w,R]=P.useState(null),_=P.useCallback(Y=>{Y!==U.current&&(U.current=Y,y(Y))},[]),C=P.useCallback(Y=>{Y!==$.current&&($.current=Y,R(Y))},[]),I=o||x,A=s||w,U=P.useRef(null),$=P.useRef(null),V=P.useRef(f),q=c!=null,X=XE(c),J=XE(i),G=XE(l),ee=P.useCallback(()=>{if(!U.current||!$.current)return;const Y={placement:t,strategy:n,middleware:m};J.current&&(Y.platform=J.current),hG(U.current,$.current,Y).then(Q=>{const ne={...Q,isPositioned:G.current!==!1};ce.current&&!_S(V.current,ne)&&(V.current=ne,sh.flushSync(()=>{p(ne)}))})},[m,t,n,J,G]);Wb(()=>{l===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[l]);const ce=P.useRef(!1);Wb(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Wb(()=>{if(I&&(U.current=I),A&&($.current=A),I&&A){if(X.current)return X.current(I,A,ee);ee()}},[I,A,ee,X,q]);const xe=P.useMemo(()=>({reference:U,floating:$,setReference:_,setFloating:C}),[_,C]),Se=P.useMemo(()=>({reference:I,floating:A}),[I,A]),ve=P.useMemo(()=>{const Y={position:n,left:0,top:0};if(!Se.floating)return Y;const Q=XN(Se.floating,f.x),ne=XN(Se.floating,f.y);return a?{...Y,transform:"translate("+Q+"px, "+ne+"px)",...HL(Se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ne}},[n,a,Se.floating,f.x,f.y]);return P.useMemo(()=>({...f,update:ee,refs:xe,elements:Se,floatingStyles:ve}),[f,ee,xe,Se,ve])}const mG=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?QN({element:r.current,padding:i}).fn(n):{}:r?QN({element:r,padding:i}).fn(n):{}}}},gG=(e,t)=>({...aG(e),options:[e,t]}),vG=(e,t)=>({...cG(e),options:[e,t]}),yG=(e,t)=>({...fG(e),options:[e,t]}),bG=(e,t)=>({...lG(e),options:[e,t]}),xG=(e,t)=>({...uG(e),options:[e,t]}),SG=(e,t)=>({...dG(e),options:[e,t]}),_G=(e,t)=>({...mG(e),options:[e,t]});var wG="Arrow",GL=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return u.jsx(Pt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});GL.displayName=wG;var EG=GL;function CG(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,TG(i,...t)]}function TG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function lk(e){const[t,n]=P.useState(void 0);return Yi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,a=l.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var uk="Popper",[qL,km]=CG(uk),[RG,KL]=qL(uk),YL=e=>{const{__scopePopper:t,children:n}=e,[r,i]=P.useState(null);return u.jsx(RG,{scope:t,anchor:r,onAnchorChange:i,children:n})};YL.displayName=uk;var QL="PopperAnchor",XL=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=KL(QL,n),s=P.useRef(null),a=xn(t,s);return P.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Pt.div,{...i,ref:a})});XL.displayName=QL;var dk="PopperContent",[kG,OG]=qL(dk),JL=P.forwardRef((e,t)=>{var Ye,lt,Ut,Jt,Bt,qt;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:E="optimized",onPlaced:x,...y}=e,w=KL(dk,n),[R,_]=P.useState(null),C=xn(t,Un=>_(Un)),[I,A]=P.useState(null),U=lk(I),$=(U==null?void 0:U.width)??0,V=(U==null?void 0:U.height)??0,q=r+(o!=="center"?"-"+o:""),X=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},J=Array.isArray(l)?l:[l],G=J.length>0,ee={padding:X,boundary:J.filter(NG),altBoundary:G},{refs:ce,floatingStyles:xe,placement:Se,isPositioned:ve,middlewareData:Y}=pG({strategy:"fixed",placement:q,whileElementsMounted:(...Un)=>sG(...Un,{animationFrame:E==="always"}),elements:{reference:w.anchor},middleware:[gG({mainAxis:i+V,alignmentAxis:s}),c&&vG({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?yG():void 0,...ee}),c&&bG({...ee}),xG({...ee,apply:({elements:Un,rects:Xn,availableWidth:ut,availableHeight:jr})=>{const{width:Li,height:Z}=Xn.reference,pe=Un.floating.style;pe.setProperty("--radix-popper-available-width",`${ut}px`),pe.setProperty("--radix-popper-available-height",`${jr}px`),pe.setProperty("--radix-popper-anchor-width",`${Li}px`),pe.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),I&&_G({element:I,padding:a}),IG({arrowWidth:$,arrowHeight:V}),m&&SG({strategy:"referenceHidden",...ee})]}),[Q,ne]=t2(Se),fe=zr(x);Yi(()=>{ve&&(fe==null||fe())},[ve,fe]);const Te=(Ye=Y.arrow)==null?void 0:Ye.x,Ge=(lt=Y.arrow)==null?void 0:lt.y,Fe=((Ut=Y.arrow)==null?void 0:Ut.centerOffset)!==0,[bt,Gt]=P.useState();return Yi(()=>{R&&Gt(window.getComputedStyle(R).zIndex)},[R]),u.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ve?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:bt,"--radix-popper-transform-origin":[(Jt=Y.transformOrigin)==null?void 0:Jt.x,(Bt=Y.transformOrigin)==null?void 0:Bt.y].join(" "),...((qt=Y.hide)==null?void 0:qt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(kG,{scope:n,placedSide:Q,onArrowChange:A,arrowX:Te,arrowY:Ge,shouldHideArrow:Fe,children:u.jsx(Pt.div,{"data-side":Q,"data-align":ne,...y,ref:C,style:{...y.style,animation:ve?void 0:"none"}})})})});JL.displayName=dk;var ZL="PopperArrow",PG={top:"bottom",right:"left",bottom:"top",left:"right"},e2=P.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=OG(ZL,r),s=PG[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(EG,{...i,ref:n,style:{...i.style,display:"block"}})})});e2.displayName=ZL;function NG(e){return e!==null}var IG=e=>({name:"transformOrigin",options:e,fn(t){var w,R,_;const{placement:n,rects:r,middlewareData:i}=t,s=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[l,f]=t2(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(((R=i.arrow)==null?void 0:R.x)??0)+a/2,E=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let x="",y="";return l==="bottom"?(x=s?p:`${m}px`,y=`${-c}px`):l==="top"?(x=s?p:`${m}px`,y=`${r.floating.height+c}px`):l==="right"?(x=`${-c}px`,y=s?p:`${E}px`):l==="left"&&(x=`${r.floating.width+c}px`,y=s?p:`${E}px`),{data:{x,y}}}});function t2(e){const[t,n="center"]=e.split("-");return[t,n]}var fk=YL,W_=XL,hk=JL,pk=e2;function jG(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,AG(i,...t)]}function AG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var JE="rovingFocusGroup.onEntryFocus",DG={bubbles:!1,cancelable:!0},H_="RovingFocusGroup",[a1,n2,MG]=E_(H_),[LG,G_]=jG(H_,[MG]),[FG,UG]=LG(H_),r2=P.forwardRef((e,t)=>u.jsx(a1.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(a1.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(BG,{...e,ref:t})})}));r2.displayName=H_;var BG=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...p}=e,m=P.useRef(null),E=xn(t,m),x=Ry(o),[y=null,w]=bl({prop:s,defaultProp:a,onChange:c}),[R,_]=P.useState(!1),C=zr(l),I=n2(n),A=P.useRef(!1),[U,$]=P.useState(0);return P.useEffect(()=>{const V=m.current;if(V)return V.addEventListener(JE,C),()=>V.removeEventListener(JE,C)},[C]),u.jsx(FG,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:P.useCallback(V=>w(V),[w]),onItemShiftTab:P.useCallback(()=>_(!0),[]),onFocusableItemAdd:P.useCallback(()=>$(V=>V+1),[]),onFocusableItemRemove:P.useCallback(()=>$(V=>V-1),[]),children:u.jsx(Pt.div,{tabIndex:R||U===0?-1:0,"data-orientation":r,...p,ref:E,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{A.current=!0}),onFocus:Ke(e.onFocus,V=>{const q=!A.current;if(V.target===V.currentTarget&&q&&!R){const X=new CustomEvent(JE,DG);if(V.currentTarget.dispatchEvent(X),!X.defaultPrevented){const J=I().filter(Se=>Se.focusable),G=J.find(Se=>Se.active),ee=J.find(Se=>Se.id===y),xe=[G,ee,...J].filter(Boolean).map(Se=>Se.ref.current);s2(xe,f)}}A.current=!1}),onBlur:Ke(e.onBlur,()=>_(!1))})})}),i2="RovingFocusGroupItem",o2=P.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=e,a=yc(),c=o||a,l=UG(i2,n),f=l.currentTabStopId===c,p=n2(n),{onFocusableItemAdd:m,onFocusableItemRemove:E}=l;return P.useEffect(()=>{if(r)return m(),()=>E()},[r,m,E]),u.jsx(a1.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:u.jsx(Pt.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...s,ref:t,onMouseDown:Ke(e.onMouseDown,x=>{r?l.onItemFocus(c):x.preventDefault()}),onFocus:Ke(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:Ke(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){l.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=VG(x,l.orientation,l.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let R=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")R.reverse();else if(y==="prev"||y==="next"){y==="prev"&&R.reverse();const _=R.indexOf(x.currentTarget);R=l.loop?WG(R,_+1):R.slice(_+1)}setTimeout(()=>s2(R))}})})})});o2.displayName=i2;var $G={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zG(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function VG(e,t,n){const r=zG(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $G[r]}function s2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function WG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var a2=r2,c2=o2,HG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cp=new WeakMap,yb=new WeakMap,bb={},ZE=0,l2=function(e){return e&&(e.host||l2(e.parentNode))},GG=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=l2(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qG=function(e,t,n,r){var i=GG(t,Array.isArray(e)?e:[e]);bb[n]||(bb[n]=new WeakMap);var o=bb[n],s=[],a=new Set,c=new Set(i),l=function(p){!p||a.has(p)||(a.add(p),l(p.parentNode))};i.forEach(l);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))f(m);else try{var E=m.getAttribute(r),x=E!==null&&E!=="false",y=(cp.get(m)||0)+1,w=(o.get(m)||0)+1;cp.set(m,y),o.set(m,w),s.push(m),y===1&&x&&yb.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",m,R)}})};return f(t),a.clear(),ZE++,function(){s.forEach(function(p){var m=cp.get(p)-1,E=o.get(p)-1;cp.set(p,m),o.set(p,E),m||(yb.has(p)||p.removeAttribute(r),yb.delete(p)),E||p.removeAttribute(n)}),ZE--,ZE||(cp=new WeakMap,cp=new WeakMap,yb=new WeakMap,bb={})}},q_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=HG(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qG(r,i,n,"aria-hidden")):function(){return null}},hc=function(){return hc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},hc.apply(this,arguments)};function u2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function KG(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Hb="right-scroll-bar-position",Gb="width-before-scroll-bar",YG="with-scroll-bars-hidden",QG="--removed-body-scroll-bar-size";function eC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XG(e,t){var n=P.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var JG=typeof window<"u"?P.useLayoutEffect:P.useEffect,JN=new WeakMap;function ZG(e,t){var n=XG(null,function(r){return e.forEach(function(i){return eC(i,r)})});return JG(function(){var r=JN.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||eC(a,null)}),o.forEach(function(a){i.has(a)||eC(a,s)})}JN.set(n,e)},[e]),n}function eq(e){return e}function tq(e,t){t===void 0&&(t=eq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var f=s;s=[],f.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(f){s.push(f),l()},filter:function(f){return s=s.filter(f),n}}}};return i}function nq(e){e===void 0&&(e={});var t=tq(null);return t.options=hc({async:!0,ssr:!1},e),t}var d2=function(e){var t=e.sideCar,n=u2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,hc({},n))};d2.isSideCarExport=!0;function rq(e,t){return e.useMedium(t),d2}var f2=nq(),tC=function(){},K_=P.forwardRef(function(e,t){var n=P.useRef(null),r=P.useState({onScrollCapture:tC,onWheelCapture:tC,onTouchMoveCapture:tC}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,c=e.className,l=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,E=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,_=e.gapMode,C=u2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,A=ZG([n,t]),U=hc(hc({},C),i);return P.createElement(P.Fragment,null,f&&P.createElement(I,{sideCar:f2,removeScrollBar:l,shards:p,noIsolation:E,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:_}),s?P.cloneElement(P.Children.only(a),hc(hc({},U),{ref:A})):P.createElement(R,hc({},U,{className:c,ref:A}),a))});K_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};K_.classNames={fullWidth:Gb,zeroRight:Hb};var iq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iq();return t&&e.setAttribute("nonce",t),e}function sq(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aq(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cq=function(){var e=0,t=null;return{add:function(n){e==0&&(t=oq())&&(sq(t,n),aq(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lq=function(){var e=cq();return function(t,n){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},h2=function(){var e=lq(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},uq={left:0,top:0,right:0,gap:0},nC=function(e){return parseInt(e||"",10)||0},dq=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[nC(n),nC(r),nC(i)]},fq=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uq;var t=dq(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},hq=h2(),Lp="data-scroll-locked",pq=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Lp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hb,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gb,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hb," .").concat(Hb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gb," .").concat(Gb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Lp,`] {
    `).concat(QG,": ").concat(a,`px;
  }
`)},ZN=function(){var e=parseInt(document.body.getAttribute(Lp)||"0",10);return isFinite(e)?e:0},mq=function(){P.useEffect(function(){return document.body.setAttribute(Lp,(ZN()+1).toString()),function(){var e=ZN()-1;e<=0?document.body.removeAttribute(Lp):document.body.setAttribute(Lp,e.toString())}},[])},gq=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;mq();var o=P.useMemo(function(){return fq(i)},[i]);return P.createElement(hq,{styles:pq(o,!t,i,n?"":"!important")})},c1=!1;if(typeof window<"u")try{var xb=Object.defineProperty({},"passive",{get:function(){return c1=!0,!0}});window.addEventListener("test",xb,xb),window.removeEventListener("test",xb,xb)}catch{c1=!1}var lp=c1?{passive:!1}:!1,vq=function(e){return e.tagName==="TEXTAREA"},p2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vq(e)&&n[t]==="visible")},yq=function(e){return p2(e,"overflowY")},bq=function(e){return p2(e,"overflowX")},eI=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=m2(e,r);if(i){var o=g2(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xq=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Sq=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},m2=function(e,t){return e==="v"?yq(t):bq(t)},g2=function(e,t){return e==="v"?xq(t):Sq(t)},_q=function(e,t){return e==="h"&&t==="rtl"?-1:1},wq=function(e,t,n,r,i){var o=_q(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,c=t.contains(a),l=!1,f=s>0,p=0,m=0;do{var E=g2(e,a),x=E[0],y=E[1],w=E[2],R=y-w-o*x;(x||R)&&m2(e,a)&&(p+=R,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&(Math.abs(p)<1||!i)||!f&&(Math.abs(m)<1||!i))&&(l=!0),l},Sb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tI=function(e){return[e.deltaX,e.deltaY]},nI=function(e){return e&&"current"in e?e.current:e},Eq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Cq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Tq=0,up=[];function Rq(e){var t=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(Tq++)[0],o=P.useState(h2)[0],s=P.useRef(e);P.useEffect(function(){s.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=KG([e.lockRef.current],(e.shards||[]).map(nI),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=P.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var R=Sb(y),_=n.current,C="deltaX"in y?y.deltaX:_[0]-R[0],I="deltaY"in y?y.deltaY:_[1]-R[1],A,U=y.target,$=Math.abs(C)>Math.abs(I)?"h":"v";if("touches"in y&&$==="h"&&U.type==="range")return!1;var V=eI($,U);if(!V)return!0;if(V?A=$:(A=$==="v"?"h":"v",V=eI($,U)),!V)return!1;if(!r.current&&"changedTouches"in y&&(C||I)&&(r.current=A),!A)return!0;var q=r.current||A;return wq(q,w,y,q==="h"?C:I,!0)},[]),c=P.useCallback(function(y){var w=y;if(!(!up.length||up[up.length-1]!==o)){var R="deltaY"in w?tI(w):Sb(w),_=t.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&Eq(A.delta,R)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var C=(s.current.shards||[]).map(nI).filter(Boolean).filter(function(A){return A.contains(w.target)}),I=C.length>0?a(w,C[0]):!s.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),l=P.useCallback(function(y,w,R,_){var C={name:y,delta:w,target:R,should:_,shadowParent:kq(R)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(I){return I!==C})},1)},[]),f=P.useCallback(function(y){n.current=Sb(y),r.current=void 0},[]),p=P.useCallback(function(y){l(y.type,tI(y),y.target,a(y,e.lockRef.current))},[]),m=P.useCallback(function(y){l(y.type,Sb(y),y.target,a(y,e.lockRef.current))},[]);P.useEffect(function(){return up.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,lp),document.addEventListener("touchmove",c,lp),document.addEventListener("touchstart",f,lp),function(){up=up.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,lp),document.removeEventListener("touchmove",c,lp),document.removeEventListener("touchstart",f,lp)}},[]);var E=e.removeScrollBar,x=e.inert;return P.createElement(P.Fragment,null,x?P.createElement(o,{styles:Cq(i)}):null,E?P.createElement(gq,{gapMode:e.gapMode}):null)}function kq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Oq=rq(f2,Rq);var Py=P.forwardRef(function(e,t){return P.createElement(K_,hc({},e,{ref:t,sideCar:Oq}))});Py.classNames=K_.classNames;var l1=["Enter"," "],Pq=["ArrowDown","PageUp","Home"],v2=["ArrowUp","PageDown","End"],Nq=[...Pq,...v2],Iq={ltr:[...l1,"ArrowRight"],rtl:[...l1,"ArrowLeft"]},jq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ny="Menu",[oy,Aq,Dq]=E_(Ny),[ah,y2]=Rc(Ny,[Dq,km,G_]),Y_=km(),b2=G_(),[Mq,ch]=ah(Ny),[Lq,Iy]=ah(Ny),x2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=e,a=Y_(t),[c,l]=P.useState(null),f=P.useRef(!1),p=zr(o),m=Ry(i);return P.useEffect(()=>{const E=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),u.jsx(fk,{...a,children:u.jsx(Mq,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:l,children:u.jsx(Lq,{scope:t,onClose:P.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:s,children:r})})})};x2.displayName=Ny;var Fq="MenuAnchor",mk=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Y_(n);return u.jsx(W_,{...i,...r,ref:t})});mk.displayName=Fq;var gk="MenuPortal",[Uq,S2]=ah(gk,{forceMount:void 0}),_2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=ch(gk,t);return u.jsx(Uq,{scope:t,forceMount:n,children:u.jsx(uo,{present:n||o.open,children:u.jsx(_m,{asChild:!0,container:i,children:r})})})};_2.displayName=gk;var ra="MenuContent",[Bq,vk]=ah(ra),w2=P.forwardRef((e,t)=>{const n=S2(ra,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=ch(ra,e.__scopeMenu),s=Iy(ra,e.__scopeMenu);return u.jsx(oy.Provider,{scope:e.__scopeMenu,children:u.jsx(uo,{present:r||o.open,children:u.jsx(oy.Slot,{scope:e.__scopeMenu,children:s.modal?u.jsx($q,{...i,ref:t}):u.jsx(zq,{...i,ref:t})})})})}),$q=P.forwardRef((e,t)=>{const n=ch(ra,e.__scopeMenu),r=P.useRef(null),i=xn(t,r);return P.useEffect(()=>{const o=r.current;if(o)return q_(o)},[]),u.jsx(yk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zq=P.forwardRef((e,t)=>{const n=ch(ra,e.__scopeMenu);return u.jsx(yk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yk=P.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:E,disableOutsideScroll:x,...y}=e,w=ch(ra,n),R=Iy(ra,n),_=Y_(n),C=b2(n),I=Aq(n),[A,U]=P.useState(null),$=P.useRef(null),V=xn(t,$,w.onContentChange),q=P.useRef(0),X=P.useRef(""),J=P.useRef(0),G=P.useRef(null),ee=P.useRef("right"),ce=P.useRef(0),xe=x?Py:P.Fragment,Se=x?{as:Sc,allowPinchZoom:!0}:void 0,ve=Q=>{var Ye,lt;const ne=X.current+Q,fe=I().filter(Ut=>!Ut.disabled),Te=document.activeElement,Ge=(Ye=fe.find(Ut=>Ut.ref.current===Te))==null?void 0:Ye.textValue,Fe=fe.map(Ut=>Ut.textValue),bt=eK(Fe,ne,Ge),Gt=(lt=fe.find(Ut=>Ut.textValue===bt))==null?void 0:lt.ref.current;(function Ut(Jt){X.current=Jt,window.clearTimeout(q.current),Jt!==""&&(q.current=window.setTimeout(()=>Ut(""),1e3))})(ne),Gt&&setTimeout(()=>Gt.focus())};P.useEffect(()=>()=>window.clearTimeout(q.current),[]),B_();const Y=P.useCallback(Q=>{var fe,Te;return ee.current===((fe=G.current)==null?void 0:fe.side)&&nK(Q,(Te=G.current)==null?void 0:Te.area)},[]);return u.jsx(Bq,{scope:n,searchRef:X,onItemEnter:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),onItemLeave:P.useCallback(Q=>{var ne;Y(Q)||((ne=$.current)==null||ne.focus(),U(null))},[Y]),onTriggerLeave:P.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),pointerGraceTimerRef:J,onPointerGraceIntentChange:P.useCallback(Q=>{G.current=Q},[]),children:u.jsx(xe,{...Se,children:u.jsx(ky,{asChild:!0,trapped:i,onMountAutoFocus:Ke(o,Q=>{var ne;Q.preventDefault(),(ne=$.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:E,children:u.jsx(a2,{asChild:!0,...C,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:U,onEntryFocus:Ke(c,Q=>{R.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(hk,{role:"menu","aria-orientation":"vertical","data-state":U2(w.open),"data-radix-menu-content":"",dir:R.dir,..._,...y,ref:V,style:{outline:"none",...y.style},onKeyDown:Ke(y.onKeyDown,Q=>{const fe=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Te=Q.ctrlKey||Q.altKey||Q.metaKey,Ge=Q.key.length===1;fe&&(Q.key==="Tab"&&Q.preventDefault(),!Te&&Ge&&ve(Q.key));const Fe=$.current;if(Q.target!==Fe||!Nq.includes(Q.key))return;Q.preventDefault();const Gt=I().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);v2.includes(Q.key)&&Gt.reverse(),Jq(Gt)}),onBlur:Ke(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(q.current),X.current="")}),onPointerMove:Ke(e.onPointerMove,sy(Q=>{const ne=Q.target,fe=ce.current!==Q.clientX;if(Q.currentTarget.contains(ne)&&fe){const Te=Q.clientX>ce.current?"right":"left";ee.current=Te,ce.current=Q.clientX}}))})})})})})})});w2.displayName=ra;var Vq="MenuGroup",bk=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{role:"group",...r,ref:t})});bk.displayName=Vq;var Wq="MenuLabel",E2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{...r,ref:t})});E2.displayName=Wq;var wS="MenuItem",rI="menu.itemSelect",Q_=P.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=P.useRef(null),s=Iy(wS,e.__scopeMenu),a=vk(wS,e.__scopeMenu),c=xn(t,o),l=P.useRef(!1),f=()=>{const p=o.current;if(!n&&p){const m=new CustomEvent(rI,{bubbles:!0,cancelable:!0});p.addEventListener(rI,E=>r==null?void 0:r(E),{once:!0}),zR(p,m),m.defaultPrevented?l.current=!1:s.onClose()}};return u.jsx(C2,{...i,ref:c,disabled:n,onClick:Ke(e.onClick,f),onPointerDown:p=>{var m;(m=e.onPointerDown)==null||m.call(e,p),l.current=!0},onPointerUp:Ke(e.onPointerUp,p=>{var m;l.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:Ke(e.onKeyDown,p=>{const m=a.searchRef.current!=="";n||m&&p.key===" "||l1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Q_.displayName=wS;var C2=P.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,s=vk(wS,n),a=b2(n),c=P.useRef(null),l=xn(t,c),[f,p]=P.useState(!1),[m,E]=P.useState("");return P.useEffect(()=>{const x=c.current;x&&E((x.textContent??"").trim())},[o.children]),u.jsx(oy.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:u.jsx(c2,{asChild:!0,...a,focusable:!r,children:u.jsx(Pt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:l,onPointerMove:Ke(e.onPointerMove,sy(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,sy(x=>s.onItemLeave(x))),onFocus:Ke(e.onFocus,()=>p(!0)),onBlur:Ke(e.onBlur,()=>p(!1))})})})}),Hq="MenuCheckboxItem",T2=P.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return u.jsx(N2,{scope:e.__scopeMenu,checked:n,children:u.jsx(Q_,{role:"menuitemcheckbox","aria-checked":ES(n)?"mixed":n,...i,ref:t,"data-state":Sk(n),onSelect:Ke(i.onSelect,()=>r==null?void 0:r(ES(n)?!0:!n),{checkForDefaultPrevented:!1})})})});T2.displayName=Hq;var R2="MenuRadioGroup",[Gq,qq]=ah(R2,{value:void 0,onValueChange:()=>{}}),k2=P.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=zr(r);return u.jsx(Gq,{scope:e.__scopeMenu,value:n,onValueChange:o,children:u.jsx(bk,{...i,ref:t})})});k2.displayName=R2;var O2="MenuRadioItem",P2=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=qq(O2,e.__scopeMenu),o=n===i.value;return u.jsx(N2,{scope:e.__scopeMenu,checked:o,children:u.jsx(Q_,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Sk(o),onSelect:Ke(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});P2.displayName=O2;var xk="MenuItemIndicator",[N2,Kq]=ah(xk,{checked:!1}),I2=P.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=Kq(xk,n);return u.jsx(uo,{present:r||ES(o.checked)||o.checked===!0,children:u.jsx(Pt.span,{...i,ref:t,"data-state":Sk(o.checked)})})});I2.displayName=xk;var Yq="MenuSeparator",j2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});j2.displayName=Yq;var Qq="MenuArrow",A2=P.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Y_(n);return u.jsx(pk,{...i,...r,ref:t})});A2.displayName=Qq;var Xq="MenuSub",[jce,D2]=ah(Xq),cv="MenuSubTrigger",M2=P.forwardRef((e,t)=>{const n=ch(cv,e.__scopeMenu),r=Iy(cv,e.__scopeMenu),i=D2(cv,e.__scopeMenu),o=vk(cv,e.__scopeMenu),s=P.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,l={__scopeMenu:e.__scopeMenu},f=P.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return P.useEffect(()=>f,[f]),P.useEffect(()=>{const p=a.current;return()=>{window.clearTimeout(p),c(null)}},[a,c]),u.jsx(mk,{asChild:!0,...l,children:u.jsx(C2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":U2(n.open),...e,ref:w_(t,i.onTriggerChange),onClick:p=>{var m;(m=e.onClick)==null||m.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,sy(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ke(e.onPointerLeave,sy(p=>{var E,x;f();const m=(E=n.content)==null?void 0:E.getBoundingClientRect();if(m){const y=(x=n.content)==null?void 0:x.dataset.side,w=y==="right",R=w?-5:5,_=m[w?"left":"right"],C=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+R,y:p.clientY},{x:_,y:m.top},{x:C,y:m.top},{x:C,y:m.bottom},{x:_,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,p=>{var E;const m=o.searchRef.current!=="";e.disabled||m&&p.key===" "||Iq[r.dir].includes(p.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),p.preventDefault())})})})});M2.displayName=cv;var L2="MenuSubContent",F2=P.forwardRef((e,t)=>{const n=S2(ra,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=ch(ra,e.__scopeMenu),s=Iy(ra,e.__scopeMenu),a=D2(L2,e.__scopeMenu),c=P.useRef(null),l=xn(t,c);return u.jsx(oy.Provider,{scope:e.__scopeMenu,children:u.jsx(uo,{present:r||o.open,children:u.jsx(oy.Slot,{scope:e.__scopeMenu,children:u.jsx(yk,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:l,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;s.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:Ke(e.onKeyDown,f=>{var E;const p=f.currentTarget.contains(f.target),m=jq[s.dir].includes(f.key);p&&m&&(o.onOpenChange(!1),(E=a.trigger)==null||E.focus(),f.preventDefault())})})})})})});F2.displayName=L2;function U2(e){return e?"open":"closed"}function ES(e){return e==="indeterminate"}function Sk(e){return ES(e)?"indeterminate":e?"checked":"unchecked"}function Jq(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Zq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function eK(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=Zq(e,Math.max(o,0));i.length===1&&(s=s.filter(l=>l!==n));const c=s.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function tK(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,c=t[o].y,l=t[s].x,f=t[s].y;c>r!=f>r&&n<(l-a)*(r-c)/(f-c)+a&&(i=!i)}return i}function nK(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return tK(n,t)}function sy(e){return t=>t.pointerType==="mouse"?e(t):void 0}var rK=x2,iK=mk,oK=_2,sK=w2,aK=bk,cK=E2,lK=Q_,uK=T2,dK=k2,fK=P2,hK=I2,pK=j2,mK=A2,gK=M2,vK=F2,_k="DropdownMenu",[yK,Ace]=Rc(_k,[y2]),Lo=y2(),[bK,B2]=yK(_k),$2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,c=Lo(t),l=P.useRef(null),[f=!1,p]=bl({prop:i,defaultProp:o,onChange:s});return u.jsx(bK,{scope:t,triggerId:yc(),triggerRef:l,contentId:yc(),open:f,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(m=>!m),[p]),modal:a,children:u.jsx(rK,{...c,open:f,onOpenChange:p,dir:r,modal:a,children:n})})};$2.displayName=_k;var z2="DropdownMenuTrigger",V2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=B2(z2,n),s=Lo(n);return u.jsx(iK,{asChild:!0,...s,children:u.jsx(Pt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:w_(t,o.triggerRef),onPointerDown:Ke(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Ke(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});V2.displayName=z2;var xK="DropdownMenuPortal",W2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Lo(t);return u.jsx(oK,{...r,...n})};W2.displayName=xK;var H2="DropdownMenuContent",G2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=B2(H2,n),o=Lo(n),s=P.useRef(!1);return u.jsx(sK,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,a=>{const c=a.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,f=c.button===2||l;(!i.modal||f)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G2.displayName=H2;var SK="DropdownMenuGroup",_K=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(aK,{...i,...r,ref:t})});_K.displayName=SK;var wK="DropdownMenuLabel",q2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(cK,{...i,...r,ref:t})});q2.displayName=wK;var EK="DropdownMenuItem",K2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(lK,{...i,...r,ref:t})});K2.displayName=EK;var CK="DropdownMenuCheckboxItem",Y2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(uK,{...i,...r,ref:t})});Y2.displayName=CK;var TK="DropdownMenuRadioGroup",RK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(dK,{...i,...r,ref:t})});RK.displayName=TK;var kK="DropdownMenuRadioItem",Q2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(fK,{...i,...r,ref:t})});Q2.displayName=kK;var OK="DropdownMenuItemIndicator",X2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(hK,{...i,...r,ref:t})});X2.displayName=OK;var PK="DropdownMenuSeparator",J2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(pK,{...i,...r,ref:t})});J2.displayName=PK;var NK="DropdownMenuArrow",IK=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(mK,{...i,...r,ref:t})});IK.displayName=NK;var jK="DropdownMenuSubTrigger",Z2=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(gK,{...i,...r,ref:t})});Z2.displayName=jK;var AK="DropdownMenuSubContent",eF=P.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lo(n);return u.jsx(vK,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eF.displayName=AK;var DK=$2,MK=V2,LK=W2,tF=G2,nF=q2,rF=K2,iF=Y2,oF=Q2,sF=X2,aF=J2,cF=Z2,lF=eF;const wk=DK,Ek=MK,FK=P.forwardRef(({className:e,inset:t,children:n,...r},i)=>u.jsxs(cF,{ref:i,className:nt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(GR,{className:"ml-auto h-4 w-4"})]}));FK.displayName=cF.displayName;const UK=P.forwardRef(({className:e,...t},n)=>u.jsx(lF,{ref:n,className:nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));UK.displayName=lF.displayName;const X_=P.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(LK,{children:u.jsx(tF,{ref:r,sideOffset:t,className:nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));X_.displayName=tF.displayName;const Ck=P.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(rF,{ref:r,className:nt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ck.displayName=rF.displayName;const uF=P.forwardRef(({className:e,children:t,checked:n,...r},i)=>u.jsxs(iF,{ref:i,className:nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(sF,{children:u.jsx(wy,{className:"h-4 w-4"})})}),t]}));uF.displayName=iF.displayName;const BK=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(oF,{ref:r,className:nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(sF,{children:u.jsx(IM,{className:"h-2 w-2 fill-current"})})}),t]}));BK.displayName=oF.displayName;const $K=P.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(nF,{ref:r,className:nt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));$K.displayName=nF.displayName;const zK=P.forwardRef(({className:e,...t},n)=>u.jsx(aF,{ref:n,className:nt("-mx-1 my-1 h-px bg-muted",e),...t}));zK.displayName=aF.displayName;var dF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iI=ht.createContext&&ht.createContext(dF),VK=["attr","size","title"];function WK(e,t){if(e==null)return{};var n=HK(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(this,arguments)}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){GK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GK(e,t,n){return t=qK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fF(e){return e&&e.map((t,n)=>ht.createElement(t.tag,TS({key:n},t.attr),fF(t.child)))}function Tk(e){return t=>ht.createElement(YK,CS({attr:TS({},e.attr)},t),fF(e.child))}function YK(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=WK(e,VK),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),ht.createElement("svg",CS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:TS(TS({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),e.children)};return iI!==void 0?ht.createElement(iI.Consumer,null,n=>t(n)):t(dF)}function QK(e){return Tk({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.5 21H2V9h5.5v12zm7.25-18h-5.5v18h5.5V3zM22 11h-5.5v10H22V11z"},child:[]}]})(e)}function XK(e){return Tk({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}const JK=()=>{const[e,t]=P.useState(!0),n=Rl(),{email:r}=Nn(a=>a.auth),i=Qn();P.useEffect(()=>{i(Vb())},[]);const o=()=>{i($H()),n("/login")},s=[{icon:x6,label:"Dashboard",path:"/dashboard"},{icon:MM,label:"Users",path:"/dashboard/users"},{icon:f6,label:"Student Corner",submenu:[{icon:u6,label:"Activity",path:"/dashboard/activity"},{icon:DM,label:"Standard",path:"/dashboard/standard"},{icon:UT,label:"Subject",path:"/dashboard/subject"},{icon:S6,label:"Board",path:"/dashboard/board"}]},{icon:b6,label:"Course Manage",submenu:[{icon:O6,label:"Mentor",path:"/dashboard/mentor"},{icon:h6,label:"Course",path:"/dashboard/course"},{icon:T6,label:"Lesson",path:"/dashboard/lesson"}]},{icon:UT,label:"Quiz Management",path:"/dashboard/quiz"},{icon:v6,label:"Payments",path:"/dashboard/payments"},{icon:jM,label:"Transactions",path:"/dashboard/transaction"},{icon:QK,label:"Quiz Leader Board",path:"/dashboard/quiz-leader-board"},{icon:C6,label:"Manage Offers",path:"/dashboard/offer"},{icon:N6,label:"Upcoming Live",path:"/dashboard/upcomingLive"}];return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:u.jsx("h1",{className:"text-xl font-bold",children:"Admin Panel"})}),u.jsx("nav",{className:"flex-1 p-4 space-y-1",children:s.map(a=>a.submenu?u.jsxs(wk,{children:[u.jsxs(Ek,{className:"flex items-center w-full px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[u.jsx(a.icon,{className:"w-5 h-5 mr-3"}),a.label,u.jsx(O_,{className:"w-4 h-4 ml-auto"})]}),u.jsx(X_,{className:"w-56 ml-2",children:a.submenu.map(c=>u.jsx(Ck,{asChild:!0,children:u.jsxs(rN,{to:c.path,className:"flex items-center px-2 py-2",children:[u.jsx(c.icon,{className:"w-4 h-4 mr-2"}),c.label,u.jsx(GR,{className:"w-4 h-4 ml-auto"})]})},c.path))})]},a.label):u.jsxs(rN,{to:a.path,className:"flex items-center px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[u.jsx(a.icon,{className:"w-5 h-5 mr-3"}),a.label]},a.path))}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs(St,{variant:"ghost",className:"w-full justify-start",onClick:o,children:[u.jsx(_6,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),u.jsxs("div",{className:`lg:ml-64 min-h-screen transition-all duration-200 ${e?"ml-64":"ml-0"}`,children:[u.jsx("header",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[u.jsx(St,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>t(!e),children:u.jsx(w6,{className:"w-5 h-5"})}),u.jsx("div",{className:"ml-auto flex items-center space-x-4",children:u.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",r]})})]})}),u.jsx("main",{className:"p-6",children:u.jsx(Zz,{})})]})]})},ZK={users:[],isLoading:!1,error:null,totalPages:1,currentPage:1},qb=_t("fetchAllUser",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(eW,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Kb=_t("toggleUserBlock",async(e,{rejectWithValue:t})=>{try{return(await pt.post(tW,{userId:e})).data}catch(n){return t(n.response.data)}}),Yb=_t("updateUser",async(e,{rejectWithValue:t})=>{try{return(await pt.post(nW,e)).data}catch(n){return t(n.response.data)}}),eY=os({name:"user",initialState:ZK,reducers:{},extraReducers:e=>{e.addCase(qb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(qb.fulfilled,(t,n)=>{t.isLoading=!1,t.users=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(qb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Yb.pending,t=>{t.error=null}).addCase(Yb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.users.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.users[r]=n.payload)}).addCase(Yb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Hu({title:"Error",description:n.payload.message})}).addCase(Kb.pending,t=>{t.error=null}).addCase(Kb.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.users.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.users[r].isBlocked=!t.users[r].isBlocked)}).addCase(Kb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),tY=eY.reducer,aa=({currentPage:e,totalPages:t,onPageChange:n})=>{const r=i=>{i!==e&&n(i)};return u.jsx("div",{className:"flex justify-center mt-4",children:u.jsx("nav",{children:u.jsxs("ul",{className:"inline-flex items-center -space-x-px",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:`px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 ${e===1?"pointer-events-none opacity-50":""}`,children:"Previous"})}),Array.from({length:t},(i,o)=>o+1).map(i=>u.jsx("li",{children:u.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 leading-tight ${e===i?"text-blue-600 bg-blue-50 border border-blue-300":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"}`,children:i})},i)),u.jsx("li",{children:u.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:`px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 ${e===t?"pointer-events-none opacity-50":""}`,children:"Next"})})]})})})};var jy=e=>e.type==="checkbox",Ef=e=>e instanceof Date,Oo=e=>e==null;const hF=e=>typeof e=="object";var si=e=>!Oo(e)&&!Array.isArray(e)&&hF(e)&&!Ef(e),pF=e=>si(e)&&e.target?jy(e.target)?e.target.checked:e.target.value:e,nY=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mF=(e,t)=>e.has(nY(t)),rY=e=>{const t=e.constructor&&e.constructor.prototype;return si(t)&&t.hasOwnProperty("isPrototypeOf")},Rk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gi(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Rk&&(e instanceof Blob||e instanceof FileList))&&(n||si(e)))if(t=n?[]:{},!n&&!rY(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=gi(e[r]));else return e;return t}var Ay=e=>Array.isArray(e)?e.filter(Boolean):[],br=e=>e===void 0,Ve=(e,t,n)=>{if(!t||!si(e))return n;const r=Ay(t.split(/[,[\].]+?/)).reduce((i,o)=>Oo(i)?i:i[o],e);return br(r)||r===e?br(e[t])?n:e[t]:r},Xs=e=>typeof e=="boolean",kk=e=>/^\w*$/.test(e),gF=e=>Ay(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Hn=(e,t,n)=>{let r=-1;const i=kk(t)?[t]:gF(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let c=n;if(r!==s){const l=e[a];c=si(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;e[a]=c,e=e[a]}return e};const RS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ea={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vF=ht.createContext(null),Dy=()=>ht.useContext(vF),iY=e=>{const{children:t,...n}=e;return ht.createElement(vF.Provider,{value:n},t)};var yF=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==ea.all&&(t._proxyFormState[s]=!r||ea.all),n&&(n[s]=!0),e[s]}});return i},Ro=e=>si(e)&&!Object.keys(e).length,bF=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ro(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||ea.all))},Yo=e=>Array.isArray(e)?e:[e],xF=(e,t,n)=>!e||!t||e===t||Yo(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function J_(e){const t=ht.useRef(e);t.current=e,ht.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function oY(e){const t=Dy(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=ht.useState(n._formState),c=ht.useRef(!0),l=ht.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=ht.useRef(i);return f.current=i,J_({disabled:r,next:p=>c.current&&xF(f.current,p.name,o)&&bF(p,l.current,n._updateFormState)&&a({...n._formState,...p}),subject:n._subjects.state}),ht.useEffect(()=>(c.current=!0,l.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),yF(s,n,l.current,!1)}var pc=e=>typeof e=="string",SF=(e,t,n,r,i)=>pc(e)?(r&&t.watch.add(e),Ve(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Ve(n,o))):(r&&(t.watchAll=!0),n);function sY(e){const t=Dy(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=ht.useRef(r);a.current=r,J_({disabled:o,subject:n._subjects.values,next:f=>{xF(a.current,f.name,s)&&l(gi(SF(a.current,n._names,f.values||n._formValues,!1,i)))}});const[c,l]=ht.useState(n._getWatch(r,i));return ht.useEffect(()=>n._removeUnmounted()),c}function Ok(e){const t=Dy(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=mF(i._names.array,n),a=sY({control:i,name:n,defaultValue:Ve(i._formValues,n,Ve(i._defaultValues,n,e.defaultValue)),exact:!0}),c=oY({control:i,name:n,exact:!0}),l=ht.useRef(i.register(n,{...e.rules,value:a,...Xs(e.disabled)?{disabled:e.disabled}:{}}));return ht.useEffect(()=>{const f=i._options.shouldUnregister||o,p=(m,E)=>{const x=Ve(i._fields,m);x&&x._f&&(x._f.mount=E)};if(p(n,!0),f){const m=gi(Ve(i._options.defaultValues,n));Hn(i._defaultValues,n,m),br(Ve(i._formValues,n))&&Hn(i._formValues,n,m)}return()=>{(s?f&&!i._state.action:f)?i.unregister(n):p(n,!1)}},[n,i,s,o]),ht.useEffect(()=>{Ve(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:Ve(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Xs(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:ht.useCallback(f=>l.current.onChange({target:{value:pF(f),name:n},type:RS.CHANGE}),[n]),onBlur:ht.useCallback(()=>l.current.onBlur({target:{value:Ve(i._formValues,n),name:n},type:RS.BLUR}),[n,i]),ref:ht.useCallback(f=>{const p=Ve(i._fields,n);p&&f&&(p._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:m=>f.setCustomValidity(m),reportValidity:()=>f.reportValidity()})},[i._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ve(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ve(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ve(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ve(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ve(c.errors,n)}})}}const Pk=e=>e.render(Ok(e));var _F=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},pu=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},rC=(e,t,n={})=>n.shouldFocus||br(n.shouldFocus)?n.focusName||`${e}.${br(n.focusIndex)?t:n.focusIndex}.`:"",Cv=e=>({isOnSubmit:!e||e===ea.onSubmit,isOnBlur:e===ea.onBlur,isOnChange:e===ea.onChange,isOnAll:e===ea.all,isOnTouch:e===ea.onTouched}),u1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Fp=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Ve(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(Fp(a,t))break}else if(si(a)&&Fp(a,t))break}}};var wF=(e,t,n)=>{const r=Yo(Ve(e,n));return Hn(r,"root",t[n]),Hn(e,n,r),e},Nk=e=>e.type==="file",al=e=>typeof e=="function",kS=e=>{if(!Rk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qb=e=>pc(e),Ik=e=>e.type==="radio",OS=e=>e instanceof RegExp;const sI={value:!1,isValid:!1},aI={value:!0,isValid:!0};var EF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!br(e[0].attributes.value)?br(e[0].value)||e[0].value===""?aI:{value:e[0].value,isValid:!0}:aI:sI}return sI};const cI={isValid:!1,value:null};var CF=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,cI):cI;function lI(e,t,n="validate"){if(Qb(e)||Array.isArray(e)&&e.every(Qb)||Xs(e)&&!e)return{type:n,message:Qb(e)?e:"",ref:t}}var dp=e=>si(e)&&!OS(e)?e:{value:e,message:""},d1=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:c,minLength:l,min:f,max:p,pattern:m,validate:E,name:x,valueAsNumber:y,mount:w,disabled:R}=e._f,_=Ve(t,x);if(!w||R)return{};const C=s?s[0]:o,I=G=>{r&&C.reportValidity&&(C.setCustomValidity(Xs(G)?"":G||""),C.reportValidity())},A={},U=Ik(o),$=jy(o),V=U||$,q=(y||Nk(o))&&br(o.value)&&br(_)||kS(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,X=_F.bind(null,x,n,A),J=(G,ee,ce,xe=Qc.maxLength,Se=Qc.minLength)=>{const ve=G?ee:ce;A[x]={type:G?xe:Se,message:ve,ref:o,...X(G?xe:Se,ve)}};if(i?!Array.isArray(_)||!_.length:a&&(!V&&(q||Oo(_))||Xs(_)&&!_||$&&!EF(s).isValid||U&&!CF(s).isValid)){const{value:G,message:ee}=Qb(a)?{value:!!a,message:a}:dp(a);if(G&&(A[x]={type:Qc.required,message:ee,ref:C,...X(Qc.required,ee)},!n))return I(ee),A}if(!q&&(!Oo(f)||!Oo(p))){let G,ee;const ce=dp(p),xe=dp(f);if(!Oo(_)&&!isNaN(_)){const Se=o.valueAsNumber||_&&+_;Oo(ce.value)||(G=Se>ce.value),Oo(xe.value)||(ee=Se<xe.value)}else{const Se=o.valueAsDate||new Date(_),ve=ne=>new Date(new Date().toDateString()+" "+ne),Y=o.type=="time",Q=o.type=="week";pc(ce.value)&&_&&(G=Y?ve(_)>ve(ce.value):Q?_>ce.value:Se>new Date(ce.value)),pc(xe.value)&&_&&(ee=Y?ve(_)<ve(xe.value):Q?_<xe.value:Se<new Date(xe.value))}if((G||ee)&&(J(!!G,ce.message,xe.message,Qc.max,Qc.min),!n))return I(A[x].message),A}if((c||l)&&!q&&(pc(_)||i&&Array.isArray(_))){const G=dp(c),ee=dp(l),ce=!Oo(G.value)&&_.length>+G.value,xe=!Oo(ee.value)&&_.length<+ee.value;if((ce||xe)&&(J(ce,G.message,ee.message),!n))return I(A[x].message),A}if(m&&!q&&pc(_)){const{value:G,message:ee}=dp(m);if(OS(G)&&!_.match(G)&&(A[x]={type:Qc.pattern,message:ee,ref:o,...X(Qc.pattern,ee)},!n))return I(ee),A}if(E){if(al(E)){const G=await E(_,t),ee=lI(G,C);if(ee&&(A[x]={...ee,...X(Qc.validate,ee.message)},!n))return I(ee.message),A}else if(si(E)){let G={};for(const ee in E){if(!Ro(G)&&!n)break;const ce=lI(await E[ee](_,t),C,ee);ce&&(G={...ce,...X(ee,ce.message)},I(ce.message),n&&(A[x]=G))}if(!Ro(G)&&(A[x]={ref:C,...G},!n))return A}}return I(!0),A},iC=(e,t)=>[...e,...Yo(t)],oC=e=>Array.isArray(e)?e.map(()=>{}):void 0;function sC(e,t,n){return[...e.slice(0,t),...Yo(n),...e.slice(t)]}var aC=(e,t,n)=>Array.isArray(e)?(br(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],cC=(e,t)=>[...Yo(t),...Yo(e)];function aY(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return Ay(r).length?r:[]}var lC=(e,t)=>br(t)?[]:aY(e,Yo(t).sort((n,r)=>n-r)),uC=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function cY(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=br(e)?r++:e[t[r++]];return e}function lY(e){for(const t in e)if(e.hasOwnProperty(t)&&!br(e[t]))return!1;return!0}function ui(e,t){const n=Array.isArray(t)?t:kk(t)?[t]:gF(t),r=n.length===1?e:cY(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(si(r)&&Ro(r)||Array.isArray(r)&&lY(r))&&ui(e,n.slice(0,-1)),e}var uI=(e,t,n)=>(e[t]=n,e);function dI(e){const t=Dy(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o}=e,[s,a]=ht.useState(n._getFieldArray(r)),c=ht.useRef(n._getFieldArray(r).map(pu)),l=ht.useRef(s),f=ht.useRef(r),p=ht.useRef(!1);f.current=r,l.current=s,n._names.array.add(r),e.rules&&n.register(r,e.rules),J_({next:({values:A,name:U})=>{if(U===f.current||!U){const $=Ve(A,f.current);Array.isArray($)&&(a($),c.current=$.map(pu))}},subject:n._subjects.array});const m=ht.useCallback(A=>{p.current=!0,n._updateFieldArray(r,A)},[n,r]),E=(A,U)=>{const $=Yo(gi(A)),V=iC(n._getFieldArray(r),$);n._names.focus=rC(r,V.length-1,U),c.current=iC(c.current,$.map(pu)),m(V),a(V),n._updateFieldArray(r,V,iC,{argA:oC(A)})},x=(A,U)=>{const $=Yo(gi(A)),V=cC(n._getFieldArray(r),$);n._names.focus=rC(r,0,U),c.current=cC(c.current,$.map(pu)),m(V),a(V),n._updateFieldArray(r,V,cC,{argA:oC(A)})},y=A=>{const U=lC(n._getFieldArray(r),A);c.current=lC(c.current,A),m(U),a(U),n._updateFieldArray(r,U,lC,{argA:A})},w=(A,U,$)=>{const V=Yo(gi(U)),q=sC(n._getFieldArray(r),A,V);n._names.focus=rC(r,A,$),c.current=sC(c.current,A,V.map(pu)),m(q),a(q),n._updateFieldArray(r,q,sC,{argA:A,argB:oC(U)})},R=(A,U)=>{const $=n._getFieldArray(r);uC($,A,U),uC(c.current,A,U),m($),a($),n._updateFieldArray(r,$,uC,{argA:A,argB:U},!1)},_=(A,U)=>{const $=n._getFieldArray(r);aC($,A,U),aC(c.current,A,U),m($),a($),n._updateFieldArray(r,$,aC,{argA:A,argB:U},!1)},C=(A,U)=>{const $=gi(U),V=uI(n._getFieldArray(r),A,$);c.current=[...V].map((q,X)=>!q||X===A?pu():c.current[X]),m(V),a([...V]),n._updateFieldArray(r,V,uI,{argA:A,argB:$},!0,!1)},I=A=>{const U=Yo(gi(A));c.current=U.map(pu),m([...U]),a([...U]),n._updateFieldArray(r,[...U],$=>$,{},!0,!1)};return ht.useEffect(()=>{if(n._state.action=!1,u1(r,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!Cv(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(A=>{const U=Ve(A.errors,r),$=Ve(n._formState.errors,r);($?!U&&$.type||U&&($.type!==U.type||$.message!==U.message):U&&U.type)&&(U?Hn(n._formState.errors,r,U):ui(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const A=Ve(n._fields,r);A&&A._f&&!(Cv(n._options.reValidateMode).isOnSubmit&&Cv(n._options.mode).isOnSubmit)&&d1(A,n._formValues,n._options.criteriaMode===ea.all,n._options.shouldUseNativeValidation,!0).then(U=>!Ro(U)&&n._subjects.state.next({errors:wF(n._formState.errors,U,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Fp(n._fields,(A,U)=>{if(n._names.focus&&U.startsWith(n._names.focus)&&A.focus)return A.focus(),1}),n._names.focus="",n._updateValid(),p.current=!1},[s,r,n]),ht.useEffect(()=>(!Ve(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,i,o]),{swap:ht.useCallback(R,[m,r,n]),move:ht.useCallback(_,[m,r,n]),prepend:ht.useCallback(x,[m,r,n]),append:ht.useCallback(E,[m,r,n]),remove:ht.useCallback(y,[m,r,n]),insert:ht.useCallback(w,[m,r,n]),update:ht.useCallback(C,[m,r,n]),replace:ht.useCallback(I,[m,r,n]),fields:ht.useMemo(()=>s.map((A,U)=>({...A,[i]:c.current[U]||pu()})),[s,i])}}var dC=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},f1=e=>Oo(e)||!hF(e);function wu(e,t){if(f1(e)||f1(t))return e===t;if(Ef(e)&&Ef(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(Ef(o)&&Ef(s)||si(o)&&si(s)||Array.isArray(o)&&Array.isArray(s)?!wu(o,s):o!==s)return!1}}return!0}var TF=e=>e.type==="select-multiple",uY=e=>Ik(e)||jy(e),fC=e=>kS(e)&&e.isConnected,RF=e=>{for(const t in e)if(al(e[t]))return!0;return!1};function PS(e,t={}){const n=Array.isArray(e);if(si(e)||n)for(const r in e)Array.isArray(e[r])||si(e[r])&&!RF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},PS(e[r],t[r])):Oo(e[r])||(t[r]=!0);return t}function kF(e,t,n){const r=Array.isArray(e);if(si(e)||r)for(const i in e)Array.isArray(e[i])||si(e[i])&&!RF(e[i])?br(t)||f1(n[i])?n[i]=Array.isArray(e[i])?PS(e[i],[]):{...PS(e[i])}:kF(e[i],Oo(t)?{}:t[i],n[i]):n[i]=!wu(e[i],t[i]);return n}var Jg=(e,t)=>kF(e,t,PS(t)),OF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>br(e)?e:t?e===""?NaN:e&&+e:n&&pc(e)?new Date(e):r?r(e):e;function hC(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Nk(t)?t.files:Ik(t)?CF(e.refs).value:TF(t)?[...t.selectedOptions].map(({value:n})=>n):jy(t)?EF(e.refs).value:OF(br(t.value)?e.ref.value:t.value,e)}var dY=(e,t,n,r)=>{const i={};for(const o of e){const s=Ve(t,o);s&&Hn(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Zg=e=>br(e)?e:OS(e)?e.source:si(e)?OS(e.value)?e.value.source:e.value:e;const fI="AsyncFunction";var fY=e=>(!e||!e.validate)&&!!(al(e.validate)&&e.validate.constructor.name===fI||si(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fI)),hY=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function hI(e,t,n){const r=Ve(e,n);if(r||kk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=Ve(t,o),a=Ve(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var pY=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,mY=(e,t)=>!Ay(Ve(e,t)).length&&ui(e,t);const gY={mode:ea.onSubmit,reValidateMode:ea.onChange,shouldFocusError:!0};function vY(e={}){let t={...gY,...e},n={submitCount:0,isDirty:!1,isLoading:al(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=si(t.defaultValues)||si(t.values)?gi(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:gi(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:dC(),array:dC(),state:dC()},m=Cv(t.mode),E=Cv(t.reValidateMode),x=t.criteriaMode===ea.all,y=Z=>pe=>{clearTimeout(l),l=setTimeout(Z,pe)},w=async Z=>{if(!e.disabled&&(f.isValid||Z)){const pe=t.resolver?Ro((await V()).errors):await X(r,!0);pe!==n.isValid&&p.state.next({isValid:pe})}},R=(Z,pe)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((Z||Array.from(a.mount)).forEach(Ce=>{Ce&&(pe?Hn(n.validatingFields,Ce,pe):ui(n.validatingFields,Ce))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ro(n.validatingFields)}))},_=(Z,pe=[],Ce,Qe,re=!0,de=!0)=>{if(Qe&&Ce&&!e.disabled){if(s.action=!0,de&&Array.isArray(Ve(r,Z))){const Re=Ce(Ve(r,Z),Qe.argA,Qe.argB);re&&Hn(r,Z,Re)}if(de&&Array.isArray(Ve(n.errors,Z))){const Re=Ce(Ve(n.errors,Z),Qe.argA,Qe.argB);re&&Hn(n.errors,Z,Re),mY(n.errors,Z)}if(f.touchedFields&&de&&Array.isArray(Ve(n.touchedFields,Z))){const Re=Ce(Ve(n.touchedFields,Z),Qe.argA,Qe.argB);re&&Hn(n.touchedFields,Z,Re)}f.dirtyFields&&(n.dirtyFields=Jg(i,o)),p.state.next({name:Z,isDirty:G(Z,pe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Hn(o,Z,pe)},C=(Z,pe)=>{Hn(n.errors,Z,pe),p.state.next({errors:n.errors})},I=Z=>{n.errors=Z,p.state.next({errors:n.errors,isValid:!1})},A=(Z,pe,Ce,Qe)=>{const re=Ve(r,Z);if(re){const de=Ve(o,Z,br(Ce)?Ve(i,Z):Ce);br(de)||Qe&&Qe.defaultChecked||pe?Hn(o,Z,pe?de:hC(re._f)):xe(Z,de),s.mount&&w()}},U=(Z,pe,Ce,Qe,re)=>{let de=!1,Re=!1;const De={name:Z};if(!e.disabled){const rt=!!(Ve(r,Z)&&Ve(r,Z)._f&&Ve(r,Z)._f.disabled);if(!Ce||Qe){f.isDirty&&(Re=n.isDirty,n.isDirty=De.isDirty=G(),de=Re!==De.isDirty);const wt=rt||wu(Ve(i,Z),pe);Re=!!(!rt&&Ve(n.dirtyFields,Z)),wt||rt?ui(n.dirtyFields,Z):Hn(n.dirtyFields,Z,!0),De.dirtyFields=n.dirtyFields,de=de||f.dirtyFields&&Re!==!wt}if(Ce){const wt=Ve(n.touchedFields,Z);wt||(Hn(n.touchedFields,Z,Ce),De.touchedFields=n.touchedFields,de=de||f.touchedFields&&wt!==Ce)}de&&re&&p.state.next(De)}return de?De:{}},$=(Z,pe,Ce,Qe)=>{const re=Ve(n.errors,Z),de=f.isValid&&Xs(pe)&&n.isValid!==pe;if(e.delayError&&Ce?(c=y(()=>C(Z,Ce)),c(e.delayError)):(clearTimeout(l),c=null,Ce?Hn(n.errors,Z,Ce):ui(n.errors,Z)),(Ce?!wu(re,Ce):re)||!Ro(Qe)||de){const Re={...Qe,...de&&Xs(pe)?{isValid:pe}:{},errors:n.errors,name:Z};n={...n,...Re},p.state.next(Re)}},V=async Z=>{R(Z,!0);const pe=await t.resolver(o,t.context,dY(Z||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return R(Z),pe},q=async Z=>{const{errors:pe}=await V(Z);if(Z)for(const Ce of Z){const Qe=Ve(pe,Ce);Qe?Hn(n.errors,Ce,Qe):ui(n.errors,Ce)}else n.errors=pe;return pe},X=async(Z,pe,Ce={valid:!0})=>{for(const Qe in Z){const re=Z[Qe];if(re){const{_f:de,...Re}=re;if(de){const De=a.array.has(de.name),rt=re._f&&fY(re._f);rt&&f.validatingFields&&R([Qe],!0);const wt=await d1(re,o,x,t.shouldUseNativeValidation&&!pe,De);if(rt&&f.validatingFields&&R([Qe]),wt[de.name]&&(Ce.valid=!1,pe))break;!pe&&(Ve(wt,de.name)?De?wF(n.errors,wt,de.name):Hn(n.errors,de.name,wt[de.name]):ui(n.errors,de.name))}!Ro(Re)&&await X(Re,pe,Ce)}}return Ce.valid},J=()=>{for(const Z of a.unMount){const pe=Ve(r,Z);pe&&(pe._f.refs?pe._f.refs.every(Ce=>!fC(Ce)):!fC(pe._f.ref))&&Gt(Z)}a.unMount=new Set},G=(Z,pe)=>!e.disabled&&(Z&&pe&&Hn(o,Z,pe),!wu(fe(),i)),ee=(Z,pe,Ce)=>SF(Z,a,{...s.mount?o:br(pe)?i:pc(Z)?{[Z]:pe}:pe},Ce,pe),ce=Z=>Ay(Ve(s.mount?o:i,Z,e.shouldUnregister?Ve(i,Z,[]):[])),xe=(Z,pe,Ce={})=>{const Qe=Ve(r,Z);let re=pe;if(Qe){const de=Qe._f;de&&(!de.disabled&&Hn(o,Z,OF(pe,de)),re=kS(de.ref)&&Oo(pe)?"":pe,TF(de.ref)?[...de.ref.options].forEach(Re=>Re.selected=re.includes(Re.value)):de.refs?jy(de.ref)?de.refs.length>1?de.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(re)?!!re.find(De=>De===Re.value):re===Re.value)):de.refs[0]&&(de.refs[0].checked=!!re):de.refs.forEach(Re=>Re.checked=Re.value===re):Nk(de.ref)?de.ref.value="":(de.ref.value=re,de.ref.type||p.values.next({name:Z,values:{...o}})))}(Ce.shouldDirty||Ce.shouldTouch)&&U(Z,re,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&ne(Z)},Se=(Z,pe,Ce)=>{for(const Qe in pe){const re=pe[Qe],de=`${Z}.${Qe}`,Re=Ve(r,de);(a.array.has(Z)||si(re)||Re&&!Re._f)&&!Ef(re)?Se(de,re,Ce):xe(de,re,Ce)}},ve=(Z,pe,Ce={})=>{const Qe=Ve(r,Z),re=a.array.has(Z),de=gi(pe);Hn(o,Z,de),re?(p.array.next({name:Z,values:{...o}}),(f.isDirty||f.dirtyFields)&&Ce.shouldDirty&&p.state.next({name:Z,dirtyFields:Jg(i,o),isDirty:G(Z,de)})):Qe&&!Qe._f&&!Oo(de)?Se(Z,de,Ce):xe(Z,de,Ce),u1(Z,a)&&p.state.next({...n}),p.values.next({name:s.mount?Z:void 0,values:{...o}})},Y=async Z=>{s.mount=!0;const pe=Z.target;let Ce=pe.name,Qe=!0;const re=Ve(r,Ce),de=()=>pe.type?hC(re._f):pF(Z),Re=De=>{Qe=Number.isNaN(De)||Ef(De)&&isNaN(De.getTime())||wu(De,Ve(o,Ce,De))};if(re){let De,rt;const wt=de(),_n=Z.type===RS.BLUR||Z.type===RS.FOCUS_OUT,Qr=!hY(re._f)&&!t.resolver&&!Ve(n.errors,Ce)&&!re._f.deps||pY(_n,Ve(n.touchedFields,Ce),n.isSubmitted,E,m),fi=u1(Ce,a,_n);Hn(o,Ce,wt),_n?(re._f.onBlur&&re._f.onBlur(Z),c&&c(0)):re._f.onChange&&re._f.onChange(Z);const fo=U(Ce,wt,_n,!1),Tn=!Ro(fo)||fi;if(!_n&&p.values.next({name:Ce,type:Z.type,values:{...o}}),Qr)return f.isValid&&(e.mode==="onBlur"?_n&&w():w()),Tn&&p.state.next({name:Ce,...fi?{}:fo});if(!_n&&fi&&p.state.next({...n}),t.resolver){const{errors:kn}=await V([Ce]);if(Re(wt),Qe){const Fs=hI(n.errors,r,Ce),$a=hI(kn,r,Fs.name||Ce);De=$a.error,Ce=$a.name,rt=Ro(kn)}}else R([Ce],!0),De=(await d1(re,o,x,t.shouldUseNativeValidation))[Ce],R([Ce]),Re(wt),Qe&&(De?rt=!1:f.isValid&&(rt=await X(r,!0)));Qe&&(re._f.deps&&ne(re._f.deps),$(Ce,rt,De,fo))}},Q=(Z,pe)=>{if(Ve(n.errors,pe)&&Z.focus)return Z.focus(),1},ne=async(Z,pe={})=>{let Ce,Qe;const re=Yo(Z);if(t.resolver){const de=await q(br(Z)?Z:re);Ce=Ro(de),Qe=Z?!re.some(Re=>Ve(de,Re)):Ce}else Z?(Qe=(await Promise.all(re.map(async de=>{const Re=Ve(r,de);return await X(Re&&Re._f?{[de]:Re}:Re)}))).every(Boolean),!(!Qe&&!n.isValid)&&w()):Qe=Ce=await X(r);return p.state.next({...!pc(Z)||f.isValid&&Ce!==n.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:Ce}:{},errors:n.errors}),pe.shouldFocus&&!Qe&&Fp(r,Q,Z?re:a.mount),Qe},fe=Z=>{const pe={...s.mount?o:i};return br(Z)?pe:pc(Z)?Ve(pe,Z):Z.map(Ce=>Ve(pe,Ce))},Te=(Z,pe)=>({invalid:!!Ve((pe||n).errors,Z),isDirty:!!Ve((pe||n).dirtyFields,Z),error:Ve((pe||n).errors,Z),isValidating:!!Ve(n.validatingFields,Z),isTouched:!!Ve((pe||n).touchedFields,Z)}),Ge=Z=>{Z&&Yo(Z).forEach(pe=>ui(n.errors,pe)),p.state.next({errors:Z?n.errors:{}})},Fe=(Z,pe,Ce)=>{const Qe=(Ve(r,Z,{_f:{}})._f||{}).ref,re=Ve(n.errors,Z)||{},{ref:de,message:Re,type:De,...rt}=re;Hn(n.errors,Z,{...rt,...pe,ref:Qe}),p.state.next({name:Z,errors:n.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Qe&&Qe.focus&&Qe.focus()},bt=(Z,pe)=>al(Z)?p.values.subscribe({next:Ce=>Z(ee(void 0,pe),Ce)}):ee(Z,pe,!0),Gt=(Z,pe={})=>{for(const Ce of Z?Yo(Z):a.mount)a.mount.delete(Ce),a.array.delete(Ce),pe.keepValue||(ui(r,Ce),ui(o,Ce)),!pe.keepError&&ui(n.errors,Ce),!pe.keepDirty&&ui(n.dirtyFields,Ce),!pe.keepTouched&&ui(n.touchedFields,Ce),!pe.keepIsValidating&&ui(n.validatingFields,Ce),!t.shouldUnregister&&!pe.keepDefaultValue&&ui(i,Ce);p.values.next({values:{...o}}),p.state.next({...n,...pe.keepDirty?{isDirty:G()}:{}}),!pe.keepIsValid&&w()},Ye=({disabled:Z,name:pe,field:Ce,fields:Qe,value:re})=>{if(Xs(Z)&&s.mount||Z){const de=Z?void 0:br(re)?hC(Ce?Ce._f:Ve(Qe,pe)._f):re;Hn(o,pe,de),U(pe,de,!1,!1,!0)}},lt=(Z,pe={})=>{let Ce=Ve(r,Z);const Qe=Xs(pe.disabled)||Xs(e.disabled);return Hn(r,Z,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:Z}},name:Z,mount:!0,...pe}}),a.mount.add(Z),Ce?Ye({field:Ce,disabled:Xs(pe.disabled)?pe.disabled:e.disabled,name:Z,value:pe.value}):A(Z,!0,pe.value),{...Qe?{disabled:pe.disabled||e.disabled}:{},...t.progressive?{required:!!pe.required,min:Zg(pe.min),max:Zg(pe.max),minLength:Zg(pe.minLength),maxLength:Zg(pe.maxLength),pattern:Zg(pe.pattern)}:{},name:Z,onChange:Y,onBlur:Y,ref:re=>{if(re){lt(Z,pe),Ce=Ve(r,Z);const de=br(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Re=uY(de),De=Ce._f.refs||[];if(Re?De.find(rt=>rt===de):de===Ce._f.ref)return;Hn(r,Z,{_f:{...Ce._f,...Re?{refs:[...De.filter(fC),de,...Array.isArray(Ve(i,Z))?[{}]:[]],ref:{type:de.type,name:Z}}:{ref:de}}}),A(Z,!1,void 0,de)}else Ce=Ve(r,Z,{}),Ce._f&&(Ce._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(mF(a.array,Z)&&s.action)&&a.unMount.add(Z)}}},Ut=()=>t.shouldFocusError&&Fp(r,Q,a.mount),Jt=Z=>{Xs(Z)&&(p.state.next({disabled:Z}),Fp(r,(pe,Ce)=>{const Qe=Ve(r,Ce);Qe&&(pe.disabled=Qe._f.disabled||Z,Array.isArray(Qe._f.refs)&&Qe._f.refs.forEach(re=>{re.disabled=Qe._f.disabled||Z}))},0,!1))},Bt=(Z,pe)=>async Ce=>{let Qe;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let re=gi(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:Re}=await V();n.errors=de,re=Re}else await X(r);if(ui(n.errors,"root"),Ro(n.errors)){p.state.next({errors:{}});try{await Z(re,Ce)}catch(de){Qe=de}}else pe&&await pe({...n.errors},Ce),Ut(),setTimeout(Ut);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ro(n.errors)&&!Qe,submitCount:n.submitCount+1,errors:n.errors}),Qe)throw Qe},qt=(Z,pe={})=>{Ve(r,Z)&&(br(pe.defaultValue)?ve(Z,gi(Ve(i,Z))):(ve(Z,pe.defaultValue),Hn(i,Z,gi(pe.defaultValue))),pe.keepTouched||ui(n.touchedFields,Z),pe.keepDirty||(ui(n.dirtyFields,Z),n.isDirty=pe.defaultValue?G(Z,gi(Ve(i,Z))):G()),pe.keepError||(ui(n.errors,Z),f.isValid&&w()),p.state.next({...n}))},Un=(Z,pe={})=>{const Ce=Z?gi(Z):i,Qe=gi(Ce),re=Ro(Z),de=re?i:Qe;if(pe.keepDefaultValues||(i=Ce),!pe.keepValues){if(pe.keepDirtyValues){const Re=new Set([...a.mount,...Object.keys(Jg(i,o))]);for(const De of Array.from(Re))Ve(n.dirtyFields,De)?Hn(de,De,Ve(o,De)):ve(De,Ve(de,De))}else{if(Rk&&br(Z))for(const Re of a.mount){const De=Ve(r,Re);if(De&&De._f){const rt=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(kS(rt)){const wt=rt.closest("form");if(wt){wt.reset();break}}}}r={}}o=e.shouldUnregister?pe.keepDefaultValues?gi(i):{}:gi(de),p.array.next({values:{...de}}),p.values.next({values:{...de}})}a={mount:pe.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,s.watch=!!e.shouldUnregister,p.state.next({submitCount:pe.keepSubmitCount?n.submitCount:0,isDirty:re?!1:pe.keepDirty?n.isDirty:!!(pe.keepDefaultValues&&!wu(Z,i)),isSubmitted:pe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:pe.keepDirtyValues?pe.keepDefaultValues&&o?Jg(i,o):n.dirtyFields:pe.keepDefaultValues&&Z?Jg(i,Z):pe.keepDirty?n.dirtyFields:{},touchedFields:pe.keepTouched?n.touchedFields:{},errors:pe.keepErrors?n.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Xn=(Z,pe)=>Un(al(Z)?Z(o):Z,pe);return{control:{register:lt,unregister:Gt,getFieldState:Te,handleSubmit:Bt,setError:Fe,_executeSchema:V,_getWatch:ee,_getDirty:G,_updateValid:w,_removeUnmounted:J,_updateFieldArray:_,_updateDisabledField:Ye,_getFieldArray:ce,_reset:Un,_resetDefaultValues:()=>al(t.defaultValues)&&t.defaultValues().then(Z=>{Xn(Z,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:Z=>{n={...n,...Z}},_disableForm:Jt,_subjects:p,_proxyFormState:f,_setErrors:I,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(Z){s=Z},get _defaultValues(){return i},get _names(){return a},set _names(Z){a=Z},get _formState(){return n},set _formState(Z){n=Z},get _options(){return t},set _options(Z){t={...t,...Z}}},trigger:ne,register:lt,handleSubmit:Bt,watch:bt,setValue:ve,getValues:fe,reset:Xn,resetField:qt,clearErrors:Ge,unregister:Gt,setError:Fe,setFocus:(Z,pe={})=>{const Ce=Ve(r,Z),Qe=Ce&&Ce._f;if(Qe){const re=Qe.refs?Qe.refs[0]:Qe.ref;re.focus&&(re.focus(),pe.shouldSelect&&re.select())}},getFieldState:Te}}function pd(e={}){const t=ht.useRef(),n=ht.useRef(),[r,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:al(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:al(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...vY(e),formState:r});const o=t.current.control;return o._options=e,J_({subject:o._subjects.state,next:s=>{bF(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ht.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ht.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ht.useEffect(()=>{e.values&&!wu(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[e.values,o]),ht.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ht.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ht.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),ht.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=yF(r,o),t.current}function Fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function As(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Po(e,t){const n=Fn(e);return isNaN(t)?As(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function La(e,t){const n=Fn(e);if(isNaN(t))return As(e,NaN);if(!t)return n;const r=n.getDate(),i=As(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const jk=6048e5,yY=864e5;let bY={};function My(){return bY}function wc(e,t){var a,c,l,f;const n=My(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,i=Fn(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Qf(e){return wc(e,{weekStartsOn:1})}function PF(e){const t=Fn(e),n=t.getFullYear(),r=As(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Qf(r),o=As(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Qf(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function sm(e){const t=Fn(e);return t.setHours(0,0,0,0),t}function NS(e){const t=Fn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mc(e,t){const n=sm(e),r=sm(t),i=+n-NS(n),o=+r-NS(r);return Math.round((i-o)/yY)}function xY(e){const t=PF(e),n=As(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qf(n)}function h1(e,t){const n=t*7;return Po(e,n)}function SY(e,t){return La(e,t*12)}function _Y(e){let t;return e.forEach(function(n){const r=Fn(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function wY(e){let t;return e.forEach(n=>{const r=Fn(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Qo(e,t){const n=sm(e),r=sm(t);return+n==+r}function Ak(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function EY(e){if(!Ak(e)&&typeof e!="number")return!1;const t=Fn(e);return!isNaN(Number(t))}function ay(e,t){const n=Fn(e),r=Fn(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function CY(e,t,n){const r=wc(e,n),i=wc(t,n),o=+r-NS(r),s=+i-NS(i);return Math.round((o-s)/jk)}function Dk(e){const t=Fn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ns(e){const t=Fn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NF(e){const t=Fn(e),n=As(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Mk(e,t){var a,c,l,f;const n=My(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.weekStartsOn)??0,i=Fn(e),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function IF(e){return Mk(e,{weekStartsOn:1})}const TY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RY=(e,t,n)=>{let r;const i=TY[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pC(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NY={date:pC({formats:kY,defaultWidth:"full"}),time:pC({formats:OY,defaultWidth:"full"}),dateTime:pC({formats:PY,defaultWidth:"full"})},IY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jY=(e,t,n,r)=>IY[e];function ev(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const AY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BY=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$Y={ordinalNumber:BY,era:ev({values:AY,defaultWidth:"wide"}),quarter:ev({values:DY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ev({values:MY,defaultWidth:"wide"}),day:ev({values:LY,defaultWidth:"wide"}),dayPeriod:ev({values:FY,defaultWidth:"wide",formattingValues:UY,defaultFormattingWidth:"wide"})};function tv(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?VY(a,p=>p.test(s)):zY(a,p=>p.test(s));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const f=t.slice(s.length);return{value:l,rest:f}}}function zY(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function VY(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function WY(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const HY=/^(\d+)(th|st|nd|rd)?/i,GY=/\d+/i,qY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KY={any:[/^b/i,/^(a|c)/i]},YY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QY={any:[/1/i,/2/i,/3/i,/4/i]},XY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rQ={ordinalNumber:WY({matchPattern:HY,parsePattern:GY,valueCallback:e=>parseInt(e,10)}),era:tv({matchPatterns:qY,defaultMatchWidth:"wide",parsePatterns:KY,defaultParseWidth:"any"}),quarter:tv({matchPatterns:YY,defaultMatchWidth:"wide",parsePatterns:QY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tv({matchPatterns:XY,defaultMatchWidth:"wide",parsePatterns:JY,defaultParseWidth:"any"}),day:tv({matchPatterns:ZY,defaultMatchWidth:"wide",parsePatterns:eQ,defaultParseWidth:"any"}),dayPeriod:tv({matchPatterns:tQ,defaultMatchWidth:"any",parsePatterns:nQ,defaultParseWidth:"any"})},jF={code:"en-US",formatDistance:RY,formatLong:NY,formatRelative:jY,localize:$Y,match:rQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iQ(e){const t=Fn(e);return mc(t,NF(t))+1}function AF(e){const t=Fn(e),n=+Qf(t)-+xY(t);return Math.round(n/jk)+1}function DF(e,t){var f,p,m,E;const n=Fn(e),r=n.getFullYear(),i=My(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(m=i.locale)==null?void 0:m.options)==null?void 0:E.firstWeekContainsDate)??1,s=As(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=wc(s,t),c=As(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const l=wc(c,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function oQ(e,t){var a,c,l,f;const n=My(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(l=n.locale)==null?void 0:l.options)==null?void 0:f.firstWeekContainsDate)??1,i=DF(e,t),o=As(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),wc(o,t)}function MF(e,t){const n=Fn(e),r=+wc(n,t)-+oQ(n,t);return Math.round(r/jk)+1}function tr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const mu={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return tr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):tr(n+1,2)},d(e,t){return tr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return tr(e.getHours()%12||12,t.length)},H(e,t){return tr(e.getHours(),t.length)},m(e,t){return tr(e.getMinutes(),t.length)},s(e,t){return tr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return tr(i,t.length)}},fp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pI={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mu.y(e,t)},Y:function(e,t,n,r){const i=DF(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return tr(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):tr(o,t.length)},R:function(e,t){const n=PF(e);return tr(n,t.length)},u:function(e,t){const n=e.getFullYear();return tr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return tr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return tr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return mu.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return tr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=MF(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):tr(i,t.length)},I:function(e,t,n){const r=AF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):tr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):mu.d(e,t)},D:function(e,t,n){const r=iQ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):tr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return tr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return tr(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return tr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=fp.noon:r===0?i=fp.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=fp.evening:r>=12?i=fp.afternoon:r>=4?i=fp.morning:i=fp.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mu.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):mu.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):tr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):tr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):mu.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):mu.s(e,t)},S:function(e,t){return mu.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return gI(r);case"XXXX":case"XX":return yf(r);case"XXXXX":case"XXX":default:return yf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return gI(r);case"xxxx":case"xx":return yf(r);case"xxxxx":case"xxx":default:return yf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mI(r,":");case"OOOO":default:return"GMT"+yf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mI(r,":");case"zzzz":default:return"GMT"+yf(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return tr(r,t.length)},T:function(e,t,n){const r=e.getTime();return tr(r,t.length)}};function mI(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+tr(o,2)}function gI(e,t){return e%60===0?(e>0?"-":"+")+tr(Math.abs(e)/60,2):yf(e,t)}function yf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=tr(Math.trunc(r/60),2),o=tr(r%60,2);return n+i+t+o}const vI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sQ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return vI(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",vI(r,t)).replace("{{time}}",LF(i,t))},aQ={p:LF,P:sQ},cQ=/^D+$/,lQ=/^Y+$/,uQ=["D","DD","YY","YYYY"];function dQ(e){return cQ.test(e)}function fQ(e){return lQ.test(e)}function hQ(e,t,n){const r=pQ(e,t,n);if(console.warn(r),uQ.includes(e))throw new RangeError(r)}function pQ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vQ=/^'([^]*?)'?$/,yQ=/''/g,bQ=/[a-zA-Z]/;function rs(e,t,n){var f,p,m,E,x,y,w,R;const r=My(),i=(n==null?void 0:n.locale)??r.locale??jF,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(m=r.locale)==null?void 0:m.options)==null?void 0:E.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((R=(w=r.locale)==null?void 0:w.options)==null?void 0:R.weekStartsOn)??0,a=Fn(e);if(!EY(a))throw new RangeError("Invalid time value");let c=t.match(gQ).map(_=>{const C=_[0];if(C==="p"||C==="P"){const I=aQ[C];return I(_,i.formatLong)}return _}).join("").match(mQ).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const C=_[0];if(C==="'")return{isToken:!1,value:xQ(_)};if(pI[C])return{isToken:!0,value:_};if(C.match(bQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const C=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&fQ(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dQ(C))&&hQ(C,t,String(e));const I=pI[C[0]];return I(a,C,i.localize,l)}).join("")}function xQ(e){const t=e.match(vQ);return t?t[1].replace(yQ,"'"):e}function SQ(e){const t=Fn(e),n=t.getFullYear(),r=t.getMonth(),i=As(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function _Q(e){return Math.trunc(+Fn(e)/1e3)}function wQ(e){const t=Fn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function EQ(e,t){return CY(wQ(e),ns(e),t)+1}function p1(e,t){const n=Fn(e),r=Fn(t);return n.getTime()>r.getTime()}function FF(e,t){const n=Fn(e),r=Fn(t);return+n<+r}function Lk(e,t){const n=Fn(e),r=Fn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function CQ(e,t){const n=Fn(e),r=Fn(t);return n.getFullYear()===r.getFullYear()}function mC(e,t){return Po(e,-t)}function gC(e,t){const n=Fn(e),r=n.getFullYear(),i=n.getDate(),o=As(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const s=SQ(o);return n.setMonth(t,Math.min(i,s)),n}function yI(e,t){const n=Fn(e);return isNaN(+n)?As(e,NaN):(n.setFullYear(t),n)}const lh=iY,UF=P.createContext({}),Xt=({...e})=>u.jsx(UF.Provider,{value:{name:e.name},children:u.jsx(Pk,{...e})}),Z_=()=>{const e=P.useContext(UF),t=P.useContext(BF),{getFieldState:n,formState:r}=Dy(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},BF=P.createContext({}),Mt=P.forwardRef(({className:e,...t},n)=>{const r=P.useId();return u.jsx(BF.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:nt("space-y-2",e),...t})})});Mt.displayName="FormItem";const Lt=P.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=Z_();return u.jsx(bi,{ref:n,className:nt(r&&"text-destructive",e),htmlFor:i,...t})});Lt.displayName="FormLabel";const vn=P.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=Z_();return u.jsx(Sc,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});vn.displayName="FormControl";const TQ=P.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Z_();return u.jsx("p",{ref:n,id:r,className:nt("text-sm text-muted-foreground",e),...t})});TQ.displayName="FormDescription";const Ft=P.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=Z_(),s=i?String(i==null?void 0:i.message):t;return s?u.jsx("p",{ref:r,id:o,className:nt("text-sm font-medium text-destructive",e),...n,children:s}):null});Ft.displayName="FormMessage";var Fk="Popover",[$F,Dce]=Rc(Fk,[km]),Ly=km(),[RQ,md]=$F(Fk),zF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=Ly(t),c=P.useRef(null),[l,f]=P.useState(!1),[p=!1,m]=bl({prop:r,defaultProp:i,onChange:o});return u.jsx(fk,{...a,children:u.jsx(RQ,{scope:t,contentId:yc(),triggerRef:c,open:p,onOpenChange:m,onOpenToggle:P.useCallback(()=>m(E=>!E),[m]),hasCustomAnchor:l,onCustomAnchorAdd:P.useCallback(()=>f(!0),[]),onCustomAnchorRemove:P.useCallback(()=>f(!1),[]),modal:s,children:n})})};zF.displayName=Fk;var VF="PopoverAnchor",kQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=md(VF,n),o=Ly(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return P.useEffect(()=>(s(),()=>a()),[s,a]),u.jsx(W_,{...o,...r,ref:t})});kQ.displayName=VF;var WF="PopoverTrigger",HF=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=md(WF,n),o=Ly(n),s=xn(t,i.triggerRef),a=u.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QF(i.open),...r,ref:s,onClick:Ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:u.jsx(W_,{asChild:!0,...o,children:a})});HF.displayName=WF;var Uk="PopoverPortal",[OQ,PQ]=$F(Uk,{forceMount:void 0}),GF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=md(Uk,t);return u.jsx(OQ,{scope:t,forceMount:n,children:u.jsx(uo,{present:n||o.open,children:u.jsx(_m,{asChild:!0,container:i,children:r})})})};GF.displayName=Uk;var am="PopoverContent",qF=P.forwardRef((e,t)=>{const n=PQ(am,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=md(am,e.__scopePopover);return u.jsx(uo,{present:r||o.open,children:o.modal?u.jsx(NQ,{...i,ref:t}):u.jsx(IQ,{...i,ref:t})})});qF.displayName=am;var NQ=P.forwardRef((e,t)=>{const n=md(am,e.__scopePopover),r=P.useRef(null),i=xn(t,r),o=P.useRef(!1);return P.useEffect(()=>{const s=r.current;if(s)return q_(s)},[]),u.jsx(Py,{as:Sc,allowPinchZoom:!0,children:u.jsx(KF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,l=a.button===2||c;o.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),IQ=P.forwardRef((e,t)=>{const n=md(am,e.__scopePopover),r=P.useRef(!1),i=P.useRef(!1);return u.jsx(KF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),KF=P.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:f,...p}=e,m=md(am,n),E=Ly(n);return B_(),u.jsx(ky,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(hk,{"data-state":QF(m.open),role:"dialog",id:m.contentId,...E,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),YF="PopoverClose",jQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=md(YF,n);return u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});jQ.displayName=YF;var AQ="PopoverArrow",DQ=P.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ly(n);return u.jsx(pk,{...i,...r,ref:t})});DQ.displayName=AQ;function QF(e){return e?"open":"closed"}var MQ=zF,LQ=HF,FQ=GF,XF=qF;const cy=MQ,ly=LQ,cm=P.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>u.jsx(FQ,{children:u.jsx(XF,{ref:i,align:t,sideOffset:n,className:nt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cm.displayName=XF.displayName;var Wt=function(){return Wt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wt.apply(this,arguments)};function UQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function JF(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Fy(e){return e.mode==="multiple"}function Uy(e){return e.mode==="range"}function ew(e){return e.mode==="single"}var BQ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function $Q(e,t){return rs(e,"LLLL y",t)}function zQ(e,t){return rs(e,"d",t)}function VQ(e,t){return rs(e,"LLLL",t)}function WQ(e){return"".concat(e)}function HQ(e,t){return rs(e,"cccccc",t)}function GQ(e,t){return rs(e,"yyyy",t)}var qQ=Object.freeze({__proto__:null,formatCaption:$Q,formatDay:zQ,formatMonthCaption:VQ,formatWeekNumber:WQ,formatWeekdayName:HQ,formatYearCaption:GQ}),KQ=function(e,t,n){return rs(e,"do MMMM (EEEE)",n)},YQ=function(){return"Month: "},QQ=function(){return"Go to next month"},XQ=function(){return"Go to previous month"},JQ=function(e,t){return rs(e,"cccc",t)},ZQ=function(e){return"Week n. ".concat(e)},eX=function(){return"Year: "},tX=Object.freeze({__proto__:null,labelDay:KQ,labelMonthDropdown:YQ,labelNext:QQ,labelPrevious:XQ,labelWeekNumber:ZQ,labelWeekday:JQ,labelYearDropdown:eX});function nX(){var e="buttons",t=BQ,n=jF,r={},i={},o=1,s={},a=new Date;return{captionLayout:e,classNames:t,formatters:qQ,labels:tX,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function rX(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,s=e.toDate;return r?o=ns(r):t&&(o=new Date(t,0,1)),i?s=Dk(i):n&&(s=new Date(n,11,31)),{fromDate:o?sm(o):void 0,toDate:s?sm(s):void 0}}var ZF=P.createContext(void 0);function iX(e){var t,n=e.initialProps,r=nX(),i=rX(n),o=i.fromDate,s=i.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var c;(ew(n)||Fy(n)||Uy(n))&&(c=n.onSelect);var l=Wt(Wt(Wt({},r),n),{captionLayout:a,classNames:Wt(Wt({},r.classNames),n.classNames),components:Wt({},n.components),formatters:Wt(Wt({},r.formatters),n.formatters),fromDate:o,labels:Wt(Wt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Wt(Wt({},r.modifiers),n.modifiers),modifiersClassNames:Wt(Wt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Wt(Wt({},r.styles),n.styles),toDate:s});return u.jsx(ZF.Provider,{value:l,children:e.children})}function Sr(){var e=P.useContext(ZF);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function eU(e){var t=Sr(),n=t.locale,r=t.classNames,i=t.styles,o=t.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function oX(e){return u.jsx("svg",Wt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function tU(e){var t,n,r=e.onChange,i=e.value,o=e.children,s=e.caption,a=e.className,c=e.style,l=Sr(),f=(n=(t=l.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:oX;return u.jsxs("div",{className:a,style:c,children:[u.jsx("span",{className:l.classNames.vhidden,children:e["aria-label"]}),u.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:l.classNames.dropdown,style:l.styles.dropdown,value:i,onChange:r,children:o}),u.jsxs("div",{className:l.classNames.caption_label,style:l.styles.caption_label,"aria-hidden":"true",children:[s,u.jsx(f,{className:l.classNames.dropdown_icon,style:l.styles.dropdown_icon})]})]})}function sX(e){var t,n=Sr(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,l=n.components,f=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var p=[];if(CQ(r,i))for(var m=ns(r),E=r.getMonth();E<=i.getMonth();E++)p.push(gC(m,E));else for(var m=ns(new Date),E=0;E<=11;E++)p.push(gC(m,E));var x=function(w){var R=Number(w.target.value),_=gC(ns(e.displayMonth),R);e.onChange(_)},y=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:tU;return u.jsx(y,{name:"months","aria-label":f(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:s}),children:p.map(function(w){return u.jsx("option",{value:w.getMonth(),children:a(w,{locale:s})},w.getMonth())})})}function aX(e){var t,n=e.displayMonth,r=Sr(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,c=r.classNames,l=r.components,f=r.formatters.formatYearCaption,p=r.labels.labelYearDropdown,m=[];if(!i)return u.jsx(u.Fragment,{});if(!o)return u.jsx(u.Fragment,{});for(var E=i.getFullYear(),x=o.getFullYear(),y=E;y<=x;y++)m.push(yI(NF(new Date),y));var w=function(_){var C=yI(ns(n),Number(_.target.value));e.onChange(C)},R=(t=l==null?void 0:l.Dropdown)!==null&&t!==void 0?t:tU;return u.jsx(R,{name:"years","aria-label":p(),className:c.dropdown_year,style:a.dropdown_year,onChange:w,value:n.getFullYear(),caption:f(n,{locale:s}),children:m.map(function(_){return u.jsx("option",{value:_.getFullYear(),children:f(_,{locale:s})},_.getFullYear())})})}function cX(e,t){var n=P.useState(e),r=n[0],i=n[1],o=t===void 0?r:t;return[o,i]}function lX(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,o=e.toDate,s=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&ay(o,i)<0){var l=-1*(c-1);i=La(o,l)}return s&&ay(i,s)<0&&(i=s),ns(i)}function uX(){var e=Sr(),t=lX(e),n=cX(t,e.month),r=n[0],i=n[1],o=function(s){var a;if(!e.disableNavigation){var c=ns(s);i(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,o]}function dX(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=ns(e),o=ns(La(i,r)),s=ay(o,i),a=[],c=0;c<s;c++){var l=La(i,c);a.push(l)}return n&&(a=a.reverse()),a}function fX(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=ns(e);if(!n)return La(a,s);var c=ay(n,e);if(!(c<o))return La(a,s)}}function hX(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=ns(e);if(!n)return La(a,-s);var c=ay(a,n);if(!(c<=0))return La(a,-s)}}var nU=P.createContext(void 0);function pX(e){var t=Sr(),n=uX(),r=n[0],i=n[1],o=dX(r,t),s=fX(r,t),a=hX(r,t),c=function(p){return o.some(function(m){return Lk(p,m)})},l=function(p,m){c(p)||(m&&FF(p,m)?i(La(p,1+t.numberOfMonths*-1)):i(p))},f={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:l,previousMonth:a,nextMonth:s,isDateDisplayed:c};return u.jsx(nU.Provider,{value:f,children:e.children})}function By(){var e=P.useContext(nU);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function bI(e){var t,n=Sr(),r=n.classNames,i=n.styles,o=n.components,s=By().goToMonth,a=function(f){s(La(f,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:eU,l=u.jsx(c,{id:e.id,displayMonth:e.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:l}),u.jsx(sX,{onChange:a,displayMonth:e.displayMonth}),u.jsx(aX,{onChange:a,displayMonth:e.displayMonth})]})}function mX(e){return u.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gX(e){return u.jsx("svg",Wt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var IS=P.forwardRef(function(e,t){var n=Sr(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var s=o.join(" "),a=Wt(Wt({},i.button_reset),i.button);return e.style&&Object.assign(a,e.style),u.jsx("button",Wt({},e,{ref:t,type:"button",className:s,style:a}))});function vX(e){var t,n,r=Sr(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,c=r.labels,l=c.labelPrevious,f=c.labelNext,p=r.components;if(!e.nextMonth&&!e.previousMonth)return u.jsx(u.Fragment,{});var m=l(e.previousMonth,{locale:o}),E=[s.nav_button,s.nav_button_previous].join(" "),x=f(e.nextMonth,{locale:o}),y=[s.nav_button,s.nav_button_next].join(" "),w=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:gX,R=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:mX;return u.jsxs("div",{className:s.nav,style:a.nav,children:[!e.hidePrevious&&u.jsx(IS,{name:"previous-month","aria-label":m,className:E,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?u.jsx(w,{className:s.nav_icon,style:a.nav_icon}):u.jsx(R,{className:s.nav_icon,style:a.nav_icon})}),!e.hideNext&&u.jsx(IS,{name:"next-month","aria-label":x,className:y,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?u.jsx(R,{className:s.nav_icon,style:a.nav_icon}):u.jsx(w,{className:s.nav_icon,style:a.nav_icon})})]})}function xI(e){var t=Sr().numberOfMonths,n=By(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(x){return Lk(e.displayMonth,x)}),c=a===0,l=a===s.length-1,f=t>1&&(c||!l),p=t>1&&(l||!c),m=function(){r&&o(r)},E=function(){i&&o(i)};return u.jsx(vX,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:p,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:E})}function yX(e){var t,n=Sr(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:eU,l;return i?l=u.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?l=u.jsx(bI,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?l=u.jsxs(u.Fragment,{children:[u.jsx(bI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),u.jsx(xI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):l=u.jsxs(u.Fragment,{children:[u.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),u.jsx(xI,{displayMonth:e.displayMonth,id:e.id})]}),u.jsx("div",{className:r.caption,style:o.caption,children:l})}function bX(e){var t=Sr(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function xX(e,t,n){for(var r=n?Qf(new Date):wc(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var s=Po(r,o);i.push(s)}return i}function SX(){var e=Sr(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,s=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,l=xX(i,o,s);return u.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:t.head_cell}),l.map(function(f,p){return u.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(f,{locale:i}),children:a(f,{locale:i})},p)})]})}function _X(){var e,t=Sr(),n=t.classNames,r=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:SX;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(o,{})})}function wX(e){var t=Sr(),n=t.locale,r=t.formatters.formatDay;return u.jsx(u.Fragment,{children:r(e.date,{locale:n})})}var Bk=P.createContext(void 0);function EX(e){if(!Fy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return u.jsx(Bk.Provider,{value:t,children:e.children})}return u.jsx(CX,{initialProps:e.initialProps,children:e.children})}function CX(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,o=t.max,s=function(l,f,p){var m,E;(m=t.onDayClick)===null||m===void 0||m.call(t,l,f,p);var x=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var y=!!(!f.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var w=r?JF([],r):[];if(f.selected){var R=w.findIndex(function(_){return Qo(l,_)});w.splice(R,1)}else w.push(l);(E=t.onSelect)===null||E===void 0||E.call(t,w,l,f,p)}}},a={disabled:[]};r&&a.disabled.push(function(l){var f=o&&r.length>o-1,p=r.some(function(m){return Qo(m,l)});return!!(f&&!p)});var c={selected:r,onDayClick:s,modifiers:a};return u.jsx(Bk.Provider,{value:c,children:n})}function $k(){var e=P.useContext(Bk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function TX(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Qo(i,e)&&Qo(r,e)?void 0:Qo(i,e)?{from:i,to:void 0}:Qo(r,e)?void 0:p1(r,e)?{from:e,to:i}:{from:r,to:e}:i?p1(e,i)?{from:i,to:e}:{from:e,to:i}:r?FF(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var zk=P.createContext(void 0);function RX(e){if(!Uy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(zk.Provider,{value:t,children:e.children})}return u.jsx(kX,{initialProps:e.initialProps,children:e.children})}function kX(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},o=i.from,s=i.to,a=t.min,c=t.max,l=function(E,x,y){var w,R;(w=t.onDayClick)===null||w===void 0||w.call(t,E,x,y);var _=TX(E,r);(R=t.onSelect)===null||R===void 0||R.call(t,_,E,x,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],s?(f.range_end=[s],Qo(o,s)||(f.range_middle=[{after:o,before:s}])):f.range_end=[o]):s&&(f.range_start=[s],f.range_end=[s]),a&&(o&&!s&&f.disabled.push({after:mC(o,a-1),before:Po(o,a-1)}),o&&s&&f.disabled.push({after:o,before:Po(o,a-1)}),!o&&s&&f.disabled.push({after:mC(s,a-1),before:Po(s,a-1)})),c){if(o&&!s&&(f.disabled.push({before:Po(o,-c+1)}),f.disabled.push({after:Po(o,c-1)})),o&&s){var p=mc(s,o)+1,m=c-p;f.disabled.push({before:mC(o,m)}),f.disabled.push({after:Po(s,m)})}!o&&s&&(f.disabled.push({before:Po(s,-c+1)}),f.disabled.push({after:Po(s,c-1)}))}return u.jsx(zk.Provider,{value:{selected:r,onDayClick:l,modifiers:f},children:n})}function Vk(){var e=P.useContext(zk);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Xb(e){return Array.isArray(e)?JF([],e):e!==void 0?[e]:[]}function OX(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Xb(i)}),t}var Fa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Fa||(Fa={}));var PX=Fa.Selected,Xc=Fa.Disabled,NX=Fa.Hidden,IX=Fa.Today,vC=Fa.RangeEnd,yC=Fa.RangeMiddle,bC=Fa.RangeStart,jX=Fa.Outside;function AX(e,t,n){var r,i=(r={},r[PX]=Xb(e.selected),r[Xc]=Xb(e.disabled),r[NX]=Xb(e.hidden),r[IX]=[e.today],r[vC]=[],r[yC]=[],r[bC]=[],r[jX]=[],r);return e.fromDate&&i[Xc].push({before:e.fromDate}),e.toDate&&i[Xc].push({after:e.toDate}),Fy(e)?i[Xc]=i[Xc].concat(t.modifiers[Xc]):Uy(e)&&(i[Xc]=i[Xc].concat(n.modifiers[Xc]),i[bC]=n.modifiers[bC],i[yC]=n.modifiers[yC],i[vC]=n.modifiers[vC]),i}var rU=P.createContext(void 0);function DX(e){var t=Sr(),n=$k(),r=Vk(),i=AX(t,n,r),o=OX(t.modifiers),s=Wt(Wt({},i),o);return u.jsx(rU.Provider,{value:s,children:e.children})}function iU(){var e=P.useContext(rU);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function MX(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function LX(e){return!!(e&&typeof e=="object"&&"from"in e)}function FX(e){return!!(e&&typeof e=="object"&&"after"in e)}function UX(e){return!!(e&&typeof e=="object"&&"before"in e)}function BX(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function $X(e,t){var n,r=t.from,i=t.to;if(r&&i){var o=mc(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=mc(e,r)>=0&&mc(i,e)>=0;return s}return i?Qo(i,e):r?Qo(r,e):!1}function zX(e){return Ak(e)}function VX(e){return Array.isArray(e)&&e.every(Ak)}function WX(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(zX(n))return Qo(e,n);if(VX(n))return n.includes(e);if(LX(n))return $X(e,n);if(BX(n))return n.dayOfWeek.includes(e.getDay());if(MX(n)){var r=mc(n.before,e),i=mc(n.after,e),o=r>0,s=i<0,a=p1(n.before,n.after);return a?s&&o:o||s}return FX(n)?mc(e,n.after)>0:UX(n)?mc(n.before,e)>0:typeof n=="function"?n(e):!1})}function Wk(e,t,n){var r=Object.keys(t).reduce(function(o,s){var a=t[s];return WX(e,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!Lk(e,n)&&(i.outside=!0),i}function HX(e,t){for(var n=ns(e[0]),r=Dk(e[e.length-1]),i,o,s=n;s<=r;){var a=Wk(s,t),c=!a.disabled&&!a.hidden;if(!c){s=Po(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Po(s,1)}return o||i}var GX=365;function oU(e,t){var n=t.moveBy,r=t.direction,i=t.context,o=t.modifiers,s=t.retry,a=s===void 0?{count:0,lastFocused:e}:s,c=i.weekStartsOn,l=i.fromDate,f=i.toDate,p=i.locale,m={day:Po,week:h1,month:La,year:SY,startOfWeek:function(w){return i.ISOWeek?Qf(w):wc(w,{locale:p,weekStartsOn:c})},endOfWeek:function(w){return i.ISOWeek?IF(w):Mk(w,{locale:p,weekStartsOn:c})}},E=m[n](e,r==="after"?1:-1);r==="before"&&l?E=_Y([l,E]):r==="after"&&f&&(E=wY([f,E]));var x=!0;if(o){var y=Wk(E,o);x=!y.disabled&&!y.hidden}return x?E:a.count>GX?a.lastFocused:oU(E,{moveBy:n,direction:r,context:i,modifiers:o,retry:Wt(Wt({},a),{count:a.count+1})})}var sU=P.createContext(void 0);function qX(e){var t=By(),n=iU(),r=P.useState(),i=r[0],o=r[1],s=P.useState(),a=s[0],c=s[1],l=HX(t.displayMonths,n),f=i??(a&&t.isDateDisplayed(a))?a:l,p=function(){c(i),o(void 0)},m=function(w){o(w)},E=Sr(),x=function(w,R){if(i){var _=oU(i,{moveBy:w,direction:R,context:E,modifiers:n});Qo(i,_)||(t.goToDate(_,i),m(_))}},y={focusedDay:i,focusTarget:f,blur:p,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return u.jsx(sU.Provider,{value:y,children:e.children})}function Hk(){var e=P.useContext(sU);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function KX(e,t){var n=iU(),r=Wk(e,n,t);return r}var Gk=P.createContext(void 0);function YX(e){if(!ew(e.initialProps)){var t={selected:void 0};return u.jsx(Gk.Provider,{value:t,children:e.children})}return u.jsx(QX,{initialProps:e.initialProps,children:e.children})}function QX(e){var t=e.initialProps,n=e.children,r=function(o,s,a){var c,l,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,s,a),s.selected&&!t.required){(l=t.onSelect)===null||l===void 0||l.call(t,void 0,o,s,a);return}(f=t.onSelect)===null||f===void 0||f.call(t,o,o,s,a)},i={selected:t.selected,onDayClick:r};return u.jsx(Gk.Provider,{value:i,children:n})}function aU(){var e=P.useContext(Gk);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function XX(e,t){var n=Sr(),r=aU(),i=$k(),o=Vk(),s=Hk(),a=s.focusDayAfter,c=s.focusDayBefore,l=s.focusWeekAfter,f=s.focusWeekBefore,p=s.blur,m=s.focus,E=s.focusMonthBefore,x=s.focusMonthAfter,y=s.focusYearBefore,w=s.focusYearAfter,R=s.focusStartOfWeek,_=s.focusEndOfWeek,C=function(ve){var Y,Q,ne,fe;ew(n)?(Y=r.onDayClick)===null||Y===void 0||Y.call(r,e,t,ve):Fy(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,ve):Uy(n)?(ne=o.onDayClick)===null||ne===void 0||ne.call(o,e,t,ve):(fe=n.onDayClick)===null||fe===void 0||fe.call(n,e,t,ve)},I=function(ve){var Y;m(e),(Y=n.onDayFocus)===null||Y===void 0||Y.call(n,e,t,ve)},A=function(ve){var Y;p(),(Y=n.onDayBlur)===null||Y===void 0||Y.call(n,e,t,ve)},U=function(ve){var Y;(Y=n.onDayMouseEnter)===null||Y===void 0||Y.call(n,e,t,ve)},$=function(ve){var Y;(Y=n.onDayMouseLeave)===null||Y===void 0||Y.call(n,e,t,ve)},V=function(ve){var Y;(Y=n.onDayPointerEnter)===null||Y===void 0||Y.call(n,e,t,ve)},q=function(ve){var Y;(Y=n.onDayPointerLeave)===null||Y===void 0||Y.call(n,e,t,ve)},X=function(ve){var Y;(Y=n.onDayTouchCancel)===null||Y===void 0||Y.call(n,e,t,ve)},J=function(ve){var Y;(Y=n.onDayTouchEnd)===null||Y===void 0||Y.call(n,e,t,ve)},G=function(ve){var Y;(Y=n.onDayTouchMove)===null||Y===void 0||Y.call(n,e,t,ve)},ee=function(ve){var Y;(Y=n.onDayTouchStart)===null||Y===void 0||Y.call(n,e,t,ve)},ce=function(ve){var Y;(Y=n.onDayKeyUp)===null||Y===void 0||Y.call(n,e,t,ve)},xe=function(ve){var Y;switch(ve.key){case"ArrowLeft":ve.preventDefault(),ve.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":ve.preventDefault(),ve.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":ve.preventDefault(),ve.stopPropagation(),l();break;case"ArrowUp":ve.preventDefault(),ve.stopPropagation(),f();break;case"PageUp":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?y():E();break;case"PageDown":ve.preventDefault(),ve.stopPropagation(),ve.shiftKey?w():x();break;case"Home":ve.preventDefault(),ve.stopPropagation(),R();break;case"End":ve.preventDefault(),ve.stopPropagation(),_();break}(Y=n.onDayKeyDown)===null||Y===void 0||Y.call(n,e,t,ve)},Se={onClick:C,onFocus:I,onBlur:A,onKeyDown:xe,onKeyUp:ce,onMouseEnter:U,onMouseLeave:$,onPointerEnter:V,onPointerLeave:q,onTouchCancel:X,onTouchEnd:J,onTouchMove:G,onTouchStart:ee};return Se}function JX(){var e=Sr(),t=aU(),n=$k(),r=Vk(),i=ew(e)?t.selected:Fy(e)?n.selected:Uy(e)?r.selected:void 0;return i}function ZX(e){return Object.values(Fa).includes(e)}function eJ(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(ZX(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function tJ(e,t){var n=Wt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Wt(Wt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function nJ(e,t,n){var r,i,o,s=Sr(),a=Hk(),c=KX(e,t),l=XX(e,c),f=JX(),p=!!(s.onDayClick||s.mode!=="default");P.useEffect(function(){var U;c.outside||a.focusedDay&&p&&Qo(a.focusedDay,e)&&((U=n.current)===null||U===void 0||U.focus())},[a.focusedDay,e,n,p,c.outside]);var m=eJ(s,c).join(" "),E=tJ(s,c),x=!!(c.outside&&!s.showOutsideDays||c.hidden),y=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:wX,w=u.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),R={style:E,className:m,children:w,role:"gridcell"},_=a.focusTarget&&Qo(a.focusTarget,e)&&!c.outside,C=a.focusedDay&&Qo(a.focusedDay,e),I=Wt(Wt(Wt({},R),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=C||_?0:-1,r)),l),A={isButton:p,isHidden:x,activeModifiers:c,selectedDays:f,buttonProps:I,divProps:R};return A}function rJ(e){var t=P.useRef(null),n=nJ(e.date,e.displayMonth,t);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(IS,Wt({name:"day",ref:t},n.buttonProps)):u.jsx("div",Wt({},n.divProps))}function iJ(e){var t=e.number,n=e.dates,r=Sr(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,l=r.formatters.formatWeekNumber,f=l(Number(t),{locale:a});if(!i)return u.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:f});var p=c(Number(t),{locale:a}),m=function(E){i(t,n,E)};return u.jsx(IS,{name:"week-number","aria-label":p,className:s.weeknumber,style:o.weeknumber,onClick:m,children:f})}function oJ(e){var t,n,r=Sr(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:rJ,l=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:iJ,f;return s&&(f=u.jsx("td",{className:o.cell,style:i.cell,children:u.jsx(l,{number:e.weekNumber,dates:e.dates})})),u.jsxs("tr",{className:o.row,style:i.row,children:[f,e.dates.map(function(p){return u.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:u.jsx(c,{displayMonth:e.displayMonth,date:p})},_Q(p))})]})}function SI(e,t,n){for(var r=n!=null&&n.ISOWeek?IF(t):Mk(t,n),i=n!=null&&n.ISOWeek?Qf(e):wc(e,n),o=mc(r,i),s=[],a=0;a<=o;a++)s.push(Po(i,a));var c=s.reduce(function(l,f){var p=n!=null&&n.ISOWeek?AF(f):MF(f,n),m=l.find(function(E){return E.weekNumber===p});return m?(m.dates.push(f),l):(l.push({weekNumber:p,dates:[f]}),l)},[]);return c}function sJ(e,t){var n=SI(ns(e),Dk(e),t);if(t!=null&&t.useFixedWeeks){var r=EQ(e,t);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=h1(o,6-r),a=SI(h1(o,1),s,t);n.push.apply(n,a)}}return n}function aJ(e){var t,n,r,i=Sr(),o=i.locale,s=i.classNames,a=i.styles,c=i.hideHead,l=i.fixedWeeks,f=i.components,p=i.weekStartsOn,m=i.firstWeekContainsDate,E=i.ISOWeek,x=sJ(e.displayMonth,{useFixedWeeks:!!l,ISOWeek:E,locale:o,weekStartsOn:p,firstWeekContainsDate:m}),y=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:_X,w=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:oJ,R=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:bX;return u.jsxs("table",{id:e.id,className:s.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&u.jsx(y,{}),u.jsx("tbody",{className:s.tbody,style:a.tbody,children:x.map(function(_){return u.jsx(w,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),u.jsx(R,{displayMonth:e.displayMonth})]})}function cJ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lJ=cJ()?P.useLayoutEffect:P.useEffect,xC=!1,uJ=0;function _I(){return"react-day-picker-".concat(++uJ)}function dJ(e){var t,n=e??(xC?_I():null),r=P.useState(n),i=r[0],o=r[1];return lJ(function(){i===null&&o(_I())},[]),P.useEffect(function(){xC===!1&&(xC=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function fJ(e){var t,n,r=Sr(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,c=By().displayMonths,l=dJ(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,p=[o.month],m=s.month,E=e.displayIndex===0,x=e.displayIndex===c.length-1,y=!E&&!x;i==="rtl"&&(t=[E,x],x=t[0],E=t[1]),E&&(p.push(o.caption_start),m=Wt(Wt({},m),s.caption_start)),x&&(p.push(o.caption_end),m=Wt(Wt({},m),s.caption_end)),y&&(p.push(o.caption_between),m=Wt(Wt({},m),s.caption_between));var w=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:yX;return u.jsxs("div",{className:p.join(" "),style:m,children:[u.jsx(w,{id:l,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),u.jsx(aJ,{id:f,"aria-labelledby":l,displayMonth:e.displayMonth})]},e.displayIndex)}function hJ(e){var t=Sr(),n=t.classNames,r=t.styles;return u.jsx("div",{className:n.months,style:r.months,children:e.children})}function pJ(e){var t,n,r=e.initialProps,i=Sr(),o=Hk(),s=By(),a=P.useState(!1),c=a[0],l=a[1];P.useEffect(function(){i.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),l(!0)))},[i.initialFocus,c,o.focus,o.focusTarget,o]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var p=Wt(Wt({},i.styles.root),i.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var w;return Wt(Wt({},x),(w={},w[y]=r[y],w))},{}),E=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:hJ;return u.jsx("div",Wt({className:f.join(" "),style:p,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:u.jsx(E,{children:s.displayMonths.map(function(x,y){return u.jsx(fJ,{displayIndex:y,displayMonth:x},y)})})}))}function mJ(e){var t=e.children,n=UQ(e,["children"]);return u.jsx(iX,{initialProps:n,children:u.jsx(pX,{children:u.jsx(YX,{initialProps:n,children:u.jsx(EX,{initialProps:n,children:u.jsx(RX,{initialProps:n,children:u.jsx(DX,{children:u.jsx(qX,{children:t})})})})})})})}function gJ(e){return u.jsx(mJ,Wt({},e,{children:u.jsx(pJ,{initialProps:e})}))}function lm({className:e,classNames:t,showOutsideDays:n=!0,...r}){return u.jsx(gJ,{showOutsideDays:n,className:nt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:nt(n1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:nt(n1({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>u.jsx(m6,{className:"h-4 w-4"}),IconRight:({...i})=>u.jsx(GR,{className:"h-4 w-4"})},...r})}lm.displayName="Calendar";var qk="Dialog",[cU,Mce]=Rc(qk),[vJ,Ba]=cU(qk),lU=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=P.useRef(null),c=P.useRef(null),[l=!1,f]=bl({prop:r,defaultProp:i,onChange:o});return u.jsx(vJ,{scope:t,triggerRef:a,contentRef:c,contentId:yc(),titleId:yc(),descriptionId:yc(),open:l,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(p=>!p),[f]),modal:s,children:n})};lU.displayName=qk;var uU="DialogTrigger",yJ=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ba(uU,n),o=xn(t,i.triggerRef);return u.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Qk(i.open),...r,ref:o,onClick:Ke(e.onClick,i.onOpenToggle)})});yJ.displayName=uU;var Kk="DialogPortal",[bJ,dU]=cU(Kk,{forceMount:void 0}),fU=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Ba(Kk,t);return u.jsx(bJ,{scope:t,forceMount:n,children:P.Children.map(r,s=>u.jsx(uo,{present:n||o.open,children:u.jsx(_m,{asChild:!0,container:i,children:s})}))})};fU.displayName=Kk;var jS="DialogOverlay",hU=P.forwardRef((e,t)=>{const n=dU(jS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ba(jS,e.__scopeDialog);return o.modal?u.jsx(uo,{present:r||o.open,children:u.jsx(xJ,{...i,ref:t})}):null});hU.displayName=jS;var xJ=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ba(jS,n);return u.jsx(Py,{as:Sc,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Pt.div,{"data-state":Qk(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xf="DialogContent",pU=P.forwardRef((e,t)=>{const n=dU(Xf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ba(Xf,e.__scopeDialog);return u.jsx(uo,{present:r||o.open,children:o.modal?u.jsx(SJ,{...i,ref:t}):u.jsx(_J,{...i,ref:t})})});pU.displayName=Xf;var SJ=P.forwardRef((e,t)=>{const n=Ba(Xf,e.__scopeDialog),r=P.useRef(null),i=xn(t,n.contentRef,r);return P.useEffect(()=>{const o=r.current;if(o)return q_(o)},[]),u.jsx(mU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,o=>o.preventDefault())})}),_J=P.forwardRef((e,t)=>{const n=Ba(Xf,e.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return u.jsx(mU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var c,l;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),mU=P.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=Ba(Xf,n),c=P.useRef(null),l=xn(t,c);return B_(),u.jsxs(u.Fragment,{children:[u.jsx(ky,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Sm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Qk(a.open),...s,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(wJ,{titleId:a.titleId}),u.jsx(CJ,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Yk="DialogTitle",gU=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ba(Yk,n);return u.jsx(Pt.h2,{id:i.titleId,...r,ref:t})});gU.displayName=Yk;var vU="DialogDescription",yU=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ba(vU,n);return u.jsx(Pt.p,{id:i.descriptionId,...r,ref:t})});yU.displayName=vU;var bU="DialogClose",xU=P.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ba(bU,n);return u.jsx(Pt.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});xU.displayName=bU;function Qk(e){return e?"open":"closed"}var SU="DialogTitleWarning",[Lce,_U]=CV(SU,{contentName:Xf,titleName:Yk,docsSlug:"dialog"}),wJ=({titleId:e})=>{const t=_U(SU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return P.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},EJ="DialogDescriptionWarning",CJ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_U(EJ).contentName}}.`;return P.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},TJ=lU,RJ=fU,wU=hU,EU=pU,CU=gU,TU=yU,RU=xU;const Ol=TJ,kJ=RJ,OJ=RU,kU=P.forwardRef(({className:e,...t},n)=>u.jsx(wU,{ref:n,className:nt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kU.displayName=wU.displayName;const Oc=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(kJ,{children:[u.jsx(kU,{}),u.jsxs(EU,{ref:r,className:nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(RU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(hd,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oc.displayName=EU.displayName;const Pc=({className:e,...t})=>u.jsx("div",{className:nt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pc.displayName="DialogHeader";const OU=({className:e,...t})=>u.jsx("div",{className:nt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});OU.displayName="DialogFooter";const Nc=P.forwardRef(({className:e,...t},n)=>u.jsx(CU,{ref:n,className:nt("text-lg font-semibold leading-none tracking-tight",e),...t}));Nc.displayName=CU.displayName;const PJ=P.forwardRef(({className:e,...t},n)=>u.jsx(TU,{ref:n,className:nt("text-sm text-muted-foreground",e),...t}));PJ.displayName=TU.displayName;const NJ=({defaultValues:e,onSubmit:t,onCancel:n})=>{const r=pd({defaultValues:e});return u.jsx(lh,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-4",children:[u.jsx(Xt,{control:r.control,name:"mobile",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Mobile"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Enter mobile",...i,readOnly:!0})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"dob",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Date of Birth"}),u.jsx(vn,{children:u.jsxs(cy,{children:[u.jsx(ly,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(St,{variant:"outline",className:nt("w-full pl-3 text-left font-normal",!i.value&&"text-muted-foreground"),children:[i.value?rs(i.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(rm,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(cm,{className:"w-auto p-0",align:"start",children:u.jsx(lm,{mode:"single",selected:i.value,onSelect:i.onChange,initialFocus:!0})})]})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"balance",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Balance"}),u.jsx(vn,{children:u.jsx(rn,{type:"number",placeholder:"0",...i,onChange:o=>i.onChange(Number(o.target.value))})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(St,{variant:"outline",onClick:i=>{i.preventDefault(),r.reset(),n()},children:"Cancel"}),u.jsx(St,{type:"submit",children:"Update"})]})]})})},IJ=({open:e,setOpen:t,defaultValues:n,onUpdate:r})=>{const i=()=>{t(!1)};return u.jsx(Ol,{open:e,onOpenChange:t,children:u.jsxs(Oc,{children:[u.jsx(Pc,{children:u.jsx(Nc,{children:"Edit User"})}),u.jsx(NJ,{defaultValues:n,onSubmit:r,onCancel:i})]})})},ss=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:nt("w-full caption-bottom text-sm",e),...t})}));ss.displayName="Table";const as=P.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:nt("[&_tr]:border-b",e),...t}));as.displayName="TableHeader";const cs=P.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:nt("[&_tr:last-child]:border-0",e),...t}));cs.displayName="TableBody";const jJ=P.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:nt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));jJ.displayName="TableFooter";const Sn=P.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:nt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Sn.displayName="TableRow";const $e=P.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:nt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$e.displayName="TableHead";const Me=P.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:nt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Me.displayName="TableCell";const AJ=P.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:nt("mt-4 text-sm text-muted-foreground",e),...t}));AJ.displayName="TableCaption";const DJ=({users:e,isLoading:t,handleEdit:n,handleToggleStatus:r})=>{const i=Rl();return u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Mobile"}),u.jsx($e,{children:"Role"}),u.jsx($e,{children:"Date of Birth"}),u.jsx($e,{children:"Language"}),u.jsx($e,{children:" Point"}),u.jsx($e,{children:"Balance"}),u.jsx($e,{children:"Refer Code"}),u.jsx($e,{children:"Status"}),u.jsx($e,{children:"Last Login"}),u.jsx($e,{children:"Actions"})]})}),u.jsx(cs,{children:t?u.jsx(Sn,{children:u.jsx(Me,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):e.map(o=>u.jsxs(Sn,{children:[u.jsx(Me,{children:o.mobile}),u.jsx(Me,{children:o.userRole}),u.jsx(Me,{children:o.dob?new Date(o.dob).toLocaleDateString():"-"}),u.jsx(Me,{children:u.jsx("div",{className:"flex flex-col items-start",children:o.lang})}),u.jsx(Me,{children:u.jsx("div",{className:"flex flex-col items-start",children:o==null?void 0:o.points})}),u.jsx(Me,{children:u.jsx("div",{className:"flex flex-col items-start",children:o==null?void 0:o.balance})}),u.jsx(Me,{children:u.jsx("div",{className:"flex flex-col items-start",children:o.referralCode})}),u.jsxs(Me,{children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.isVerified?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.isVerified?"Verified":"Not Verified"}),o.isBlocked&&u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 ms-2",children:"Blocked"})]}),u.jsx(Me,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(o.lastLoginAt).toLocaleDateString()}),u.jsx("span",{children:new Date(o.lastLoginAt).toLocaleTimeString()})]})}),u.jsx(Me,{children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>n(o),children:u.jsx(qR,{className:"h-4 w-4"})}),u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>r(o._id),children:u.jsx(d6,{className:"h-4 w-4 text-red-600"})}),u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>{i(`/dashboard/userDetails/${o._id}`)},children:u.jsx(y6,{className:"h-4 w-4"})})]})})]},o._id))})]})})},MJ=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),[i,o]=P.useState(""),{users:s,isLoading:a,currentPage:c,totalPages:l}=Nn(y=>y.user),f=Qn();P.useEffect(()=>{p(1)},[i]);const p=y=>{f(qb({page:y,search:i}))},m=y=>{f(Kb(y))},E=y=>{r(y),t(!0)},x=y=>{f(Yb({mobile:y.mobile,dob:y.dob,balance:y.balance})).then(w=>{w.type==="updateUser/fulfilled"&&(t(!1),Hu({title:"User updated successfully",description:"User details has been updated successfully"}))})};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Users Management"})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search user by mobile",value:i,onChange:y=>{o(y.target.value)},className:"max-w-sm"})}),u.jsx(IJ,{open:e,setOpen:t,defaultValues:n,onUpdate:x}),u.jsx(DJ,{users:s,isLoading:a,handleEdit:E,handleToggleStatus:m}),l>=1&&u.jsx(aa,{currentPage:c,totalPages:l,onPageChange:p})]})},wI=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ve(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},PU=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?wI(r.ref,n,e):r.refs&&r.refs.forEach(i=>wI(i,n,e))}},LJ=(e,t)=>{t.shouldUseNativeValidation&&PU(e,t);const n={};for(const r in e){const i=Ve(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(FJ(t.names||Object.keys(e),r)){const s=Object.assign({},Ve(n,r));Hn(s,"root",o),Hn(n,r,s)}else Hn(n,r,o)}return n},FJ=(e,t)=>e.some(n=>n.startsWith(t+"."));var UJ=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return e.push(p)})}),t){var c=n[s].types,l=c&&c[r.code];n[s]=_F(s,t,n,i,l?[].concat(l,r.message):r.message)}e.shift()}return n},$y=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(l){return o.shouldUseNativeValidation&&PU({},o),{errors:{},values:n.raw?r:l}})}catch(l){return a(l)}return c&&c.then?c.then(void 0,a):c}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:LJ(UJ(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}};const uh=P.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));uh.displayName="Textarea";function BJ({form:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsx(Xt,{control:e.control,name:"title",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Enter quiz title",...t})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"description",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Description"}),u.jsx(vn,{children:u.jsx(uh,{placeholder:"Enter quiz description",...t})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"bonusPercent",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Refer Percentage"}),u.jsx(vn,{children:u.jsx(rn,{type:"number",placeholder:"Enter refer bonus percentage",...t,onChange:n=>t.onChange(Number(n.target.value))})}),u.jsx(Ft,{})]})})]})}function $J({form:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:e.control,name:"startDate",render:({field:t})=>u.jsxs(Mt,{className:"flex flex-col",children:[u.jsx(Lt,{children:"Start Date"}),u.jsxs(cy,{children:[u.jsx(ly,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(St,{variant:"outline",className:nt("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?rs(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(rm,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(cm,{className:"w-auto p-0",align:"start",children:u.jsx(lm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date||n<new Date("1900-01-01"),initialFocus:!0})})]}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"endDate",render:({field:t})=>u.jsxs(Mt,{className:"flex flex-col",children:[u.jsx(Lt,{children:"End Date"}),u.jsxs(cy,{children:[u.jsx(ly,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(St,{variant:"outline",className:nt("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?rs(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(rm,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(cm,{className:"w-auto p-0",align:"start",children:u.jsx(lm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date||n<new Date("1900-01-01"),initialFocus:!0})})]}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:e.control,name:"duration",render:({field:t})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Duration (minutes)"}),u.jsx(vn,{children:u.jsx(rn,{min:0,step:1,type:"number",placeholder:"0",...t,onChange:n=>t.onChange(parseInt(n.target.value))})}),u.jsx(Ft,{})]})})]})}function Xk(e){const t=P.useRef({value:e,previous:e});return P.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jk="Radio",[zJ,NU]=Rc(Jk),[VJ,WJ]=zJ(Jk),IU=P.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:c,form:l,...f}=e,[p,m]=P.useState(null),E=xn(t,w=>m(w)),x=P.useRef(!1),y=p?l||!!p.closest("form"):!0;return u.jsxs(VJ,{scope:n,checked:i,disabled:s,children:[u.jsx(Pt.button,{type:"button",role:"radio","aria-checked":i,"data-state":DU(i),"data-disabled":s?"":void 0,disabled:s,value:a,...f,ref:E,onClick:Ke(e.onClick,w=>{i||c==null||c(),y&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),y&&u.jsx(HJ,{control:p,bubbles:!x.current,name:r,value:a,checked:i,required:o,disabled:s,form:l,style:{transform:"translateX(-100%)"}})]})});IU.displayName=Jk;var jU="RadioIndicator",AU=P.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=WJ(jU,n);return u.jsx(uo,{present:r||o.checked,children:u.jsx(Pt.span,{"data-state":DU(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})})});AU.displayName=jU;var HJ=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=P.useRef(null),s=Xk(n),a=lk(t);return P.useEffect(()=>{const c=o.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[s,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DU(e){return e?"checked":"unchecked"}var GJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zk="RadioGroup",[qJ,Fce]=Rc(Zk,[G_,NU]),MU=G_(),LU=NU(),[KJ,YJ]=qJ(Zk),FU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:c,dir:l,loop:f=!0,onValueChange:p,...m}=e,E=MU(n),x=Ry(l),[y,w]=bl({prop:o,defaultProp:i,onChange:p});return u.jsx(KJ,{scope:n,name:r,required:s,disabled:a,value:y,onValueChange:w,children:u.jsx(a2,{asChild:!0,...E,orientation:c,dir:x,loop:f,children:u.jsx(Pt.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":a?"":void 0,dir:x,...m,ref:t})})})});FU.displayName=Zk;var UU="RadioGroupItem",BU=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=YJ(UU,n),s=o.disabled||r,a=MU(n),c=LU(n),l=P.useRef(null),f=xn(t,l),p=o.value===i.value,m=P.useRef(!1);return P.useEffect(()=>{const E=y=>{GJ.includes(y.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",x)}},[]),u.jsx(c2,{asChild:!0,...a,focusable:!s,active:p,children:u.jsx(IU,{disabled:s,required:o.required,checked:p,...c,...i,name:o.name,ref:f,onCheck:()=>o.onValueChange(i.value),onKeyDown:Ke(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:Ke(i.onFocus,()=>{var E;m.current&&((E=l.current)==null||E.click())})})})});BU.displayName=UU;var QJ="RadioGroupIndicator",$U=P.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=LU(n);return u.jsx(AU,{...i,...r,ref:t})});$U.displayName=QJ;var zU=FU,VU=BU,XJ=$U;const WU=P.forwardRef(({className:e,...t},n)=>u.jsx(zU,{className:nt("grid gap-2",e),...t,ref:n}));WU.displayName=zU.displayName;const HU=P.forwardRef(({className:e,...t},n)=>u.jsx(VU,{ref:n,className:nt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(XJ,{className:"flex items-center justify-center",children:u.jsx(IM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));HU.displayName=VU.displayName;function JJ({form:e}){const t=e.watch("questions")||[],n=()=>{const a=e.getValues("questions")||[];e.setValue("questions",[...a,{question:"",options:[{option:"",isCorrect:!0},{option:"",isCorrect:!1}]}])},r=a=>{const l=[...e.getValues("questions")];l[a].options.push({option:"",isCorrect:!1}),e.setValue("questions",l)},i=a=>{const l=e.getValues("questions").filter((f,p)=>p!==a);e.setValue("questions",l)},o=(a,c)=>{const f=[...e.getValues("questions")];f[a].options=f[a].options.filter((p,m)=>m!==c),e.setValue("questions",f)},s=(a,c)=>{const f=[...e.getValues("questions")];f[a].options=f[a].options.map((p,m)=>({...p,isCorrect:m===c})),e.setValue("questions",f)};return u.jsxs("div",{className:"space-y-6",children:[t.map((a,c)=>{var l,f;return u.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h4",{className:"font-medium",children:["Question ",c+1]}),u.jsx(St,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(c),children:u.jsx(BT,{className:"h-4 w-4"})})]}),u.jsx(Xt,{control:e.control,name:`questions.${c}.question`,render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Question Text"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Enter question",...p})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Lt,{children:"Options"}),u.jsx(WU,{onValueChange:p=>s(c,parseInt(p)),value:(l=a==null?void 0:a.options)==null?void 0:l.findIndex(p=>p.isCorrect).toString(),children:(f=a==null?void 0:a.options)==null?void 0:f.map((p,m)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(HU,{value:m.toString(),id:`q${c}-opt${m}`}),u.jsx(Xt,{control:e.control,name:`questions.${c}.options.${m}.option`,render:({field:E})=>u.jsxs(Mt,{className:"flex-1",children:[u.jsx(vn,{children:u.jsx(rn,{placeholder:`Option ${m+1}`,...E})}),u.jsx(Ft,{})]})}),a.options.length>2&&u.jsx(St,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(c,m),children:u.jsx(BT,{className:"h-4 w-4"})})]},m))}),u.jsxs(St,{type:"button",variant:"outline",size:"sm",onClick:()=>r(c),children:[u.jsx(td,{className:"h-4 w-4 mr-2"}),"Add Option"]})]})]},c)}),u.jsxs(St,{type:"button",variant:"outline",onClick:n,children:[u.jsx(td,{className:"h-4 w-4 mr-2"}),"Add Question"]})]})}var Mn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Mn||(Mn={}));var EI;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(EI||(EI={}));const tt=Mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bf=e=>{switch(typeof e){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return isNaN(e)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(e)?tt.array:e===null?tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tt.promise:typeof Map<"u"&&e instanceof Map?tt.map:typeof Set<"u"&&e instanceof Set?tt.set:typeof Date<"u"&&e instanceof Date?tt.date:tt.object;default:return tt.unknown}},Be=Mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ia extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,c=0;for(;c<s.path.length;){const l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}static assert(t){if(!(t instanceof ia))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ia.create=e=>new ia(e);const uy=(e,t)=>{let n;switch(e.code){case Be.invalid_type:e.received===tt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Mn.jsonStringifyReplacer)}`;break;case Be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Mn.joinValues(e.keys,", ")}`;break;case Be.invalid_union:n="Invalid input";break;case Be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Mn.joinValues(e.options)}`;break;case Be.invalid_enum_value:n=`Invalid enum value. Expected ${Mn.joinValues(e.options)}, received '${e.received}'`;break;case Be.invalid_arguments:n="Invalid function arguments";break;case Be.invalid_return_type:n="Invalid function return type";break;case Be.invalid_date:n="Invalid date";break;case Be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Mn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Be.custom:n="Invalid input";break;case Be.invalid_intersection_types:n="Intersection results could not be merged";break;case Be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Be.not_finite:n="Number must be finite";break;default:n=t.defaultError,Mn.assertNever(e)}return{message:n}};let ZJ=uy;function m1(){return ZJ}const g1=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function et(e,t){const n=m1(),r=g1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===uy?void 0:uy].filter(i=>!!i)});e.common.issues.push(r)}class Ao{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return on;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ao.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return on;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const on=Object.freeze({status:"aborted"}),lv=e=>({status:"dirty",value:e}),is=e=>({status:"valid",value:e}),CI=e=>e.status==="aborted",TI=e=>e.status==="dirty",AS=e=>e.status==="valid",DS=e=>typeof Promise<"u"&&e instanceof Promise;function MS(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function GU(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));var uv,dv;class Ec{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RI=(e,t)=>{if(AS(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ia(e.common.issues);return this._error=n,this._error}}};function pn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{var c,l;const{message:f}=e;return s.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(l=f??n)!==null&&l!==void 0?l:a.defaultError}},description:i}}class En{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return bf(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ao,ctx:{common:t.parent.common,data:t.data,parsedType:bf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(DS(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bf(t)},o=this._parseSync({data:t,path:i.path,parent:i});return RI(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bf(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(DS(i)?i:Promise.resolve(i));return RI(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:Be.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new El({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return dl.create(this,this._def)}nullable(){return Zf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bc.create(this,this._def)}promise(){return fy.create(this,this._def)}or(t){return US.create([this,t],this._def)}and(t){return BS.create(this,t,this._def)}transform(t){return new El({...pn(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new HS({...pn(this._def),innerType:this,defaultValue:n,typeName:Ht.ZodDefault})}brand(){return new QU({typeName:Ht.ZodBranded,type:this,...pn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new GS({...pn(this._def),innerType:this,catchValue:n,typeName:Ht.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return tw.create(this,t)}readonly(){return qS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eZ=/^c[^\s-]{8,}$/i,tZ=/^[0-9a-z]+$/,nZ=/^[0-9A-HJKMNP-TV-Z]{26}$/,rZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iZ=/^[a-z0-9_-]{21}$/i,oZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let SC;const cZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lZ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dZ=new RegExp(`^${qU}$`);function KU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function fZ(e){return new RegExp(`^${KU(e)}$`)}function hZ(e){let t=`${qU}T${KU(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function pZ(e,t){return!!((t==="v4"||!t)&&cZ.test(e)||(t==="v6"||!t)&&lZ.test(e))}class cl extends En{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tt.string){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.string,received:o.parsedType}),on}const r=new Ao;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?et(i,{code:Be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&et(i,{code:Be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")sZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"email",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")SC||(SC=new RegExp(aZ,"u")),SC.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"emoji",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")rZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"uuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")iZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"nanoid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")eZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"cuid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")tZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"cuid2",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")nZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"ulid",code:Be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),et(i,{validation:"url",code:Be.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"regex",code:Be.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?hZ(o).test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?dZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?fZ(o).test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{code:Be.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?oZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"duration",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?pZ(t.data,o.version)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"ip",code:Be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?uZ.test(t.data)||(i=this._getOrReturnCtx(t,i),et(i,{validation:"base64",code:Be.invalid_string,message:o.message}),r.dirty()):Mn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Be.invalid_string,...xt.errToObj(r)})}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xt.errToObj(n)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new cl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}cl.create=e=>{var t;return new cl({checks:[],typeName:Ht.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pn(e)})};function mZ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class um extends En{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tt.number){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.number,received:o.parsedType}),on}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="int"?Mn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),et(r,{code:Be.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?mZ(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_finite,message:o.message}),i.dirty()):Mn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xt.toString(n))}setLimit(t,n,r,i){return new um({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xt.toString(i)}]})}_addCheck(t){return new um({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Mn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}um.create=e=>new um({checks:[],typeName:Ht.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pn(e)});class dm extends En{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==tt.bigint){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.bigint,received:o.parsedType}),on}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),et(r,{code:Be.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Mn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xt.toString(n))}setLimit(t,n,r,i){return new dm({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xt.toString(i)}]})}_addCheck(t){return new dm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}dm.create=e=>{var t;return new dm({checks:[],typeName:Ht.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...pn(e)})};class v1 extends En{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tt.boolean){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.boolean,received:r.parsedType}),on}return is(t.data)}}v1.create=e=>new v1({typeName:Ht.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pn(e)});class dy extends En{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tt.date){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_type,expected:tt.date,received:o.parsedType}),on}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return et(o,{code:Be.invalid_date}),on}const r=new Ao;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),et(i,{code:Be.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Mn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dy({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}dy.create=e=>new dy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ht.ZodDate,...pn(e)});class y1 extends En{_parse(t){if(this._getType(t)!==tt.symbol){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.symbol,received:r.parsedType}),on}return is(t.data)}}y1.create=e=>new y1({typeName:Ht.ZodSymbol,...pn(e)});class LS extends En{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.undefined,received:r.parsedType}),on}return is(t.data)}}LS.create=e=>new LS({typeName:Ht.ZodUndefined,...pn(e)});class FS extends En{_parse(t){if(this._getType(t)!==tt.null){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.null,received:r.parsedType}),on}return is(t.data)}}FS.create=e=>new FS({typeName:Ht.ZodNull,...pn(e)});class b1 extends En{constructor(){super(...arguments),this._any=!0}_parse(t){return is(t.data)}}b1.create=e=>new b1({typeName:Ht.ZodAny,...pn(e)});class Up extends En{constructor(){super(...arguments),this._unknown=!0}_parse(t){return is(t.data)}}Up.create=e=>new Up({typeName:Ht.ZodUnknown,...pn(e)});class ad extends En{_parse(t){const n=this._getOrReturnCtx(t);return et(n,{code:Be.invalid_type,expected:tt.never,received:n.parsedType}),on}}ad.create=e=>new ad({typeName:Ht.ZodNever,...pn(e)});class x1 extends En{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.void,received:r.parsedType}),on}return is(t.data)}}x1.create=e=>new x1({typeName:Ht.ZodVoid,...pn(e)});class bc extends En{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==tt.array)return et(n,{code:Be.invalid_type,expected:tt.array,received:n.parsedType}),on;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(et(n,{code:s?Be.too_big:Be.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(et(n,{code:Be.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(et(n,{code:Be.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Ec(n,s,n.path,a)))).then(s=>Ao.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Ec(n,s,n.path,a)));return Ao.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new bc({...this._def,minLength:{value:t,message:xt.toString(n)}})}max(t,n){return new bc({...this._def,maxLength:{value:t,message:xt.toString(n)}})}length(t,n){return new bc({...this._def,exactLength:{value:t,message:xt.toString(n)}})}nonempty(t){return this.min(1,t)}}bc.create=(e,t)=>new bc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...pn(t)});function pp(e){if(e instanceof Kr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=dl.create(pp(r))}return new Kr({...e._def,shape:()=>t})}else return e instanceof bc?new bc({...e._def,type:pp(e.element)}):e instanceof dl?dl.create(pp(e.unwrap())):e instanceof Zf?Zf.create(pp(e.unwrap())):e instanceof wl?wl.create(e.items.map(t=>pp(t))):e}class Kr extends En{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Mn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==tt.object){const l=this._getOrReturnCtx(t);return et(l,{code:Be.invalid_type,expected:tt.object,received:l.parsedType}),on}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof ad&&this._def.unknownKeys==="strip"))for(const l in i.data)s.includes(l)||a.push(l);const c=[];for(const l of s){const f=o[l],p=i.data[l];c.push({key:{status:"valid",value:l},value:f._parse(new Ec(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ad){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(l==="strict")a.length>0&&(et(i,{code:Be.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of a){const p=i.data[f];c.push({key:{status:"valid",value:f},value:l._parse(new Ec(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of c){const p=await f.key,m=await f.value;l.push({key:p,value:m,alwaysSet:f.alwaysSet})}return l}).then(l=>Ao.mergeObjectSync(r,l)):Ao.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=xt.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ht.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const n={};return Mn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Kr({...this._def,shape:()=>n})}omit(t){const n={};return Mn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Kr({...this._def,shape:()=>n})}deepPartial(){return pp(this)}partial(t){const n={};return Mn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Kr({...this._def,shape:()=>n})}required(t){const n={};return Mn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof dl;)o=o._def.innerType;n[r]=o}}),new Kr({...this._def,shape:()=>n})}keyof(){return YU(Mn.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:ad.create(),typeName:Ht.ZodObject,...pn(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:ad.create(),typeName:Ht.ZodObject,...pn(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:ad.create(),typeName:Ht.ZodObject,...pn(t)});class US extends En{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new ia(a.ctx.common.issues));return et(n,{code:Be.invalid_union,unionErrors:s}),on}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(c=>new ia(c));return et(n,{code:Be.invalid_union,unionErrors:a}),on}}get options(){return this._def.options}}US.create=(e,t)=>new US({options:e,typeName:Ht.ZodUnion,...pn(t)});const tl=e=>e instanceof zS?tl(e.schema):e instanceof El?tl(e.innerType()):e instanceof VS?[e.value]:e instanceof Jf?e.options:e instanceof WS?Mn.objectValues(e.enum):e instanceof HS?tl(e._def.innerType):e instanceof LS?[void 0]:e instanceof FS?[null]:e instanceof dl?[void 0,...tl(e.unwrap())]:e instanceof Zf?[null,...tl(e.unwrap())]:e instanceof QU||e instanceof qS?tl(e.unwrap()):e instanceof GS?tl(e._def.innerType):[];class eO extends En{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.object)return et(n,{code:Be.invalid_type,expected:tt.object,received:n.parsedType}),on;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(et(n,{code:Be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),on)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=tl(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new eO({typeName:Ht.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...pn(r)})}}function S1(e,t){const n=bf(e),r=bf(t);if(e===t)return{valid:!0,data:e};if(n===tt.object&&r===tt.object){const i=Mn.objectKeys(t),o=Mn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const c=S1(e[a],t[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(n===tt.array&&r===tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],c=S1(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===tt.date&&r===tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class BS extends En{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(CI(o)||CI(s))return on;const a=S1(o.value,s.value);return a.valid?((TI(o)||TI(s))&&n.dirty(),{status:n.value,value:a.data}):(et(r,{code:Be.invalid_intersection_types}),on)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}BS.create=(e,t,n)=>new BS({left:e,right:t,typeName:Ht.ZodIntersection,...pn(n)});class wl extends En{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.array)return et(r,{code:Be.invalid_type,expected:tt.array,received:r.parsedType}),on;if(r.data.length<this._def.items.length)return et(r,{code:Be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),on;!this._def.rest&&r.data.length>this._def.items.length&&(et(r,{code:Be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ec(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ao.mergeArray(n,s)):Ao.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new wl({...this._def,rest:t})}}wl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wl({items:e,typeName:Ht.ZodTuple,rest:null,...pn(t)})};class $S extends En{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.object)return et(r,{code:Be.invalid_type,expected:tt.object,received:r.parsedType}),on;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Ec(r,a,r.path,a)),value:s._parse(new Ec(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ao.mergeObjectAsync(n,i):Ao.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof En?new $S({keyType:t,valueType:n,typeName:Ht.ZodRecord,...pn(r)}):new $S({keyType:cl.create(),valueType:t,typeName:Ht.ZodRecord,...pn(n)})}}class _1 extends En{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.map)return et(r,{code:Be.invalid_type,expected:tt.map,received:r.parsedType}),on;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new Ec(r,a,r.path,[l,"key"])),value:o._parse(new Ec(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of s){const l=await c.key,f=await c.value;if(l.status==="aborted"||f.status==="aborted")return on;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(l.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of s){const l=c.key,f=c.value;if(l.status==="aborted"||f.status==="aborted")return on;(l.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(l.value,f.value)}return{status:n.value,value:a}}}}_1.create=(e,t,n)=>new _1({valueType:t,keyType:e,typeName:Ht.ZodMap,...pn(n)});class fm extends En{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.set)return et(r,{code:Be.invalid_type,expected:tt.set,received:r.parsedType}),on;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(et(r,{code:Be.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(et(r,{code:Be.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(c){const l=new Set;for(const f of c){if(f.status==="aborted")return on;f.status==="dirty"&&n.dirty(),l.add(f.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>o._parse(new Ec(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(t,n){return new fm({...this._def,minSize:{value:t,message:xt.toString(n)}})}max(t,n){return new fm({...this._def,maxSize:{value:t,message:xt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}fm.create=(e,t)=>new fm({valueType:e,minSize:null,maxSize:null,typeName:Ht.ZodSet,...pn(t)});class Tv extends En{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.function)return et(n,{code:Be.invalid_type,expected:tt.function,received:n.parsedType}),on;function r(a,c){return g1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,m1(),uy].filter(l=>!!l),issueData:{code:Be.invalid_arguments,argumentsError:c}})}function i(a,c){return g1({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,m1(),uy].filter(l=>!!l),issueData:{code:Be.invalid_return_type,returnTypeError:c}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof fy){const a=this;return is(async function(...c){const l=new ia([]),f=await a._def.args.parseAsync(c,o).catch(E=>{throw l.addIssue(r(c,E)),l}),p=await Reflect.apply(s,this,f);return await a._def.returns._def.type.parseAsync(p,o).catch(E=>{throw l.addIssue(i(p,E)),l})})}else{const a=this;return is(function(...c){const l=a._def.args.safeParse(c,o);if(!l.success)throw new ia([r(c,l.error)]);const f=Reflect.apply(s,this,l.data),p=a._def.returns.safeParse(f,o);if(!p.success)throw new ia([i(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Tv({...this._def,args:wl.create(t).rest(Up.create())})}returns(t){return new Tv({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Tv({args:t||wl.create([]).rest(Up.create()),returns:n||Up.create(),typeName:Ht.ZodFunction,...pn(r)})}}class zS extends En{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zS.create=(e,t)=>new zS({getter:e,typeName:Ht.ZodLazy,...pn(t)});class VS extends En{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return et(n,{received:n.data,code:Be.invalid_literal,expected:this._def.value}),on}return{status:"valid",value:t.data}}get value(){return this._def.value}}VS.create=(e,t)=>new VS({value:e,typeName:Ht.ZodLiteral,...pn(t)});function YU(e,t){return new Jf({values:e,typeName:Ht.ZodEnum,...pn(t)})}class Jf extends En{constructor(){super(...arguments),uv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return et(n,{expected:Mn.joinValues(r),received:n.parsedType,code:Be.invalid_type}),on}if(MS(this,uv)||GU(this,uv,new Set(this._def.values)),!MS(this,uv).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return et(n,{received:n.data,code:Be.invalid_enum_value,options:r}),on}return is(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Jf.create(t,{...this._def,...n})}exclude(t,n=this._def){return Jf.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}uv=new WeakMap;Jf.create=YU;class WS extends En{constructor(){super(...arguments),dv.set(this,void 0)}_parse(t){const n=Mn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==tt.string&&r.parsedType!==tt.number){const i=Mn.objectValues(n);return et(r,{expected:Mn.joinValues(i),received:r.parsedType,code:Be.invalid_type}),on}if(MS(this,dv)||GU(this,dv,new Set(Mn.getValidEnumValues(this._def.values))),!MS(this,dv).has(t.data)){const i=Mn.objectValues(n);return et(r,{received:r.data,code:Be.invalid_enum_value,options:i}),on}return is(t.data)}get enum(){return this._def.values}}dv=new WeakMap;WS.create=(e,t)=>new WS({values:e,typeName:Ht.ZodNativeEnum,...pn(t)});class fy extends En{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.promise&&n.common.async===!1)return et(n,{code:Be.invalid_type,expected:tt.promise,received:n.parsedType}),on;const r=n.parsedType===tt.promise?n.data:Promise.resolve(n.data);return is(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fy.create=(e,t)=>new fy({type:e,typeName:Ht.ZodPromise,...pn(t)});class El extends En{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{et(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return on;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?on:c.status==="dirty"||n.value==="dirty"?lv(c.value):c});{if(n.value==="aborted")return on;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?on:a.status==="dirty"||n.value==="dirty"?lv(a.value):a}}if(i.type==="refinement"){const s=a=>{const c=i.refinement(a,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?on:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?on:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!AS(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>AS(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);Mn.assertNever(i)}}El.create=(e,t,n)=>new El({schema:e,typeName:Ht.ZodEffects,effect:t,...pn(n)});El.createWithPreprocess=(e,t,n)=>new El({schema:t,effect:{type:"preprocess",transform:e},typeName:Ht.ZodEffects,...pn(n)});class dl extends En{_parse(t){return this._getType(t)===tt.undefined?is(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dl.create=(e,t)=>new dl({innerType:e,typeName:Ht.ZodOptional,...pn(t)});class Zf extends En{_parse(t){return this._getType(t)===tt.null?is(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zf.create=(e,t)=>new Zf({innerType:e,typeName:Ht.ZodNullable,...pn(t)});class HS extends En{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===tt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}HS.create=(e,t)=>new HS({innerType:e,typeName:Ht.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pn(t)});class GS extends En{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return DS(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ia(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ia(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}GS.create=(e,t)=>new GS({innerType:e,typeName:Ht.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pn(t)});class w1 extends En{_parse(t){if(this._getType(t)!==tt.nan){const r=this._getOrReturnCtx(t);return et(r,{code:Be.invalid_type,expected:tt.nan,received:r.parsedType}),on}return{status:"valid",value:t.data}}}w1.create=e=>new w1({typeName:Ht.ZodNaN,...pn(e)});class QU extends En{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class tw extends En{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?on:o.status==="dirty"?(n.dirty(),lv(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?on:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new tw({in:t,out:n,typeName:Ht.ZodPipeline})}}class qS extends En{_parse(t){const n=this._def.innerType._parse(t),r=i=>(AS(i)&&(i.value=Object.freeze(i.value)),i);return DS(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}qS.create=(e,t)=>new qS({innerType:e,typeName:Ht.ZodReadonly,...pn(t)});Kr.lazycreate;var Ht;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const Dn=cl.create,Mf=um.create;w1.create;dm.create;const KS=v1.create,YS=dy.create;y1.create;LS.create;FS.create;b1.create;Up.create;ad.create;x1.create;const Gu=bc.create,Lf=Kr.create;Kr.strictCreate;US.create;eO.create;BS.create;wl.create;$S.create;_1.create;fm.create;Tv.create;zS.create;VS.create;const gZ=Jf.create;WS.create;fy.create;El.create;dl.create;Zf.create;El.createWithPreprocess;tw.create;const vZ=Lf({title:Dn().min(1,"Title is required").max(100,"Title is too long"),description:Dn().min(1,"Description is required").max(500,"Description is too long"),standard:Dn().min(null,"Standard is required").optional().nullable().default(null),subject:Dn().min(null,"Subject is required").optional().nullable().default(null),startDate:YS({required_error:"Start date is required"}),endDate:YS({required_error:"End date is required"}),duration:Mf().min(0,"Duration is not less then 0.").max(480,"Duration cannot exceed 8 hours").default(0).optional(),ageGroup:Dn().min(0,"Age group is required").optional(),price:Mf().min(0,"Price cannot be negative").default(0),bonusPercent:Mf().min(0,"Refer bonus cannot be negative").optional(),isActive:KS().default(!0),questions:Gu(Lf({question:Dn().min(1,"Question text is required"),options:Gu(Lf({option:Dn().min(1,"Option text is required"),isCorrect:KS()})).min(2,"At least two options are required")})).min(1,"At least one question is required")}),Jb=_t("create",async(e,{rejectWithValue:t})=>{var n;try{return(await pt.post(m8,e)).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),fl=_t("fetchAll",async(e,{rejectWithValue:t})=>{var n;try{return(await pt.get(v8)).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),_C=_t("fetchStandardById",async(e,{rejectWithValue:t})=>{var n;try{return(await pt.get(g8.replace(":id",e))).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),Zb=_t("updateStandard",async({id:e,data:t},{rejectWithValue:n})=>{var r;try{return(await pt.put(y8.replace(":id",e),t)).data}catch(i){return n(((r=i.response)==null?void 0:r.data)||"Unknown error")}}),ex=_t("toggleStandardStatus",async(e,{rejectWithValue:t})=>{var n;try{return(await pt.post(b8,{stdId:e})).data}catch(r){return t(((n=r.response)==null?void 0:n.data)||"Unknown error")}}),yZ=os({name:"standard",initialState:{standards:[],currentStandard:null,isLoading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Jb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Jb.fulfilled,(t,n)=>{t.isLoading=!1,t.standards.push(n.payload)}).addCase(Jb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to create standard."}).addCase(fl.pending,t=>{t.isLoading=!0,t.error=null}).addCase(fl.fulfilled,(t,n)=>{t.isLoading=!1,t.standards=n.payload}).addCase(fl.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to fetch standards."}).addCase(_C.pending,t=>{t.isLoading=!0,t.error=null}).addCase(_C.fulfilled,(t,n)=>{t.isLoading=!1,t.currentStandard=n.payload}).addCase(_C.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to fetch standard by ID."}).addCase(Zb.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Zb.fulfilled,(t,n)=>{t.isLoading=!1,t.standards=t.standards.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(Zb.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to update standard."}).addCase(ex.pending,t=>{t.isLoading=!0,t.error=null}).addCase(ex.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.standards.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.standards[r].isActive=!t.standards[r].isActive)}).addCase(ex.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload||"Failed to toggle standard status."})}}),bZ=yZ.reducer,xZ={subjects:[],currentsubject:null,isLoading:null,error:null},tx=_t("createsubject",async(e,{rejectWithValue:t})=>{try{return(await pt.post(x8,e)).data}catch(n){return t(n.response.data)}}),Ff=_t("getAllsubject",async(e,{rejectWithValue:t})=>{try{return(await pt.get(_8,{params:{standard:e}})).data}catch(n){return t(n.response.data)}}),wC=_t("subjectById",async(e,{rejectWithValue:t})=>{try{return(await pt.get(S8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),nx=_t("updatasubject",async({id:e,data:t},{rejectWithValue:n})=>{try{return(await pt.put(w8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),rx=_t("togglesubject",async(e,{rejectWithValue:t})=>{try{return(await pt.post(E8,{subjectId:e})).data}catch(n){return t(n.response.data)}}),SZ=os({name:"subject",initialState:xZ,reducers:{},extraReducers:e=>{e.addCase(tx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(tx.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects.unshift(n.payload)}).addCase(tx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Ff.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Ff.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects=n.payload}).addCase(Ff.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(wC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(wC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentsubject=n.payload}).addCase(wC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(nx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(nx.fulfilled,(t,n)=>{t.isLoading=!1,t.subjects=t.subjects.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(nx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(rx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(rx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.subjects.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.subjects[r].isActive=!t.subjects[r].isActive)}).addCase(rx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),_Z=SZ.reducer,hl=({placeholder:e,name:t,control:n,onSearch:r,listing:i,onItemSelect:o,canLocalSearch:s=!0})=>{var x;const[a,c]=P.useState(""),{field:{value:l,onChange:f}}=Ok({name:t,control:n}),p=y=>{f(y),o(y)},m=y=>{y.stopPropagation(),f(null),s?c(""):r(""),o("")},E=i==null?void 0:i.filter(y=>{var w;return(w=y==null?void 0:y.label)==null?void 0:w.toLowerCase().includes(a.toLowerCase())});return u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs(wk,{children:[u.jsx(Ek,{asChild:!0,children:u.jsx(St,{variant:"outline",className:"w-full justify-between",children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsx("span",{className:"font-normal",children:l?(x=i.find(y=>y.id===l))==null?void 0:x.label:e}),!l&&u.jsx(O_,{className:"h-4 w-4 ml-2 text-gray-500"})]})})}),u.jsxs(X_,{className:"w-64 max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"sticky top-0 bg-white p-2 z-10",children:u.jsx(rn,{placeholder:"Search...",value:a,onChange:y=>{s?c(y.target.value):r(y.target.value)},className:"mb-2"})}),E==null?void 0:E.map(y=>u.jsx(Ck,{onSelect:()=>p(y.id),className:`flex items-center space-x-2 ${l===y.id?"bg-gray-200":""}`,children:u.jsx("span",{children:y.label})},y.id))]})]}),l&&u.jsx(St,{variant:"ghost",size:"icon",className:"absolute right-0",onClick:m,children:u.jsx(hd,{className:"h-4 w-4 text-gray-500"})})]})};function wZ({form:e}){const{standards:t,isLoading:n}=Nn(c=>c.standard),{subjects:r,isLoading:i}=Nn(c=>c.subject),o=Qn();P.useEffect(()=>{s(),a("")},[]);const s=()=>{o(fl())},a=c=>{o(Ff(c))};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:e.control,name:"standard",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),n?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select standard",name:"standard",control:e.control,onSearch:()=>{},listing:t.map(l=>({id:l._id,label:l.std})),onItemSelect:l=>a(l)}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"subject",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Subject"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select subject",name:"subject",control:e.control,onSearch:()=>{},listing:r.map(l=>{var f;return{id:l._id,label:l.standard?l.subject+" - "+((f=l.standard)==null?void 0:f.std):l.subject}}),onItemSelect:l=>{}}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:e.control,name:"ageGroup",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Age Group"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"e.g., 8-12 years",...c})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"price",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Price"}),u.jsx(vn,{children:u.jsx(rn,{min:0,step:1,type:"number",placeholder:"0",...c,onChange:l=>c.onChange(Number(l.target.value))})}),u.jsx(Ft,{})]})})]})}const ix=_t("quiz/createQuiz",async(e,{rejectWithValue:t})=>{try{return(await pt.post(U8,e)).data}catch(n){return t(n.response.data)}}),Rv=_t("quiz/fetchQuizzes",async({page:e,search:t=""},{rejectWithValue:n})=>{try{return(await pt.get($8,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),ox=_t("quiz/fetchQuizById",async(e,{rejectWithValue:t})=>{try{return(await pt.get(`${B8}/${e}`)).data}catch(n){return t(n.response.data)}}),sx=_t("quiz/updateQuiz",async({id:e,quizData:t},{rejectWithValue:n})=>{try{return(await pt.put(`${z8}/${e}`,t)).data}catch(r){return n(r.response.data)}}),ax=_t("quiz/toggleQuiz",async(e,{rejectWithValue:t})=>{try{return(await pt.post(V8,{quizId:e})).data}catch(n){return t(n.response.data)}}),cx=_t("quiz/getQuizResult",async({quizId:e,page:t},{rejectWithValue:n})=>{try{return(await pt.post(qM,{quizId:e,page:t})).data}catch(r){return n(r.response.data)}});_t("quiz/quiz-leader-board",async({quizId:e,page:t},{rejectWithValue:n})=>{try{return(await pt.get(qM)).data}catch(r){return n(r.response.data)}});const EZ={quizzes:[],currentQuiz:null,isLoading:!1,currentPage:1,totalPages:1,error:null,quizResult:[],isQuizResultLoading:!1,qrCurrentPage:1,qrTotalPages:1},XU=os({name:"quiz",initialState:EZ,reducers:{setCurrentQuiz:(e,t)=>{e.currentQuiz=t.payload,console.log("currentQuiz :>> ",t.payload)}},extraReducers:e=>{e.addCase(Rv.pending,t=>{t.isLoading=!0}).addCase(Rv.fulfilled,(t,n)=>{t.isLoading=!1,t.quizzes=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Rv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.message||"Something went wrong"}).addCase(ix.pending,t=>{t.isLoading=!0}).addCase(ix.fulfilled,(t,n)=>{t.isLoading=!1,t.quizzes.push(n.payload),t.quizzes.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(ix.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.message||"Something went wrong"}).addCase(sx.pending,t=>{t.isLoading=!0}).addCase(sx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.quizzes.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.quizzes[r]=n.payload)}).addCase(sx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(ox.pending,t=>{t.isLoading=!0}).addCase(ox.fulfilled,(t,n)=>{t.isLoading=!1,t.currentQuiz=n.payload}).addCase(ox.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(ax.pending,t=>{t.isLoading=!0}).addCase(ax.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.quizzes.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.quizzes[r].isActive=!t.quizzes[r].isActive)}).addCase(ax.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(cx.pending,t=>{t.isQuizResultLoading=!0,t.error=null}).addCase(cx.fulfilled,(t,n)=>{t.isQuizResultLoading=!1,t.error=null,t.quizResult=n.payload.docs,t.qrCurrentPage=n.payload.currentPage,t.qrTotalPages=n.payload.totalPages}).addCase(cx.rejected,(t,n)=>{t.isQuizResultLoading=!1,t.error=n.payload.message||"Something went wrong"})}}),{setCurrentQuiz:CZ}=XU.actions,TZ=XU.reducer;function RZ({open:e,onOpenChange:t,editQuiz:n}){const{toast:r}=kl(),{isLoading:i}=Nn(l=>l.quiz),o=Qn(),s=pd({resolver:$y(vZ),defaultValues:{title:"",description:"",startDate:new Date(new Date().setDate(new Date().getDate()+1)),endDate:new Date(new Date().setDate(new Date().getDate()+2)),duration:0,ageGroup:"",standard:"",subject:"",price:0,isActive:!0,questions:[],bonusPercent:0}});P.useEffect(()=>{n?(s.setValue("title",n.title),s.setValue("description",n.description),s.setValue("startDate",new Date(n.startDate)),s.setValue("endDate",new Date(n.endDate)),s.setValue("duration",n.duration),s.setValue("ageGroup",n.ageGroup),s.setValue("standard",n.standard),s.setValue("subject",n.subject),s.setValue("price",n.price),s.setValue("bonusPercent",n==null?void 0:n.bonusPercent),s.setValue("isActive",n.isActive),s.setValue("questions",n.questions)):s.reset()},[n,s]);const a=l=>{const f={...l,subject:l.subject===""?null:l.subject,standard:l.standard===""?null:l.standard};n?o(sx({id:n._id,quizData:f})).then(p=>{p.type=="quiz/updateQuiz/fulfilled"&&(r({title:"Quiz Updated",description:"The quiz has been successfully updated."}),c(),t(!1))}).catch(p=>{}):o(ix(f)).then(p=>{p.type=="quiz/createQuiz/fulfilled"&&(r({title:"Quiz Created",description:"The quiz has been successfully created."}),c(),t(!1))}).catch(p=>{})},c=()=>{s.clearErrors(),s.reset()};return u.jsx(Ol,{open:e,onOpenChange:l=>{c(),t(l)},children:u.jsxs(Oc,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:l=>l.preventDefault(),children:[u.jsx(Pc,{children:u.jsx(Nc,{children:"Add New Quiz"})}),u.jsx(lh,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-6",children:[u.jsx(BJ,{form:s}),u.jsx(wZ,{form:s}),u.jsx($J,{form:s}),u.jsx(JJ,{form:s}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(St,{type:"reset",variant:"outline",onClick:()=>{c(),t(!1)},children:"Cancel"}),u.jsx(St,{type:"submit",disabled:i,children:i?"Submitting ....":n?"Update Quiz":"Add Quiz"})]})]})})]})})}const kZ=({quizId:e})=>{const{quizResult:t,isQuizResultLoading:n,qrCurrentPage:r,qrTotalPages:i}=Nn(a=>a.quiz),o=Qn(),s=a=>{o(cx({quizId:e,page:a}))};return P.useEffect(()=>{s(1)},[]),u.jsxs("div",{className:"bg-white rounded-md border",children:[n?u.jsx("div",{className:"text-center",children:"Loading..."}):u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Participant Name"}),u.jsx($e,{children:"Participant Mobile"}),u.jsx($e,{children:"Score"}),u.jsx($e,{children:"Time Taken"}),u.jsx($e,{children:"Started At"}),u.jsx($e,{children:"Submitted At"})]})}),u.jsx(cs,{children:t.length==0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:6,className:"text-center",children:"No Quiz Results Available."})}):t.map(a=>u.jsxs(Sn,{children:[u.jsx(Me,{children:a.userId.name}),u.jsx(Me,{children:a.userId.mobile}),u.jsx(Me,{children:a.score}),u.jsxs(Me,{children:[Math.floor(a.timeTaken/36e5)>0&&`${Math.floor(a.timeTaken/36e5)} hours `,Math.floor(a.timeTaken%36e5/6e4)," minutes"," ",(a.timeTaken%6e4/1e3).toFixed(0)," seconds"]}),u.jsx(Me,{children:a.startedAt?`${new Date(a.startedAt).toLocaleString()}`:"-"}),u.jsx(Me,{children:a.submittedAt?`${new Date(a.submittedAt).toLocaleString()}`:"-"})]},a._id))})]}),i>=1&&u.jsx(aa,{currentPage:r,totalPages:i,onPageChange:s})]})},OZ=()=>{const[e,t]=P.useState(""),{quizzes:n,isLoading:r,error:i,currentPage:o,totalPages:s}=Nn(y=>y.quiz),[a,c]=P.useState(!1),[l,f]=P.useState(""),p=Qn();P.useEffect(()=>{x(1)},[e]);const m=y=>{p(ax(y))},E=y=>{p(ox(y._id))},x=y=>{p(Rv({page:y,search:e}))};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search quizzes by title",value:e,onChange:y=>{t(y.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"border rounded-lg bg-white",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Title"}),u.jsx($e,{children:"Start Date"}),u.jsx($e,{children:"End Date"}),u.jsx($e,{children:"Duration (mins)"}),u.jsx($e,{children:"Price (₹)"}),u.jsx($e,{children:"Refer Bonus"}),u.jsx($e,{children:"Status"}),u.jsx($e,{children:"Actions"})]})}),u.jsx(cs,{children:Array.isArray(n)&&n.map((y,w)=>u.jsxs(Sn,{children:[u.jsx(Me,{children:y.title}),u.jsx(Me,{children:new Date(y.startDate).toLocaleDateString()}),u.jsx(Me,{children:new Date(y.endDate).toLocaleDateString()}),u.jsx(Me,{children:y.duration}),u.jsx(Me,{children:y.price?`₹${y.price}`:"Free"}),u.jsx(Me,{children:y==null?void 0:y.bonusPercent}),u.jsxs(Me,{children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${y.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.isActive?"Active":"InActive"}),new Date>new Date(y.endDate)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-80 ms-2",children:"Complete"}):new Date>=new Date(y.startDate)&&new Date<=new Date(y.endDate)?u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800 ms-2",children:"Running"}):u.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800 ms-2",children:"Upcoming"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>E(y),children:u.jsx(R6,{className:"h-4 w-4"})}),u.jsx(St,{variant:"ghost",size:"icon",className:y.isActive?"text-red-500":"text-green-500",onClick:()=>m(y._id),children:y.isActive?u.jsx(hd,{className:"h-4 w-4"}):u.jsx(wy,{className:"h-4 w-4"})})]}),new Date>=new Date(y.startDate)&&u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>{c(!0),f(y._id)},children:u.jsx(p6,{className:"h-4 w-4"})})]})]},y._id))})]})}),s>=1&&u.jsx(aa,{currentPage:o,totalPages:s,onPageChange:x}),u.jsx(Ol,{open:a,onOpenChange:c,children:u.jsxs(Oc,{className:"lg:max-w-[1300px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(Pc,{children:[u.jsx(Nc,{children:"Quiz Results"}),u.jsx(OJ,{})]}),u.jsx(kZ,{quizId:l})]})})]})},PZ=()=>{const[e,t]=P.useState(!1),n=Qn(),{currentQuiz:r}=Nn(o=>o.quiz);P.useEffect(()=>{n(Rv({page:1,search:""}))},[]);const i=()=>{n(CZ(null))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Quiz Management"}),u.jsxs(St,{onClick:()=>t(!0),children:[u.jsx(td,{className:"h-4 w-4 mr-2"}),"Add Quiz"]})]}),u.jsx(OZ,{}),u.jsx(RZ,{open:e||!!r,onOpenChange:o=>{i(),t(o)},editQuiz:r})]})},NZ={payments:[],isLoading:!1,error:null,totalPages:1,currentPage:1},lx=_t("fetchAllPayment",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(KM,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),IZ=os({name:"payment",initialState:NZ,reducers:{},extraReducers:e=>{e.addCase(lx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(lx.fulfilled,(t,n)=>{t.isLoading=!1,t.payments=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(lx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),jZ=IZ.reducer,AZ=()=>{const[e,t]=P.useState(""),{payments:n,currentPage:r,totalPages:i,isLoading:o}=Nn(c=>c.payment),s=Qn(),a=c=>{s(lx({page:c,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&a(1)},[e]),u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"space-y-1",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Payment Records"})})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search user by mobile",value:e,onChange:c=>{t(c.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Title"}),u.jsx($e,{children:"Label"}),u.jsx($e,{children:"Mobile"}),u.jsx($e,{children:"Amount"}),u.jsx($e,{children:"Purchase Date"}),u.jsx($e,{children:"Status"})]})}),u.jsx(cs,{children:n.map(c=>{var l,f;return u.jsxs(Sn,{children:[u.jsx(Me,{children:c.quizId?c.quizId.title:(l=c==null?void 0:c.courseId)==null?void 0:l.title}),u.jsx(Me,{children:c.quizId?"Quiz":"Course"}),u.jsx(Me,{children:(f=c==null?void 0:c.userId)==null?void 0:f.mobile}),u.jsxs(Me,{children:["₹",(c==null?void 0:c.amount)/100]}),u.jsx(Me,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(c.paymentDate).toLocaleDateString()}),u.jsx("span",{children:new Date(c.paymentDate).toLocaleTimeString()})]})}),u.jsx(Me,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${c.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":c.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:c==null?void 0:c.paymentStatus})})]},c._id)})})]})}),i>=1&&u.jsx(aa,{currentPage:r,totalPages:i,onPageChange:a})]})},qu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:nt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));qu.displayName="Card";const Ku=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:nt("flex flex-col space-y-1.5 p-6",e),...t}));Ku.displayName="CardHeader";const Yu=P.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:nt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yu.displayName="CardTitle";const DZ=P.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:nt("text-sm text-muted-foreground",e),...t}));DZ.displayName="CardDescription";const Qu=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:nt("p-6 pt-0",e),...t}));Qu.displayName="CardContent";const MZ=P.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:nt("flex items-center p-6 pt-0",e),...t}));MZ.displayName="CardFooter";const LZ=()=>{const{totalUser:e,activeQuiz:t,payment:n}=Nn(r=>r.auth);return u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs(qu,{children:[u.jsxs(Ku,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Yu,{className:"text-sm font-medium",children:"Total Revenue"}),u.jsx(jM,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Qu,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:["₹",n/100]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue from quiz and course purchases"})]})]}),u.jsxs(qu,{children:[u.jsxs(Ku,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Yu,{className:"text-sm font-medium",children:"Total Users"}),u.jsx(MM,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Qu,{children:[u.jsx("div",{className:"text-2xl font-bold",children:e}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),u.jsxs(qu,{children:[u.jsxs(Ku,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Yu,{className:"text-sm font-medium",children:"Active Quizzes"}),u.jsx(UT,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Qu,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Published quizzes"})]})]})]})},FZ={lessons:[],isLoading:!1,error:null,totalPages:1,currentPage:1},ux=_t("lesson/fetchlesson",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(H8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),kv=_t("lesson/addlesson",async({courseId:e,lessons:t},{rejectWithValue:n})=>{try{return(await pt.post(W8,{courseId:e,lessons:t})).data}catch(r){return n(r)}}),Ov=_t("lesson/updatelesson",async({id:e,courseData:t},{rejectWithValue:n})=>{try{return(await pt.put(`${G8}/${e}`,t)).data}catch(r){return n(r)}}),dx=_t("lesson/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await pt.post(q8,{lessonId:e})).data}catch(n){return t(n)}}),UZ=os({name:"lesson",initialState:FZ,reducers:{},extraReducers:e=>{e.addCase(ux.pending,t=>{t.isLoading=!0}).addCase(ux.fulfilled,(t,n)=>{t.isLoading=!1,t.lessons=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(ux.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message||"Failed to fetch courses"}).addCase(kv.pending,(t,n)=>{t.isLoading=!0}).addCase(kv.fulfilled,(t,n)=>{t.isLoading=!1,t.lessons.push(...n.payload),t.lessons.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(kv.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(Ov.pending,(t,n)=>{t.isLoading=!0}).addCase(Ov.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(Ov.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.lessons.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.lessons[r]=n.payload)}).addCase(dx.pending,(t,n)=>{}).addCase(dx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(dx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.lessons.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.lessons[r].isActive=!t.lessons[r].isActive)})}}),BZ=UZ.reducer;function E1(e,[t,n]){return Math.min(n,Math.max(t,e))}var $Z=[" ","Enter","ArrowUp","ArrowDown"],zZ=[" ","Enter"],zy="Select",[nw,rw,VZ]=E_(zy),[Om,Uce]=Rc(zy,[VZ,km]),iw=km(),[WZ,gd]=Om(zy),[HZ,GZ]=Om(zy),JU=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:l,name:f,autoComplete:p,disabled:m,required:E,form:x}=e,y=iw(t),[w,R]=P.useState(null),[_,C]=P.useState(null),[I,A]=P.useState(!1),U=Ry(l),[$=!1,V]=bl({prop:r,defaultProp:i,onChange:o}),[q,X]=bl({prop:s,defaultProp:a,onChange:c}),J=P.useRef(null),G=w?x||!!w.closest("form"):!0,[ee,ce]=P.useState(new Set),xe=Array.from(ee).map(Se=>Se.props.value).join(";");return u.jsx(fk,{...y,children:u.jsxs(WZ,{required:E,scope:t,trigger:w,onTriggerChange:R,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:I,onValueNodeHasChildrenChange:A,contentId:yc(),value:q,onValueChange:X,open:$,onOpenChange:V,dir:U,triggerPointerDownPosRef:J,disabled:m,children:[u.jsx(nw.Provider,{scope:t,children:u.jsx(HZ,{scope:e.__scopeSelect,onNativeOptionAdd:P.useCallback(Se=>{ce(ve=>new Set(ve).add(Se))},[]),onNativeOptionRemove:P.useCallback(Se=>{ce(ve=>{const Y=new Set(ve);return Y.delete(Se),Y})},[]),children:n})}),G?u.jsxs(w4,{"aria-hidden":!0,required:E,tabIndex:-1,name:f,autoComplete:p,value:q,onChange:Se=>X(Se.target.value),disabled:m,form:x,children:[q===void 0?u.jsx("option",{value:""}):null,Array.from(ee)]},xe):null]})})};JU.displayName=zy;var ZU="SelectTrigger",e4=P.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=iw(n),s=gd(ZU,n),a=s.disabled||r,c=xn(t,s.onTriggerChange),l=rw(n),f=P.useRef("touch"),[p,m,E]=E4(y=>{const w=l().filter(C=>!C.disabled),R=w.find(C=>C.value===s.value),_=C4(w,y,R);_!==void 0&&s.onValueChange(_.value)}),x=y=>{a||(s.onOpenChange(!0),E()),y&&(s.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(W_,{asChild:!0,...o,children:u.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_4(s.value)?"":void 0,...i,ref:c,onClick:Ke(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&x(y)}),onPointerDown:Ke(i.onPointerDown,y=>{f.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:Ke(i.onKeyDown,y=>{const w=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&$Z.includes(y.key)&&(x(),y.preventDefault())})})})});e4.displayName=ZU;var t4="SelectValue",n4=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,c=gd(t4,n),{onValueNodeHasChildrenChange:l}=c,f=o!==void 0,p=xn(t,c.onValueNodeChange);return Yi(()=>{l(f)},[l,f]),u.jsx(Pt.span,{...a,ref:p,style:{pointerEvents:"none"},children:_4(c.value)?u.jsx(u.Fragment,{children:s}):o})});n4.displayName=t4;var qZ="SelectIcon",r4=P.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return u.jsx(Pt.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});r4.displayName=qZ;var KZ="SelectPortal",i4=e=>u.jsx(_m,{asChild:!0,...e});i4.displayName=KZ;var eh="SelectContent",o4=P.forwardRef((e,t)=>{const n=gd(eh,e.__scopeSelect),[r,i]=P.useState();if(Yi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?sh.createPortal(u.jsx(s4,{scope:e.__scopeSelect,children:u.jsx(nw.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(a4,{...e,ref:t})});o4.displayName=eh;var Ca=10,[s4,vd]=Om(eh),YZ="SelectContentImpl",a4=P.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:l,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:E,sticky:x,hideWhenDetached:y,avoidCollisions:w,...R}=e,_=gd(eh,n),[C,I]=P.useState(null),[A,U]=P.useState(null),$=xn(t,Ye=>I(Ye)),[V,q]=P.useState(null),[X,J]=P.useState(null),G=rw(n),[ee,ce]=P.useState(!1),xe=P.useRef(!1);P.useEffect(()=>{if(C)return q_(C)},[C]),B_();const Se=P.useCallback(Ye=>{const[lt,...Ut]=G().map(qt=>qt.ref.current),[Jt]=Ut.slice(-1),Bt=document.activeElement;for(const qt of Ye)if(qt===Bt||(qt==null||qt.scrollIntoView({block:"nearest"}),qt===lt&&A&&(A.scrollTop=0),qt===Jt&&A&&(A.scrollTop=A.scrollHeight),qt==null||qt.focus(),document.activeElement!==Bt))return},[G,A]),ve=P.useCallback(()=>Se([V,C]),[Se,V,C]);P.useEffect(()=>{ee&&ve()},[ee,ve]);const{onOpenChange:Y,triggerPointerDownPosRef:Q}=_;P.useEffect(()=>{if(C){let Ye={x:0,y:0};const lt=Jt=>{var Bt,qt;Ye={x:Math.abs(Math.round(Jt.pageX)-(((Bt=Q.current)==null?void 0:Bt.x)??0)),y:Math.abs(Math.round(Jt.pageY)-(((qt=Q.current)==null?void 0:qt.y)??0))}},Ut=Jt=>{Ye.x<=10&&Ye.y<=10?Jt.preventDefault():C.contains(Jt.target)||Y(!1),document.removeEventListener("pointermove",lt),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",lt),document.addEventListener("pointerup",Ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",lt),document.removeEventListener("pointerup",Ut,{capture:!0})}}},[C,Y,Q]),P.useEffect(()=>{const Ye=()=>Y(!1);return window.addEventListener("blur",Ye),window.addEventListener("resize",Ye),()=>{window.removeEventListener("blur",Ye),window.removeEventListener("resize",Ye)}},[Y]);const[ne,fe]=E4(Ye=>{const lt=G().filter(Bt=>!Bt.disabled),Ut=lt.find(Bt=>Bt.ref.current===document.activeElement),Jt=C4(lt,Ye,Ut);Jt&&setTimeout(()=>Jt.ref.current.focus())}),Te=P.useCallback((Ye,lt,Ut)=>{const Jt=!xe.current&&!Ut;(_.value!==void 0&&_.value===lt||Jt)&&(q(Ye),Jt&&(xe.current=!0))},[_.value]),Ge=P.useCallback(()=>C==null?void 0:C.focus(),[C]),Fe=P.useCallback((Ye,lt,Ut)=>{const Jt=!xe.current&&!Ut;(_.value!==void 0&&_.value===lt||Jt)&&J(Ye)},[_.value]),bt=r==="popper"?C1:c4,Gt=bt===C1?{side:a,sideOffset:c,align:l,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:E,sticky:x,hideWhenDetached:y,avoidCollisions:w}:{};return u.jsx(s4,{scope:n,content:C,viewport:A,onViewportChange:U,itemRefCallback:Te,selectedItem:V,onItemLeave:Ge,itemTextRefCallback:Fe,focusSelectedItem:ve,selectedItemText:X,position:r,isPositioned:ee,searchRef:ne,children:u.jsx(Py,{as:Sc,allowPinchZoom:!0,children:u.jsx(ky,{asChild:!0,trapped:_.open,onMountAutoFocus:Ye=>{Ye.preventDefault()},onUnmountAutoFocus:Ke(i,Ye=>{var lt;(lt=_.trigger)==null||lt.focus({preventScroll:!0}),Ye.preventDefault()}),children:u.jsx(Sm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Ye=>Ye.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(bt,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Ye=>Ye.preventDefault(),...R,...Gt,onPlaced:()=>ce(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ke(R.onKeyDown,Ye=>{const lt=Ye.ctrlKey||Ye.altKey||Ye.metaKey;if(Ye.key==="Tab"&&Ye.preventDefault(),!lt&&Ye.key.length===1&&fe(Ye.key),["ArrowUp","ArrowDown","Home","End"].includes(Ye.key)){let Jt=G().filter(Bt=>!Bt.disabled).map(Bt=>Bt.ref.current);if(["ArrowUp","End"].includes(Ye.key)&&(Jt=Jt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ye.key)){const Bt=Ye.target,qt=Jt.indexOf(Bt);Jt=Jt.slice(qt+1)}setTimeout(()=>Se(Jt)),Ye.preventDefault()}})})})})})})});a4.displayName=YZ;var QZ="SelectItemAlignedPosition",c4=P.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=gd(eh,n),s=vd(eh,n),[a,c]=P.useState(null),[l,f]=P.useState(null),p=xn(t,$=>f($)),m=rw(n),E=P.useRef(!1),x=P.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:R,focusSelectedItem:_}=s,C=P.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&l&&y&&w&&R){const $=o.trigger.getBoundingClientRect(),V=l.getBoundingClientRect(),q=o.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(o.dir!=="rtl"){const Bt=X.left-V.left,qt=q.left-Bt,Un=$.left-qt,Xn=$.width+Un,ut=Math.max(Xn,V.width),jr=window.innerWidth-Ca,Li=E1(qt,[Ca,Math.max(Ca,jr-ut)]);a.style.minWidth=Xn+"px",a.style.left=Li+"px"}else{const Bt=V.right-X.right,qt=window.innerWidth-q.right-Bt,Un=window.innerWidth-$.right-qt,Xn=$.width+Un,ut=Math.max(Xn,V.width),jr=window.innerWidth-Ca,Li=E1(qt,[Ca,Math.max(Ca,jr-ut)]);a.style.minWidth=Xn+"px",a.style.right=Li+"px"}const J=m(),G=window.innerHeight-Ca*2,ee=y.scrollHeight,ce=window.getComputedStyle(l),xe=parseInt(ce.borderTopWidth,10),Se=parseInt(ce.paddingTop,10),ve=parseInt(ce.borderBottomWidth,10),Y=parseInt(ce.paddingBottom,10),Q=xe+Se+ee+Y+ve,ne=Math.min(w.offsetHeight*5,Q),fe=window.getComputedStyle(y),Te=parseInt(fe.paddingTop,10),Ge=parseInt(fe.paddingBottom,10),Fe=$.top+$.height/2-Ca,bt=G-Fe,Gt=w.offsetHeight/2,Ye=w.offsetTop+Gt,lt=xe+Se+Ye,Ut=Q-lt;if(lt<=Fe){const Bt=J.length>0&&w===J[J.length-1].ref.current;a.style.bottom="0px";const qt=l.clientHeight-y.offsetTop-y.offsetHeight,Un=Math.max(bt,Gt+(Bt?Ge:0)+qt+ve),Xn=lt+Un;a.style.height=Xn+"px"}else{const Bt=J.length>0&&w===J[0].ref.current;a.style.top="0px";const Un=Math.max(Fe,xe+y.offsetTop+(Bt?Te:0)+Gt)+Ut;a.style.height=Un+"px",y.scrollTop=lt-Fe+y.offsetTop}a.style.margin=`${Ca}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[m,o.trigger,o.valueNode,a,l,y,w,R,o.dir,r]);Yi(()=>C(),[C]);const[I,A]=P.useState();Yi(()=>{l&&A(window.getComputedStyle(l).zIndex)},[l]);const U=P.useCallback($=>{$&&x.current===!0&&(C(),_==null||_(),x.current=!1)},[C,_]);return u.jsx(JZ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:E,onScrollButtonChange:U,children:u.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(Pt.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});c4.displayName=QZ;var XZ="SelectPopperPosition",C1=P.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ca,...o}=e,s=iw(n);return u.jsx(hk,{...s,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});C1.displayName=XZ;var[JZ,tO]=Om(eh,{}),T1="SelectViewport",l4=P.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=vd(T1,n),s=tO(T1,n),a=xn(t,o.onViewportChange),c=P.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(nw.Slot,{scope:n,children:u.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,l=>{const f=l.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&p){const E=Math.abs(c.current-f.scrollTop);if(E>0){const x=window.innerHeight-Ca*2,y=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),R=Math.max(y,w);if(R<x){const _=R+E,C=Math.min(x,_),I=_-C;p.style.height=C+"px",p.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});l4.displayName=T1;var u4="SelectGroup",[ZZ,eee]=Om(u4),tee=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=yc();return u.jsx(ZZ,{scope:n,id:i,children:u.jsx(Pt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});tee.displayName=u4;var d4="SelectLabel",f4=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=eee(d4,n);return u.jsx(Pt.div,{id:i.id,...r,ref:t})});f4.displayName=d4;var QS="SelectItem",[nee,h4]=Om(QS),p4=P.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=gd(QS,n),c=vd(QS,n),l=a.value===r,[f,p]=P.useState(o??""),[m,E]=P.useState(!1),x=xn(t,_=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,_,r,i)}),y=yc(),w=P.useRef("touch"),R=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(nee,{scope:n,value:r,disabled:i,textId:y,isSelected:l,onItemTextChange:P.useCallback(_=>{p(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(nw.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:u.jsx(Pt.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":l&&m,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:x,onFocus:Ke(s.onFocus,()=>E(!0)),onBlur:Ke(s.onBlur,()=>E(!1)),onClick:Ke(s.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:Ke(s.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:Ke(s.onPointerDown,_=>{w.current=_.pointerType}),onPointerMove:Ke(s.onPointerMove,_=>{var C;w.current=_.pointerType,i?(C=c.onItemLeave)==null||C.call(c):w.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(s.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:Ke(s.onKeyDown,_=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(zZ.includes(_.key)&&R(),_.key===" "&&_.preventDefault())})})})})});p4.displayName=QS;var fv="SelectItemText",m4=P.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=gd(fv,n),a=vd(fv,n),c=h4(fv,n),l=GZ(fv,n),[f,p]=P.useState(null),m=xn(t,R=>p(R),c.onItemTextChange,R=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,R,c.value,c.disabled)}),E=f==null?void 0:f.textContent,x=P.useMemo(()=>u.jsx("option",{value:c.value,disabled:c.disabled,children:E},c.value),[c.disabled,c.value,E]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=l;return Yi(()=>(y(x),()=>w(x)),[y,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(Pt.span,{id:c.textId,...o,ref:m}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?sh.createPortal(o.children,s.valueNode):null]})});m4.displayName=fv;var g4="SelectItemIndicator",v4=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return h4(g4,n).isSelected?u.jsx(Pt.span,{"aria-hidden":!0,...r,ref:t}):null});v4.displayName=g4;var R1="SelectScrollUpButton",y4=P.forwardRef((e,t)=>{const n=vd(R1,e.__scopeSelect),r=tO(R1,e.__scopeSelect),[i,o]=P.useState(!1),s=xn(t,r.onScrollButtonChange);return Yi(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollTop>0;o(l)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(x4,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});y4.displayName=R1;var k1="SelectScrollDownButton",b4=P.forwardRef((e,t)=>{const n=vd(k1,e.__scopeSelect),r=tO(k1,e.__scopeSelect),[i,o]=P.useState(!1),s=xn(t,r.onScrollButtonChange);return Yi(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<l;o(f)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(x4,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});b4.displayName=k1;var x4=P.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=vd("SelectScrollButton",n),s=P.useRef(null),a=rw(n),c=P.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return P.useEffect(()=>()=>c(),[c]),Yi(()=>{var f;const l=a().find(p=>p.ref.current===document.activeElement);(f=l==null?void 0:l.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),u.jsx(Pt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ke(i.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{c()})})}),ree="SelectSeparator",S4=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(Pt.div,{"aria-hidden":!0,...r,ref:t})});S4.displayName=ree;var O1="SelectArrow",iee=P.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=iw(n),o=gd(O1,n),s=vd(O1,n);return o.open&&s.position==="popper"?u.jsx(pk,{...i,...r,ref:t}):null});iee.displayName=O1;function _4(e){return e===""||e===void 0}var w4=P.forwardRef((e,t)=>{const{value:n,...r}=e,i=P.useRef(null),o=xn(t,i),s=Xk(n);return P.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&f){const p=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(p)}},[s,n]),u.jsx(C_,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});w4.displayName="BubbleSelect";function E4(e){const t=zr(e),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(s=>{const a=n.current+s;t(a),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function C4(e,t,n){const i=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=oee(e,Math.max(o,0));i.length===1&&(s=s.filter(l=>l!==n));const c=s.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function oee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var see=JU,T4=e4,aee=n4,cee=r4,lee=i4,R4=o4,uee=l4,k4=f4,O4=p4,dee=m4,fee=v4,P4=y4,N4=b4,I4=S4;const Cf=see,Tf=aee,ju=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(T4,{ref:r,className:nt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(cee,{asChild:!0,children:u.jsx(O_,{className:"h-4 w-4 opacity-50"})})]}));ju.displayName=T4.displayName;const j4=P.forwardRef(({className:e,...t},n)=>u.jsx(P4,{ref:n,className:nt("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(g6,{className:"h-4 w-4"})}));j4.displayName=P4.displayName;const A4=P.forwardRef(({className:e,...t},n)=>u.jsx(N4,{ref:n,className:nt("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(O_,{className:"h-4 w-4"})}));A4.displayName=N4.displayName;const Au=P.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>u.jsx(lee,{children:u.jsxs(R4,{ref:i,className:nt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(j4,{}),u.jsx(uee,{className:nt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(A4,{})]})}));Au.displayName=R4.displayName;const hee=P.forwardRef(({className:e,...t},n)=>u.jsx(k4,{ref:n,className:nt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hee.displayName=k4.displayName;const Xo=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(O4,{ref:r,className:nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(fee,{children:u.jsx(wy,{className:"h-4 w-4"})})}),u.jsx(dee,{children:t})]}));Xo.displayName=O4.displayName;const pee=P.forwardRef(({className:e,...t},n)=>u.jsx(I4,{ref:n,className:nt("-mx-1 my-1 h-px bg-muted",e),...t}));pee.displayName=I4.displayName;const mee=k_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function D4({className:e,variant:t,...n}){return u.jsx("div",{className:nt(mee({variant:t}),e),...n})}function gee(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var nO="ScrollArea",[M4,Bce]=Rc(nO),[vee,ca]=M4(nO),L4=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,c]=P.useState(null),[l,f]=P.useState(null),[p,m]=P.useState(null),[E,x]=P.useState(null),[y,w]=P.useState(null),[R,_]=P.useState(0),[C,I]=P.useState(0),[A,U]=P.useState(!1),[$,V]=P.useState(!1),q=xn(t,J=>c(J)),X=Ry(i);return u.jsx(vee,{scope:n,type:r,dir:X,scrollHideDelay:o,scrollArea:a,viewport:l,onViewportChange:f,content:p,onContentChange:m,scrollbarX:E,onScrollbarXChange:x,scrollbarXEnabled:A,onScrollbarXEnabledChange:U,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:$,onScrollbarYEnabledChange:V,onCornerWidthChange:_,onCornerHeightChange:I,children:u.jsx(Pt.div,{dir:X,...s,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});L4.displayName=nO;var F4="ScrollAreaViewport",U4=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:o,...s}=e,a=ca(F4,n),c=P.useRef(null),l=xn(t,c,a.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),u.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Ree({asChild:i,children:r},f=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});U4.displayName=F4;var Ic="ScrollAreaScrollbar",rO=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ca(Ic,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return P.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?u.jsx(yee,{...r,ref:t,forceMount:n}):i.type==="scroll"?u.jsx(bee,{...r,ref:t,forceMount:n}):i.type==="auto"?u.jsx(B4,{...r,ref:t,forceMount:n}):i.type==="always"?u.jsx(iO,{...r,ref:t}):null});rO.displayName=Ic;var yee=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ca(Ic,e.__scopeScrollArea),[o,s]=P.useState(!1);return P.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const l=()=>{window.clearTimeout(c),s(!0)},f=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(uo,{present:n||o,children:u.jsx(B4,{"data-state":o?"visible":"hidden",...r,ref:t})})}),bee=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ca(Ic,e.__scopeScrollArea),o=e.orientation==="horizontal",s=sw(()=>c("SCROLL_END"),100),[a,c]=gee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,c]),P.useEffect(()=>{const l=i.viewport,f=o?"scrollLeft":"scrollTop";if(l){let p=l[f];const m=()=>{const E=l[f];p!==E&&(c("SCROLL"),s()),p=E};return l.addEventListener("scroll",m),()=>l.removeEventListener("scroll",m)}},[i.viewport,o,c,s]),u.jsx(uo,{present:n||a!=="hidden",children:u.jsx(iO,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ke(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ke(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),B4=P.forwardRef((e,t)=>{const n=ca(Ic,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=P.useState(!1),a=e.orientation==="horizontal",c=sw(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?l:f)}},10);return hm(n.viewport,c),hm(n.content,c),u.jsx(uo,{present:r||o,children:u.jsx(iO,{"data-state":o?"visible":"hidden",...i,ref:t})})}),iO=P.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ca(Ic,e.__scopeScrollArea),o=P.useRef(null),s=P.useRef(0),[a,c]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=H4(a.viewport,a.content),f={...r,sizes:a,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function p(m,E){return Cee(m,s.current,a,E)}return n==="horizontal"?u.jsx(xee,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollLeft,E=kI(m,a,i.dir);o.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=p(m,i.dir))}}):n==="vertical"?u.jsx(See,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const m=i.viewport.scrollTop,E=kI(m,a);o.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=p(m))}}):null}),xee=P.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=ca(Ic,e.__scopeScrollArea),[s,a]=P.useState(),c=P.useRef(null),l=xn(t,c,o.onScrollbarXChange);return P.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),u.jsx(z4,{"data-orientation":"horizontal",...i,ref:l,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ow(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),q4(m,p)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:JS(s.paddingLeft),paddingEnd:JS(s.paddingRight)}})}})}),See=P.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=ca(Ic,e.__scopeScrollArea),[s,a]=P.useState(),c=P.useRef(null),l=xn(t,c,o.onScrollbarYChange);return P.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),u.jsx(z4,{"data-orientation":"vertical",...i,ref:l,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ow(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),q4(m,p)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:JS(s.paddingTop),paddingEnd:JS(s.paddingBottom)}})}})}),[_ee,$4]=M4(Ic),z4=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:f,onResize:p,...m}=e,E=ca(Ic,n),[x,y]=P.useState(null),w=xn(t,q=>y(q)),R=P.useRef(null),_=P.useRef(""),C=E.viewport,I=r.content-r.viewport,A=zr(f),U=zr(c),$=sw(p,10);function V(q){if(R.current){const X=q.clientX-R.current.left,J=q.clientY-R.current.top;l({x:X,y:J})}}return P.useEffect(()=>{const q=X=>{const J=X.target;(x==null?void 0:x.contains(J))&&A(X,I)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[C,x,I,A]),P.useEffect(U,[r,U]),hm(x,$),hm(E.content,$),u.jsx(_ee,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:zr(o),onThumbPointerUp:zr(s),onThumbPositionChange:U,onThumbPointerDown:zr(a),children:u.jsx(Pt.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Ke(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),R.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),V(q))}),onPointerMove:Ke(e.onPointerMove,V),onPointerUp:Ke(e.onPointerUp,q=>{const X=q.target;X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=_.current,E.viewport&&(E.viewport.style.scrollBehavior=""),R.current=null})})})}),XS="ScrollAreaThumb",V4=P.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=$4(XS,e.__scopeScrollArea);return u.jsx(uo,{present:n||i.hasThumb,children:u.jsx(wee,{ref:t,...r})})}),wee=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=ca(XS,n),s=$4(XS,n),{onThumbPositionChange:a}=s,c=xn(t,p=>s.onThumbChange(p)),l=P.useRef(),f=sw(()=>{l.current&&(l.current(),l.current=void 0)},100);return P.useEffect(()=>{const p=o.viewport;if(p){const m=()=>{if(f(),!l.current){const E=Tee(p,a);l.current=E,a()}};return a(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[o.viewport,f,a]),u.jsx(Pt.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ke(e.onPointerDownCapture,p=>{const E=p.target.getBoundingClientRect(),x=p.clientX-E.left,y=p.clientY-E.top;s.onThumbPointerDown({x,y})}),onPointerUp:Ke(e.onPointerUp,s.onThumbPointerUp)})});V4.displayName=XS;var oO="ScrollAreaCorner",W4=P.forwardRef((e,t)=>{const n=ca(oO,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Eee,{...e,ref:t}):null});W4.displayName=oO;var Eee=P.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ca(oO,n),[o,s]=P.useState(0),[a,c]=P.useState(0),l=!!(o&&a);return hm(i.scrollbarX,()=>{var p;const f=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),hm(i.scrollbarY,()=>{var p;const f=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),l?u.jsx(Pt.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function JS(e){return e?parseInt(e,10):0}function H4(e,t){const n=e/t;return isNaN(n)?0:n}function ow(e){const t=H4(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Cee(e,t,n,r="ltr"){const i=ow(n),o=i/2,s=t||o,a=i-s,c=n.scrollbar.paddingStart+s,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,p=r==="ltr"?[0,f]:[f*-1,0];return G4([c,l],p)(e)}function kI(e,t,n="ltr"){const r=ow(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,s]:[s*-1,0],l=E1(e,c);return G4([0,s],[0,a])(l)}function G4(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function q4(e,t){return e>0&&e<t}var Tee=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function sw(e,t){const n=zr(e),r=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),P.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function hm(e,t){const n=zr(t);Yi(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}function Ree(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const i=P.Children.only(r);return P.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var K4=L4,kee=U4,Oee=W4;const Y4=P.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(K4,{ref:r,className:nt("relative overflow-hidden",e),...n,children:[u.jsx(kee,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(Q4,{}),u.jsx(Oee,{})]}));Y4.displayName=K4.displayName;const Q4=P.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(rO,{ref:r,orientation:t,className:nt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(V4,{className:"relative flex-1 rounded-full bg-border"})}));Q4.displayName=rO.displayName;const Pee=({lessons:e,currentIndex:t,setCurrentIndex:n,removeLesson:r})=>u.jsx(Y4,{className:"h-[60px] w-full ",children:u.jsx("div",{className:"flex gap-2 p-1  flex-wrap",children:e.map((i,o)=>u.jsxs(D4,{variant:t===o?"default":"secondary",className:"cursor-pointer whitespace-nowrap flex items-center ",onClick:()=>n(o),children:[i.title||`Lesson ${o+1}`,e.length>1&&u.jsx(hd,{className:"h-3 w-3 ml-1 inline-block",onClick:s=>{s.stopPropagation(),r(o)}})]},o))})});var sO="Switch",[Nee,$ce]=Rc(sO),[Iee,jee]=Nee(sO),X4=P.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:l,form:f,...p}=e,[m,E]=P.useState(null),x=xn(t,C=>E(C)),y=P.useRef(!1),w=m?f||!!m.closest("form"):!0,[R=!1,_]=bl({prop:i,defaultProp:o,onChange:l});return u.jsxs(Iee,{scope:n,checked:R,disabled:a,children:[u.jsx(Pt.button,{type:"button",role:"switch","aria-checked":R,"aria-required":s,"data-state":eB(R),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:x,onClick:Ke(e.onClick,C=>{_(I=>!I),w&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),w&&u.jsx(Aee,{control:m,bubbles:!y.current,name:r,value:c,checked:R,required:s,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});X4.displayName=sO;var J4="SwitchThumb",Z4=P.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=jee(J4,n);return u.jsx(Pt.span,{"data-state":eB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});Z4.displayName=J4;var Aee=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=P.useRef(null),s=Xk(n),a=lk(t);return P.useEffect(()=>{const c=o.current,l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eB(e){return e?"checked":"unchecked"}var tB=X4,Dee=Z4;const yd=P.forwardRef(({className:e,...t},n)=>u.jsx(tB,{className:nt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:u.jsx(Dee,{className:nt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yd.displayName=tB.displayName;const Mee=({lesson:e,updateLesson:t})=>u.jsxs("div",{className:"space-y-4 px-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"title",children:"Title"}),u.jsx(rn,{id:"title",value:e.title,onChange:n=>t({title:n.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"description",children:"Description"}),u.jsx(uh,{id:"description",value:e.description,onChange:n=>t({description:n.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"materialType",children:"Material Type"}),u.jsxs(Cf,{value:e.materialType,onValueChange:n=>t({materialType:n}),children:[u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select material type"})}),u.jsxs(Au,{children:[u.jsx(Xo,{value:"none",children:"None"}),u.jsx(Xo,{value:"pdf",children:"PDF"}),u.jsx(Xo,{value:"video",children:"Video"})]})]})]}),e.materialType!=="none"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"materialUrl",children:"Material URL"}),u.jsx(rn,{id:"materialUrl",value:e.materialUrl,onChange:n=>t({materialUrl:n.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(yd,{id:"isMaterial",checked:e.isMaterial,onCheckedChange:n=>t({isMaterial:n})}),u.jsx(bi,{htmlFor:"isMaterial",children:"Has Material"})]})]}),Lee={courses:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Bp=_t("courses/fetchCourses",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(M8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),fx=_t("courses/addCourse",async(e,{rejectWithValue:t})=>{try{return(await pt.post(D8,e)).data}catch(n){return t(n)}}),hx=_t("courses/updateCourse",async({id:e,courseData:t},{rejectWithValue:n})=>{try{return(await pt.put(`${L8}/${e}`,t)).data}catch(r){return n(r)}}),px=_t("courses/toggleStatus",async(e,{rejectWithValue:t})=>{try{return(await pt.post(F8,{courseId:e})).data}catch(n){return t(n)}}),Fee=os({name:"courses",initialState:Lee,reducers:{},extraReducers:e=>{e.addCase(Bp.pending,t=>{t.isLoading=!0}).addCase(Bp.fulfilled,(t,n)=>{t.isLoading=!1,t.courses=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(Bp.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message||"Failed to fetch courses"}).addCase(fx.pending,(t,n)=>{t.isLoading=!0}).addCase(fx.fulfilled,(t,n)=>{t.isLoading=!1,t.courses.push(n.payload),t.courses.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(fx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(hx.pending,(t,n)=>{t.isLoading=!0}).addCase(hx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(hx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.courses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.courses[r]=n.payload)}).addCase(px.pending,(t,n)=>{}).addCase(px.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(px.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.courses.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.courses[r].isActive=!t.courses[r].isActive)})}}),Uee=Fee.reducer,Bee={board:[],currentboard:null,isLoading:!1,error:null},mx=_t("createboard",async(e,{rejectWithValue:t})=>{try{return(await pt.post(C8,e)).data}catch(n){return t(n.response.data)}}),Uf=_t("getAllboard",async(e,{rejectWithValue:t})=>{try{return(await pt.get(R8)).data}catch(n){return t(n.response.data)}}),EC=_t("boardById",async(e,{rejectWithValue:t})=>{try{return(await pt.get(T8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),gx=_t("updataboard",async({_id:e,data:t},{rejectWithValue:n})=>{try{return(await pt.put(k8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),vx=_t("toggleboard",async(e,{rejectWithValue:t})=>{try{return(await pt.post(O8,e)).data}catch(n){return t(n.response.data)}}),$ee=os({name:"board",initialState:Bee,reducers:{},extraReducers:e=>{e.addCase(mx.pending,t=>{t.isLoading=!0}).addCase(mx.fulfilled,(t,n)=>{t.isLoading=!1,t.board.push(n.payload),t.board.sort((r,i)=>r.createdAt<i.createdAt?-1:1)}).addCase(mx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Uf.pending,t=>{t.isLoading=!0}).addCase(Uf.fulfilled,(t,n)=>{t.isLoading=!1,t.board=n.payload}).addCase(Uf.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(EC.pending,t=>{t.isLoading=!0}).addCase(EC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentboard=n.payload}).addCase(EC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(gx.pending,t=>{t.isLoading=!0}).addCase(gx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.board.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.board[r]=n.payload)}).addCase(gx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(vx.pending,t=>{t.isLoading=!0}).addCase(vx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.board.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.board[r].isActive=!t.board[r].isActive)}).addCase(vx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),zee=$ee.reducer,Vee=({isOpen:e,onClose:t})=>{const[n,r]=P.useState([{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]);console.log(n);const[i,o]=P.useState(0),[s,a]=P.useState(""),{toast:c}=kl(),l=Qn();P.useEffect(()=>{e&&(l(Bp({page:1,search:""})),l(fl()),l(Ff()),l(Uf()))},[e,l]);const{courses:f,standards:p,subjects:m}=Nn(C=>({courses:C.course.courses,standards:C.standard.standards,subjects:C.subject.subjects})),{board:E,isLoading:x}=Nn(C=>C.board),y=async C=>{C.preventDefault();try{const I=await l(kv({courseId:s,lessons:n}));if(kv.fulfilled.match(I))c({title:"Success",description:"Lessons added successfully"}),t();else throw new Error("Failed to save lessons")}catch(I){c({title:"Error",description:I.message||"Failed to save lessons",variant:"destructive"})}},w=()=>{r([...n,{title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:"",standard:"",subject:"",boardId:""}]),o(n.length)},R=C=>{const I=n.filter((A,U)=>U!==C);r(I),i>=C&&i>0&&o(i-1)},_=(C,I)=>{const A=n.map((U,$)=>$===C?{...U,...I}:U);r(A)};return u.jsx(Ol,{open:e,onOpenChange:t,children:u.jsxs(Oc,{className:"sm:max-w-[600px] max-h-[90vh] flex flex-col",children:[u.jsx(Pc,{children:u.jsx(Nc,{children:"Add New Lessons"})}),u.jsxs("div",{className:"space-y-4 mb-4 px-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"course",children:"Select Course"}),u.jsxs(Cf,{value:n[i].courseId||"",onValueChange:C=>_(i,{courseId:C}),children:[u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select a course"})}),u.jsx(Au,{children:f.map(C=>u.jsx(Xo,{value:C._id,children:C.title},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"standard",children:"Select Standard"}),u.jsxs(Cf,{value:n[i].standard||"",onValueChange:C=>_(i,{standard:C}),children:[u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select a standard"})}),u.jsx(Au,{children:p.map(C=>u.jsx(Xo,{value:C._id,children:C.std},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"subject",children:"Select Subject"}),u.jsxs(Cf,{value:n[i].subject||"",onValueChange:C=>_(i,{subject:C}),children:[u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select a subject"})}),u.jsx(Au,{children:m.map(C=>u.jsx(Xo,{value:C._id,children:C.subject},C._id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"board",children:"Select Board"}),u.jsxs(Cf,{value:n[i].boardId||"",onValueChange:C=>_(i,{boardId:C}),children:[u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select a board"})}),u.jsx(Au,{children:E==null?void 0:E.map(C=>u.jsx(Xo,{value:C._id,children:C.boardname},C._id))})]})]})]}),u.jsxs("div",{className:"flex gap-4 mb-4 px-2",children:[u.jsx(Pee,{lessons:n,currentIndex:i,setCurrentIndex:o,removeLesson:R}),u.jsx(St,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:u.jsx(td,{className:"h-4 w-4"})})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4 flex-1 overflow-y-auto",children:[u.jsx(Mee,{lesson:n[i],updateLesson:C=>_(i,C)}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(St,{variant:"outline",onClick:t,children:"Cancel"}),u.jsx(St,{type:"submit",children:"Add Lessons"})]})]})]})})},Wee=({isOpen:e,onClose:t,lesson:n})=>{const[r,i]=P.useState({title:"",description:"",materialType:"none",materialUrl:"",isMaterial:!1,courseId:""});P.useEffect(()=>{n&&i({title:n.title,description:n.description,materialType:n.materialType,materialUrl:n.materialUrl,isMaterial:n.isMaterial,courseId:n.courseId})},[n]);const{toast:o}=kl(),s=Qn(),a=c=>{c.preventDefault(),console.log(r,"edit data"),t();try{const l=s(Ov({id:n._id,courseData:r}));Ov.fulfilled.match(l)&&o({title:"Success",description:"Lesson updated successfully"})}catch(l){o({title:"Error",description:l.message||"Failed to update lesson",variant:"destructive"})}};return n?u.jsx(Ol,{open:e,onOpenChange:t,children:u.jsxs(Oc,{className:"sm:max-w-[425px]",children:[u.jsx(Pc,{children:u.jsx(Nc,{children:"Edit Lesson"})}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"title",children:"Title"}),u.jsx(rn,{id:"title",value:r.title,onChange:c=>i({...r,title:c.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"description",children:"Description"}),u.jsx(uh,{id:"description",value:r.description,onChange:c=>i({...r,description:c.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"materialType",children:"Material Type"}),u.jsxs(Cf,{value:r.materialType,onValueChange:c=>i({...r,materialType:c}),children:[u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select material type"})}),u.jsxs(Au,{children:[u.jsx(Xo,{value:"none",children:"None"}),u.jsx(Xo,{value:"pdf",children:"PDF"}),u.jsx(Xo,{value:"video",children:"Video"})]})]})]}),r.materialType!=="none"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"materialUrl",children:"Material URL"}),u.jsx(rn,{id:"materialUrl",value:r.materialUrl,onChange:c=>i({...r,materialUrl:c.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(yd,{id:"isMaterial",checked:r.isMaterial,onCheckedChange:c=>i({...r,isMaterial:c})}),u.jsx(bi,{htmlFor:"isMaterial",children:"Has Material"})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(St,{variant:"outline",onClick:t,children:"Cancel"}),u.jsx(St,{type:"submit",children:"Save Changes"})]})]})]})}):null},Hee=({lessons:e,onEdit:t})=>{const n=Qn(),r=i=>{n(dx(i))};return u.jsx("div",{className:"relative overflow-x-auto",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Title"}),u.jsx($e,{children:"Material Type"}),u.jsx($e,{children:"Status"}),u.jsx($e,{children:"Created At"}),u.jsx($e,{className:"text-right",children:"Actions"})]})}),u.jsx(cs,{children:e.map(i=>u.jsxs(Sn,{children:[u.jsx(Me,{className:"font-medium",children:i.title}),u.jsx(Me,{children:u.jsx(D4,{variant:i.materialType==="none"?"secondary":"default",children:i.materialType})}),u.jsx(Me,{children:u.jsx(yd,{checked:i.isActive,onCheckedChange:()=>{r(i._id)},className:"data-[state=checked]:bg-green-500"})}),u.jsx(Me,{children:new Date(i.createdAt).toLocaleDateString()}),u.jsx(Me,{className:"text-right",children:u.jsx(St,{variant:"ghost",size:"sm",onClick:()=>t(i),className:"hover:bg-gray-100",children:u.jsx(qR,{className:"h-4 w-4"})})})]},i._id))})]})})},Gee=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(!1),[i,o]=P.useState(null),[s,a]=P.useState(""),c=Qn(),{lessons:l,isLoading:f,currentPage:p,totalPages:m}=Nn(y=>y.lesson);P.useEffect(()=>{E(1)},[s]);const E=y=>{c(ux({page:y,search:s}))},x=y=>{o(y),r(!0)};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lessons"}),u.jsxs(St,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[u.jsx(td,{className:"h-4 w-4"}),"Add Lesson"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search lesson by title",value:s,onChange:y=>{a(y.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsx(Hee,{lessons:l,onEdit:x})}),u.jsx(Vee,{isOpen:e,onClose:()=>t(!1)}),u.jsx(Wee,{isOpen:n,onClose:()=>r(!1),lesson:i}),m>=1&&u.jsx(aa,{currentPage:p,totalPages:m,onPageChange:E})]})},qee=Lf({title:Dn().min(1,"Title is required"),description:Dn().min(10,"Description must be at least 10 characters"),price:Mf().min(0,"Price must be 0 or greater"),duration:Dn().min(1,"Duration is required"),features:Gu(Dn().min(1,"Feature cannot be empty")),thumbnail:Dn().url("Must be a valid URL"),standard:Dn().min(1,"Standard is required"),subject:Dn().min(1,"Subject is required"),boardId:Dn().min(1,"Board is required"),skillLevel:gZ(["Beginner","Intermediate","Advanced"]),lessons:Gu(Dn()),isActive:KS(),bookPDF:Gu(Dn().url("Must be a valid URL")).optional(),bonusPercent:Mf().min(0,"Price must be 0 or greater").optional()});function Kee({initialData:e,onSubmit:t,onCancel:n}){const{standards:r,isLoading:i}=Nn(_=>_.standard),{subjects:o,isLoading:s}=Nn(_=>_.subject),{board:a,isLoading:c}=Nn(_=>_.board),l=Qn();P.useEffect(()=>{l(fl()),l(Uf()),f("")},[]);const f=_=>{l(Ff(_))},p=pd({resolver:$y(qee),defaultValues:{title:"",description:"",price:0,duration:"",features:[""],thumbnail:"",standard:"",subject:"",boardId:"",skillLevel:"Beginner",lessons:[],isActive:!0,bookPDF:[],bonusPercent:0}}),{fields:m,append:E,remove:x}=dI({control:p.control,name:"features"}),{fields:y,append:w,remove:R}=dI({control:p.control,name:"bookPDF"});return P.useEffect(()=>{e?Object.keys(e).forEach(_=>{_==="standard"||_==="subject"?p.setValue(_,e[_]._id):_==="bookPDF"?p.setValue(_,e[_]||[]):p.setValue(_,e[_])}):(p.clearErrors(),p.reset())},[e,p]),u.jsx(lh,{...p,children:u.jsxs("form",{onSubmit:p.handleSubmit(t),className:"space-y-6",children:[u.jsx(Xt,{control:p.control,name:"title",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Course title",..._})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"description",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Description"}),u.jsx(vn,{children:u.jsx(uh,{placeholder:"Course description",..._})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:p.control,name:"price",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Price"}),u.jsx(vn,{children:u.jsx(rn,{type:"number",placeholder:"0",..._,onChange:C=>_.onChange(Number(C.target.value))})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"duration",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Duration"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"e.g., 2 months",..._})}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:p.control,name:"thumbnail",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Thumbnail URL"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"https://...",..._})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:p.control,name:"standard",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select standard",name:"standard",control:p.control,onSearch:()=>{},listing:r.map(C=>({id:C._id,label:C.std})),onItemSelect:C=>f(C)}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"subject",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Subject"}),s?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select subject",name:"subject",control:p.control,onSearch:()=>{},listing:o.map(C=>{var I;return{id:C._id,label:C.standard?C.subject+" - "+((I=C.standard)==null?void 0:I.std):C.subject}}),onItemSelect:C=>{}}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:p.control,name:"boardId",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Board"}),c?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select board",name:"boardId",control:p.control,onSearch:()=>{},listing:a.map(C=>({id:C._id,label:C.boardname})),onItemSelect:C=>{console.log("Selected board ID:",C)}}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"bonusPercent",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Refer Bonus Percentage"}),u.jsx(vn,{children:u.jsx(rn,{type:"number",placeholder:"Enter refer bonus percentage",..._,onChange:C=>_.onChange(Number(C.target.value))})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"skillLevel",render:({field:_})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Skill Level"}),u.jsxs(Cf,{onValueChange:_.onChange,defaultValue:_.value,children:[u.jsx(vn,{children:u.jsx(ju,{children:u.jsx(Tf,{placeholder:"Select skill level"})})}),u.jsxs(Au,{children:[u.jsx(Xo,{value:"Beginner",children:"Beginner"}),u.jsx(Xo,{value:"Intermediate",children:"Intermediate"}),u.jsx(Xo,{value:"Advanced",children:"Advanced"})]})]}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"features",render:()=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Features"}),m.map((_,C)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vn,{children:u.jsx(rn,{...p.register(`features.${C}`),placeholder:"Feature"})}),u.jsx(St,{type:"button",variant:"outline",onClick:()=>x(C),children:"Remove"})]},_.id)),u.jsx(St,{type:"button",variant:"outline",onClick:()=>E(""),className:"mt-2",children:"Add Feature"}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:p.control,name:"bookPDF",render:()=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Book PDF Links (Optional)"}),y.map((_,C)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vn,{children:u.jsx(rn,{...p.register(`bookPDF.${C}`),placeholder:"PDF Link"})}),u.jsx(St,{type:"button",variant:"outline",onClick:()=>R(C),children:"Remove"})]},_.id)),u.jsx(St,{type:"button",variant:"outline",onClick:()=>w(""),className:"mt-2",children:"Add PDF Link"}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(St,{variant:"outline",onClick:n,children:"Cancel"}),u.jsx(St,{type:"submit",children:e?"Update Course":"Add Course"})]})]})})}function Yee({open:e,onClose:t,course:n,onSubmit:r}){return u.jsx(Ol,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(Oc,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[u.jsx(Pc,{children:u.jsx(Nc,{children:n?"Edit Course":"Add New Course"})}),u.jsx(Kee,{initialData:n,onSubmit:r,onCancel:t})]})})}const Qee=()=>{const e=Qn(),{toast:t}=kl(),[n,r]=P.useState(!1),[i,o]=P.useState(),[s,a]=P.useState(""),{courses:c,isLoading:l,currentPage:f,totalPages:p}=Nn(_=>_.course);P.useEffect(()=>{R(1)},[s]);const m=()=>{o(void 0),r(!0)},E=_=>{o(_),r(!0)},x=()=>{r(!1),o(void 0)},y=_=>{i?e(hx({id:i._id,courseData:_})).then(C=>{C.type=="courses/updateCourse/fulfilled"&&(t({title:"Success",description:"Course updated successfully."}),x())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})}):e(fx(_)).then(C=>{C.type=="courses/addCourse/fulfilled"&&(t({title:"Success",description:"Course added successfully"}),x())}).catch(C=>{t({title:"Error",description:"Failed to save course",variant:"destructive"})})},w=_=>{e(px(_._id))},R=_=>{e(Bp({page:_,search:s}))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Courses"}),u.jsxs(St,{onClick:m,children:[u.jsx(td,{className:"mr-2 h-4 w-4"})," Add Course"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search courses by title",value:s,onChange:_=>{a(_.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Title"}),u.jsx($e,{children:"Subject"}),u.jsx($e,{children:"Standard"}),u.jsx($e,{children:"Price (₹)"}),u.jsx($e,{children:"Refer Bonus"}),u.jsx($e,{children:"Skill Level"}),u.jsx($e,{children:"Status"}),u.jsx($e,{className:"text-right",children:"Actions"})]})}),u.jsx(cs,{children:l?u.jsx(Sn,{children:u.jsx(Me,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):c.length===0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:7,className:"text-center py-10",children:"No courses found"})}):c.map(_=>u.jsxs(Sn,{children:[u.jsx(Me,{className:"font-medium",children:_.title}),u.jsx(Me,{children:_.subject?_.subject.subject:"-"}),u.jsx(Me,{children:_.standard?_.standard.std:"-"}),u.jsx(Me,{children:_.price===0?"Free":`₹${_.price}`}),u.jsx(Me,{children:_==null?void 0:_.bonusPercent}),u.jsx(Me,{children:_.skillLevel}),u.jsx(Me,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),u.jsxs(Me,{className:"text-right",children:[u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>E(_),children:u.jsx(AM,{className:"h-4 w-4"})}),u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.isActive?u.jsx(hd,{className:"h-4 w-4"}):u.jsx(wy,{className:"h-4 w-4"})})]})]},_._id))})]})}),p>=1&&u.jsx(aa,{currentPage:f,totalPages:p,onPageChange:R}),u.jsx(Yee,{open:n,onClose:x,course:i,onSubmit:y})]})};var Xee=function(t){return Jee(t)&&!Zee(t)};function Jee(e){return!!e&&typeof e=="object"}function Zee(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||nte(e)}var ete=typeof Symbol=="function"&&Symbol.for,tte=ete?Symbol.for("react.element"):60103;function nte(e){return e.$$typeof===tte}function rte(e){return Array.isArray(e)?[]:{}}function ZS(e,t){return t.clone!==!1&&t.isMergeableObject(e)?hy(rte(e),e,t):e}function ite(e,t,n){return e.concat(t).map(function(r){return ZS(r,n)})}function ote(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=ZS(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=ZS(t[i],n):r[i]=hy(e[i],t[i],n)}),r}function hy(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||ite,n.isMergeableObject=n.isMergeableObject||Xee;var r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):ote(e,t,n):ZS(t,n)}hy.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return hy(r,i,n)},{})};var P1=hy,nB=typeof global=="object"&&global&&global.Object===Object&&global,ste=typeof self=="object"&&self&&self.Object===Object&&self,jc=nB||ste||Function("return this")(),cd=jc.Symbol,rB=Object.prototype,ate=rB.hasOwnProperty,cte=rB.toString,nv=cd?cd.toStringTag:void 0;function lte(e){var t=ate.call(e,nv),n=e[nv];try{e[nv]=void 0;var r=!0}catch{}var i=cte.call(e);return r&&(t?e[nv]=n:delete e[nv]),i}var ute=Object.prototype,dte=ute.toString;function fte(e){return dte.call(e)}var hte="[object Null]",pte="[object Undefined]",OI=cd?cd.toStringTag:void 0;function dh(e){return e==null?e===void 0?pte:hte:OI&&OI in Object(e)?lte(e):fte(e)}function iB(e,t){return function(n){return e(t(n))}}var aO=iB(Object.getPrototypeOf,Object);function fh(e){return e!=null&&typeof e=="object"}var mte="[object Object]",gte=Function.prototype,vte=Object.prototype,oB=gte.toString,yte=vte.hasOwnProperty,bte=oB.call(Object);function PI(e){if(!fh(e)||dh(e)!=mte)return!1;var t=aO(e);if(t===null)return!0;var n=yte.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&oB.call(n)==bte}function xte(){this.__data__=[],this.size=0}function sB(e,t){return e===t||e!==e&&t!==t}function aw(e,t){for(var n=e.length;n--;)if(sB(e[n][0],t))return n;return-1}var Ste=Array.prototype,_te=Ste.splice;function wte(e){var t=this.__data__,n=aw(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_te.call(t,n,1),--this.size,!0}function Ete(e){var t=this.__data__,n=aw(t,e);return n<0?void 0:t[n][1]}function Cte(e){return aw(this.__data__,e)>-1}function Tte(e,t){var n=this.__data__,r=aw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Pl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Pl.prototype.clear=xte;Pl.prototype.delete=wte;Pl.prototype.get=Ete;Pl.prototype.has=Cte;Pl.prototype.set=Tte;function Rte(){this.__data__=new Pl,this.size=0}function kte(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ote(e){return this.__data__.get(e)}function Pte(e){return this.__data__.has(e)}function Vy(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nte="[object AsyncFunction]",Ite="[object Function]",jte="[object GeneratorFunction]",Ate="[object Proxy]";function aB(e){if(!Vy(e))return!1;var t=dh(e);return t==Ite||t==jte||t==Nte||t==Ate}var CC=jc["__core-js_shared__"],NI=function(){var e=/[^.]+$/.exec(CC&&CC.keys&&CC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dte(e){return!!NI&&NI in e}var Mte=Function.prototype,Lte=Mte.toString;function hh(e){if(e!=null){try{return Lte.call(e)}catch{}try{return e+""}catch{}}return""}var Fte=/[\\^$.*+?()[\]{}|]/g,Ute=/^\[object .+?Constructor\]$/,Bte=Function.prototype,$te=Object.prototype,zte=Bte.toString,Vte=$te.hasOwnProperty,Wte=RegExp("^"+zte.call(Vte).replace(Fte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hte(e){if(!Vy(e)||Dte(e))return!1;var t=aB(e)?Wte:Ute;return t.test(hh(e))}function Gte(e,t){return e==null?void 0:e[t]}function ph(e,t){var n=Gte(e,t);return Hte(n)?n:void 0}var py=ph(jc,"Map"),my=ph(Object,"create");function qte(){this.__data__=my?my(null):{},this.size=0}function Kte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yte="__lodash_hash_undefined__",Qte=Object.prototype,Xte=Qte.hasOwnProperty;function Jte(e){var t=this.__data__;if(my){var n=t[e];return n===Yte?void 0:n}return Xte.call(t,e)?t[e]:void 0}var Zte=Object.prototype,ene=Zte.hasOwnProperty;function tne(e){var t=this.__data__;return my?t[e]!==void 0:ene.call(t,e)}var nne="__lodash_hash_undefined__";function rne(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=my&&t===void 0?nne:t,this}function th(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}th.prototype.clear=qte;th.prototype.delete=Kte;th.prototype.get=Jte;th.prototype.has=tne;th.prototype.set=rne;function ine(){this.size=0,this.__data__={hash:new th,map:new(py||Pl),string:new th}}function one(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function cw(e,t){var n=e.__data__;return one(t)?n[typeof t=="string"?"string":"hash"]:n.map}function sne(e){var t=cw(this,e).delete(e);return this.size-=t?1:0,t}function ane(e){return cw(this,e).get(e)}function cne(e){return cw(this,e).has(e)}function lne(e,t){var n=cw(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function bd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bd.prototype.clear=ine;bd.prototype.delete=sne;bd.prototype.get=ane;bd.prototype.has=cne;bd.prototype.set=lne;var une=200;function dne(e,t){var n=this.__data__;if(n instanceof Pl){var r=n.__data__;if(!py||r.length<une-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new bd(r)}return n.set(e,t),this.size=n.size,this}function Pm(e){var t=this.__data__=new Pl(e);this.size=t.size}Pm.prototype.clear=Rte;Pm.prototype.delete=kte;Pm.prototype.get=Ote;Pm.prototype.has=Pte;Pm.prototype.set=dne;function fne(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var II=function(){try{var e=ph(Object,"defineProperty");return e({},"",{}),e}catch{}}();function cB(e,t,n){t=="__proto__"&&II?II(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var hne=Object.prototype,pne=hne.hasOwnProperty;function lB(e,t,n){var r=e[t];(!(pne.call(e,t)&&sB(r,n))||n===void 0&&!(t in e))&&cB(e,t,n)}function lw(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;c===void 0&&(c=e[a]),i?cB(n,a,c):lB(n,a,c)}return n}function mne(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gne="[object Arguments]";function jI(e){return fh(e)&&dh(e)==gne}var uB=Object.prototype,vne=uB.hasOwnProperty,yne=uB.propertyIsEnumerable,bne=jI(function(){return arguments}())?jI:function(e){return fh(e)&&vne.call(e,"callee")&&!yne.call(e,"callee")},Wy=Array.isArray;function xne(){return!1}var dB=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,AI=dB&&typeof Rs=="object"&&Rs&&!Rs.nodeType&&Rs,Sne=AI&&AI.exports===dB,DI=Sne?jc.Buffer:void 0,_ne=DI?DI.isBuffer:void 0,fB=_ne||xne,wne=9007199254740991,Ene=/^(?:0|[1-9]\d*)$/;function Cne(e,t){var n=typeof e;return t=t??wne,!!t&&(n=="number"||n!="symbol"&&Ene.test(e))&&e>-1&&e%1==0&&e<t}var Tne=9007199254740991;function hB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tne}var Rne="[object Arguments]",kne="[object Array]",One="[object Boolean]",Pne="[object Date]",Nne="[object Error]",Ine="[object Function]",jne="[object Map]",Ane="[object Number]",Dne="[object Object]",Mne="[object RegExp]",Lne="[object Set]",Fne="[object String]",Une="[object WeakMap]",Bne="[object ArrayBuffer]",$ne="[object DataView]",zne="[object Float32Array]",Vne="[object Float64Array]",Wne="[object Int8Array]",Hne="[object Int16Array]",Gne="[object Int32Array]",qne="[object Uint8Array]",Kne="[object Uint8ClampedArray]",Yne="[object Uint16Array]",Qne="[object Uint32Array]",Rr={};Rr[zne]=Rr[Vne]=Rr[Wne]=Rr[Hne]=Rr[Gne]=Rr[qne]=Rr[Kne]=Rr[Yne]=Rr[Qne]=!0;Rr[Rne]=Rr[kne]=Rr[Bne]=Rr[One]=Rr[$ne]=Rr[Pne]=Rr[Nne]=Rr[Ine]=Rr[jne]=Rr[Ane]=Rr[Dne]=Rr[Mne]=Rr[Lne]=Rr[Fne]=Rr[Une]=!1;function Xne(e){return fh(e)&&hB(e.length)&&!!Rr[dh(e)]}function cO(e){return function(t){return e(t)}}var pB=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,Pv=pB&&typeof Rs=="object"&&Rs&&!Rs.nodeType&&Rs,Jne=Pv&&Pv.exports===pB,TC=Jne&&nB.process,pm=function(){try{var e=Pv&&Pv.require&&Pv.require("util").types;return e||TC&&TC.binding&&TC.binding("util")}catch{}}(),MI=pm&&pm.isTypedArray,Zne=MI?cO(MI):Xne,ere=Object.prototype,tre=ere.hasOwnProperty;function mB(e,t){var n=Wy(e),r=!n&&bne(e),i=!n&&!r&&fB(e),o=!n&&!r&&!i&&Zne(e),s=n||r||i||o,a=s?mne(e.length,String):[],c=a.length;for(var l in e)(t||tre.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Cne(l,c)))&&a.push(l);return a}var nre=Object.prototype;function lO(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||nre;return e===n}var rre=iB(Object.keys,Object),ire=Object.prototype,ore=ire.hasOwnProperty;function sre(e){if(!lO(e))return rre(e);var t=[];for(var n in Object(e))ore.call(e,n)&&n!="constructor"&&t.push(n);return t}function gB(e){return e!=null&&hB(e.length)&&!aB(e)}function uO(e){return gB(e)?mB(e):sre(e)}function are(e,t){return e&&lw(t,uO(t),e)}function cre(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var lre=Object.prototype,ure=lre.hasOwnProperty;function dre(e){if(!Vy(e))return cre(e);var t=lO(e),n=[];for(var r in e)r=="constructor"&&(t||!ure.call(e,r))||n.push(r);return n}function dO(e){return gB(e)?mB(e,!0):dre(e)}function fre(e,t){return e&&lw(t,dO(t),e)}var vB=typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,LI=vB&&typeof Rs=="object"&&Rs&&!Rs.nodeType&&Rs,hre=LI&&LI.exports===vB,FI=hre?jc.Buffer:void 0,UI=FI?FI.allocUnsafe:void 0;function pre(e,t){if(t)return e.slice();var n=e.length,r=UI?UI(n):new e.constructor(n);return e.copy(r),r}function yB(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function mre(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function bB(){return[]}var gre=Object.prototype,vre=gre.propertyIsEnumerable,BI=Object.getOwnPropertySymbols,fO=BI?function(e){return e==null?[]:(e=Object(e),mre(BI(e),function(t){return vre.call(e,t)}))}:bB;function yre(e,t){return lw(e,fO(e),t)}function xB(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var bre=Object.getOwnPropertySymbols,SB=bre?function(e){for(var t=[];e;)xB(t,fO(e)),e=aO(e);return t}:bB;function xre(e,t){return lw(e,SB(e),t)}function _B(e,t,n){var r=t(e);return Wy(e)?r:xB(r,n(e))}function Sre(e){return _B(e,uO,fO)}function _re(e){return _B(e,dO,SB)}var N1=ph(jc,"DataView"),I1=ph(jc,"Promise"),j1=ph(jc,"Set"),A1=ph(jc,"WeakMap"),$I="[object Map]",wre="[object Object]",zI="[object Promise]",VI="[object Set]",WI="[object WeakMap]",HI="[object DataView]",Ere=hh(N1),Cre=hh(py),Tre=hh(I1),Rre=hh(j1),kre=hh(A1),il=dh;(N1&&il(new N1(new ArrayBuffer(1)))!=HI||py&&il(new py)!=$I||I1&&il(I1.resolve())!=zI||j1&&il(new j1)!=VI||A1&&il(new A1)!=WI)&&(il=function(e){var t=dh(e),n=t==wre?e.constructor:void 0,r=n?hh(n):"";if(r)switch(r){case Ere:return HI;case Cre:return $I;case Tre:return zI;case Rre:return VI;case kre:return WI}return t});var Ore=Object.prototype,Pre=Ore.hasOwnProperty;function Nre(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Pre.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var GI=jc.Uint8Array;function hO(e){var t=new e.constructor(e.byteLength);return new GI(t).set(new GI(e)),t}function Ire(e,t){var n=t?hO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var jre=/\w*$/;function Are(e){var t=new e.constructor(e.source,jre.exec(e));return t.lastIndex=e.lastIndex,t}var qI=cd?cd.prototype:void 0,KI=qI?qI.valueOf:void 0;function Dre(e){return KI?Object(KI.call(e)):{}}function Mre(e,t){var n=t?hO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Lre="[object Boolean]",Fre="[object Date]",Ure="[object Map]",Bre="[object Number]",$re="[object RegExp]",zre="[object Set]",Vre="[object String]",Wre="[object Symbol]",Hre="[object ArrayBuffer]",Gre="[object DataView]",qre="[object Float32Array]",Kre="[object Float64Array]",Yre="[object Int8Array]",Qre="[object Int16Array]",Xre="[object Int32Array]",Jre="[object Uint8Array]",Zre="[object Uint8ClampedArray]",eie="[object Uint16Array]",tie="[object Uint32Array]";function nie(e,t,n){var r=e.constructor;switch(t){case Hre:return hO(e);case Lre:case Fre:return new r(+e);case Gre:return Ire(e,n);case qre:case Kre:case Yre:case Qre:case Xre:case Jre:case Zre:case eie:case tie:return Mre(e,n);case Ure:return new r;case Bre:case Vre:return new r(e);case $re:return Are(e);case zre:return new r;case Wre:return Dre(e)}}var YI=Object.create,rie=function(){function e(){}return function(t){if(!Vy(t))return{};if(YI)return YI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function iie(e){return typeof e.constructor=="function"&&!lO(e)?rie(aO(e)):{}}var oie="[object Map]";function sie(e){return fh(e)&&il(e)==oie}var QI=pm&&pm.isMap,aie=QI?cO(QI):sie,cie="[object Set]";function lie(e){return fh(e)&&il(e)==cie}var XI=pm&&pm.isSet,uie=XI?cO(XI):lie,die=1,fie=2,hie=4,wB="[object Arguments]",pie="[object Array]",mie="[object Boolean]",gie="[object Date]",vie="[object Error]",EB="[object Function]",yie="[object GeneratorFunction]",bie="[object Map]",xie="[object Number]",CB="[object Object]",Sie="[object RegExp]",_ie="[object Set]",wie="[object String]",Eie="[object Symbol]",Cie="[object WeakMap]",Tie="[object ArrayBuffer]",Rie="[object DataView]",kie="[object Float32Array]",Oie="[object Float64Array]",Pie="[object Int8Array]",Nie="[object Int16Array]",Iie="[object Int32Array]",jie="[object Uint8Array]",Aie="[object Uint8ClampedArray]",Die="[object Uint16Array]",Mie="[object Uint32Array]",yr={};yr[wB]=yr[pie]=yr[Tie]=yr[Rie]=yr[mie]=yr[gie]=yr[kie]=yr[Oie]=yr[Pie]=yr[Nie]=yr[Iie]=yr[bie]=yr[xie]=yr[CB]=yr[Sie]=yr[_ie]=yr[wie]=yr[Eie]=yr[jie]=yr[Aie]=yr[Die]=yr[Mie]=!0;yr[vie]=yr[EB]=yr[Cie]=!1;function Nv(e,t,n,r,i,o){var s,a=t&die,c=t&fie,l=t&hie;if(s!==void 0)return s;if(!Vy(e))return e;var f=Wy(e);if(f){if(s=Nre(e),!a)return yB(e,s)}else{var p=il(e),m=p==EB||p==yie;if(fB(e))return pre(e,a);if(p==CB||p==wB||m&&!i){if(s=c||m?{}:iie(e),!a)return c?xre(e,fre(s,e)):yre(e,are(s,e))}else{if(!yr[p])return i?e:{};s=nie(e,p,a)}}o||(o=new Pm);var E=o.get(e);if(E)return E;o.set(e,s),uie(e)?e.forEach(function(w){s.add(Nv(w,t,n,w,e,o))}):aie(e)&&e.forEach(function(w,R){s.set(R,Nv(w,t,n,R,e,o))});var x=l?c?_re:Sre:c?dO:uO,y=f?void 0:x(e);return fne(y||e,function(w,R){y&&(R=w,w=e[R]),lB(s,R,Nv(w,t,n,R,e,o))}),s}var Lie=1,Fie=4;function hv(e){return Nv(e,Lie|Fie)}var JI=Array.isArray,ZI=Object.keys,Uie=Object.prototype.hasOwnProperty,Bie=typeof Element<"u";function D1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=JI(e),r=JI(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!D1(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,c=t instanceof Date;if(a!=c)return!1;if(a&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,f=t instanceof RegExp;if(l!=f)return!1;if(l&&f)return e.toString()==t.toString();var p=ZI(e);if(o=p.length,o!==ZI(t).length)return!1;for(i=o;i--!==0;)if(!Uie.call(t,p[i]))return!1;if(Bie&&e instanceof Element&&t instanceof Element)return e===t;for(i=o;i--!==0;)if(s=p[i],!(s==="_owner"&&e.$$typeof)&&!D1(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var $ie=function(t,n){try{return D1(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const xu=rh($ie);var zie=4;function ej(e){return Nv(e,zie)}function TB(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Vie="[object Symbol]";function pO(e){return typeof e=="symbol"||fh(e)&&dh(e)==Vie}var Wie="Expected a function";function mO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Wie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(mO.Cache||bd),n}mO.Cache=bd;var Hie=500;function Gie(e){var t=mO(e,function(r){return n.size===Hie&&n.clear(),r}),n=t.cache;return t}var qie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kie=/\\(\\)?/g,Yie=Gie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qie,function(n,r,i,o){t.push(i?o.replace(Kie,"$1"):r||n)}),t}),Qie=1/0;function Xie(e){if(typeof e=="string"||pO(e))return e;var t=e+"";return t=="0"&&1/e==-Qie?"-0":t}var Jie=1/0,tj=cd?cd.prototype:void 0,nj=tj?tj.toString:void 0;function RB(e){if(typeof e=="string")return e;if(Wy(e))return TB(e,RB)+"";if(pO(e))return nj?nj.call(e):"";var t=e+"";return t=="0"&&1/e==-Jie?"-0":t}function Zie(e){return e==null?"":RB(e)}function kB(e){return Wy(e)?TB(e,Xie):pO(e)?[e]:yB(Yie(Zie(e)))}var OB={exports:{}},ir={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=typeof Symbol=="function"&&Symbol.for,gO=Mi?Symbol.for("react.element"):60103,vO=Mi?Symbol.for("react.portal"):60106,uw=Mi?Symbol.for("react.fragment"):60107,dw=Mi?Symbol.for("react.strict_mode"):60108,fw=Mi?Symbol.for("react.profiler"):60114,hw=Mi?Symbol.for("react.provider"):60109,pw=Mi?Symbol.for("react.context"):60110,yO=Mi?Symbol.for("react.async_mode"):60111,mw=Mi?Symbol.for("react.concurrent_mode"):60111,gw=Mi?Symbol.for("react.forward_ref"):60112,vw=Mi?Symbol.for("react.suspense"):60113,eoe=Mi?Symbol.for("react.suspense_list"):60120,yw=Mi?Symbol.for("react.memo"):60115,bw=Mi?Symbol.for("react.lazy"):60116,toe=Mi?Symbol.for("react.block"):60121,noe=Mi?Symbol.for("react.fundamental"):60117,roe=Mi?Symbol.for("react.responder"):60118,ioe=Mi?Symbol.for("react.scope"):60119;function Ls(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gO:switch(e=e.type,e){case yO:case mw:case uw:case fw:case dw:case vw:return e;default:switch(e=e&&e.$$typeof,e){case pw:case gw:case bw:case yw:case hw:return e;default:return t}}case vO:return t}}}function PB(e){return Ls(e)===mw}ir.AsyncMode=yO;ir.ConcurrentMode=mw;ir.ContextConsumer=pw;ir.ContextProvider=hw;ir.Element=gO;ir.ForwardRef=gw;ir.Fragment=uw;ir.Lazy=bw;ir.Memo=yw;ir.Portal=vO;ir.Profiler=fw;ir.StrictMode=dw;ir.Suspense=vw;ir.isAsyncMode=function(e){return PB(e)||Ls(e)===yO};ir.isConcurrentMode=PB;ir.isContextConsumer=function(e){return Ls(e)===pw};ir.isContextProvider=function(e){return Ls(e)===hw};ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gO};ir.isForwardRef=function(e){return Ls(e)===gw};ir.isFragment=function(e){return Ls(e)===uw};ir.isLazy=function(e){return Ls(e)===bw};ir.isMemo=function(e){return Ls(e)===yw};ir.isPortal=function(e){return Ls(e)===vO};ir.isProfiler=function(e){return Ls(e)===fw};ir.isStrictMode=function(e){return Ls(e)===dw};ir.isSuspense=function(e){return Ls(e)===vw};ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===uw||e===mw||e===fw||e===dw||e===vw||e===eoe||typeof e=="object"&&e!==null&&(e.$$typeof===bw||e.$$typeof===yw||e.$$typeof===hw||e.$$typeof===pw||e.$$typeof===gw||e.$$typeof===noe||e.$$typeof===roe||e.$$typeof===ioe||e.$$typeof===toe)};ir.typeOf=Ls;OB.exports=ir;var ooe=OB.exports,bO=ooe,soe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aoe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},coe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xO={};xO[bO.ForwardRef]=coe;xO[bO.Memo]=NB;function rj(e){return bO.isMemo(e)?NB:xO[e.$$typeof]||soe}var loe=Object.defineProperty,uoe=Object.getOwnPropertyNames,ij=Object.getOwnPropertySymbols,doe=Object.getOwnPropertyDescriptor,foe=Object.getPrototypeOf,oj=Object.prototype;function IB(e,t,n){if(typeof t!="string"){if(oj){var r=foe(t);r&&r!==oj&&IB(e,r,n)}var i=uoe(t);ij&&(i=i.concat(ij(t)));for(var o=rj(e),s=rj(t),a=0;a<i.length;++a){var c=i[a];if(!aoe[c]&&!(n&&n[c])&&!(s&&s[c])&&!(o&&o[c])){var l=doe(t,c);try{loe(e,c,l)}catch{}}}}return e}var hoe=IB;const poe=rh(hoe);function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}function jB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Du(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function sj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xw=P.createContext(void 0);xw.displayName="FormikContext";var moe=xw.Provider,goe=xw.Consumer;function AB(){var e=P.useContext(xw);return e}var aj=function(t){return Array.isArray(t)&&t.length===0},Gi=function(t){return typeof t=="function"},Hy=function(t){return t!==null&&typeof t=="object"},voe=function(t){return String(Math.floor(Number(t)))===t},RC=function(t){return Object.prototype.toString.call(t)==="[object String]"},DB=function(t){return P.Children.count(t)===0},kC=function(t){return Hy(t)&&Gi(t.then)};function Nr(e,t,n,r){r===void 0&&(r=0);for(var i=kB(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function xc(e,t,n){for(var r=ej(e),i=r,o=0,s=kB(t);o<s.length-1;o++){var a=s[o],c=Nr(e,s.slice(0,o+1));if(c&&(Hy(c)||Array.isArray(c)))i=i[a]=ej(c);else{var l=s[o+1];i=i[a]=voe(l)&&Number(l)>=0?[]:{}}}return(o===0?e:i)[s[o]]===n?e:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function MB(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(e);i<o.length;i++){var s=o[i],a=e[s];Hy(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},MB(a,t,n,r[s])):r[s]=t}return r}function yoe(e,t){switch(t.type){case"SET_VALUES":return nr({},e,{values:t.payload});case"SET_TOUCHED":return nr({},e,{touched:t.payload});case"SET_ERRORS":return xu(e.errors,t.payload)?e:nr({},e,{errors:t.payload});case"SET_STATUS":return nr({},e,{status:t.payload});case"SET_ISSUBMITTING":return nr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return nr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return nr({},e,{values:xc(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return nr({},e,{touched:xc(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return nr({},e,{errors:xc(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return nr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return nr({},e,{touched:MB(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return nr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return nr({},e,{isSubmitting:!1});default:return e}}var pf={},_b={};function boe(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,o=e.validateOnMount,s=o===void 0?!1:o,a=e.isInitialValid,c=e.enableReinitialize,l=c===void 0?!1:c,f=e.onSubmit,p=Du(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=nr({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:f},p),E=P.useRef(m.initialValues),x=P.useRef(m.initialErrors||pf),y=P.useRef(m.initialTouched||_b),w=P.useRef(m.initialStatus),R=P.useRef(!1),_=P.useRef({});P.useEffect(function(){return R.current=!0,function(){R.current=!1}},[]);var C=P.useState(0),I=C[1],A=P.useRef({values:hv(m.initialValues),errors:hv(m.initialErrors)||pf,touched:hv(m.initialTouched)||_b,status:hv(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),U=A.current,$=P.useCallback(function(re){var de=A.current;A.current=yoe(de,re),de!==A.current&&I(function(Re){return Re+1})},[]),V=P.useCallback(function(re,de){return new Promise(function(Re,De){var rt=m.validate(re,de);rt==null?Re(pf):kC(rt)?rt.then(function(wt){Re(wt||pf)},function(wt){De(wt)}):Re(rt)})},[m.validate]),q=P.useCallback(function(re,de){var Re=m.validationSchema,De=Gi(Re)?Re(de):Re,rt=de&&De.validateAt?De.validateAt(de,re):_oe(re,De);return new Promise(function(wt,_n){rt.then(function(){wt(pf)},function(Qr){Qr.name==="ValidationError"?wt(Soe(Qr)):_n(Qr)})})},[m.validationSchema]),X=P.useCallback(function(re,de){return new Promise(function(Re){return Re(_.current[re].validate(de))})},[]),J=P.useCallback(function(re){var de=Object.keys(_.current).filter(function(De){return Gi(_.current[De].validate)}),Re=de.length>0?de.map(function(De){return X(De,Nr(re,De))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Re).then(function(De){return De.reduce(function(rt,wt,_n){return wt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||wt&&(rt=xc(rt,de[_n],wt)),rt},{})})},[X]),G=P.useCallback(function(re){return Promise.all([J(re),m.validationSchema?q(re):{},m.validate?V(re):{}]).then(function(de){var Re=de[0],De=de[1],rt=de[2],wt=P1.all([Re,De,rt],{arrayMerge:woe});return wt})},[m.validate,m.validationSchema,J,V,q]),ee=Ys(function(re){return re===void 0&&(re=U.values),$({type:"SET_ISVALIDATING",payload:!0}),G(re).then(function(de){return R.current&&($({type:"SET_ISVALIDATING",payload:!1}),$({type:"SET_ERRORS",payload:de})),de})});P.useEffect(function(){s&&R.current===!0&&xu(E.current,m.initialValues)&&ee(E.current)},[s,ee]);var ce=P.useCallback(function(re){var de=re&&re.values?re.values:E.current,Re=re&&re.errors?re.errors:x.current?x.current:m.initialErrors||{},De=re&&re.touched?re.touched:y.current?y.current:m.initialTouched||{},rt=re&&re.status?re.status:w.current?w.current:m.initialStatus;E.current=de,x.current=Re,y.current=De,w.current=rt;var wt=function(){$({type:"RESET_FORM",payload:{isSubmitting:!!re&&!!re.isSubmitting,errors:Re,touched:De,status:rt,values:de,isValidating:!!re&&!!re.isValidating,submitCount:re&&re.submitCount&&typeof re.submitCount=="number"?re.submitCount:0}})};if(m.onReset){var _n=m.onReset(U.values,Un);kC(_n)?_n.then(wt):wt()}else wt()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);P.useEffect(function(){R.current===!0&&!xu(E.current,m.initialValues)&&l&&(E.current=m.initialValues,ce(),s&&ee(E.current))},[l,m.initialValues,ce,s,ee]),P.useEffect(function(){l&&R.current===!0&&!xu(x.current,m.initialErrors)&&(x.current=m.initialErrors||pf,$({type:"SET_ERRORS",payload:m.initialErrors||pf}))},[l,m.initialErrors]),P.useEffect(function(){l&&R.current===!0&&!xu(y.current,m.initialTouched)&&(y.current=m.initialTouched||_b,$({type:"SET_TOUCHED",payload:m.initialTouched||_b}))},[l,m.initialTouched]),P.useEffect(function(){l&&R.current===!0&&!xu(w.current,m.initialStatus)&&(w.current=m.initialStatus,$({type:"SET_STATUS",payload:m.initialStatus}))},[l,m.initialStatus,m.initialTouched]);var xe=Ys(function(re){if(_.current[re]&&Gi(_.current[re].validate)){var de=Nr(U.values,re),Re=_.current[re].validate(de);return kC(Re)?($({type:"SET_ISVALIDATING",payload:!0}),Re.then(function(De){return De}).then(function(De){$({type:"SET_FIELD_ERROR",payload:{field:re,value:De}}),$({type:"SET_ISVALIDATING",payload:!1})})):($({type:"SET_FIELD_ERROR",payload:{field:re,value:Re}}),Promise.resolve(Re))}else if(m.validationSchema)return $({type:"SET_ISVALIDATING",payload:!0}),q(U.values,re).then(function(De){return De}).then(function(De){$({type:"SET_FIELD_ERROR",payload:{field:re,value:Nr(De,re)}}),$({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Se=P.useCallback(function(re,de){var Re=de.validate;_.current[re]={validate:Re}},[]),ve=P.useCallback(function(re){delete _.current[re]},[]),Y=Ys(function(re,de){$({type:"SET_TOUCHED",payload:re});var Re=de===void 0?i:de;return Re?ee(U.values):Promise.resolve()}),Q=P.useCallback(function(re){$({type:"SET_ERRORS",payload:re})},[]),ne=Ys(function(re,de){var Re=Gi(re)?re(U.values):re;$({type:"SET_VALUES",payload:Re});var De=de===void 0?n:de;return De?ee(Re):Promise.resolve()}),fe=P.useCallback(function(re,de){$({type:"SET_FIELD_ERROR",payload:{field:re,value:de}})},[]),Te=Ys(function(re,de,Re){$({type:"SET_FIELD_VALUE",payload:{field:re,value:de}});var De=Re===void 0?n:Re;return De?ee(xc(U.values,re,de)):Promise.resolve()}),Ge=P.useCallback(function(re,de){var Re=de,De=re,rt;if(!RC(re)){re.persist&&re.persist();var wt=re.target?re.target:re.currentTarget,_n=wt.type,Qr=wt.name,fi=wt.id,fo=wt.value,Tn=wt.checked,kn=wt.outerHTML,Fs=wt.options,$a=wt.multiple;Re=de||Qr||fi,De=/number|range/.test(_n)?(rt=parseFloat(fo),isNaN(rt)?"":rt):/checkbox/.test(_n)?Coe(Nr(U.values,Re),Tn,fo):Fs&&$a?Eoe(Fs):fo}Re&&Te(Re,De)},[Te,U.values]),Fe=Ys(function(re){if(RC(re))return function(de){return Ge(de,re)};Ge(re)}),bt=Ys(function(re,de,Re){de===void 0&&(de=!0),$({type:"SET_FIELD_TOUCHED",payload:{field:re,value:de}});var De=Re===void 0?i:Re;return De?ee(U.values):Promise.resolve()}),Gt=P.useCallback(function(re,de){re.persist&&re.persist();var Re=re.target,De=Re.name,rt=Re.id,wt=Re.outerHTML,_n=de||De||rt;bt(_n,!0)},[bt]),Ye=Ys(function(re){if(RC(re))return function(de){return Gt(de,re)};Gt(re)}),lt=P.useCallback(function(re){Gi(re)?$({type:"SET_FORMIK_STATE",payload:re}):$({type:"SET_FORMIK_STATE",payload:function(){return re}})},[]),Ut=P.useCallback(function(re){$({type:"SET_STATUS",payload:re})},[]),Jt=P.useCallback(function(re){$({type:"SET_ISSUBMITTING",payload:re})},[]),Bt=Ys(function(){return $({type:"SUBMIT_ATTEMPT"}),ee().then(function(re){var de=re instanceof Error,Re=!de&&Object.keys(re).length===0;if(Re){var De;try{if(De=Xn(),De===void 0)return}catch(rt){throw rt}return Promise.resolve(De).then(function(rt){return R.current&&$({type:"SUBMIT_SUCCESS"}),rt}).catch(function(rt){if(R.current)throw $({type:"SUBMIT_FAILURE"}),rt})}else if(R.current&&($({type:"SUBMIT_FAILURE"}),de))throw re})}),qt=Ys(function(re){re&&re.preventDefault&&Gi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Gi(re.stopPropagation)&&re.stopPropagation(),Bt().catch(function(de){console.warn("Warning: An unhandled error was caught from submitForm()",de)})}),Un={resetForm:ce,validateForm:ee,validateField:xe,setErrors:Q,setFieldError:fe,setFieldTouched:bt,setFieldValue:Te,setStatus:Ut,setSubmitting:Jt,setTouched:Y,setValues:ne,setFormikState:lt,submitForm:Bt},Xn=Ys(function(){return f(U.values,Un)}),ut=Ys(function(re){re&&re.preventDefault&&Gi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Gi(re.stopPropagation)&&re.stopPropagation(),ce()}),jr=P.useCallback(function(re){return{value:Nr(U.values,re),error:Nr(U.errors,re),touched:!!Nr(U.touched,re),initialValue:Nr(E.current,re),initialTouched:!!Nr(y.current,re),initialError:Nr(x.current,re)}},[U.errors,U.touched,U.values]),Li=P.useCallback(function(re){return{setValue:function(Re,De){return Te(re,Re,De)},setTouched:function(Re,De){return bt(re,Re,De)},setError:function(Re){return fe(re,Re)}}},[Te,bt,fe]),Z=P.useCallback(function(re){var de=Hy(re),Re=de?re.name:re,De=Nr(U.values,Re),rt={name:Re,value:De,onChange:Fe,onBlur:Ye};if(de){var wt=re.type,_n=re.value,Qr=re.as,fi=re.multiple;wt==="checkbox"?_n===void 0?rt.checked=!!De:(rt.checked=!!(Array.isArray(De)&&~De.indexOf(_n)),rt.value=_n):wt==="radio"?(rt.checked=De===_n,rt.value=_n):Qr==="select"&&fi&&(rt.value=rt.value||[],rt.multiple=!0)}return rt},[Ye,Fe,U.values]),pe=P.useMemo(function(){return!xu(E.current,U.values)},[E.current,U.values]),Ce=P.useMemo(function(){return typeof a<"u"?pe?U.errors&&Object.keys(U.errors).length===0:a!==!1&&Gi(a)?a(m):a:U.errors&&Object.keys(U.errors).length===0},[a,pe,U.errors,m]),Qe=nr({},U,{initialValues:E.current,initialErrors:x.current,initialTouched:y.current,initialStatus:w.current,handleBlur:Ye,handleChange:Fe,handleReset:ut,handleSubmit:qt,resetForm:ce,setErrors:Q,setFormikState:lt,setFieldTouched:bt,setFieldValue:Te,setFieldError:fe,setStatus:Ut,setSubmitting:Jt,setTouched:Y,setValues:ne,submitForm:Bt,validateForm:ee,validateField:xe,isValid:Ce,dirty:pe,unregisterField:ve,registerField:Se,getFieldProps:Z,getFieldMeta:jr,getFieldHelpers:Li,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return Qe}function xoe(e){var t=boe(e),n=e.component,r=e.children,i=e.render,o=e.innerRef;return P.useImperativeHandle(o,function(){return t}),P.createElement(moe,{value:t},n?P.createElement(n,t):i?i(t):r?Gi(r)?r(t):DB(r)?null:P.Children.only(r):null)}function Soe(e){var t={};if(e.inner){if(e.inner.length===0)return xc(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Nr(t,s.path)||(t=xc(t,s.path,s.message))}}return t}function _oe(e,t,n,r){n===void 0&&(n=!1);var i=M1(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function M1(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||PI(i)?M1(i):i!==""?i:void 0}):PI(e[r])?t[r]=M1(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function woe(e,t,n){var r=e.slice();return t.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,c=a&&n.isMergeableObject(o);r[s]=c?P1(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=P1(e[s],o,n):e.indexOf(o)===-1&&r.push(o)}),r}function Eoe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Coe(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,o=-1;if(Array.isArray(e))r=e,o=e.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var Toe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function Ys(e){var t=P.useRef(e);return Toe(function(){t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function cj(e){var t=e.validate,n=e.name,r=e.render,i=e.children,o=e.as,s=e.component,a=e.className,c=Du(e,["validate","name","render","children","as","component","className"]),l=AB(),f=Du(l,["validate","validationSchema"]),p=f.registerField,m=f.unregisterField;P.useEffect(function(){return p(n,{validate:t}),function(){m(n)}},[p,m,n,t]);var E=f.getFieldProps(nr({name:n},c)),x=f.getFieldMeta(n),y={field:E,form:f};if(r)return r(nr({},y,{meta:x}));if(Gi(i))return i(nr({},y,{meta:x}));if(s){if(typeof s=="string"){var w=c.innerRef,R=Du(c,["innerRef"]);return P.createElement(s,nr({ref:w},E,R,{className:a}),i)}return P.createElement(s,nr({field:E,form:f},c,{className:a}),i)}var _=o||"input";if(typeof _=="string"){var C=c.innerRef,I=Du(c,["innerRef"]);return P.createElement(_,nr({ref:C},E,I,{className:a}),i)}return P.createElement(_,nr({},E,c,{className:a}),i)}var LB=P.forwardRef(function(e,t){var n=e.action,r=Du(e,["action"]),i=n??"#",o=AB(),s=o.handleReset,a=o.handleSubmit;return P.createElement("form",nr({onSubmit:a,ref:t,onReset:s,action:i},r))});LB.displayName="Form";function Roe(e){var t=function(i){return P.createElement(goe,null,function(o){return P.createElement(e,nr({},i,{formik:o}))})},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",poe(t,e)}var koe=function(t,n,r){var i=nh(t),o=i[n];return i.splice(n,1),i.splice(r,0,o),i},Ooe=function(t,n,r){var i=nh(t),o=i[n];return i[n]=i[r],i[r]=o,i},OC=function(t,n,r){var i=nh(t);return i.splice(n,0,r),i},Poe=function(t,n,r){var i=nh(t);return i[n]=r,i},nh=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(nr({},t,{length:n+1}))}else return[]},lj=function(t,n){var r=typeof t=="function"?t:n;return function(i){if(Array.isArray(i)||Hy(i)){var o=nh(i);return r(o)}return i}},Noe=function(e){jB(t,e);function t(r){var i;return i=e.call(this,r)||this,i.updateArrayField=function(o,s,a){var c=i.props,l=c.name,f=c.formik.setFormikState;f(function(p){var m=lj(a,o),E=lj(s,o),x=xc(p.values,l,o(Nr(p.values,l))),y=a?m(Nr(p.errors,l)):void 0,w=s?E(Nr(p.touched,l)):void 0;return aj(y)&&(y=void 0),aj(w)&&(w=void 0),nr({},p,{values:x,errors:a?xc(p.errors,l,y):p.errors,touched:s?xc(p.touched,l,w):p.touched})})},i.push=function(o){return i.updateArrayField(function(s){return[].concat(nh(s),[hv(o)])},!1,!1)},i.handlePush=function(o){return function(){return i.push(o)}},i.swap=function(o,s){return i.updateArrayField(function(a){return Ooe(a,o,s)},!0,!0)},i.handleSwap=function(o,s){return function(){return i.swap(o,s)}},i.move=function(o,s){return i.updateArrayField(function(a){return koe(a,o,s)},!0,!0)},i.handleMove=function(o,s){return function(){return i.move(o,s)}},i.insert=function(o,s){return i.updateArrayField(function(a){return OC(a,o,s)},function(a){return OC(a,o,null)},function(a){return OC(a,o,null)})},i.handleInsert=function(o,s){return function(){return i.insert(o,s)}},i.replace=function(o,s){return i.updateArrayField(function(a){return Poe(a,o,s)},!1,!1)},i.handleReplace=function(o,s){return function(){return i.replace(o,s)}},i.unshift=function(o){var s=-1;return i.updateArrayField(function(a){var c=a?[o].concat(a):[o];return s=c.length,c},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),s},i.handleUnshift=function(o){return function(){return i.unshift(o)}},i.handleRemove=function(o){return function(){return i.remove(o)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(sj(i)),i.pop=i.pop.bind(sj(i)),i}var n=t.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!xu(Nr(i.formik.values,i.name),Nr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var o;return this.updateArrayField(function(s){var a=s?nh(s):[];return o||(o=a[i]),Gi(a.splice)&&a.splice(i,1),Gi(a.every)&&a.every(function(c){return c===void 0})?[]:a},!0,!0),o},n.pop=function(){var i;return this.updateArrayField(function(o){var s=o.slice();return i||(i=s&&s.pop&&s.pop()),s},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,s=o.component,a=o.render,c=o.children,l=o.name,f=o.formik,p=Du(f,["validate","validationSchema"]),m=nr({},i,{form:p,name:l});return s?P.createElement(s,m):a?a(m):c?typeof c=="function"?c(m):DB(c)?null:P.Children.only(c):null},t}(P.Component);Noe.defaultProps={validateOnChange:!0};var Ioe=function(e){jB(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(i){return Nr(this.props.formik.errors,this.props.name)!==Nr(i.formik.errors,this.props.name)||Nr(this.props.formik.touched,this.props.name)!==Nr(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,o=i.component,s=i.formik,a=i.render,c=i.children,l=i.name,f=Du(i,["component","formik","render","children","name"]),p=Nr(s.touched,l),m=Nr(s.errors,l);return p&&m?a?Gi(a)?a(m):null:c?Gi(c)?c(m):null:o?P.createElement(o,f,m):m:null},t}(P.Component),joe=Roe(Ioe);function mh(e){this._maxSize=e,this.clear()}mh.prototype.clear=function(){this._size=0,this._values=Object.create(null)};mh.prototype.get=function(e){return this._values[e]};mh.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Aoe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,FB=/^\d+$/,Doe=/^\d/,Moe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Loe=/^\s*(['"]?)(.*?)(\1)\s*$/,SO=512,uj=new mh(SO),dj=new mh(SO),fj=new mh(SO),Bf={Cache:mh,split:L1,normalizePath:PC,setter:function(e){var t=PC(e);return dj.get(e)||dj.set(e,function(r,i){for(var o=0,s=t.length,a=r;o<s-1;){var c=t[o];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[t[o++]]}a[t[o]]=i})},getter:function(e,t){var n=PC(e);return fj.get(e)||fj.set(e,function(i){for(var o=0,s=n.length;o<s;)if(i!=null||!t)i=i[n[o++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(_O(n)||FB.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){Foe(Array.isArray(e)?e:L1(e),t,n)}};function PC(e){return uj.get(e)||uj.set(e,L1(e).map(function(t){return t.replace(Loe,"$2")}))}function L1(e){return e.match(Aoe)||[""]}function Foe(e,t,n){var r=e.length,i,o,s,a;for(o=0;o<r;o++)i=e[o],i&&($oe(i)&&(i='"'+i+'"'),a=_O(i),s=!a&&/^\d+$/.test(i),t.call(n,i,a,s,o,e))}function _O(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function Uoe(e){return e.match(Doe)&&!e.match(FB)}function Boe(e){return Moe.test(e)}function $oe(e){return!_O(e)&&(Uoe(e)||Boe(e))}const zoe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Sw=e=>e.match(zoe)||[],_w=e=>e[0].toUpperCase()+e.slice(1),wO=(e,t)=>Sw(e).join(t).toLowerCase(),UB=e=>Sw(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Voe=e=>_w(UB(e)),Woe=e=>wO(e,"_"),Hoe=e=>wO(e,"-"),Goe=e=>_w(wO(e," ")),qoe=e=>Sw(e).map(_w).join(" ");var NC={words:Sw,upperFirst:_w,camelCase:UB,pascalCase:Voe,snakeCase:Woe,kebabCase:Hoe,sentenceCase:Goe,titleCase:qoe},EO={exports:{}};EO.exports=function(e){return BB(Koe(e),e)};EO.exports.array=BB;function BB(e,t){var n=e.length,r=new Array(n),i={},o=n,s=Yoe(t),a=Qoe(e);for(t.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||c(e[o],o,new Set);return r;function c(l,f,p){if(p.has(l)){var m;try{m=", node was:"+JSON.stringify(l)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[f]){i[f]=!0;var E=s.get(l)||new Set;if(E=Array.from(E),f=E.length){p.add(l);do{var x=E[--f];c(x,a.get(x),p)}while(f);p.delete(l)}r[--n]=l}}}function Koe(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function Yoe(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function Qoe(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var Xoe=EO.exports;const Joe=rh(Xoe),Zoe=Object.prototype.toString,ese=Error.prototype.toString,tse=RegExp.prototype.toString,nse=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",rse=/^Symbol\((.*)\)(.*)$/;function ise(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function hj(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return ise(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return nse.call(e).replace(rse,"Symbol($1)");const r=Zoe.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+ese.call(e)+"]":r==="RegExp"?tse.call(e):null}function Xu(e,t){let n=hj(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let o=hj(this[r],t);return o!==null?o:i},2)}function $B(e){return e==null?[]:[].concat(e)}let zB,VB,WB,ose=/\$\{\s*(\w+)\s*\}/g;zB=Symbol.toStringTag;class pj{constructor(t,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[zB]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],$B(t).forEach(o=>{if(qo.isError(o)){this.errors.push(...o.errors);const s=o.inner.length?o.inner:[o];this.inner.push(...s)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}VB=Symbol.hasInstance;WB=Symbol.toStringTag;class qo extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(ose,(i,o)=>Xu(n[o])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i,o){const s=new pj(t,n,r,i);if(o)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[WB]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,qo)}static[VB](t){return pj[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let cc={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Xu(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Xu(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Xu(n,!0)}\``+i}},Ho={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},sse={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},F1={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ase={isValue:"${path} field must be ${value}"},yx={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},cse={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},lse={notType:e=>{const{path:t,value:n,spec:r}=e,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Xu(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Xu(n,!0)}\``}return qo.formatError(cc.notType,e)}};Object.assign(Object.create(null),{mixed:cc,string:Ho,number:sse,date:F1,object:yx,array:cse,boolean:ase,tuple:lse});const CO=e=>e&&e.__isYupSchema__;class e_{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:o}=n,s=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new e_(t,(a,c)=>{var l;let f=s(...a)?i:o;return(l=f==null?void 0:f(c))!=null?l:c})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!CO(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const wb={context:"$",value:"."};class gh{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===wb.context,this.isValue=this.key[0]===wb.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?wb.context:this.isValue?wb.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Bf.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}gh.prototype.__isYupRef=!0;const Rf=e=>e==null;function hp(e){function t({value:n,path:r="",options:i,originalValue:o,schema:s},a,c){const{name:l,test:f,params:p,message:m,skipAbsent:E}=e;let{parent:x,context:y,abortEarly:w=s.spec.abortEarly,disableStackTrace:R=s.spec.disableStackTrace}=i;function _(J){return gh.isRef(J)?J.getValue(n,x,y):J}function C(J={}){const G=Object.assign({value:n,originalValue:o,label:s.spec.label,path:J.path||r,spec:s.spec,disableStackTrace:J.disableStackTrace||R},p,J.params);for(const ce of Object.keys(G))G[ce]=_(G[ce]);const ee=new qo(qo.formatError(J.message||m,G),n,G.path,J.type||l,G.disableStackTrace);return ee.params=G,ee}const I=w?a:c;let A={path:r,parent:x,type:l,from:i.from,createError:C,resolve:_,options:i,originalValue:o,schema:s};const U=J=>{qo.isError(J)?I(J):J?c(null):I(C())},$=J=>{qo.isError(J)?I(J):a(J)};if(E&&Rf(n))return U(!0);let q;try{var X;if(q=f.call(A,n,A),typeof((X=q)==null?void 0:X.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(q).then(U,$)}}catch(J){$(J);return}U(q)}return t.OPTIONS=e,t}function use(e,t,n,r=n){let i,o,s;return t?(Bf.forEach(t,(a,c,l)=>{let f=c?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:i,value:n});let p=e.type==="tuple",m=l?parseInt(f,10):0;if(e.innerType||p){if(p&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[m],e=p?e.spec.types[m]:e.innerType}if(!l){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);i=n,n=n&&n[f],e=e.fields[f]}o=f,s=c?"["+a+"]":"."+a}),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class t_ extends Set{describe(){const t=[];for(const n of this.values())t.push(gh.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new t_(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Rp(e,t=new Map){if(CO(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Rp(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Rp(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Rp(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Rp(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Cc{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new t_,this._blacklist=new t_,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(cc.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Rp(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{t.tests.forEach(s=>{o.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,o)=>o.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i,o;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",o=r._cast(t,n);if(n.assert!==!1&&!r.isType(o)){if(i&&Rf(o))return o;let s=Xu(t),a=Xu(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return o}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,o)=>o.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:o,originalValue:s=t,strict:a=this.spec.strict}=n,c=t;a||(c=this._cast(c,Object.assign({assert:!1},n)));let l=[];for(let f of Object.values(this.internalTests))f&&l.push(f);this.runTests({path:o,value:c,originalValue:s,options:n,tests:l},r,f=>{if(f.length)return i(f,c);this.runTests({path:o,value:c,originalValue:s,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:o,value:s,originalValue:a,path:c,options:l}=t,f=y=>{i||(i=!0,n(y,s))},p=y=>{i||(i=!0,r(y,s))},m=o.length,E=[];if(!m)return p([]);let x={value:s,originalValue:a,path:c,options:l,schema:this};for(let y=0;y<o.length;y++){const w=o[y];w(x,f,function(_){_&&(Array.isArray(_)?E.push(..._):E.push(_)),--m<=0&&p(E)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:o,options:s}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let l=r[a];const f=Object.assign({},s,{strict:!0,parent:r,value:l,originalValue:o[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+t});return(p,m,E)=>this.resolve(f)._validate(l,f,m,E)}validate(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((s,a)=>i._validate(t,n,(c,l)=>{qo.isError(c)&&(c.value=l),a(c)},(c,l)=>{c.length?a(new qo(c,l,void 0,void 0,o)):s(l)}))}validateSync(t,n){var r;let i=this.resolve(Object.assign({},n,{value:t})),o,s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(a,c)=>{throw qo.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new qo(a,t,void 0,void 0,s);o=c}),o}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(qo.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(qo.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Rp(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=hp({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=hp({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=cc.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=cc.notNull){return this.nullability(!1,t)}required(t=cc.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=cc.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=hp(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(o||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=$B(t).map(o=>new gh(o));return i.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new e_(i,n):e_.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=hp({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=cc.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=hp({message:n,name:"oneOf",skipAbsent:!0,test(i){let o=this.schema._whitelist,s=o.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:s}})}}),r}notOneOf(t,n=cc.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=hp({message:n,name:"notOneOf",test(i){let o=this.schema._blacklist,s=o.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:Array.from(o).join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:o,nullable:s}=n.spec;return{meta:i,label:r,optional:o,nullable:s,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,l,f)=>f.findIndex(p=>p.name===c.name)===l)}}}Cc.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Cc.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:o,schema:s}=use(this,t,n,r.context);return s[e](i&&i[o],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])Cc.prototype[e]=Cc.prototype.oneOf;for(const e of["not","nope"])Cc.prototype[e]=Cc.prototype.notOneOf;const dse=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function fse(e){const t=U1(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function U1(e){var t,n;const r=dse.exec(e);return r?{year:Jc(r[1]),month:Jc(r[2],1)-1,day:Jc(r[3],1),hour:Jc(r[4]),minute:Jc(r[5]),second:Jc(r[6]),millisecond:r[7]?Jc(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Jc(r[10]),minuteOffset:Jc(r[11])}:null}function Jc(e,t=0){return Number(e)||t}let hse=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pse=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,mse=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,gse="^\\d{4}-\\d{2}-\\d{2}",vse="\\d{2}:\\d{2}:\\d{2}",yse="(([+-]\\d{2}(:?\\d{2})?)|Z)",bse=new RegExp(`${gse}T${vse}(\\.\\d+)?${yse}$`),xse=e=>Rf(e)||e===e.trim(),Sse={}.toString();function mm(){return new HB}class HB extends Cc{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===Sse?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||cc.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Ho.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Ho.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Ho.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:o}=n:i=n),this.test({name:o||"matches",message:i||Ho.matches,params:{regex:t},skipAbsent:!0,test:s=>s===""&&r||s.search(t)!==-1})}email(t=Ho.email){return this.matches(hse,{name:"email",message:t,excludeEmptyString:!0})}url(t=Ho.url){return this.matches(pse,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Ho.uuid){return this.matches(mse,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,i;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=t:n=t),this.matches(bse,{name:"datetime",message:n||Ho.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ho.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const s=U1(o);return s?!!s.z:!1}}).test({name:"datetime_precision",message:n||Ho.datetime_precision,params:{precision:i},skipAbsent:!0,test:o=>{if(!o||i==null)return!0;const s=U1(o);return s?s.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Ho.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:xse})}lowercase(t=Ho.lowercase){return this.transform(n=>Rf(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Rf(n)||n===n.toLowerCase()})}uppercase(t=Ho.uppercase){return this.transform(n=>Rf(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Rf(n)||n===n.toUpperCase()})}}mm.prototype=HB.prototype;let _se=new Date(""),wse=e=>Object.prototype.toString.call(e)==="[object Date]";class ww extends Cc{constructor(){super({type:"date",check(t){return wse(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=fse(t),isNaN(t)?ww.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(gh.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=F1.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=F1.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}ww.INVALID_DATE=_se;ww.prototype;function Ese(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,a])=>`${s}-${a}`));function o(s,a){let c=Bf.split(s)[0];r.add(c),i.has(`${a}-${c}`)||n.push([a,c])}for(const s of Object.keys(e)){let a=e[s];r.add(s),gh.isRef(a)&&a.isSibling?o(a.path,s):CO(a)&&"deps"in a&&a.deps.forEach(c=>o(c,s))}return Joe.array(Array.from(r),n).reverse()}function mj(e,t){let n=1/0;return e.some((r,i)=>{var o;if((o=t.path)!=null&&o.includes(r))return n=i,!0}),n}function GB(e){return(t,n)=>mj(e,t)-mj(e,n)}const Cse=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function bx(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=bx(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=bx(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(bx)}):"optional"in e?e.optional():e}const Tse=(e,t)=>{const n=[...Bf.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Bf.getter(Bf.join(n),!0)(e);return!!(i&&r in i)};let gj=e=>Object.prototype.toString.call(e)==="[object Object]";function vj(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Rse=GB([]);function qB(e){return new KB(e)}class KB extends Cc{constructor(t){super({type:"object",check(n){return gj(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Rse,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let o=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),c={},l=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),f=!1;for(const p of a){let m=o[p],E=p in i;if(m){let x,y=i[p];l.path=(n.path?`${n.path}.`:"")+p,m=m.resolve({value:y,context:n.context,parent:c});let w=m instanceof Cc?m.spec:void 0,R=w==null?void 0:w.strict;if(w!=null&&w.strip){f=f||p in i;continue}x=!n.__validating||!R?m.cast(i[p],l):i[p],x!==void 0&&(c[p]=x)}else E&&!s&&(c[p]=i[p]);(E!==p in c||c[p]!==i[p])&&(f=!0)}return f?c:i}_validate(t,n={},r,i){let{from:o=[],originalValue:s=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:s},...o],n.__validating=!0,n.originalValue=s,super._validate(t,n,r,(c,l)=>{if(!a||!gj(l)){i(c,l);return}s=s||l;let f=[];for(let p of this._nodes){let m=this.fields[p];!m||gh.isRef(m)||f.push(m.asNestedTest({options:n,key:p,parent:l,parentPath:n.path,originalParent:s}))}this.runTests({tests:f,value:l,originalValue:s,options:n},r,p=>{i(p.sort(this._sortErrors).concat(c),l)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,o]of Object.entries(this.fields)){const s=r[i];r[i]=s===void 0?o:s}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const o=this.fields[r];let s=t;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(s):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=Ese(t,n),r._sortErrors=GB(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return bx(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>t.includes(r)&&t.includes(i)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let i=Bf.getter(t,!0);return this.transform(o=>{if(!o)return o;let s=o;return Tse(o,t)&&(s=Object.assign({},o),r||delete s[t],s[n]=i(o)),s})}json(){return this.transform(Cse)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||yx.exact,test(n){if(n==null)return!0;const r=vj(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=yx.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const o=vj(this.schema,i);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=yx.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys(NC.camelCase)}snakeCase(){return this.transformKeys(NC.snakeCase)}constantCase(){return this.transformKeys(t=>NC.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[o,s]of Object.entries(n.fields)){var i;let a=t;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[o]})),r.fields[o]=s.describe(a)}return r}}qB.prototype=KB.prototype;const TO=({formFields:e,onSubmit:t,initialValues:n})=>{const r=qB(e.reduce((i,o)=>(o.validation&&(i[o.name]=o.validation),i),{}));return u.jsx(xoe,{initialValues:n,validationSchema:r,onSubmit:t,children:()=>u.jsxs(LB,{children:[e.map(i=>{var o;return u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:i.name,className:"block font-medium",children:i.label}),i.type==="select"?u.jsxs(cj,{as:"select",id:i.name,name:i.name,className:"w-full border rounded px-2 py-1",children:[u.jsxs("option",{value:"",children:["Select ",i.label]}),(o=i.options)==null?void 0:o.map(s=>u.jsx("option",{value:s.value,children:s.label},s.value))]}):u.jsx(cj,{id:i.name,name:i.name,type:i.type,placeholder:i.placeholder,className:"w-full border rounded px-2 py-1"}),u.jsx(joe,{name:i.name,component:"div",className:"text-red-500 text-sm"})]},i.name)}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]})})};function Ew(e){return Tk({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}const Cw=({isOpen:e,onClose:t,children:n})=>e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:u.jsxs("div",{className:"bg-white rounded shadow-lg w-3/4 max-w-lg p-6 relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-black",onClick:t,children:u.jsx(XK,{})}),n]})}):null,kse=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Qn(),{board:o,isLoading:s}=Nn(m=>m.board);P.useEffect(()=>{i(Uf())},[i]);const a=[{name:"boardname",label:"Board Name",type:"text",placeholder:"Enter Board Full Name",validation:mm().required("Board Name is required.")},{name:"boardshortname",label:"Board Short Name",type:"text",placeholder:"Enter Board Short Name",validation:mm().required("Board Short Name is required.")}],c=a.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{i(n?gx({_id:n._id,data:m}):mx(m)),t(!1),r(null)},f=m=>{i(vx({boardId:m}))},p=m=>{r(m),t(!0)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Boards"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Board"})]}),u.jsxs(Cw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Board":"Add Board"}),u.jsx(TO,{formFields:a,initialValues:n||c,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Full Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Short Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.boardname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.boardshortname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(yd,{id:m._id,checked:m.isActive,onCheckedChange:()=>f(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(m),children:u.jsx(Ew,{})})})]},m._id||E))})]})]})})},Ose=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Qn(),{standards:o,isLoading:s}=Nn(m=>m.standard);console.log(o,"standards"),P.useEffect(()=>{i(fl())},[i]);const a=[{name:"std",label:"Standard Name",type:"text",placeholder:"Enter standard name",validation:mm().required("Standard Name is required.")}],c=a.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{console.log(m,"values"),i(n?Zb({id:n._id,data:m}):Jb(m)),t(!1),r(null)},f=m=>{console.log(m,"update data"),r(m),t(!0)},p=m=>{console.log(m,"toggle"),i(ex(m))};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Standards"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Standard"})]}),u.jsxs(Cw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Standard":"Add Standard"}),u.jsx(TO,{formFields:a,initialValues:n||c,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.std}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(yd,{id:m._id,checked:m.isActive,onCheckedChange:()=>p(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>f(m),children:u.jsx(Ew,{})})})]},m._id||E))})]})]})},Pse={activitys:[],currentactivity:null,isLoading:!1,error:null},xx=_t("createactivity",async(e,{rejectWithValue:t})=>{try{return(await pt.post(P8,e)).data}catch(n){return t(n.response.data)}}),Sx=_t("getAllactivity",async(e,{rejectWithValue:t})=>{try{return(await pt.get(I8)).data}catch(n){return t(n.response.data)}}),IC=_t("activityById",async(e,{rejectWithValue:t})=>{try{return(await pt.get(N8.replace(":id",e))).data}catch(n){return t(n.response.data)}}),_x=_t("updataactivity",async({id:e,data:t},{rejectWithValue:n})=>{try{return(await pt.put(j8.replace(":id",e),t)).data}catch(r){return n(r.response.data)}}),wx=_t("toggleactivity",async(e,{rejectWithValue:t})=>{try{return(await pt.post(A8,{activityId:e})).data}catch(n){return t(n.response.data)}}),Nse=os({name:"activity",initialState:Pse,reducers:{},extraReducers:e=>{e.addCase(xx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(xx.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys.push(n.payload)}).addCase(xx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Sx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Sx.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys=n.payload}).addCase(Sx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(IC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(IC.fulfilled,(t,n)=>{t.isLoading=!1,t.currentactivity=n.payload}).addCase(IC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(_x.pending,t=>{t.isLoading=!0,t.error=null}).addCase(_x.fulfilled,(t,n)=>{t.isLoading=!1,t.activitys=t.activitys.map(r=>r._id===n.payload._id?n.payload:r)}).addCase(_x.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(wx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(wx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.activitys.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.activitys[r].isActive=!t.activitys[r].isActive)}).addCase(wx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),Ise=Nse.reducer,jse=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Qn(),{activitys:o,isLoading:s}=Nn(m=>m.activity);P.useEffect(()=>{i(Sx())},[i]);const a=[{name:"activityname",label:"Activity Name",type:"text",placeholder:"Enter Activity name",validation:mm().required("Activity Name is required.")}],c=a.reduce((m,E)=>(m[E.name]="",m),{}),l=m=>{i(n?_x({id:n._id,data:m}):xx(m)),t(!1),r(null)},f=m=>{r(m),t(!0)},p=m=>{i(wx(m))};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Activity"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Standard"})]}),u.jsxs(Cw,{isOpen:e,onClose:()=>t(!1),children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Standard":"Add Standard"}),u.jsx(TO,{formFields:a,initialValues:n||c,onSubmit:l})]}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Activity Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((m,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:m.activityname}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(yd,{id:m._id,checked:m.isActive,onCheckedChange:()=>p(m._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>f(m),children:u.jsx(Ew,{})})})]},m._id||E))})]})]})})};var RO={},kO={};Object.defineProperty(kO,"__esModule",{value:!0});class Ase{constructor(t){this.instance=void 0,this.options=t,typeof window<"u"&&(this.instance=new window.Razorpay(this.options))}on(t,n){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(t,n)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}kO.default=Ase;var Dse=pl&&pl.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Mse=pl&&pl.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Lse=pl&&pl.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Dse(t,e,n);return Mse(t,e),t},Fse=pl&&pl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(RO,"__esModule",{value:!0});var YB=RO.useRazorpay=void 0;const jC=Lse(P),Use=Fse(kO),Bse=()=>{const[e,t]=jC.useState(!1),[n,r]=jC.useState(),i=typeof window<"u",o=()=>!(!i||!("Razorpay"in window));function s(a){return new Promise((c,l)=>{const f=window.document.createElement("script");f.src=a,f.onload=function(){c()},f.onerror=function(p){l(p.toString())},document.body.appendChild(f)})}return jC.useEffect(()=>{i&&(t(!0),o()||s("https://checkout.razorpay.com/v1/checkout.js").then(()=>{r(void 0)}).catch(a=>{a instanceof Error?r(a.message):r("Unknown Error")}).finally(()=>t(!1)))},[]),{error:n,isLoading:e,Razorpay:Use.default}};YB=RO.useRazorpay=Bse;var QB={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pl,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(o,s,a){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=8)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},r.default=r.CLASS_NAMES},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(o){var s="."+o;return document.querySelector(s)},r.stringToNode=function(o){var s=document.createElement("div");return s.innerHTML=o.trim(),s.firstChild},r.insertAfter=function(o,s){var a=s.nextSibling;s.parentNode.insertBefore(o,a)},r.removeNode=function(o){o.parentElement.removeChild(o)},r.throwErr=function(o){throw o=o.replace(/ +(?= )/g,""),"SweetAlert: "+(o=o.trim())},r.isPlainObject=function(o){if(Object.prototype.toString.call(o)!=="[object Object]")return!1;var s=Object.getPrototypeOf(o);return s===null||s===Object.prototype},r.ordinalSuffixOf=function(o){var s=o%10,a=o%100;return s===1&&a!==11?o+"st":s===2&&a!==12?o+"nd":s===3&&a!==13?o+"rd":o+"th"}},function(n,r,i){function o(m){for(var E in m)r.hasOwnProperty(E)||(r[E]=m[E])}Object.defineProperty(r,"__esModule",{value:!0}),o(i(25));var s=i(26);r.overlayMarkup=s.default,o(i(27)),o(i(28)),o(i(29));var a=i(0),c=a.default.MODAL_TITLE,l=a.default.MODAL_TEXT,f=a.default.ICON,p=a.default.FOOTER;r.iconMarkup=`
  <div class="`+f+'"></div>',r.titleMarkup=`
  <div class="`+c+`"></div>
`,r.textMarkup=`
  <div class="`+l+'"></div>',r.footerMarkup=`
  <div class="`+p+`"></div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var s={visible:!0,text:null,value:null,className:"",closeModal:!0},a=Object.assign({},s,{visible:!1,text:"Cancel",value:null}),c=Object.assign({},s,{text:"OK",value:!0});r.defaultButtonList={cancel:a,confirm:c};var l=function(E){switch(E){case r.CONFIRM_KEY:return c;case r.CANCEL_KEY:return a;default:var x=E.charAt(0).toUpperCase()+E.slice(1);return Object.assign({},s,{text:x,value:E})}},f=function(E,x){var y=l(E);return x===!0?Object.assign({},y,{visible:!0}):typeof x=="string"?Object.assign({},y,{visible:!0,text:x}):o.isPlainObject(x)?Object.assign({visible:!0},y,x):Object.assign({},y,{visible:!1})},p=function(E){for(var x={},y=0,w=Object.keys(E);y<w.length;y++){var R=w[y],_=E[R],C=f(R,_);x[R]=C}return x.cancel||(x.cancel=a),x},m=function(E){var x={};switch(E.length){case 1:x[r.CANCEL_KEY]=Object.assign({},a,{visible:!1});break;case 2:x[r.CANCEL_KEY]=f(r.CANCEL_KEY,E[0]),x[r.CONFIRM_KEY]=f(r.CONFIRM_KEY,E[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+E.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return x};r.getButtonListOpts=function(E){var x=r.defaultButtonList;return typeof E=="string"?x[r.CONFIRM_KEY]=f(r.CONFIRM_KEY,E):Array.isArray(E)?x=m(E):o.isPlainObject(E)?x=p(E):E===!0?x=m([!0,!0]):E===!1?x=m([!1,!1]):E===void 0&&(x=r.defaultButtonList),x}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),a=i(0),c=a.default.MODAL,l=a.default.OVERLAY,f=i(30),p=i(31),m=i(32),E=i(33);r.injectElIntoModal=function(R){var _=o.getNode(c),C=o.stringToNode(R);return _.appendChild(C),C};var x=function(R){R.className=c,R.textContent=""},y=function(R,_){x(R);var C=_.className;C&&R.classList.add(C)};r.initModalContent=function(R){var _=o.getNode(c);y(_,R),f.default(R.icon),p.initTitle(R.title),p.initText(R.text),E.default(R.content),m.default(R.buttons,R.dangerMode)};var w=function(){var R=o.getNode(l),_=o.stringToNode(s.modalMarkup);R.appendChild(_)};r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s={isOpen:!1,promise:null,actions:{},timer:null},a=Object.assign({},s);r.resetState=function(){a=Object.assign({},s)},r.setActionValue=function(l){if(typeof l=="string")return c(o.CONFIRM_KEY,l);for(var f in l)c(f,l[f])};var c=function(l,f){a.actions[l]||(a.actions[l]={}),Object.assign(a.actions[l],{value:f})};r.setActionOptionsFor=function(l,f){var p=(f===void 0?{}:f).closeModal,m=p===void 0||p;Object.assign(a.actions[l],{closeModal:m})},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),a=i(0),c=a.default.OVERLAY,l=a.default.SHOW_MODAL,f=a.default.BUTTON,p=a.default.BUTTON_LOADING,m=i(5);r.openModal=function(){o.getNode(c).classList.add(l),m.default.isOpen=!0};var E=function(){o.getNode(c).classList.remove(l),m.default.isOpen=!1};r.onAction=function(x){x===void 0&&(x=s.CANCEL_KEY);var y=m.default.actions[x],w=y.value;if(y.closeModal===!1){var R=f+"--"+x;o.getNode(R).classList.add(p)}else E();m.default.promise.resolve(w)},r.getState=function(){var x=Object.assign({},m.default);return delete x.promise,delete x.timer,x},r.stopLoading=function(){for(var x=document.querySelectorAll("."+f),y=0;y<x.length;y++)x[y].classList.remove(p)}},function(n,r){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){(function(o){n.exports=o.sweetAlert=i(9)}).call(r,i(7))},function(n,r,i){(function(o){n.exports=o.swal=i(10)}).call(r,i(7))},function(n,r,i){typeof window<"u"&&i(11),i(16);var o=i(23).default;n.exports=o},function(n,r,i){var o=i(12);typeof o=="string"&&(o=[[n.i,o,""]]);var s={insertAt:"top"};s.transform=void 0,i(14)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){r=n.exports=i(13)(void 0),r.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,r){function i(s,a){var c=s[1]||"",l=s[3];if(!l)return c;if(a&&typeof btoa=="function"){var f=o(l);return[c].concat(l.sources.map(function(p){return"/*# sourceURL="+l.sourceRoot+p+" */"})).concat([f]).join(`
`)}return[c].join(`
`)}function o(s){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"}n.exports=function(s){var a=[];return a.toString=function(){return this.map(function(c){var l=i(c,s);return c[2]?"@media "+c[2]+"{"+l+"}":l}).join("")},a.i=function(c,l){typeof c=="string"&&(c=[[null,c,""]]);for(var f={},p=0;p<this.length;p++){var m=this[p][0];typeof m=="number"&&(f[m]=!0)}for(p=0;p<c.length;p++){var E=c[p];typeof E[0]=="number"&&f[E[0]]||(l&&!E[2]?E[2]=l:l&&(E[2]="("+E[2]+") and ("+l+")"),a.push(E))}},a}},function(n,r,i){function o(V,q){for(var X=0;X<V.length;X++){var J=V[X],G=w[J.id];if(G){G.refs++;for(var ee=0;ee<G.parts.length;ee++)G.parts[ee](J.parts[ee]);for(;ee<J.parts.length;ee++)G.parts.push(m(J.parts[ee],q))}else{for(var ce=[],ee=0;ee<J.parts.length;ee++)ce.push(m(J.parts[ee],q));w[J.id]={id:J.id,refs:1,parts:ce}}}}function s(V,q){for(var X=[],J={},G=0;G<V.length;G++){var ee=V[G],ce=q.base?ee[0]+q.base:ee[0],xe=ee[1],Se=ee[2],ve=ee[3],Y={css:xe,media:Se,sourceMap:ve};J[ce]?J[ce].parts.push(Y):X.push(J[ce]={id:ce,parts:[Y]})}return X}function a(V,q){var X=_(V.insertInto);if(!X)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var J=A[A.length-1];if(V.insertAt==="top")J?J.nextSibling?X.insertBefore(q,J.nextSibling):X.appendChild(q):X.insertBefore(q,X.firstChild),A.push(q);else{if(V.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");X.appendChild(q)}}function c(V){if(V.parentNode===null)return!1;V.parentNode.removeChild(V);var q=A.indexOf(V);q>=0&&A.splice(q,1)}function l(V){var q=document.createElement("style");return V.attrs.type="text/css",p(q,V.attrs),a(V,q),q}function f(V){var q=document.createElement("link");return V.attrs.type="text/css",V.attrs.rel="stylesheet",p(q,V.attrs),a(V,q),q}function p(V,q){Object.keys(q).forEach(function(X){V.setAttribute(X,q[X])})}function m(V,q){var X,J,G,ee;if(q.transform&&V.css){if(!(ee=q.transform(V.css)))return function(){};V.css=ee}if(q.singleton){var ce=I++;X=C||(C=l(q)),J=E.bind(null,X,ce,!1),G=E.bind(null,X,ce,!0)}else V.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(X=f(q),J=y.bind(null,X,q),G=function(){c(X),X.href&&URL.revokeObjectURL(X.href)}):(X=l(q),J=x.bind(null,X),G=function(){c(X)});return J(V),function(xe){if(xe){if(xe.css===V.css&&xe.media===V.media&&xe.sourceMap===V.sourceMap)return;J(V=xe)}else G()}}function E(V,q,X,J){var G=X?"":J.css;if(V.styleSheet)V.styleSheet.cssText=$(q,G);else{var ee=document.createTextNode(G),ce=V.childNodes;ce[q]&&V.removeChild(ce[q]),ce.length?V.insertBefore(ee,ce[q]):V.appendChild(ee)}}function x(V,q){var X=q.css,J=q.media;if(J&&V.setAttribute("media",J),V.styleSheet)V.styleSheet.cssText=X;else{for(;V.firstChild;)V.removeChild(V.firstChild);V.appendChild(document.createTextNode(X))}}function y(V,q,X){var J=X.css,G=X.sourceMap,ee=q.convertToAbsoluteUrls===void 0&&G;(q.convertToAbsoluteUrls||ee)&&(J=U(J)),G&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(G))))+" */");var ce=new Blob([J],{type:"text/css"}),xe=V.href;V.href=URL.createObjectURL(ce),xe&&URL.revokeObjectURL(xe)}var w={},R=function(V){var q;return function(){return q===void 0&&(q=V.apply(this,arguments)),q}}(function(){return window&&document&&document.all&&!window.atob}),_=function(V){var q={};return function(X){return q[X]===void 0&&(q[X]=V.call(this,X)),q[X]}}(function(V){return document.querySelector(V)}),C=null,I=0,A=[],U=i(15);n.exports=function(V,q){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");q=q||{},q.attrs=typeof q.attrs=="object"?q.attrs:{},q.singleton||(q.singleton=R()),q.insertInto||(q.insertInto="head"),q.insertAt||(q.insertAt="bottom");var X=s(V,q);return o(X,q),function(J){for(var G=[],ee=0;ee<X.length;ee++){var ce=X[ee],xe=w[ce.id];xe.refs--,G.push(xe)}J&&o(s(J,q),q);for(var ee=0;ee<G.length;ee++){var xe=G[ee];if(xe.refs===0){for(var Se=0;Se<xe.parts.length;Se++)xe.parts[Se]();delete w[xe.id]}}}};var $=function(){var V=[];return function(q,X){return V[q]=X,V.filter(Boolean).join(`
`)}}()},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,l){var f=l.trim().replace(/^"(.*)"$/,function(m,E){return E}).replace(/^'(.*)'$/,function(m,E){return E});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(f))return c;var p;return p=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(p)+")"})}},function(n,r,i){var o=i(17);typeof window>"u"||window.Promise||(window.Promise=o),i(21),String.prototype.includes||(String.prototype.includes=function(s,a){return typeof a!="number"&&(a=0),!(a+s.length>this.length)&&this.indexOf(s,a)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,a){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),l=c.length>>>0;if(l===0)return!1;for(var f=0|a,p=Math.max(f>=0?f:l-Math.abs(f),0);p<l;){if(function(m,E){return m===E||typeof m=="number"&&typeof E=="number"&&isNaN(m)&&isNaN(E)}(c[p],s))return!0;p++}return!1}}),typeof window<"u"&&function(s){s.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,r,i){(function(o){(function(s){function a(){}function c(R,_){return function(){R.apply(_,arguments)}}function l(R){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof R!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(R,this)}function f(R,_){for(;R._state===3;)R=R._value;if(R._state===0)return void R._deferreds.push(_);R._handled=!0,l._immediateFn(function(){var C=R._state===1?_.onFulfilled:_.onRejected;if(C===null)return void(R._state===1?p:m)(_.promise,R._value);var I;try{I=C(R._value)}catch(A){return void m(_.promise,A)}p(_.promise,I)})}function p(R,_){try{if(_===R)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var C=_.then;if(_ instanceof l)return R._state=3,R._value=_,void E(R);if(typeof C=="function")return void y(c(C,_),R)}R._state=1,R._value=_,E(R)}catch(I){m(R,I)}}function m(R,_){R._state=2,R._value=_,E(R)}function E(R){R._state===2&&R._deferreds.length===0&&l._immediateFn(function(){R._handled||l._unhandledRejectionFn(R._value)});for(var _=0,C=R._deferreds.length;_<C;_++)f(R,R._deferreds[_]);R._deferreds=null}function x(R,_,C){this.onFulfilled=typeof R=="function"?R:null,this.onRejected=typeof _=="function"?_:null,this.promise=C}function y(R,_){var C=!1;try{R(function(I){C||(C=!0,p(_,I))},function(I){C||(C=!0,m(_,I))})}catch(I){if(C)return;C=!0,m(_,I)}}var w=setTimeout;l.prototype.catch=function(R){return this.then(null,R)},l.prototype.then=function(R,_){var C=new this.constructor(a);return f(this,new x(R,_,C)),C},l.all=function(R){var _=Array.prototype.slice.call(R);return new l(function(C,I){function A(V,q){try{if(q&&(typeof q=="object"||typeof q=="function")){var X=q.then;if(typeof X=="function")return void X.call(q,function(J){A(V,J)},I)}_[V]=q,--U==0&&C(_)}catch(J){I(J)}}if(_.length===0)return C([]);for(var U=_.length,$=0;$<_.length;$++)A($,_[$])})},l.resolve=function(R){return R&&typeof R=="object"&&R.constructor===l?R:new l(function(_){_(R)})},l.reject=function(R){return new l(function(_,C){C(R)})},l.race=function(R){return new l(function(_,C){for(var I=0,A=R.length;I<A;I++)R[I].then(_,C)})},l._immediateFn=typeof o=="function"&&function(R){o(R)}||function(R){w(R,0)},l._unhandledRejectionFn=function(R){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",R)},l._setImmediateFn=function(R){l._immediateFn=R},l._setUnhandledRejectionFn=function(R){l._unhandledRejectionFn=R},n!==void 0&&n.exports?n.exports=l:s.Promise||(s.Promise=l)})(this)}).call(r,i(18).setImmediate)},function(n,r,i){function o(a,c){this._id=a,this._clearFn=c}var s=Function.prototype.apply;r.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(a){a&&a.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(a,c){clearTimeout(a._idleTimeoutId),a._idleTimeout=c},r.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},r._unrefActive=r.active=function(a){clearTimeout(a._idleTimeoutId);var c=a._idleTimeout;c>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},c))},i(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,i){(function(o,s){(function(a,c){function l(C){typeof C!="function"&&(C=new Function(""+C));for(var I=new Array(arguments.length-1),A=0;A<I.length;A++)I[A]=arguments[A+1];var U={callback:C,args:I};return y[x]=U,E(x),x++}function f(C){delete y[C]}function p(C){var I=C.callback,A=C.args;switch(A.length){case 0:I();break;case 1:I(A[0]);break;case 2:I(A[0],A[1]);break;case 3:I(A[0],A[1],A[2]);break;default:I.apply(c,A)}}function m(C){if(w)setTimeout(m,0,C);else{var I=y[C];if(I){w=!0;try{p(I)}finally{f(C),w=!1}}}}if(!a.setImmediate){var E,x=1,y={},w=!1,R=a.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,{}.toString.call(a.process)==="[object process]"?function(){E=function(C){s.nextTick(function(){m(C)})}}():function(){if(a.postMessage&&!a.importScripts){var C=!0,I=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=I,C}}()?function(){var C="setImmediate$"+Math.random()+"$",I=function(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(C)===0&&m(+A.data.slice(C.length))};a.addEventListener?a.addEventListener("message",I,!1):a.attachEvent("onmessage",I),E=function(A){a.postMessage(C+A,"*")}}():a.MessageChannel?function(){var C=new MessageChannel;C.port1.onmessage=function(I){m(I.data)},E=function(I){C.port2.postMessage(I)}}():R&&"onreadystatechange"in R.createElement("script")?function(){var C=R.documentElement;E=function(I){var A=R.createElement("script");A.onreadystatechange=function(){m(I),A.onreadystatechange=null,C.removeChild(A),A=null},C.appendChild(A)}}():function(){E=function(C){setTimeout(m,0,C)}}(),_.setImmediate=l,_.clearImmediate=f}})(typeof self>"u"?o===void 0?this:o:self)}).call(r,i(7),i(20))},function(n,r){function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(C){if(m===setTimeout)return setTimeout(C,0);if((m===i||!m)&&setTimeout)return m=setTimeout,setTimeout(C,0);try{return m(C,0)}catch{try{return m.call(null,C,0)}catch{return m.call(this,C,0)}}}function a(C){if(E===clearTimeout)return clearTimeout(C);if((E===o||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(C);try{return E(C)}catch{try{return E.call(null,C)}catch{return E.call(this,C)}}}function c(){R&&y&&(R=!1,y.length?w=y.concat(w):_=-1,w.length&&l())}function l(){if(!R){var C=s(c);R=!0;for(var I=w.length;I;){for(y=w,w=[];++_<I;)y&&y[_].run();_=-1,I=w.length}y=null,R=!1,a(C)}}function f(C,I){this.fun=C,this.array=I}function p(){}var m,E,x=n.exports={};(function(){try{m=typeof setTimeout=="function"?setTimeout:i}catch{m=i}try{E=typeof clearTimeout=="function"?clearTimeout:o}catch{E=o}})();var y,w=[],R=!1,_=-1;x.nextTick=function(C){var I=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)I[A-1]=arguments[A];w.push(new f(C,I)),w.length!==1||R||s(l)},f.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=p,x.addListener=p,x.once=p,x.off=p,x.removeListener=p,x.removeAllListeners=p,x.emit=p,x.prependListener=p,x.prependOnceListener=p,x.listeners=function(C){return[]},x.binding=function(C){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(C){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(n,r,i){i(22).polyfill()},function(n,r,i){function o(a,c){if(a==null)throw new TypeError("Cannot convert first argument to object");for(var l=Object(a),f=1;f<arguments.length;f++){var p=arguments[f];if(p!=null)for(var m=Object.keys(Object(p)),E=0,x=m.length;E<x;E++){var y=m[E],w=Object.getOwnPropertyDescriptor(p,y);w!==void 0&&w.enumerable&&(l[y]=p[y])}}return l}function s(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}n.exports={assign:o,polyfill:s}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(24),s=i(6),a=i(5),c=i(36),l=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(typeof window<"u"){var m=c.getOpts.apply(void 0,f);return new Promise(function(E,x){a.default.promise={resolve:E,reject:x},o.default(m),setTimeout(function(){s.openModal()})})}};l.close=s.onAction,l.getState=s.getState,l.setActionValue=a.setActionValue,l.stopLoading=s.stopLoading,l.setDefaults=c.setDefaults,r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(0),a=s.default.MODAL,c=i(4),l=i(34),f=i(35),p=i(1);r.init=function(m){o.getNode(a)||(document.body||p.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),l.default(),c.default()),c.initModalContent(m),f.default(m)},r.default=r.init},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.MODAL;r.modalMarkup=`
  <div class="`+s+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.OVERLAY,a=`<div 
    class="`+s+`"
    tabIndex="-1">
  </div>`;r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.ICON;r.errorIconMarkup=function(){var a=s+"--error",c=a+"__line";return`
    <div class="`+a+`__x-mark">
      <span class="`+c+" "+c+`--left"></span>
      <span class="`+c+" "+c+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var a=s+"--warning";return`
    <span class="`+a+`__body">
      <span class="`+a+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var a=s+"--success";return`
    <span class="`+a+"__line "+a+`__line--long"></span>
    <span class="`+a+"__line "+a+`__line--tip"></span>

    <div class="`+a+`__ring"></div>
    <div class="`+a+`__hide-corners"></div>
  `}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.CONTENT;r.contentMarkup=`
  <div class="`+s+`">

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=o.default.BUTTON_CONTAINER,a=o.default.BUTTON,c=o.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+s+`">

    <button
      class="`+a+`"
    ></button>

    <div class="`+c+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=i(2),a=i(0),c=a.default.ICON,l=a.default.ICON_CUSTOM,f=["error","warning","success","info"],p={error:s.errorIconMarkup(),warning:s.warningIconMarkup(),success:s.successIconMarkup()},m=function(y,w){var R=c+"--"+y;w.classList.add(R);var _=p[y];_&&(w.innerHTML=_)},E=function(y,w){w.classList.add(l);var R=document.createElement("img");R.src=y,w.appendChild(R)},x=function(y){if(y){var w=o.injectElIntoModal(s.iconMarkup);f.includes(y)?m(y,w):E(y,w)}};r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(2),s=i(4),a=function(c){navigator.userAgent.includes("AppleWebKit")&&(c.style.display="none",c.offsetHeight,c.style.display="")};r.initTitle=function(c){if(c){var l=s.injectElIntoModal(o.titleMarkup);l.textContent=c,a(l)}},r.initText=function(c){if(c){var l=document.createDocumentFragment();c.split(`
`).forEach(function(p,m,E){l.appendChild(document.createTextNode(p)),m<E.length-1&&l.appendChild(document.createElement("br"))});var f=s.injectElIntoModal(o.textMarkup);f.appendChild(l),a(f)}}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(4),a=i(0),c=a.default.BUTTON,l=a.default.DANGER_BUTTON,f=i(3),p=i(2),m=i(6),E=i(5),x=function(w,R,_){var C=R.text,I=R.value,A=R.className,U=R.closeModal,$=o.stringToNode(p.buttonMarkup),V=$.querySelector("."+c),q=c+"--"+w;V.classList.add(q),A&&(Array.isArray(A)?A:A.split(" ")).filter(function(J){return J.length>0}).forEach(function(J){V.classList.add(J)}),_&&w===f.CONFIRM_KEY&&V.classList.add(l),V.textContent=C;var X={};return X[w]=I,E.setActionValue(X),E.setActionOptionsFor(w,{closeModal:U}),V.addEventListener("click",function(){return m.onAction(w)}),$},y=function(w,R){var _=s.injectElIntoModal(p.footerMarkup);for(var C in w){var I=w[C],A=x(C,I,R);I.visible&&_.appendChild(A)}_.children.length===0&&_.remove()};r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(3),s=i(4),a=i(2),c=i(5),l=i(6),f=i(0),p=f.default.CONTENT,m=function(y){y.addEventListener("input",function(w){var R=w.target,_=R.value;c.setActionValue(_)}),y.addEventListener("keyup",function(w){if(w.key==="Enter")return l.onAction(o.CONFIRM_KEY)}),setTimeout(function(){y.focus(),c.setActionValue("")},0)},E=function(y,w,R){var _=document.createElement(w),C=p+"__"+w;_.classList.add(C);for(var I in R){var A=R[I];_[I]=A}w==="input"&&m(_),y.appendChild(_)},x=function(y){if(y){var w=s.injectElIntoModal(a.contentMarkup),R=y.element,_=y.attributes;typeof R=="string"?E(w,R,_):w.appendChild(R)}};r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(2),a=function(){var c=o.stringToNode(s.overlayMarkup);document.body.appendChild(c)};r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(5),s=i(6),a=i(1),c=i(3),l=i(0),f=l.default.MODAL,p=l.default.BUTTON,m=l.default.OVERLAY,E=function(J){J.preventDefault(),_()},x=function(J){J.preventDefault(),C()},y=function(J){if(o.default.isOpen)switch(J.key){case"Escape":return s.onAction(c.CANCEL_KEY)}},w=function(J){if(o.default.isOpen)switch(J.key){case"Tab":return E(J)}},R=function(J){if(o.default.isOpen)return J.key==="Tab"&&J.shiftKey?x(J):void 0},_=function(){var J=a.getNode(p);J&&(J.tabIndex=0,J.focus())},C=function(){var J=a.getNode(f),G=J.querySelectorAll("."+p),ee=G.length-1,ce=G[ee];ce&&ce.focus()},I=function(J){J[J.length-1].addEventListener("keydown",w)},A=function(J){J[0].addEventListener("keydown",R)},U=function(){var J=a.getNode(f),G=J.querySelectorAll("."+p);G.length&&(I(G),A(G))},$=function(J){if(a.getNode(m)===J.target)return s.onAction(c.CANCEL_KEY)},V=function(J){var G=a.getNode(m);G.removeEventListener("click",$),J&&G.addEventListener("click",$)},q=function(J){o.default.timer&&clearTimeout(o.default.timer),J&&(o.default.timer=window.setTimeout(function(){return s.onAction(c.CANCEL_KEY)},J))},X=function(J){J.closeOnEsc?document.addEventListener("keyup",y):document.removeEventListener("keyup",y),J.dangerMode?_():C(),U(),V(J.closeOnClickOutside),q(J.timer)};r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=i(3),a=i(37),c=i(38),l={title:null,text:null,icon:null,buttons:s.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},f=Object.assign({},l);r.setDefaults=function(R){f=Object.assign({},l,R)};var p=function(R){var _=R&&R.button,C=R&&R.buttons;return _!==void 0&&C!==void 0&&o.throwErr("Cannot set both 'button' and 'buttons' options!"),_!==void 0?{confirm:_}:C},m=function(R){return o.ordinalSuffixOf(R+1)},E=function(R,_){o.throwErr(m(_)+" argument ('"+R+"') is invalid")},x=function(R,_){var C=R+1,I=_[C];o.isPlainObject(I)||I===void 0||o.throwErr("Expected "+m(C)+" argument ('"+I+"') to be a plain object")},y=function(R,_){var C=R+1,I=_[C];I!==void 0&&o.throwErr("Unexpected "+m(C)+" argument ("+I+")")},w=function(R,_,C,I){var A=typeof _,U=A==="string",$=_ instanceof Element;if(U){if(C===0)return{text:_};if(C===1)return{text:_,title:I[0]};if(C===2)return x(C,I),{icon:_};E(_,C)}else{if($&&C===0)return x(C,I),{content:_};if(o.isPlainObject(_))return y(C,I),_;E(_,C)}};r.getOpts=function(){for(var R=[],_=0;_<arguments.length;_++)R[_]=arguments[_];var C={};R.forEach(function(U,$){var V=w(0,U,$,R);Object.assign(C,V)});var I=p(C);C.buttons=s.getButtonListOpts(I),delete C.button,C.content=a.getContentOpts(C.content);var A=Object.assign({},l,f,C);return Object.keys(A).forEach(function(U){c.DEPRECATED_OPTS[U]&&c.logDeprecation(U)}),A}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(a){var c={};return o.isPlainObject(a)?Object.assign(c,a):a instanceof Element?{element:a}:a==="input"?s:null}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(o){var s=r.DEPRECATED_OPTS[o],a=s.onlyRename,c=s.replacement,l=s.subOption,f=s.link,p=a?"renamed":"deprecated",m='SweetAlert warning: "'+o+'" option has been '+p+".";c&&(m+=" Please use"+(l?' "'+l+'" in ':" ")+'"'+c+'" instead.');var E="https://sweetalert.js.org";m+=f?" More details: "+E+f:" More details: "+E+"/guides/#upgrading-from-1x",console.warn(m)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(QB);var $se=QB.exports;const yj=rh($se),zse=()=>{const e=Rl(),[t,n]=P.useState(null),{error:r,isLoading:i,Razorpay:o}=YB(),[s]=hV(),a=s.get("receiptId");P.useEffect(()=>{a&&(async()=>{try{const f=await Yn.post(`${zT}${J8}`,{receiptId:a});n(f.data.data)}catch(f){console.error("Error fetching checkout data:",f),yj("Oops!",f.message,"error")}})()},[a]);const c=()=>{if(!t)return;const l={key:t.key,amount:t.amount,currency:"INR",name:t.name,description:t.description,order_id:t.orderId,prefill:{name:t.name,email:t.email,contact:t.contact},handler:async p=>{try{(await Yn.post(`${zT}${Z8}`,{razorpay_order_id:p.razorpay_order_id,razorpay_payment_id:p.razorpay_payment_id,razorpay_signature:p.razorpay_signature})).data.status==="ok"?e(`/payment-status/success?orderId=${t.orderId}`):e(`/payment-status/failed?orderId=${t.orderId}`)}catch(m){console.error("Error verifying payment:",m),yj("Oops!",m.message,"error")}}};new o(l).open()};return t?u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #E3F2FD, #BBDEFB)"},"aria-disabled":!i,children:u.jsxs("div",{style:{background:"#fff",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"90%",padding:"20px",textAlign:"center",boxSizing:"border-box"},children:[u.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"10px",color:"#333"},children:"Secure Checkout"}),u.jsxs("div",{style:{textAlign:"left",marginBottom:"20px",fontSize:"0.95rem",color:"#555"},children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Order ID:"})," ",t.orderId]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Amount:"})," ",t.amount/100]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Currency:"})," ",t.currency]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Description:"})," ",t.description]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",t.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Email:"})," ",t.email]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Contact:"})," ",t.contact]})]}),u.jsx("button",{onClick:c,style:{backgroundColor:"#387ADE",color:"#fff",fontSize:"1.1rem",padding:"12px 20px",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},children:"Proceed to Checkout"}),u.jsx("p",{children:r&&u.jsxs("p",{children:["Error loading Razorpay: ",r]})})]})}):u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"Arial, sans-serif"},children:"Loading..."})},Vse=()=>{const{status:e}=rM(),n=new URLSearchParams(window.location.search).get("orderId"),r=()=>{window.location.href=`kt://payment-${e}?orderId=${n}`},i=e==="success",o={margin:0,fontFamily:"Arial, sans-serif",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:i?"linear-gradient(135deg, #4caf50, #81c784)":"linear-gradient(135deg, #f44336, #e57373)",color:"#fff"},s={width:"100px",height:"100px",margin:"0 auto 20px",borderRadius:"50%",background:"#fff",display:"flex",justifyContent:"center",alignItems:"center",color:i?"#4caf50":"#f44336",fontSize:"50px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},a={background:"#fff",color:i?"#4caf50":"#f44336",border:"none",padding:"10px 20px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",textDecoration:"none",transition:"background 0.3s"};return u.jsx("div",{style:o,children:u.jsxs("div",{className:"container",style:{textAlign:"center",animation:"fadeIn 1s ease-in-out"},children:[u.jsx("div",{style:s,children:i?"✓":"✕"}),u.jsx("h1",{children:i?"Payment Successful":"Payment Failed"}),u.jsx("p",{children:i?"Your payment has been processed successfully. Thank you!":"Unfortunately, your payment could not be processed. Please try again."}),u.jsx("button",{style:a,onClick:r,children:"Back to App"})]})})},Wse=Lf({name:Dn().min(1,"Name is required"),email:Dn().email("Invalid email format"),mobile:Dn().regex(/^\d+$/,"Mobile must be a valid number"),image:Dn().optional(),expertise:Gu(Dn()).min(1,"At least one area of expertise is required"),experienceYears:Mf().min(0,"Experience must be at least 0 years"),bio:Dn().optional(),isActive:KS().default(!0)});function Hse({initialData:e,onSubmit:t,onCancel:n}){const r=pd({resolver:$y(Wse),defaultValues:{name:"",email:"",mobile:"",image:"",expertise:[""],experienceYears:0,bio:"",isActive:!0}});return P.useEffect(()=>{e?Object.keys(e).forEach(i=>{r.setValue(i,e[i])}):(r.clearErrors(),r.reset())},[e,r]),u.jsx(lh,{...r,children:u.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-6",children:[u.jsx(Xt,{control:r.control,name:"name",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Name"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Mentore Name",...i})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"email",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Email"}),u.jsx(vn,{children:u.jsx(rn,{type:"email",placeholder:"Mentor Email",...i})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:r.control,name:"mobile",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Mobile"}),u.jsx(vn,{children:u.jsx(rn,{type:"tel",placeholder:"Mentore Mobile",...i,onChange:o=>{const s=o.target.value;/^\d*$/.test(s)&&i.onChange(s)}})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"experienceYears",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Experience Years"}),u.jsx(vn,{children:u.jsx(rn,{type:"number",placeholder:"Experience Years",...i,onChange:o=>i.onChange(Number(o.target.value))})}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:r.control,name:"image",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Image URL"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"https://...",...i})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"expertise",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Expertise"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Comma-separated expertise areas (e.g., Math, Science)",value:i.value.join(", "),onChange:o=>i.onChange(o.target.value.split(",").map(s=>s.trim()))})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:r.control,name:"bio",render:({field:i})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Bio"}),u.jsx(vn,{children:u.jsx(uh,{placeholder:"Short bio about the mentor",...i})}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(St,{variant:"outline",onClick:n,children:"Cancel"}),u.jsx(St,{type:"submit",children:e?"Update Mentore":"Add Mentore"})]})]})})}function Gse({open:e,onClose:t,mentore:n,onSubmit:r}){return u.jsx(Ol,{open:e,onOpenChange:t,modal:!0,children:u.jsxs(Oc,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",onPointerDownOutside:i=>i.preventDefault(),children:[u.jsx(Pc,{children:u.jsx(Nc,{children:n?"Edit Mentore":"Add New Mentore"})}),u.jsx(Hse,{initialData:n,onSubmit:r,onCancel:t})]})})}const qse={mentors:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Ex=_t("creatementore",async(e,{rejectWithValue:t})=>{try{return(await pt.post(K8,e)).data}catch(n){return t(n)}}),Cx=_t("fetchmentore",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(Y8,{params:{page:e,search:t}})).data}catch(r){return n(r)}}),Tx=_t("updatementore",async({id:e,mentoreData:t},{rejectWithValue:n})=>{try{return(await pt.put(`${Q8}/${e}`,t)).data}catch(r){return n(r)}}),Rx=_t("togglementoreStatus",async(e,{rejectWithValue:t})=>{try{return(await pt.post(X8,{mentorId:e})).data}catch(n){return t(n)}}),Kse=os({name:"mentors",initialState:qse,reducers:{},extraReducers:e=>{e.addCase(Ex.pending,(t,n)=>{t.isLoading=!0}).addCase(Ex.fulfilled,(t,n)=>{t.isLoading=!1,t.mentors.push(n.payload),t.mentors.sort((r,i)=>r.createdAt<i.createdAt?1:-1)}).addCase(Ex.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Hu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(Cx.pending,t=>{t.isLoading=!0}).addCase(Cx.fulfilled,(t,n)=>{t.isLoading=!1,t.mentors=n.payload.docs,t.totalPages=n.payload.totalPages,t.currentPage=n.payload.currentPage}).addCase(Cx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Hu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(Tx.pending,(t,n)=>{t.isLoading=!0}).addCase(Tx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload.response.data.message,Hu({title:"Error",description:n.payload.response.data.message,variant:"destructive"})}).addCase(Tx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.mentors.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.mentors[r]=n.payload)}).addCase(Rx.pending,(t,n)=>{}).addCase(Rx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.error.message}).addCase(Rx.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.mentors.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.mentors[r].isActive=!t.mentors[r].isActive)})}}),Yse=Kse.reducer,Qse=()=>{const e=Qn(),{toast:t}=kl(),[n,r]=P.useState(!1),[i,o]=P.useState(),[s,a]=P.useState(""),{mentors:c,isLoading:l,currentPage:f,totalPages:p}=Nn(_=>_.mentore);P.useEffect(()=>{R(1)},[s]);const m=()=>{o(void 0),r(!0)},E=_=>{o(_),r(!0)},x=()=>{r(!1),o(void 0)},y=_=>{console.log("creatementore :>> ",_),i?e(Tx({id:i._id,mentoreData:_})).then(C=>{C.type=="updatementore/fulfilled"&&(t({title:"Success",description:"Mentore updated successfully."}),x())}):e(Ex(_)).then(C=>{C.type=="creatementore/fulfilled"&&(t({title:"Success",description:"Mentore added successfully"}),x())})},w=_=>{e(Rx(_._id))},R=_=>{e(Cx({page:_,search:s}))};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Mentore"}),u.jsxs(St,{onClick:m,children:[u.jsx(td,{className:"mr-2 h-4 w-4"})," Add Mentore"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search mentor by name, mobile, email",value:s,onChange:_=>{a(_.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Name"}),u.jsx($e,{children:"Profile"}),u.jsx($e,{children:"Email"}),u.jsx($e,{children:"Mobile"}),u.jsx($e,{children:"Expertise"}),u.jsx($e,{children:"ExperienceYears"}),u.jsx($e,{children:"Bio"}),u.jsx($e,{children:"Status"}),u.jsx($e,{className:"text-right",children:"Actions"})]})}),u.jsx(cs,{children:l?u.jsx(Sn,{children:u.jsx(Me,{colSpan:7,className:"text-center py-10",children:"Loading..."})}):c.length===0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:7,className:"text-center py-10",children:"No Mentore found"})}):c.map(_=>u.jsxs(Sn,{children:[u.jsx(Me,{className:"font-medium",children:_.name}),u.jsx(Me,{children:u.jsx("img",{src:_.image?_.image:"../assets/images/placeholder.webp",alt:_.name,className:"h-13 w-12 rounded-full object-cover"})}),u.jsx(Me,{children:_.email?_.email:"-"}),u.jsx(Me,{children:_.mobile?_.mobile:"-"}),u.jsx(Me,{children:_.expertise.join(", ")}),u.jsx(Me,{children:_.experienceYears}),u.jsx(Me,{children:_.bio}),u.jsx(Me,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),u.jsxs(Me,{className:"text-right",children:[u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>E(_),children:u.jsx(AM,{className:"h-4 w-4"})}),u.jsx(St,{variant:"ghost",size:"icon",onClick:()=>w(_),children:_.isActive?u.jsx(hd,{className:"h-4 w-4"}):u.jsx(wy,{className:"h-4 w-4"})})]})]},_._id))})]})}),p>=1&&u.jsx(aa,{currentPage:f,totalPages:p,onPageChange:R}),u.jsx(Gse,{open:n,onClose:x,mentore:i,onSubmit:y})]})},XB=({items:e,name:t,control:n,isLoading:r,search:i,onSearch:o})=>{const{field:{value:s,onChange:a}}=Ok({name:t,control:n}),c=l=>{s.includes(l)?a(s.filter(f=>f!==l)):a([...s,l])};return u.jsxs(wk,{children:[u.jsx(Ek,{asChild:!0,children:u.jsx(vn,{children:u.jsx(St,{variant:"outline",role:"combobox",className:nt("w-full justify-between",!s.length&&"text-muted-foreground"),children:s&&s.length>0?`${s.length} ${t} selected`:`Select ${t}`})})}),u.jsxs(X_,{className:"w-[400px] p-0 max-h-[200px] overflow-auto",children:[u.jsx("div",{className:"p-2",children:u.jsx(rn,{placeholder:"Search...",value:i,onChange:l=>o(l.target.value.trim())})}),r?u.jsx("div",{className:"p-4 text-center",children:"Loading..."}):e.length===0?u.jsx("div",{className:"p-4 text-center",children:"No data available"}):e.map(l=>u.jsx(uF,{checked:s.includes(l.id),onCheckedChange:()=>c(l.id),className:"flex items-center space-x-2",children:l.label},l.id))]})]})},Xse={offers:[],isLoading:!1,error:null,currentPage:1,totalPages:1,courses:[],isLoadingCourse:!1,quizzes:[],isLoadingQuiz:!1},kx=_t("fetchOffers",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(cW,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Ox=_t("createOffer",async(e,{rejectWithValue:t})=>{try{return(await pt.post(lW,e)).data}catch(n){return t(n.response.data)}}),AC=_t("fetchOfferDetails",async(e,{rejectWithValue:t})=>{try{return(await pt.get(uW(e))).data}catch(n){return t(n.response.data)}}),Px=_t("updateOffer",async({id:e,updatedData:t},{rejectWithValue:n})=>{try{return(await pt.put(dW(e),t)).data}catch(r){return n(r.response.data)}}),Nx=_t("deleteOffer",async(e,{rejectWithValue:t})=>{try{return{...(await pt.delete(fW(e))).data,id:e}}catch(n){return t(n.response.data)}}),Ix=_t("searchEligibleQuizzes",async(e,{rejectWithValue:t})=>{try{return(await pt.post(hW,e)).data}catch(n){return t(n.response.data)}}),jx=_t("searchEligibleCourses",async(e,{rejectWithValue:t})=>{try{return(await pt.post(pW,e)).data}catch(n){return t(n.response.data)}}),Jse=os({name:"offer",initialState:Xse,reducers:{},extraReducers:e=>{e.addCase(kx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(kx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers=n.payload.offers,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(kx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Ox.pending,t=>{t.error=null}).addCase(Ox.fulfilled,(t,n)=>{t.isLoading=!1,t.offers.push(n.payload)}).addCase(Ox.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Hu({title:"Error",description:n.payload.message,variant:"destructive"})}).addCase(AC.pending,t=>{t.isLoading=!0,t.error=null}).addCase(AC.fulfilled,(t,n)=>{t.isLoading=!1,t.offers.findIndex(i=>i._id===n.payload._id)===-1&&t.offers.push(n.payload)}).addCase(AC.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(Px.pending,t=>{t.error=null}).addCase(Px.fulfilled,(t,n)=>{t.isLoading=!1;const r=t.offers.findIndex(i=>i._id===n.payload._id);r!==-1&&(t.offers[r]=n.payload)}).addCase(Px.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload,Hu({title:"Error",description:n.payload.message,variant:"destructive"})}).addCase(Nx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Nx.fulfilled,(t,n)=>{t.isLoading=!1,t.offers=t.offers.filter(r=>r._id!==n.payload.id)}).addCase(Nx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload}).addCase(jx.pending,t=>{t.isLoadingCourse=!0,t.error=null}).addCase(jx.fulfilled,(t,n)=>{t.isLoadingCourse=!1,t.courses=n.payload.courses}).addCase(jx.rejected,(t,n)=>{t.isLoadingCourse=!1,t.error=n.payload}).addCase(Ix.pending,t=>{t.isLoadingQuiz=!0,t.error=null}).addCase(Ix.fulfilled,(t,n)=>{t.isLoadingQuiz=!1,t.quizzes=n.payload.quizzes}).addCase(Ix.rejected,(t,n)=>{t.isLoadingQuiz=!1,t.error=n.payload})}}),Zse=Jse.reducer,eae=({courses:e,form:t,isLoading:n})=>{const r=e.map(c=>({id:c._id,label:c.title})),[i,o]=P.useState(""),s=Qn();P.useEffect(()=>{a(i)},[i]);const a=c=>{s(jx({search:c}))};return u.jsx(Pk,{control:t.control,name:"courses",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Courses"}),u.jsx(XB,{items:r,name:"courses",control:t.control,isLoading:n,onSearch:o,search:i}),u.jsx(Ft,{})]})})},tae=({quizzes:e,form:t,isLoading:n})=>{const r=e.map(c=>({id:c._id,label:c.title})),[i,o]=P.useState(""),s=Qn();P.useEffect(()=>{a(i)},[i]);const a=c=>{s(Ix({search:c}))};return u.jsx(Pk,{control:t.control,name:"quizzes",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Quizzes"}),u.jsx(XB,{items:r,name:"quizzes",control:t.control,isLoading:n,onSearch:o,search:i}),u.jsx(Ft,{})]})})};function nae({form:e}){return u.jsxs("div",{className:"flex gap-4",children:[u.jsx(Xt,{control:e.control,name:"startAt",render:({field:t})=>u.jsxs(Mt,{className:"flex-1",children:[u.jsx(Lt,{children:"Start Date"}),u.jsxs(cy,{children:[u.jsx(ly,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(St,{variant:"outline",className:nt("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?rs(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(rm,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(cm,{className:"w-auto p-0",align:"start",children:u.jsx(lm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<new Date,initialFocus:!0})})]}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:e.control,name:"endAt",render:({field:t})=>u.jsxs(Mt,{className:"flex-1",children:[u.jsx(Lt,{children:"End Date"}),u.jsxs(cy,{children:[u.jsx(ly,{asChild:!0,children:u.jsx(vn,{children:u.jsxs(St,{variant:"outline",className:nt("w-full pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?rs(t.value,"PPP"):u.jsx("span",{children:"Pick a date"}),u.jsx(rm,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),u.jsx(cm,{className:"w-auto p-0",align:"start",children:u.jsx(lm,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:n=>n<e.getValues("startAt"),initialFocus:!0})})]}),u.jsx(Ft,{})]})})]})}const rae=Lf({title:Dn().min(1,"Title is required"),description:Dn().min(1,"Description is required"),image:Dn().min(1,"Image is required"),offrPer:Mf().min(0).max(100),startAt:YS(),endAt:YS(),courses:Gu(Dn()).default([]),quizzes:Gu(Dn()).default([])});function iae({initialData:e,onSubmit:t}){const{courses:n,quizzes:r,isLoadingCourse:i,isLoadingQuiz:o}=Nn(a=>a.offer);Qn();const s=pd({resolver:$y(rae),defaultValues:{title:(e==null?void 0:e.title)??"",description:(e==null?void 0:e.description)??"",image:(e==null?void 0:e.image)??"",offrPer:(e==null?void 0:e.offrPer)??0,startAt:e!=null&&e.startAt?new Date(e.startAt):new Date,endAt:e!=null&&e.endAt?new Date(e.endAt):new Date,courses:Array.isArray(e==null?void 0:e.courses)?e.courses:[],quizzes:Array.isArray(e==null?void 0:e.quizzes)?e.quizzes:[]}});return u.jsx(lh,{...s,children:u.jsxs("form",{onSubmit:s.handleSubmit(t),className:"space-y-6",children:[u.jsx(Xt,{control:s.control,name:"title",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Enter offer title",...a})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:s.control,name:"description",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Description"}),u.jsx(vn,{children:u.jsx(uh,{placeholder:"Enter offer description",...a})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:s.control,name:"image",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Offer Image"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Enter offer image",...a})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:s.control,name:"offrPer",render:({field:a})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Offer Percentage"}),u.jsx(vn,{children:u.jsx(rn,{type:"number",placeholder:"Enter offer percentage",...a,onChange:c=>a.onChange(Number(c.target.value))})}),u.jsx(Ft,{})]})}),u.jsx(nae,{form:s}),u.jsx(eae,{form:s,courses:n,isLoading:i}),u.jsx(tae,{form:s,quizzes:r,isLoading:o}),u.jsx(St,{type:"submit",className:"w-full",children:e?"Update Offer":"Create Offer"})]})})}function oae({isLoading:e,offers:t,onEdit:n,onDelete:r}){return u.jsx("div",{className:"bg-white rounded-md border",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Title"}),u.jsx($e,{children:"Percentage"}),u.jsx($e,{children:"Offer Applied"}),u.jsx($e,{children:"Start Date"}),u.jsx($e,{children:"End Date"}),u.jsx($e,{children:"Actions"})]})}),u.jsx(cs,{children:e?u.jsx(Sn,{children:u.jsx(Me,{colSpan:6,className:"text-center",children:"Loading..."})}):t.length==0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:6,className:"text-center",children:"No Offer Available."})}):t.map(i=>u.jsxs(Sn,{children:[u.jsx(Me,{children:i.title}),u.jsxs(Me,{children:[i.offrPer,"%"]}),u.jsx(Me,{children:u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{children:[i.courses.length," ",i.courses.length>1?"Courses":"Course"]}),u.jsxs("span",{children:[i.quizzes.length," ",i.quizzes.length>1?"Quizzes":"Quiz"]})]})}),u.jsx(Me,{children:rs(new Date(i.startAt),"PPP")}),u.jsx(Me,{children:rs(new Date(i.endAt),"PPP")}),u.jsx(Me,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(St,{variant:"outline",size:"icon",onClick:()=>n(i),children:u.jsx(qR,{className:"h-4 w-4"})}),u.jsx(St,{variant:"destructive",size:"icon",onClick:()=>r(i._id),children:u.jsx(BT,{className:"h-4 w-4"})})]})})]},i._id))})]})})}const sae=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),{toast:i}=kl(),{currentPage:o,totalPages:s,isLoading:a,offers:c}=Nn(w=>w.offer),[l,f]=P.useState(""),p=Qn();P.useEffect(()=>{m(1)},[l]);const m=w=>{p(kx({page:w,search:l}))},E=w=>{n?p(Px({id:n._id,updatedData:w})).then(R=>{R.type=="updateOffer/fulfilled"&&(i({title:"Offer updated",description:"The offer has been successfully updated."}),t(!1),r(null))}):p(Ox(w)).then(R=>{R.type=="createOffer/fulfilled"&&(i({title:"Offer created",description:"The new offer has been successfully created."}),t(!1),r(null))})},x=w=>{r(w),t(!0)},y=w=>{p(Nx(w)).then(R=>{R.type=="deleteOffer/fulfilled"&&i({title:"Offer deleted",description:"The offer has been successfully deleted.",variant:"destructive"})})};return u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Offers Management"}),u.jsxs(St,{onClick:()=>{r(null),t(!0)},children:[u.jsx(td,{className:"mr-2 h-4 w-4"}),"Add New Offer"]})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search offer by title",value:l,onChange:w=>{f(w.target.value)},className:"max-w-sm"})}),u.jsx(Ol,{open:e,onOpenChange:t,children:u.jsxs(Oc,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Pc,{children:u.jsx(Nc,{children:n?"Edit Offer":"Create New Offer"})}),u.jsx(iae,{initialData:n||void 0,onSubmit:E})]})}),u.jsx(oae,{isLoading:a,offers:c,onEdit:x,onDelete:y}),s>=1&&u.jsx(aa,{currentPage:o,totalPages:s,onPageChange:m})]})},aae=({isOpen:e,onClose:t,initialValues:n,onSubmit:r,dropdownItems:i})=>{const o=pd({defaultValues:{subject:"",standard:""}}),s=i.map(c=>({label:c.std,id:c._id}));P.useEffect(()=>{var c;o.reset({subject:(n==null?void 0:n.subject)||"",standard:((c=n==null?void 0:n.standard)==null?void 0:c._id)||""})},[o,n]);const a=()=>{t()};return u.jsxs(Cw,{isOpen:e,onClose:a,children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:n?"Edit Subject":"Add Subject"}),u.jsx(lh,{...o,children:u.jsxs("form",{onSubmit:o.handleSubmit(r),className:"space-y-4",children:[u.jsx(Xt,{control:o.control,name:"subject",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Subject Name"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Enter subject name",...c})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:o.control,name:"standard",render:({field:c})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),u.jsx(hl,{placeholder:"Select items",name:"standard",control:o.control,onSearch:()=>{},listing:s,onItemSelect:l=>{}}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx(St,{variant:"outline",onClick:a,children:"Cancel"}),u.jsx(St,{type:"submit",children:"Submit"})]})]})})]})},cae=()=>{const[e,t]=P.useState(!1),[n,r]=P.useState(null),i=Qn(),{subjects:o,isLoading:s}=Nn(E=>E.subject),{standards:a,isLoading:c}=Nn(E=>E.standard);P.useEffect(()=>{i(Ff("")),i(fl())},[i]),[{name:"subject",label:"Subject Name",type:"text",placeholder:"Enter subject name",validation:mm().required("Subject Name is required.")},{name:"standard",label:"Standard",type:"select",options:a.map(E=>({value:E._id,label:E.std}))}].reduce((E,x)=>(E[x.name]="",E),{});const f=E=>{i(n?nx({id:n._id,data:E}):tx(E)),t(!1),r(null)},p=E=>{r(E),t(!0)},m=E=>{i(rx(E))};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Subjects"}),u.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{r(null),t(!e)},children:"Add Subject"})]}),u.jsx(aae,{isOpen:e,onClose:()=>t(!1),initialValues:n,onSubmit:f,dropdownItems:a}),u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 mt-5 bg-white",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"No"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Subject Name"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Standard"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"isActive"}),u.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Edit"})]})}),u.jsx("tbody",{children:Array.isArray(o)&&o.map((E,x)=>{var y;return u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:x+1}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.subject}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:E.standard?(y=E.standard)==null?void 0:y.std:"-"}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx(yd,{id:E._id,checked:E.isActive,onCheckedChange:()=>m(E._id)})}),u.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:u.jsx("button",{className:"text-blue-500 hover:text-blue-700 mr-2",onClick:()=>p(E),children:u.jsx(Ew,{})})})]},E._id)})})]})]})})};function lae(e,t=[]){let n=[];function r(o,s){const a=P.createContext(s),c=n.length;n=[...n,s];function l(p){const{scope:m,children:E,...x}=p,y=(m==null?void 0:m[e][c])||a,w=P.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:w,children:E})}function f(p,m){const E=(m==null?void 0:m[e][c])||a,x=P.useContext(E);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,f]}const i=()=>{const o=n.map(s=>P.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,uae(i,...t)]}function uae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:l})=>{const p=c(o)[`__scope${l}`];return{...a,...p}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var OO="Progress",PO=100,[dae,zce]=lae(OO),[fae,hae]=dae(OO),JB=P.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=pae,...s}=e;(i||i===0)&&!bj(i)&&console.error(mae(`${i}`,"Progress"));const a=bj(i)?i:PO;r!==null&&!xj(r,a)&&console.error(gae(`${r}`,"Progress"));const c=xj(r,a)?r:null,l=n_(c)?o(c,a):void 0;return u.jsx(fae,{scope:n,value:c,max:a,children:u.jsx(Pt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":n_(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":t3(c,a),"data-value":c??void 0,"data-max":a,...s,ref:t})})});JB.displayName=OO;var ZB="ProgressIndicator",e3=P.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=hae(ZB,n);return u.jsx(Pt.div,{"data-state":t3(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});e3.displayName=ZB;function pae(e,t){return`${Math.round(e/t*100)}%`}function t3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function n_(e){return typeof e=="number"}function bj(e){return n_(e)&&!isNaN(e)&&e>0}function xj(e,t){return n_(e)&&!isNaN(e)&&e<=t&&e>=0}function mae(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${PO}\`.`}function gae(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${PO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var n3=JB,vae=e3;const r3=P.forwardRef(({className:e,value:t,...n},r)=>u.jsx(n3,{ref:r,className:nt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:u.jsx(vae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));r3.displayName=n3.displayName;const Ax=_t("fetchAllPayment",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await pt.get(KM,{params:{page:e,userId:t}})).data}catch(r){return n(r.response.data)}}),Dx=_t("fetchUserQuizResult",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await pt.post(oW,{page:e,userId:t})).data}catch(r){return n(r)}}),Mx=_t("fetchUserCourseTracking",async({page:e,userId:t},{rejectWithValue:n})=>{try{return(await pt.post(sW,{page:e,userId:t})).data}catch(r){return n(r)}}),i3=_t("fetchUserDetails",async(e,{rejectWithValue:t})=>{try{return(await pt.post(aW,{userId:e})).data}catch(n){return t(n)}}),yae={error:"",isLoading:!1,payments:[],pyCurrentPage:1,pyTotalPage:0,quizResult:[],qrCurrentPage:1,qrTotalPages:0,user:null,courseTracking:[],crCurrentPage:1,crTotalPage:0},bae=os({name:"userDetail",initialState:yae,reducers:{},extraReducers:e=>{e.addCase(i3.fulfilled,(t,n)=>{t.user=n.payload}).addCase(Mx.pending,(t,n)=>{}).addCase(Mx.fulfilled,(t,n)=>{t.courseTracking=n.payload.courseTracking}).addCase(Mx.rejected,(t,n)=>{}).addCase(Dx.pending,(t,n)=>{}).addCase(Dx.fulfilled,(t,n)=>{t.quizResult=n.payload.docs,t.qrCurrentPage=n.payload.currentPage,t.qrTotalPages=n.payload.totalPages}).addCase(Dx.rejected,(t,n)=>{}).addCase(Ax.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Ax.fulfilled,(t,n)=>{t.isLoading=!1,t.payments=n.payload.docs,t.pyCurrentPage=n.payload.currentPage,t.pyTotalPage=n.payload.totalPages}).addCase(Ax.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),xae=bae.reducer,Sae=({userId:e})=>{const{courseTracking:t,crCurrentPage:n,crTotalPage:r}=Nn(s=>s.userDetail),i=Qn(),o=s=>{i(Mx({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(qu,{className:"pb-5",children:[u.jsx(Ku,{children:u.jsx(Yu,{children:"Course Progress"})}),u.jsx(Qu,{className:"space-y-6",children:t.length==0?u.jsx("p",{className:"text-center",children:"No course progress found"}):t.map(s=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"font-medium",children:s.courseTitle}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.completionRate,"%"]})]}),u.jsx(r3,{value:s.completionRate,className:"h-2"})]},s._id))}),r>=1&&u.jsx(aa,{currentPage:n,totalPages:r,onPageChange:o})]})},_ae=({userId:e})=>{const{payments:t,pyCurrentPage:n,pyTotalPage:r}=Nn(s=>s.userDetail),i=Qn(),o=s=>{i(Ax({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(qu,{className:"pb-5",children:[u.jsx(Ku,{children:u.jsx(Yu,{children:"Payment History"})}),u.jsx(Qu,{children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Item"}),u.jsx($e,{children:"Type"}),u.jsx($e,{children:"Amount"}),u.jsx($e,{children:"Status"}),u.jsx($e,{children:"Date"})]})}),u.jsx(cs,{children:t.length==0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:5,className:"text-center py-10",children:"No payment found"})}):t.map(s=>{var a;return u.jsxs(Sn,{children:[u.jsx(Me,{children:s.courseId?"Course":s.quizId?"Quiz":"-"}),u.jsx(Me,{children:s.quizId?s.quizId.title:(a=s==null?void 0:s.courseId)==null?void 0:a.title}),u.jsxs(Me,{children:["$",s.amount/100]}),u.jsx(Me,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.paymentStatus.toLowerCase()==="success"?"bg-green-100 text-green-800":s.paymentStatus.toLowerCase()==="create"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.paymentStatus})}),u.jsx(Me,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(s.paymentDate).toLocaleDateString()}),u.jsx("span",{children:new Date(s.paymentDate).toLocaleTimeString()})]})})]},s._id)})})]})}),r>=1&&u.jsx(aa,{currentPage:n,totalPages:r,onPageChange:o})]})},wae=({userId:e})=>{const{quizResult:t,qrCurrentPage:n,qrTotalPages:r}=Nn(s=>s.userDetail),i=Qn(),o=s=>{i(Dx({page:s,userId:e}))};return P.useEffect(()=>{o(1)},[]),u.jsxs(qu,{className:"pb-5",children:[u.jsx(Ku,{children:u.jsx(Yu,{children:"Quiz Results"})}),u.jsx(Qu,{children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Quiz Name"}),u.jsx($e,{children:"Score"}),u.jsx($e,{children:"Date"})]})}),u.jsx(cs,{children:t.length==0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:3,className:"text-center py-10",children:"No quiz result found"})}):t.map(s=>u.jsxs(Sn,{children:[u.jsx(Me,{children:s.quizId.title}),u.jsx(Me,{children:u.jsxs("span",{className:"font-medium",children:[s.score," / ",s.totalQuestions]})}),u.jsx(Me,{children:s.submittedAt?new Date(s.submittedAt).toLocaleTimeString():"-"})]},s._id))})]})}),r>=1&&u.jsx(aa,{currentPage:n,totalPages:r,onPageChange:o})]})},Eae=({userId:e})=>{var i,o;const{user:t}=Nn(s=>s.userDetail),n=Qn(),r=()=>{n(i3(e))};return P.useEffect(()=>{r()},[]),u.jsxs(qu,{children:[u.jsxs(Ku,{className:"flex flex-row items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(P6,{className:"h-8 w-8 text-blue-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Yu,{children:t==null?void 0:t.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.mobile})]}),u.jsx("div",{className:"text-sm text-muted-foreground text-right",children:u.jsxs("p",{children:["Last Login: ",new Date(t==null?void 0:t.lastLoginAt).toLocaleDateString()," ",new Date(t==null?void 0:t.lastLoginAt).toLocaleTimeString()]})})]}),u.jsx(Qu,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(rm,{className:"h-4 w-4"}),"Basic Information"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"})," ",new Date(t==null?void 0:t.dob).toLocaleDateString()]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Standard:"})," ",((i=t==null?void 0:t.stdId)==null?void 0:i.std)??""]}),u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Board:"})," ",((o=t==null?void 0:t.boardId)==null?void 0:o.boardshortname)??""]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(DM,{className:"h-4 w-4"}),"Academic Details"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"School:"})," ",t==null?void 0:t.schoolName]}),u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subjects:"})," ",u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t==null?void 0:t.subject.map(s=>u.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs",children:s.subject},s._id))})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(E6,{className:"h-4 w-4"}),"Extra Activities"]}),u.jsx("div",{className:"space-y-2",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:t==null?void 0:t.activity.map(s=>u.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full text-xs",children:s.activityname},s._id))})})]}),u.jsxs("div",{className:"space-y-3 md:col-span-2 lg:col-span-3",children:[u.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[u.jsx(k6,{className:"h-4 w-4"}),"Learning Progress"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCourses)??0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Enrolled Courses"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.completedQuizzes)??0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Quizzes"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-2xl font-bold",children:new Date(t==null?void 0:t.createdAt).toLocaleDateString()}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Member Since"})]})]})]})]})})]})},Cae=()=>{const{id:e}=rM();return u.jsx("div",{className:"container mx-auto py-8 px-4",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx(Eae,{userId:e}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsx(Sae,{userId:e}),u.jsx(wae,{userId:e})]}),u.jsx(_ae,{userId:e})]})})},Tae={transactions:[],isLoading:!1,error:null,totalPages:1,currentPage:1},Lx=_t("fetchAllTransactions",async({page:e,search:t},{rejectWithValue:n})=>{try{return(await pt.get(rW,{params:{page:e,search:t}})).data}catch(r){return n(r.response.data)}}),Rae=os({name:"transaction",initialState:Tae,reducers:{},extraReducers:e=>{e.addCase(Lx.pending,t=>{t.isLoading=!0,t.error=null}).addCase(Lx.fulfilled,(t,n)=>{t.isLoading=!1,t.transactions=n.payload.docs,t.currentPage=n.payload.currentPage,t.totalPages=n.payload.totalPages}).addCase(Lx.rejected,(t,n)=>{t.isLoading=!1,t.error=n.payload})}}),kae=Rae.reducer,Oae=()=>{const[e,t]=P.useState(""),{transactions:n,currentPage:r,totalPages:i,isLoading:o}=Nn(c=>c.transaction),s=Qn(),a=c=>{s(Lx({page:c,search:e}))};return P.useEffect(()=>{(e.length===0||e.length===10)&&a(1)},[e]),u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"space-y-1",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Transaction Records"})})}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx(rn,{placeholder:"Search user by mobile",value:e,onChange:c=>{t(c.target.value)},className:"max-w-sm"})}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Referral Name"}),u.jsx($e,{children:"Referral Mobile"}),u.jsx($e,{children:"Name"}),u.jsx($e,{children:"Mobile"}),u.jsx($e,{children:"Amount"}),u.jsx($e,{children:"Points"}),u.jsx($e,{children:"Transaction Type"}),u.jsx($e,{children:"Transaction Date"})]})}),u.jsx(cs,{children:n.map(c=>{var l,f,p,m;return console.log("=========================================",c),u.jsxs(Sn,{children:[u.jsx(Me,{children:(l=c==null?void 0:c.referredBy)==null?void 0:l.name}),u.jsx(Me,{children:(f=c==null?void 0:c.referredBy)==null?void 0:f.mobile}),u.jsx(Me,{children:(p=c==null?void 0:c.referredTo)==null?void 0:p.name}),u.jsx(Me,{children:(m=c==null?void 0:c.referredTo)==null?void 0:m.mobile}),u.jsxs(Me,{children:["₹",(c==null?void 0:c.amount)/100||0]}),u.jsx(Me,{children:c==null?void 0:c.points}),u.jsx(Me,{children:(c==null?void 0:c.transactionType)==="C"?"Withdraw":"Deposit"}),u.jsx(Me,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(c==null?void 0:c.date).toLocaleDateString()}),u.jsx("span",{children:new Date(c==null?void 0:c.date).toLocaleTimeString()})]})})]},c==null?void 0:c._id)})})]})}),i>=1&&u.jsx(aa,{currentPage:r,totalPages:i,onPageChange:a})]})};var o3={exports:{}};/*! For license information please see amazon-ivs-web-broadcast.js.LICENSE.txt */(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={2505:(s,a,c)=>{s.exports=c(8015)},5592:(s,a,c)=>{var l=c(9516),f=c(7522),p=c(3948),m=c(9106),E=c(9615),x=c(2012),y=c(4202),w=c(4896),R=c(5845),_=c(8563),C=c(5656);s.exports=function(I){return new Promise(function(A,U){var $,V=I.data,q=I.headers,X=I.responseType;function J(){I.cancelToken&&I.cancelToken.unsubscribe($),I.signal&&I.signal.removeEventListener("abort",$)}l.isFormData(V)&&l.isStandardBrowserEnv()&&delete q["Content-Type"];var G=new XMLHttpRequest;if(I.auth){var ee=I.auth.username||"",ce=I.auth.password?unescape(encodeURIComponent(I.auth.password)):"";q.Authorization="Basic "+btoa(ee+":"+ce)}var xe=E(I.baseURL,I.url);function Se(){if(G){var Q="getAllResponseHeaders"in G?x(G.getAllResponseHeaders()):null,ne={data:X&&X!=="text"&&X!=="json"?G.response:G.responseText,status:G.status,statusText:G.statusText,headers:Q,config:I,request:G};f(function(fe){A(fe),J()},function(fe){U(fe),J()},ne),G=null}}if(G.open(I.method.toUpperCase(),m(xe,I.params,I.paramsSerializer),!0),G.timeout=I.timeout,"onloadend"in G?G.onloadend=Se:G.onreadystatechange=function(){G&&G.readyState===4&&(G.status!==0||G.responseURL&&G.responseURL.indexOf("file:")===0)&&setTimeout(Se)},G.onabort=function(){G&&(U(new R("Request aborted",R.ECONNABORTED,I,G)),G=null)},G.onerror=function(){U(new R("Network Error",R.ERR_NETWORK,I,G,G)),G=null},G.ontimeout=function(){var Q=I.timeout?"timeout of "+I.timeout+"ms exceeded":"timeout exceeded",ne=I.transitional||w;I.timeoutErrorMessage&&(Q=I.timeoutErrorMessage),U(new R(Q,ne.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,I,G)),G=null},l.isStandardBrowserEnv()){var ve=(I.withCredentials||y(xe))&&I.xsrfCookieName?p.read(I.xsrfCookieName):void 0;ve&&(q[I.xsrfHeaderName]=ve)}"setRequestHeader"in G&&l.forEach(q,function(Q,ne){V===void 0&&ne.toLowerCase()==="content-type"?delete q[ne]:G.setRequestHeader(ne,Q)}),l.isUndefined(I.withCredentials)||(G.withCredentials=!!I.withCredentials),X&&X!=="json"&&(G.responseType=I.responseType),typeof I.onDownloadProgress=="function"&&G.addEventListener("progress",I.onDownloadProgress),typeof I.onUploadProgress=="function"&&G.upload&&G.upload.addEventListener("progress",I.onUploadProgress),(I.cancelToken||I.signal)&&($=function(Q){G&&(U(!Q||Q&&Q.type?new _:Q),G.abort(),G=null)},I.cancelToken&&I.cancelToken.subscribe($),I.signal&&(I.signal.aborted?$():I.signal.addEventListener("abort",$))),V||(V=null);var Y=C(xe);Y&&["http","https","file"].indexOf(Y)===-1?U(new R("Unsupported protocol "+Y+":",R.ERR_BAD_REQUEST,I)):G.send(V)})}},8015:(s,a,c)=>{var l=c(9516),f=c(9012),p=c(5155),m=c(5343),E=function x(y){var w=new p(y),R=f(p.prototype.request,w);return l.extend(R,p.prototype,w),l.extend(R,w),R.create=function(_){return x(m(y,_))},R}(c(7412));E.Axios=p,E.CanceledError=c(8563),E.CancelToken=c(3191),E.isCancel=c(3864),E.VERSION=c(9641).version,E.toFormData=c(6440),E.AxiosError=c(5845),E.Cancel=E.CanceledError,E.all=function(x){return Promise.all(x)},E.spread=c(7980),E.isAxiosError=c(5019),s.exports=E,s.exports.default=E},3191:(s,a,c)=>{var l=c(8563);function f(p){if(typeof p!="function")throw new TypeError("executor must be a function.");var m;this.promise=new Promise(function(x){m=x});var E=this;this.promise.then(function(x){if(E._listeners){var y,w=E._listeners.length;for(y=0;y<w;y++)E._listeners[y](x);E._listeners=null}}),this.promise.then=function(x){var y,w=new Promise(function(R){E.subscribe(R),y=R}).then(x);return w.cancel=function(){E.unsubscribe(y)},w},p(function(x){E.reason||(E.reason=new l(x),m(E.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.prototype.subscribe=function(p){this.reason?p(this.reason):this._listeners?this._listeners.push(p):this._listeners=[p]},f.prototype.unsubscribe=function(p){if(this._listeners){var m=this._listeners.indexOf(p);m!==-1&&this._listeners.splice(m,1)}},f.source=function(){var p;return{token:new f(function(m){p=m}),cancel:p}},s.exports=f},8563:(s,a,c)=>{var l=c(5845);function f(p){l.call(this,p??"canceled",l.ERR_CANCELED),this.name="CanceledError"}c(9516).inherits(f,l,{__CANCEL__:!0}),s.exports=f},3864:s=>{s.exports=function(a){return!(!a||!a.__CANCEL__)}},5155:(s,a,c)=>{var l=c(9516),f=c(9106),p=c(3471),m=c(4490),E=c(5343),x=c(9615),y=c(4841),w=y.validators;function R(_){this.defaults=_,this.interceptors={request:new p,response:new p}}R.prototype.request=function(_,C){typeof _=="string"?(C=C||{}).url=_:C=_||{},(C=E(this.defaults,C)).method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var I=C.transitional;I!==void 0&&y.assertOptions(I,{silentJSONParsing:w.transitional(w.boolean),forcedJSONParsing:w.transitional(w.boolean),clarifyTimeoutError:w.transitional(w.boolean)},!1);var A=[],U=!0;this.interceptors.request.forEach(function(ee){typeof ee.runWhen=="function"&&ee.runWhen(C)===!1||(U=U&&ee.synchronous,A.unshift(ee.fulfilled,ee.rejected))});var $,V=[];if(this.interceptors.response.forEach(function(ee){V.push(ee.fulfilled,ee.rejected)}),!U){var q=[m,void 0];for(Array.prototype.unshift.apply(q,A),q=q.concat(V),$=Promise.resolve(C);q.length;)$=$.then(q.shift(),q.shift());return $}for(var X=C;A.length;){var J=A.shift(),G=A.shift();try{X=J(X)}catch(ee){G(ee);break}}try{$=m(X)}catch(ee){return Promise.reject(ee)}for(;V.length;)$=$.then(V.shift(),V.shift());return $},R.prototype.getUri=function(_){_=E(this.defaults,_);var C=x(_.baseURL,_.url);return f(C,_.params,_.paramsSerializer)},l.forEach(["delete","get","head","options"],function(_){R.prototype[_]=function(C,I){return this.request(E(I||{},{method:_,url:C,data:(I||{}).data}))}}),l.forEach(["post","put","patch"],function(_){function C(I){return function(A,U,$){return this.request(E($||{},{method:_,headers:I?{"Content-Type":"multipart/form-data"}:{},url:A,data:U}))}}R.prototype[_]=C(),R.prototype[_+"Form"]=C(!0)}),s.exports=R},5845:(s,a,c)=>{var l=c(9516);function f(E,x,y,w,R){Error.call(this),this.message=E,this.name="AxiosError",x&&(this.code=x),y&&(this.config=y),w&&(this.request=w),R&&(this.response=R)}l.inherits(f,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var p=f.prototype,m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(E){m[E]={value:E}}),Object.defineProperties(f,m),Object.defineProperty(p,"isAxiosError",{value:!0}),f.from=function(E,x,y,w,R,_){var C=Object.create(p);return l.toFlatObject(E,C,function(I){return I!==Error.prototype}),f.call(C,E.message,x,y,w,R),C.name=E.name,_&&Object.assign(C,_),C},s.exports=f},3471:(s,a,c)=>{var l=c(9516);function f(){this.handlers=[]}f.prototype.use=function(p,m,E){return this.handlers.push({fulfilled:p,rejected:m,synchronous:!!E&&E.synchronous,runWhen:E?E.runWhen:null}),this.handlers.length-1},f.prototype.eject=function(p){this.handlers[p]&&(this.handlers[p]=null)},f.prototype.forEach=function(p){l.forEach(this.handlers,function(m){m!==null&&p(m)})},s.exports=f},9615:(s,a,c)=>{var l=c(9137),f=c(4680);s.exports=function(p,m){return p&&!l(m)?f(p,m):m}},4490:(s,a,c)=>{var l=c(9516),f=c(2881),p=c(3864),m=c(7412),E=c(8563);function x(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new E}s.exports=function(y){return x(y),y.headers=y.headers||{},y.data=f.call(y,y.data,y.headers,y.transformRequest),y.headers=l.merge(y.headers.common||{},y.headers[y.method]||{},y.headers),l.forEach(["delete","get","head","post","put","patch","common"],function(w){delete y.headers[w]}),(y.adapter||m.adapter)(y).then(function(w){return x(y),w.data=f.call(y,w.data,w.headers,y.transformResponse),w},function(w){return p(w)||(x(y),w&&w.response&&(w.response.data=f.call(y,w.response.data,w.response.headers,y.transformResponse))),Promise.reject(w)})}},5343:(s,a,c)=>{var l=c(9516);s.exports=function(f,p){p=p||{};var m={};function E(C,I){return l.isPlainObject(C)&&l.isPlainObject(I)?l.merge(C,I):l.isPlainObject(I)?l.merge({},I):l.isArray(I)?I.slice():I}function x(C){return l.isUndefined(p[C])?l.isUndefined(f[C])?void 0:E(void 0,f[C]):E(f[C],p[C])}function y(C){if(!l.isUndefined(p[C]))return E(void 0,p[C])}function w(C){return l.isUndefined(p[C])?l.isUndefined(f[C])?void 0:E(void 0,f[C]):E(void 0,p[C])}function R(C){return C in p?E(f[C],p[C]):C in f?E(void 0,f[C]):void 0}var _={url:y,method:y,data:y,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:R};return l.forEach(Object.keys(f).concat(Object.keys(p)),function(C){var I=_[C]||x,A=I(C);l.isUndefined(A)&&I!==R||(m[C]=A)}),m}},7522:(s,a,c)=>{var l=c(5845);s.exports=function(f,p,m){var E=m.config.validateStatus;m.status&&E&&!E(m.status)?p(new l("Request failed with status code "+m.status,[l.ERR_BAD_REQUEST,l.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m)):f(m)}},2881:(s,a,c)=>{var l=c(9516),f=c(7412);s.exports=function(p,m,E){var x=this||f;return l.forEach(E,function(y){p=y.call(x,p,m)}),p}},7412:(s,a,c)=>{var l=c(9516),f=c(7018),p=c(5845),m=c(4896),E=c(6440),x={"Content-Type":"application/x-www-form-urlencoded"};function y(_,C){!l.isUndefined(_)&&l.isUndefined(_["Content-Type"])&&(_["Content-Type"]=C)}var w,R={transitional:m,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(w=c(5592)),w),transformRequest:[function(_,C){if(f(C,"Accept"),f(C,"Content-Type"),l.isFormData(_)||l.isArrayBuffer(_)||l.isBuffer(_)||l.isStream(_)||l.isFile(_)||l.isBlob(_))return _;if(l.isArrayBufferView(_))return _.buffer;if(l.isURLSearchParams(_))return y(C,"application/x-www-form-urlencoded;charset=utf-8"),_.toString();var I,A=l.isObject(_),U=C&&C["Content-Type"];if((I=l.isFileList(_))||A&&U==="multipart/form-data"){var $=this.env&&this.env.FormData;return E(I?{"files[]":_}:_,$&&new $)}return A||U==="application/json"?(y(C,"application/json"),function(V,q,X){if(l.isString(V))try{return(q||JSON.parse)(V),l.trim(V)}catch(J){if(J.name!=="SyntaxError")throw J}return(0,JSON.stringify)(V)}(_)):_}],transformResponse:[function(_){var C=this.transitional||R.transitional,I=C&&C.silentJSONParsing,A=C&&C.forcedJSONParsing,U=!I&&this.responseType==="json";if(U||A&&l.isString(_)&&_.length)try{return JSON.parse(_)}catch($){if(U)throw $.name==="SyntaxError"?p.from($,p.ERR_BAD_RESPONSE,this,null,this.response):$}return _}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:c(1534)},validateStatus:function(_){return _>=200&&_<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};l.forEach(["delete","get","head"],function(_){R.headers[_]={}}),l.forEach(["post","put","patch"],function(_){R.headers[_]=l.merge(x)}),s.exports=R},4896:s=>{s.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9641:s=>{s.exports={version:"0.27.2"}},9012:s=>{s.exports=function(a,c){return function(){for(var l=new Array(arguments.length),f=0;f<l.length;f++)l[f]=arguments[f];return a.apply(c,l)}}},9106:(s,a,c)=>{var l=c(9516);function f(p){return encodeURIComponent(p).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}s.exports=function(p,m,E){if(!m)return p;var x;if(E)x=E(m);else if(l.isURLSearchParams(m))x=m.toString();else{var y=[];l.forEach(m,function(R,_){R!=null&&(l.isArray(R)?_+="[]":R=[R],l.forEach(R,function(C){l.isDate(C)?C=C.toISOString():l.isObject(C)&&(C=JSON.stringify(C)),y.push(f(_)+"="+f(C))}))}),x=y.join("&")}if(x){var w=p.indexOf("#");w!==-1&&(p=p.slice(0,w)),p+=(p.indexOf("?")===-1?"?":"&")+x}return p}},4680:s=>{s.exports=function(a,c){return c?a.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,""):a}},3948:(s,a,c)=>{var l=c(9516);s.exports=l.isStandardBrowserEnv()?{write:function(f,p,m,E,x,y){var w=[];w.push(f+"="+encodeURIComponent(p)),l.isNumber(m)&&w.push("expires="+new Date(m).toGMTString()),l.isString(E)&&w.push("path="+E),l.isString(x)&&w.push("domain="+x),y===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(f){var p=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return p?decodeURIComponent(p[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:s=>{s.exports=function(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}},5019:(s,a,c)=>{var l=c(9516);s.exports=function(f){return l.isObject(f)&&f.isAxiosError===!0}},4202:(s,a,c)=>{var l=c(9516);s.exports=l.isStandardBrowserEnv()?function(){var f,p=/(msie|trident)/i.test(navigator.userAgent),m=document.createElement("a");function E(x){var y=x;return p&&(m.setAttribute("href",y),y=m.href),m.setAttribute("href",y),{href:m.href,protocol:m.protocol?m.protocol.replace(/:$/,""):"",host:m.host,search:m.search?m.search.replace(/^\?/,""):"",hash:m.hash?m.hash.replace(/^#/,""):"",hostname:m.hostname,port:m.port,pathname:m.pathname.charAt(0)==="/"?m.pathname:"/"+m.pathname}}return f=E(window.location.href),function(x){var y=l.isString(x)?E(x):x;return y.protocol===f.protocol&&y.host===f.host}}():function(){return!0}},7018:(s,a,c)=>{var l=c(9516);s.exports=function(f,p){l.forEach(f,function(m,E){E!==p&&E.toUpperCase()===p.toUpperCase()&&(f[p]=m,delete f[E])})}},1534:s=>{s.exports=null},2012:(s,a,c)=>{var l=c(9516),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];s.exports=function(p){var m,E,x,y={};return p&&l.forEach(p.split(`
`),function(w){if(x=w.indexOf(":"),m=l.trim(w.substr(0,x)).toLowerCase(),E=l.trim(w.substr(x+1)),m){if(y[m]&&f.indexOf(m)>=0)return;y[m]=m==="set-cookie"?(y[m]?y[m]:[]).concat([E]):y[m]?y[m]+", "+E:E}}),y}},5656:s=>{s.exports=function(a){var c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return c&&c[1]||""}},7980:s=>{s.exports=function(a){return function(c){return a.apply(null,c)}}},6440:(s,a,c)=>{var l=c(9516);s.exports=function(f,p){p=p||new FormData;var m=[];function E(x){return x===null?"":l.isDate(x)?x.toISOString():l.isArrayBuffer(x)||l.isTypedArray(x)?typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}return function x(y,w){if(l.isPlainObject(y)||l.isArray(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+w);m.push(y),l.forEach(y,function(R,_){if(!l.isUndefined(R)){var C,I=w?w+"."+_:_;if(R&&!w&&typeof R=="object"){if(l.endsWith(_,"{}"))R=JSON.stringify(R);else if(l.endsWith(_,"[]")&&(C=l.toArray(R)))return void C.forEach(function(A){!l.isUndefined(A)&&p.append(I,E(A))})}x(R,I)}}),m.pop()}else p.append(w,E(y))}(f),p}},4841:(s,a,c)=>{var l=c(9641).version,f=c(5845),p={};["object","boolean","number","function","string","symbol"].forEach(function(E,x){p[E]=function(y){return typeof y===E||"a"+(x<1?"n ":" ")+E}});var m={};p.transitional=function(E,x,y){function w(R,_){return"[Axios v"+l+"] Transitional option '"+R+"'"+_+(y?". "+y:"")}return function(R,_,C){if(E===!1)throw new f(w(_," has been removed"+(x?" in "+x:"")),f.ERR_DEPRECATED);return x&&!m[_]&&(m[_]=!0,console.warn(w(_," has been deprecated since v"+x+" and will be removed in the near future"))),!E||E(R,_,C)}},s.exports={assertOptions:function(E,x,y){if(typeof E!="object")throw new f("options must be an object",f.ERR_BAD_OPTION_VALUE);for(var w=Object.keys(E),R=w.length;R-- >0;){var _=w[R],C=x[_];if(C){var I=E[_],A=I===void 0||C(I,_,E);if(A!==!0)throw new f("option "+_+" must be "+A,f.ERR_BAD_OPTION_VALUE)}else if(y!==!0)throw new f("Unknown option "+_,f.ERR_BAD_OPTION)}},validators:p}},9516:(s,a,c)=>{var l,f=c(9012),p=Object.prototype.toString,m=(l=Object.create(null),function(G){var ee=p.call(G);return l[ee]||(l[ee]=ee.slice(8,-1).toLowerCase())});function E(G){return G=G.toLowerCase(),function(ee){return m(ee)===G}}function x(G){return Array.isArray(G)}function y(G){return G===void 0}var w=E("ArrayBuffer");function R(G){return G!==null&&typeof G=="object"}function _(G){if(m(G)!=="object")return!1;var ee=Object.getPrototypeOf(G);return ee===null||ee===Object.prototype}var C=E("Date"),I=E("File"),A=E("Blob"),U=E("FileList");function $(G){return p.call(G)==="[object Function]"}var V=E("URLSearchParams");function q(G,ee){if(G!=null)if(typeof G!="object"&&(G=[G]),x(G))for(var ce=0,xe=G.length;ce<xe;ce++)ee.call(null,G[ce],ce,G);else for(var Se in G)Object.prototype.hasOwnProperty.call(G,Se)&&ee.call(null,G[Se],Se,G)}var X,J=(X=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(G){return X&&G instanceof X});s.exports={isArray:x,isArrayBuffer:w,isBuffer:function(G){return G!==null&&!y(G)&&G.constructor!==null&&!y(G.constructor)&&typeof G.constructor.isBuffer=="function"&&G.constructor.isBuffer(G)},isFormData:function(G){var ee="[object FormData]";return G&&(typeof FormData=="function"&&G instanceof FormData||p.call(G)===ee||$(G.toString)&&G.toString()===ee)},isArrayBufferView:function(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):G&&G.buffer&&w(G.buffer)},isString:function(G){return typeof G=="string"},isNumber:function(G){return typeof G=="number"},isObject:R,isPlainObject:_,isUndefined:y,isDate:C,isFile:I,isBlob:A,isFunction:$,isStream:function(G){return R(G)&&$(G.pipe)},isURLSearchParams:V,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:q,merge:function G(){var ee={};function ce(ve,Y){_(ee[Y])&&_(ve)?ee[Y]=G(ee[Y],ve):_(ve)?ee[Y]=G({},ve):x(ve)?ee[Y]=ve.slice():ee[Y]=ve}for(var xe=0,Se=arguments.length;xe<Se;xe++)q(arguments[xe],ce);return ee},extend:function(G,ee,ce){return q(ee,function(xe,Se){G[Se]=ce&&typeof xe=="function"?f(xe,ce):xe}),G},trim:function(G){return G.trim?G.trim():G.replace(/^\s+|\s+$/g,"")},stripBOM:function(G){return G.charCodeAt(0)===65279&&(G=G.slice(1)),G},inherits:function(G,ee,ce,xe){G.prototype=Object.create(ee.prototype,xe),G.prototype.constructor=G,ce&&Object.assign(G.prototype,ce)},toFlatObject:function(G,ee,ce){var xe,Se,ve,Y={};ee=ee||{};do{for(Se=(xe=Object.getOwnPropertyNames(G)).length;Se-- >0;)Y[ve=xe[Se]]||(ee[ve]=G[ve],Y[ve]=!0);G=Object.getPrototypeOf(G)}while(G&&(!ce||ce(G,ee))&&G!==Object.prototype);return ee},kindOf:m,kindOfTest:E,endsWith:function(G,ee,ce){G=String(G),(ce===void 0||ce>G.length)&&(ce=G.length),ce-=ee.length;var xe=G.indexOf(ee,ce);return xe!==-1&&xe===ce},toArray:function(G){if(!G)return null;var ee=G.length;if(y(ee))return null;for(var ce=new Array(ee);ee-- >0;)ce[ee]=G[ee];return ce},isTypedArray:J,isFileList:U}},6880:function(s){s.exports=function(a){var c={};function l(f){if(c[f])return c[f].exports;var p=c[f]={i:f,l:!1,exports:{}};return a[f].call(p.exports,p,p.exports,l),p.l=!0,p.exports}return l.m=a,l.c=c,l.d=function(f,p,m){l.o(f,p)||Object.defineProperty(f,p,{enumerable:!0,get:m})},l.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},l.t=function(f,p){if(1&p&&(f=l(f)),8&p||4&p&&typeof f=="object"&&f&&f.__esModule)return f;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:f}),2&p&&typeof f!="string")for(var E in f)l.d(m,E,(function(x){return f[x]}).bind(null,E));return m},l.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return l.d(p,"a",p),p},l.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},l.p="",l(l.s=90)}({17:function(a,c,l){c.__esModule=!0,c.default=void 0;var f=l(18),p=function(){function m(){}return m.getFirstMatch=function(E,x){var y=x.match(E);return y&&y.length>0&&y[1]||""},m.getSecondMatch=function(E,x){var y=x.match(E);return y&&y.length>1&&y[2]||""},m.matchAndReturnConst=function(E,x,y){if(E.test(x))return y},m.getWindowsVersionName=function(E){switch(E){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},m.getMacOSVersionName=function(E){var x=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(x.push(0),x[0]===10)switch(x[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},m.getAndroidVersionName=function(E){var x=E.split(".").splice(0,2).map(function(y){return parseInt(y,10)||0});if(x.push(0),!(x[0]===1&&x[1]<5))return x[0]===1&&x[1]<6?"Cupcake":x[0]===1&&x[1]>=6?"Donut":x[0]===2&&x[1]<2?"Eclair":x[0]===2&&x[1]===2?"Froyo":x[0]===2&&x[1]>2?"Gingerbread":x[0]===3?"Honeycomb":x[0]===4&&x[1]<1?"Ice Cream Sandwich":x[0]===4&&x[1]<4?"Jelly Bean":x[0]===4&&x[1]>=4?"KitKat":x[0]===5?"Lollipop":x[0]===6?"Marshmallow":x[0]===7?"Nougat":x[0]===8?"Oreo":x[0]===9?"Pie":void 0},m.getVersionPrecision=function(E){return E.split(".").length},m.compareVersions=function(E,x,y){y===void 0&&(y=!1);var w=m.getVersionPrecision(E),R=m.getVersionPrecision(x),_=Math.max(w,R),C=0,I=m.map([E,x],function(A){var U=_-m.getVersionPrecision(A),$=A+new Array(U+1).join(".0");return m.map($.split("."),function(V){return new Array(20-V.length).join("0")+V}).reverse()});for(y&&(C=_-Math.min(w,R)),_-=1;_>=C;){if(I[0][_]>I[1][_])return 1;if(I[0][_]===I[1][_]){if(_===C)return 0;_-=1}else if(I[0][_]<I[1][_])return-1}},m.map=function(E,x){var y,w=[];if(Array.prototype.map)return Array.prototype.map.call(E,x);for(y=0;y<E.length;y+=1)w.push(x(E[y]));return w},m.find=function(E,x){var y,w;if(Array.prototype.find)return Array.prototype.find.call(E,x);for(y=0,w=E.length;y<w;y+=1){var R=E[y];if(x(R,y))return R}},m.assign=function(E){for(var x,y,w=E,R=arguments.length,_=new Array(R>1?R-1:0),C=1;C<R;C++)_[C-1]=arguments[C];if(Object.assign)return Object.assign.apply(Object,[E].concat(_));var I=function(){var A=_[x];typeof A=="object"&&A!==null&&Object.keys(A).forEach(function(U){w[U]=A[U]})};for(x=0,y=_.length;x<y;x+=1)I();return E},m.getBrowserAlias=function(E){return f.BROWSER_ALIASES_MAP[E]},m.getBrowserTypeByAlias=function(E){return f.BROWSER_MAP[E]||""},m}();c.default=p,a.exports=c.default},18:function(a,c,l){c.__esModule=!0,c.ENGINE_MAP=c.OS_MAP=c.PLATFORMS_MAP=c.BROWSER_MAP=c.BROWSER_ALIASES_MAP=void 0,c.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},c.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},c.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},c.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},c.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(a,c,l){c.__esModule=!0,c.default=void 0;var f,p=(f=l(91))&&f.__esModule?f:{default:f},m=l(18);function E(y,w){for(var R=0;R<w.length;R++){var _=w[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}var x=function(){function y(){}var w,R,_;return y.getParser=function(C,I){if(I===void 0&&(I=!1),typeof C!="string")throw new Error("UserAgent should be a string");return new p.default(C,I)},y.parse=function(C){return new p.default(C).getResult()},w=y,_=[{key:"BROWSER_MAP",get:function(){return m.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return m.ENGINE_MAP}},{key:"OS_MAP",get:function(){return m.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return m.PLATFORMS_MAP}}],(R=null)&&E(w.prototype,R),_&&E(w,_),y}();c.default=x,a.exports=c.default},91:function(a,c,l){c.__esModule=!0,c.default=void 0;var f=y(l(92)),p=y(l(93)),m=y(l(94)),E=y(l(95)),x=y(l(17));function y(R){return R&&R.__esModule?R:{default:R}}var w=function(){function R(C,I){if(I===void 0&&(I=!1),C==null||C==="")throw new Error("UserAgent parameter can't be empty");this._ua=C,this.parsedResult={},I!==!0&&this.parse()}var _=R.prototype;return _.getUA=function(){return this._ua},_.test=function(C){return C.test(this._ua)},_.parseBrowser=function(){var C=this;this.parsedResult.browser={};var I=x.default.find(f.default,function(A){if(typeof A.test=="function")return A.test(C);if(A.test instanceof Array)return A.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.browser=I.describe(this.getUA())),this.parsedResult.browser},_.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},_.getBrowserName=function(C){return C?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},_.getBrowserVersion=function(){return this.getBrowser().version},_.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},_.parseOS=function(){var C=this;this.parsedResult.os={};var I=x.default.find(p.default,function(A){if(typeof A.test=="function")return A.test(C);if(A.test instanceof Array)return A.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.os=I.describe(this.getUA())),this.parsedResult.os},_.getOSName=function(C){var I=this.getOS().name;return C?String(I).toLowerCase()||"":I||""},_.getOSVersion=function(){return this.getOS().version},_.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},_.getPlatformType=function(C){C===void 0&&(C=!1);var I=this.getPlatform().type;return C?String(I).toLowerCase()||"":I||""},_.parsePlatform=function(){var C=this;this.parsedResult.platform={};var I=x.default.find(m.default,function(A){if(typeof A.test=="function")return A.test(C);if(A.test instanceof Array)return A.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.platform=I.describe(this.getUA())),this.parsedResult.platform},_.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},_.getEngineName=function(C){return C?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},_.parseEngine=function(){var C=this;this.parsedResult.engine={};var I=x.default.find(E.default,function(A){if(typeof A.test=="function")return A.test(C);if(A.test instanceof Array)return A.test.some(function(U){return C.test(U)});throw new Error("Browser's test function is not valid")});return I&&(this.parsedResult.engine=I.describe(this.getUA())),this.parsedResult.engine},_.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},_.getResult=function(){return x.default.assign({},this.parsedResult)},_.satisfies=function(C){var I=this,A={},U=0,$={},V=0;if(Object.keys(C).forEach(function(Se){var ve=C[Se];typeof ve=="string"?($[Se]=ve,V+=1):typeof ve=="object"&&(A[Se]=ve,U+=1)}),U>0){var q=Object.keys(A),X=x.default.find(q,function(Se){return I.isOS(Se)});if(X){var J=this.satisfies(A[X]);if(J!==void 0)return J}var G=x.default.find(q,function(Se){return I.isPlatform(Se)});if(G){var ee=this.satisfies(A[G]);if(ee!==void 0)return ee}}if(V>0){var ce=Object.keys($),xe=x.default.find(ce,function(Se){return I.isBrowser(Se,!0)});if(xe!==void 0)return this.compareVersion($[xe])}},_.isBrowser=function(C,I){I===void 0&&(I=!1);var A=this.getBrowserName().toLowerCase(),U=C.toLowerCase(),$=x.default.getBrowserTypeByAlias(U);return I&&$&&(U=$.toLowerCase()),U===A},_.compareVersion=function(C){var I=[0],A=C,U=!1,$=this.getBrowserVersion();if(typeof $=="string")return C[0]===">"||C[0]==="<"?(A=C.substr(1),C[1]==="="?(U=!0,A=C.substr(2)):I=[],C[0]===">"?I.push(1):I.push(-1)):C[0]==="="?A=C.substr(1):C[0]==="~"&&(U=!0,A=C.substr(1)),I.indexOf(x.default.compareVersions($,A,U))>-1},_.isOS=function(C){return this.getOSName(!0)===String(C).toLowerCase()},_.isPlatform=function(C){return this.getPlatformType(!0)===String(C).toLowerCase()},_.isEngine=function(C){return this.getEngineName(!0)===String(C).toLowerCase()},_.is=function(C,I){return I===void 0&&(I=!1),this.isBrowser(C,I)||this.isOS(C)||this.isPlatform(C)},_.some=function(C){var I=this;return C===void 0&&(C=[]),C.some(function(A){return I.is(A)})},R}();c.default=w,a.exports=c.default},92:function(a,c,l){c.__esModule=!0,c.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=/version\/(\d+(\.?_?\d+)+)/i,E=[{test:[/googlebot/i],describe:function(x){var y={name:"Googlebot"},w=p.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/opera/i],describe:function(x){var y={name:"Opera"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/opr\/|opios/i],describe:function(x){var y={name:"Opera"},w=p.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/SamsungBrowser/i],describe:function(x){var y={name:"Samsung Internet for Android"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/Whale/i],describe:function(x){var y={name:"NAVER Whale Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/MZBrowser/i],describe:function(x){var y={name:"MZ Browser"},w=p.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/focus/i],describe:function(x){var y={name:"Focus"},w=p.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/swing/i],describe:function(x){var y={name:"Swing"},w=p.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/coast/i],describe:function(x){var y={name:"Opera Coast"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(x){var y={name:"Opera Touch"},w=p.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/yabrowser/i],describe:function(x){var y={name:"Yandex Browser"},w=p.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/ucbrowser/i],describe:function(x){var y={name:"UC Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/Maxthon|mxios/i],describe:function(x){var y={name:"Maxthon"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/epiphany/i],describe:function(x){var y={name:"Epiphany"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/puffin/i],describe:function(x){var y={name:"Puffin"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/sleipnir/i],describe:function(x){var y={name:"Sleipnir"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/k-meleon/i],describe:function(x){var y={name:"K-Meleon"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/micromessenger/i],describe:function(x){var y={name:"WeChat"},w=p.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/qqbrowser/i],describe:function(x){var y={name:/qqbrowserlite/i.test(x)?"QQ Browser Lite":"QQ Browser"},w=p.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/msie|trident/i],describe:function(x){var y={name:"Internet Explorer"},w=p.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/\sedg\//i],describe:function(x){var y={name:"Microsoft Edge"},w=p.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/edg([ea]|ios)/i],describe:function(x){var y={name:"Microsoft Edge"},w=p.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/vivaldi/i],describe:function(x){var y={name:"Vivaldi"},w=p.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/seamonkey/i],describe:function(x){var y={name:"SeaMonkey"},w=p.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/sailfish/i],describe:function(x){var y={name:"Sailfish"},w=p.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,x);return w&&(y.version=w),y}},{test:[/silk/i],describe:function(x){var y={name:"Amazon Silk"},w=p.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/phantom/i],describe:function(x){var y={name:"PhantomJS"},w=p.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/slimerjs/i],describe:function(x){var y={name:"SlimerJS"},w=p.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(x){var y={name:"BlackBerry"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/(web|hpw)[o0]s/i],describe:function(x){var y={name:"WebOS Browser"},w=p.default.getFirstMatch(m,x)||p.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/bada/i],describe:function(x){var y={name:"Bada"},w=p.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/tizen/i],describe:function(x){var y={name:"Tizen"},w=p.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/qupzilla/i],describe:function(x){var y={name:"QupZilla"},w=p.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/firefox|iceweasel|fxios/i],describe:function(x){var y={name:"Firefox"},w=p.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/electron/i],describe:function(x){var y={name:"Electron"},w=p.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/MiuiBrowser/i],describe:function(x){var y={name:"Miui"},w=p.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/chromium/i],describe:function(x){var y={name:"Chromium"},w=p.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,x)||p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/chrome|crios|crmo/i],describe:function(x){var y={name:"Chrome"},w=p.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/GSA/i],describe:function(x){var y={name:"Google Search"},w=p.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){var y=!x.test(/like android/i),w=x.test(/android/i);return y&&w},describe:function(x){var y={name:"Android Browser"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/playstation 4/i],describe:function(x){var y={name:"PlayStation 4"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/safari|applewebkit/i],describe:function(x){var y={name:"Safari"},w=p.default.getFirstMatch(m,x);return w&&(y.version=w),y}},{test:[/.*/i],describe:function(x){var y=x.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:p.default.getFirstMatch(y,x),version:p.default.getSecondMatch(y,x)}}}];c.default=E,a.exports=c.default},93:function(a,c,l){c.__esModule=!0,c.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=l(18),E=[{test:[/Roku\/DVP/],describe:function(x){var y=p.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,x);return{name:m.OS_MAP.Roku,version:y}}},{test:[/windows phone/i],describe:function(x){var y=p.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.WindowsPhone,version:y}}},{test:[/windows /i],describe:function(x){var y=p.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,x),w=p.default.getWindowsVersionName(y);return{name:m.OS_MAP.Windows,version:y,versionName:w}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(x){var y={name:m.OS_MAP.iOS},w=p.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,x);return w&&(y.version=w),y}},{test:[/macintosh/i],describe:function(x){var y=p.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,x).replace(/[_\s]/g,"."),w=p.default.getMacOSVersionName(y),R={name:m.OS_MAP.MacOS,version:y};return w&&(R.versionName=w),R}},{test:[/(ipod|iphone|ipad)/i],describe:function(x){var y=p.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,x).replace(/[_\s]/g,".");return{name:m.OS_MAP.iOS,version:y}}},{test:function(x){var y=!x.test(/like android/i),w=x.test(/android/i);return y&&w},describe:function(x){var y=p.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,x),w=p.default.getAndroidVersionName(y),R={name:m.OS_MAP.Android,version:y};return w&&(R.versionName=w),R}},{test:[/(web|hpw)[o0]s/i],describe:function(x){var y=p.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,x),w={name:m.OS_MAP.WebOS};return y&&y.length&&(w.version=y),w}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(x){var y=p.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,x)||p.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,x)||p.default.getFirstMatch(/\bbb(\d+)/i,x);return{name:m.OS_MAP.BlackBerry,version:y}}},{test:[/bada/i],describe:function(x){var y=p.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.Bada,version:y}}},{test:[/tizen/i],describe:function(x){var y=p.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.Tizen,version:y}}},{test:[/linux/i],describe:function(){return{name:m.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:m.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(x){var y=p.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,x);return{name:m.OS_MAP.PlayStation4,version:y}}}];c.default=E,a.exports=c.default},94:function(a,c,l){c.__esModule=!0,c.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=l(18),E=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(x){var y=p.default.getFirstMatch(/(can-l01)/i,x)&&"Nova",w={type:m.PLATFORMS_MAP.mobile,vendor:"Huawei"};return y&&(w.model=y),w}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(x){var y=x.test(/ipod|iphone/i),w=x.test(/like (ipod|iphone)/i);return y&&!w},describe:function(x){var y=p.default.getFirstMatch(/(ipod|iphone)/i,x);return{type:m.PLATFORMS_MAP.mobile,vendor:"Apple",model:y}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getBrowserName(!0)==="blackberry"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(x){return x.getBrowserName(!0)==="bada"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getBrowserName()==="windows phone"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(x){var y=Number(String(x.getOSVersion()).split(".")[0]);return x.getOSName(!0)==="android"&&y>=3},describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(x){return x.getOSName(!0)==="android"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(x){return x.getOSName(!0)==="macos"},describe:function(){return{type:m.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(x){return x.getOSName(!0)==="windows"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(x){return x.getOSName(!0)==="linux"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(x){return x.getOSName(!0)==="playstation 4"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}},{test:function(x){return x.getOSName(!0)==="roku"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}}];c.default=E,a.exports=c.default},95:function(a,c,l){c.__esModule=!0,c.default=void 0;var f,p=(f=l(17))&&f.__esModule?f:{default:f},m=l(18),E=[{test:function(x){return x.getBrowserName(!0)==="microsoft edge"},describe:function(x){if(/\sedg\//i.test(x))return{name:m.ENGINE_MAP.Blink};var y=p.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,x);return{name:m.ENGINE_MAP.EdgeHTML,version:y}}},{test:[/trident/i],describe:function(x){var y={name:m.ENGINE_MAP.Trident},w=p.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){return x.test(/presto/i)},describe:function(x){var y={name:m.ENGINE_MAP.Presto},w=p.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:function(x){var y=x.test(/gecko/i),w=x.test(/like gecko/i);return y&&!w},describe:function(x){var y={name:m.ENGINE_MAP.Gecko},w=p.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:m.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(x){var y={name:m.ENGINE_MAP.WebKit},w=p.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,x);return w&&(y.version=w),y}}];c.default=E,a.exports=c.default}})},228:s=>{var a=Object.prototype.hasOwnProperty,c="~";function l(){}function f(x,y,w){this.fn=x,this.context=y,this.once=w||!1}function p(x,y,w,R,_){if(typeof w!="function")throw new TypeError("The listener must be a function");var C=new f(w,R||x,_),I=c?c+y:y;return x._events[I]?x._events[I].fn?x._events[I]=[x._events[I],C]:x._events[I].push(C):(x._events[I]=C,x._eventsCount++),x}function m(x,y){--x._eventsCount==0?x._events=new l:delete x._events[y]}function E(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(c=!1)),E.prototype.eventNames=function(){var x,y,w=[];if(this._eventsCount===0)return w;for(y in x=this._events)a.call(x,y)&&w.push(c?y.slice(1):y);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(x)):w},E.prototype.listeners=function(x){var y=c?c+x:x,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var R=0,_=w.length,C=new Array(_);R<_;R++)C[R]=w[R].fn;return C},E.prototype.listenerCount=function(x){var y=c?c+x:x,w=this._events[y];return w?w.fn?1:w.length:0},E.prototype.emit=function(x,y,w,R,_,C){var I=c?c+x:x;if(!this._events[I])return!1;var A,U,$=this._events[I],V=arguments.length;if($.fn){switch($.once&&this.removeListener(x,$.fn,void 0,!0),V){case 1:return $.fn.call($.context),!0;case 2:return $.fn.call($.context,y),!0;case 3:return $.fn.call($.context,y,w),!0;case 4:return $.fn.call($.context,y,w,R),!0;case 5:return $.fn.call($.context,y,w,R,_),!0;case 6:return $.fn.call($.context,y,w,R,_,C),!0}for(U=1,A=new Array(V-1);U<V;U++)A[U-1]=arguments[U];$.fn.apply($.context,A)}else{var q,X=$.length;for(U=0;U<X;U++)switch($[U].once&&this.removeListener(x,$[U].fn,void 0,!0),V){case 1:$[U].fn.call($[U].context);break;case 2:$[U].fn.call($[U].context,y);break;case 3:$[U].fn.call($[U].context,y,w);break;case 4:$[U].fn.call($[U].context,y,w,R);break;default:if(!A)for(q=1,A=new Array(V-1);q<V;q++)A[q-1]=arguments[q];$[U].fn.apply($[U].context,A)}}return!0},E.prototype.on=function(x,y,w){return p(this,x,y,w,!1)},E.prototype.once=function(x,y,w){return p(this,x,y,w,!0)},E.prototype.removeListener=function(x,y,w,R){var _=c?c+x:x;if(!this._events[_])return this;if(!y)return m(this,_),this;var C=this._events[_];if(C.fn)C.fn!==y||R&&!C.once||w&&C.context!==w||m(this,_);else{for(var I=0,A=[],U=C.length;I<U;I++)(C[I].fn!==y||R&&!C[I].once||w&&C[I].context!==w)&&A.push(C[I]);A.length?this._events[_]=A.length===1?A[0]:A:m(this,_)}return this},E.prototype.removeAllListeners=function(x){var y;return x?(y=c?c+x:x,this._events[y]&&m(this,y)):(this._events=new l,this._eventsCount=0),this},E.prototype.off=E.prototype.removeListener,E.prototype.addListener=E.prototype.on,E.prefixed=c,E.EventEmitter=E,s.exports=E},8954:s=>{var a;a=()=>(()=>{var c={228:f=>{var p=Object.prototype.hasOwnProperty,m="~";function E(){}function x(_,C,I){this.fn=_,this.context=C,this.once=I||!1}function y(_,C,I,A,U){if(typeof I!="function")throw new TypeError("The listener must be a function");var $=new x(I,A||_,U),V=m?m+C:C;return _._events[V]?_._events[V].fn?_._events[V]=[_._events[V],$]:_._events[V].push($):(_._events[V]=$,_._eventsCount++),_}function w(_,C){--_._eventsCount==0?_._events=new E:delete _._events[C]}function R(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(m=!1)),R.prototype.eventNames=function(){var _,C,I=[];if(this._eventsCount===0)return I;for(C in _=this._events)p.call(_,C)&&I.push(m?C.slice(1):C);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(_)):I},R.prototype.listeners=function(_){var C=m?m+_:_,I=this._events[C];if(!I)return[];if(I.fn)return[I.fn];for(var A=0,U=I.length,$=new Array(U);A<U;A++)$[A]=I[A].fn;return $},R.prototype.listenerCount=function(_){var C=m?m+_:_,I=this._events[C];return I?I.fn?1:I.length:0},R.prototype.emit=function(_,C,I,A,U,$){var V=m?m+_:_;if(!this._events[V])return!1;var q,X,J=this._events[V],G=arguments.length;if(J.fn){switch(J.once&&this.removeListener(_,J.fn,void 0,!0),G){case 1:return J.fn.call(J.context),!0;case 2:return J.fn.call(J.context,C),!0;case 3:return J.fn.call(J.context,C,I),!0;case 4:return J.fn.call(J.context,C,I,A),!0;case 5:return J.fn.call(J.context,C,I,A,U),!0;case 6:return J.fn.call(J.context,C,I,A,U,$),!0}for(X=1,q=new Array(G-1);X<G;X++)q[X-1]=arguments[X];J.fn.apply(J.context,q)}else{var ee,ce=J.length;for(X=0;X<ce;X++)switch(J[X].once&&this.removeListener(_,J[X].fn,void 0,!0),G){case 1:J[X].fn.call(J[X].context);break;case 2:J[X].fn.call(J[X].context,C);break;case 3:J[X].fn.call(J[X].context,C,I);break;case 4:J[X].fn.call(J[X].context,C,I,A);break;default:if(!q)for(ee=1,q=new Array(G-1);ee<G;ee++)q[ee-1]=arguments[ee];J[X].fn.apply(J[X].context,q)}}return!0},R.prototype.on=function(_,C,I){return y(this,_,C,I,!1)},R.prototype.once=function(_,C,I){return y(this,_,C,I,!0)},R.prototype.removeListener=function(_,C,I,A){var U=m?m+_:_;if(!this._events[U])return this;if(!C)return w(this,U),this;var $=this._events[U];if($.fn)$.fn!==C||A&&!$.once||I&&$.context!==I||w(this,U);else{for(var V=0,q=[],X=$.length;V<X;V++)($[V].fn!==C||A&&!$[V].once||I&&$[V].context!==I)&&q.push($[V]);q.length?this._events[U]=q.length===1?q[0]:q:w(this,U)}return this},R.prototype.removeAllListeners=function(_){var C;return _?(C=m?m+_:_,this._events[C]&&w(this,C)):(this._events=new E,this._eventsCount=0),this},R.prototype.off=R.prototype.removeListener,R.prototype.addListener=R.prototype.on,R.prefixed=m,R.EventEmitter=R,f.exports=R},815:function(f,p){var m,E,x=this&&this.__extends||(m=function(Y,Q){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,fe){ne.__proto__=fe}||function(ne,fe){for(var Te in fe)Object.prototype.hasOwnProperty.call(fe,Te)&&(ne[Te]=fe[Te])},m(Y,Q)},function(Y,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function ne(){this.constructor=Y}m(Y,Q),Y.prototype=Q===null?Object.create(Q):(ne.prototype=Q.prototype,new ne)});function y(Y){return 60*Y*60}function w(Y){return 60*Y*60*24}Object.defineProperty(p,"__esModule",{value:!0}),p.daysToSeconds=p.hoursToSeconds=p.ConfigurationHolder=p.ConfigurationManager=p.Env=void 0,function(Y){Y.BETA="beta",Y.PROD="prod",Y.CUSTOM="custom"}(E||(p.Env=E={})),p.hoursToSeconds=y,p.daysToSeconds=w;var R=function(Y){function Q(ne){return Y.call(this,ne)||this}return x(Q,Y),Q}(Error),_="data",C="metrics",I=y(1),A=w(3),U=y(2),$="base64",V=function(){function Y(Q,ne){var fe,Te,Ge,Fe,bt,Gt,Ye,lt;if(!ne.fileKey)throw new Error("options.fileKey cannot be empty");var Ut=(fe=ne.clock)!==null&&fe!==void 0?fe:new xe,Jt=Ut.getMillis();switch(this.context=Q,this.fileKey=ne.fileKey,this.env=ne.standardEnv,ne.standardEnv){case E.BETA:this.fetchServer="beta.ivs-device-config-beta.live-video.net";break;case E.PROD:this.fetchServer="prod.ivs-device-config.live-video.net";break;case E.CUSTOM:if(!ne.customServer)throw new Error("Custom env requires options.customServer");this.fetchServer=ne.customServer;break;default:throw new Error("Invalid value for standardEnv: ".concat(ne.standardEnv))}this.trace=(Te=ne.trace)!==null&&Te!==void 0?Te:new G(this.env),this.fetch=(Ge=ne.fetch)!==null&&Ge!==void 0?Ge:new J(Q),this.storage=new ce("amazon_ivs_device_config_v1_"+ne.fileKey,Q.localStorage),this.state=new ve(this.storage,"state"),this.refresh={refreshIntervalSeconds:(Fe=ne.refresh.refreshIntervalSeconds)!==null&&Fe!==void 0?Fe:I,retryCount:(bt=ne.refresh.retryCount)!==null&&bt!==void 0?bt:3,retryIntervalSeconds:(Gt=ne.refresh.retryIntervalSeconds)!==null&&Gt!==void 0?Gt:10,maxCacheAgeSeconds:(Ye=ne.refresh.maxCacheAgeSeconds)!==null&&Ye!==void 0?Ye:A,stopRefreshAfterSeconds:(lt=ne.refresh.stopRefreshAfterSeconds)!==null&&lt!==void 0?lt:U,canRefreshNow:ne.refresh.canRefreshNow},this.clock=Ut,this.isInitialRefreshDone=!1;var Bt=0,qt=this.state.getState();qt&&qt.fetchServer===this.fetchServer&&qt.lastFetchWhenMs&&(Bt=qt.lastFetchWhenMs);var Un=Ut.getMillis(),Xn=(Un-Bt)/1e3;if(Xn<=this.refresh.maxCacheAgeSeconds){var ut=this.storage.getJson(_);ut&&ut.fetchServer===this.fetchServer&&this.setData(ut.json)}if(this.lastUseMs=Un,Xn>=this.refresh.refreshIntervalSeconds||Bt==0)this.trace.onTrace("Will start refresh right now"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),0);else{var jr=Math.round(this.refresh.refreshIntervalSeconds-Xn);this.trace.onTrace("Will start refresh in "+jr+" seconds"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*jr),this.isInitialRefreshDone=!0}var Li=Ut.getMillis();this.initialLoadTime=Li-Jt}return Y.getInstance=function(Q,ne){try{if(!(Q.fetch&&Q.setTimeout&&Q.clearTimeout&&Q.localStorage))return void console.log("Context needs to provide fetch, setTimeout, clearTimeout, localStorage")}catch(fe){return void console.error("Error checking for context properties "+fe)}if(this.gInstance){if(this.gInstance.fileKey!=ne.fileKey)throw new Error("Existing instance has file key ".concat(this.gInstance.fileKey,", now asking for ").concat(ne.fileKey));return this.gInstance}return this.gInstance=new Y(Q,ne),this.gInstance},Y.prototype.getConfigurationHolder=function(Q){var ne,fe=this,Te=this.clock.getMillis();this.lastUseMs=Te;var Ge=(ne=Q.analytics)!==null&&ne!==void 0?ne:new ee(this.env);this.context.setTimeout(function(){fe.emitMetrics(Ge)});var Fe=0,bt=this.state.getState();return bt&&bt.fetchServer===this.fetchServer&&bt.lastFetchWhenMs&&(Fe=bt.lastFetchWhenMs),(Te-Fe)/1e3<=this.refresh.maxCacheAgeSeconds?new q(Ge,this.properties):new q(Ge,void 0)},Y.prototype.getFetchUrl=function(){var Q="https://".concat(this.fetchServer,"/").concat(this.fileKey,".json"),ne=new URL(Q);return ne.searchParams.set("version","1.0"),ne},Y.clearInstance=function(){var Q;(Q=this.gInstance)===null||Q===void 0||Q.clearInstanceImpl(),this.gInstance=void 0},Y.prototype.clearInstanceImpl=function(){this.context.clearTimeout(this.fetchTask),this.fetchTask=void 0,this.context.clearTimeout(this.retryTask),this.retryTask=void 0},Y.prototype.startRefresh=function(){var Q=this;this.trace.onTrace("Starting refresh request..."),this.fetchTask=void 0,this.retryTask&&(this.context.clearTimeout(this.retryTask),this.retryTask=void 0);var ne=this.clock.getMillis();return(ne-this.lastUseMs)/1e3>this.refresh.stopRefreshAfterSeconds?(this.trace.onTrace("Actually will not refresh due to refresh timeout"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):this.isInitialRefreshDone&&!this.refresh.canRefreshNow()?(this.trace.onTrace("Will not refresh due to callback having returned false"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):void this.fetchData().then(function(fe){Q.processResponse(fe,ne)}).catch(function(fe){Q.exceptionMetrics(fe),Q.trace.onTrace("Fetch error: "+fe),Q.refresh.retryCount>0&&Q.scheduleRetry(1)}).finally(function(){Q.isInitialRefreshDone=!0,Q.fetchTask=Q.context.setTimeout(Q.startRefresh.bind(Q),1e3*Q.refresh.refreshIntervalSeconds)})},Y.prototype.fetchData=function(){var Q=this.getFetchUrl(),ne=new Headers,fe=this.state.getState();return fe.fetchServer===this.fetchServer&&(fe.lastFetchWhenFullMs&&this.clock.getMillis()-fe.lastFetchWhenFullMs>1e3*y(24)?this.trace.onTrace("Forcing full refresh"):this.properties&&fe.lastFetchEtagHeader&&ne.set("If-None-Match",fe.lastFetchEtagHeader)),this.incrementMetrics("fetch_attempt_count"),this.fetch.fetchUrl(Q,ne)},Y.prototype.processResponse=function(Q,ne){var fe={fetchServer:this.fetchServer,lastFetchWhenMs:this.clock.getMillis()},Te=Q.headers.get("etag");Te&&(fe.lastFetchEtagHeader=Te);try{if(Q.status<300&&Q.json)if(this.setData(Q.json)){this.trace.onTrace("Successfully parsed fetched data"),this.storage.setJson(_,{fetchServer:this.fetchServer,json:Q.json});var Ge=this.clock.getMillis();fe.lastFetchWhenFullMs=Ge,this.incrementMetricsWithDuration("success_new_data_count",Ge-ne)}else this.incrementMetrics("fail_invalid_data_count");else{if(Q.status!==304){var Fe="Unexpected http fetch status: "+Q.status;throw this.trace.onTrace(Fe),new R(Fe)}this.trace.onTrace("Server said no change in data"),Ge=this.clock.getMillis(),this.incrementMetricsWithDuration("success_no_change_count",Ge-ne)}}finally{this.state.setState(fe)}},Y.prototype.scheduleRetry=function(Q){var ne=this;this.retryTask&&this.context.clearTimeout(this.retryTask);var fe=Q*this.refresh.retryIntervalSeconds;this.retryTask=this.context.setTimeout(function(){ne.retryTask=void 0,ne.fetchRetry(Q)},1e3*fe)},Y.prototype.fetchRetry=function(Q){var ne=this;this.trace.onTrace("Starting retry request ".concat(Q,"..."));var fe=this.clock.getMillis();this.fetchData().then(function(Te){ne.processResponse(Te,fe)}).catch(function(Te){ne.exceptionMetrics(Te),ne.trace.onTrace("Fetch error: "+Te),ne.refresh.retryCount>Q&&ne.scheduleRetry(Q+1)})},Y.prototype.setData=function(Q){if(!Q)return!1;if(Q.version!=="1.0")return this.trace.onTrace("Data version is not 1.0, not applying"),!1;var ne=Q.properties;if(!ne||!Array.isArray(ne))return this.trace.onTrace("Data properties is not an array, not applying"),!1;for(var fe=new Map,Te=0,Ge=ne;Te<Ge.length;Te++){var Fe=Ge[Te];if(Fe.name&&Fe.type&&this.isValidValueType(Fe.type)){if(Fe.value_string&&typeof Fe.value_string!="string"){this.trace.onTrace("Invalid type of value.value_string "+typeof Fe.value_string);continue}if(Fe.value_number&&typeof Fe.value_number!="number"){this.trace.onTrace("Invalid type of value.value_number "+typeof Fe.value_number);continue}if(Fe.value_boolean&&typeof Fe.value_boolean!="boolean"){this.trace.onTrace("Invalid type of value.value_boolean "+typeof Fe.value_boolean);continue}if(Fe.value_json&&typeof Fe.value_json!="string"){this.trace.onTrace("Invalid type of value.value_json "+typeof Fe.value_json);continue}if(Fe.value_analytics&&typeof Fe.value_analytics!="string"){this.trace.onTrace("Invalid type of item.value_analytics "+typeof Fe.value_analytics);continue}var bt=new Se(Fe.name,this.parseValueType(Fe.type),Fe.value_string,Fe.value_number,Fe.value_boolean,Fe.value_json,Fe.value_analytics,Fe.encoding);fe.set(bt.name,bt)}}return fe.size!=0&&(this.properties=fe,!0)},Y.prototype.isValidValueType=function(Q){return Q==="string"||Q==="number"||Q==="boolean"||Q=="json"},Y.prototype.parseValueType=function(Q){switch(Q){case"string":return X.STRING;case"number":return X.NUMBER;case"boolean":return X.BOOLEAN;case"json":return X.JSON;default:throw new Error("Unsupported value type ".concat(Q))}},Y.prototype.emitMetrics=function(Q){var ne,fe,Te,Ge,Fe,bt,Gt,Ye,lt=(ne=this.storage.getJson(C))!==null&&ne!==void 0?ne:{},Ut={initial_load_time:this.initialLoadTime,fetch_attempt_count:(fe=lt.fetch_attempt_count)!==null&&fe!==void 0?fe:0,fetch_duration_average:(Te=lt.fetch_duration_average)!==null&&Te!==void 0?Te:0,success_no_change_count:(Ge=lt.success_no_change_count)!==null&&Ge!==void 0?Ge:0,success_new_data_count:(Fe=lt.success_new_data_count)!==null&&Fe!==void 0?Fe:0,fail_exception_count:(bt=lt.fail_exception_count)!==null&&bt!==void 0?bt:0,fail_http_error_count:(Gt=lt.fail_http_error_count)!==null&&Gt!==void 0?Gt:0,fail_invalid_data_count:(Ye=lt.fail_invalid_data_count)!==null&&Ye!==void 0?Ye:0};Q.onMetrics(Ut),lt.fetch_attempt_count=0,lt.success_no_change_count=0,lt.success_new_data_count=0,lt.fail_exception_count=0,lt.fail_http_error_count=0,lt.fail_invalid_data_count=0,this.storage.setJson(C,lt)},Y.prototype.exceptionMetrics=function(Q){Q instanceof R||Q.message.startsWith("http error")?this.incrementMetrics("fail_http_error_count"):this.incrementMetrics("fail_exception_count")},Y.prototype.incrementMetrics=function(Q){var ne,fe,Te=(ne=this.storage.getJson(C))!==null&&ne!==void 0?ne:{};Te[Q]=((fe=Te[Q])!==null&&fe!==void 0?fe:0)+1,this.storage.setJson(C,Te)},Y.prototype.incrementMetricsWithDuration=function(Q,ne){var fe,Te,Ge=(fe=this.storage.getJson(C))!==null&&fe!==void 0?fe:{};Ge[Q]=((Te=Ge[Q])!==null&&Te!==void 0?Te:0)+1,ne>0&&(Ge.fetch_duration_average!==void 0?Ge.fetch_duration_average=.9*Ge.fetch_duration_average+.1*ne|0:Ge.fetch_duration_average=ne),this.storage.setJson(C,Ge)},Y}();p.ConfigurationManager=V;var q=function(){function Y(Q,ne){this.analytics=Q,this.properties=ne}return Y.prototype.getSize=function(){return this.properties?this.properties.size:-1},Y.prototype.getStringValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.STRING){var Ge=(ne=Te.valueString)!==null&&ne!==void 0?ne:"";return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:Ge),Ge}this.analytics.onError(Q,"Type is not string")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getNumberValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.NUMBER){var Ge=(ne=Te.valueNumber)!==null&&ne!==void 0?ne:0;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:Ge.toString()),Ge}this.analytics.onError(Q,"Type is not number")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getBooleanValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.BOOLEAN){var Ge=(ne=Te.valueBoolean)!==null&&ne!==void 0&&ne;return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:Ge.toString()),Ge}this.analytics.onError(Q,"Type is not boolean")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y.prototype.getJsonValue=function(Q){var ne,fe;if(this.properties){var Te=this.properties.get(Q);if(Te){if(Te.type===X.JSON){var Ge=Te.valueJson;if(!Ge)return this.analytics.onValue(Q,(ne=Te.valueAnalytics)!==null&&ne!==void 0?ne:""),null;try{var Fe=JSON.parse(Ge);return this.analytics.onValue(Q,(fe=Te.valueAnalytics)!==null&&fe!==void 0?fe:Ge),Fe}catch{return void this.analytics.onError(Q,"Json parse error")}}this.analytics.onError(Q,"Type is not json")}}else this.analytics.onTrace(Q,"Configuration is not available")},Y}();p.ConfigurationHolder=q;var X,J=function(){function Y(Q){this.context=Q}return Y.prototype.fetchUrl=function(Q,ne){var fe=this;return new Promise(function(Te,Ge){fe.context.fetch(Q,{headers:ne,cache:"no-store"}).then(function(Fe){if(Fe.status>=400)Ge(new R("http error ".concat(Fe.status,", ").concat(Fe.statusText)));else{var bt={status:Fe.status,headers:Fe.headers};Fe.json().then(function(Gt){bt.json=Gt}).catch(function(){}).finally(function(){Te(bt)})}}).catch(function(Fe){Ge(Fe)})})},Y}(),G=function(){function Y(Q){this.env=Q}return Y.prototype.onTrace=function(Q){this.env!=E.PROD&&console.log("Configuration: "+Q)},Y}(),ee=function(){function Y(Q){this.env=Q}return Y.prototype.onMetrics=function(Q){this.env!=E.PROD&&console.log("Metrics",Q)},Y.prototype.onValue=function(Q,ne){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": value = ").concat(ne))},Y.prototype.onError=function(Q,ne){this.env!=E.PROD&&console.error("Configuration for ".concat(Q,": error = ").concat(ne))},Y.prototype.onTrace=function(Q,ne){this.env!=E.PROD&&console.log("Configuration for ".concat(Q,": trace = ").concat(ne))},Y}(),ce=function(){function Y(Q,ne){this.prefix=Q,this.storage=ne}return Y.prototype.getJson=function(Q){var ne=this.prefix+"_"+Q;try{var fe=this.storage.getItem(ne);if(fe)return JSON.parse(fe)}catch(Te){console.error("Error getting local storage key ".concat(ne)+Te)}return null},Y.prototype.setJson=function(Q,ne){var fe=this.prefix+"_"+Q;try{this.storage.setItem(fe,JSON.stringify(ne))}catch(Te){console.error("Error setting local storage key ".concat(fe,": ")+Te)}},Y}(),xe=function(){function Y(){}return Y.prototype.getMillis=function(){return Date.now()},Y}();(function(Y){Y[Y.STRING=0]="STRING",Y[Y.NUMBER=1]="NUMBER",Y[Y.BOOLEAN=2]="BOOLEAN",Y[Y.JSON=3]="JSON"})(X||(X={}));var Se=function(Y,Q,ne,fe,Te,Ge,Fe,bt){switch(this.name=Y,this.type=Q,this.valueString=ne,this.valueNumber=fe,this.valueBoolean=Te,this.valueJson=Ge,this.valueAnalytics=Fe,this.type){case X.STRING:bt===$&&ne&&(this.valueString=atob(ne));break;case X.JSON:bt===$&&Ge&&(this.valueJson=atob(Ge))}},ve=function(){function Y(Q,ne){var fe;this.storage=Q,this.key=ne,this.state=(fe=Q.getJson(ne))!==null&&fe!==void 0?fe:{}}return Y.prototype.getState=function(){return this.state},Y.prototype.setState=function(Q){Object.assign(this.state,Q),this.storage.setJson(this.key,this.state)},Y}()},456:function(f,p,m){var E=this&&this.__createBinding||(Object.create?function(y,w,R,_){_===void 0&&(_=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,_,C)}:function(y,w,R,_){_===void 0&&(_=R),y[_]=w[R]}),x=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),x(m(903),p)},903:function(f,p,m){var E=this&&this.__spreadArray||function(w,R,_){if(_||arguments.length===2)for(var C,I=0,A=R.length;I<A;I++)!C&&I in R||(C||(C=Array.prototype.slice.call(R,0,I)),C[I]=R[I]);return w.concat(C||Array.prototype.slice.call(R))};Object.defineProperty(p,"__esModule",{value:!0}),p.TypedEmitter=void 0;var x=m(228),y=function(){function w(R){var _=R.propagateErrors;this.emitter=new x.EventEmitter,this.propagateErrors=_!=null&&_}return w.prototype.on=function(R,_){_.call=this.wrapCall(R,_),this.emitter.on(R,_)},w.prototype.off=function(R,_){this.emitter.off(R,_)},w.prototype.emit=function(R){for(var _,C=[],I=1;I<arguments.length;I++)C[I-1]=arguments[I];(_=this.emitter).emit.apply(_,E([R],C,!1))},w.prototype.removeAllListeners=function(){this.emitter.removeAllListeners()},w.prototype.wrapCall=function(R,_){var C=this;return function(I){for(var A=[],U=1;U<arguments.length;U++)A[U-1]=arguments[U];if(C.propagateErrors)_.apply(I,A);else try{_.apply(I,A)}catch(q){var $="Error in callback for ".concat(R),V=_.name;return V&&($+=" for function ".concat(V)),void console.error($,q)}}},w}();p.TypedEmitter=y},987:function(f,p,m){var E,x=this&&this.__extends||(E=function(A,U){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,V){$.__proto__=V}||function($,V){for(var q in V)Object.prototype.hasOwnProperty.call(V,q)&&($[q]=V[q])},E(A,U)},function(A,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function $(){this.constructor=A}E(A,U),A.prototype=U===null?Object.create(U):($.prototype=U.prototype,new $)}),y=this&&this.__createBinding||(Object.create?function(A,U,$,V){V===void 0&&(V=$);var q=Object.getOwnPropertyDescriptor(U,$);q&&!("get"in q?!U.__esModule:q.writable||q.configurable)||(q={enumerable:!0,get:function(){return U[$]}}),Object.defineProperty(A,V,q)}:function(A,U,$,V){V===void 0&&(V=$),A[V]=U[$]}),w=this&&this.__setModuleDefault||(Object.create?function(A,U){Object.defineProperty(A,"default",{enumerable:!0,value:U})}:function(A,U){A.default=U}),R=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var U={};if(A!=null)for(var $ in A)$!=="default"&&Object.prototype.hasOwnProperty.call(A,$)&&y(U,A,$);return w(U,A),U};Object.defineProperty(p,"__esModule",{value:!0}),p.createFsm=p.FsmWildcardState=p.RejectedTransitionError=p.InvalidStateTransitionError=void 0;var _=R(m(293)),C=function(A){function U($,V){var q=A.call(this,"Invalid transition from '".concat(V,"' via event '").concat($,"'"))||this;return q.name="InvalidStateTransitionError",q}return x(U,A),U}(Error);p.InvalidStateTransitionError=C;var I=function(A){function U($,V,q){var X=A.call(this,"Transition from '".concat(V,"' via event '").concat($,"' was rejected for: ").concat(q))||this;return X.name="RejectedTransitionError",X}return x(U,A),U}(Error);p.RejectedTransitionError=I,p.FsmWildcardState="*",p.createFsm=function(A){var U,$=A.transitions,V=A.callbacks,q=A.initialState,X=function(J){var G,ee=(G=$[J])===null||G===void 0?void 0:G.from;return!!ee&&(typeof ee=="string"?ee===p.FsmWildcardState:ee.includes(q))};return{canTransition:X,transition:function(J,G){var ee,ce,xe,Se,ve,Y;if(!X(J))return _.err(new C(String(q),String(J)));var Q=$[J];return Q.shouldTransition===void 0||Q.shouldTransition(q)?((ce=(ee=V==null?void 0:V[q])===null||ee===void 0?void 0:ee.onExiting)===null||ce===void 0||ce.call(ee),(xe=V==null?void 0:V.onStateExiting)===null||xe===void 0||xe.call(V,q),U=q,q=Q.to,(ve=(Se=V==null?void 0:V[q])===null||Se===void 0?void 0:Se.onChanged)===null||ve===void 0||ve.call(Se,U,G),(Y=V==null?void 0:V.onStateChanged)===null||Y===void 0||Y.call(V,U,q,G),_.ok(q)):_.err(new I(String(q),String(J),"shouldTransition returned false"))},previousState:function(){return U},currentState:function(){return q}}}},156:function(f,p,m){var E=this&&this.__createBinding||(Object.create?function(y,w,R,_){_===void 0&&(_=R);var C=Object.getOwnPropertyDescriptor(w,R);C&&!("get"in C?!w.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(y,_,C)}:function(y,w,R,_){_===void 0&&(_=R),y[_]=w[R]}),x=this&&this.__exportStar||function(y,w){for(var R in y)R==="default"||Object.prototype.hasOwnProperty.call(w,R)||E(w,y,R)};Object.defineProperty(p,"__esModule",{value:!0}),p.VERSION=void 0,p.VERSION="0.2.0",x(m(815),p),x(m(456),p),x(m(987),p),x(m(293),p)},293:(f,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getErr=p.getOk_or=p.getOk=p.isNotOk=p.isOk=p.err=p.ok=void 0,p.ok=function(m){return{ok:!0,value:m}},p.err=function(m){return{ok:!1,error:m}},p.isOk=function(m){return m.ok===!0},p.isNotOk=function(m){return!(0,p.isOk)(m)},p.getOk=function(m){return m.ok===!0?m.value:void 0},p.getOk_or=function(m,E){return m.ok===!0?m.value:E},p.getErr=function(m){return m.ok===!0?void 0:m.error}}},l={};return function f(p){var m=l[p];if(m!==void 0)return m.exports;var E=l[p]={exports:{}};return c[p].call(E.exports,E,E.exports,f),E.exports}(156)})(),s.exports=a()},1549:(s,a,c)=>{var l=c(2032),f=c(3862),p=c(6721),m=c(2749),E=c(5749);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=f,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},79:(s,a,c)=>{var l=c(3702),f=c(80),p=c(4739),m=c(8655),E=c(1175);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=f,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},8223:(s,a,c)=>{var l=c(6110)(c(9325),"Map");s.exports=l},3661:(s,a,c)=>{var l=c(3040),f=c(7670),p=c(289),m=c(4509),E=c(2949);function x(y){var w=-1,R=y==null?0:y.length;for(this.clear();++w<R;){var _=y[w];this.set(_[0],_[1])}}x.prototype.clear=l,x.prototype.delete=f,x.prototype.get=p,x.prototype.has=m,x.prototype.set=E,s.exports=x},7217:(s,a,c)=>{var l=c(79),f=c(1420),p=c(938),m=c(3605),E=c(9817),x=c(945);function y(w){var R=this.__data__=new l(w);this.size=R.size}y.prototype.clear=f,y.prototype.delete=p,y.prototype.get=m,y.prototype.has=E,y.prototype.set=x,s.exports=y},1873:(s,a,c)=>{var l=c(9325).Symbol;s.exports=l},7828:(s,a,c)=>{var l=c(9325).Uint8Array;s.exports=l},1033:s=>{s.exports=function(a,c,l){switch(l.length){case 0:return a.call(c);case 1:return a.call(c,l[0]);case 2:return a.call(c,l[0],l[1]);case 3:return a.call(c,l[0],l[1],l[2])}return a.apply(c,l)}},695:(s,a,c)=>{var l=c(8096),f=c(2428),p=c(6449),m=c(3656),E=c(361),x=c(7167),y=Object.prototype.hasOwnProperty;s.exports=function(w,R){var _=p(w),C=!_&&f(w),I=!_&&!C&&m(w),A=!_&&!C&&!I&&x(w),U=_||C||I||A,$=U?l(w.length,String):[],V=$.length;for(var q in w)!R&&!y.call(w,q)||U&&(q=="length"||I&&(q=="offset"||q=="parent")||A&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||E(q,V))||$.push(q);return $}},7805:(s,a,c)=>{var l=c(3360),f=c(5288);s.exports=function(p,m,E){(E!==void 0&&!f(p[m],E)||E===void 0&&!(m in p))&&l(p,m,E)}},6547:(s,a,c)=>{var l=c(3360),f=c(5288),p=Object.prototype.hasOwnProperty;s.exports=function(m,E,x){var y=m[E];p.call(m,E)&&f(y,x)&&(x!==void 0||E in m)||l(m,E,x)}},6025:(s,a,c)=>{var l=c(5288);s.exports=function(f,p){for(var m=f.length;m--;)if(l(f[m][0],p))return m;return-1}},3360:(s,a,c)=>{var l=c(3243);s.exports=function(f,p,m){p=="__proto__"&&l?l(f,p,{configurable:!0,enumerable:!0,value:m,writable:!0}):f[p]=m}},9344:(s,a,c)=>{var l=c(3805),f=Object.create,p=function(){function m(){}return function(E){if(!l(E))return{};if(f)return f(E);m.prototype=E;var x=new m;return m.prototype=void 0,x}}();s.exports=p},6649:(s,a,c)=>{var l=c(3221)();s.exports=l},2552:(s,a,c)=>{var l=c(1873),f=c(659),p=c(9350),m=l?l.toStringTag:void 0;s.exports=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":m&&m in Object(E)?f(E):p(E)}},7534:(s,a,c)=>{var l=c(2552),f=c(346);s.exports=function(p){return f(p)&&l(p)=="[object Arguments]"}},5083:(s,a,c)=>{var l=c(1882),f=c(7296),p=c(3805),m=c(7473),E=/^\[object .+?Constructor\]$/,x=Function.prototype,y=Object.prototype,w=x.toString,R=y.hasOwnProperty,_=RegExp("^"+w.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function(C){return!(!p(C)||f(C))&&(l(C)?_:E).test(m(C))}},4901:(s,a,c)=>{var l=c(2552),f=c(294),p=c(346),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,s.exports=function(E){return p(E)&&f(E.length)&&!!m[l(E)]}},2903:(s,a,c)=>{var l=c(3805),f=c(5527),p=c(181),m=Object.prototype.hasOwnProperty;s.exports=function(E){if(!l(E))return p(E);var x=f(E),y=[];for(var w in E)(w!="constructor"||!x&&m.call(E,w))&&y.push(w);return y}},5250:(s,a,c)=>{var l=c(7217),f=c(7805),p=c(6649),m=c(2824),E=c(3805),x=c(7241),y=c(4974);s.exports=function w(R,_,C,I,A){R!==_&&p(_,function(U,$){if(A||(A=new l),E(U))m(R,_,$,C,w,I,A);else{var V=I?I(y(R,$),U,$+"",R,_,A):void 0;V===void 0&&(V=U),f(R,$,V)}},x)}},2824:(s,a,c)=>{var l=c(7805),f=c(3290),p=c(1961),m=c(3007),E=c(5529),x=c(2428),y=c(6449),w=c(3693),R=c(3656),_=c(1882),C=c(3805),I=c(1331),A=c(7167),U=c(4974),$=c(9884);s.exports=function(V,q,X,J,G,ee,ce){var xe=U(V,X),Se=U(q,X),ve=ce.get(Se);if(ve)l(V,X,ve);else{var Y=ee?ee(xe,Se,X+"",V,q,ce):void 0,Q=Y===void 0;if(Q){var ne=y(Se),fe=!ne&&R(Se),Te=!ne&&!fe&&A(Se);Y=Se,ne||fe||Te?y(xe)?Y=xe:w(xe)?Y=m(xe):fe?(Q=!1,Y=f(Se,!0)):Te?(Q=!1,Y=p(Se,!0)):Y=[]:I(Se)||x(Se)?(Y=xe,x(xe)?Y=$(xe):C(xe)&&!_(xe)||(Y=E(Se))):Q=!1}Q&&(ce.set(Se,Y),G(Y,Se,J,ee,ce),ce.delete(Se)),l(V,X,Y)}}},9302:(s,a,c)=>{var l=c(3488),f=c(6757),p=c(2865);s.exports=function(m,E){return p(f(m,E,l),m+"")}},9570:(s,a,c)=>{var l=c(7334),f=c(3243),p=c(3488),m=f?function(E,x){return f(E,"toString",{configurable:!0,enumerable:!1,value:l(x),writable:!0})}:p;s.exports=m},8096:s=>{s.exports=function(a,c){for(var l=-1,f=Array(a);++l<a;)f[l]=c(l);return f}},7301:s=>{s.exports=function(a){return function(c){return a(c)}}},9653:(s,a,c)=>{var l=c(7828);s.exports=function(f){var p=new f.constructor(f.byteLength);return new l(p).set(new l(f)),p}},3290:(s,a,c)=>{s=c.nmd(s);var l=c(9325),f=a&&!a.nodeType&&a,p=f&&s&&!s.nodeType&&s,m=p&&p.exports===f?l.Buffer:void 0,E=m?m.allocUnsafe:void 0;s.exports=function(x,y){if(y)return x.slice();var w=x.length,R=E?E(w):new x.constructor(w);return x.copy(R),R}},1961:(s,a,c)=>{var l=c(9653);s.exports=function(f,p){var m=p?l(f.buffer):f.buffer;return new f.constructor(m,f.byteOffset,f.length)}},3007:s=>{s.exports=function(a,c){var l=-1,f=a.length;for(c||(c=Array(f));++l<f;)c[l]=a[l];return c}},1791:(s,a,c)=>{var l=c(6547),f=c(3360);s.exports=function(p,m,E,x){var y=!E;E||(E={});for(var w=-1,R=m.length;++w<R;){var _=m[w],C=x?x(E[_],p[_],_,E,p):void 0;C===void 0&&(C=p[_]),y?f(E,_,C):l(E,_,C)}return E}},5481:(s,a,c)=>{var l=c(9325)["__core-js_shared__"];s.exports=l},999:(s,a,c)=>{var l=c(9302),f=c(6800);s.exports=function(p){return l(function(m,E){var x=-1,y=E.length,w=y>1?E[y-1]:void 0,R=y>2?E[2]:void 0;for(w=p.length>3&&typeof w=="function"?(y--,w):void 0,R&&f(E[0],E[1],R)&&(w=y<3?void 0:w,y=1),m=Object(m);++x<y;){var _=E[x];_&&p(m,_,x,w)}return m})}},3221:s=>{s.exports=function(a){return function(c,l,f){for(var p=-1,m=Object(c),E=f(c),x=E.length;x--;){var y=E[a?x:++p];if(l(m[y],y,m)===!1)break}return c}}},3243:(s,a,c)=>{var l=c(6110),f=function(){try{var p=l(Object,"defineProperty");return p({},"",{}),p}catch{}}();s.exports=f},4840:(s,a,c)=>{var l=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;s.exports=l},2651:(s,a,c)=>{var l=c(4218);s.exports=function(f,p){var m=f.__data__;return l(p)?m[typeof p=="string"?"string":"hash"]:m.map}},6110:(s,a,c)=>{var l=c(5083),f=c(392);s.exports=function(p,m){var E=f(p,m);return l(E)?E:void 0}},8879:(s,a,c)=>{var l=c(4335)(Object.getPrototypeOf,Object);s.exports=l},659:(s,a,c)=>{var l=c(1873),f=Object.prototype,p=f.hasOwnProperty,m=f.toString,E=l?l.toStringTag:void 0;s.exports=function(x){var y=p.call(x,E),w=x[E];try{x[E]=void 0;var R=!0}catch{}var _=m.call(x);return R&&(y?x[E]=w:delete x[E]),_}},392:s=>{s.exports=function(a,c){return a==null?void 0:a[c]}},2032:(s,a,c)=>{var l=c(1042);s.exports=function(){this.__data__=l?l(null):{},this.size=0}},3862:s=>{s.exports=function(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}},6721:(s,a,c)=>{var l=c(1042),f=Object.prototype.hasOwnProperty;s.exports=function(p){var m=this.__data__;if(l){var E=m[p];return E==="__lodash_hash_undefined__"?void 0:E}return f.call(m,p)?m[p]:void 0}},2749:(s,a,c)=>{var l=c(1042),f=Object.prototype.hasOwnProperty;s.exports=function(p){var m=this.__data__;return l?m[p]!==void 0:f.call(m,p)}},5749:(s,a,c)=>{var l=c(1042);s.exports=function(f,p){var m=this.__data__;return this.size+=this.has(f)?0:1,m[f]=l&&p===void 0?"__lodash_hash_undefined__":p,this}},5529:(s,a,c)=>{var l=c(9344),f=c(8879),p=c(5527);s.exports=function(m){return typeof m.constructor!="function"||p(m)?{}:l(f(m))}},361:s=>{var a=/^(?:0|[1-9]\d*)$/;s.exports=function(c,l){var f=typeof c;return!!(l=l??9007199254740991)&&(f=="number"||f!="symbol"&&a.test(c))&&c>-1&&c%1==0&&c<l}},6800:(s,a,c)=>{var l=c(5288),f=c(4894),p=c(361),m=c(3805);s.exports=function(E,x,y){if(!m(y))return!1;var w=typeof x;return!!(w=="number"?f(y)&&p(x,y.length):w=="string"&&x in y)&&l(y[x],E)}},4218:s=>{s.exports=function(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}},7296:(s,a,c)=>{var l,f=c(5481),p=(l=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";s.exports=function(m){return!!p&&p in m}},5527:s=>{var a=Object.prototype;s.exports=function(c){var l=c&&c.constructor;return c===(typeof l=="function"&&l.prototype||a)}},3702:s=>{s.exports=function(){this.__data__=[],this.size=0}},80:(s,a,c)=>{var l=c(6025),f=Array.prototype.splice;s.exports=function(p){var m=this.__data__,E=l(m,p);return!(E<0)&&(E==m.length-1?m.pop():f.call(m,E,1),--this.size,!0)}},4739:(s,a,c)=>{var l=c(6025);s.exports=function(f){var p=this.__data__,m=l(p,f);return m<0?void 0:p[m][1]}},8655:(s,a,c)=>{var l=c(6025);s.exports=function(f){return l(this.__data__,f)>-1}},1175:(s,a,c)=>{var l=c(6025);s.exports=function(f,p){var m=this.__data__,E=l(m,f);return E<0?(++this.size,m.push([f,p])):m[E][1]=p,this}},3040:(s,a,c)=>{var l=c(1549),f=c(79),p=c(8223);s.exports=function(){this.size=0,this.__data__={hash:new l,map:new(p||f),string:new l}}},7670:(s,a,c)=>{var l=c(2651);s.exports=function(f){var p=l(this,f).delete(f);return this.size-=p?1:0,p}},289:(s,a,c)=>{var l=c(2651);s.exports=function(f){return l(this,f).get(f)}},4509:(s,a,c)=>{var l=c(2651);s.exports=function(f){return l(this,f).has(f)}},2949:(s,a,c)=>{var l=c(2651);s.exports=function(f,p){var m=l(this,f),E=m.size;return m.set(f,p),this.size+=m.size==E?0:1,this}},1042:(s,a,c)=>{var l=c(6110)(Object,"create");s.exports=l},181:s=>{s.exports=function(a){var c=[];if(a!=null)for(var l in Object(a))c.push(l);return c}},6009:(s,a,c)=>{s=c.nmd(s);var l=c(4840),f=a&&!a.nodeType&&a,p=f&&s&&!s.nodeType&&s,m=p&&p.exports===f&&l.process,E=function(){try{var x=p&&p.require&&p.require("util").types;return x||m&&m.binding&&m.binding("util")}catch{}}();s.exports=E},9350:s=>{var a=Object.prototype.toString;s.exports=function(c){return a.call(c)}},4335:s=>{s.exports=function(a,c){return function(l){return a(c(l))}}},6757:(s,a,c)=>{var l=c(1033),f=Math.max;s.exports=function(p,m,E){return m=f(m===void 0?p.length-1:m,0),function(){for(var x=arguments,y=-1,w=f(x.length-m,0),R=Array(w);++y<w;)R[y]=x[m+y];y=-1;for(var _=Array(m+1);++y<m;)_[y]=x[y];return _[m]=E(R),l(p,this,_)}}},9325:(s,a,c)=>{var l=c(4840),f=typeof self=="object"&&self&&self.Object===Object&&self,p=l||f||Function("return this")();s.exports=p},4974:s=>{s.exports=function(a,c){if((c!=="constructor"||typeof a[c]!="function")&&c!="__proto__")return a[c]}},2865:(s,a,c)=>{var l=c(9570),f=c(1811)(l);s.exports=f},1811:s=>{var a=Date.now;s.exports=function(c){var l=0,f=0;return function(){var p=a(),m=16-(p-f);if(f=p,m>0){if(++l>=800)return arguments[0]}else l=0;return c.apply(void 0,arguments)}}},1420:(s,a,c)=>{var l=c(79);s.exports=function(){this.__data__=new l,this.size=0}},938:s=>{s.exports=function(a){var c=this.__data__,l=c.delete(a);return this.size=c.size,l}},3605:s=>{s.exports=function(a){return this.__data__.get(a)}},9817:s=>{s.exports=function(a){return this.__data__.has(a)}},945:(s,a,c)=>{var l=c(79),f=c(8223),p=c(3661);s.exports=function(m,E){var x=this.__data__;if(x instanceof l){var y=x.__data__;if(!f||y.length<199)return y.push([m,E]),this.size=++x.size,this;x=this.__data__=new p(y)}return x.set(m,E),this.size=x.size,this}},7473:s=>{var a=Function.prototype.toString;s.exports=function(c){if(c!=null){try{return a.call(c)}catch{}try{return c+""}catch{}}return""}},7334:s=>{s.exports=function(a){return function(){return a}}},5288:s=>{s.exports=function(a,c){return a===c||a!=a&&c!=c}},3488:s=>{s.exports=function(a){return a}},2428:(s,a,c)=>{var l=c(7534),f=c(346),p=Object.prototype,m=p.hasOwnProperty,E=p.propertyIsEnumerable,x=l(function(){return arguments}())?l:function(y){return f(y)&&m.call(y,"callee")&&!E.call(y,"callee")};s.exports=x},6449:s=>{var a=Array.isArray;s.exports=a},4894:(s,a,c)=>{var l=c(1882),f=c(294);s.exports=function(p){return p!=null&&f(p.length)&&!l(p)}},3693:(s,a,c)=>{var l=c(4894),f=c(346);s.exports=function(p){return f(p)&&l(p)}},3656:(s,a,c)=>{s=c.nmd(s);var l=c(9325),f=c(9935),p=a&&!a.nodeType&&a,m=p&&s&&!s.nodeType&&s,E=m&&m.exports===p?l.Buffer:void 0,x=(E?E.isBuffer:void 0)||f;s.exports=x},1882:(s,a,c)=>{var l=c(2552),f=c(3805);s.exports=function(p){if(!f(p))return!1;var m=l(p);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},294:s=>{s.exports=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991}},3805:s=>{s.exports=function(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}},346:s=>{s.exports=function(a){return a!=null&&typeof a=="object"}},1331:(s,a,c)=>{var l=c(2552),f=c(8879),p=c(346),m=Function.prototype,E=Object.prototype,x=m.toString,y=E.hasOwnProperty,w=x.call(Object);s.exports=function(R){if(!p(R)||l(R)!="[object Object]")return!1;var _=f(R);if(_===null)return!0;var C=y.call(_,"constructor")&&_.constructor;return typeof C=="function"&&C instanceof C&&x.call(C)==w}},7167:(s,a,c)=>{var l=c(4901),f=c(7301),p=c(6009),m=p&&p.isTypedArray,E=m?f(m):l;s.exports=E},7241:(s,a,c)=>{var l=c(695),f=c(2903),p=c(4894);s.exports=function(m){return p(m)?l(m,!0):f(m)}},2543:function(s,a,c){var l;s=c.nmd(s),(function(){var f,p="Expected a function",m="__lodash_hash_undefined__",E="__lodash_placeholder__",x=16,y=32,w=64,R=128,_=256,C=1/0,I=9007199254740991,A=NaN,U=4294967295,$=[["ary",R],["bind",1],["bindKey",2],["curry",8],["curryRight",x],["flip",512],["partial",y],["partialRight",w],["rearg",_]],V="[object Arguments]",q="[object Array]",X="[object Boolean]",J="[object Date]",G="[object Error]",ee="[object Function]",ce="[object GeneratorFunction]",xe="[object Map]",Se="[object Number]",ve="[object Object]",Y="[object Promise]",Q="[object RegExp]",ne="[object Set]",fe="[object String]",Te="[object Symbol]",Ge="[object WeakMap]",Fe="[object ArrayBuffer]",bt="[object DataView]",Gt="[object Float32Array]",Ye="[object Float64Array]",lt="[object Int8Array]",Ut="[object Int16Array]",Jt="[object Int32Array]",Bt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Un="[object Uint16Array]",Xn="[object Uint32Array]",ut=/\b__p \+= '';/g,jr=/\b(__p \+=) '' \+/g,Li=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,Ce=RegExp(Z.source),Qe=RegExp(pe.source),re=/<%-([\s\S]+?)%>/g,de=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,De=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/[\\^$.*+?()[\]{}|]/g,Qr=RegExp(_n.source),fi=/^\s+/,fo=/\s/,Tn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kn=/\{\n\/\* \[wrapped with (.+)\] \*/,Fs=/,? & /,$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ct=/[()=,{}\[\]\/\s]/,yh=/\\(\\)?/g,Sd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,la=/\w*$/,Nl=/^[-+]0x[0-9a-f]+$/i,Il=/^0b[01]+$/i,_d=/^\[object .+?Constructor\]$/,Ac=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,ze=/['\n\r\u2028\u2029\\]/g,Zt="\\ud800-\\udfff",sr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",an="\\u2700-\\u27bf",$t="a-z\\xdf-\\xf6\\xf8-\\xff",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ze="\\ufe0e\\ufe0f",mt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="['’]",wn="["+Zt+"]",Jn="["+mt+"]",Bn="["+sr+"]",Fi="\\d+",wd="["+an+"]",Ed="["+$t+"]",Nm="[^"+Zt+mt+Fi+an+$t+dt+"]",bh="\\ud83c[\\udffb-\\udfff]",Im="[^"+Zt+"]",xh="(?:\\ud83c[\\udde6-\\uddff]){2}",Sh="[\\ud800-\\udbff][\\udc00-\\udfff]",jl="["+dt+"]",qy="\\u200d",Al="(?:"+Ed+"|"+Nm+")",Cd="(?:"+jl+"|"+Nm+")",Dl="(?:['’](?:d|ll|m|re|s|t|ve))?",Ml="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ll="(?:"+Bn+"|"+bh+")?",Td="["+Ze+"]?",Rd=Td+Ll+("(?:"+qy+"(?:"+[Im,xh,Sh].join("|")+")"+Td+Ll+")*"),_h="(?:"+[wd,xh,Sh].join("|")+")"+Rd,jm="(?:"+[Im+Bn+"?",Bn,xh,Sh,wn].join("|")+")",Fo=RegExp(Tt,"g"),Us=RegExp(Bn,"g"),Fl=RegExp(bh+"(?="+bh+")|"+jm+Rd,"g"),Ky=RegExp([jl+"?"+Ed+"+"+Dl+"(?="+[Jn,jl,"$"].join("|")+")",Cd+"+"+Ml+"(?="+[Jn,jl+Al,"$"].join("|")+")",jl+"?"+Al+"+"+Dl,jl+"+"+Ml,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fi,_h].join("|"),"g"),Rw=RegExp("["+qy+Zt+sr+Ze+"]"),kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Am=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dm=-1,Zn={};Zn[Gt]=Zn[Ye]=Zn[lt]=Zn[Ut]=Zn[Jt]=Zn[Bt]=Zn[qt]=Zn[Un]=Zn[Xn]=!0,Zn[V]=Zn[q]=Zn[Fe]=Zn[X]=Zn[bt]=Zn[J]=Zn[G]=Zn[ee]=Zn[xe]=Zn[Se]=Zn[ve]=Zn[Q]=Zn[ne]=Zn[fe]=Zn[Ge]=!1;var Gn={};Gn[V]=Gn[q]=Gn[Fe]=Gn[bt]=Gn[X]=Gn[J]=Gn[Gt]=Gn[Ye]=Gn[lt]=Gn[Ut]=Gn[Jt]=Gn[xe]=Gn[Se]=Gn[ve]=Gn[Q]=Gn[ne]=Gn[fe]=Gn[Te]=Gn[Bt]=Gn[qt]=Gn[Un]=Gn[Xn]=!0,Gn[G]=Gn[ee]=Gn[Ge]=!1;var Mm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lm=parseFloat,Yy=parseInt,Qy=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g,ln=typeof self=="object"&&self&&self.Object===Object&&self,Xr=Qy||ln||Function("return this")(),wh=a&&!a.nodeType&&a,sn=wh&&s&&!s.nodeType&&s,Eh=sn&&sn.exports===wh,Od=Eh&&Qy.process,Si=function(){try{var ye=sn&&sn.require&&sn.require("util").types;return ye||Od&&Od.binding&&Od.binding("util")}catch{}}(),za=Si&&Si.isArrayBuffer,Fm=Si&&Si.isDate,Um=Si&&Si.isMap,Ch=Si&&Si.isRegExp,Th=Si&&Si.isSet,Pd=Si&&Si.isTypedArray;function Ui(ye,me,Ie){switch(Ie.length){case 0:return ye.call(me);case 1:return ye.call(me,Ie[0]);case 2:return ye.call(me,Ie[0],Ie[1]);case 3:return ye.call(me,Ie[0],Ie[1],Ie[2])}return ye.apply(me,Ie)}function kw(ye,me,Ie,Je){for(var Kt=-1,zt=ye==null?0:ye.length;++Kt<zt;){var Dr=ye[Kt];me(Je,Dr,Ie(Dr),ye)}return Je}function ho(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Xy(ye,me){for(var Ie=ye==null?0:ye.length;Ie--&&me(ye[Ie],Ie,ye)!==!1;);return ye}function Dc(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je;)if(!me(ye[Ie],Ie,ye))return!1;return!0}function Va(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length,Kt=0,zt=[];++Ie<Je;){var Dr=ye[Ie];me(Dr,Ie,ye)&&(zt[Kt++]=Dr)}return zt}function Rh(ye,me){return!!(ye!=null&&ye.length)&&Ul(ye,me,0)>-1}function Bm(ye,me,Ie){for(var Je=-1,Kt=ye==null?0:ye.length;++Je<Kt;)if(Ie(me,ye[Je]))return!0;return!1}function ar(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length,Kt=Array(Je);++Ie<Je;)Kt[Ie]=me(ye[Ie],Ie,ye);return Kt}function ua(ye,me){for(var Ie=-1,Je=me.length,Kt=ye.length;++Ie<Je;)ye[Kt+Ie]=me[Ie];return ye}function kh(ye,me,Ie,Je){var Kt=-1,zt=ye==null?0:ye.length;for(Je&&zt&&(Ie=ye[++Kt]);++Kt<zt;)Ie=me(Ie,ye[Kt],Kt,ye);return Ie}function Ow(ye,me,Ie,Je){var Kt=ye==null?0:ye.length;for(Je&&Kt&&(Ie=ye[--Kt]);Kt--;)Ie=me(Ie,ye[Kt],Kt,ye);return Ie}function $m(ye,me){for(var Ie=-1,Je=ye==null?0:ye.length;++Ie<Je;)if(me(ye[Ie],Ie,ye))return!0;return!1}var Pw=Ph("length");function Jy(ye,me,Ie){var Je;return Ie(ye,function(Kt,zt,Dr){if(me(Kt,zt,Dr))return Je=zt,!1}),Je}function Oh(ye,me,Ie,Je){for(var Kt=ye.length,zt=Ie+(Je?1:-1);Je?zt--:++zt<Kt;)if(me(ye[zt],zt,ye))return zt;return-1}function Ul(ye,me,Ie){return me==me?function(Je,Kt,zt){for(var Dr=zt-1,us=Je.length;++Dr<us;)if(Je[Dr]===Kt)return Dr;return-1}(ye,me,Ie):Oh(ye,Zy,Ie)}function Nw(ye,me,Ie,Je){for(var Kt=Ie-1,zt=ye.length;++Kt<zt;)if(Je(ye[Kt],me))return Kt;return-1}function Zy(ye){return ye!=ye}function e0(ye,me){var Ie=ye==null?0:ye.length;return Ie?Vm(ye,me)/Ie:A}function Ph(ye){return function(me){return me==null?f:me[ye]}}function zm(ye){return function(me){return ye==null?f:ye[me]}}function t0(ye,me,Ie,Je,Kt){return Kt(ye,function(zt,Dr,us){Ie=Je?(Je=!1,zt):me(Ie,zt,Dr,us)}),Ie}function Vm(ye,me){for(var Ie,Je=-1,Kt=ye.length;++Je<Kt;){var zt=me(ye[Je]);zt!==f&&(Ie=Ie===f?zt:Ie+zt)}return Ie}function _r(ye,me){for(var Ie=-1,Je=Array(ye);++Ie<ye;)Je[Ie]=me(Ie);return Je}function Nd(ye){return ye&&ye.slice(0,Mc(ye)+1).replace(fi,"")}function po(ye){return function(me){return ye(me)}}function Bl(ye,me){return ar(me,function(Ie){return ye[Ie]})}function Id(ye,me){return ye.has(me)}function jd(ye,me){for(var Ie=-1,Je=ye.length;++Ie<Je&&Ul(me,ye[Ie],0)>-1;);return Ie}function n0(ye,me){for(var Ie=ye.length;Ie--&&Ul(me,ye[Ie],0)>-1;);return Ie}var r0=zm({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Wm=zm({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function mo(ye){return"\\"+Mm[ye]}function ls(ye){return Rw.test(ye)}function Nh(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je,Kt){Ie[++me]=[Kt,Je]}),Ie}function i0(ye,me){return function(Ie){return ye(me(Ie))}}function Ar(ye,me){for(var Ie=-1,Je=ye.length,Kt=0,zt=[];++Ie<Je;){var Dr=ye[Ie];Dr!==me&&Dr!==E||(ye[Ie]=E,zt[Kt++]=Ie)}return zt}function go(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je){Ie[++me]=Je}),Ie}function o0(ye){var me=-1,Ie=Array(ye.size);return ye.forEach(function(Je){Ie[++me]=[Je,Je]}),Ie}function vo(ye){return ls(ye)?function(me){for(var Ie=Fl.lastIndex=0;Fl.test(me);)++Ie;return Ie}(ye):Pw(ye)}function Uo(ye){return ls(ye)?function(me){return me.match(Fl)||[]}(ye):function(me){return me.split("")}(ye)}function Mc(ye){for(var me=ye.length;me--&&fo.test(ye.charAt(me)););return me}var gt=zm({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ad=function ye(me){var Ie,Je=(me=me==null?Xr:Ad.defaults(Xr.Object(),me,Ad.pick(Xr,Am))).Array,Kt=me.Date,zt=me.Error,Dr=me.Function,us=me.Math,cr=me.Object,Hm=me.RegExp,Iw=me.String,Qi=me.TypeError,Wa=Je.prototype,jw=Dr.prototype,$l=cr.prototype,Lc=me["__core-js_shared__"],Ih=jw.toString,Vn=$l.hasOwnProperty,zl=0,Gm=(Ie=/[^.]+$/.exec(Lc&&Lc.keys&&Lc.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",jh=$l.toString,Aw=Ih.call(cr),s0=Xr._,Dw=Hm("^"+Ih.call(Vn).replace(_n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ha=Eh?me.Buffer:f,Ga=me.Symbol,Dd=me.Uint8Array,Ah=Ha?Ha.allocUnsafe:f,Md=i0(cr.getPrototypeOf,cr),Ld=cr.create,a0=$l.propertyIsEnumerable,Vl=Wa.splice,qm=Ga?Ga.isConcatSpreadable:f,Wl=Ga?Ga.iterator:f,qe=Ga?Ga.toStringTag:f,wr=function(){try{var d=Wc(cr,"defineProperty");return d({},"",{}),d}catch{}}(),Mw=me.clearTimeout!==Xr.clearTimeout&&me.clearTimeout,Lw=Kt&&Kt.now!==Xr.Date.now&&Kt.now,Fw=me.setTimeout!==Xr.setTimeout&&me.setTimeout,Dh=us.ceil,yo=us.floor,Mh=cr.getOwnPropertySymbols,Uw=Ha?Ha.isBuffer:f,qa=me.isFinite,c0=Wa.join,Xi=i0(cr.keys,cr),gr=us.max,Hr=us.min,en=Kt.now,Fd=me.parseInt,Ud=us.random,Bw=Wa.reverse,Bd=Wc(me,"DataView"),Jr=Wc(me,"Map"),da=Wc(me,"Promise"),Fc=Wc(me,"Set"),_i=Wc(me,"WeakMap"),je=Wc(cr,"create"),wi=_i&&new _i,Hl={},Lh=nc(Bd),Fh=nc(Jr),Km=nc(da),Uh=nc(Fc),Ym=nc(_i),Bh=Ga?Ga.prototype:f,fa=Bh?Bh.valueOf:f,Qm=Bh?Bh.toString:f;function H(d){if(Pr(d)&&!ft(d)&&!(d instanceof yn)){if(d instanceof Ji)return d;if(Vn.call(d,"__wrapped__"))return A0(d)}return new Ji(d)}var Uc=function(){function d(){}return function(v){if(!qn(v))return{};if(Ld)return Ld(v);d.prototype=v;var k=new d;return d.prototype=f,k}}();function Gl(){}function Ji(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=f}function yn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Ka(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function ds(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function Bs(d){var v=-1,k=d==null?0:d.length;for(this.clear();++v<k;){var D=d[v];this.set(D[0],D[1])}}function Ya(d){var v=-1,k=d==null?0:d.length;for(this.__data__=new Bs;++v<k;)this.add(d[v])}function Bo(d){var v=this.__data__=new ds(d);this.size=v.size}function Xm(d,v){var k=ft(d),D=!k&&Gc(d),z=!k&&!D&&jn(d),K=!k&&!D&&!z&&M(d),te=k||D||z||K,se=te?_r(d.length,Iw):[],he=se.length;for(var Pe in d)!v&&!Vn.call(d,Pe)||te&&(Pe=="length"||z&&(Pe=="offset"||Pe=="parent")||K&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||zo(Pe,he))||se.push(Pe);return se}function $d(d){var v=d.length;return v?d[cg(0,v-1)]:f}function l0(d,v){return Mr($i(d),Bc(v,0,d.length))}function u0(d){return Mr($i(d))}function fs(d,v,k){(k!==f&&!Ss(d[v],k)||k===f&&!(v in d))&&$s(d,v,k)}function ql(d,v,k){var D=d[v];Vn.call(d,v)&&Ss(D,k)&&(k!==f||v in d)||$s(d,v,k)}function Kl(d,v){for(var k=d.length;k--;)if(Ss(d[k][0],v))return k;return-1}function d0(d,v,k,D){return hs(d,function(z,K,te){v(D,z,k(z),te)}),D}function Jm(d,v){return d&&So(v,vt(v),d)}function $s(d,v,k){v=="__proto__"&&wr?wr(d,v,{configurable:!0,enumerable:!0,value:k,writable:!0}):d[v]=k}function $h(d,v){for(var k=-1,D=v.length,z=Je(D),K=d==null;++k<D;)z[k]=K?f:Qt(d,v[k]);return z}function Bc(d,v,k){return d==d&&(k!==f&&(d=d<=k?d:k),v!==f&&(d=d>=v?d:v)),d}function bo(d,v,k,D,z,K){var te,se=1&v,he=2&v,Pe=4&v;if(k&&(te=z?k(d,D,z,K):k(d)),te!==f)return te;if(!qn(d))return d;var ke=ft(d);if(ke){if(te=function(Ne){var He=Ne.length,At=new Ne.constructor(He);return He&&typeof Ne[0]=="string"&&Vn.call(Ne,"index")&&(At.index=Ne.index,At.input=Ne.input),At}(d),!se)return $i(d,te)}else{var Le=Ti(d),at=Le==ee||Le==ce;if(jn(d))return hg(d,se);if(Le==ve||Le==V||at&&!z){if(te=he||at?{}:ep(d),!se)return he?function(Ne,He){return So(Ne,N0(Ne),He)}(d,function(Ne,He){return Ne&&So(He,yt(He),Ne)}(te,d)):function(Ne,He){return So(Ne,_g(Ne),He)}(d,Jm(te,d))}else{if(!Gn[Le])return z?d:{};te=function(Ne,He,At){var Xe=Ne.constructor;switch(He){case Fe:return pg(Ne);case X:case J:return new Xe(+Ne);case bt:return function(nn,zn){var Et=zn?pg(nn.buffer):nn.buffer;return new nn.constructor(Et,nn.byteOffset,nn.byteLength)}(Ne,At);case Gt:case Ye:case lt:case Ut:case Jt:case Bt:case qt:case Un:case Xn:return gs(Ne,At);case xe:return new Xe;case Se:case fe:return new Xe(Ne);case Q:return function(nn){var zn=new nn.constructor(nn.source,la.exec(nn));return zn.lastIndex=nn.lastIndex,zn}(Ne);case ne:return new Xe;case Te:return fn=Ne,fa?cr(fa.call(fn)):{}}var fn}(d,Le,se)}}K||(K=new Bo);var it=K.get(d);if(it)return it;K.set(d,te),T(d)?d.forEach(function(Ne){te.add(bo(Ne,v,k,Ne,d,K))}):S(d)&&d.forEach(function(Ne,He){te.set(He,bo(Ne,v,k,He,d,K))});var Ot=ke?f:(Pe?he?Wn:Zi:he?yt:vt)(d);return ho(Ot||d,function(Ne,He){Ot&&(Ne=d[He=Ne]),ql(te,He,bo(Ne,v,k,He,d,K))}),te}function f0(d,v,k){var D=k.length;if(d==null)return!D;for(d=cr(d);D--;){var z=k[D],K=v[z],te=d[z];if(te===f&&!(z in d)||!K(te))return!1}return!0}function ot(d,v,k){if(typeof d!="function")throw new Qi(p);return ru(function(){d.apply(f,k)},v)}function Yl(d,v,k,D){var z=-1,K=Rh,te=!0,se=d.length,he=[],Pe=v.length;if(!se)return he;k&&(v=ar(v,po(k))),D?(K=Bm,te=!1):v.length>=200&&(K=Id,te=!1,v=new Ya(v));e:for(;++z<se;){var ke=d[z],Le=k==null?ke:k(ke);if(ke=D||ke!==0?ke:0,te&&Le==Le){for(var at=Pe;at--;)if(v[at]===Le)continue e;he.push(ke)}else K(v,Le,D)||he.push(ke)}return he}H.templateSettings={escape:re,evaluate:de,interpolate:Re,variable:"",imports:{_:H}},H.prototype=Gl.prototype,H.prototype.constructor=H,Ji.prototype=Uc(Gl.prototype),Ji.prototype.constructor=Ji,yn.prototype=Uc(Gl.prototype),yn.prototype.constructor=yn,Ka.prototype.clear=function(){this.__data__=je?je(null):{},this.size=0},Ka.prototype.delete=function(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v},Ka.prototype.get=function(d){var v=this.__data__;if(je){var k=v[d];return k===m?f:k}return Vn.call(v,d)?v[d]:f},Ka.prototype.has=function(d){var v=this.__data__;return je?v[d]!==f:Vn.call(v,d)},Ka.prototype.set=function(d,v){var k=this.__data__;return this.size+=this.has(d)?0:1,k[d]=je&&v===f?m:v,this},ds.prototype.clear=function(){this.__data__=[],this.size=0},ds.prototype.delete=function(d){var v=this.__data__,k=Kl(v,d);return!(k<0)&&(k==v.length-1?v.pop():Vl.call(v,k,1),--this.size,!0)},ds.prototype.get=function(d){var v=this.__data__,k=Kl(v,d);return k<0?f:v[k][1]},ds.prototype.has=function(d){return Kl(this.__data__,d)>-1},ds.prototype.set=function(d,v){var k=this.__data__,D=Kl(k,d);return D<0?(++this.size,k.push([d,v])):k[D][1]=v,this},Bs.prototype.clear=function(){this.size=0,this.__data__={hash:new Ka,map:new(Jr||ds),string:new Ka}},Bs.prototype.delete=function(d){var v=Zd(this,d).delete(d);return this.size-=v?1:0,v},Bs.prototype.get=function(d){return Zd(this,d).get(d)},Bs.prototype.has=function(d){return Zd(this,d).has(d)},Bs.prototype.set=function(d,v){var k=Zd(this,d),D=k.size;return k.set(d,v),this.size+=k.size==D?0:1,this},Ya.prototype.add=Ya.prototype.push=function(d){return this.__data__.set(d,m),this},Ya.prototype.has=function(d){return this.__data__.has(d)},Bo.prototype.clear=function(){this.__data__=new ds,this.size=0},Bo.prototype.delete=function(d){var v=this.__data__,k=v.delete(d);return this.size=v.size,k},Bo.prototype.get=function(d){return this.__data__.get(d)},Bo.prototype.has=function(d){return this.__data__.has(d)},Bo.prototype.set=function(d,v){var k=this.__data__;if(k instanceof ds){var D=k.__data__;if(!Jr||D.length<199)return D.push([d,v]),this.size=++k.size,this;k=this.__data__=new Bs(D)}return k.set(d,v),this.size=k.size,this};var hs=yg(xo),Zr=yg(eg,!0);function h0(d,v){var k=!0;return hs(d,function(D,z,K){return k=!!v(D,z,K)}),k}function zd(d,v,k){for(var D=-1,z=d.length;++D<z;){var K=d[D],te=v(K);if(te!=null&&(se===f?te==te&&!N(te):k(te,se)))var se=te,he=K}return he}function p0(d,v){var k=[];return hs(d,function(D,z,K){v(D,z,K)&&k.push(D)}),k}function ei(d,v,k,D,z){var K=-1,te=d.length;for(k||(k=I0),z||(z=[]);++K<te;){var se=d[K];v>0&&k(se)?v>1?ei(se,v-1,k,D,z):ua(z,se):D||(z[z.length]=se)}return z}var zh=S0(),Zm=S0(!0);function xo(d,v){return d&&zh(d,v,vt)}function eg(d,v){return d&&Zm(d,v,vt)}function Vh(d,v){return Va(v,function(k){return _o(d[k])})}function Qa(d,v){for(var k=0,D=(v=Za(v,d)).length;d!=null&&k<D;)d=d[vs(v[k++])];return k&&k==D?d:f}function tg(d,v,k){var D=v(d);return ft(d)?D:ua(D,k(d))}function Bi(d){return d==null?d===f?"[object Undefined]":"[object Null]":qe&&qe in cr(d)?function(v){var k=Vn.call(v,qe),D=v[qe];try{v[qe]=f;var z=!0}catch{}var K=jh.call(v);return z&&(k?v[qe]=D:delete v[qe]),K}(d):function(v){return jh.call(v)}(d)}function ha(d,v){return d>v}function Ei(d,v){return d!=null&&Vn.call(d,v)}function Ql(d,v){return d!=null&&v in cr(d)}function Xl(d,v,k){for(var D=k?Bm:Rh,z=d[0].length,K=d.length,te=K,se=Je(K),he=1/0,Pe=[];te--;){var ke=d[te];te&&v&&(ke=ar(ke,po(v))),he=Hr(ke.length,he),se[te]=!k&&(v||z>=120&&ke.length>=120)?new Ya(te&&ke):f}ke=d[0];var Le=-1,at=se[0];e:for(;++Le<z&&Pe.length<he;){var it=ke[Le],Ot=v?v(it):it;if(it=k||it!==0?it:0,!(at?Id(at,Ot):D(Pe,Ot,k))){for(te=K;--te;){var Ne=se[te];if(!(Ne?Id(Ne,Ot):D(d[te],Ot,k)))continue e}at&&at.push(Ot),Pe.push(it)}}return Pe}function In(d,v,k){var D=(d=Oi(d,v=Za(v,d)))==null?d:d[vs(er(v))];return D==null?f:Ui(D,d,k)}function $c(d){return Pr(d)&&Bi(d)==V}function ps(d,v,k,D,z){return d===v||(d==null||v==null||!Pr(d)&&!Pr(v)?d!=d&&v!=v:function(K,te,se,he,Pe,ke){var Le=ft(K),at=ft(te),it=Le?q:Ti(K),Ot=at?q:Ti(te),Ne=(it=it==V?ve:it)==ve,He=(Ot=Ot==V?ve:Ot)==ve,At=it==Ot;if(At&&jn(K)){if(!jn(te))return!1;Le=!0,Ne=!1}if(At&&!Ne)return ke||(ke=new Bo),Le||M(K)?Xd(K,te,se,he,Pe,ke):function(Et,Dt,mi,ri,Co,Er,no){switch(mi){case bt:if(Et.byteLength!=Dt.byteLength||Et.byteOffset!=Dt.byteOffset)return!1;Et=Et.buffer,Dt=Dt.buffer;case Fe:return!(Et.byteLength!=Dt.byteLength||!Er(new Dd(Et),new Dd(Dt)));case X:case J:case Se:return Ss(+Et,+Dt);case G:return Et.name==Dt.name&&Et.message==Dt.message;case Q:case fe:return Et==Dt+"";case xe:var ic=Nh;case ne:var uu=1&ri;if(ic||(ic=go),Et.size!=Dt.size&&!uu)return!1;var $0=no.get(Et);if($0)return $0==Dt;ri|=2,no.set(Et,Dt);var tE=Xd(ic(Et),ic(Dt),ri,Co,Er,no);return no.delete(Et),tE;case Te:if(fa)return fa.call(Et)==fa.call(Dt)}return!1}(K,te,it,se,he,Pe,ke);if(!(1&se)){var Xe=Ne&&Vn.call(K,"__wrapped__"),fn=He&&Vn.call(te,"__wrapped__");if(Xe||fn){var nn=Xe?K.value():K,zn=fn?te.value():te;return ke||(ke=new Bo),Pe(nn,zn,se,he,ke)}}return At?(ke||(ke=new Bo),function(Et,Dt,mi,ri,Co,Er){var no=1&mi,ic=Zi(Et),uu=ic.length,$0=Zi(Dt),tE=$0.length;if(uu!=tE&&!no)return!1;for(var z0=uu;z0--;){var hf=ic[z0];if(!(no?hf in Dt:Vn.call(Dt,hf)))return!1}var NO=Er.get(Et),IO=Er.get(Dt);if(NO&&IO)return NO==Dt&&IO==Et;var V0=!0;Er.set(Et,Dt),Er.set(Dt,Et);for(var nE=no;++z0<uu;){var W0=Et[hf=ic[z0]],H0=Dt[hf];if(ri)var jO=no?ri(H0,W0,hf,Dt,Et,Er):ri(W0,H0,hf,Et,Dt,Er);if(!(jO===f?W0===H0||Co(W0,H0,mi,ri,Er):jO)){V0=!1;break}nE||(nE=hf=="constructor")}if(V0&&!nE){var G0=Et.constructor,q0=Dt.constructor;G0==q0||!("constructor"in Et)||!("constructor"in Dt)||typeof G0=="function"&&G0 instanceof G0&&typeof q0=="function"&&q0 instanceof q0||(V0=!1)}return Er.delete(Et),Er.delete(Dt),V0}(K,te,se,he,Pe,ke)):!1}(d,v,k,D,ps,z))}function Wh(d,v,k,D){var z=k.length,K=z,te=!D;if(d==null)return!K;for(d=cr(d);z--;){var se=k[z];if(te&&se[2]?se[1]!==d[se[0]]:!(se[0]in d))return!1}for(;++z<K;){var he=(se=k[z])[0],Pe=d[he],ke=se[1];if(te&&se[2]){if(Pe===f&&!(he in d))return!1}else{var Le=new Bo;if(D)var at=D(Pe,ke,he,d,v,Le);if(!(at===f?ps(ke,Pe,3,D,Le):at))return!1}}return!0}function Xa(d){return!(!qn(d)||(v=d,Gm&&Gm in v))&&(_o(d)?Dw:_d).test(nc(d));var v}function Vd(d){return typeof d=="function"?d:d==null?mr:typeof d=="object"?ft(d)?ig(d[0],d[1]):g0(d):Gs(d)}function zc(d){if(!tu(d))return Xi(d);var v=[];for(var k in cr(d))Vn.call(d,k)&&k!="constructor"&&v.push(k);return v}function ng(d){if(!qn(d))return function(z){var K=[];if(z!=null)for(var te in cr(z))K.push(te);return K}(d);var v=tu(d),k=[];for(var D in d)(D!="constructor"||!v&&Vn.call(d,D))&&k.push(D);return k}function rg(d,v){return d<v}function m0(d,v){var k=-1,D=Lr(d)?Je(d.length):[];return hs(d,function(z,K,te){D[++k]=v(z,K,te)}),D}function g0(d){var v=Sg(d);return v.length==1&&v[0][2]?j0(v[0][0],v[0][1]):function(k){return k===d||Wh(k,d,v)}}function ig(d,v){return wg(d)&&Eg(v)?j0(vs(d),v):function(k){var D=Qt(k,d);return D===f&&D===v?Vt(k,d):ps(v,D,3)}}function Wd(d,v,k,D,z){d!==v&&zh(v,function(K,te){if(z||(z=new Bo),qn(K))(function(he,Pe,ke,Le,at,it,Ot){var Ne=Cg(he,ke),He=Cg(Pe,ke),At=Ot.get(He);if(At)return void fs(he,ke,At);var Xe=it?it(Ne,He,ke+"",he,Pe,Ot):f,fn=Xe===f;if(fn){var nn=ft(He),zn=!nn&&jn(He),Et=!nn&&!zn&&M(He);Xe=He,nn||zn||Et?ft(Ne)?Xe=Ne:Fr(Ne)?Xe=$i(Ne):zn?(fn=!1,Xe=hg(He,!0)):Et?(fn=!1,Xe=gs(He,!0)):Xe=[]:g(He)||Gc(He)?(Xe=Ne,Gc(Ne)?Xe=ge(Ne):qn(Ne)&&!_o(Ne)||(Xe=ep(He))):fn=!1}fn&&(Ot.set(He,Xe),at(Xe,He,Le,it,Ot),Ot.delete(He)),fs(he,ke,Xe)})(d,v,te,k,Wd,D,z);else{var se=D?D(Cg(d,te),K,te+"",d,v,z):f;se===f&&(se=K),fs(d,te,se)}},yt)}function ms(d,v){var k=d.length;if(k)return zo(v+=v<0?k:0,k)?d[v]:f}function og(d,v,k){v=v.length?ar(v,function(K){return ft(K)?function(te){return Qa(te,K.length===1?K[0]:K)}:K}):[mr];var D=-1;v=ar(v,po(kt()));var z=m0(d,function(K,te,se){var he=ar(v,function(Pe){return Pe(K)});return{criteria:he,index:++D,value:K}});return function(K,te){var se=K.length;for(K.sort(te);se--;)K[se]=K[se].value;return K}(z,function(K,te){return function(se,he,Pe){for(var ke=-1,Le=se.criteria,at=he.criteria,it=Le.length,Ot=Pe.length;++ke<it;){var Ne=mg(Le[ke],at[ke]);if(Ne)return ke>=Ot?Ne:Ne*(Pe[ke]=="desc"?-1:1)}return se.index-he.index}(K,te,k)})}function sg(d,v,k){for(var D=-1,z=v.length,K={};++D<z;){var te=v[D],se=Qa(d,te);k(se,te)&&Hd(K,Za(te,d),se)}return K}function ag(d,v,k,D){var z=D?Nw:Ul,K=-1,te=v.length,se=d;for(d===v&&(v=$i(v)),k&&(se=ar(d,po(k)));++K<te;)for(var he=0,Pe=v[K],ke=k?k(Pe):Pe;(he=z(se,ke,he,D))>-1;)se!==d&&Vl.call(se,he,1),Vl.call(d,he,1);return d}function v0(d,v){for(var k=d?v.length:0,D=k-1;k--;){var z=v[k];if(k==D||z!==K){var K=z;zo(z)?Vl.call(d,z,1):ug(d,z)}}return d}function cg(d,v){return d+yo(Ud()*(v-d+1))}function lg(d,v){var k="";if(!d||v<1||v>I)return k;do v%2&&(k+=d),(v=yo(v/2))&&(d+=d);while(v);return k}function mn(d,v){return zi(nu(d,v,mr),d+"")}function $w(d){return $d(An(d))}function zw(d,v){var k=An(d);return Mr(k,Bc(v,0,k.length))}function Hd(d,v,k,D){if(!qn(d))return d;for(var z=-1,K=(v=Za(v,d)).length,te=K-1,se=d;se!=null&&++z<K;){var he=vs(v[z]),Pe=k;if(he==="__proto__"||he==="constructor"||he==="prototype")return d;if(z!=te){var ke=se[he];(Pe=D?D(ke,he,se):f)===f&&(Pe=qn(ke)?ke:zo(v[z+1])?[]:{})}ql(se,he,Pe),se=se[he]}return d}var y0=wi?function(d,v){return wi.set(d,v),d}:mr,Hh=wr?function(d,v){return wr(d,"toString",{configurable:!0,enumerable:!1,value:Vi(v),writable:!0})}:mr;function Vw(d){return Mr(An(d))}function $o(d,v,k){var D=-1,z=d.length;v<0&&(v=-v>z?0:z+v),(k=k>z?z:k)<0&&(k+=z),z=v>k?0:k-v>>>0,v>>>=0;for(var K=Je(z);++D<z;)K[D]=d[D+v];return K}function Jl(d,v){var k;return hs(d,function(D,z,K){return!(k=v(D,z,K))}),!!k}function pa(d,v,k){var D=0,z=d==null?D:d.length;if(typeof v=="number"&&v==v&&z<=2147483647){for(;D<z;){var K=D+z>>>1,te=d[K];te!==null&&!N(te)&&(k?te<=v:te<v)?D=K+1:z=K}return z}return ma(d,v,mr,k)}function ma(d,v,k,D){var z=0,K=d==null?0:d.length;if(K===0)return 0;for(var te=(v=k(v))!=v,se=v===null,he=N(v),Pe=v===f;z<K;){var ke=yo((z+K)/2),Le=k(d[ke]),at=Le!==f,it=Le===null,Ot=Le==Le,Ne=N(Le);if(te)var He=D||Ot;else He=Pe?Ot&&(D||at):se?Ot&&at&&(D||!it):he?Ot&&at&&!it&&(D||!Ne):!it&&!Ne&&(D?Le<=v:Le<v);He?z=ke+1:K=ke}return Hr(K,4294967294)}function Gd(d,v){for(var k=-1,D=d.length,z=0,K=[];++k<D;){var te=d[k],se=v?v(te):te;if(!k||!Ss(se,he)){var he=se;K[z++]=te===0?0:te}}return K}function ga(d){return typeof d=="number"?d:N(d)?A:+d}function Ci(d){if(typeof d=="string")return d;if(ft(d))return ar(d,Ci)+"";if(N(d))return Qm?Qm.call(d):"";var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function Ja(d,v,k){var D=-1,z=Rh,K=d.length,te=!0,se=[],he=se;if(k)te=!1,z=Bm;else if(K>=200){var Pe=v?null:Ww(d);if(Pe)return go(Pe);te=!1,z=Id,he=new Ya}else he=v?[]:se;e:for(;++D<K;){var ke=d[D],Le=v?v(ke):ke;if(ke=k||ke!==0?ke:0,te&&Le==Le){for(var at=he.length;at--;)if(he[at]===Le)continue e;v&&he.push(Le),se.push(ke)}else z(he,Le,k)||(he!==se&&he.push(Le),se.push(ke))}return se}function ug(d,v){return(d=Oi(d,v=Za(v,d)))==null||delete d[vs(er(v))]}function qd(d,v,k,D){return Hd(d,v,k(Qa(d,v)),D)}function Gh(d,v,k,D){for(var z=d.length,K=D?z:-1;(D?K--:++K<z)&&v(d[K],K,d););return k?$o(d,D?0:K,D?K+1:z):$o(d,D?K+1:0,D?z:K)}function b0(d,v){var k=d;return k instanceof yn&&(k=k.value()),kh(v,function(D,z){return z.func.apply(z.thisArg,ua([D],z.args))},k)}function Vc(d,v,k){var D=d.length;if(D<2)return D?Ja(d[0]):[];for(var z=-1,K=Je(D);++z<D;)for(var te=d[z],se=-1;++se<D;)se!=z&&(K[z]=Yl(K[z]||te,d[se],v,k));return Ja(ei(K,1),v,k)}function x0(d,v,k){for(var D=-1,z=d.length,K=v.length,te={};++D<z;){var se=D<K?v[D]:f;k(te,d[D],se)}return te}function dg(d){return Fr(d)?d:[]}function Kd(d){return typeof d=="function"?d:mr}function Za(d,v){return ft(d)?d:wg(d,v)?[d]:iu(le(d))}var qh=mn;function ec(d,v,k){var D=d.length;return k=k===f?D:k,!v&&k>=D?d:$o(d,v,k)}var fg=Mw||function(d){return Xr.clearTimeout(d)};function hg(d,v){if(v)return d.slice();var k=d.length,D=Ah?Ah(k):new d.constructor(k);return d.copy(D),D}function pg(d){var v=new d.constructor(d.byteLength);return new Dd(v).set(new Dd(d)),v}function gs(d,v){var k=v?pg(d.buffer):d.buffer;return new d.constructor(k,d.byteOffset,d.length)}function mg(d,v){if(d!==v){var k=d!==f,D=d===null,z=d==d,K=N(d),te=v!==f,se=v===null,he=v==v,Pe=N(v);if(!se&&!Pe&&!K&&d>v||K&&te&&he&&!se&&!Pe||D&&te&&he||!k&&he||!z)return 1;if(!D&&!K&&!Pe&&d<v||Pe&&k&&z&&!D&&!K||se&&k&&z||!te&&z||!he)return-1}return 0}function gg(d,v,k,D){for(var z=-1,K=d.length,te=k.length,se=-1,he=v.length,Pe=gr(K-te,0),ke=Je(he+Pe),Le=!D;++se<he;)ke[se]=v[se];for(;++z<te;)(Le||z<K)&&(ke[k[z]]=d[z]);for(;Pe--;)ke[se++]=d[z++];return ke}function vg(d,v,k,D){for(var z=-1,K=d.length,te=-1,se=k.length,he=-1,Pe=v.length,ke=gr(K-se,0),Le=Je(ke+Pe),at=!D;++z<ke;)Le[z]=d[z];for(var it=z;++he<Pe;)Le[it+he]=v[he];for(;++te<se;)(at||z<K)&&(Le[it+k[te]]=d[z++]);return Le}function $i(d,v){var k=-1,D=d.length;for(v||(v=Je(D));++k<D;)v[k]=d[k];return v}function So(d,v,k,D){var z=!k;k||(k={});for(var K=-1,te=v.length;++K<te;){var se=v[K],he=D?D(k[se],d[se],se,k,d):f;he===f&&(he=d[se]),z?$s(k,se,he):ql(k,se,he)}return k}function tc(d,v){return function(k,D){var z=ft(k)?kw:d0,K=v?v():{};return z(k,d,kt(D,2),K)}}function va(d){return mn(function(v,k){var D=-1,z=k.length,K=z>1?k[z-1]:f,te=z>2?k[2]:f;for(K=d.length>3&&typeof K=="function"?(z--,K):f,te&&Ri(k[0],k[1],te)&&(K=z<3?f:K,z=1),v=cr(v);++D<z;){var se=k[D];se&&d(v,se,D,K)}return v})}function yg(d,v){return function(k,D){if(k==null)return k;if(!Lr(k))return d(k,D);for(var z=k.length,K=v?z:-1,te=cr(k);(v?K--:++K<z)&&D(te[K],K,te)!==!1;);return k}}function S0(d){return function(v,k,D){for(var z=-1,K=cr(v),te=D(v),se=te.length;se--;){var he=te[d?se:++z];if(k(K[he],he,K)===!1)break}return v}}function _0(d){return function(v){var k=ls(v=le(v))?Uo(v):f,D=k?k[0]:v.charAt(0),z=k?ec(k,1).join(""):v.slice(1);return D[d]()+z}}function Zl(d){return function(v){return kh(Ii(ur(v).replace(Fo,"")),d,"")}}function Yd(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var k=Uc(d.prototype),D=d.apply(k,v);return qn(D)?D:k}}function w0(d){return function(v,k,D){var z=cr(v);if(!Lr(v)){var K=kt(k,3);v=vt(v),k=function(se){return K(z[se],se,z)}}var te=d(v,k,D);return te>-1?z[K?v[te]:te]:f}}function E0(d){return ai(function(v){var k=v.length,D=k,z=Ji.prototype.thru;for(d&&v.reverse();D--;){var K=v[D];if(typeof K!="function")throw new Qi(p);if(z&&!te&&Jd(K)=="wrapper")var te=new Ji([],!0)}for(D=te?D:k;++D<k;){var se=Jd(K=v[D]),he=se=="wrapper"?Jh(K):f;te=he&&ef(he[0])&&he[1]==424&&!he[4].length&&he[9]==1?te[Jd(he[0])].apply(te,he[3]):K.length==1&&ef(K)?te[se]():te.thru(K)}return function(){var Pe=arguments,ke=Pe[0];if(te&&Pe.length==1&&ft(ke))return te.plant(ke).value();for(var Le=0,at=k?v[Le].apply(this,Pe):ke;++Le<k;)at=v[Le].call(this,at);return at}})}function Qd(d,v,k,D,z,K,te,se,he,Pe){var ke=v&R,Le=1&v,at=2&v,it=24&v,Ot=512&v,Ne=at?f:Yd(d);return function He(){for(var At=arguments.length,Xe=Je(At),fn=At;fn--;)Xe[fn]=arguments[fn];if(it)var nn=eu(He),zn=function(ri,Co){for(var Er=ri.length,no=0;Er--;)ri[Er]===Co&&++no;return no}(Xe,nn);if(D&&(Xe=gg(Xe,D,z,it)),K&&(Xe=vg(Xe,K,te,it)),At-=zn,it&&At<Pe){var Et=Ar(Xe,nn);return R0(d,v,Qd,He.placeholder,k,Xe,Et,se,he,Pe-At)}var Dt=Le?k:this,mi=at?Dt[d]:d;return At=Xe.length,se?Xe=function(ri,Co){for(var Er=ri.length,no=Hr(Co.length,Er),ic=$i(ri);no--;){var uu=Co[no];ri[no]=zo(uu,Er)?ic[uu]:f}return ri}(Xe,se):Ot&&At>1&&Xe.reverse(),ke&&he<At&&(Xe.length=he),this&&this!==Xr&&this instanceof He&&(mi=Ne||Yd(mi)),mi.apply(Dt,Xe)}}function C0(d,v){return function(k,D){return function(z,K,te,se){return xo(z,function(he,Pe,ke){K(se,te(he),Pe,ke)}),se}(k,d,v(D),{})}}function Kh(d,v){return function(k,D){var z;if(k===f&&D===f)return v;if(k!==f&&(z=k),D!==f){if(z===f)return D;typeof k=="string"||typeof D=="string"?(k=Ci(k),D=Ci(D)):(k=ga(k),D=ga(D)),z=d(k,D)}return z}}function Yh(d){return ai(function(v){return v=ar(v,po(kt())),mn(function(k){var D=this;return d(v,function(z){return Ui(z,D,k)})})})}function Qh(d,v){var k=(v=v===f?" ":Ci(v)).length;if(k<2)return k?lg(v,d):v;var D=lg(v,Dh(d/vo(v)));return ls(v)?ec(Uo(D),0,d).join(""):D.slice(0,d)}function T0(d){return function(v,k,D){return D&&typeof D!="number"&&Ri(v,k,D)&&(k=D=f),v=B(v),k===f?(k=v,v=0):k=B(k),function(z,K,te,se){for(var he=-1,Pe=gr(Dh((K-z)/(te||1)),0),ke=Je(Pe);Pe--;)ke[se?Pe:++he]=z,z+=te;return ke}(v,k,D=D===f?v<k?1:-1:B(D),d)}}function Xh(d){return function(v,k){return typeof v=="string"&&typeof k=="string"||(v=be(v),k=be(k)),d(v,k)}}function R0(d,v,k,D,z,K,te,se,he,Pe){var ke=8&v;v|=ke?y:w,4&(v&=~(ke?w:y))||(v&=-4);var Le=[d,v,z,ke?K:f,ke?te:f,ke?f:K,ke?f:te,se,he,Pe],at=k.apply(f,Le);return ef(d)&&Tg(at,Le),at.placeholder=D,Rg(at,d,v)}function bg(d){var v=us[d];return function(k,D){if(k=be(k),(D=D==null?0:Hr(W(D),292))&&qa(k)){var z=(le(k)+"e").split("e");return+((z=(le(v(z[0]+"e"+(+z[1]+D)))+"e").split("e"))[0]+"e"+(+z[1]-D))}return v(k)}}var Ww=Fc&&1/go(new Fc([,-0]))[1]==C?function(d){return new Fc(d)}:Vo;function k0(d){return function(v){var k=Ti(v);return k==xe?Nh(v):k==ne?o0(v):function(D,z){return ar(z,function(K){return[K,D[K]]})}(v,d(v))}}function ya(d,v,k,D,z,K,te,se){var he=2&v;if(!he&&typeof d!="function")throw new Qi(p);var Pe=D?D.length:0;if(Pe||(v&=-97,D=z=f),te=te===f?te:gr(W(te),0),se=se===f?se:W(se),Pe-=z?z.length:0,v&w){var ke=D,Le=z;D=z=f}var at=he?f:Jh(d),it=[d,v,k,D,z,ke,Le,K,te,se];if(at&&function(Ne,He){var At=Ne[1],Xe=He[1],fn=At|Xe,nn=fn<131,zn=Xe==R&&At==8||Xe==R&&At==_&&Ne[7].length<=He[8]||Xe==384&&He[7].length<=He[8]&&At==8;if(!nn&&!zn)return Ne;1&Xe&&(Ne[2]=He[2],fn|=1&At?0:4);var Et=He[3];if(Et){var Dt=Ne[3];Ne[3]=Dt?gg(Dt,Et,He[4]):Et,Ne[4]=Dt?Ar(Ne[3],E):He[4]}(Et=He[5])&&(Dt=Ne[5],Ne[5]=Dt?vg(Dt,Et,He[6]):Et,Ne[6]=Dt?Ar(Ne[5],E):He[6]),(Et=He[7])&&(Ne[7]=Et),Xe&R&&(Ne[8]=Ne[8]==null?He[8]:Hr(Ne[8],He[8])),Ne[9]==null&&(Ne[9]=He[9]),Ne[0]=He[0],Ne[1]=fn}(it,at),d=it[0],v=it[1],k=it[2],D=it[3],z=it[4],!(se=it[9]=it[9]===f?he?0:d.length:gr(it[9]-Pe,0))&&24&v&&(v&=-25),v&&v!=1)Ot=v==8||v==x?function(Ne,He,At){var Xe=Yd(Ne);return function fn(){for(var nn=arguments.length,zn=Je(nn),Et=nn,Dt=eu(fn);Et--;)zn[Et]=arguments[Et];var mi=nn<3&&zn[0]!==Dt&&zn[nn-1]!==Dt?[]:Ar(zn,Dt);return(nn-=mi.length)<At?R0(Ne,He,Qd,fn.placeholder,f,zn,mi,f,f,At-nn):Ui(this&&this!==Xr&&this instanceof fn?Xe:Ne,this,zn)}}(d,v,se):v!=y&&v!=33||z.length?Qd.apply(f,it):function(Ne,He,At,Xe){var fn=1&He,nn=Yd(Ne);return function zn(){for(var Et=-1,Dt=arguments.length,mi=-1,ri=Xe.length,Co=Je(ri+Dt),Er=this&&this!==Xr&&this instanceof zn?nn:Ne;++mi<ri;)Co[mi]=Xe[mi];for(;Dt--;)Co[mi++]=arguments[++Et];return Ui(Er,fn?At:this,Co)}}(d,v,k,D);else var Ot=function(Ne,He,At){var Xe=1&He,fn=Yd(Ne);return function nn(){return(this&&this!==Xr&&this instanceof nn?fn:Ne).apply(Xe?At:this,arguments)}}(d,v,k);return Rg((at?y0:Tg)(Ot,it),d,v)}function xg(d,v,k,D){return d===f||Ss(d,$l[k])&&!Vn.call(D,k)?v:d}function O0(d,v,k,D,z,K){return qn(d)&&qn(v)&&(K.set(v,d),Wd(d,v,f,O0,K),K.delete(v)),d}function P0(d){return g(d)?f:d}function Xd(d,v,k,D,z,K){var te=1&k,se=d.length,he=v.length;if(se!=he&&!(te&&he>se))return!1;var Pe=K.get(d),ke=K.get(v);if(Pe&&ke)return Pe==v&&ke==d;var Le=-1,at=!0,it=2&k?new Ya:f;for(K.set(d,v),K.set(v,d);++Le<se;){var Ot=d[Le],Ne=v[Le];if(D)var He=te?D(Ne,Ot,Le,v,d,K):D(Ot,Ne,Le,d,v,K);if(He!==f){if(He)continue;at=!1;break}if(it){if(!$m(v,function(At,Xe){if(!Id(it,Xe)&&(Ot===At||z(Ot,At,k,D,K)))return it.push(Xe)})){at=!1;break}}else if(Ot!==Ne&&!z(Ot,Ne,k,D,K)){at=!1;break}}return K.delete(d),K.delete(v),at}function ai(d){return zi(nu(d,f,ni),d+"")}function Zi(d){return tg(d,vt,_g)}function Wn(d){return tg(d,yt,N0)}var Jh=wi?function(d){return wi.get(d)}:Vo;function Jd(d){for(var v=d.name+"",k=Hl[v],D=Vn.call(Hl,v)?k.length:0;D--;){var z=k[D],K=z.func;if(K==null||K==d)return z.name}return v}function eu(d){return(Vn.call(H,"placeholder")?H:d).placeholder}function kt(){var d=H.iteratee||li;return d=d===li?Vd:d,arguments.length?d(arguments[0],arguments[1]):d}function Zd(d,v){var k,D,z=d.__data__;return((D=typeof(k=v))=="string"||D=="number"||D=="symbol"||D=="boolean"?k!=="__proto__":k===null)?z[typeof v=="string"?"string":"hash"]:z.map}function Sg(d){for(var v=vt(d),k=v.length;k--;){var D=v[k],z=d[D];v[k]=[D,z,Eg(z)]}return v}function Wc(d,v){var k=function(D,z){return D==null?f:D[z]}(d,v);return Xa(k)?k:f}var _g=Mh?function(d){return d==null?[]:(d=cr(d),Va(Mh(d),function(v){return a0.call(d,v)}))}:Wo,N0=Mh?function(d){for(var v=[];d;)ua(v,_g(d)),d=Md(d);return v}:Wo,Ti=Bi;function Zh(d,v,k){for(var D=-1,z=(v=Za(v,d)).length,K=!1;++D<z;){var te=vs(v[D]);if(!(K=d!=null&&k(d,te)))break;d=d[te]}return K||++D!=z?K:!!(z=d==null?0:d.length)&&sp(z)&&zo(te,z)&&(ft(d)||Gc(d))}function ep(d){return typeof d.constructor!="function"||tu(d)?{}:Uc(Md(d))}function I0(d){return ft(d)||Gc(d)||!!(qm&&d&&d[qm])}function zo(d,v){var k=typeof d;return!!(v=v??I)&&(k=="number"||k!="symbol"&&ue.test(d))&&d>-1&&d%1==0&&d<v}function Ri(d,v,k){if(!qn(k))return!1;var D=typeof v;return!!(D=="number"?Lr(k)&&zo(v,k.length):D=="string"&&v in k)&&Ss(k[v],d)}function wg(d,v){if(ft(d))return!1;var k=typeof d;return!(k!="number"&&k!="symbol"&&k!="boolean"&&d!=null&&!N(d))||rt.test(d)||!De.test(d)||v!=null&&d in cr(v)}function ef(d){var v=Jd(d),k=H[v];if(typeof k!="function"||!(v in yn.prototype))return!1;if(d===k)return!0;var D=Jh(k);return!!D&&d===D[0]}(Bd&&Ti(new Bd(new ArrayBuffer(1)))!=bt||Jr&&Ti(new Jr)!=xe||da&&Ti(da.resolve())!=Y||Fc&&Ti(new Fc)!=ne||_i&&Ti(new _i)!=Ge)&&(Ti=function(d){var v=Bi(d),k=v==ve?d.constructor:f,D=k?nc(k):"";if(D)switch(D){case Lh:return bt;case Fh:return xe;case Km:return Y;case Uh:return ne;case Ym:return Ge}return v});var ki=Lc?_o:rc;function tu(d){var v=d&&d.constructor;return d===(typeof v=="function"&&v.prototype||$l)}function Eg(d){return d==d&&!qn(d)}function j0(d,v){return function(k){return k!=null&&k[d]===v&&(v!==f||d in cr(k))}}function nu(d,v,k){return v=gr(v===f?d.length-1:v,0),function(){for(var D=arguments,z=-1,K=gr(D.length-v,0),te=Je(K);++z<K;)te[z]=D[v+z];z=-1;for(var se=Je(v+1);++z<v;)se[z]=D[z];return se[v]=k(te),Ui(d,this,se)}}function Oi(d,v){return v.length<2?d:Qa(d,$o(v,0,-1))}function Cg(d,v){if((v!=="constructor"||typeof d[v]!="function")&&v!="__proto__")return d[v]}var Tg=kg(y0),ru=Fw||function(d,v){return Xr.setTimeout(d,v)},zi=kg(Hh);function Rg(d,v,k){var D=v+"";return zi(d,function(z,K){var te=K.length;if(!te)return z;var se=te-1;return K[se]=(te>1?"& ":"")+K[se],K=K.join(te>2?", ":" "),z.replace(Tn,`{
/* [wrapped with `+K+`] */
`)}(D,function(z,K){return ho($,function(te){var se="_."+te[0];K&te[1]&&!Rh(z,se)&&z.push(se)}),z.sort()}(function(z){var K=z.match(kn);return K?K[1].split(Fs):[]}(D),k)))}function kg(d){var v=0,k=0;return function(){var D=en(),z=16-(D-k);if(k=D,z>0){if(++v>=800)return arguments[0]}else v=0;return d.apply(f,arguments)}}function Mr(d,v){var k=-1,D=d.length,z=D-1;for(v=v===f?D:v;++k<v;){var K=cg(k,z),te=d[K];d[K]=d[k],d[k]=te}return d.length=v,d}var iu=function(d){var v=cf(d,function(D){return k.size===500&&k.clear(),D}),k=v.cache;return v}(function(d){var v=[];return d.charCodeAt(0)===46&&v.push(""),d.replace(wt,function(k,D,z,K){v.push(z?K.replace(yh,"$1"):D||k)}),v});function vs(d){if(typeof d=="string"||N(d))return d;var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function nc(d){if(d!=null){try{return Ih.call(d)}catch{}try{return d+""}catch{}}return""}function A0(d){if(d instanceof yn)return d.clone();var v=new Ji(d.__wrapped__,d.__chain__);return v.__actions__=$i(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}var Hw=mn(function(d,v){return Fr(d)?Yl(d,ei(v,1,Fr,!0)):[]}),Gw=mn(function(d,v){var k=er(v);return Fr(k)&&(k=f),Fr(d)?Yl(d,ei(v,1,Fr,!0),kt(k,2)):[]}),tf=mn(function(d,v){var k=er(v);return Fr(k)&&(k=f),Fr(d)?Yl(d,ei(v,1,Fr,!0),f,k):[]});function ti(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var z=k==null?0:W(k);return z<0&&(z=gr(D+z,0)),Oh(d,kt(v,3),z)}function nf(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var z=D-1;return k!==f&&(z=W(k),z=k<0?gr(D+z,0):Hr(z,D-1)),Oh(d,kt(v,3),z,!0)}function ni(d){return d!=null&&d.length?ei(d,1):[]}function zs(d){return d&&d.length?d[0]:f}var qw=mn(function(d){var v=ar(d,dg);return v.length&&v[0]===d[0]?Xl(v):[]}),rf=mn(function(d){var v=er(d),k=ar(d,dg);return v===er(k)?v=f:k.pop(),k.length&&k[0]===d[0]?Xl(k,kt(v,2)):[]}),tp=mn(function(d){var v=er(d),k=ar(d,dg);return(v=typeof v=="function"?v:f)&&k.pop(),k.length&&k[0]===d[0]?Xl(k,f,v):[]});function er(d){var v=d==null?0:d.length;return v?d[v-1]:f}var Pi=mn(Hc);function Hc(d,v){return d&&d.length&&v&&v.length?ag(d,v):d}var Og=ai(function(d,v){var k=d==null?0:d.length,D=$h(d,v);return v0(d,ar(v,function(z){return zo(z,k)?+z:z}).sort(mg)),D});function Pg(d){return d==null?d:Bw.call(d)}var ba=mn(function(d){return Ja(ei(d,1,Fr,!0))}),On=mn(function(d){var v=er(d);return Fr(v)&&(v=f),Ja(ei(d,1,Fr,!0),kt(v,2))}),Kw=mn(function(d){var v=er(d);return v=typeof v=="function"?v:f,Ja(ei(d,1,Fr,!0),f,v)});function Ng(d){if(!d||!d.length)return[];var v=0;return d=Va(d,function(k){if(Fr(k))return v=gr(k.length,v),!0}),_r(v,function(k){return ar(d,Ph(k))})}function D0(d,v){if(!d||!d.length)return[];var k=Ng(d);return v==null?k:ar(k,function(D){return Ui(v,f,D)})}var Yw=mn(function(d,v){return Fr(d)?Yl(d,v):[]}),np=mn(function(d){return Vc(Va(d,Fr))}),of=mn(function(d){var v=er(d);return Fr(v)&&(v=f),Vc(Va(d,Fr),kt(v,2))}),sf=mn(function(d){var v=er(d);return v=typeof v=="function"?v:f,Vc(Va(d,Fr),f,v)}),Qw=mn(Ng),Xw=mn(function(d){var v=d.length,k=v>1?d[v-1]:f;return k=typeof k=="function"?(d.pop(),k):f,D0(d,k)});function M0(d){var v=H(d);return v.__chain__=!0,v}function rp(d,v){return v(d)}var ys=ai(function(d){var v=d.length,k=v?d[0]:0,D=this.__wrapped__,z=function(K){return $h(K,d)};return!(v>1||this.__actions__.length)&&D instanceof yn&&zo(k)?((D=D.slice(k,+k+(v?1:0))).__actions__.push({func:rp,args:[z],thisArg:f}),new Ji(D,this.__chain__).thru(function(K){return v&&!K.length&&K.push(f),K})):this.thru(z)}),bs=tc(function(d,v,k){Vn.call(d,k)?++d[k]:$s(d,k,1)}),ou=w0(ti),su=w0(nf);function xs(d,v){return(ft(d)?ho:hs)(d,kt(v,3))}function Ig(d,v){return(ft(d)?Xy:Zr)(d,kt(v,3))}var jg=tc(function(d,v,k){Vn.call(d,k)?d[k].push(v):$s(d,k,[v])}),xa=mn(function(d,v,k){var D=-1,z=typeof v=="function",K=Lr(d)?Je(d.length):[];return hs(d,function(te){K[++D]=z?Ui(v,te,k):In(te,v,k)}),K}),Or=tc(function(d,v,k){$s(d,k,v)});function ci(d,v){return(ft(d)?ar:m0)(d,kt(v,3))}var Jw=tc(function(d,v,k){d[k?0:1].push(v)},function(){return[[],[]]}),L0=mn(function(d,v){if(d==null)return[];var k=v.length;return k>1&&Ri(d,v[0],v[1])?v=[]:k>2&&Ri(v[0],v[1],v[2])&&(v=[v[0]]),og(d,ei(v,1),[])}),ip=Lw||function(){return Xr.Date.now()};function Ag(d,v,k){return v=k?f:v,v=d&&v==null?d.length:v,ya(d,R,f,f,f,f,v)}function Dg(d,v){var k;if(typeof v!="function")throw new Qi(p);return d=W(d),function(){return--d>0&&(k=v.apply(this,arguments)),d<=1&&(v=f),k}}var Mg=mn(function(d,v,k){var D=1;if(k.length){var z=Ar(k,eu(Mg));D|=y}return ya(d,D,v,k,z)}),Lg=mn(function(d,v,k){var D=3;if(k.length){var z=Ar(k,eu(Lg));D|=y}return ya(v,D,d,k,z)});function af(d,v,k){var D,z,K,te,se,he,Pe=0,ke=!1,Le=!1,at=!0;if(typeof d!="function")throw new Qi(p);function it(Xe){var fn=D,nn=z;return D=z=f,Pe=Xe,te=d.apply(nn,fn)}function Ot(Xe){var fn=Xe-he;return he===f||fn>=v||fn<0||Le&&Xe-Pe>=K}function Ne(){var Xe=ip();if(Ot(Xe))return He(Xe);se=ru(Ne,function(fn){var nn=v-(fn-he);return Le?Hr(nn,K-(fn-Pe)):nn}(Xe))}function He(Xe){return se=f,at&&D?it(Xe):(D=z=f,te)}function At(){var Xe=ip(),fn=Ot(Xe);if(D=arguments,z=this,he=Xe,fn){if(se===f)return function(nn){return Pe=nn,se=ru(Ne,v),ke?it(nn):te}(he);if(Le)return fg(se),se=ru(Ne,v),it(he)}return se===f&&(se=ru(Ne,v)),te}return v=be(v)||0,qn(k)&&(ke=!!k.leading,K=(Le="maxWait"in k)?gr(be(k.maxWait)||0,v):K,at="trailing"in k?!!k.trailing:at),At.cancel=function(){se!==f&&fg(se),Pe=0,D=he=z=se=f},At.flush=function(){return se===f?te:He(ip())},At}var Fg=mn(function(d,v){return ot(d,1,v)}),Zw=mn(function(d,v,k){return ot(d,be(v)||0,k)});function cf(d,v){if(typeof d!="function"||v!=null&&typeof v!="function")throw new Qi(p);var k=function(){var D=arguments,z=v?v.apply(this,D):D[0],K=k.cache;if(K.has(z))return K.get(z);var te=d.apply(this,D);return k.cache=K.set(z,te)||K,te};return k.cache=new(cf.Cache||Bs),k}function op(d){if(typeof d!="function")throw new Qi(p);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}cf.Cache=Bs;var Ni=qh(function(d,v){var k=(v=v.length==1&&ft(v[0])?ar(v[0],po(kt())):ar(ei(v,1),po(kt()))).length;return mn(function(D){for(var z=-1,K=Hr(D.length,k);++z<K;)D[z]=v[z].call(this,D[z]);return Ui(d,this,D)})}),lf=mn(function(d,v){var k=Ar(v,eu(lf));return ya(d,y,f,v,k)}),Sa=mn(function(d,v){var k=Ar(v,eu(Sa));return ya(d,w,f,v,k)}),eE=ai(function(d,v){return ya(d,_,f,f,f,v)});function Ss(d,v){return d===v||d!=d&&v!=v}var F0=Xh(ha),U0=Xh(function(d,v){return d>=v}),Gc=$c(function(){return arguments}())?$c:function(d){return Pr(d)&&Vn.call(d,"callee")&&!a0.call(d,"callee")},ft=Je.isArray,eo=za?po(za):function(d){return Pr(d)&&Bi(d)==Fe};function Lr(d){return d!=null&&sp(d.length)&&!_o(d)}function Fr(d){return Pr(d)&&Lr(d)}var jn=Uw||rc,B0=Fm?po(Fm):function(d){return Pr(d)&&Bi(d)==J};function Ug(d){if(!Pr(d))return!1;var v=Bi(d);return v==G||v=="[object DOMException]"||typeof d.message=="string"&&typeof d.name=="string"&&!g(d)}function _o(d){if(!qn(d))return!1;var v=Bi(d);return v==ee||v==ce||v=="[object AsyncFunction]"||v=="[object Proxy]"}function Bg(d){return typeof d=="number"&&d==W(d)}function sp(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=I}function qn(d){var v=typeof d;return d!=null&&(v=="object"||v=="function")}function Pr(d){return d!=null&&typeof d=="object"}var S=Um?po(Um):function(d){return Pr(d)&&Ti(d)==xe};function h(d){return typeof d=="number"||Pr(d)&&Bi(d)==Se}function g(d){if(!Pr(d)||Bi(d)!=ve)return!1;var v=Md(d);if(v===null)return!0;var k=Vn.call(v,"constructor")&&v.constructor;return typeof k=="function"&&k instanceof k&&Ih.call(k)==Aw}var b=Ch?po(Ch):function(d){return Pr(d)&&Bi(d)==Q},T=Th?po(Th):function(d){return Pr(d)&&Ti(d)==ne};function O(d){return typeof d=="string"||!ft(d)&&Pr(d)&&Bi(d)==fe}function N(d){return typeof d=="symbol"||Pr(d)&&Bi(d)==Te}var M=Pd?po(Pd):function(d){return Pr(d)&&sp(d.length)&&!!Zn[Bi(d)]},L=Xh(rg),j=Xh(function(d,v){return d<=v});function F(d){if(!d)return[];if(Lr(d))return O(d)?Uo(d):$i(d);if(Wl&&d[Wl])return function(k){for(var D,z=[];!(D=k.next()).done;)z.push(D.value);return z}(d[Wl]());var v=Ti(d);return(v==xe?Nh:v==ne?go:An)(d)}function B(d){return d?(d=be(d))===C||d===-1/0?17976931348623157e292*(d<0?-1:1):d==d?d:0:d===0?d:0}function W(d){var v=B(d),k=v%1;return v==v?k?v-k:v:0}function ie(d){return d?Bc(W(d),0,U):0}function be(d){if(typeof d=="number")return d;if(N(d))return A;if(qn(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=qn(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=Nd(d);var k=Il.test(d);return k||Ac.test(d)?Yy(d.slice(2),k?2:8):Nl.test(d)?A:+d}function ge(d){return So(d,yt(d))}function le(d){return d==null?"":Ci(d)}var ae=va(function(d,v){if(tu(v)||Lr(v))So(v,vt(v),d);else for(var k in v)Vn.call(v,k)&&ql(d,k,v[k])}),oe=va(function(d,v){So(v,yt(v),d)}),we=va(function(d,v,k,D){So(v,yt(v),d,D)}),We=va(function(d,v,k,D){So(v,vt(v),d,D)}),st=ai($h),Rt=mn(function(d,v){d=cr(d);var k=-1,D=v.length,z=D>2?v[2]:f;for(z&&Ri(v[0],v[1],z)&&(D=1);++k<D;)for(var K=v[k],te=yt(K),se=-1,he=te.length;++se<he;){var Pe=te[se],ke=d[Pe];(ke===f||Ss(ke,$l[Pe])&&!Vn.call(d,Pe))&&(d[Pe]=K[Pe])}return d}),Yt=mn(function(d){return d.push(f,O0),Ui(It,f,d)});function Qt(d,v,k){var D=d==null?f:Qa(d,v);return D===f?k:D}function Vt(d,v){return d!=null&&Zh(d,v,Ql)}var Nt=C0(function(d,v,k){v!=null&&typeof v.toString!="function"&&(v=jh.call(v)),d[v]=k},Vi(mr)),tn=C0(function(d,v,k){v!=null&&typeof v.toString!="function"&&(v=jh.call(v)),Vn.call(d,v)?d[v].push(k):d[v]=[k]},kt),un=mn(In);function vt(d){return Lr(d)?Xm(d):zc(d)}function yt(d){return Lr(d)?Xm(d,!0):ng(d)}var cn=va(function(d,v,k){Wd(d,v,k)}),It=va(function(d,v,k,D){Wd(d,v,k,D)}),jt=ai(function(d,v){var k={};if(d==null)return k;var D=!1;v=ar(v,function(K){return K=Za(K,d),D||(D=K.length>1),K}),So(d,Wn(d),k),D&&(k=bo(k,7,P0));for(var z=v.length;z--;)ug(k,v[z]);return k}),dn=ai(function(d,v){return d==null?{}:function(k,D){return sg(k,D,function(z,K){return Vt(k,K)})}(d,v)});function Pn(d,v){if(d==null)return{};var k=ar(Wn(d),function(D){return[D]});return v=kt(v),sg(d,k,function(D,z){return v(D,z[0])})}var $n=k0(vt),or=k0(yt);function An(d){return d==null?[]:Bl(d,vt(d))}var vr=Zl(function(d,v,k){return v=v.toLowerCase(),d+(k?lr(v):v)});function lr(d){return Gr(le(d).toLowerCase())}function ur(d){return(d=le(d))&&d.replace(_e,r0).replace(Us,"")}var dr=Zl(function(d,v,k){return d+(k?"-":"")+v.toLowerCase()}),fr=Zl(function(d,v,k){return d+(k?" ":"")+v.toLowerCase()}),hr=_0("toLowerCase"),Ur=Zl(function(d,v,k){return d+(k?"_":"")+v.toLowerCase()}),pr=Zl(function(d,v,k){return d+(k?" ":"")+Gr(v)}),hi=Zl(function(d,v,k){return d+(k?" ":"")+v.toUpperCase()}),Gr=_0("toUpperCase");function Ii(d,v,k){return d=le(d),(v=k?f:v)===f?function(D){return kd.test(D)}(d)?function(D){return D.match(Ky)||[]}(d):function(D){return D.match($a)||[]}(d):d.match(v)||[]}var ji=mn(function(d,v){try{return Ui(d,f,v)}catch(k){return Ug(k)?k:new zt(k)}}),pi=ai(function(d,v){return ho(v,function(k){k=vs(k),$s(d,k,Mg(d[k],d))}),d});function Vi(d){return function(){return d}}var to=E0(),wo=E0(!0);function mr(d){return d}function li(d){return Vd(typeof d=="function"?d:bo(d,1))}var Vs=mn(function(d,v){return function(k){return In(k,d,v)}}),_a=mn(function(d,v){return function(k){return In(d,k,v)}});function Eo(d,v,k){var D=vt(v),z=Vh(v,D);k!=null||qn(v)&&(z.length||!D.length)||(k=v,v=d,d=this,z=Vh(v,vt(v)));var K=!(qn(k)&&"chain"in k&&!k.chain),te=_o(d);return ho(z,function(se){var he=v[se];d[se]=he,te&&(d.prototype[se]=function(){var Pe=this.__chain__;if(K||Pe){var ke=d(this.__wrapped__);return(ke.__actions__=$i(this.__actions__)).push({func:he,args:arguments,thisArg:d}),ke.__chain__=Pe,ke}return he.apply(d,ua([this.value()],arguments))})}),d}function Vo(){}var wa=Yh(ar),Ws=Yh(Dc),Hs=Yh($m);function Gs(d){return wg(d)?Ph(vs(d)):function(v){return function(k){return Qa(k,v)}}(d)}var qs=T0(),Ks=T0(!0);function Wo(){return[]}function rc(){return!1}var au=Kh(function(d,v){return d+v},0),cu=bg("ceil"),lu=Kh(function(d,v){return d/v},1),uf=bg("floor"),qc,df=Kh(function(d,v){return d*v},1),ff=bg("round"),Kc=Kh(function(d,v){return d-v},0);return H.after=function(d,v){if(typeof v!="function")throw new Qi(p);return d=W(d),function(){if(--d<1)return v.apply(this,arguments)}},H.ary=Ag,H.assign=ae,H.assignIn=oe,H.assignInWith=we,H.assignWith=We,H.at=st,H.before=Dg,H.bind=Mg,H.bindAll=pi,H.bindKey=Lg,H.castArray=function(){if(!arguments.length)return[];var d=arguments[0];return ft(d)?d:[d]},H.chain=M0,H.chunk=function(d,v,k){v=(k?Ri(d,v,k):v===f)?1:gr(W(v),0);var D=d==null?0:d.length;if(!D||v<1)return[];for(var z=0,K=0,te=Je(Dh(D/v));z<D;)te[K++]=$o(d,z,z+=v);return te},H.compact=function(d){for(var v=-1,k=d==null?0:d.length,D=0,z=[];++v<k;){var K=d[v];K&&(z[D++]=K)}return z},H.concat=function(){var d=arguments.length;if(!d)return[];for(var v=Je(d-1),k=arguments[0],D=d;D--;)v[D-1]=arguments[D];return ua(ft(k)?$i(k):[k],ei(v,1))},H.cond=function(d){var v=d==null?0:d.length,k=kt();return d=v?ar(d,function(D){if(typeof D[1]!="function")throw new Qi(p);return[k(D[0]),D[1]]}):[],mn(function(D){for(var z=-1;++z<v;){var K=d[z];if(Ui(K[0],this,D))return Ui(K[1],this,D)}})},H.conforms=function(d){return function(v){var k=vt(v);return function(D){return f0(D,v,k)}}(bo(d,1))},H.constant=Vi,H.countBy=bs,H.create=function(d,v){var k=Uc(d);return v==null?k:Jm(k,v)},H.curry=function d(v,k,D){var z=ya(v,8,f,f,f,f,f,k=D?f:k);return z.placeholder=d.placeholder,z},H.curryRight=function d(v,k,D){var z=ya(v,x,f,f,f,f,f,k=D?f:k);return z.placeholder=d.placeholder,z},H.debounce=af,H.defaults=Rt,H.defaultsDeep=Yt,H.defer=Fg,H.delay=Zw,H.difference=Hw,H.differenceBy=Gw,H.differenceWith=tf,H.drop=function(d,v,k){var D=d==null?0:d.length;return D?$o(d,(v=k||v===f?1:W(v))<0?0:v,D):[]},H.dropRight=function(d,v,k){var D=d==null?0:d.length;return D?$o(d,0,(v=D-(v=k||v===f?1:W(v)))<0?0:v):[]},H.dropRightWhile=function(d,v){return d&&d.length?Gh(d,kt(v,3),!0,!0):[]},H.dropWhile=function(d,v){return d&&d.length?Gh(d,kt(v,3),!0):[]},H.fill=function(d,v,k,D){var z=d==null?0:d.length;return z?(k&&typeof k!="number"&&Ri(d,v,k)&&(k=0,D=z),function(K,te,se,he){var Pe=K.length;for((se=W(se))<0&&(se=-se>Pe?0:Pe+se),(he=he===f||he>Pe?Pe:W(he))<0&&(he+=Pe),he=se>he?0:ie(he);se<he;)K[se++]=te;return K}(d,v,k,D)):[]},H.filter=function(d,v){return(ft(d)?Va:p0)(d,kt(v,3))},H.flatMap=function(d,v){return ei(ci(d,v),1)},H.flatMapDeep=function(d,v){return ei(ci(d,v),C)},H.flatMapDepth=function(d,v,k){return k=k===f?1:W(k),ei(ci(d,v),k)},H.flatten=ni,H.flattenDeep=function(d){return d!=null&&d.length?ei(d,C):[]},H.flattenDepth=function(d,v){return d!=null&&d.length?ei(d,v=v===f?1:W(v)):[]},H.flip=function(d){return ya(d,512)},H.flow=to,H.flowRight=wo,H.fromPairs=function(d){for(var v=-1,k=d==null?0:d.length,D={};++v<k;){var z=d[v];D[z[0]]=z[1]}return D},H.functions=function(d){return d==null?[]:Vh(d,vt(d))},H.functionsIn=function(d){return d==null?[]:Vh(d,yt(d))},H.groupBy=jg,H.initial=function(d){return d!=null&&d.length?$o(d,0,-1):[]},H.intersection=qw,H.intersectionBy=rf,H.intersectionWith=tp,H.invert=Nt,H.invertBy=tn,H.invokeMap=xa,H.iteratee=li,H.keyBy=Or,H.keys=vt,H.keysIn=yt,H.map=ci,H.mapKeys=function(d,v){var k={};return v=kt(v,3),xo(d,function(D,z,K){$s(k,v(D,z,K),D)}),k},H.mapValues=function(d,v){var k={};return v=kt(v,3),xo(d,function(D,z,K){$s(k,z,v(D,z,K))}),k},H.matches=function(d){return g0(bo(d,1))},H.matchesProperty=function(d,v){return ig(d,bo(v,1))},H.memoize=cf,H.merge=cn,H.mergeWith=It,H.method=Vs,H.methodOf=_a,H.mixin=Eo,H.negate=op,H.nthArg=function(d){return d=W(d),mn(function(v){return ms(v,d)})},H.omit=jt,H.omitBy=function(d,v){return Pn(d,op(kt(v)))},H.once=function(d){return Dg(2,d)},H.orderBy=function(d,v,k,D){return d==null?[]:(ft(v)||(v=v==null?[]:[v]),ft(k=D?f:k)||(k=k==null?[]:[k]),og(d,v,k))},H.over=wa,H.overArgs=Ni,H.overEvery=Ws,H.overSome=Hs,H.partial=lf,H.partialRight=Sa,H.partition=Jw,H.pick=dn,H.pickBy=Pn,H.property=Gs,H.propertyOf=function(d){return function(v){return d==null?f:Qa(d,v)}},H.pull=Pi,H.pullAll=Hc,H.pullAllBy=function(d,v,k){return d&&d.length&&v&&v.length?ag(d,v,kt(k,2)):d},H.pullAllWith=function(d,v,k){return d&&d.length&&v&&v.length?ag(d,v,f,k):d},H.pullAt=Og,H.range=qs,H.rangeRight=Ks,H.rearg=eE,H.reject=function(d,v){return(ft(d)?Va:p0)(d,op(kt(v,3)))},H.remove=function(d,v){var k=[];if(!d||!d.length)return k;var D=-1,z=[],K=d.length;for(v=kt(v,3);++D<K;){var te=d[D];v(te,D,d)&&(k.push(te),z.push(D))}return v0(d,z),k},H.rest=function(d,v){if(typeof d!="function")throw new Qi(p);return mn(d,v=v===f?v:W(v))},H.reverse=Pg,H.sampleSize=function(d,v,k){return v=(k?Ri(d,v,k):v===f)?1:W(v),(ft(d)?l0:zw)(d,v)},H.set=function(d,v,k){return d==null?d:Hd(d,v,k)},H.setWith=function(d,v,k,D){return D=typeof D=="function"?D:f,d==null?d:Hd(d,v,k,D)},H.shuffle=function(d){return(ft(d)?u0:Vw)(d)},H.slice=function(d,v,k){var D=d==null?0:d.length;return D?(k&&typeof k!="number"&&Ri(d,v,k)?(v=0,k=D):(v=v==null?0:W(v),k=k===f?D:W(k)),$o(d,v,k)):[]},H.sortBy=L0,H.sortedUniq=function(d){return d&&d.length?Gd(d):[]},H.sortedUniqBy=function(d,v){return d&&d.length?Gd(d,kt(v,2)):[]},H.split=function(d,v,k){return k&&typeof k!="number"&&Ri(d,v,k)&&(v=k=f),(k=k===f?U:k>>>0)?(d=le(d))&&(typeof v=="string"||v!=null&&!b(v))&&!(v=Ci(v))&&ls(d)?ec(Uo(d),0,k):d.split(v,k):[]},H.spread=function(d,v){if(typeof d!="function")throw new Qi(p);return v=v==null?0:gr(W(v),0),mn(function(k){var D=k[v],z=ec(k,0,v);return D&&ua(z,D),Ui(d,this,z)})},H.tail=function(d){var v=d==null?0:d.length;return v?$o(d,1,v):[]},H.take=function(d,v,k){return d&&d.length?$o(d,0,(v=k||v===f?1:W(v))<0?0:v):[]},H.takeRight=function(d,v,k){var D=d==null?0:d.length;return D?$o(d,(v=D-(v=k||v===f?1:W(v)))<0?0:v,D):[]},H.takeRightWhile=function(d,v){return d&&d.length?Gh(d,kt(v,3),!1,!0):[]},H.takeWhile=function(d,v){return d&&d.length?Gh(d,kt(v,3)):[]},H.tap=function(d,v){return v(d),d},H.throttle=function(d,v,k){var D=!0,z=!0;if(typeof d!="function")throw new Qi(p);return qn(k)&&(D="leading"in k?!!k.leading:D,z="trailing"in k?!!k.trailing:z),af(d,v,{leading:D,maxWait:v,trailing:z})},H.thru=rp,H.toArray=F,H.toPairs=$n,H.toPairsIn=or,H.toPath=function(d){return ft(d)?ar(d,vs):N(d)?[d]:$i(iu(le(d)))},H.toPlainObject=ge,H.transform=function(d,v,k){var D=ft(d),z=D||jn(d)||M(d);if(v=kt(v,4),k==null){var K=d&&d.constructor;k=z?D?new K:[]:qn(d)&&_o(K)?Uc(Md(d)):{}}return(z?ho:xo)(d,function(te,se,he){return v(k,te,se,he)}),k},H.unary=function(d){return Ag(d,1)},H.union=ba,H.unionBy=On,H.unionWith=Kw,H.uniq=function(d){return d&&d.length?Ja(d):[]},H.uniqBy=function(d,v){return d&&d.length?Ja(d,kt(v,2)):[]},H.uniqWith=function(d,v){return v=typeof v=="function"?v:f,d&&d.length?Ja(d,f,v):[]},H.unset=function(d,v){return d==null||ug(d,v)},H.unzip=Ng,H.unzipWith=D0,H.update=function(d,v,k){return d==null?d:qd(d,v,Kd(k))},H.updateWith=function(d,v,k,D){return D=typeof D=="function"?D:f,d==null?d:qd(d,v,Kd(k),D)},H.values=An,H.valuesIn=function(d){return d==null?[]:Bl(d,yt(d))},H.without=Yw,H.words=Ii,H.wrap=function(d,v){return lf(Kd(v),d)},H.xor=np,H.xorBy=of,H.xorWith=sf,H.zip=Qw,H.zipObject=function(d,v){return x0(d||[],v||[],ql)},H.zipObjectDeep=function(d,v){return x0(d||[],v||[],Hd)},H.zipWith=Xw,H.entries=$n,H.entriesIn=or,H.extend=oe,H.extendWith=we,Eo(H,H),H.add=au,H.attempt=ji,H.camelCase=vr,H.capitalize=lr,H.ceil=cu,H.clamp=function(d,v,k){return k===f&&(k=v,v=f),k!==f&&(k=(k=be(k))==k?k:0),v!==f&&(v=(v=be(v))==v?v:0),Bc(be(d),v,k)},H.clone=function(d){return bo(d,4)},H.cloneDeep=function(d){return bo(d,5)},H.cloneDeepWith=function(d,v){return bo(d,5,v=typeof v=="function"?v:f)},H.cloneWith=function(d,v){return bo(d,4,v=typeof v=="function"?v:f)},H.conformsTo=function(d,v){return v==null||f0(d,v,vt(v))},H.deburr=ur,H.defaultTo=function(d,v){return d==null||d!=d?v:d},H.divide=lu,H.endsWith=function(d,v,k){d=le(d),v=Ci(v);var D=d.length,z=k=k===f?D:Bc(W(k),0,D);return(k-=v.length)>=0&&d.slice(k,z)==v},H.eq=Ss,H.escape=function(d){return(d=le(d))&&Qe.test(d)?d.replace(pe,Wm):d},H.escapeRegExp=function(d){return(d=le(d))&&Qr.test(d)?d.replace(_n,"\\$&"):d},H.every=function(d,v,k){var D=ft(d)?Dc:h0;return k&&Ri(d,v,k)&&(v=f),D(d,kt(v,3))},H.find=ou,H.findIndex=ti,H.findKey=function(d,v){return Jy(d,kt(v,3),xo)},H.findLast=su,H.findLastIndex=nf,H.findLastKey=function(d,v){return Jy(d,kt(v,3),eg)},H.floor=uf,H.forEach=xs,H.forEachRight=Ig,H.forIn=function(d,v){return d==null?d:zh(d,kt(v,3),yt)},H.forInRight=function(d,v){return d==null?d:Zm(d,kt(v,3),yt)},H.forOwn=function(d,v){return d&&xo(d,kt(v,3))},H.forOwnRight=function(d,v){return d&&eg(d,kt(v,3))},H.get=Qt,H.gt=F0,H.gte=U0,H.has=function(d,v){return d!=null&&Zh(d,v,Ei)},H.hasIn=Vt,H.head=zs,H.identity=mr,H.includes=function(d,v,k,D){d=Lr(d)?d:An(d),k=k&&!D?W(k):0;var z=d.length;return k<0&&(k=gr(z+k,0)),O(d)?k<=z&&d.indexOf(v,k)>-1:!!z&&Ul(d,v,k)>-1},H.indexOf=function(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var z=k==null?0:W(k);return z<0&&(z=gr(D+z,0)),Ul(d,v,z)},H.inRange=function(d,v,k){return v=B(v),k===f?(k=v,v=0):k=B(k),function(D,z,K){return D>=Hr(z,K)&&D<gr(z,K)}(d=be(d),v,k)},H.invoke=un,H.isArguments=Gc,H.isArray=ft,H.isArrayBuffer=eo,H.isArrayLike=Lr,H.isArrayLikeObject=Fr,H.isBoolean=function(d){return d===!0||d===!1||Pr(d)&&Bi(d)==X},H.isBuffer=jn,H.isDate=B0,H.isElement=function(d){return Pr(d)&&d.nodeType===1&&!g(d)},H.isEmpty=function(d){if(d==null)return!0;if(Lr(d)&&(ft(d)||typeof d=="string"||typeof d.splice=="function"||jn(d)||M(d)||Gc(d)))return!d.length;var v=Ti(d);if(v==xe||v==ne)return!d.size;if(tu(d))return!zc(d).length;for(var k in d)if(Vn.call(d,k))return!1;return!0},H.isEqual=function(d,v){return ps(d,v)},H.isEqualWith=function(d,v,k){var D=(k=typeof k=="function"?k:f)?k(d,v):f;return D===f?ps(d,v,f,k):!!D},H.isError=Ug,H.isFinite=function(d){return typeof d=="number"&&qa(d)},H.isFunction=_o,H.isInteger=Bg,H.isLength=sp,H.isMap=S,H.isMatch=function(d,v){return d===v||Wh(d,v,Sg(v))},H.isMatchWith=function(d,v,k){return k=typeof k=="function"?k:f,Wh(d,v,Sg(v),k)},H.isNaN=function(d){return h(d)&&d!=+d},H.isNative=function(d){if(ki(d))throw new zt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xa(d)},H.isNil=function(d){return d==null},H.isNull=function(d){return d===null},H.isNumber=h,H.isObject=qn,H.isObjectLike=Pr,H.isPlainObject=g,H.isRegExp=b,H.isSafeInteger=function(d){return Bg(d)&&d>=-9007199254740991&&d<=I},H.isSet=T,H.isString=O,H.isSymbol=N,H.isTypedArray=M,H.isUndefined=function(d){return d===f},H.isWeakMap=function(d){return Pr(d)&&Ti(d)==Ge},H.isWeakSet=function(d){return Pr(d)&&Bi(d)=="[object WeakSet]"},H.join=function(d,v){return d==null?"":c0.call(d,v)},H.kebabCase=dr,H.last=er,H.lastIndexOf=function(d,v,k){var D=d==null?0:d.length;if(!D)return-1;var z=D;return k!==f&&(z=(z=W(k))<0?gr(D+z,0):Hr(z,D-1)),v==v?function(K,te,se){for(var he=se+1;he--;)if(K[he]===te)return he;return he}(d,v,z):Oh(d,Zy,z,!0)},H.lowerCase=fr,H.lowerFirst=hr,H.lt=L,H.lte=j,H.max=function(d){return d&&d.length?zd(d,mr,ha):f},H.maxBy=function(d,v){return d&&d.length?zd(d,kt(v,2),ha):f},H.mean=function(d){return e0(d,mr)},H.meanBy=function(d,v){return e0(d,kt(v,2))},H.min=function(d){return d&&d.length?zd(d,mr,rg):f},H.minBy=function(d,v){return d&&d.length?zd(d,kt(v,2),rg):f},H.stubArray=Wo,H.stubFalse=rc,H.stubObject=function(){return{}},H.stubString=function(){return""},H.stubTrue=function(){return!0},H.multiply=df,H.nth=function(d,v){return d&&d.length?ms(d,W(v)):f},H.noConflict=function(){return Xr._===this&&(Xr._=s0),this},H.noop=Vo,H.now=ip,H.pad=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;if(!v||D>=v)return d;var z=(v-D)/2;return Qh(yo(z),k)+d+Qh(Dh(z),k)},H.padEnd=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;return v&&D<v?d+Qh(v-D,k):d},H.padStart=function(d,v,k){d=le(d);var D=(v=W(v))?vo(d):0;return v&&D<v?Qh(v-D,k)+d:d},H.parseInt=function(d,v,k){return k||v==null?v=0:v&&(v=+v),Fd(le(d).replace(fi,""),v||0)},H.random=function(d,v,k){if(k&&typeof k!="boolean"&&Ri(d,v,k)&&(v=k=f),k===f&&(typeof v=="boolean"?(k=v,v=f):typeof d=="boolean"&&(k=d,d=f)),d===f&&v===f?(d=0,v=1):(d=B(d),v===f?(v=d,d=0):v=B(v)),d>v){var D=d;d=v,v=D}if(k||d%1||v%1){var z=Ud();return Hr(d+z*(v-d+Lm("1e-"+((z+"").length-1))),v)}return cg(d,v)},H.reduce=function(d,v,k){var D=ft(d)?kh:t0,z=arguments.length<3;return D(d,kt(v,4),k,z,hs)},H.reduceRight=function(d,v,k){var D=ft(d)?Ow:t0,z=arguments.length<3;return D(d,kt(v,4),k,z,Zr)},H.repeat=function(d,v,k){return v=(k?Ri(d,v,k):v===f)?1:W(v),lg(le(d),v)},H.replace=function(){var d=arguments,v=le(d[0]);return d.length<3?v:v.replace(d[1],d[2])},H.result=function(d,v,k){var D=-1,z=(v=Za(v,d)).length;for(z||(z=1,d=f);++D<z;){var K=d==null?f:d[vs(v[D])];K===f&&(D=z,K=k),d=_o(K)?K.call(d):K}return d},H.round=ff,H.runInContext=ye,H.sample=function(d){return(ft(d)?$d:$w)(d)},H.size=function(d){if(d==null)return 0;if(Lr(d))return O(d)?vo(d):d.length;var v=Ti(d);return v==xe||v==ne?d.size:zc(d).length},H.snakeCase=Ur,H.some=function(d,v,k){var D=ft(d)?$m:Jl;return k&&Ri(d,v,k)&&(v=f),D(d,kt(v,3))},H.sortedIndex=function(d,v){return pa(d,v)},H.sortedIndexBy=function(d,v,k){return ma(d,v,kt(k,2))},H.sortedIndexOf=function(d,v){var k=d==null?0:d.length;if(k){var D=pa(d,v);if(D<k&&Ss(d[D],v))return D}return-1},H.sortedLastIndex=function(d,v){return pa(d,v,!0)},H.sortedLastIndexBy=function(d,v,k){return ma(d,v,kt(k,2),!0)},H.sortedLastIndexOf=function(d,v){if(d!=null&&d.length){var k=pa(d,v,!0)-1;if(Ss(d[k],v))return k}return-1},H.startCase=pr,H.startsWith=function(d,v,k){return d=le(d),k=k==null?0:Bc(W(k),0,d.length),v=Ci(v),d.slice(k,k+v.length)==v},H.subtract=Kc,H.sum=function(d){return d&&d.length?Vm(d,mr):0},H.sumBy=function(d,v){return d&&d.length?Vm(d,kt(v,2)):0},H.template=function(d,v,k){var D=H.templateSettings;k&&Ri(d,v,k)&&(v=f),d=le(d),v=we({},v,D,xg);var z,K,te=we({},v.imports,D.imports,xg),se=vt(te),he=Bl(te,se),Pe=0,ke=v.interpolate||Oe,Le="__p += '",at=Hm((v.escape||Oe).source+"|"+ke.source+"|"+(ke===Re?Sd:Oe).source+"|"+(v.evaluate||Oe).source+"|$","g"),it="//# sourceURL="+(Vn.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dm+"]")+`
`;d.replace(at,function(He,At,Xe,fn,nn,zn){return Xe||(Xe=fn),Le+=d.slice(Pe,zn).replace(ze,mo),At&&(z=!0,Le+=`' +
__e(`+At+`) +
'`),nn&&(K=!0,Le+=`';
`+nn+`;
__p += '`),Xe&&(Le+=`' +
((__t = (`+Xe+`)) == null ? '' : __t) +
'`),Pe=zn+He.length,He}),Le+=`';
`;var Ot=Vn.call(v,"variable")&&v.variable;if(Ot){if(Ct.test(Ot))throw new zt("Invalid `variable` option passed into `_.template`")}else Le=`with (obj) {
`+Le+`
}
`;Le=(K?Le.replace(ut,""):Le).replace(jr,"$1").replace(Li,"$1;"),Le="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Le+`return __p
}`;var Ne=ji(function(){return Dr(se,it+"return "+Le).apply(f,he)});if(Ne.source=Le,Ug(Ne))throw Ne;return Ne},H.times=function(d,v){if((d=W(d))<1||d>I)return[];var k=U,D=Hr(d,U);v=kt(v),d-=U;for(var z=_r(D,v);++k<d;)v(k);return z},H.toFinite=B,H.toInteger=W,H.toLength=ie,H.toLower=function(d){return le(d).toLowerCase()},H.toNumber=be,H.toSafeInteger=function(d){return d?Bc(W(d),-9007199254740991,I):d===0?d:0},H.toString=le,H.toUpper=function(d){return le(d).toUpperCase()},H.trim=function(d,v,k){if((d=le(d))&&(k||v===f))return Nd(d);if(!d||!(v=Ci(v)))return d;var D=Uo(d),z=Uo(v);return ec(D,jd(D,z),n0(D,z)+1).join("")},H.trimEnd=function(d,v,k){if((d=le(d))&&(k||v===f))return d.slice(0,Mc(d)+1);if(!d||!(v=Ci(v)))return d;var D=Uo(d);return ec(D,0,n0(D,Uo(v))+1).join("")},H.trimStart=function(d,v,k){if((d=le(d))&&(k||v===f))return d.replace(fi,"");if(!d||!(v=Ci(v)))return d;var D=Uo(d);return ec(D,jd(D,Uo(v))).join("")},H.truncate=function(d,v){var k=30,D="...";if(qn(v)){var z="separator"in v?v.separator:z;k="length"in v?W(v.length):k,D="omission"in v?Ci(v.omission):D}var K=(d=le(d)).length;if(ls(d)){var te=Uo(d);K=te.length}if(k>=K)return d;var se=k-vo(D);if(se<1)return D;var he=te?ec(te,0,se).join(""):d.slice(0,se);if(z===f)return he+D;if(te&&(se+=he.length-se),b(z)){if(d.slice(se).search(z)){var Pe,ke=he;for(z.global||(z=Hm(z.source,le(la.exec(z))+"g")),z.lastIndex=0;Pe=z.exec(ke);)var Le=Pe.index;he=he.slice(0,Le===f?se:Le)}}else if(d.indexOf(Ci(z),se)!=se){var at=he.lastIndexOf(z);at>-1&&(he=he.slice(0,at))}return he+D},H.unescape=function(d){return(d=le(d))&&Ce.test(d)?d.replace(Z,gt):d},H.uniqueId=function(d){var v=++zl;return le(d)+v},H.upperCase=hi,H.upperFirst=Gr,H.each=xs,H.eachRight=Ig,H.first=zs,Eo(H,(qc={},xo(H,function(d,v){Vn.call(H.prototype,v)||(qc[v]=d)}),qc),{chain:!1}),H.VERSION="4.17.21",ho(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){H[d].placeholder=H}),ho(["drop","take"],function(d,v){yn.prototype[d]=function(k){k=k===f?1:gr(W(k),0);var D=this.__filtered__&&!v?new yn(this):this.clone();return D.__filtered__?D.__takeCount__=Hr(k,D.__takeCount__):D.__views__.push({size:Hr(k,U),type:d+(D.__dir__<0?"Right":"")}),D},yn.prototype[d+"Right"]=function(k){return this.reverse()[d](k).reverse()}}),ho(["filter","map","takeWhile"],function(d,v){var k=v+1,D=k==1||k==3;yn.prototype[d]=function(z){var K=this.clone();return K.__iteratees__.push({iteratee:kt(z,3),type:k}),K.__filtered__=K.__filtered__||D,K}}),ho(["head","last"],function(d,v){var k="take"+(v?"Right":"");yn.prototype[d]=function(){return this[k](1).value()[0]}}),ho(["initial","tail"],function(d,v){var k="drop"+(v?"":"Right");yn.prototype[d]=function(){return this.__filtered__?new yn(this):this[k](1)}}),yn.prototype.compact=function(){return this.filter(mr)},yn.prototype.find=function(d){return this.filter(d).head()},yn.prototype.findLast=function(d){return this.reverse().find(d)},yn.prototype.invokeMap=mn(function(d,v){return typeof d=="function"?new yn(this):this.map(function(k){return In(k,d,v)})}),yn.prototype.reject=function(d){return this.filter(op(kt(d)))},yn.prototype.slice=function(d,v){d=W(d);var k=this;return k.__filtered__&&(d>0||v<0)?new yn(k):(d<0?k=k.takeRight(-d):d&&(k=k.drop(d)),v!==f&&(k=(v=W(v))<0?k.dropRight(-v):k.take(v-d)),k)},yn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},yn.prototype.toArray=function(){return this.take(U)},xo(yn.prototype,function(d,v){var k=/^(?:filter|find|map|reject)|While$/.test(v),D=/^(?:head|last)$/.test(v),z=H[D?"take"+(v=="last"?"Right":""):v],K=D||/^find/.test(v);z&&(H.prototype[v]=function(){var te=this.__wrapped__,se=D?[1]:arguments,he=te instanceof yn,Pe=se[0],ke=he||ft(te),Le=function(At){var Xe=z.apply(H,ua([At],se));return D&&at?Xe[0]:Xe};ke&&k&&typeof Pe=="function"&&Pe.length!=1&&(he=ke=!1);var at=this.__chain__,it=!!this.__actions__.length,Ot=K&&!at,Ne=he&&!it;if(!K&&ke){te=Ne?te:new yn(this);var He=d.apply(te,se);return He.__actions__.push({func:rp,args:[Le],thisArg:f}),new Ji(He,at)}return Ot&&Ne?d.apply(this,se):(He=this.thru(Le),Ot?D?He.value()[0]:He.value():He)})}),ho(["pop","push","shift","sort","splice","unshift"],function(d){var v=Wa[d],k=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",D=/^(?:pop|shift)$/.test(d);H.prototype[d]=function(){var z=arguments;if(D&&!this.__chain__){var K=this.value();return v.apply(ft(K)?K:[],z)}return this[k](function(te){return v.apply(ft(te)?te:[],z)})}}),xo(yn.prototype,function(d,v){var k=H[v];if(k){var D=k.name+"";Vn.call(Hl,D)||(Hl[D]=[]),Hl[D].push({name:v,func:k})}}),Hl[Qd(f,2).name]=[{name:"wrapper",func:f}],yn.prototype.clone=function(){var d=new yn(this.__wrapped__);return d.__actions__=$i(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=$i(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=$i(this.__views__),d},yn.prototype.reverse=function(){if(this.__filtered__){var d=new yn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},yn.prototype.value=function(){var d=this.__wrapped__.value(),v=this.__dir__,k=ft(d),D=v<0,z=k?d.length:0,K=function(zn,Et,Dt){for(var mi=-1,ri=Dt.length;++mi<ri;){var Co=Dt[mi],Er=Co.size;switch(Co.type){case"drop":zn+=Er;break;case"dropRight":Et-=Er;break;case"take":Et=Hr(Et,zn+Er);break;case"takeRight":zn=gr(zn,Et-Er)}}return{start:zn,end:Et}}(0,z,this.__views__),te=K.start,se=K.end,he=se-te,Pe=D?se:te-1,ke=this.__iteratees__,Le=ke.length,at=0,it=Hr(he,this.__takeCount__);if(!k||!D&&z==he&&it==he)return b0(d,this.__actions__);var Ot=[];e:for(;he--&&at<it;){for(var Ne=-1,He=d[Pe+=v];++Ne<Le;){var At=ke[Ne],Xe=At.iteratee,fn=At.type,nn=Xe(He);if(fn==2)He=nn;else if(!nn){if(fn==1)continue e;break e}}Ot[at++]=He}return Ot},H.prototype.at=ys,H.prototype.chain=function(){return M0(this)},H.prototype.commit=function(){return new Ji(this.value(),this.__chain__)},H.prototype.next=function(){this.__values__===f&&(this.__values__=F(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?f:this.__values__[this.__index__++]}},H.prototype.plant=function(d){for(var v,k=this;k instanceof Gl;){var D=A0(k);D.__index__=0,D.__values__=f,v?z.__wrapped__=D:v=D;var z=D;k=k.__wrapped__}return z.__wrapped__=d,v},H.prototype.reverse=function(){var d=this.__wrapped__;if(d instanceof yn){var v=d;return this.__actions__.length&&(v=new yn(this)),(v=v.reverse()).__actions__.push({func:rp,args:[Pg],thisArg:f}),new Ji(v,this.__chain__)}return this.thru(Pg)},H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=function(){return b0(this.__wrapped__,this.__actions__)},H.prototype.first=H.prototype.head,Wl&&(H.prototype[Wl]=function(){return this}),H}();Xr._=Ad,(l=(function(){return Ad}).call(a,c,a,s))===f||(s.exports=l)}).call(this)},5364:(s,a,c)=>{var l=c(5250),f=c(999)(function(p,m,E){l(p,m,E)});s.exports=f},9935:s=>{s.exports=function(){return!1}},9884:(s,a,c)=>{var l=c(1791),f=c(7241);s.exports=function(p){return l(p,f(p))}},5602:s=>{var a=s.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(c){return c.encoding?"rtpmap:%d %s/%s/%s":c.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(c){return c.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(c){return c.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(c){return"extmap:%d"+(c.direction?"/%s":"%v")+(c["encrypt-uri"]?" %s":"%v")+" %s"+(c.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(c){return c.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(c){var l="candidate:%s %d %s %d %s %d typ %s";return l+=c.raddr!=null?" raddr %s rport %d":"%v%v",l+=c.tcptype!=null?" tcptype %s":"%v",c.generation!=null&&(l+=" generation %d"),l+=c["network-id"]!=null?" network-id %d":"%v",l+=c["network-cost"]!=null?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(c){var l="ssrc:%d";return c.attribute!=null&&(l+=" %s",c.value!=null&&(l+=":%s")),l}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(c){return c.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(c){return c.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(c){return"imageattr:%s %s %s"+(c.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(c){return"simulcast:%s %s"+(c.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(c){return"ts-refclk:%s"+(c.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(c){var l="mediaclk:";return l+=c.id!=null?"id=%s %s":"%v%s",l+=c.mediaClockValue!=null?"=%s":"",l+=c.rateNumerator!=null?" rate=%s":"",l+=c.rateDenominator!=null?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(a).forEach(function(c){a[c].forEach(function(l){l.reg||(l.reg=/(.*)/),l.format||(l.format="%s")})})},7363:(s,a,c)=>{var l=c(5020),f=c(3804);a.M9=f,a.qg=l.parse,a.Sl=l.parseParams,l.parseFmtpConfig,l.parsePayloads,l.parseRemoteCandidates,l.parseImageAttributes,l.parseSimulcastStreamList},5020:(s,a,c)=>{var l=function(x){return String(Number(x))===x?Number(x):x},f=function(x,y,w){var R=x.name&&x.names;x.push&&!y[x.push]?y[x.push]=[]:R&&!y[x.name]&&(y[x.name]={});var _=x.push?{}:R?y[x.name]:y;(function(C,I,A,U){if(U&&!A)I[U]=l(C[1]);else for(var $=0;$<A.length;$+=1)C[$+1]!=null&&(I[A[$]]=l(C[$+1]))})(w.match(x.reg),_,x.names,x.name),x.push&&y[x.push].push(_)},p=c(5602),m=RegExp.prototype.test.bind(/^([a-z])=(.*)/);a.parse=function(x){var y={},w=[],R=y;return x.split(/(\r\n|\r|\n)/).filter(m).forEach(function(_){var C=_[0],I=_.slice(2);C==="m"&&(w.push({rtp:[],fmtp:[]}),R=w[w.length-1]);for(var A=0;A<(p[C]||[]).length;A+=1){var U=p[C][A];if(U.reg.test(I))return f(U,R,I)}}),y.media=w,y};var E=function(x,y){var w=y.split(/=(.+)/,2);return w.length===2?x[w[0]]=l(w[1]):w.length===1&&y.length>1&&(x[w[0]]=void 0),x};a.parseParams=function(x){return x.split(/;\s?/).reduce(E,{})},a.parseFmtpConfig=a.parseParams,a.parsePayloads=function(x){return x.toString().split(" ").map(Number)},a.parseRemoteCandidates=function(x){for(var y=[],w=x.split(" ").map(l),R=0;R<w.length;R+=3)y.push({component:w[R],ip:w[R+1],port:w[R+2]});return y},a.parseImageAttributes=function(x){return x.split(" ").map(function(y){return y.substring(1,y.length-1).split(",").reduce(E,{})})},a.parseSimulcastStreamList=function(x){return x.split(";").map(function(y){return y.split(",").map(function(w){var R,_=!1;return w[0]!=="~"?R=l(w):(R=l(w.substring(1,w.length)),_=!0),{scid:R,paused:_}})})}},3804:(s,a,c)=>{var l=c(5602),f=/%[sdv%]/g,p=function(y){var w=1,R=arguments,_=R.length;return y.replace(f,function(C){if(w>=_)return C;var I=R[w];switch(w+=1,C){case"%%":return"%";case"%s":return String(I);case"%d":return Number(I);case"%v":return""}})},m=function(y,w,R){var _=[y+"="+(w.format instanceof Function?w.format(w.push?R:R[w.name]):w.format)];if(w.names)for(var C=0;C<w.names.length;C+=1){var I=w.names[C];w.name?_.push(R[w.name][I]):_.push(R[w.names[C]])}else _.push(R[w.name]);return p.apply(null,_)},E=["v","o","s","i","u","e","p","c","b","t","r","z","a"],x=["i","c","b","a"];s.exports=function(y,w){w=w||{},y.version==null&&(y.version=0),y.name==null&&(y.name=" "),y.media.forEach(function(I){I.payloads==null&&(I.payloads="")});var R=w.outerOrder||E,_=w.innerOrder||x,C=[];return R.forEach(function(I){l[I].forEach(function(A){A.name in y&&y[A.name]!=null?C.push(m(I,A,y)):A.push in y&&y[A.push]!=null&&y[A.push].forEach(function(U){C.push(m(I,A,U))})})}),y.media.forEach(function(I){C.push(m("m",l.m[0],I)),_.forEach(function(A){l[A].forEach(function(U){U.name in I&&I[U.name]!=null?C.push(m(A,U,I)):U.push in I&&I[U.push]!=null&&I[U.push].forEach(function($){C.push(m(A,U,$))})})})}),C.join(`\r
`)+`\r
`}},7963:s=>{const a={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};a.localCName=a.generateIdentifier(),a.splitLines=function(c){return c.trim().split(`
`).map(l=>l.trim())},a.splitSections=function(c){return c.split(`
m=`).map((l,f)=>(f>0?"m="+l:l).trim()+`\r
`)},a.getDescription=function(c){const l=a.splitSections(c);return l&&l[0]},a.getMediaSections=function(c){const l=a.splitSections(c);return l.shift(),l},a.matchPrefix=function(c,l){return a.splitLines(c).filter(f=>f.indexOf(l)===0)},a.parseCandidate=function(c){let l;l=c.indexOf("a=candidate:")===0?c.substring(12).split(" "):c.substring(10).split(" ");const f={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let p=8;p<l.length;p+=2)switch(l[p]){case"raddr":f.relatedAddress=l[p+1];break;case"rport":f.relatedPort=parseInt(l[p+1],10);break;case"tcptype":f.tcpType=l[p+1];break;case"ufrag":f.ufrag=l[p+1],f.usernameFragment=l[p+1];break;default:f[l[p]]===void 0&&(f[l[p]]=l[p+1])}return f},a.writeCandidate=function(c){const l=[];l.push(c.foundation);const f=c.component;f==="rtp"?l.push(1):f==="rtcp"?l.push(2):l.push(f),l.push(c.protocol.toUpperCase()),l.push(c.priority),l.push(c.address||c.ip),l.push(c.port);const p=c.type;return l.push("typ"),l.push(p),p!=="host"&&c.relatedAddress&&c.relatedPort&&(l.push("raddr"),l.push(c.relatedAddress),l.push("rport"),l.push(c.relatedPort)),c.tcpType&&c.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(c.tcpType)),(c.usernameFragment||c.ufrag)&&(l.push("ufrag"),l.push(c.usernameFragment||c.ufrag)),"candidate:"+l.join(" ")},a.parseIceOptions=function(c){return c.substring(14).split(" ")},a.parseRtpMap=function(c){let l=c.substring(9).split(" ");const f={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),f.name=l[0],f.clockRate=parseInt(l[1],10),f.channels=l.length===3?parseInt(l[2],10):1,f.numChannels=f.channels,f},a.writeRtpMap=function(c){let l=c.payloadType;c.preferredPayloadType!==void 0&&(l=c.preferredPayloadType);const f=c.channels||c.numChannels||1;return"a=rtpmap:"+l+" "+c.name+"/"+c.clockRate+(f!==1?"/"+f:"")+`\r
`},a.parseExtmap=function(c){const l=c.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},a.writeExtmap=function(c){return"a=extmap:"+(c.id||c.preferredId)+(c.direction&&c.direction!=="sendrecv"?"/"+c.direction:"")+" "+c.uri+(c.attributes?" "+c.attributes:"")+`\r
`},a.parseFmtp=function(c){const l={};let f;const p=c.substring(c.indexOf(" ")+1).split(";");for(let m=0;m<p.length;m++)f=p[m].trim().split("="),l[f[0].trim()]=f[1];return l},a.writeFmtp=function(c){let l="",f=c.payloadType;if(c.preferredPayloadType!==void 0&&(f=c.preferredPayloadType),c.parameters&&Object.keys(c.parameters).length){const p=[];Object.keys(c.parameters).forEach(m=>{c.parameters[m]!==void 0?p.push(m+"="+c.parameters[m]):p.push(m)}),l+="a=fmtp:"+f+" "+p.join(";")+`\r
`}return l},a.parseRtcpFb=function(c){const l=c.substring(c.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},a.writeRtcpFb=function(c){let l="",f=c.payloadType;return c.preferredPayloadType!==void 0&&(f=c.preferredPayloadType),c.rtcpFeedback&&c.rtcpFeedback.length&&c.rtcpFeedback.forEach(p=>{l+="a=rtcp-fb:"+f+" "+p.type+(p.parameter&&p.parameter.length?" "+p.parameter:"")+`\r
`}),l},a.parseSsrcMedia=function(c){const l=c.indexOf(" "),f={ssrc:parseInt(c.substring(7,l),10)},p=c.indexOf(":",l);return p>-1?(f.attribute=c.substring(l+1,p),f.value=c.substring(p+1)):f.attribute=c.substring(l+1),f},a.parseSsrcGroup=function(c){const l=c.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(f=>parseInt(f,10))}},a.getMid=function(c){const l=a.matchPrefix(c,"a=mid:")[0];if(l)return l.substring(6)},a.parseFingerprint=function(c){const l=c.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},a.getDtlsParameters=function(c,l){return{role:"auto",fingerprints:a.matchPrefix(c+l,"a=fingerprint:").map(a.parseFingerprint)}},a.writeDtlsParameters=function(c,l){let f="a=setup:"+l+`\r
`;return c.fingerprints.forEach(p=>{f+="a=fingerprint:"+p.algorithm+" "+p.value+`\r
`}),f},a.parseCryptoLine=function(c){const l=c.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},a.writeCryptoLine=function(c){return"a=crypto:"+c.tag+" "+c.cryptoSuite+" "+(typeof c.keyParams=="object"?a.writeCryptoKeyParams(c.keyParams):c.keyParams)+(c.sessionParams?" "+c.sessionParams.join(" "):"")+`\r
`},a.parseCryptoKeyParams=function(c){if(c.indexOf("inline:")!==0)return null;const l=c.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},a.writeCryptoKeyParams=function(c){return c.keyMethod+":"+c.keySalt+(c.lifeTime?"|"+c.lifeTime:"")+(c.mkiValue&&c.mkiLength?"|"+c.mkiValue+":"+c.mkiLength:"")},a.getCryptoParameters=function(c,l){return a.matchPrefix(c+l,"a=crypto:").map(a.parseCryptoLine)},a.getIceParameters=function(c,l){const f=a.matchPrefix(c+l,"a=ice-ufrag:")[0],p=a.matchPrefix(c+l,"a=ice-pwd:")[0];return f&&p?{usernameFragment:f.substring(12),password:p.substring(10)}:null},a.writeIceParameters=function(c){let l="a=ice-ufrag:"+c.usernameFragment+`\r
a=ice-pwd:`+c.password+`\r
`;return c.iceLite&&(l+=`a=ice-lite\r
`),l},a.parseRtpParameters=function(c){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},f=a.splitLines(c)[0].split(" ");l.profile=f[2];for(let m=3;m<f.length;m++){const E=f[m],x=a.matchPrefix(c,"a=rtpmap:"+E+" ")[0];if(x){const y=a.parseRtpMap(x),w=a.matchPrefix(c,"a=fmtp:"+E+" ");switch(y.parameters=w.length?a.parseFmtp(w[0]):{},y.rtcpFeedback=a.matchPrefix(c,"a=rtcp-fb:"+E+" ").map(a.parseRtcpFb),l.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(y.name.toUpperCase())}}}a.matchPrefix(c,"a=extmap:").forEach(m=>{l.headerExtensions.push(a.parseExtmap(m))});const p=a.matchPrefix(c,"a=rtcp-fb:* ").map(a.parseRtcpFb);return l.codecs.forEach(m=>{p.forEach(E=>{m.rtcpFeedback.find(x=>x.type===E.type&&x.parameter===E.parameter)||m.rtcpFeedback.push(E)})}),l},a.writeRtpDescription=function(c,l){let f="";f+="m="+c+" ",f+=l.codecs.length>0?"9":"0",f+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",f+=l.codecs.map(m=>m.preferredPayloadType!==void 0?m.preferredPayloadType:m.payloadType).join(" ")+`\r
`,f+=`c=IN IP4 0.0.0.0\r
`,f+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(m=>{f+=a.writeRtpMap(m),f+=a.writeFmtp(m),f+=a.writeRtcpFb(m)});let p=0;return l.codecs.forEach(m=>{m.maxptime>p&&(p=m.maxptime)}),p>0&&(f+="a=maxptime:"+p+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(m=>{f+=a.writeExtmap(m)}),f},a.parseRtpEncodingParameters=function(c){const l=[],f=a.parseRtpParameters(c),p=f.fecMechanisms.indexOf("RED")!==-1,m=f.fecMechanisms.indexOf("ULPFEC")!==-1,E=a.matchPrefix(c,"a=ssrc:").map(_=>a.parseSsrcMedia(_)).filter(_=>_.attribute==="cname"),x=E.length>0&&E[0].ssrc;let y;const w=a.matchPrefix(c,"a=ssrc-group:FID").map(_=>_.substring(17).split(" ").map(C=>parseInt(C,10)));w.length>0&&w[0].length>1&&w[0][0]===x&&(y=w[0][1]),f.codecs.forEach(_=>{if(_.name.toUpperCase()==="RTX"&&_.parameters.apt){let C={ssrc:x,codecPayloadType:parseInt(_.parameters.apt,10)};x&&y&&(C.rtx={ssrc:y}),l.push(C),p&&(C=JSON.parse(JSON.stringify(C)),C.fec={ssrc:x,mechanism:m?"red+ulpfec":"red"},l.push(C))}}),l.length===0&&x&&l.push({ssrc:x});let R=a.matchPrefix(c,"b=");return R.length&&(R=R[0].indexOf("b=TIAS:")===0?parseInt(R[0].substring(7),10):R[0].indexOf("b=AS:")===0?1e3*parseInt(R[0].substring(5),10)*.95-16e3:void 0,l.forEach(_=>{_.maxBitrate=R})),l},a.parseRtcpParameters=function(c){const l={},f=a.matchPrefix(c,"a=ssrc:").map(E=>a.parseSsrcMedia(E)).filter(E=>E.attribute==="cname")[0];f&&(l.cname=f.value,l.ssrc=f.ssrc);const p=a.matchPrefix(c,"a=rtcp-rsize");l.reducedSize=p.length>0,l.compound=p.length===0;const m=a.matchPrefix(c,"a=rtcp-mux");return l.mux=m.length>0,l},a.writeRtcpParameters=function(c){let l="";return c.reducedSize&&(l+=`a=rtcp-rsize\r
`),c.mux&&(l+=`a=rtcp-mux\r
`),c.ssrc!==void 0&&c.cname&&(l+="a=ssrc:"+c.ssrc+" cname:"+c.cname+`\r
`),l},a.parseMsid=function(c){let l;const f=a.matchPrefix(c,"a=msid:");if(f.length===1)return l=f[0].substring(7).split(" "),{stream:l[0],track:l[1]};const p=a.matchPrefix(c,"a=ssrc:").map(m=>a.parseSsrcMedia(m)).filter(m=>m.attribute==="msid");return p.length>0?(l=p[0].value.split(" "),{stream:l[0],track:l[1]}):void 0},a.parseSctpDescription=function(c){const l=a.parseMLine(c),f=a.matchPrefix(c,"a=max-message-size:");let p;f.length>0&&(p=parseInt(f[0].substring(19),10)),isNaN(p)&&(p=65536);const m=a.matchPrefix(c,"a=sctp-port:");if(m.length>0)return{port:parseInt(m[0].substring(12),10),protocol:l.fmt,maxMessageSize:p};const E=a.matchPrefix(c,"a=sctpmap:");if(E.length>0){const x=E[0].substring(10).split(" ");return{port:parseInt(x[0],10),protocol:x[1],maxMessageSize:p}}},a.writeSctpDescription=function(c,l){let f=[];return f=c.protocol!=="DTLS/SCTP"?["m="+c.kind+" 9 "+c.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:["m="+c.kind+" 9 "+c.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&f.push("a=max-message-size:"+l.maxMessageSize+`\r
`),f.join("")},a.generateSessionId=function(){return Math.random().toString().substr(2,22)},a.writeSessionBoilerplate=function(c,l,f){let p;const m=l!==void 0?l:2;return p=c||a.generateSessionId(),`v=0\r
o=`+(f||"thisisadapterortc")+" "+p+" "+m+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},a.getDirection=function(c,l){const f=a.splitLines(c);for(let p=0;p<f.length;p++)switch(f[p]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return f[p].substring(2)}return l?a.getDirection(l):"sendrecv"},a.getKind=function(c){return a.splitLines(c)[0].split(" ")[0].substring(2)},a.isRejected=function(c){return c.split(" ",2)[1]==="0"},a.parseMLine=function(c){const l=a.splitLines(c)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},a.parseOLine=function(c){const l=a.matchPrefix(c,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},a.isValidSDP=function(c){if(typeof c!="string"||c.length===0)return!1;const l=a.splitLines(c);for(let f=0;f<l.length;f++)if(l[f].length<2||l[f].charAt(1)!=="=")return!1;return!0},s.exports=a},5512:s=>{s.exports=function(a,c,l,f){var p=self||window;try{try{var m;try{m=new p.Blob([a])}catch{(m=new(p.BlobBuilder||p.WebKitBlobBuilder||p.MozBlobBuilder||p.MSBlobBuilder)).append(a),m=m.getBlob()}var E=p.URL||p.webkitURL,x=E.createObjectURL(m),y=new p[c](x,l);return E.revokeObjectURL(x),y}catch{return new p[c]("data:application/javascript,".concat(encodeURIComponent(a)),l)}}catch{if(!f)throw Error("Inline worker is not supported");return new p[c](f,l)}}},8630:(s,a,c)=>{var l;(function(f){(function(){var p=typeof globalThis=="object"?globalThis:typeof c.g=="object"?c.g:typeof self=="object"?self:typeof this=="object"?this:function(){try{return Function("return this;")()}catch{}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch{}}(),m=E(f);function E(x,y){return function(w,R){Object.defineProperty(x,w,{configurable:!0,writable:!0,value:R}),y&&y(w,R)}}p.Reflect!==void 0&&(m=E(p.Reflect,m)),function(x,y){var w=Object.prototype.hasOwnProperty,R=typeof Symbol=="function",_=R&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",C=R&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",I=typeof Object.create=="function",A={__proto__:[]}instanceof Array,U=!I&&!A,$={create:I?function(){return Ac(Object.create(null))}:A?function(){return Ac({__proto__:null})}:function(){return Ac({})},has:U?function(ue,_e){return w.call(ue,_e)}:function(ue,_e){return _e in ue},get:U?function(ue,_e){return w.call(ue,_e)?ue[_e]:void 0}:function(ue,_e){return ue[_e]}},V=Object.getPrototypeOf(Function),q=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Nl(),X=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Il(),J=typeof WeakMap=="function"?WeakMap:_d(),G=R?Symbol.for("@reflect-metadata:registry"):void 0,ee=Ct(),ce=yh(ee);function xe(ue,_e,Oe,ze){if(ut(Oe)){if(!Re(ue))throw new TypeError;if(!rt(_e))throw new TypeError;return bt(ue,_e)}if(!Re(ue))throw new TypeError;if(!Z(_e))throw new TypeError;if(!Z(ze)&&!ut(ze)&&!jr(ze))throw new TypeError;return jr(ze)&&(ze=void 0),Gt(ue,_e,Oe=de(Oe),ze)}function Se(ue,_e){function Oe(ze,Zt){if(!Z(ze))throw new TypeError;if(!ut(Zt)&&!wt(Zt))throw new TypeError;Bt(ue,_e,ze,Zt)}return Oe}function ve(ue,_e,Oe,ze){if(!Z(Oe))throw new TypeError;return ut(ze)||(ze=de(ze)),Bt(ue,_e,Oe,ze)}function Y(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Ye(ue,_e,Oe)}function Q(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),lt(ue,_e,Oe)}function ne(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Ut(ue,_e,Oe)}function fe(ue,_e,Oe){if(!Z(_e))throw new TypeError;return ut(Oe)||(Oe=de(Oe)),Jt(ue,_e,Oe)}function Te(ue,_e){if(!Z(ue))throw new TypeError;return ut(_e)||(_e=de(_e)),qt(ue,_e)}function Ge(ue,_e){if(!Z(ue))throw new TypeError;return ut(_e)||(_e=de(_e)),Un(ue,_e)}function Fe(ue,_e,Oe){if(!Z(_e))throw new TypeError;if(ut(Oe)||(Oe=de(Oe)),!Z(_e))throw new TypeError;ut(Oe)||(Oe=de(Oe));var ze=la(_e,Oe,!1);return!ut(ze)&&ze.OrdinaryDeleteMetadata(ue,_e,Oe)}function bt(ue,_e){for(var Oe=ue.length-1;Oe>=0;--Oe){var ze=(0,ue[Oe])(_e);if(!ut(ze)&&!jr(ze)){if(!rt(ze))throw new TypeError;_e=ze}}return _e}function Gt(ue,_e,Oe,ze){for(var Zt=ue.length-1;Zt>=0;--Zt){var sr=(0,ue[Zt])(_e,Oe,ze);if(!ut(sr)&&!jr(sr)){if(!Z(sr))throw new TypeError;ze=sr}}return ze}function Ye(ue,_e,Oe){if(lt(ue,_e,Oe))return!0;var ze=Fs(_e);return!jr(ze)&&Ye(ue,ze,Oe)}function lt(ue,_e,Oe){var ze=la(_e,Oe,!1);return!ut(ze)&&Qe(ze.OrdinaryHasOwnMetadata(ue,_e,Oe))}function Ut(ue,_e,Oe){if(lt(ue,_e,Oe))return Jt(ue,_e,Oe);var ze=Fs(_e);return jr(ze)?void 0:Ut(ue,ze,Oe)}function Jt(ue,_e,Oe){var ze=la(_e,Oe,!1);if(!ut(ze))return ze.OrdinaryGetOwnMetadata(ue,_e,Oe)}function Bt(ue,_e,Oe,ze){la(Oe,ze,!0).OrdinaryDefineOwnMetadata(ue,_e,Oe,ze)}function qt(ue,_e){var Oe=Un(ue,_e),ze=Fs(ue);if(ze===null)return Oe;var Zt=qt(ze,_e);if(Zt.length<=0)return Oe;if(Oe.length<=0)return Zt;for(var sr=new X,an=[],$t=0,dt=Oe;$t<dt.length;$t++){var Ze=dt[$t];sr.has(Ze)||(sr.add(Ze),an.push(Ze))}for(var mt=0,Tt=Zt;mt<Tt.length;mt++)Ze=Tt[mt],sr.has(Ze)||(sr.add(Ze),an.push(Ze));return an}function Un(ue,_e){var Oe=la(ue,_e,!1);return Oe?Oe.OrdinaryOwnMetadataKeys(ue,_e):[]}function Xn(ue){if(ue===null)return 1;switch(typeof ue){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return ue===null?1:6;default:return 6}}function ut(ue){return ue===void 0}function jr(ue){return ue===null}function Li(ue){return typeof ue=="symbol"}function Z(ue){return typeof ue=="object"?ue!==null:typeof ue=="function"}function pe(ue,_e){switch(Xn(ue)){case 0:case 1:case 2:case 3:case 4:case 5:return ue}var Oe="string",ze=Qr(ue,_);if(ze!==void 0){var Zt=ze.call(ue,Oe);if(Z(Zt))throw new TypeError;return Zt}return Ce(ue)}function Ce(ue,_e){var Oe,ze;{var Zt=ue.toString;if(De(Zt)&&!Z(ze=Zt.call(ue))||De(Oe=ue.valueOf)&&!Z(ze=Oe.call(ue)))return ze}throw new TypeError}function Qe(ue){return!!ue}function re(ue){return""+ue}function de(ue){var _e=pe(ue);return Li(_e)?_e:re(_e)}function Re(ue){return Array.isArray?Array.isArray(ue):ue instanceof Object?ue instanceof Array:Object.prototype.toString.call(ue)==="[object Array]"}function De(ue){return typeof ue=="function"}function rt(ue){return typeof ue=="function"}function wt(ue){switch(Xn(ue)){case 3:case 4:return!0;default:return!1}}function _n(ue,_e){return ue===_e||ue!=ue&&_e!=_e}function Qr(ue,_e){var Oe=ue[_e];if(Oe!=null){if(!De(Oe))throw new TypeError;return Oe}}function fi(ue){var _e=Qr(ue,C);if(!De(_e))throw new TypeError;var Oe=_e.call(ue);if(!Z(Oe))throw new TypeError;return Oe}function fo(ue){return ue.value}function Tn(ue){var _e=ue.next();return!_e.done&&_e}function kn(ue){var _e=ue.return;_e&&_e.call(ue)}function Fs(ue){var _e=Object.getPrototypeOf(ue);if(typeof ue!="function"||ue===V||_e!==V)return _e;var Oe=ue.prototype,ze=Oe&&Object.getPrototypeOf(Oe);if(ze==null||ze===Object.prototype)return _e;var Zt=ze.constructor;return typeof Zt!="function"||Zt===ue?_e:Zt}function $a(){var ue,_e,Oe,ze;ut(G)||y.Reflect===void 0||G in y.Reflect||typeof y.Reflect.defineMetadata!="function"||(ue=Sd(y.Reflect));var Zt=new J,sr={registerProvider:an,getProvider:dt,setProvider:mt};return sr;function an(Tt){if(!Object.isExtensible(sr))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ue===Tt:break;case ut(_e):_e=Tt;break;case _e===Tt:break;case ut(Oe):Oe=Tt;break;case Oe===Tt:break;default:ze===void 0&&(ze=new X),ze.add(Tt)}}function $t(Tt,wn){if(!ut(_e)){if(_e.isProviderFor(Tt,wn))return _e;if(!ut(Oe)){if(Oe.isProviderFor(Tt,wn))return _e;if(!ut(ze))for(var Jn=fi(ze);;){var Bn=Tn(Jn);if(!Bn)return;var Fi=fo(Bn);if(Fi.isProviderFor(Tt,wn))return kn(Jn),Fi}}}if(!ut(ue)&&ue.isProviderFor(Tt,wn))return ue}function dt(Tt,wn){var Jn,Bn=Zt.get(Tt);return ut(Bn)||(Jn=Bn.get(wn)),ut(Jn)&&(ut(Jn=$t(Tt,wn))||(ut(Bn)&&(Bn=new q,Zt.set(Tt,Bn)),Bn.set(wn,Jn))),Jn}function Ze(Tt){if(ut(Tt))throw new TypeError;return _e===Tt||Oe===Tt||!ut(ze)&&ze.has(Tt)}function mt(Tt,wn,Jn){if(!Ze(Jn))throw new Error("Metadata provider not registered.");var Bn=dt(Tt,wn);if(Bn!==Jn){if(!ut(Bn))return!1;var Fi=Zt.get(Tt);ut(Fi)&&(Fi=new q,Zt.set(Tt,Fi)),Fi.set(wn,Jn)}return!0}}function Ct(){var ue;return!ut(G)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&(ue=y.Reflect[G]),ut(ue)&&(ue=$a()),!ut(G)&&Z(y.Reflect)&&Object.isExtensible(y.Reflect)&&Object.defineProperty(y.Reflect,G,{enumerable:!1,configurable:!1,writable:!1,value:ue}),ue}function yh(ue){var _e=new J,Oe={isProviderFor:function(Ze,mt){var Tt=_e.get(Ze);return!ut(Tt)&&Tt.has(mt)},OrdinaryDefineOwnMetadata:an,OrdinaryHasOwnMetadata:Zt,OrdinaryGetOwnMetadata:sr,OrdinaryOwnMetadataKeys:$t,OrdinaryDeleteMetadata:dt};return ee.registerProvider(Oe),Oe;function ze(Ze,mt,Tt){var wn=_e.get(Ze),Jn=!1;if(ut(wn)){if(!Tt)return;wn=new q,_e.set(Ze,wn),Jn=!0}var Bn=wn.get(mt);if(ut(Bn)){if(!Tt)return;if(Bn=new q,wn.set(mt,Bn),!ue.setProvider(Ze,mt,Oe))throw wn.delete(mt),Jn&&_e.delete(Ze),new Error("Wrong provider for target.")}return Bn}function Zt(Ze,mt,Tt){var wn=ze(mt,Tt,!1);return!ut(wn)&&Qe(wn.has(Ze))}function sr(Ze,mt,Tt){var wn=ze(mt,Tt,!1);if(!ut(wn))return wn.get(Ze)}function an(Ze,mt,Tt,wn){ze(Tt,wn,!0).set(Ze,mt)}function $t(Ze,mt){var Tt=[],wn=ze(Ze,mt,!1);if(ut(wn))return Tt;for(var Jn=fi(wn.keys()),Bn=0;;){var Fi=Tn(Jn);if(!Fi)return Tt.length=Bn,Tt;var wd=fo(Fi);try{Tt[Bn]=wd}catch(Ed){try{kn(Jn)}finally{throw Ed}}Bn++}}function dt(Ze,mt,Tt){var wn=ze(mt,Tt,!1);if(ut(wn)||!wn.delete(Ze))return!1;if(wn.size===0){var Jn=_e.get(mt);ut(Jn)||(Jn.delete(Tt),Jn.size===0&&_e.delete(Jn))}return!0}}function Sd(ue){var _e=ue.defineMetadata,Oe=ue.hasOwnMetadata,ze=ue.getOwnMetadata,Zt=ue.getOwnMetadataKeys,sr=ue.deleteMetadata,an=new J;return{isProviderFor:function($t,dt){var Ze=an.get($t);return!(ut(Ze)||!Ze.has(dt))||!!Zt($t,dt).length&&(ut(Ze)&&(Ze=new X,an.set($t,Ze)),Ze.add(dt),!0)},OrdinaryDefineOwnMetadata:_e,OrdinaryHasOwnMetadata:Oe,OrdinaryGetOwnMetadata:ze,OrdinaryOwnMetadataKeys:Zt,OrdinaryDeleteMetadata:sr}}function la(ue,_e,Oe){var ze=ee.getProvider(ue,_e);if(!ut(ze))return ze;if(Oe){if(ee.setProvider(ue,_e,ce))return ce;throw new Error("Illegal state.")}}function Nl(){var ue={},_e=[],Oe=function(){function an($t,dt,Ze){this._index=0,this._keys=$t,this._values=dt,this._selector=Ze}return an.prototype["@@iterator"]=function(){return this},an.prototype[C]=function(){return this},an.prototype.next=function(){var $t=this._index;if($t>=0&&$t<this._keys.length){var dt=this._selector(this._keys[$t],this._values[$t]);return $t+1>=this._keys.length?(this._index=-1,this._keys=_e,this._values=_e):this._index++,{value:dt,done:!1}}return{value:void 0,done:!0}},an.prototype.throw=function($t){throw this._index>=0&&(this._index=-1,this._keys=_e,this._values=_e),$t},an.prototype.return=function($t){return this._index>=0&&(this._index=-1,this._keys=_e,this._values=_e),{value:$t,done:!0}},an}();return function(){function an(){this._keys=[],this._values=[],this._cacheKey=ue,this._cacheIndex=-2}return Object.defineProperty(an.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),an.prototype.has=function($t){return this._find($t,!1)>=0},an.prototype.get=function($t){var dt=this._find($t,!1);return dt>=0?this._values[dt]:void 0},an.prototype.set=function($t,dt){var Ze=this._find($t,!0);return this._values[Ze]=dt,this},an.prototype.delete=function($t){var dt=this._find($t,!1);if(dt>=0){for(var Ze=this._keys.length,mt=dt+1;mt<Ze;mt++)this._keys[mt-1]=this._keys[mt],this._values[mt-1]=this._values[mt];return this._keys.length--,this._values.length--,_n($t,this._cacheKey)&&(this._cacheKey=ue,this._cacheIndex=-2),!0}return!1},an.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ue,this._cacheIndex=-2},an.prototype.keys=function(){return new Oe(this._keys,this._values,ze)},an.prototype.values=function(){return new Oe(this._keys,this._values,Zt)},an.prototype.entries=function(){return new Oe(this._keys,this._values,sr)},an.prototype["@@iterator"]=function(){return this.entries()},an.prototype[C]=function(){return this.entries()},an.prototype._find=function($t,dt){if(!_n(this._cacheKey,$t)){this._cacheIndex=-1;for(var Ze=0;Ze<this._keys.length;Ze++)if(_n(this._keys[Ze],$t)){this._cacheIndex=Ze;break}}return this._cacheIndex<0&&dt&&(this._cacheIndex=this._keys.length,this._keys.push($t),this._values.push(void 0)),this._cacheIndex},an}();function ze(an,$t){return an}function Zt(an,$t){return $t}function sr(an,$t){return[an,$t]}}function Il(){return function(){function ue(){this._map=new q}return Object.defineProperty(ue.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ue.prototype.has=function(_e){return this._map.has(_e)},ue.prototype.add=function(_e){return this._map.set(_e,_e),this},ue.prototype.delete=function(_e){return this._map.delete(_e)},ue.prototype.clear=function(){this._map.clear()},ue.prototype.keys=function(){return this._map.keys()},ue.prototype.values=function(){return this._map.keys()},ue.prototype.entries=function(){return this._map.entries()},ue.prototype["@@iterator"]=function(){return this.keys()},ue.prototype[C]=function(){return this.keys()},ue}()}function _d(){var ue=16,_e=$.create(),Oe=ze();return function(){function dt(){this._key=ze()}return dt.prototype.has=function(Ze){var mt=Zt(Ze,!1);return mt!==void 0&&$.has(mt,this._key)},dt.prototype.get=function(Ze){var mt=Zt(Ze,!1);return mt!==void 0?$.get(mt,this._key):void 0},dt.prototype.set=function(Ze,mt){return Zt(Ze,!0)[this._key]=mt,this},dt.prototype.delete=function(Ze){var mt=Zt(Ze,!1);return mt!==void 0&&delete mt[this._key]},dt.prototype.clear=function(){this._key=ze()},dt}();function ze(){var dt;do dt="@@WeakMap@@"+$t();while($.has(_e,dt));return _e[dt]=!0,dt}function Zt(dt,Ze){if(!w.call(dt,Oe)){if(!Ze)return;Object.defineProperty(dt,Oe,{value:$.create()})}return dt[Oe]}function sr(dt,Ze){for(var mt=0;mt<Ze;++mt)dt[mt]=255*Math.random()|0;return dt}function an(dt){if(typeof Uint8Array=="function"){var Ze=new Uint8Array(dt);return typeof crypto<"u"?crypto.getRandomValues(Ze):typeof msCrypto<"u"?msCrypto.getRandomValues(Ze):sr(Ze,dt),Ze}return sr(new Array(dt),dt)}function $t(){var dt=an(ue);dt[6]=79&dt[6]|64,dt[8]=191&dt[8]|128;for(var Ze="",mt=0;mt<ue;++mt){var Tt=dt[mt];mt!==4&&mt!==6&&mt!==8||(Ze+="-"),Tt<16&&(Ze+="0"),Ze+=Tt.toString(16).toLowerCase()}return Ze}}function Ac(ue){return ue.__=void 0,delete ue.__,ue}x("decorate",xe),x("metadata",Se),x("defineMetadata",ve),x("hasMetadata",Y),x("hasOwnMetadata",Q),x("getMetadata",ne),x("getOwnMetadata",fe),x("getMetadataKeys",Te),x("getOwnMetadataKeys",Ge),x("deleteMetadata",Fe)}(m,p),p.Reflect===void 0&&(p.Reflect=f)})()})(l||(l={}))}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var c=r[s]={id:s,loaded:!1,exports:{}};return n[s].call(c.exports,c,c.exports,i),c.loaded=!0,c.exports}i.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return i.d(a,{a}),a},i.d=(s,a)=>{for(var c in a)i.o(a,c)&&!i.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:a[c]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var o={};return(()=>{i.r(o),i.d(o,{BASIC_FULL_HD_LANDSCAPE:()=>Dm,BASIC_FULL_HD_PORTRAIT:()=>Zn,BASIC_LANDSCAPE:()=>kd,BASIC_PORTRAIT:()=>Am,BroadcastClientError:()=>Ct,BroadcastClientEvents:()=>Ar,ConnectionState:()=>gt,Errors:()=>f,InitialLayerPreference:()=>Ql,JitterBufferMinDelay:()=>Ei,LOG_LEVEL:()=>Tn,LocalStageStream:()=>L0,LocalStageStreamEvents:()=>xs,LogLevels:()=>Tn,RemoteStageStream:()=>cf,RemoteStageStreamEvents:()=>ou,STAGE_MAX_AUDIO_BITRATE_KBPS:()=>zc,STAGE_MAX_AUDIO_BITRATE_KBPS_DEFAULT:()=>ng,STAGE_MAX_BITRATE:()=>ps,STAGE_MAX_FRAMERATE:()=>Xa,STAGE_MIN_AUDIO_BITRATE_KBPS:()=>Vd,STAGE_MIN_BITRATE:()=>$c,STAGE_MIN_FRAMERATE:()=>Wh,STANDARD_LANDSCAPE:()=>Gn,STANDARD_PORTRAIT:()=>Mm,Stage:()=>sp,StageConnectionState:()=>Wn,StageErrorCategory:()=>ba,StageErrorCode:()=>On,StageEvents:()=>jn,StageLeftReason:()=>qn,StageParticipantPublishState:()=>Or,StageParticipantSubscribeState:()=>ci,StageStream:()=>jg,StageStreamLayerSelectedReason:()=>su,StreamType:()=>me,SubscribeType:()=>Pi,__version:()=>Wl,create:()=>qm,default:()=>Pr,isSupported:()=>fo});var s={};i.r(s),i.d(s,{fixNegotiationNeeded:()=>Q,shimAddTrackRemoveTrack:()=>ve,shimAddTrackRemoveTrackWithNative:()=>Se,shimGetDisplayMedia:()=>X,shimGetSendersWithDtmf:()=>ee,shimGetStats:()=>ce,shimGetUserMedia:()=>q,shimMediaStream:()=>J,shimOnTrack:()=>G,shimPeerConnection:()=>Y,shimSenderReceiverGetStats:()=>xe});var a={};i.r(a),i.d(a,{shimAddTransceiver:()=>lt,shimCreateAnswer:()=>Bt,shimCreateOffer:()=>Jt,shimGetDisplayMedia:()=>fe,shimGetParameters:()=>Ut,shimGetUserMedia:()=>ne,shimOnTrack:()=>Te,shimPeerConnection:()=>Ge,shimRTCDataChannel:()=>Ye,shimReceiverGetStats:()=>bt,shimRemoveStream:()=>Gt,shimSenderGetStats:()=>Fe});var c={};i.r(c),i.d(c,{shimAudioContext:()=>Ce,shimCallbacksAPI:()=>Xn,shimConstraints:()=>jr,shimCreateOfferLegacy:()=>pe,shimGetUserMedia:()=>ut,shimLocalStreamsAPI:()=>qt,shimRTCIceServerUrls:()=>Li,shimRemoteStreamsAPI:()=>Un,shimTrackEventTransceiver:()=>Z});var l={};i.r(l),i.d(l,{removeExtmapAllowMixed:()=>_n,shimAddIceCandidateNullOrEmpty:()=>Qr,shimConnectionState:()=>wt,shimMaxMessageSize:()=>De,shimParameterlessSetLocalDescription:()=>fi,shimRTCIceCandidate:()=>de,shimRTCIceCandidateRelayProtocol:()=>Re,shimSendThrowTypeError:()=>rt});var f={};i.r(f),i.d(f,{ADD_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>Ac,ADD_DEVICE_COMPOSITION_MISSING_ERROR:()=>_d,ADD_DEVICE_CONSTRAINTS_ERROR:()=>Oe,ADD_DEVICE_DEVICE_ERROR:()=>Nl,ADD_DEVICE_NAME_EXISTS_ERROR:()=>Il,ADD_DEVICE_NAME_MISSING_ERROR:()=>ue,ADD_DEVICE_UNSUPPORTED:()=>_e,BROADCAST_CONFIGURATION_ERROR:()=>Jn,BROADCAST_ERROR:()=>yh,CAMERA_ERROR:()=>Sd,CLIENT_INVALID_ERROR:()=>bh,EXCHANGE_POSITION_DEVICE_NOT_FOUND_ERROR:()=>dt,FAILED_TO_ADD_IMAGE_ERROR:()=>Ze,INGEST_ENDPOINT_TYPE_ERROR:()=>Fi,INGEST_ENDPOINT_URL_ERROR:()=>wd,INPUT_ERROR:()=>la,INVALID_STREAM_KEY:()=>wn,LOGGER_TYPE_ERROR:()=>Nm,LOG_LEVEL_TYPE_ERROR:()=>Ed,NETWORK_RECONNECT_CONFIGURATION_ERROR:()=>Im,NETWORK_RECONNECT_CONFIGURATION_INVALID_TIMEOUT_ERROR:()=>xh,PEER_CONNECTION_ERROR:()=>Tt,PEER_SETUP_ERROR:()=>mt,REMOVE_DEVICE_NOT_FOUND_ERROR:()=>ze,REMOVE_IMAGE_NOT_FOUND_ERROR:()=>Zt,STAGE_TOKEN_TYPE_ERROR:()=>jl,STAGE_WHIP_OVERRIDE_ERROR:()=>qy,STREAM_CONFIGURATION_ERROR:()=>Bn,STREAM_KEY_INVALID_CHAR_ERROR:()=>Sh,UPDATE_VIDEO_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>an,UPDATE_VIDEO_DEVICE_COMPOSITION_MISSING_ERROR:()=>sr,UPDATE_VIDEO_DEVICE_COMPOSITION_NAME_NOT_FOUND_ERROR:()=>$t});var p={};i.r(p),i.d(p,{BASIC_FULL_HD_LANDSCAPE:()=>Dm,BASIC_FULL_HD_PORTRAIT:()=>Zn,BASIC_LANDSCAPE:()=>kd,BASIC_PORTRAIT:()=>Am,BroadcastClientError:()=>Ct,BroadcastClientEvents:()=>Ar,ConnectionState:()=>gt,Errors:()=>f,LOG_LEVEL:()=>Tn,LogLevels:()=>Tn,STANDARD_LANDSCAPE:()=>Gn,STANDARD_PORTRAIT:()=>Mm,__version:()=>Wl,create:()=>qm,isSupported:()=>fo});let m=!0,E=!0;function x(S,h,g){const b=S.match(h);return b&&b.length>=g&&parseInt(b[g],10)}function y(S,h,g){if(!S.RTCPeerConnection)return;const b=S.RTCPeerConnection.prototype,T=b.addEventListener;b.addEventListener=function(N,M){if(N!==h)return T.apply(this,arguments);const L=j=>{const F=g(j);F&&(M.handleEvent?M.handleEvent(F):M(F))};return this._eventMap=this._eventMap||{},this._eventMap[h]||(this._eventMap[h]=new Map),this._eventMap[h].set(M,L),T.apply(this,[N,L])};const O=b.removeEventListener;b.removeEventListener=function(N,M){if(N!==h||!this._eventMap||!this._eventMap[h])return O.apply(this,arguments);if(!this._eventMap[h].has(M))return O.apply(this,arguments);const L=this._eventMap[h].get(M);return this._eventMap[h].delete(M),this._eventMap[h].size===0&&delete this._eventMap[h],Object.keys(this._eventMap).length===0&&delete this._eventMap,O.apply(this,[N,L])},Object.defineProperty(b,"on"+h,{get(){return this["_on"+h]},set(N){this["_on"+h]&&(this.removeEventListener(h,this["_on"+h]),delete this["_on"+h]),N&&this.addEventListener(h,this["_on"+h]=N)},enumerable:!0,configurable:!0})}function w(S){return typeof S!="boolean"?new Error("Argument type: "+typeof S+". Please use a boolean."):(m=S,S?"adapter.js logging disabled":"adapter.js logging enabled")}function R(S){return typeof S!="boolean"?new Error("Argument type: "+typeof S+". Please use a boolean."):(E=!S,"adapter.js deprecation warnings "+(S?"disabled":"enabled"))}function _(){if(typeof window=="object"){if(m)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function C(S,h){E&&console.warn(S+" is deprecated, please use "+h+" instead.")}function I(S){return Object.prototype.toString.call(S)==="[object Object]"}function A(S){return I(S)?Object.keys(S).reduce(function(h,g){const b=I(S[g]),T=b?A(S[g]):S[g],O=b&&!Object.keys(T).length;return T===void 0||O?h:Object.assign(h,{[g]:T})},{}):S}function U(S,h,g){h&&!g.has(h.id)&&(g.set(h.id,h),Object.keys(h).forEach(b=>{b.endsWith("Id")?U(S,S.get(h[b]),g):b.endsWith("Ids")&&h[b].forEach(T=>{U(S,S.get(T),g)})}))}function $(S,h,g){const b=g?"outbound-rtp":"inbound-rtp",T=new Map;if(h===null)return T;const O=[];return S.forEach(N=>{N.type==="track"&&N.trackIdentifier===h.id&&O.push(N)}),O.forEach(N=>{S.forEach(M=>{M.type===b&&M.trackId===N.id&&U(S,M,T)})}),T}const V=_;function q(S,h){const g=S&&S.navigator;if(!g.mediaDevices)return;const b=function(N){if(typeof N!="object"||N.mandatory||N.optional)return N;const M={};return Object.keys(N).forEach(L=>{if(L==="require"||L==="advanced"||L==="mediaSource")return;const j=typeof N[L]=="object"?N[L]:{ideal:N[L]};j.exact!==void 0&&typeof j.exact=="number"&&(j.min=j.max=j.exact);const F=function(B,W){return B?B+W.charAt(0).toUpperCase()+W.slice(1):W==="deviceId"?"sourceId":W};if(j.ideal!==void 0){M.optional=M.optional||[];let B={};typeof j.ideal=="number"?(B[F("min",L)]=j.ideal,M.optional.push(B),B={},B[F("max",L)]=j.ideal,M.optional.push(B)):(B[F("",L)]=j.ideal,M.optional.push(B))}j.exact!==void 0&&typeof j.exact!="number"?(M.mandatory=M.mandatory||{},M.mandatory[F("",L)]=j.exact):["min","max"].forEach(B=>{j[B]!==void 0&&(M.mandatory=M.mandatory||{},M.mandatory[F(B,L)]=j[B])})}),N.advanced&&(M.optional=(M.optional||[]).concat(N.advanced)),M},T=function(N,M){if(h.version>=61)return M(N);if((N=JSON.parse(JSON.stringify(N)))&&typeof N.audio=="object"){const L=function(j,F,B){F in j&&!(B in j)&&(j[B]=j[F],delete j[F])};L((N=JSON.parse(JSON.stringify(N))).audio,"autoGainControl","googAutoGainControl"),L(N.audio,"noiseSuppression","googNoiseSuppression"),N.audio=b(N.audio)}if(N&&typeof N.video=="object"){let L=N.video.facingMode;L=L&&(typeof L=="object"?L:{ideal:L});const j=h.version<66;if(L&&(L.exact==="user"||L.exact==="environment"||L.ideal==="user"||L.ideal==="environment")&&(!g.mediaDevices.getSupportedConstraints||!g.mediaDevices.getSupportedConstraints().facingMode||j)){let F;if(delete N.video.facingMode,L.exact==="environment"||L.ideal==="environment"?F=["back","rear"]:L.exact!=="user"&&L.ideal!=="user"||(F=["front"]),F)return g.mediaDevices.enumerateDevices().then(B=>{let W=(B=B.filter(ie=>ie.kind==="videoinput")).find(ie=>F.some(be=>ie.label.toLowerCase().includes(be)));return!W&&B.length&&F.includes("back")&&(W=B[B.length-1]),W&&(N.video.deviceId=L.exact?{exact:W.deviceId}:{ideal:W.deviceId}),N.video=b(N.video),V("chrome: "+JSON.stringify(N)),M(N)})}N.video=b(N.video)}return V("chrome: "+JSON.stringify(N)),M(N)},O=function(N){return h.version>=64?N:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[N.name]||N.name,message:N.message,constraint:N.constraint||N.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(g.getUserMedia=(function(N,M,L){T(N,j=>{g.webkitGetUserMedia(j,M,F=>{L&&L(O(F))})})}).bind(g),g.mediaDevices.getUserMedia){const N=g.mediaDevices.getUserMedia.bind(g.mediaDevices);g.mediaDevices.getUserMedia=function(M){return T(M,L=>N(L).then(j=>{if(L.audio&&!j.getAudioTracks().length||L.video&&!j.getVideoTracks().length)throw j.getTracks().forEach(F=>{F.stop()}),new DOMException("","NotFoundError");return j},j=>Promise.reject(O(j))))}}}function X(S,h){S.navigator.mediaDevices&&"getDisplayMedia"in S.navigator.mediaDevices||S.navigator.mediaDevices&&(typeof h=="function"?S.navigator.mediaDevices.getDisplayMedia=function(g){return h(g).then(b=>{const T=g.video&&g.video.width,O=g.video&&g.video.height,N=g.video&&g.video.frameRate;return g.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:b,maxFrameRate:N||3}},T&&(g.video.mandatory.maxWidth=T),O&&(g.video.mandatory.maxHeight=O),S.navigator.mediaDevices.getUserMedia(g)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function J(S){S.MediaStream=S.MediaStream||S.webkitMediaStream}function G(S){if(typeof S=="object"&&S.RTCPeerConnection&&!("ontrack"in S.RTCPeerConnection.prototype)){Object.defineProperty(S.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(g){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=g)},enumerable:!0,configurable:!0});const h=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=g=>{g.stream.addEventListener("addtrack",b=>{let T;T=S.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.track.id):{track:b.track};const O=new Event("track");O.track=b.track,O.receiver=T,O.transceiver={receiver:T},O.streams=[g.stream],this.dispatchEvent(O)}),g.stream.getTracks().forEach(b=>{let T;T=S.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(N=>N.track&&N.track.id===b.id):{track:b};const O=new Event("track");O.track=b,O.receiver=T,O.transceiver={receiver:T},O.streams=[g.stream],this.dispatchEvent(O)})},this.addEventListener("addstream",this._ontrackpoly)),h.apply(this,arguments)}}else y(S,"track",h=>(h.transceiver||Object.defineProperty(h,"transceiver",{value:{receiver:h.receiver}}),h))}function ee(S){if(typeof S=="object"&&S.RTCPeerConnection&&!("getSenders"in S.RTCPeerConnection.prototype)&&"createDTMFSender"in S.RTCPeerConnection.prototype){const h=function(T,O){return{track:O,get dtmf(){return this._dtmf===void 0&&(O.kind==="audio"?this._dtmf=T.createDTMFSender(O):this._dtmf=null),this._dtmf},_pc:T}};if(!S.RTCPeerConnection.prototype.getSenders){S.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const T=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addTrack=function(N,M){let L=T.apply(this,arguments);return L||(L=h(this,N),this._senders.push(L)),L};const O=S.RTCPeerConnection.prototype.removeTrack;S.RTCPeerConnection.prototype.removeTrack=function(N){O.apply(this,arguments);const M=this._senders.indexOf(N);M!==-1&&this._senders.splice(M,1)}}const g=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(T){this._senders=this._senders||[],g.apply(this,[T]),T.getTracks().forEach(O=>{this._senders.push(h(this,O))})};const b=S.RTCPeerConnection.prototype.removeStream;S.RTCPeerConnection.prototype.removeStream=function(T){this._senders=this._senders||[],b.apply(this,[T]),T.getTracks().forEach(O=>{const N=this._senders.find(M=>M.track===O);N&&this._senders.splice(this._senders.indexOf(N),1)})}}else if(typeof S=="object"&&S.RTCPeerConnection&&"getSenders"in S.RTCPeerConnection.prototype&&"createDTMFSender"in S.RTCPeerConnection.prototype&&S.RTCRtpSender&&!("dtmf"in S.RTCRtpSender.prototype)){const h=S.RTCPeerConnection.prototype.getSenders;S.RTCPeerConnection.prototype.getSenders=function(){const g=h.apply(this,[]);return g.forEach(b=>b._pc=this),g},Object.defineProperty(S.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ce(S){if(!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){const[g,b,T]=arguments;if(arguments.length>0&&typeof g=="function")return h.apply(this,arguments);if(h.length===0&&(arguments.length===0||typeof g!="function"))return h.apply(this,[]);const O=function(M){const L={};return M.result().forEach(j=>{const F={id:j.id,timestamp:j.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[j.type]||j.type};j.names().forEach(B=>{F[B]=j.stat(B)}),L[F.id]=F}),L},N=function(M){return new Map(Object.keys(M).map(L=>[L,M[L]]))};if(arguments.length>=2){const M=function(L){b(N(O(L)))};return h.apply(this,[M,g])}return new Promise((M,L)=>{h.apply(this,[function(j){M(N(O(j)))},L])}).then(b,T)}}function xe(S){if(!(typeof S=="object"&&S.RTCPeerConnection&&S.RTCRtpSender&&S.RTCRtpReceiver))return;if(!("getStats"in S.RTCRtpSender.prototype)){const g=S.RTCPeerConnection.prototype.getSenders;g&&(S.RTCPeerConnection.prototype.getSenders=function(){const T=g.apply(this,[]);return T.forEach(O=>O._pc=this),T});const b=S.RTCPeerConnection.prototype.addTrack;b&&(S.RTCPeerConnection.prototype.addTrack=function(){const T=b.apply(this,arguments);return T._pc=this,T}),S.RTCRtpSender.prototype.getStats=function(){const T=this;return this._pc.getStats().then(O=>$(O,T.track,!0))}}if(!("getStats"in S.RTCRtpReceiver.prototype)){const g=S.RTCPeerConnection.prototype.getReceivers;g&&(S.RTCPeerConnection.prototype.getReceivers=function(){const b=g.apply(this,[]);return b.forEach(T=>T._pc=this),b}),y(S,"track",b=>(b.receiver._pc=b.srcElement,b)),S.RTCRtpReceiver.prototype.getStats=function(){const b=this;return this._pc.getStats().then(T=>$(T,b.track,!1))}}if(!("getStats"in S.RTCRtpSender.prototype)||!("getStats"in S.RTCRtpReceiver.prototype))return;const h=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof S.MediaStreamTrack){const g=arguments[0];let b,T,O;return this.getSenders().forEach(N=>{N.track===g&&(b?O=!0:b=N)}),this.getReceivers().forEach(N=>(N.track===g&&(T?O=!0:T=N),N.track===g)),O||b&&T?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):b?b.getStats():T?T.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return h.apply(this,arguments)}}function Se(S){S.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(O=>this._shimmedLocalStreams[O][0])};const h=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addTrack=function(O,N){if(!N)return h.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const M=h.apply(this,arguments);return this._shimmedLocalStreams[N.id]?this._shimmedLocalStreams[N.id].indexOf(M)===-1&&this._shimmedLocalStreams[N.id].push(M):this._shimmedLocalStreams[N.id]=[N,M],M};const g=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(O){this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(L=>{if(this.getSenders().find(j=>j.track===L))throw new DOMException("Track already exists.","InvalidAccessError")});const N=this.getSenders();g.apply(this,arguments);const M=this.getSenders().filter(L=>N.indexOf(L)===-1);this._shimmedLocalStreams[O.id]=[O].concat(M)};const b=S.RTCPeerConnection.prototype.removeStream;S.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],b.apply(this,arguments)};const T=S.RTCPeerConnection.prototype.removeTrack;S.RTCPeerConnection.prototype.removeTrack=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(N=>{const M=this._shimmedLocalStreams[N].indexOf(O);M!==-1&&this._shimmedLocalStreams[N].splice(M,1),this._shimmedLocalStreams[N].length===1&&delete this._shimmedLocalStreams[N]}),T.apply(this,arguments)}}function ve(S,h){if(!S.RTCPeerConnection)return;if(S.RTCPeerConnection.prototype.addTrack&&h.version>=65)return Se(S);const g=S.RTCPeerConnection.prototype.getLocalStreams;S.RTCPeerConnection.prototype.getLocalStreams=function(){const L=g.apply(this);return this._reverseStreams=this._reverseStreams||{},L.map(j=>this._reverseStreams[j.id])};const b=S.RTCPeerConnection.prototype.addStream;S.RTCPeerConnection.prototype.addStream=function(L){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},L.getTracks().forEach(j=>{if(this.getSenders().find(F=>F.track===j))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[L.id]){const j=new S.MediaStream(L.getTracks());this._streams[L.id]=j,this._reverseStreams[j.id]=L,L=j}b.apply(this,[L])};const T=S.RTCPeerConnection.prototype.removeStream;function O(L,j){let F=j.sdp;return Object.keys(L._reverseStreams||[]).forEach(B=>{const W=L._reverseStreams[B],ie=L._streams[W.id];F=F.replace(new RegExp(ie.id,"g"),W.id)}),new RTCSessionDescription({type:j.type,sdp:F})}S.RTCPeerConnection.prototype.removeStream=function(L){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},T.apply(this,[this._streams[L.id]||L]),delete this._reverseStreams[this._streams[L.id]?this._streams[L.id].id:L.id],delete this._streams[L.id]},S.RTCPeerConnection.prototype.addTrack=function(L,j){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const F=[].slice.call(arguments,1);if(F.length!==1||!F[0].getTracks().find(W=>W===L))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(W=>W.track===L))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const B=this._streams[j.id];if(B)B.addTrack(L),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const W=new S.MediaStream([L]);this._streams[j.id]=W,this._reverseStreams[W.id]=j,this.addStream(W)}return this.getSenders().find(W=>W.track===L)},["createOffer","createAnswer"].forEach(function(L){const j=S.RTCPeerConnection.prototype[L],F={[L](){const B=arguments;return arguments.length&&typeof arguments[0]=="function"?j.apply(this,[W=>{const ie=O(this,W);B[0].apply(null,[ie])},W=>{B[1]&&B[1].apply(null,W)},arguments[2]]):j.apply(this,arguments).then(W=>O(this,W))}};S.RTCPeerConnection.prototype[L]=F[L]});const N=S.RTCPeerConnection.prototype.setLocalDescription;S.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(L,j){let F=j.sdp;return Object.keys(L._reverseStreams||[]).forEach(B=>{const W=L._reverseStreams[B],ie=L._streams[W.id];F=F.replace(new RegExp(W.id,"g"),ie.id)}),new RTCSessionDescription({type:j.type,sdp:F})}(this,arguments[0]),N.apply(this,arguments)):N.apply(this,arguments)};const M=Object.getOwnPropertyDescriptor(S.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(S.RTCPeerConnection.prototype,"localDescription",{get(){const L=M.get.apply(this);return L.type===""?L:O(this,L)}}),S.RTCPeerConnection.prototype.removeTrack=function(L){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!L._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(L._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let j;this._streams=this._streams||{},Object.keys(this._streams).forEach(F=>{this._streams[F].getTracks().find(B=>L.track===B)&&(j=this._streams[F])}),j&&(j.getTracks().length===1?this.removeStream(this._reverseStreams[j.id]):j.removeTrack(L.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Y(S,h){!S.RTCPeerConnection&&S.webkitRTCPeerConnection&&(S.RTCPeerConnection=S.webkitRTCPeerConnection),S.RTCPeerConnection&&h.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(g){const b=S.RTCPeerConnection.prototype[g],T={[g](){return arguments[0]=new(g==="addIceCandidate"?S.RTCIceCandidate:S.RTCSessionDescription)(arguments[0]),b.apply(this,arguments)}};S.RTCPeerConnection.prototype[g]=T[g]})}function Q(S,h){y(S,"negotiationneeded",g=>{const b=g.target;if(!(h.version<72||b.getConfiguration&&b.getConfiguration().sdpSemantics==="plan-b")||b.signalingState==="stable")return g})}function ne(S,h){const g=S&&S.navigator,b=S&&S.MediaStreamTrack;if(g.getUserMedia=function(T,O,N){C("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),g.mediaDevices.getUserMedia(T).then(O,N)},!(h.version>55&&"autoGainControl"in g.mediaDevices.getSupportedConstraints())){const T=function(N,M,L){M in N&&!(L in N)&&(N[L]=N[M],delete N[M])},O=g.mediaDevices.getUserMedia.bind(g.mediaDevices);if(g.mediaDevices.getUserMedia=function(N){return typeof N=="object"&&typeof N.audio=="object"&&(N=JSON.parse(JSON.stringify(N)),T(N.audio,"autoGainControl","mozAutoGainControl"),T(N.audio,"noiseSuppression","mozNoiseSuppression")),O(N)},b&&b.prototype.getSettings){const N=b.prototype.getSettings;b.prototype.getSettings=function(){const M=N.apply(this,arguments);return T(M,"mozAutoGainControl","autoGainControl"),T(M,"mozNoiseSuppression","noiseSuppression"),M}}if(b&&b.prototype.applyConstraints){const N=b.prototype.applyConstraints;b.prototype.applyConstraints=function(M){return this.kind==="audio"&&typeof M=="object"&&(M=JSON.parse(JSON.stringify(M)),T(M,"autoGainControl","mozAutoGainControl"),T(M,"noiseSuppression","mozNoiseSuppression")),N.apply(this,[M])}}}}function fe(S,h){S.navigator.mediaDevices&&"getDisplayMedia"in S.navigator.mediaDevices||S.navigator.mediaDevices&&(S.navigator.mediaDevices.getDisplayMedia=function(g){if(!g||!g.video){const b=new DOMException("getDisplayMedia without video constraints is undefined");return b.name="NotFoundError",b.code=8,Promise.reject(b)}return g.video===!0?g.video={mediaSource:h}:g.video.mediaSource=h,S.navigator.mediaDevices.getUserMedia(g)})}function Te(S){typeof S=="object"&&S.RTCTrackEvent&&"receiver"in S.RTCTrackEvent.prototype&&!("transceiver"in S.RTCTrackEvent.prototype)&&Object.defineProperty(S.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ge(S,h){if(typeof S!="object"||!S.RTCPeerConnection&&!S.mozRTCPeerConnection)return;!S.RTCPeerConnection&&S.mozRTCPeerConnection&&(S.RTCPeerConnection=S.mozRTCPeerConnection),h.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(T){const O=S.RTCPeerConnection.prototype[T],N={[T](){return arguments[0]=new(T==="addIceCandidate"?S.RTCIceCandidate:S.RTCSessionDescription)(arguments[0]),O.apply(this,arguments)}};S.RTCPeerConnection.prototype[T]=N[T]});const g={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},b=S.RTCPeerConnection.prototype.getStats;S.RTCPeerConnection.prototype.getStats=function(){const[T,O,N]=arguments;return b.apply(this,[T||null]).then(M=>{if(h.version<53&&!O)try{M.forEach(L=>{L.type=g[L.type]||L.type})}catch(L){if(L.name!=="TypeError")throw L;M.forEach((j,F)=>{M.set(F,Object.assign({},j,{type:g[j.type]||j.type}))})}return M}).then(O,N)}}function Fe(S){if(typeof S!="object"||!S.RTCPeerConnection||!S.RTCRtpSender||S.RTCRtpSender&&"getStats"in S.RTCRtpSender.prototype)return;const h=S.RTCPeerConnection.prototype.getSenders;h&&(S.RTCPeerConnection.prototype.getSenders=function(){const b=h.apply(this,[]);return b.forEach(T=>T._pc=this),b});const g=S.RTCPeerConnection.prototype.addTrack;g&&(S.RTCPeerConnection.prototype.addTrack=function(){const b=g.apply(this,arguments);return b._pc=this,b}),S.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function bt(S){if(typeof S!="object"||!S.RTCPeerConnection||!S.RTCRtpSender||S.RTCRtpSender&&"getStats"in S.RTCRtpReceiver.prototype)return;const h=S.RTCPeerConnection.prototype.getReceivers;h&&(S.RTCPeerConnection.prototype.getReceivers=function(){const g=h.apply(this,[]);return g.forEach(b=>b._pc=this),g}),y(S,"track",g=>(g.receiver._pc=g.srcElement,g)),S.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Gt(S){S.RTCPeerConnection&&!("removeStream"in S.RTCPeerConnection.prototype)&&(S.RTCPeerConnection.prototype.removeStream=function(h){C("removeStream","removeTrack"),this.getSenders().forEach(g=>{g.track&&h.getTracks().includes(g.track)&&this.removeTrack(g)})})}function Ye(S){S.DataChannel&&!S.RTCDataChannel&&(S.RTCDataChannel=S.DataChannel)}function lt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.addTransceiver;h&&(S.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let g=arguments[1]&&arguments[1].sendEncodings;g===void 0&&(g=[]),g=[...g];const b=g.length>0;b&&g.forEach(O=>{if("rid"in O&&!/^[a-z0-9]{0,16}$/i.test(O.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in O&&!(parseFloat(O.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in O&&!(parseFloat(O.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const T=h.apply(this,arguments);if(b){const{sender:O}=T,N=O.getParameters();(!("encodings"in N)||N.encodings.length===1&&Object.keys(N.encodings[0]).length===0)&&(N.encodings=g,O.sendEncodings=g,this.setParametersPromises.push(O.setParameters(N).then(()=>{delete O.sendEncodings}).catch(()=>{delete O.sendEncodings})))}return T})}function Ut(S){if(typeof S!="object"||!S.RTCRtpSender)return;const h=S.RTCRtpSender.prototype.getParameters;h&&(S.RTCRtpSender.prototype.getParameters=function(){const g=h.apply(this,arguments);return"encodings"in g||(g.encodings=[].concat(this.sendEncodings||[{}])),g})}function Jt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.createOffer;S.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>h.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):h.apply(this,arguments)}}function Bt(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype.createAnswer;S.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>h.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):h.apply(this,arguments)}}function qt(S){if(typeof S=="object"&&S.RTCPeerConnection){if("getLocalStreams"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in S.RTCPeerConnection.prototype)){const h=S.RTCPeerConnection.prototype.addTrack;S.RTCPeerConnection.prototype.addStream=function(g){this._localStreams||(this._localStreams=[]),this._localStreams.includes(g)||this._localStreams.push(g),g.getAudioTracks().forEach(b=>h.call(this,b,g)),g.getVideoTracks().forEach(b=>h.call(this,b,g))},S.RTCPeerConnection.prototype.addTrack=function(g,...b){return b&&b.forEach(T=>{this._localStreams?this._localStreams.includes(T)||this._localStreams.push(T):this._localStreams=[T]}),h.apply(this,arguments)}}"removeStream"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.removeStream=function(h){this._localStreams||(this._localStreams=[]);const g=this._localStreams.indexOf(h);if(g===-1)return;this._localStreams.splice(g,1);const b=h.getTracks();this.getSenders().forEach(T=>{b.includes(T.track)&&this.removeTrack(T)})})}}function Un(S){if(typeof S=="object"&&S.RTCPeerConnection&&("getRemoteStreams"in S.RTCPeerConnection.prototype||(S.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in S.RTCPeerConnection.prototype))){Object.defineProperty(S.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(g){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=g),this.addEventListener("track",this._onaddstreampoly=b=>{b.streams.forEach(T=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(T))return;this._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,this.dispatchEvent(O)})})}});const h=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){const g=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(b){b.streams.forEach(T=>{if(g._remoteStreams||(g._remoteStreams=[]),g._remoteStreams.indexOf(T)>=0)return;g._remoteStreams.push(T);const O=new Event("addstream");O.stream=T,g.dispatchEvent(O)})}),h.apply(g,arguments)}}}function Xn(S){if(typeof S!="object"||!S.RTCPeerConnection)return;const h=S.RTCPeerConnection.prototype,g=h.createOffer,b=h.createAnswer,T=h.setLocalDescription,O=h.setRemoteDescription,N=h.addIceCandidate;h.createOffer=function(L,j){const F=arguments.length>=2?arguments[2]:arguments[0],B=g.apply(this,[F]);return j?(B.then(L,j),Promise.resolve()):B},h.createAnswer=function(L,j){const F=arguments.length>=2?arguments[2]:arguments[0],B=b.apply(this,[F]);return j?(B.then(L,j),Promise.resolve()):B};let M=function(L,j,F){const B=T.apply(this,[L]);return F?(B.then(j,F),Promise.resolve()):B};h.setLocalDescription=M,M=function(L,j,F){const B=O.apply(this,[L]);return F?(B.then(j,F),Promise.resolve()):B},h.setRemoteDescription=M,M=function(L,j,F){const B=N.apply(this,[L]);return F?(B.then(j,F),Promise.resolve()):B},h.addIceCandidate=M}function ut(S){const h=S&&S.navigator;if(h.mediaDevices&&h.mediaDevices.getUserMedia){const g=h.mediaDevices,b=g.getUserMedia.bind(g);h.mediaDevices.getUserMedia=T=>b(jr(T))}!h.getUserMedia&&h.mediaDevices&&h.mediaDevices.getUserMedia&&(h.getUserMedia=(function(g,b,T){h.mediaDevices.getUserMedia(g).then(b,T)}).bind(h))}function jr(S){return S&&S.video!==void 0?Object.assign({},S,{video:A(S.video)}):S}function Li(S){if(!S.RTCPeerConnection)return;const h=S.RTCPeerConnection;S.RTCPeerConnection=function(g,b){if(g&&g.iceServers){const T=[];for(let O=0;O<g.iceServers.length;O++){let N=g.iceServers[O];N.urls===void 0&&N.url?(C("RTCIceServer.url","RTCIceServer.urls"),N=JSON.parse(JSON.stringify(N)),N.urls=N.url,delete N.url,T.push(N)):T.push(g.iceServers[O])}g.iceServers=T}return new h(g,b)},S.RTCPeerConnection.prototype=h.prototype,"generateCertificate"in h&&Object.defineProperty(S.RTCPeerConnection,"generateCertificate",{get:()=>h.generateCertificate})}function Z(S){typeof S=="object"&&S.RTCTrackEvent&&"receiver"in S.RTCTrackEvent.prototype&&!("transceiver"in S.RTCTrackEvent.prototype)&&Object.defineProperty(S.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pe(S){const h=S.RTCPeerConnection.prototype.createOffer;S.RTCPeerConnection.prototype.createOffer=function(g){if(g){g.offerToReceiveAudio!==void 0&&(g.offerToReceiveAudio=!!g.offerToReceiveAudio);const b=this.getTransceivers().find(O=>O.receiver.track.kind==="audio");g.offerToReceiveAudio===!1&&b?b.direction==="sendrecv"?b.setDirection?b.setDirection("sendonly"):b.direction="sendonly":b.direction==="recvonly"&&(b.setDirection?b.setDirection("inactive"):b.direction="inactive"):g.offerToReceiveAudio!==!0||b||this.addTransceiver("audio",{direction:"recvonly"}),g.offerToReceiveVideo!==void 0&&(g.offerToReceiveVideo=!!g.offerToReceiveVideo);const T=this.getTransceivers().find(O=>O.receiver.track.kind==="video");g.offerToReceiveVideo===!1&&T?T.direction==="sendrecv"?T.setDirection?T.setDirection("sendonly"):T.direction="sendonly":T.direction==="recvonly"&&(T.setDirection?T.setDirection("inactive"):T.direction="inactive"):g.offerToReceiveVideo!==!0||T||this.addTransceiver("video",{direction:"recvonly"})}return h.apply(this,arguments)}}function Ce(S){typeof S!="object"||S.AudioContext||(S.AudioContext=S.webkitAudioContext)}var Qe=i(7963),re=i.n(Qe);function de(S){if(!S.RTCIceCandidate||S.RTCIceCandidate&&"foundation"in S.RTCIceCandidate.prototype)return;const h=S.RTCIceCandidate;S.RTCIceCandidate=function(g){if(typeof g=="object"&&g.candidate&&g.candidate.indexOf("a=")===0&&((g=JSON.parse(JSON.stringify(g))).candidate=g.candidate.substring(2)),g.candidate&&g.candidate.length){const b=new h(g),T=re().parseCandidate(g.candidate);for(const O in T)O in b||Object.defineProperty(b,O,{value:T[O]});return b.toJSON=function(){return{candidate:b.candidate,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex,usernameFragment:b.usernameFragment}},b}return new h(g)},S.RTCIceCandidate.prototype=h.prototype,y(S,"icecandidate",g=>(g.candidate&&Object.defineProperty(g,"candidate",{value:new S.RTCIceCandidate(g.candidate),writable:"false"}),g))}function Re(S){!S.RTCIceCandidate||S.RTCIceCandidate&&"relayProtocol"in S.RTCIceCandidate.prototype||y(S,"icecandidate",h=>{if(h.candidate){const g=re().parseCandidate(h.candidate.candidate);g.type==="relay"&&(h.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[g.priority>>24])}return h})}function De(S,h){if(!S.RTCPeerConnection)return;"sctp"in S.RTCPeerConnection.prototype||Object.defineProperty(S.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const g=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,h.browser==="chrome"&&h.version>=76){const{sdpSemantics:b}=this.getConfiguration();b==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(function(b){if(!b||!b.sdp)return!1;const T=re().splitSections(b.sdp);return T.shift(),T.some(O=>{const N=re().parseMLine(O);return N&&N.kind==="application"&&N.protocol.indexOf("SCTP")!==-1})}(arguments[0])){const b=function(L){const j=L.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(j===null||j.length<2)return-1;const F=parseInt(j[1],10);return F!=F?-1:F}(arguments[0]),T=function(L){let j=65536;return h.browser==="firefox"&&(j=h.version<57?L===-1?16384:2147483637:h.version<60?h.version===57?65535:65536:2147483637),j}(b),O=function(L,j){let F=65536;h.browser==="firefox"&&h.version===57&&(F=65535);const B=re().matchPrefix(L.sdp,"a=max-message-size:");return B.length>0?F=parseInt(B[0].substring(19),10):h.browser==="firefox"&&j!==-1&&(F=2147483637),F}(arguments[0],b);let N;N=T===0&&O===0?Number.POSITIVE_INFINITY:T===0||O===0?Math.max(T,O):Math.min(T,O);const M={};Object.defineProperty(M,"maxMessageSize",{get:()=>N}),this._sctp=M}return g.apply(this,arguments)}}function rt(S){if(!S.RTCPeerConnection||!("createDataChannel"in S.RTCPeerConnection.prototype))return;function h(b,T){const O=b.send;b.send=function(){const N=arguments[0],M=N.length||N.size||N.byteLength;if(b.readyState==="open"&&T.sctp&&M>T.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+T.sctp.maxMessageSize+" bytes)");return O.apply(b,arguments)}}const g=S.RTCPeerConnection.prototype.createDataChannel;S.RTCPeerConnection.prototype.createDataChannel=function(){const b=g.apply(this,arguments);return h(b,this),b},y(S,"datachannel",b=>(h(b.channel,b.target),b))}function wt(S){if(!S.RTCPeerConnection||"connectionState"in S.RTCPeerConnection.prototype)return;const h=S.RTCPeerConnection.prototype;Object.defineProperty(h,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(h,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(g){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),g&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=g)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(g=>{const b=h[g];h[g]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=T=>{const O=T.target;if(O._lastConnectionState!==O.connectionState){O._lastConnectionState=O.connectionState;const N=new Event("connectionstatechange",T);O.dispatchEvent(N)}return T},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),b.apply(this,arguments)}})}function _n(S,h){if(!S.RTCPeerConnection||h.browser==="chrome"&&h.version>=71||h.browser==="safari"&&h.version>=605)return;const g=S.RTCPeerConnection.prototype.setRemoteDescription;S.RTCPeerConnection.prototype.setRemoteDescription=function(b){if(b&&b.sdp&&b.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const T=b.sdp.split(`
`).filter(O=>O.trim()!=="a=extmap-allow-mixed").join(`
`);S.RTCSessionDescription&&b instanceof S.RTCSessionDescription?arguments[0]=new S.RTCSessionDescription({type:b.type,sdp:T}):b.sdp=T}return g.apply(this,arguments)}}function Qr(S,h){if(!S.RTCPeerConnection||!S.RTCPeerConnection.prototype)return;const g=S.RTCPeerConnection.prototype.addIceCandidate;g&&g.length!==0&&(S.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(h.browser==="chrome"&&h.version<78||h.browser==="firefox"&&h.version<68||h.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():g.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function fi(S,h){if(!S.RTCPeerConnection||!S.RTCPeerConnection.prototype)return;const g=S.RTCPeerConnection.prototype.setLocalDescription;g&&g.length!==0&&(S.RTCPeerConnection.prototype.setLocalDescription=function(){let b=arguments[0]||{};if(typeof b!="object"||b.type&&b.sdp)return g.apply(this,arguments);if(b={type:b.type,sdp:b.sdp},!b.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":b.type="offer";break;default:b.type="answer"}return b.sdp||b.type!=="offer"&&b.type!=="answer"?g.apply(this,[b]):(b.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(T=>g.apply(this,[T]))})}(function({window:S}={},h={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const g=_,b=function(O){const N={browser:null,version:null};if(O===void 0||!O.navigator||!O.navigator.userAgent)return N.browser="Not a browser.",N;const{navigator:M}=O;if(M.mozGetUserMedia)N.browser="firefox",N.version=x(M.userAgent,/Firefox\/(\d+)\./,1);else if(M.webkitGetUserMedia||O.isSecureContext===!1&&O.webkitRTCPeerConnection)N.browser="chrome",N.version=x(M.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!O.RTCPeerConnection||!M.userAgent.match(/AppleWebKit\/(\d+)\./))return N.browser="Not a supported browser.",N;N.browser="safari",N.version=x(M.userAgent,/AppleWebKit\/(\d+)\./,1),N.supportsUnifiedPlan=O.RTCRtpTransceiver&&"currentDirection"in O.RTCRtpTransceiver.prototype}return N}(S),T={browserDetails:b,commonShim:l,extractVersion:x,disableLog:w,disableWarnings:R,sdp:Qe};switch(b.browser){case"chrome":if(!s||!Y||!h.shimChrome)return g("Chrome shim is not included in this adapter release."),T;if(b.version===null)return g("Chrome shim can not determine version, not shimming."),T;g("adapter.js shimming chrome."),T.browserShim=s,Qr(S,b),fi(S),q(S,b),J(S),Y(S,b),G(S),ve(S,b),ee(S),ce(S),xe(S),Q(S,b),de(S),Re(S),wt(S),De(S,b),rt(S),_n(S,b);break;case"firefox":if(!a||!Ge||!h.shimFirefox)return g("Firefox shim is not included in this adapter release."),T;g("adapter.js shimming firefox."),T.browserShim=a,Qr(S,b),fi(S),ne(S,b),Ge(S,b),Te(S),Gt(S),Fe(S),bt(S),Ye(S),lt(S),Ut(S),Jt(S),Bt(S),de(S),wt(S),De(S,b),rt(S);break;case"safari":if(!c||!h.shimSafari)return g("Safari shim is not included in this adapter release."),T;g("adapter.js shimming safari."),T.browserShim=c,Qr(S,b),fi(S),Li(S),pe(S),Xn(S),qt(S),Un(S),Z(S),ut(S),Ce(S),de(S),Re(S),De(S,b),rt(S),_n(S,b);break;default:g("Unsupported browser!")}})({window:typeof window>"u"?void 0:window}),i(8630);const fo=()=>typeof RTCPeerConnection=="function";var Tn,kn;(function(S){S[S.TRACE=0]="TRACE",S[S.DEBUG=1]="DEBUG",S[S.INFO=2]="INFO",S[S.WARN=3]="WARN",S[S.ERROR=4]="ERROR",S[S.SILENT=5]="SILENT"})(Tn||(Tn={})),function(S){S.TIME="Time",S.WEBRTC="WebRTC",S.EMITTER="Emitter",S.MEDIA="Media",S.SUBSCRIPTION="StageSubscription",S.PUBLICATION="StagePublication",S.CONNECTION="StageConnection",S.SOCKET="StageSocket",S.BROADCAST_STAGE_CLIENT="BroadcastStageClient",S.STAGE="Stage",S.REMOTE_PARTICIPANT="RemoteParticipant",S.LOCAL_PARTICIPANT="LocalParticipant",S.CONFIGURATION="Configuration",S.REMOTE_PLAYBACK="RemotePlaybackController",S.REMOTE_STAGE_STREAM="RemoteStageStream"}(kn||(kn={}));const Fs=12e4,$a=3e5;class Ct extends Error{constructor({name:h,message:g,code:b,details:T,cause:O,params:N}){super(g),Error.captureStackTrace&&Error.captureStackTrace(this,Ct),this.name=h||"BroadcastClientError",this.message=g,this.code=b,this.details=T,this.cause=O,this.params=N}}const yh={name:"BroadcastError",code:1e3,message:"Unable to broadcast"},Sd={name:"CameraError",code:2e3,message:"Camera could not be captured"},la={name:"InputError",code:3e3,message:"Input could not be attached"},Nl={name:"AddDeviceError",code:4e3,message:"Device is missing"},Il={name:"AddDeviceNameExistsError",code:4001,message:"Name is already registered"},_d={name:"AddDeviceCompositionMissingError",code:4002,message:"VideoComposition is missing"},Ac={name:"AddDeviceCompositionIndexMissingError",code:4003,message:`VideoComposition's "index" property is missing`},ue={name:"AddDeviceNameMissingError",code:4004,message:"Name property is missing"},_e={name:"AddDeviceUnsupported",code:4005,message:"Unsupported device"},Oe={name:"AddDeviceConstraintsError",code:4006,message:"Constraints error"},ze={name:"RemoveDeviceNotFoundError",code:5e3,message:"Device not found"},Zt={name:"RemoveImageNotFoundError",code:6e3,message:"Image not found"},sr={name:"UpdateVideoDeviceCompositionMissingError",code:7e3,message:"VideoComposition is missing"},an={name:"UpdateVideoDeviceCompositionIndexMissingError",code:7001,message:`VideoComposition's "index" property is missing`},$t={name:"UpdateVideoDeviceCompositionNameMissingError",code:7002,message:"Video device with that name is not found"},dt={name:"ExchangePositionDeviceNotFoundError",code:8e3,message:"Device with that name is not found"},Ze={name:"FailedToAddImageError",code:9e3,message:"Failed to add image"},mt={name:"PeerSetupError",code:1e4,message:"Unexpected return value from setup request"},Tt={name:"PeerConnectionError",code:10001,message:"Peer connection has failed."},wn={name:"InvalidStreamKey",code:10003,message:"Invalid Stream Key."},Jn={name:"BroadcastConfigurationError",code:11e3,message:"Error when configuring broadcast client"},Bn={name:"StreamConfigurationError",code:12e3,message:"Error when configuring stream"},Fi={name:"IngestEndpointTypeError",code:13e3,message:"Ingest endpoint must be a string"},wd={name:"IngestEndpointUrlError",code:13001,message:"Ingest endpoint must be a valid https or rtmps URL"},Ed={name:"LogLevelTypeError",code:14e3,message:"Log Level must be a valid integer between [0..5]"},Nm={name:"LoggerTypeError",code:15e3,message:"Logger must be an object"},bh={name:"ClientInvalidError",code:16e3,message:"Client is no longer valid, possibly due to delete() invocation."},Im={name:"NetworkReconnectConfigurationError",code:17e3,message:"Error when configuring network reconnect"},xh={name:"NetworkReconnectConfigurationInvalidTimeoutError",code:17001,message:"Network reconnect timeout value must be a number between [10000, 300000]"},Sh={name:"StreamKeyInvalidCharError",code:18e3,message:"Streamkey must contain only [A-Za-z0-9_-] characters"},jl={name:"StageTokenTypeError",code:19e3,message:"Stage token must be a string"},qy={name:"StageWhipUrlOverrideError",code:19001,message:"Stage WHIP override URL must be a string starting with http"};var Al,Cd,Dl,Ml,Ll,Td,Rd,_h,jm,Fo=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)},Us=function(S,h,g,b,T){if(typeof h=="function"?S!==h||!T:!h.has(S))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h.set(S,g),g};const Fl=1920,Ky=1080,Rw=Tn.ERROR,kd={maxResolution:{width:852,height:480},maxFramerate:30,maxBitrate:1500},Am={maxResolution:{width:480,height:852},maxFramerate:30,maxBitrate:1500},Dm={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:3500},Zn={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:3500},Gn={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:8500},Mm={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:8500},Lm={reconnect:!1,timeout:Fs};function Yy(S){var h,g;if(typeof S!="string"&&S!==void 0)throw new Ct(Fi);if(S){if(S.startsWith("https"))return S;{const b=/(?<protocol>(rtmps|https):\/\/)?(?<id>.+)\.(?<environment>(?=\S*['-])([a-zA-Z'-]+))\.live-video\.net.*/.exec(S);if(((h=b==null?void 0:b.groups)===null||h===void 0?void 0:h.protocol)==="rtmps"&&console.warn("rtmps server url detected; please pass in the ingest endpoint (no rtmps:// protocol) instead"),(g=b==null?void 0:b.groups)===null||g===void 0?void 0:g.id)return`https://${b.groups.id}.webrtc.live-video.net:4443`;throw new Ct(wd)}}return""}class Qy{constructor(h,g,b=kd,T,O=Lm){this.LOG_LEVEL=Tn,this.BASIC_LANDSCAPE=kd,this.BASIC_PORTRAIT=Am,this.BASIC_FULL_HD_LANDSCAPE=Dm,this.BASIC_FULL_HD_PORTRAIT=Zn,this.STANDARD_LANDSCAPE=Gn,this.STANDARD_PORTRAIT=Mm,Al.set(this,void 0),Cd.set(this,void 0),Dl.set(this,kd),Ml.set(this,void 0),Ll.set(this,Lm),Td.set(this,N=>{if(!N)throw new Ct(Object.assign(Object.assign({},Bn),{details:"missing stream configuration"}));if(!(N.maxBitrate<=8500&&N.maxBitrate>=200))throw new Ct(Object.assign(Object.assign({},Bn),{details:"maxBitrate must be between 200 and 8500"}));if(!(N.maxFramerate<=60&&N.maxFramerate>=10))throw new Ct(Object.assign(Object.assign({},Bn),{details:"maxFramerate must be between 10 and 60"}));const M=N.maxResolution.width,L=N.maxResolution.height;if(M>Fl||L>Fl||M<160||L<160||M===Fl&&L>Ky||L===Fl&&M>Ky)throw new Ct(Object.assign(Object.assign({},Bn),{details:"maxResolution values must be between 1080x1920 or 1920x1080"}))}),Rd.set(this,N=>{if(!N)return;const M=Number(N),L=Number.isInteger(M),j=M>=Tn.TRACE,F=M<=Tn.SILENT;if(!L||!j||!F)throw new Ct(Ed)}),_h.set(this,N=>{if(N&&typeof N!="object")throw new Ct(Nm)}),jm.set(this,N=>{if(!N)return;if(typeof N!="object"||typeof N.reconnect!="boolean")throw new Ct(Im);const{timeout:M}=N;if(M!==void 0&&(Number.isNaN(M)||typeof M!="number"||M<1e4||M>$a))throw new Ct(xh)}),Fo(this,_h,"f").call(this,T),Fo(this,Rd,"f").call(this,g),Fo(this,Td,"f").call(this,b),Us(this,Al,h),Us(this,Cd,g),Us(this,Dl,b),Us(this,Ml,T),Us(this,Ll,O)}get ingestEndpoint(){return Fo(this,Al,"f")}set ingestEndpoint(h){Us(this,Al,Yy(h))}get streamConfig(){return Fo(this,Dl,"f")}set streamConfig(h){Fo(this,Td,"f").call(this,h),Us(this,Dl,h)}get logLevel(){return Fo(this,Cd,"f")}set logLevel(h){Fo(this,Rd,"f").call(this,h),Us(this,Cd,h)}get logger(){return Fo(this,Ml,"f")}set logger(h){Fo(this,_h,"f").call(this,h),Us(this,Ml,h)}get networkReconnectConfig(){return Fo(this,Ll,"f")}set networkReconnectConfig(h){Fo(this,jm,"f").call(this,h),Us(this,Ll,h)}}Al=new WeakMap,Cd=new WeakMap,Dl=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,Td=new WeakMap,Rd=new WeakMap,_h=new WeakMap,jm=new WeakMap;var ln,Xr=i(228),wh=i(6880);(function(S){S.PUBLISHED_VIDEO_STATS="ivs_broadcast_webrtc_published_video_stats",S.PUBLISHED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_published_video_stats_window",S.PUBLISHED_AUDIO_STATS="ivs_broadcast_webrtc_published_audio_stats",S.PUBLISHED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_published_audio_stats_window",S.SUBSCRIBED_VIDEO_STATS="ivs_broadcast_webrtc_subscribed_video_stats",S.SUBSCRIBED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_video_stats_window",S.SUBSCRIBED_AUDIO_STATS="ivs_broadcast_webrtc_subscribed_audio_stats",S.SUBSCRIBED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_audio_stats_window",S.PUBLISH="ivs_broadcast_multihost_publish",S.UNPUBLISH="ivs_broadcast_multihost_unpublish",S.SUBSCRIBE="ivs_broadcast_multihost_subscribe",S.UNSUBSCRIBE="ivs_broadcast_multihost_unsubscribe",S.PUBLISH_STARTED="ivs_broadcast_multihost_publish_started",S.PUBLISH_FAILED="ivs_broadcast_multihost_publish_failed",S.PUBLISH_ENDED="ivs_broadcast_multihost_publish_ended",S.STATE_UPDATED="ivs_broadcast_multihost_event_state_updated",S.SUBSCRIBE_STARTED="ivs_broadcast_multihost_subscribe_started",S.SUBSCRIBE_FAILED="ivs_broadcast_multihost_subscribe_failed",S.SUBSCRIBE_ENDED="ivs_broadcast_multihost_subscribe_ended",S.FIRST_FRAME="ivs_broadcast_multihost_first_frame",S.JOIN="ivs_broadcast_multihost_join",S.JOIN_ATTEMPT="ivs_broadcast_multihost_event_connect_attempt",S.JOIN_ATTEMPT_FAILED="ivs_broadcast_multihost_event_connect_failed",S.JOIN_ENDED="ivs_broadcast_multihost_join_ended",S.LEAVE="ivs_broadcast_multihost_leave",S.REASSIGNMENT_REQUEST="ivs_broadcast_multihost_reassignment_request",S.SERVER_REQUEST="ivs_broadcast_multihost_server_request",S.TRACE="ivs_broadcast_stage_trace",S.ERROR="ivs_broadcast_error",S.MINUTE="ivs_broadcast_multihost_minute",S.CONNECTION_STATE="ivs_broadcast_webrtc_connection_state",S.ICE_GATHERING_STATE="ivs_broadcast_webrtc_gathering_state",S.EDP_CONNECTED="ivs_broadcast_multihost_event_connected",S.EDP_DISCONNECTED="ivs_broadcast_multihost_event_disconnected",S.EDP_PONG="ivs_broadcast_multihost_edp_rtt",S.SIMULCAST_LAYER_INFO="ivs_broadcast_simulcast_layer_info",S.MULTIHOST_CONFIGURATION="ivs_broadcast_multihost_configuration",S.MULTIHOST_SUBSCRIBE_CONFIGURATION="ivs_broadcast_multihost_subscribe_configuration",S.PLAYBACK_LAYER_REQUEST="ivs_broadcast_multihost_playback_layer_request",S.PLAYBACK_LAYER_STATE="ivs_broadcast_multihost_playback_layer_state"})(ln||(ln={}));class sn{constructor(h,g,b,T){let O="unknown";if(g.stageARN&&g.stageARN.startsWith("arn:aws:ivs:")){const N=g.stageARN.split(":");N.length===6&&(O=N[4])}this.event=h,this.properties={client_time:new Date().toISOString(),customer_id:O,device_software:window.navigator.userAgent,multihost_id:g.stageARN,participant_id:g.participantID,participant_user_id:g.userID,platform:"web",sdk_version:"1.21.0",stage_arn:g.stageARN,trace_id:b.value},g.attrGsRole&&(this.properties.token_attribute_0=g.attrGsRole),g.attrGsSessionId&&(this.properties.token_attribute_1=g.attrGsSessionId),this.critical=T}}class Eh extends sn{constructor(h){super(ln.ERROR,h.token,h.traceId,!0),Object.assign(this.properties,{code:h.code,tag:h.tag,description:h.message,remote_participant_id:h.remoteParticipantId,request_uuid:h.requestUUID,is_nominal:h.nominal,is_fatal:h.fatal,details:h.details,location:h.location,event_count:h.count})}}function Od(S){const h=window.IVS_CLIENT_OVERRIDES;return typeof h=="object"?h[S]:S==="logLevel"?window.STAGES_LOG_LEVEL:S==="appLabel"?window.IVS_APP_LABEL:S==="whipUrl"?window.IVS_DATA_PLANE_ENDPOINT:void 0}function Si(S){const h=Od(S);if(typeof h=="string")return h}function za(S){const h=Od(S);if(typeof h=="boolean")return h}function Fm(){const S=Od("logLevel");if(typeof S=="number"&&Object.values(Tn).includes(S))return S}function Um(){return za("disableXdp")}function Ch(){return za("enableXdpPublish")}function Th(){return za("preferMainProfile")}function Pd(){return za("enableInitialLayerOnSdp")}var Ui=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class kw{constructor(h="https://broadcast.stats.live-video.net/"){this.endpointUrl=h}send(h,g=!1){return Ui(this,void 0,void 0,function*(){const b=Date.now();for(const M of h)M.properties.batch_time_millis=b;const T=this.b64EncodeUnicode(JSON.stringify(h)),O={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},N=`data=${T}`;g?navigator.sendBeacon(this.endpointUrl,N):Ui(this,void 0,void 0,function*(){try{yield function(M,L,j={},F=""){return Ui(this,void 0,void 0,function*(){const B=new XMLHttpRequest;return B.open(M,L,!0),j&&Object.keys(j).forEach(W=>{j.hasOwnProperty(W)&&B.setRequestHeader(W,j[W])}),new Promise((W,ie)=>{B.onreadystatechange=()=>{B.readyState===4&&(B.status>=200&&B.status<300?W(B.responseText):ie(new Error(`Ingest ${M} ${L} responded ${B.status}
${B.responseText}`)))},B.send(F)})})}("POST",this.endpointUrl,O,N)}catch{}})})}b64EncodeUnicode(h){return btoa(encodeURIComponent(h).replace(/%([0-9A-F]{2})/g,(g,b)=>String.fromCharCode(+`0x${b}`)))}}function ho(S){if(!S)throw new Error("eventSender is not defined")}function Xy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,S=>{const h=16*Math.random()|0;return(S==="x"?h:3&h|8).toString(16)})}class Dc{constructor(){this.sharedProperties={},this.eventSender={},this.queuedEvents=[],this.genSessionId();const h=function(){const b=Si("analyticsPostUrl");if(b!==void 0)return b}()||"https://broadcast.stats.live-video.net/",g=function(){const b=Si("appLabel");if(b!==void 0)return b.substring(0,64)}();this.eventSender=new kw(h),this.initSharedProperties({appLabel:g}),this.errorReports=new Map}start(){this.flushInterval||(this.flushInterval=window.setInterval(()=>{this.queueAggregateErrors({force:!1}),this.flushEvents()},1e3))}stop(h){let g=!1;clearInterval(this.flushInterval),this.flushInterval=void 0,this.queueAggregateErrors({force:!0}),h&&(this.queuedEvents=this.queuedEvents.filter(b=>b.critical),g=!0),this.flushEvents(g),this.genSessionId()}trackEvent(h,g=!1){let b=this.sharedProperties;g&&(b={global_session_id:Dc.globalSessionId,session_id:this.sharedProperties.session_id,browser:this.sharedProperties.browser,browser_family:this.sharedProperties.browser_family,browser_version:this.sharedProperties.browser_version,os_name:this.sharedProperties.os_name,os_version:this.sharedProperties.os_version,is_backgrounded:this.sharedProperties.is_backgrounded}),(document==null?void 0:document.visibilityState)==="hidden"&&(b.is_backgrounded=!0),"data"in h?(h.data.properties=Object.assign({},b,h.data.properties),this.queuedEvents.push(h.data)):(h.properties=Object.assign({},b,h.properties),this.queuedEvents.push(h))}trackEventNoSharedProps(h){this.trackEvent(h,!0)}trackErrorAndThrow(h){throw this.trackError(h),h}trackError(h){const g=`${h.code}${h.fatal}${h.nominal}${h.tag}${h.traceId.value}`,b=this.errorReports.get(g),T={error:h,queuedAt:Date.now(),count:0};return b?(b.count===0&&(b.error=h),b.count+=1,b.queuedAt+6e4<=Date.now()?(this.trackErrorReportIfNeeded(b),void this.errorReports.set(g,T)):void 0):(this.errorReports.set(g,T),void this.trackEvent(new Eh(h)))}queueAggregateErrors({force:h=!1}){this.errorReports.forEach((g,b)=>{const T=g.queuedAt+6e4;!h&&T>Date.now()||(this.trackErrorReportIfNeeded(g),this.errorReports.delete(b))})}trackErrorReportIfNeeded(h){if(h.count===0)return;const g=h.error;g.count=h.count,this.trackEvent(new Eh(g))}batchEvents(h){ho(this.eventSender);const g=h.map(b=>(b.data.properties=Object.assign({},this.sharedProperties,b.data.properties),b.data));this.eventSender.send(g)}initSharedProperties({appLabel:h}){const g=wh.getParser(navigator.userAgent),b=this.parseSemver(String(g.getBrowserVersion()));this.sharedProperties={browser:navigator.appVersion,browser_family:g.getBrowserName().toLowerCase(),browser_version:`${b.major}.${b.minor}`,customer_id:"ivs",host:window.location.hostname,os_name:g.getOSName(),os_version:String(g.getOSVersion()),platform:"web",global_session_id:Dc.globalSessionId,session_id:this.sessionId,sdk_version:"1.21.0",user_agent:navigator.userAgent,is_backgrounded:!1},h&&(this.sharedProperties.app_label=h)}genSessionId(){this.sessionId=Xy(),this.sharedProperties.session_id=this.sessionId}flushEvents(h=!1){ho(this.eventSender),this.queuedEvents.length>0&&this.eventSender.send(this.queuedEvents,h),this.queuedEvents=[]}parseSemver(h){const g=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/.exec(h)||/^(\d+)\.(\d+)[+|-]?(.*)?$/.exec(h)||/^(\d+)$/.exec(h)||[];return{major:parseInt(g[1],10)||0,minor:parseInt(g[2],10)||0,patch:parseInt(g[3],10)||0}}getSessionId(){return this.sessionId}}Dc.globalSessionId=Xy();class Va{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.CONGESTION_TIME,properties:b}}}class Rh{constructor(h,g,b){this.transformProperties=(O,N,M)=>({duration:(O.getTime()-((N==null?void 0:N.getTime())||0))/1e3,ecn_negotiated:!1,ingest_session_id:M});const T=this.transformProperties(h,g,b);this.data={event:_r.CONNECTION_ESTABLISHED,properties:T}}}class Bm{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.CONNECTION_RTT,properties:b}}}class ar{constructor(h){this.transformProperties=b=>{var T;return{is_fatal:(T=b.isFatal)!==null&&T!==void 0&&T,value:b.value,code:b.code,description:b.description}};const g=this.transformProperties(h);this.data={event:_r.ERROR,properties:g}}}class ua{constructor(h,g){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(h,g);this.data={event:_r.INPUT_DEVICE_ATTACHED,properties:b}}}class kh{constructor(h,g){this.transformProperties=(T,O)=>({type:T,input_device_id:O.deviceId,position:O.facingMode||"unknown"});const b=this.transformProperties(h,g);this.data={event:_r.INPUT_DEVICE_DETACHED,properties:b}}}class Ow{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.MEASURED_BITRATE,properties:b}}}class $m{constructor(h,g){this.transformProperties=(T,O)=>({minutes_logged:Math.round((T.timestamp-O)/6e4)});const b=this.transformProperties(h,g);this.data={event:_r.MINUTE_BROADCAST,properties:b}}}class Pw{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.RECOMMENDED_BITRATE,properties:b}}}class Jy{constructor(h){this.transformProperties=b=>({codec:b.mimeType,bitrate:0,sample_rate:b.clockRate,channel_count:b.channels});const g=this.transformProperties(h);this.data={event:_r.SESSION_AUDIO_ENCODER_CONFIGURED,properties:g}}}class Oh{constructor(h){this.transformProperties=b=>({codec:"audio",bitrate:32e3,sample_rate:b.sampleRate,channel_count:b.channelCount});const g=this.transformProperties(h);this.data={event:_r.SESSION_AUDIO_PROPERTIES,properties:g}}}class Ul{constructor(h,g,b){this.transformProperties=(O,N,M)=>({codec:M.mimeType,codec_profile:N.profile,codec_level:N.level,rate_mode:"vbr",initial_bitrate:0,keyframe_interval:2,width:O.width,height:O.height,bframe_count:0,target_fps:O.frameRate});const T=this.transformProperties(h,g,b);this.data={event:_r.SESSION_VIDEO_ENCODER_CONFIGURED,properties:T}}}class Nw{constructor(h){this.transformProperties=b=>({codec:"video",initial_bitrate:32e3,min_bitrate:0,max_bitrate:0,keyframe_interval:2,width:b.width,height:b.height,auto_bitrate_enabled:!0,bframes_enabled:!1,target_fps:b.frameRate});const g=this.transformProperties(h);this.data={event:_r.SESSION_VIDEO_PROPERTIES,properties:g}}}class Zy{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.SOURCE_AUDIO_LATENCY,properties:b}}}class e0{constructor(h,g){this.transformProperties=(T,O)=>({sum:T.sum,median:T.median(),min:T.min,max:T.max,p90:T.percentile(.9),event_count:T.data.length,period:O});const b=this.transformProperties(h,g);this.data={event:_r.SOURCE_VIDEO_LATENCY,properties:b}}}class Ph{constructor(h,g){this.transformProperties=({protocol:T,hostname:O,port:N},M)=>({protocol:T,endpoint_host:O,endpoint_port:N,reason:M});const b=this.transformProperties(h,g);this.data={event:_r.START_BROADCAST,properties:b}}}class zm{constructor(h){this.transformProperties=({protocol:b,hostname:T,port:O})=>({protocol:b,endpoint_host:T,endpoint_port:O});const g=this.transformProperties(h);this.data={event:_r.STOP_BROADCAST,properties:g}}}class t0{constructor(h){this.transformProperties=b=>({bytes_sent:b.bytesSent,header_bytes_sent:b.headerBytesSent,nack_count:b.nackCount,packets_sent:b.packetsSent,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent});const g=this.transformProperties(h);this.data={event:_r.WEBRTC_AUDIO_STATS,properties:g}}}class Vm{constructor(h){this.transformProperties=b=>({bytes_sent:b.bytesSent,fir_count:b.firCount,frames_encoded:b.framesEncoded,frames_sent:b.framesSent,header_bytes_sent:b.headerBytesSent,huge_frames_sent:b.hugeFramesSent,key_frames_encoded:b.keyFramesEncoded,nack_count:b.nackCount,packets_sent:b.packetsSent,pli_count:b.pliCount,quality_limitation_reason:b.qualityLimitationReason,quality_limitation_resolution_changes:b.qualityLimitationResolutionChanges,retransmitted_bytes_sent:b.retransmittedBytesSent,retransmitted_packets_sent:b.retransmittedPacketsSent,total_encode_time:b.totalEncodeTime,total_encoded_bytes_target:b.totalEncodedBytesTarget,total_packet_send_delay:b.totalPacketSendDelay});const g=this.transformProperties(h);this.data={event:_r.WEBRTC_VIDEO_STATS,properties:g}}}var _r,Nd;(function(S){S.START_BROADCAST="ivs_broadcast_start_broadcast",S.STOP_BROADCAST="ivs_broadcast_stop_broadcast",S.MINUTE_BROADCAST="ivs_broadcast_minute_broadcast",S.WEBRTC_AUDIO_STATS="ivs_broadcast_webrtc_audio_stats",S.WEBRTC_VIDEO_STATS="ivs_broadcast_webrtc_video_stats",S.WEBRTC_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_audio_stats_window",S.WEBRTC_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_video_stats_window",S.CONNECTION_ESTABLISHED="ivs_broadcast_connection_established",S.SESSION_VIDEO_PROPERTIES="ivs_broadcast_session_video_properties",S.SESSION_AUDIO_PROPERTIES="ivs_broadcast_session_audio_properties",S.SESSION_VIDEO_ENCODER_CONFIGURED="ivs_broadcast_session_video_encoder_configured",S.SESSION_AUDIO_ENCODER_CONFIGURED="ivs_broadcast_session_audio_encoder_configured",S.SOURCE_AUDIO_LATENCY="ivs_broadcast_source_audio_latency",S.SOURCE_VIDEO_LATENCY="ivs_broadcast_source_video_latency",S.INPUT_DEVICE_ATTACHED="ivs_broadcast_input_device_attached",S.INPUT_DEVICE_DETACHED="ivs_broadcast_input_device_detached",S.CONGESTION_TIME="ivs_broadcast_congestion_time",S.BUFFER_DURATION="ivs_broadcast_buffer_duration",S.MEASURED_BITRATE="ivs_broadcast_measured_bitrate",S.RECOMMENDED_BITRATE="ivs_broadcast_recommended_bitrate",S.CONNECTION_RTT="ivs_broadcast_connection_rtt",S.ERROR="ivs_broadcast_error"})(_r||(_r={})),function(S){S.USER_INITIATED="user-initiated",S.NETWORK_DISCONNECT="network-disconnect"}(Nd||(Nd={}));const po={[Tn.INFO]:"#528bff",[Tn.WARN]:"#ffb31a",[Tn.DEBUG]:"#00f593",[Tn.ERROR]:"#ff4f4d",[Tn.TRACE]:"",[Tn.SILENT]:"",[kn.TIME]:"#53535f",[kn.WEBRTC]:"#0e9bd8",[kn.SUBSCRIPTION]:"#ffc400",[kn.CONNECTION]:"#ff5edb",[kn.SOCKET]:"#8585ff",[kn.EMITTER]:"#adadb8",[kn.LOCAL_PARTICIPANT]:"#1DD21D",[kn.STAGE]:"#EC9806",[kn.REMOTE_PARTICIPANT]:"#0680EC",details:"#808080"},Bl=({label:S})=>`background: ${po[S]||"#333333"}; color: white; padding: 3px; margin-left: 3px;`,Id=Object.entries(Tn),jd=(S,h,g)=>{const b=Bl({label:S}),[T]=Id.find(([,be])=>be===Number(S))||[],O=`%c${T}`,N=Bl({label:h}),M=`%c${h}`,L=Bl({label:kn.TIME}),j=`%c[${new Date().toISOString()}]`,F=Bl({label:"details"}),B=`%c[${g}]`,W=[j,O,M],ie=[L,b,N];return g&&(W.push(B),ie.push(F)),[W.join(""),...ie]},n0={debug(S){console.groupCollapsed(...jd(Tn.DEBUG,S.scope,S.label)),console.debug(S.msg,Object.assign(Object.assign({},S),{level:"debug"})),console.groupEnd()},info(S){console.groupCollapsed(...jd(Tn.INFO,S.scope,S.label)),console.info(S.msg,Object.assign(Object.assign({},S),{level:"info"})),console.groupEnd()},warn(S){console.groupCollapsed(...jd(Tn.WARN,S.scope,S.label)),console.warn(S.msg,Object.assign(Object.assign({},S),{level:"warn"})),console.groupEnd()},error(S){console.groupCollapsed(...jd(Tn.ERROR,S.scope,S.label)),console.error(S),console.groupEnd()}};var r0=function(S,h){var g={};for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&h.indexOf(b)<0&&(g[b]=S[b]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var T=0;for(b=Object.getOwnPropertySymbols(S);T<b.length;T++)h.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(S,b[T])&&(g[b[T]]=S[b[T]])}return g};Object.entries(Tn);class Wm{constructor(h=Rw,g=n0){this.logLevel=h,this.loggerInstance=g}debug(h){var g,b;this.logLevel>Tn.DEBUG||(b=(g=this.loggerInstance).debug)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{level:"debug"}))))}info(h){var g,b;this.logLevel>Tn.INFO||(b=(g=this.loggerInstance).info)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{level:"info"}))))}warn(h){var g,b;this.logLevel>Tn.WARN||(b=(g=this.loggerInstance).warn)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{level:"warn"}))))}error(h){var g,b,{err:T}=h,O=r0(h,["err"]);this.logLevel>Tn.ERROR||(b=(g=this.loggerInstance).error)===null||b===void 0||b.call(g,Object.assign({err:T},O))}}class mo{constructor(h,g){this.logger=h,this.scope=g}debug(h){var g,b;(b=(g=this.logger).debug)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{scope:this.scope}))))}info(h){var g,b;(b=(g=this.logger).info)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{scope:this.scope}))))}warn(h){var g,b;(b=(g=this.logger).warn)===null||b===void 0||b.call(g,JSON.parse(JSON.stringify(Object.assign(Object.assign({},h),{scope:this.scope}))))}error(h){var g,b,{err:T}=h,O=r0(h,["err"]);(b=(g=this.logger).error)===null||b===void 0||b.call(g,Object.assign(Object.assign({err:T},O),{scope:this.scope}))}unwrap(){return this.logger}}class ls{constructor(){this.min=0,this.max=0,this.sum=0,this.data=[]}push(h){(this.min===0||h<this.min)&&(this.min=h),h>=this.max&&(this.max=h),this.data.push(h),this.sum+=h}median(){this.data.sort();const h=this.data.length>>1;return this.data.length%2==0?this.data[h-1]+this.data[h]>>1:this.data[h]}percentile(h){if(this.data.length===0)return 0;if(h<=0)return this.data[0];if(h>=1)return this.data[this.data.length-1];const g=(this.data.length-1)*h,b=Math.floor(g),T=b+1,O=g%1;return T>=this.data.length?this.data[b]:this.data[b]*(1-O)+this.data[T]*O}}var Nh=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class i0{constructor(h,g,b,T){this.peerClient=h,this.broadcastCanvasManager=g,this.analyticsTracker=T,this.logger=new mo(b,kn.EMITTER),this.previousBytesSent=0,this.startTimestamp=0,this.initializeSamples()}start(){this.logger.info({msg:"start emitter"}),this.collectSamplesTimerId=window.setInterval(()=>{this.collectSamples()},1e3),this.trackSamplesTimerId=window.setInterval(()=>{this.trackSamples()},3e4),this.trackPeerConnectionStatsTimerId=window.setInterval(()=>{this.trackPeerConnectionStats()},6e4),this.trackSamples()}stop(){clearInterval(this.collectSamplesTimerId),clearInterval(this.trackSamplesTimerId),clearInterval(this.trackPeerConnectionStatsTimerId),this.collectSamplesTimerId=void 0,this.trackSamplesTimerId=void 0,this.trackPeerConnectionStatsTimerId=void 0}trackPeerConnectionStats(){return Nh(this,void 0,void 0,function*(){(yield this.peerClient.getReports()).forEach(h=>{if(h.type==="outbound-rtp")switch(h.kind){case"audio":this.analyticsTracker.trackEvent(new t0(h));break;case"video":{const g=new Vm(h),b=new $m(h,this.startTimestamp);this.analyticsTracker.batchEvents([g,b]);break}default:this.logger.warn({msg:"unknown report kind: ",reportKind:h.kind})}})})}collectSamples(){return Nh(this,void 0,void 0,function*(){let h=0;this.audioLatencySamples.push(this.broadcastCanvasManager.getAudioLatency()),this.videoLatencySamples.push(this.broadcastCanvasManager.getVideoLatency()),(yield this.peerClient.getReports()).forEach(b=>{switch(b.type){case"candidate-pair":b.nominated&&(this.rttSamples.push(b.currentRoundTripTime),this.recommendedBitrateSamples.push(b.availableOutgoingBitrate));break;case"outbound-rtp":h+=b.bytesSent||0,this.startTimestamp===0&&b.kind==="video"&&(this.startTimestamp=b.timestamp)}});const g=8*Math.round(h-this.previousBytesSent);this.previousBytesSent=h,this.measuredBitrateSamples.push(g)})}trackSamples(){const g=new Zy(this.audioLatencySamples,30),b=new e0(this.videoLatencySamples,30),T=new Va(this.congestionTimeSamples,30),O=new Ow(this.measuredBitrateSamples,30),N=new Pw(this.recommendedBitrateSamples,30),M=new Bm(this.rttSamples,30);this.analyticsTracker.batchEvents([g,b,T,O,N,M]),this.initializeSamples()}initializeSamples(){this.audioLatencySamples=new ls,this.videoLatencySamples=new ls,this.congestionTimeSamples=new ls,this.measuredBitrateSamples=new ls,this.recommendedBitrateSamples=new ls,this.rttSamples=new ls}}const Ar={CONNECTION_STATE_CHANGE:"connectionStateChange",ERROR:"clientError",ACTIVE_STATE_CHANGE:"activeStateChange"},go="connectionStateChange",o0="sdpNegotiated",vo="clientError",Uo="seiMessageReceived",Mc="transformError";var gt;(function(S){S.CLOSED="closed",S.COMPLETED="completed",S.CONNECTED="connected",S.CONNECTING="connecting",S.DISCONNECTED="disconnected",S.FAILED="failed",S.IDLE="idle",S.NEW="new",S.NONE="none"})(gt||(gt={}));const Ad=S=>{const h=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("web-contents-media-stream")?"tab":void 0},g=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("window")&&O.displaySurface==="window"?"window":void 0},b=O=>{var N;return!((N=O.deviceId)===null||N===void 0)&&N.startsWith("screen")&&O.displaySurface==="monitor"?"screen":void 0};return(h(T=S)||g(T)||b(T)?void 0:"camera")||b(S)||g(S)||h(S)||"unknown";var T};function ye(S,h){return S.find(g=>g.kind===h)}var me;(function(S){S.VIDEO="video",S.AUDIO="audio"})(me||(me={}));class Ie{constructor(){this.mediaTracks=new Map([[me.VIDEO,void 0],[me.AUDIO,void 0]])}setTrack(h,g){this.mediaTracks.set(h,g)}getTrack(h){return this.mediaTracks.get(h)}}class Je{constructor(){this.levelAsymmetryAllowed=!1,this.packetisationMode=!1,this.profile="",this.level=0}extractVideoSdpFmtpLine(h){return h?(h.split("\r").join(";").split(`
`).join(";").split(" ").join(";").split(";").map(g=>g.trim()).filter(Boolean).forEach(g=>{const b=g.split("=");if(b.length===2)switch(b[0]){case"level-asymmetry-allowed":b[1]==="1"?this.levelAsymmetryAllowed=!0:this.levelAsymmetryAllowed=!1;break;case"packetization-mode":b[1]==="1"?this.packetisationMode=!0:this.packetisationMode=!1;break;case"profile-level-id":this.profile=this.getProfileFromId(b[1]),this.level=this.getLevelFromId(b[1])}}),{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}):{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}}getProfileFromId(h){const g=h.substr(0,2),b=h.substr(2,2);switch(g.substr(0,2)){case"42":return"baseline";case"4d":return"main";case"58":return"extended";case"64":return"high";case"6e":return b==="00"?"high 10":"high 10 intra";case"7a":return b==="00"?"high 42":"high 42 intra";case"f4":return b==="00"?"high 44":"high 44 intra";default:return"unknown"}}getLevelFromId(h){return parseInt(h.substr(4,2),16)}}function Kt(S){return btoa(JSON.stringify(S))}var zt,Dr=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};(function(S){S.IDLE="idle",S.EXECUTING="executing",S.RECONNECTING="reconnecting"})(zt||(zt={}));class us{constructor(h,g=12e4,b,T){this.state=zt.IDLE,this.failureCallback=()=>{},this.peerClient=h,this.timeout=g,this.logger=b,this.emitter=T}onFailure(h){this.failureCallback=h}setStartConfig(h,g){this.ingestEndpoint=h,this.streamKey=g}execute(){const{id:h}=this;this.state===zt.IDLE&&(this.state=zt.EXECUTING,this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,gt.CONNECTING),this.logger.info({msg:"Starting execution of reconnect strategy.",id:h}),this.startTimeoutTimer(this.timeout),this.executeStrategy())}startTimeoutTimer(h){this.timeoutTimerId=window.setTimeout(()=>{this.state!==zt.IDLE&&(this.logger.info({msg:"Reconnect strategy timed out."}),this.stop(),this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,gt.FAILED),this.failureCallback())},h)}stop(){this.state=zt.IDLE,clearTimeout(this.timeoutTimerId),this.stopStrategy()}reconnect(){return Dr(this,void 0,void 0,function*(){if(this.ingestEndpoint&&this.streamKey){const h=this.peerClient.getConnectionState();try{this.logger.info({msg:"Attempting reconnect."}),h===gt.CONNECTED?this.logger.info({msg:"Already connected! Stopping reconnect strategy."}):(yield this.peerClient.start(this.ingestEndpoint,this.streamKey),this.logger.info({msg:"Reconnect succeeded!"})),this.stop()}catch(g){throw this.logger.error({err:g}),g}}})}isActive(){return this.state!==zt.IDLE}}class cr extends us{constructor(){super(...arguments),this.id="ExponentialBackoffStrategy"}executeStrategy(){let h=5e3;const g=()=>Dr(this,void 0,void 0,function*(){if(this.state===zt.EXECUTING)try{this.state=zt.RECONNECTING,yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed. Trying again in: ",nextRetry:h}),this.state=zt.EXECUTING,this.currentTimeoutId=window.setTimeout(g,h),h*=2}});this.currentTimeoutId=window.setTimeout(g,0)}stopStrategy(){clearTimeout(this.currentTimeoutId)}}class Hm extends us{constructor(){super(...arguments),this.id="NetworkApiStrategy",this.onConnectionChange=()=>Dr(this,void 0,void 0,function*(){if(navigator.onLine&&this.state===zt.EXECUTING){this.state=zt.RECONNECTING;try{yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed."}),this.state=zt.EXECUTING}}})}executeStrategy(){navigator.connection.addEventListener("change",this.onConnectionChange),this.onConnectionChange()}stopStrategy(){navigator.connection.removeEventListener("change",this.onConnectionChange)}}class Iw{static create(h,g=Lm,b,T){const{reconnect:O,timeout:N}=g;if(O){const M=wh.getParser(navigator.userAgent).getBrowserName().toLowerCase();return["edge","chrome"].includes(M)&&navigator.connection?new Hm(h,N,b,T):new cr(h,N,b,T)}}}var Qi,Wa=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},jw=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)};const $l=S=>!!S;function Lc(S){if(!S)throw new Error("PeerConnection is not defined")}const Ih={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:{exact:!0},enableRtpDataChannels:{exact:!1},optional:[{googHighStartBitrate:{exact:0}},{googPayloadPadding:{exact:!0}},{googScreencastMinBitrate:{exact:100}},{googCpuOveruseDetection:{exact:!0}},{googCpuOveruseEncodeUsage:{exact:!0}},{googCpuUnderuseThreshold:{exact:55}},{googCpuOveruseThreshold:{exact:85}},{enableDscp:{exact:!0}}]};class Vn{constructor(h,g,b,T,O){this.config=h,this.emitter=g,this.mediaStreamManager=b,this.analyticsTracker=O,this.establishConnection=(N,M)=>Wa(this,void 0,void 0,function*(){var L,j,F;Lc(this.peerConnection);try{const B=yield this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});yield this.handleLocalDescription(B),yield this.sendSetupRequest(N,M,B)}catch(B){if(B instanceof Error){(L=(F=B).code)!==null&&L!==void 0||(F.code=mt.code);const W=new Ct(Object.assign(Object.assign({},mt),{name:B.name,message:B.message,code:B==null?void 0:B.code,cause:B}));throw!((j=this.reconnectStrategy)===null||j===void 0)&&j.isActive()||this.handleError(B.code,B.message),this.stop(),W}}}),this.getSessionId=()=>this.ingestSessionId,this.getConnectionState=()=>{var N;if(!this.peerConnection)return gt.NONE;const M=(N=this.reconnectStrategy)===null||N===void 0?void 0:N.isActive(),L=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;switch(L){case"new":return gt.NEW;case"closed":return gt.CLOSED;case"disconnected":return M?gt.CONNECTING:gt.DISCONNECTED;case"failed":return M?gt.CONNECTING:gt.FAILED;case"idle":return gt.IDLE;case"checking":case"connecting":return gt.CONNECTING;case"completed":case"connected":return gt.CONNECTED;default:return this.logger.warn({msg:"Unhandled connection state:",rawState:L}),gt.IDLE}},this.onConnectionStateChange=()=>{var N;const M=this.getConnectionState();switch(M){case gt.CONNECTED:{this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,M);const L=new Date;this.analyticsTracker.trackEvent(new Rh(L,this.connectionStartDate,this.ingestSessionId));const j=this.mediaStreamManager.getTrack(me.AUDIO),F=this.mediaStreamManager.getTrack(me.VIDEO);if(F){const B=F.getSettings();this.analyticsTracker.trackEvent(new Nw(B))}if(j){const B=j.getSettings();this.analyticsTracker.trackEvent(new Oh(B))}(((N=this.peerConnection)===null||N===void 0?void 0:N.getSenders())||[]).forEach(B=>{var W;(((W=B.getParameters())===null||W===void 0?void 0:W.codecs)||[]).forEach(ie=>{var be;switch((be=B.track)===null||be===void 0?void 0:be.kind){case"video":{if(!F)break;const ge=new Je().extractVideoSdpFmtpLine(ie.sdpFmtpLine),le=F.getSettings();this.analyticsTracker.trackEvent(new Ul(le,ge,ie));break}case"audio":if(!j)break;this.analyticsTracker.trackEvent(new Jy(ie))}})});break}case gt.CONNECTING:this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,M),this.connectionStartDate=new Date,this.disconnectionStartDate=void 0;break;case gt.FAILED:this.reconnectStrategy?this.reconnectStrategy.execute():(this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,M),this.handleTerminalConnectionFailure());break;case gt.DISCONNECTED:this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,M),this.disconnectionStartDate=new Date;break;default:this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,M)}},this.handleLocalDescription=N=>Wa(this,void 0,void 0,function*(){var M;return(M=this.peerConnection)===null||M===void 0?void 0:M.setLocalDescription(N)}),Qi.set(this,N=>{if(typeof N!="string")throw new Ct(Fi);try{new URL(N)}catch{throw new Ct(wd)}}),this.logger=new mo(T,kn.WEBRTC),this.createReconnectStrategy(h)}start(h,g){var b;return Wa(this,void 0,void 0,function*(){jw(this,Qi,"f").call(this,h);const T=[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)].filter($l);if(this.createPeerConnection(),this.addTracks({tracks:T}),this.reconnectStrategy&&this.reconnectStrategy.setStartConfig(h,g),yield this.establishConnection(h,g),!((b=this.reconnectStrategy)===null||b===void 0)&&b.isActive()){const O=new URL(h);this.analyticsTracker.trackEvent(new Ph({protocol:"webrtc",hostname:O.hostname,port:O.port},Nd.NETWORK_DISCONNECT))}})}stop(){var h,g,b,T;this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stopStreamDataChannel&&this.stopStreamDataChannel.readyState==="open"&&this.stopStreamDataChannel.send(" "),[gt.NEW,gt.CONNECTING,gt.CONNECTED].includes(this.getConnectionState())&&this.emitter.emit(Ar.CONNECTION_STATE_CHANGE,gt.CLOSED),(h=this.peerConnection)===null||h===void 0||h.close(),(g=this.peerConnection)===null||g===void 0||g.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onConnectionStateChange),this.ingestSessionId=void 0,(T=this.reconnectStrategy)===null||T===void 0||T.stop()}addTracks(h){var g;if(Lc(this.peerConnection),!h)return;const b=this.peerConnection.getSenders().map(O=>{var N;return(N=O.track)===null||N===void 0?void 0:N.id}),T=h.tracks.filter(O=>!b.includes(O.id));for(const O of T)(g=this.peerConnection)===null||g===void 0||g.addTrack(O)}getReports(){var h;return Wa(this,void 0,void 0,function*(){try{const g=(yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats())||[],b=[];return g.forEach(T=>{b.push(T)}),b}catch{return[]}})}sendSetupRequest(h,g,b){var T;return Wa(this,void 0,void 0,function*(){const O=yield fetch(`${h}/v1/offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({offer:Kt(b),streamKey:g},this.config.streamConfig))});if(!O.ok)throw function(M){let L=new Ct(Object.assign({},mt));return(M==null?void 0:M.code)===1007&&(L=new Ct(Object.assign({},wn))),M!=null&&M.message&&(L.message=M.message),L}(yield O.json());const N=yield O.json();N!=null&&N.answer&&(yield(T=this.peerConnection)===null||T===void 0?void 0:T.setRemoteDescription(function(M){return JSON.parse(atob(M))}(N.answer)),this.ingestSessionId=N.ingestSessionId)})}handleTerminalConnectionFailure(){const h=new Ct(Tt);this.handleError(h.code,h.message)}handleError(h,g){this.analyticsTracker.trackEvent(new ar({code:h,description:g,isFatal:!0})),this.emitter.emit(Ar.ERROR,{code:h,message:g})}createPeerConnection(){var h;const g=this.getConnectionState(),b=g!==gt.NONE,T=g!==gt.CLOSED,O=(h=this.reconnectStrategy)===null||h===void 0?void 0:h.isActive();b&&T&&!O||(this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stateCheckInterval=window.setInterval(()=>{const N=this.getConnectionState();if(this.reconnectStrategy&&N===gt.DISCONNECTED&&this.disconnectionStartDate){const M=Date.now()-this.disconnectionStartDate.getTime();this.logger.info({msg:"Time since disconnected:",timeSinceDisconnect:M}),M>1e4&&(this.disconnectionStartDate=void 0,this.reconnectStrategy.execute())}else N===gt.CLOSED&&(this.handleTerminalConnectionFailure(),clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0)},1e3),this.peerConnection=new RTCPeerConnection(Ih),this.stopStreamDataChannel=this.peerConnection.createDataChannel("stopStream"),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onConnectionStateChange))}createReconnectStrategy(h){if(this.reconnectStrategy=Iw.create(this,h.networkReconnectConfig,this.logger,this.emitter),this.reconnectStrategy){this.reconnectStrategy.onFailure(this.handleTerminalConnectionFailure.bind(this));const g=this.reconnectStrategy.id;this.logger.info({msg:"Using reconnect strategy:",strategyId:g})}}}Qi=new WeakMap;var zl,Gm,jh=i(5364);(function(S){S.CONFIG="config",S.UPDATE="update",S.START="start",S.STOP="stop"})(zl||(zl={})),function(S){S.VIDEO_SEND="video/send",S.VIDEO_RECEIVE="video/receive",S.INSERT_SEI="insertSei"}(Gm||(Gm={}));var Aw=i(5512),s0=i.n(Aw);function Dw(){return s0()(`/*! For license information please see scheduler.worker.worker.js.LICENSE.txt */
(()=>{"use strict";var i,t;!function(i){i.CONFIG="config",i.UPDATE="update",i.START="start",i.STOP="stop"}(i||(i={})),function(i){i.VIDEO_SEND="video/send",i.VIDEO_RECEIVE="video/receive",i.INSERT_SEI="insertSei"}(t||(t={}));const s=self;const n=new class Scheduler{constructor(){this.config={frameRate:60,isRunning:!1}}setConfig(i){this.config=Object.assign(Object.assign({},this.config),i),this.config.isRunning&&(this.stop(),this.start())}start(){this.config.isRunning||(this.intervalId=setInterval((()=>{s.postMessage({type:i.UPDATE})}),1e3/this.config.frameRate),this.config.isRunning=!0)}stop(){this.config.isRunning&&(clearInterval(this.intervalId),this.intervalId=void 0,this.config.isRunning=!1)}};s.addEventListener("message",(function(t){var s;if(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.type)switch(t.data.type){case i.CONFIG:n.setConfig(t.data.payload||{});break;case i.START:n.start();break;case i.STOP:n.stop()}}))})();`,"Worker",void 0,void 0)}var Ha=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ga{constructor(h,g,b){this.config=h,this.mediaStreamManager=g,this.analyticsTracker=b,this.handleWorkerEvent=M=>{var L;((L=M.data)===null||L===void 0?void 0:L.type)===zl.UPDATE&&this.drawComposite()},this.mixer={video:[],audio:[]},this.schedulerWorker=new Dw,this.running=!1,this.compositeEl=document.createElement("canvas"),this.compositeEl.height=this.config.streamConfig.maxResolution.height,this.compositeEl.width=this.config.streamConfig.maxResolution.width;const T=this.compositeEl.getContext("2d");if(T===null)throw new Ct(Object.assign({},yh));this.compositeContext=T,this.compositeStream=this.compositeEl.captureStream(typeof CanvasCaptureMediaStreamTrack!==void 0?0:30);const O=ye(this.compositeStream.getTracks(),me.VIDEO);this.audioContext=new AudioContext,this.unlockAudioContext(),this.audioDestination=this.audioContext.createMediaStreamDestination(),this.setupSilence();const N=ye(this.audioDestination.stream.getTracks(),me.AUDIO);O&&this.mediaStreamManager.setTrack(me.VIDEO,O),N&&this.mediaStreamManager.setTrack(me.AUDIO,N),this.schedulerWorker.addEventListener("message",this.handleWorkerEvent),this.schedulerWorker.postMessage({type:zl.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.previewElement=null,this.previewCtx=null,this.nextMix=new Date().getTime()}attachPreview(h){this.previewElement=h;const{width:g,height:b}=this.config.streamConfig.maxResolution;this.previewElement.width=g,this.previewElement.height=b,this.previewCtx=this.previewElement.getContext("2d")}detachPreview(){this.previewElement=null,this.previewCtx=null}setupSilence(){const h=this.audioContext.createConstantSource(),g=this.audioContext.createGain();g.gain.value=.001,h.connect(g),g.connect(this.audioDestination),h.start()}unlockAudioContext(){if(this.audioContext.state!=="suspended")return;const h=document.body,g=["touchstart","touchend","mousedown","keydown"],b=()=>{g.forEach(O=>{h.removeEventListener(O,T)})},T=()=>{this.audioContext.resume().then(b)};g.forEach(O=>{h.addEventListener(O,T,!1)})}getTracks(){return[this.mediaStreamManager.getTrack(me.VIDEO),this.mediaStreamManager.getTrack(me.AUDIO)]}getCanvasVideoTrack(){return this.mediaStreamManager.getTrack(me.VIDEO)}getAudioInputDevice(h){if(typeof h!="string")return;const g=this.mixer.audio.find(b=>{if(b.name===h)return b.source});return g==null?void 0:g.source}getVideoInputDevice(h){if(typeof h=="string")return this.mixer.video.find(g=>g.name===h)}getCanvasDimensions(){return{height:this.compositeEl.height,width:this.compositeEl.width}}addVideoInputDevice(h,g,b){var T;return Ha(this,void 0,void 0,function*(){if(typeof h!="object")throw new Ct(Object.assign({},Nl));if(!g||typeof g!="string")throw new Ct(Object.assign({},ue));if(this.mixer.video.some(W=>W.name===g))throw new Ct(Object.assign({},Il));if(!b)throw new Ct(Object.assign({},_d));if(typeof b.index!="number")throw new Ct(Object.assign({},Ac));const O=function(){const W=document.createElement("video");return W.autoplay=!0,W.muted=!0,W.setAttribute("playsinline",""),W.setAttribute("webkit-playsinline",""),W}(),N=h.getVideoTracks(),[M]=N;if(!N.length)throw new Ct(Object.assign({},Sd));const L=M.getConstraints(),j=jh({},L,{frameRate:this.config.streamConfig.maxFramerate});try{yield M.applyConstraints(j)}catch(W){let ie="Unknown constraints error";W instanceof Error&&(ie=W.message),this.analyticsTracker.trackEvent(new ar({description:`${Oe.message}: ${ie}`,isFatal:!1,code:Oe.code}))}const F=()=>Ha(this,void 0,void 0,function*(){let W=0;for(;W<5;)try{return void(yield O.play())}catch(ie){if(!(ie instanceof Error))throw new Error("unknown error trying to add video to broadcast");W++,yield new Promise(be=>setTimeout(be,150))}throw new Error("Error playing video, tries exceeded")}),B=new MediaStream([M]);O.srcObject=B;try{yield F();const W={name:g,element:O,position:b,source:B,render:!0},ie=((T=M.getSettings)===null||T===void 0?void 0:T.call(M))||{};this.analyticsTracker.trackEvent(new ua(Ad(ie),ie)),this.mixer.video.push(W)}catch(W){throw new Ct(Object.assign(Object.assign({},Sd),{cause:W}))}})}addImageSource(h,g,b){var T;return Ha(this,void 0,void 0,function*(){if(!h)throw new Ct(Object.assign({},Nl));if(!g||typeof g!="string")throw new Ct(Object.assign({},ue));if(h.tagName==="image")throw new Ct(Object.assign({},_e));if(this.mixer.video.some(N=>N.name===g))throw new Ct(Object.assign({},Il));if(!b)throw new Ct(Object.assign({},_d));if(typeof b.index!="number")throw new Ct(Object.assign({},Ac));if(h instanceof Image){const N=(T=h.src)===null||T===void 0?void 0:T.slice();try{const M=h.src?new URL(h.src):{};if(M.host&&M.hostname){const L=yield fetch(h.src).then(F=>Ha(this,void 0,void 0,function*(){return F.blob()})),j=yield new Promise(F=>{const B=new FileReader;B.onload=()=>{F(B.result)},B.readAsDataURL(L)});h.src=j}}catch{throw new Ct(Object.assign(Object.assign({},Ze),{params:{details:`Image URL: ${N}`}}))}}const O={name:g,element:h,position:b,render:!0};this.mixer.video.push(O)})}addAudioInputDevice(h,g){return Ha(this,void 0,void 0,function*(){if(typeof h!="object")throw new Ct(Object.assign({},Nl));if(!g||typeof g!="string")throw new Ct(Object.assign({},ue));if(this.mixer.audio.some(M=>M.name===g))throw new Ct(Object.assign({},Il));const b=h.getAudioTracks();if(!b.length)throw new Ct(Object.assign({},la));const T=this.audioContext.createMediaStreamSource(new MediaStream(b)),O=this.audioContext.createGain();O.gain.value=1,T.connect(O),O.connect(this.audioDestination);const N={name:g,source:h,audioTrackSource:T,gainNode:O};this.analyticsTracker.trackEvent(new ua("audio",{deviceId:h.id})),this.mixer.audio.push(N)})}removeImage(h){const g=this.mixer.video.findIndex(b=>b.name===h);if(g<0)throw new Ct(Object.assign({},Zt));this.mixer.video.splice(g,1)}removeVideoInputDevice(h){var g;const b=this.removeDevice(h,this.mixer.video);if(!b)throw new Ct(Object.assign({},ze));{const T=ye(b.source.getTracks(),me.VIDEO);if(!T)throw new Ct(Object.assign({},ze));b.element.srcObject=null,T.stop();const O=((g=T==null?void 0:T.getSettings)===null||g===void 0?void 0:g.call(T))||{};this.analyticsTracker.trackEvent(new kh(Ad(O),O))}}removeAudioInputDevice(h){const g=this.removeDevice(h,this.mixer.audio);if(g!=null&&g.audioTrackSource){for(const b of g.source.getTracks())b.stop(),this.analyticsTracker.trackEvent(new kh("audio",{deviceId:b.id}));g.gainNode.disconnect(this.audioDestination)}else if(!g)throw new Ct(Object.assign({},ze))}updateVideoDeviceComposition(h,g){if(!h||typeof h!="string")throw new Ct(Object.assign({},$t));if(!g)throw new Ct(Object.assign({},sr));if(typeof g.index!="number")throw new Ct(Object.assign({},an));this.mixer.video.forEach((b,T)=>{b.name===h&&(b.position=g)})}exchangeVideoDevicePositions(h,g){const b=this.getVideoInputDevice(h),T=this.getVideoInputDevice(g);if(!b)throw new Ct(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${h}" not found`}}));if(!T)throw new Ct(Object.assign(Object.assign({},dt),{params:{details:`device with name: "${g}" not found`}}));const O=Object.assign({},b.position),N=Object.assign({},T.position);for(const M of this.mixer.video)M.name===h&&(Dd(N.x)?M.position=Object.assign(Object.assign({},M.position),N):M.position={index:N.index}),M.name===g&&(Dd(O.x)?M.position=Object.assign(Object.assign({},M.position),O):M.position={index:O.index})}start(){this.running||(this.running=!0,this.schedulerWorker.postMessage({type:zl.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.schedulerWorker.postMessage({type:zl.START}))}stop(){this.running&&(this.running=!1,this.schedulerWorker.removeEventListener("message",this.handleWorkerEvent))}isCapturing(){return this.running}getAudioLatency(){return this.audioContext.baseLatency}getVideoLatency(){var h;return((h=this.mediaStreamManager.getTrack(me.VIDEO))===null||h===void 0?void 0:h.getConstraints().latency)||0}disableVideo(){this.mixer.video.forEach(h=>{h.render=!1})}enableVideo(){this.mixer.video.forEach(h=>{h.render=!0})}disableAudio(){this.mixer.audio.forEach(h=>{h.audioTrackSource&&(h.gainNode.gain.value=0)})}enableAudio(){this.mixer.audio.forEach(h=>{h.audioTrackSource&&(h.gainNode.gain.value=1)})}getDrawRegion(h,g,b){var T,O,N,M;let L=(T=h.position.x)!==null&&T!==void 0?T:0,j=(O=h.position.y)!==null&&O!==void 0?O:0;const F=(N=h.position.width)!==null&&N!==void 0?N:g-L,B=(M=h.position.height)!==null&&M!==void 0?M:b-j,W=F/B;let ie=h.element.width,be=h.element.height;h.element instanceof HTMLVideoElement&&(ie=h.element.videoWidth,be=h.element.videoHeight);const ge=ie/be;let le=F,ae=B;return ge>W?(le=F,ae=2*Math.round(F/ge/2),j+=(B-ae)/2):ge<W&&(ae=B,le=2*Math.round(B*ge/2),L+=(F-le)/2),{x:L,y:j,width:le,height:ae}}drawComposite(){if(!this.shouldMix(new Date))return;this.compositeContext.clearRect(0,0,this.compositeEl.width,this.compositeEl.height),this.drawBlackScreen();const h=this.mixer.video.filter(g=>g.render);h.sort((g,b)=>g.position.index-b.position.index);for(const g of h){const{x:b,y:T,width:O,height:N}=this.getDrawRegion(g,this.compositeEl.width,this.compositeEl.height);this.compositeContext.drawImage(g.element,b,T,O,N)}this.previewElement&&this.previewCtx&&this.previewCtx.drawImage(this.compositeEl,0,0,this.previewElement.width,this.previewElement.height),this.requestCanvasCapture()}requestCanvasCapture(){typeof CanvasCaptureMediaStreamTrack!==void 0&&(typeof this.compositeStream.requestFrame=="function"?this.compositeStream.requestFrame():this.mediaStreamManager.getTrack(me.VIDEO).requestFrame())}drawBlackScreen(){this.compositeContext.fillStyle="#000000",this.compositeContext.fillRect(0,0,this.compositeEl.width,this.compositeEl.height)}removeDevice(h,g){const b=g.findIndex(T=>(O=>O.name===h)(T));if(!(b<0))return g.splice(b,1)[0]}shouldMix(h){if(h.getTime()<this.nextMix)return!1;for(;this.nextMix<=h.getTime();)this.nextMix+=1e3/this.config.streamConfig.maxFramerate;return!0}}function Dd(S){return Number.isSafeInteger(S)}var Ah,Md,Ld=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},a0=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)};class Vl{constructor(h){this.config=h,Ah.add(this),this.emitter=new Xr,this.isValid=!0,this.emitter.on(Ar.ERROR,this.stopBroadcast),this.config.ingestEndpoint&&(this.url=new URL(this.config.ingestEndpoint)),this.analyticsTracker=new Dc,this.mediaStreamManager=new Ie;const g=new Wm(h.logLevel,h.logger);this.peerClient=new Vn(this.config,this.emitter,this.mediaStreamManager,g,this.analyticsTracker),this.broadcastCanvasManager=new Ga(h,this.mediaStreamManager,this.analyticsTracker),this.peerStatsTracker=new i0(this.peerClient,this.broadcastCanvasManager,g,this.analyticsTracker),this.broadcastCanvasManager.start(),Object.getOwnPropertyNames(Vl.prototype).forEach(b=>{this[b]=new Proxy(this[b],{apply:(T,O,N)=>{if(!O.isValid)throw new Ct(Object.assign({},bh));return Reflect.apply(T,O,N)}})}),window.addEventListener("beforeunload",()=>{this.analyticsTracker.stop(!0)})}delete(){this.isValid=!1,this.peerClient.stop(),this.broadcastCanvasManager.stop(),this.emitter.removeAllListeners()}startBroadcast(h,g){return Ld(this,void 0,void 0,function*(){a0(this,Ah,"m",Md).call(this,h);const b=Yy(g||this.config.ingestEndpoint);this.analyticsTracker.start(),this.peerStatsTracker.start(),yield this.peerClient.start(b,h),this.emitter.emit(Ar.ACTIVE_STATE_CHANGE,!0),this.url=new URL(b),this.url&&this.analyticsTracker.trackEvent(new Ph({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port},Nd.USER_INITIATED))})}stopBroadcast(){var h,g,b;this.url&&this.analyticsTracker.trackEvent(new zm({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port})),(h=this.peerStatsTracker)===null||h===void 0||h.stop(),(g=this.peerClient)===null||g===void 0||g.stop(),(b=this.emitter)===null||b===void 0||b.emit(Ar.ACTIVE_STATE_CHANGE,!1)}getCanvasDimensions(){return this.broadcastCanvasManager.getCanvasDimensions()}addVideoInputDevice(h,g,b){return Ld(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addVideoInputDevice(h,g,b)})}addImageSource(h,g,b){return Ld(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addImageSource(h,g,b)})}addAudioInputDevice(h,g){return Ld(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addAudioInputDevice(h,g)})}removeVideoInputDevice(h){this.broadcastCanvasManager.removeVideoInputDevice(h)}removeAudioInputDevice(h){this.broadcastCanvasManager.removeAudioInputDevice(h)}removeImage(h){this.broadcastCanvasManager.removeImage(h)}updateVideoDeviceComposition(h,g){this.broadcastCanvasManager.updateVideoDeviceComposition(h,g)}exchangeVideoDevicePositions(h,g){this.broadcastCanvasManager.exchangeVideoDevicePositions(h,g)}getAudioInputDevice(h){return this.broadcastCanvasManager.getAudioInputDevice(h)}getVideoInputDevice(h){return this.broadcastCanvasManager.getVideoInputDevice(h)}getConnectionState(){return this.peerClient.getConnectionState()}getSessionId(){return this.peerClient.getSessionId()}on(h,g){this.emitter.on(h,g)}off(h,g){this.emitter.off(h,g)}getAudioContext(){return this.broadcastCanvasManager.audioContext}attachPreview(h){this.broadcastCanvasManager.attachPreview(h)}detachPreview(){this.broadcastCanvasManager.detachPreview()}disableVideo(){this.broadcastCanvasManager.disableVideo()}enableVideo(){this.broadcastCanvasManager.enableVideo()}disableAudio(){this.broadcastCanvasManager.disableAudio()}enableAudio(){this.broadcastCanvasManager.enableAudio()}}function qm(S){return new Vl(function(h){const g=new Qy;return g.streamConfig=h.streamConfig,g.ingestEndpoint=h.ingestEndpoint,g.logger=h.logger,g.logLevel=h.logLevel,g.networkReconnectConfig=h.networkReconnectConfig,g}(S))}Ah=new WeakSet,Md=function(S){if(typeof S!="string"||!/^[a-zA-Z0-9_-]+$/.test(S))throw new Ct(Sh)};const Wl="1.21.0";var qe,wr=i(2543);(function(S){S.PUBLISH="publish",S.SUBSCRIBE="subscribe",S.JOIN="join",S.LEAVE="leave"})(qe||(qe={}));const Mw=2,Lw="X-Stages-Options",Fw="cap";class Dh extends sn{constructor(h){super(ln.LEAVE,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.LEAVE,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint,reason:h.reason}),this.critical=!0}}class yo{constructor(){this.emitter=new Xr}on(h,g,b){g.call=function(T,O){return function(N,...M){try{O.apply(N,M)}catch(L){let j=`Error in callback for ${T}`;const F=O.name;return F&&(j+=` for function ${F}`),void console.error(`${j}
`,L)}}}(h,g),this.emitter.on(h,g,b)}off(h,g,b){this.emitter.off(h,g,b)}emit(h,...g){this.emitter.emit(h,...g)}removeAllListeners(){this.emitter.removeAllListeners()}}function Mh(S){const h="0123456789abcdef";let g="";for(let b=0;b<S;b+=1)g+=h.charAt(Math.floor(16*Math.random()));return g}class Uw{constructor(){const h=Mh;this.value=`${h(8)}-${h(4)}-${h(4)}-${h(4)}-${h(12)}`}}function qa(){return new Uw}class c0{constructor(){const h=(Date.now()/1e3|0).toString(16);this.value=`1-${h}-${Mh(24)}`}}function Xi(){return new c0}var gr=i(2505),Hr=i.n(gr);class en extends Ct{constructor({token:h,traceId:g,code:b,tag:T,location:O,message:N,details:M,remoteParticipantId:L,requestUUID:j,fatal:F,nominal:B,action:W,count:ie=1}){super({name:"StageClientError",message:N,code:b}),Error.captureStackTrace&&Error.captureStackTrace(this,en),this.action=W,this.token=h,this.traceId=g,this.code=b,this.tag=T,this.location=O,this.message=N,this.details=M,this.remoteParticipantId=L,this.requestUUID=j,this.fatal=F,this.nominal=B,this.count=ie}}const Fd="signalling_session",Ud="webrtc_sink",Bw="webrtc_unsink",Bd="webrtc_source";function Jr(S,h){switch(S){case qe.PUBLISH:return Ud;case qe.SUBSCRIBE:return`webrtc_source:${h}`;default:return"unknown"}}function da(S,h){var g,b,T,O;const N={code:S.code,message:`${S.message}: ${h.name} ${h.message}`,fatal:(g=S.fatal)!==null&&g!==void 0&&g,nominal:(b=S.nominal)!==null&&b!==void 0&&b};return h instanceof en&&(N.fatal=(T=h.fatal)!==null&&T!==void 0&&T,N.nominal=(O=h.nominal)!==null&&O!==void 0&&O),N}function Fc(S,h){if(S===0)return je.UNKNOWN_SERVER_ERROR;if(!(S<400))if(S>=400&&S<=403)switch(h){case _i.TokenExpired:return je.EXPIRED_TOKEN;case _i.NoPermissions:return je.TOKEN_PERMISSIONS_DENIED;case _i.StageAtCapacity:return je.STAGE_AT_CAPACITY;case _i.NoMatchingCodec:return je.NO_MATCHING_CODEC;default:return je.UNKNOWN_SERVER_ERROR}else{if(S===404)return h===_i.RemoteStreamNotFound?je.REMOTE_STREAM_NOT_FOUND:je.UNKNOWN_SERVER_ERROR;if(S===412)return h===_i.AbortedMHCPError?je.MHCP_ABORTED:je.UNKNOWN_SERVER_ERROR;if(S===429)return h===_i.StageAuthThrottled?je.STAGE_AUTH_THROTTLED:je.WHIP_TOO_MANY_REQUESTS;if(S!==500)return je.UNKNOWN_SERVER_ERROR;switch(h){case _i.InternalMHCPError:return je.INTERNAL_MHCP_ERROR;case _i.UnreachableMHCP:return je.UNREACHABLE_MHCP;case _i.InvalidSessionStatus:return je.INVALID_SESSION_STATUS;default:return je.INTERNAL_SERVER_ERROR}}}var _i;(function(S){S[S.Unspecified=2001]="Unspecified",S[S.TokenExpired=2002]="TokenExpired",S[S.NoPermissions=2003]="NoPermissions",S[S.RemoteStreamNotFound=2004]="RemoteStreamNotFound",S[S.StageAtCapacity=2005]="StageAtCapacity",S[S.InternalMHCPError=2006]="InternalMHCPError",S[S.UncategorizedMHCPError=2007]="UncategorizedMHCPError",S[S.UnreachableMHCP=2008]="UnreachableMHCP",S[S.InvalidSessionStatus=2010]="InvalidSessionStatus",S[S.PostWithoutOptions=2011]="PostWithoutOptions",S[S.AbortedMHCPError=2012]="AbortedMHCPError",S[S.StageAuthThrottled=2013]="StageAuthThrottled",S[S.NoMatchingCodec=2014]="NoMatchingCodec"})(_i||(_i={}));const je={MALFORMED_TOKEN:{code:1e3,message:"Token is malformed",fatal:!0,nominal:!0},EXPIRED_TOKEN:{code:1001,message:"Token expired and is no longer valid",fatal:!0,nominal:!0},UNPUBLISH_FAILURE:{code:1013,message:"Failed to unpublish",fatal:!1,nominal:!1},UNSUBSCRIBE_FAILURE:{code:1014,message:"Failed to unsubscribe",fatal:!1,nominal:!1},PUBLISH_FAILURE:{code:1015,message:"Failed to publish",fatal:!1,nominal:!1},SUBSCRIBE_FAILURE:{code:1016,message:"Failed to subscribe",fatal:!1,nominal:!1},JOIN_FAILURE:{code:1017,message:"Failed to join",fatal:!0,nominal:!1},JOIN_TIMED_OUT:{code:1019,message:"Join timed out",fatal:!0,nominal:!1},PUBLISH_TIMED_OUT:{code:1020,message:"Publish timed out",fatal:!1,nominal:!1},SUBSCRIBE_TIMED_OUT:{code:1021,message:"Subscribe timed out",fatal:!1,nominal:!1},NO_CANDIDATES:{code:1022,message:"No ICE candidates",fatal:!1,nominal:!1},OPERATION_ABORTED:{code:1023,message:"Request aborted",fatal:!1,nominal:!0},STAGE_AT_CAPACITY:{code:1024,message:"Stage at capacity",fatal:!0,nominal:!0},INTERNAL_SERVER_ERROR:{code:1025,message:"Internal server error",fatal:!0,nominal:!1},TOKEN_PERMISSIONS_DENIED:{code:1026,message:"Token permissions are not valid for the operation",fatal:!0,nominal:!1},REMOTE_STREAM_NOT_FOUND:{code:1027,message:"Contributor group (PUBLISH) or remote stream (SUBSCRIBE) not found",fatal:!0,nominal:!1},INTERNAL_MHCP_ERROR:{code:1028,message:"Authorization failed due to internal MHCP error",fatal:!0,nominal:!1},UNCATEGORIZED_MHCP_ERROR:{code:1029,message:"Authorization failed due to uncategorized MHCP error",fatal:!0,nominal:!1},UNREACHABLE_MHCP:{code:1030,message:"Authorization failed due to MHCP unreachable",fatal:!0,nominal:!1},INVALID_SESSION_STATUS:{code:1031,message:"Stream has already been published (PUBLISH) or subscribed to (SUBSCRIBE)",fatal:!0,nominal:!1},POST_WITHOUT_OPTIONS:{code:1032,message:"Cannot POST without OPTIONS in mandatory TURN",fatal:!0,nominal:!1},MHCP_ABORTED:{code:1033,message:"Publisher state conflict",fatal:!0,nominal:!1},STAGE_AUTH_THROTTLED:{code:1034,message:"Too many requests",fatal:!1,nominal:!1},NO_MATCHING_CODEC:{code:1035,message:"No matching codec found",fatal:!0,nominal:!1},CHIME_MEETING_NOT_FOUND:{code:1098,message:"Meeting or Attendee was deleted",fatal:!0,nominal:!0},UNKNOWN_SERVER_ERROR:{code:1099,message:"Service error code unknown or not found",fatal:!0,nominal:!1},XDP_CONNECTION_LOST:{code:1221,message:"Connection lost during SDP exchange",fatal:!1,nominal:!1},XDP_INVALID_ANSWER_MSG:{code:1222,message:"Invalid answer message received by client",fatal:!1,nominal:!1},XDP_TIMEOUT:{code:1223,message:"Failed to receive SDP answer within timeout period",fatal:!1,nominal:!1},XDP_UNEXPECTED_ERROR:{code:1224,message:"Unexpected error encountered",fatal:!1,nominal:!1},WEBSOCKET_MESSAGE_PARSE_FAILURE:{code:1204,message:"Failed to parse websocket message",fatal:!1,nominal:!1},WHIP_SESSION_RESOURCE_DELETED:{code:1206,message:"WHIP signaling session resource not found",fatal:!0,nominal:!0},WHIP_TOO_MANY_REQUESTS:{code:1207,message:"WHIP endpoint received too many requests",fatal:!1,nominal:!1},WHIP_OPTIONS_FAILURE:{code:1501,message:"Failed to get ICE Servers from OPTIONS",fatal:!1,nominal:!1},WHIP_POST_FAILURE:{code:1502,message:"WHIP post failure",fatal:!1,nominal:!1},WHIP_DELETE_FAILURE:{code:1503,message:"WHIP delete failure",fatal:!1,nominal:!1},WHIP_URL_MISSING:{code:1504,message:"WHIP delete failure",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_FAILED:{code:1510,message:"Set layer request failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_THROTTLED:{code:1511,message:"Too many set layer requests",fatal:!1,nominal:!0},WHEP_GET_LAYER_STATE_FAILED:{code:1512,message:"Get layer state failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_GET_LAYER_STATE_THROTTLED:{code:1513,message:"Too many get layer state requests",fatal:!1,nominal:!0},EVENT_PLANE_WS_CREATE_FAILED:{code:1300,message:"Error creating WebSocket",fatal:!0,nominal:!1},EVENT_PLANE_WS_UNEXPECTED_CLOSE:{code:1302,message:"Unexpectedly not connected to event plane",fatal:!1,nominal:!1},EVENT_PLANE_PING_SEND_FAIL:{code:1303,message:"Ping send fail",fatal:!1,nominal:!1},EVENT_PLANE_PONG_TIMEOUT:{code:1304,message:"Pong timed out",fatal:!1,nominal:!1},EVENT_PLANE_WS_CLOSE_BEFORE_OPEN:{code:1305,message:"Connect attempt closed by server",fatal:!1,nominal:!1},PEER_CONNECTION_NETWORK_FAILURE:{code:1400,message:"PeerConnection is lost due to unknown network error",fatal:!1,nominal:!1},CREATE_OFFER_FAILURE:{code:1402,message:"Failed to set local description",fatal:!1,nominal:!1},CREATE_PEER_CONNECTION_FAILURE:{code:1403,message:"Failed to create a peer connection",fatal:!1,nominal:!1},ICE_CANDIDATE_ERROR:{code:1404,message:"ICE candidate error",fatal:!1,nominal:!1},SET_ANSWER_FAILURE:{code:1405,message:"Failed to set remote answer",fatal:!1,nominal:!1},NETWORK_FAILURE:{code:1406,message:"Failed due to network problem",fatal:!1,nominal:!1},SEI_INSERT_NOT_PUBLISHING_VIDEO:{code:1460,message:"SEI failed to insert due to not publishing video",fatal:!1,nominal:!0},SEI_INSERT_INBAND_NOT_ENABLED:{code:1461,message:"SEI failed to insert due to in-band messaging not being enabled",fatal:!1,nominal:!0},REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID:{code:1470,message:"Invalid participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID:{code:1471,message:"Invalid remote participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE:{code:1472,message:"Invalid subscriber peer connection state for reassignment",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS:{code:1473,message:"Request rejected because client is already processing a previous reassignment request",fatal:!1,nominal:!1},UNEXPECTED_ERROR:{code:9999,message:"Encountered unexpected error condition. Expected StageClientError type.",fatal:!1,nominal:!1},TRANSFORM_UNEXPECTED_ERROR:{code:1480,message:"Unexpected error occurred during transform execution",fatal:!1,nominal:!1},TRANSFORM_TOO_MANY_ERRORS:{code:1481,message:"Transformer encountered too many consecutive errors",fatal:!1,nominal:!1},TRANSFORM_NOT_SUPPORTED_BY_PLATFORM:{code:1482,message:"Transforms are not supported by this platform",fatal:!1,nominal:!1},CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR:{code:1490,message:"Unexpected error occurred when handling incompatible codecs",fatal:!1,nominal:!1}};var wi;(function(S){S.UNPUBLISH="unpublish",S.UNSUBSCRIBE="unsubscribe",S.UNLOAD="unload",S.CONNECTION_FAIL="connection fail",S.REASSIGNMENT="reassignment"})(wi||(wi={}));const Hl="stageJoined",Lh="stageParticipantJoined",Fh="stageParticipantLeft",Km="stageParticipantKicked",Uh="stageParticipantUpdated",Ym="localPublishingChanged",Bh="stageRefresh",fa="stateChange",Qm="error",H="reassignmentRequest",Uc="incompatibleCodecs",Gl="connectionStateChange",Ji="stageStreamUpdate",yn="error",Ka="stageStreamSeiMessageReceived",ds="transformError",Bs="reassignmentStarted",Ya="reassignmentSuccess",Bo="reassignmentFailed",Xm="open",$d="closed",l0="messageParseError",u0="refresh",fs="error",ql="stageStateMessage",Kl="sdpAnswer",d0="disconnectMessage",Jm="reassignmentMessage",$s="incompatibleCodecs";function $h(S){return g=function(b){return b.replace(/-/g,"+").replace(/_/g,"/").padEnd(b.length+(4-b.length%4)%4,"=")}(S),window.atob(g);var g}class Bc{constructor(h,g){this.analyticsTracker=g,this.rawToken=h;const b=h.split(".");if(b.length!==3)throw Error(`Token format incorrect. length: ${b.length}`);try{this.header=JSON.parse($h(b[0]))}catch(N){const M=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token header${M}`)}try{this.claims=JSON.parse($h(b[1]))}catch(N){const M=N instanceof Error?`: ${N.message}`:"";throw Error(`Error parsing Stage Token claims${M}`)}this.signature=b[2];const{claims:T}=this;this.stageARN=T.resource,this.participantID=T.jti,this.eventsURL=T.events_url,this.whipURL=Si("whipUrl")||T.whip_url,this.userID=T.user_id,this.expirationTime=T.exp,this.topic=T.topic,this.parseVersionFlags(T.version);const{attributes:O}=T;O&&(this.attrGsRole=O.gs_role,this.attrGsSessionId=O.gs_session_id)}getPublishEndpoint(){let h="";return this.whipURL&&this.participantID&&(h=`${this.whipURL}/publish/${this.participantID}`),h}getSubscribeEndpoint(h){let g="";return this.whipURL&&(g=`${this.whipURL}/subscribe/${h}`),g}assertTokenIsUnexpired(h,g,b,T){(!this.expirationTime||Date.now()/1e3>=this.expirationTime)&&this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},je.EXPIRED_TOKEN),{action:qe.JOIN,location:b,tag:g,token:this,traceId:h,remoteParticipantId:T,message:je.EXPIRED_TOKEN.message,details:`Token expired at ${this.expirationTime} and is no longer valid`})))}parseVersionFlags(h){if(!h)return;const g=h.split(".");g.length===2&&(this.versionFlags=parseInt(g[1],10))}shouldSendSilentAudio(){return this.versionFlags===void 0||!!(this.versionFlags&Mw)}}function bo(S,h){return new Bc(S,h)}class f0{constructor(h,g){this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=()=>{this.trailing&&this.trailingFn&&this.trailingFn(...this.trailingFnArgs),this.clear()},this.throttleDuration=h,this.trailing=!(g&&g.skipTrailing)}invoke(h,...g){return this.throttled?(this.trailingFn=h,this.trailingFnArgs=g,!1):(this.throttled=!0,this.timeout=window.setTimeout(this.unthrottle,this.throttleDuration),h(...g),!0)}clear(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn,delete this.trailingFnArgs}}var ot=i(8954);class Yl extends sn{constructor(h,g,b,T,O,N,M,L){super(ln.SERVER_REQUEST,g,M,!0),Object.assign(this.properties,{action:h,http_method:T,remote_participant_id:N,request_uuid:O,url:b,transport:L})}}const hs="draft-ietf-wish-whip-04";var Zr,h0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};function zd(S,h){return h0(this,void 0,void 0,function*(){S.validateStatus=b=>b>=200&&b<300||b===403;const g=yield Hr()(S);if(g.status===403){if(g.data.code===2003)throw new gr.AxiosError("Request failed with status code 403","ERR_BAD_REQUEST",S,g.request,g);return S.url===g.request.responseURL?(S.validateStatus=b=>b>=200&&b<300,Hr()(S)):(S.url=g.request.responseURL,h<5?zd(S,h+1):(S.validateStatus=b=>b>=200&&b<300,Hr()(S)))}return g})}function p0(S){return h0(this,void 0,void 0,function*(){return zd(S,0)})}function ei(){}function zh(S){switch(S){case"new":return gt.NEW;case"closed":return gt.CLOSED;case"disconnected":return gt.DISCONNECTED;case"failed":return gt.FAILED;case"idle":return gt.IDLE;case"checking":case"connecting":return gt.CONNECTING;case"completed":case"connected":return gt.CONNECTED;default:throw new Error(`unknown connecion state: ${S}`)}}function Zm(S,h,g){let b=document.createElement(h);const T=()=>{b&&(b.removeEventListener("loadeddata",O),b.removeEventListener("error",T),b.srcObject=null,b.src="",b=null)},O=()=>{T(),g(h)};return b.addEventListener("loadeddata",O),b.addEventListener("error",T),b.srcObject=S,T}class xo extends sn{constructor(h,g,b,T,O){super(ln.TRACE,h,g,!1),Object.assign(this.properties,{action:T,message:b,remote_participant_id:O})}}class eg extends sn{constructor(h,g,b,T,O){super(ln.CONNECTION_STATE,g,b,!1),Object.assign(this.properties,{action:h,remote_participant_id:O,state:T})}}class Vh extends sn{constructor(h,g,b,T,O){super(ln.ICE_GATHERING_STATE,g,b,!1),Object.assign(this.properties,{action:h,remote_participant_id:O,state:T})}}(function(S){S.POST="post",S.CONNECTED="connected",S.ICE_GATHERING="icegathering",S.SDP_EXCHANGE="sdpExchange",S.SET_REMOTE_DESC="setRemoteDesc",S.PEER_CONNECTION="peerConnection"})(Zr||(Zr={}));const Qa="start",tg="stop";class Bi{constructor(h,g){this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0,this.action=h,this.traceId=g}markActionStart(){this.markStart(Zr.CONNECTED)}markPostStart(){this.markStart(Zr.POST)}markPostStop(){this.markStop(Zr.POST),this.postDuration=this.measure(Zr.POST)}markIceGatheringStart(){this.markStart(Zr.ICE_GATHERING)}markIceGatheringStop(){this.markStop(Zr.ICE_GATHERING),this.timeToCandidate=this.measure(Zr.ICE_GATHERING)}markActionStop(){this.markStop(Zr.CONNECTED),this.timeToConnected=this.measure(Zr.CONNECTED),this.markStop(Zr.PEER_CONNECTION),this.peerConnectionDuration=this.measure(Zr.PEER_CONNECTION)}markSetRemoteDescStart(){this.markStart(Zr.SET_REMOTE_DESC)}markSetRemoteDescStop(){const h=Zr.SET_REMOTE_DESC;this.markStop(h),this.setRemoteDescDuration=this.measure(h),this.markStart(Zr.PEER_CONNECTION)}markSdpExchangeStart(){this.markStart(Zr.SDP_EXCHANGE)}markSdpExchangeStop(){const h=Zr.SDP_EXCHANGE;this.markStop(h),this.sdpExchangeDuration=this.measure(h)}setTransport(h){this.sdpExchangeTransport=h}markStart(h){this.marks[`${this.namespace}.${h}.${Qa}`]=performance.now()}markStop(h){this.marks[`${this.namespace}.${h}.${tg}`]=performance.now()}measure(h){const g=`${this.namespace}.${h}.${Qa}`,b=`${this.namespace}.${h}.${tg}`,T=this.marks[g],O=this.marks[b];return T===void 0||O===void 0?0:O-T}get namespace(){return`ivswb.peerclient.${this.action}.${this.traceId.value}`}getMeasurements(){const{optionsDuration:h,postDuration:g,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:M,peerConnectionDuration:L}=this;return{optionsDuration:h,postDuration:g,timeToCandidate:b,timeToConnected:T,sdpExchangeDuration:O,sdpExchangeTransport:N,setRemoteDescDuration:M,peerConnectionDuration:L}}resetMeasurements(h){this.traceId=h,this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0}}var ha,Ei,Ql;(function(S){S.VIDEO="video",S.AUDIO="audio"})(ha||(ha={})),function(S){S.DEFAULT="default",S.LOW="low",S.MEDIUM="medium",S.HIGH="high"}(Ei||(Ei={})),function(S){S.LOWEST_QUALITY="lowest_quality",S.HIGHEST_QUALITY="highest_quality"}(Ql||(Ql={}));var Xl=i(7363);class In{constructor(h){this.sdp=h}static splitLines(h){return h.trim().split(`
`).map(g=>g.trim())}static splitSections(h){return h.split(`
m=`).map((g,b)=>(b>0?`m=${g}`:g).trim()+In.CRLF)}getUniqueRtpHeaderExtensionId(h){const g=[];for(const T of h)if(/^a=extmap:/.test(T.trim())){const O=+T.split("a=extmap:")[1].split(" ")[0];g.includes(O)||g.push(O)}g.sort((T,O)=>T-O);let b=0;for(const T of g){if(T-b>1)return b+1;b=T}return b===14?-1:b+1}withVideoLayersAllocationRtpHeaderExtension(h){const g="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",b=h?h.getRtpHeaderExtensionId(g):-1,T=b===-1?this.getUniqueRtpHeaderExtensionId(In.splitLines(this.sdp)):b,O=In.splitSections(this.sdp),N=[];for(let L of O){if(/^m=video/.test(L)&&In.getRtpHeaderExtensionIdInSection(L,g)===-1){const j=In.splitLines(L),F=[];if(T===-1||this.hasRtpHeaderExtensionId(T)){N.push(L);continue}for(const B of j)if(F.push(B),/^a=sendrecv/.test(B.trim())){const W=`a=extmap:${T} ${g}`;F.push(W)}L=F.join(In.CRLF)+In.CRLF}else if(b!==-1&&/^m=video/.test(L)&&In.getRtpHeaderExtensionIdInSection(L,g)!==b){const j=In.splitLines(L),F=[];for(const B of j){if(/^a=extmap:/.test(B.trim())&&B.split("a=extmap:")[1].split(" ")[1]===g){if(!this.hasRtpHeaderExtensionId(b)){const W=`a=extmap:${b} ${g}`;F.push(W)}continue}F.push(B)}L=F.join(In.CRLF)+In.CRLF}N.push(L)}const M=N.join("");return new In(M)}withOpusAudioConfig(h,g){const b=Xl.qg(this.sdp);for(const T of b.media)if(T.type==="audio"){const{payload:O}=T.rtp.find(j=>j.codec==="opus");if(!O)continue;let N=T.fmtp.find(j=>j.payload===O);N||(N={payload:O,config:""});const M=Xl.Sl(N.config);if(M.maxaveragebitrate=h,typeof g=="boolean"){const j=g?1:0;M["sprop-stereo"]=j,M.stereo=j}let L="";for(const j of Object.keys(M))L+=`${j}=${M[j]}; `;N.config=L.trim()}return new In(Xl.M9(b))}static getRtpHeaderExtensionIdInSection(h,g){const b=In.splitLines(h);for(const T of b)if(/^a=extmap:/.test(T.trim())){const O=T.split("a=extmap:")[1].split(" "),N=+O[0];if(O[1]===g)return N}return-1}getRtpHeaderExtensionId(h){const g=In.splitSections(this.sdp);for(const b of g)if(/^m=video/.test(b)){const T=In.getRtpHeaderExtensionIdInSection(b,h);if(T!==-1)return T}return-1}hasRtpHeaderExtensionId(h){const g=In.splitLines(this.sdp);for(const b of g)if(/^a=extmap:/.test(b.trim())&&+b.split("a=extmap:")[1].split(" ")[0]===h)return!0;return!1}hasAudioNacksEnabled(){var h,g,b;return((b=(g=((h=Xl.qg(this.sdp).media.filter(T=>T.type==="audio")[0])!==null&&h!==void 0?h:{}).rtcpFb)===null||g===void 0?void 0:g.filter(T=>T.type==="nack"))!==null&&b!==void 0?b:[]).length>0}}In.CRLF=`\r
`,In.rfc7587LowestBitrate=6e3,In.rfc7587HighestBitrate=51e4;const $c=200,ps=2500,Wh=10,Xa=30,Vd=12,zc=128,ng=64,rg={[Ei.DEFAULT]:0,[Ei.LOW]:50,[Ei.MEDIUM]:150,[Ei.HIGH]:250},m0={[Ei.DEFAULT]:0,[Ei.LOW]:100,[Ei.MEDIUM]:200,[Ei.HIGH]:300};var g0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const ig="H264",Wd=S=>{const h=S==null?void 0:S.split("/");if((h==null?void 0:h.length)===2)return h[1]},ms=(S,h)=>{const g=Wd(S);if(S===void 0||g===void 0)return;const b={mimeSubtype:g};if(h){const T=(O=>{const N=O.split(";"),M=new Map;for(const L of N){const[j,F]=L.split("=");M.set(j,F)}return M})(h);switch(g){case ig:{const O=T.get("profile-level-id");O&&((N,M)=>{if(M.length<6)return;const L=M.substring(0,4),j=parseInt(M.substring(4,6),16);N.profile=L,N.level=j})(b,O);break}case"H265":((O,N)=>{const M=N.get("profile-id")||"0",L=N.get("tier-flag")||"0",j=parseInt(N.get("level-id")||"0",10),F=[L,M].join("_");O.profile=F,O.level=j})(b,T)}}return b},og=(S,h)=>S.sort((g,b)=>{if(Wd(g.mimeType)===ig){const T=ms(g.mimeType,g.sdpFmtpLine);if((T==null?void 0:T.profile)===h)return-1}return 0}),sg=(S,h)=>{var g;const b=ms(S.mimeType,S.sdpFmtpLine);return(b==null?void 0:b.mimeSubtype.toLowerCase())===h.mime.toLowerCase()&&((g=b==null?void 0:b.profile)===null||g===void 0?void 0:g.toLowerCase().indexOf(h.config.toLowerCase()))===0},ag=(S,h)=>h.filter(g=>!g.mimeType.endsWith("rtx")).filter(g=>g.mimeType.indexOf("packetization-mode=0")===-1).find(g=>S.reduce((b,T)=>b&&sg(g,T)===!1,!0));class v0 extends sn{constructor(h,g,b,T,O,N,M,L,j){var F,B;super(ln.PUBLISHED_VIDEO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:qe.PUBLISH,node:(F=b==null?void 0:b.node)!==null&&F!==void 0?F:"",cluster:(B=b==null?void 0:b.cluster)!==null&&B!==void 0?B:""},((W,ie,be,ge,le,ae)=>{var oe,we,We,st,Rt,Yt,Qt,Vt,Nt,tn,un,vt,yt,cn,It,jt,dn,Pn,$n,or,An,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Gr;const Ii=(we=(oe=W==null?void 0:W.qualityLimitationDurations)===null||oe===void 0?void 0:oe.cpu)!==null&&we!==void 0?we:0,ji=(st=(We=W==null?void 0:W.qualityLimitationDurations)===null||We===void 0?void 0:We.bandwidth)!==null&&st!==void 0?st:0,pi=Math.max((Rt=W==null?void 0:W.bytesSent)!==null&&Rt!==void 0?Rt:0,0),Vi=8*pi/(ae??1),to=Math.max((Yt=ie==null?void 0:ie.packetsLost)!==null&&Yt!==void 0?Yt:0,0),wo=Math.max((Qt=W==null?void 0:W.packetsSent)!==null&&Qt!==void 0?Qt:0,0),mr=to/Math.max(wo,1),li=ms(ge==null?void 0:ge.mimeType,ge==null?void 0:ge.sdpFmtpLine);return{active:!!(W!=null&&W.framesPerSecond)&&W.framesPerSecond!==0,bytes_sent:pi,codec_mime_type:li==null?void 0:li.mimeSubtype,codec_profile:li==null?void 0:li.profile,codec_level:li==null?void 0:li.level,configured_bitrate:le==null?void 0:le.max_bitrate,connection_bandwidth:(Vt=be==null?void 0:be.availableOutgoingBitrate)!==null&&Vt!==void 0?Vt:0,encode_bitrate:Vi,encoder_implementation:(Nt=W==null?void 0:W.encoderImplementation)!==null&&Nt!==void 0?Nt:"unknown",fir_count:(tn=W==null?void 0:W.firCount)!==null&&tn!==void 0?tn:0,fraction_packets_lost:mr,frame_height:Math.max((un=W==null?void 0:W.frameHeight)!==null&&un!==void 0?un:0,0),frame_width:Math.max((vt=W==null?void 0:W.frameWidth)!==null&&vt!==void 0?vt:0,0),frames_encoded:(yt=W==null?void 0:W.framesEncoded)!==null&&yt!==void 0?yt:0,frames_per_second:Math.max((cn=W==null?void 0:W.framesPerSecond)!==null&&cn!==void 0?cn:0,0),frames_sent:(It=W==null?void 0:W.framesSent)!==null&&It!==void 0?It:0,header_bytes_sent:(jt=W==null?void 0:W.headerBytesSent)!==null&&jt!==void 0?jt:0,huge_frames_sent:(dn=W==null?void 0:W.hugeFramesSent)!==null&&dn!==void 0?dn:0,key_frames_encoded:(Pn=W==null?void 0:W.keyFramesEncoded)!==null&&Pn!==void 0?Pn:0,nack_count:($n=W==null?void 0:W.nackCount)!==null&&$n!==void 0?$n:0,packets_lost:to,packets_sent:wo,power_efficient_encoder:(or=W==null?void 0:W.powerEfficientEncoder)!==null&&or!==void 0&&or,pli_count:(An=W==null?void 0:W.pliCount)!==null&&An!==void 0?An:0,quality_limitation_reason:(vr=W==null?void 0:W.qualityLimitationReason)!==null&&vr!==void 0?vr:"none",quality_limitation_resolution_changes:(lr=W==null?void 0:W.qualityLimitationResolutionChanges)!==null&&lr!==void 0?lr:0,quality_limitation_cpu_duration:Ii,quality_limitation_bandwidth_duration:ji,retransmitted_bytes_sent:(ur=W==null?void 0:W.retransmittedBytesSent)!==null&&ur!==void 0?ur:0,retransmitted_packets_sent:(dr=W==null?void 0:W.retransmittedPacketsSent)!==null&&dr!==void 0?dr:0,rid:(fr=W==null?void 0:W.rid)!==null&&fr!==void 0?fr:"no-rid",scalability_mode:(hr=W==null?void 0:W.scalabilityMode)!==null&&hr!==void 0?hr:"unknown",target_bitrate:Math.max((Ur=W==null?void 0:W.targetBitrate)!==null&&Ur!==void 0?Ur:0,0),total_encode_time:(pr=W==null?void 0:W.totalEncodeTime)!==null&&pr!==void 0?pr:0,total_encoded_bytes_target:(hi=W==null?void 0:W.totalEncodedBytesTarget)!==null&&hi!==void 0?hi:0,total_packet_send_delay:(Gr=W==null?void 0:W.totalPacketSendDelay)!==null&&Gr!==void 0?Gr:0}})(T,O,N,M,L,j)))}}class cg extends sn{constructor(h,g,b,T,O,N,M,L,j,F,B,W){var ie,be,ge,le;super(ln.PUBLISHED_VIDEO_STATS_WINDOW,h,g,!1);const ae=Math.max(((ie=T==null?void 0:T.timestamp)!==null&&ie!==void 0?ie:0)-((be=O==null?void 0:O.timestamp)!==null&&be!==void 0?be:0),0);Object.assign(this.properties,Object.assign({action:qe.PUBLISH,node:(ge=b==null?void 0:b.node)!==null&&ge!==void 0?ge:"",cluster:(le=b==null?void 0:b.cluster)!==null&&le!==void 0?le:"",window_size_ms:ae},((oe,we,We,st,Rt,Yt,Qt,Vt,Nt,tn)=>{var un,vt,yt,cn,It,jt,dn,Pn,$n,or,An,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Gr,Ii,ji,pi,Vi,to,wo,mr,li,Vs,_a,Eo,Vo,wa,Ws,Hs,Gs,qs,Ks,Wo,rc,au,cu,lu,uf,qc,df,ff,Kc,d,v,k;const D=(vt=(un=oe==null?void 0:oe.qualityLimitationDurations)===null||un===void 0?void 0:un.cpu)!==null&&vt!==void 0?vt:0,z=(cn=(yt=we==null?void 0:we.qualityLimitationDurations)===null||yt===void 0?void 0:yt.cpu)!==null&&cn!==void 0?cn:0,K=(jt=(It=oe==null?void 0:oe.qualityLimitationDurations)===null||It===void 0?void 0:It.bandwidth)!==null&&jt!==void 0?jt:0,te=(Pn=(dn=we==null?void 0:we.qualityLimitationDurations)===null||dn===void 0?void 0:dn.bandwidth)!==null&&Pn!==void 0?Pn:0,se=Math.max((($n=oe==null?void 0:oe.bytesSent)!==null&&$n!==void 0?$n:0)-((or=we==null?void 0:we.bytesSent)!==null&&or!==void 0?or:0),0),he=typeof Vt!="number"?1:Vt/1e3,Pe=8*se/he,ke=Math.max(((An=We==null?void 0:We.packetsLost)!==null&&An!==void 0?An:0)-((vr=st==null?void 0:st.packetsLost)!==null&&vr!==void 0?vr:0),0),Le=Math.max(((lr=oe==null?void 0:oe.packetsSent)!==null&&lr!==void 0?lr:0)-((ur=we==null?void 0:we.packetsSent)!==null&&ur!==void 0?ur:0),0),at=ke/Math.max(Le,1),it=ms(Yt==null?void 0:Yt.mimeType,Yt==null?void 0:Yt.sdpFmtpLine),Ot=8*(tn||0)/he;return{active:!!(oe!=null&&oe.framesPerSecond)&&(oe==null?void 0:oe.framesPerSecond)!==0,bytes_sent:se,codec_mime_type:it==null?void 0:it.mimeSubtype,codec_profile:it==null?void 0:it.profile,codec_level:it==null?void 0:it.level,configured_bitrate:Qt==null?void 0:Qt.max_bitrate,connection_bandwidth:(dr=Rt==null?void 0:Rt.availableOutgoingBitrate)!==null&&dr!==void 0?dr:0,encode_bitrate:Pe,encoder_implementation:(fr=oe==null?void 0:oe.encoderImplementation)!==null&&fr!==void 0?fr:"unknown",fir_count:Math.max(((hr=oe==null?void 0:oe.firCount)!==null&&hr!==void 0?hr:0)-((Ur=we==null?void 0:we.firCount)!==null&&Ur!==void 0?Ur:0),0),fraction_packets_lost:at,frame_height:Math.max((pr=oe==null?void 0:oe.frameHeight)!==null&&pr!==void 0?pr:0,0),frame_width:Math.max((hi=oe==null?void 0:oe.frameWidth)!==null&&hi!==void 0?hi:0,0),frames_encoded:Math.max(((Gr=oe==null?void 0:oe.framesEncoded)!==null&&Gr!==void 0?Gr:0)-((Ii=we==null?void 0:we.framesEncoded)!==null&&Ii!==void 0?Ii:0),0),frames_per_second:Math.max((ji=oe==null?void 0:oe.framesPerSecond)!==null&&ji!==void 0?ji:0,0),frames_sent:Math.max(((pi=oe==null?void 0:oe.framesSent)!==null&&pi!==void 0?pi:0)-((Vi=we==null?void 0:we.framesSent)!==null&&Vi!==void 0?Vi:0),0),header_bytes_sent:Math.max(((to=oe==null?void 0:oe.headerBytesSent)!==null&&to!==void 0?to:0)-((wo=we==null?void 0:we.headerBytesSent)!==null&&wo!==void 0?wo:0),0),huge_frames_sent:Math.max(((mr=oe==null?void 0:oe.hugeFramesSent)!==null&&mr!==void 0?mr:0)-((li=we==null?void 0:we.hugeFramesSent)!==null&&li!==void 0?li:0),0),key_frames_encoded:Math.max(((Vs=oe==null?void 0:oe.keyFramesEncoded)!==null&&Vs!==void 0?Vs:0)-((_a=we==null?void 0:we.keyFramesEncoded)!==null&&_a!==void 0?_a:0),0),nack_count:Math.max(((Eo=oe==null?void 0:oe.nackCount)!==null&&Eo!==void 0?Eo:0)-((Vo=we==null?void 0:we.nackCount)!==null&&Vo!==void 0?Vo:0),0),packets_lost:ke,packets_sent:Le,power_efficient_encoder:(wa=oe==null?void 0:oe.powerEfficientEncoder)!==null&&wa!==void 0&&wa,pli_count:Math.max(((Ws=oe==null?void 0:oe.pliCount)!==null&&Ws!==void 0?Ws:0)-((Hs=we==null?void 0:we.pliCount)!==null&&Hs!==void 0?Hs:0),0),quality_limitation_reason:(Gs=oe==null?void 0:oe.qualityLimitationReason)!==null&&Gs!==void 0?Gs:"none",quality_limitation_resolution_changes:Math.max(((qs=oe==null?void 0:oe.qualityLimitationResolutionChanges)!==null&&qs!==void 0?qs:0)-((Ks=we==null?void 0:we.qualityLimitationResolutionChanges)!==null&&Ks!==void 0?Ks:0),0),quality_limitation_cpu_duration:Math.max(D-z,0),quality_limitation_bandwidth_duration:Math.max(K-te,0),retransmitted_bytes_sent:Math.max(((Wo=oe==null?void 0:oe.retransmittedBytesSent)!==null&&Wo!==void 0?Wo:0)-((rc=we==null?void 0:we.retransmittedBytesSent)!==null&&rc!==void 0?rc:0),0),rid:(au=oe==null?void 0:oe.rid)!==null&&au!==void 0?au:"no-rid",retransmitted_packets_sent:Math.max(((cu=oe==null?void 0:oe.retransmittedPacketsSent)!==null&&cu!==void 0?cu:0)-((lu=we==null?void 0:we.retransmittedPacketsSent)!==null&&lu!==void 0?lu:0),0),scalability_mode:(uf=oe==null?void 0:oe.scalabilityMode)!==null&&uf!==void 0?uf:"unknown",target_bitrate:Math.max((qc=oe==null?void 0:oe.targetBitrate)!==null&&qc!==void 0?qc:0,0),total_encode_time:Math.max(((df=oe==null?void 0:oe.totalEncodeTime)!==null&&df!==void 0?df:0)-((ff=we==null?void 0:we.totalEncodeTime)!==null&&ff!==void 0?ff:0),0),total_encoded_bytes_target:Math.max(((Kc=oe==null?void 0:oe.totalEncodedBytesTarget)!==null&&Kc!==void 0?Kc:0)-((d=we==null?void 0:we.totalEncodedBytesTarget)!==null&&d!==void 0?d:0),0),total_packet_send_delay:Math.max(((v=oe==null?void 0:oe.totalPacketSendDelay)!==null&&v!==void 0?v:0)-((k=we==null?void 0:we.totalPacketSendDelay)!==null&&k!==void 0?k:0),0),sei_write_count:Nt,sei_bytes_sent:tn,sei_bitrate:Ot}})(T,O,N,M,L,j,F,ae,B,W)))}}class lg extends sn{constructor(h,g,b,T,O,N,M,L,j,F){var B,W;super(ln.PUBLISHED_AUDIO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:qe.PUBLISH,node:(B=b==null?void 0:b.node)!==null&&B!==void 0?B:"",cluster:(W=b==null?void 0:b.cluster)!==null&&W!==void 0?W:""},((ie,be,ge,le,ae,oe,we)=>{var We,st,Rt,Yt,Qt,Vt,Nt,tn,un,vt,yt;const cn=Math.max((We=ie==null?void 0:ie.bytesSent)!==null&&We!==void 0?We:0,0),It=8*cn/(oe??1),jt=Math.max((st=be==null?void 0:be.packetsLost)!==null&&st!==void 0?st:0,0),dn=Math.max((Rt=ie==null?void 0:ie.packetsSent)!==null&&Rt!==void 0?Rt:0,0),Pn=jt/Math.max(dn,1),$n=ms(le==null?void 0:le.mimeType,le==null?void 0:le.sdpFmtpLine);return{audio_nacks_enabled:(Yt=we==null?void 0:we.audioNacks)!==null&&Yt!==void 0&&Yt,bytes_sent:cn,codec_mime_type:$n==null?void 0:$n.mimeSubtype,configured_bitrate:(Qt=ae==null?void 0:ae.max_audio_bitrate_bps)!==null&&Qt!==void 0?Qt:0,connection_bandwidth:(Vt=ge==null?void 0:ge.availableOutgoingBitrate)!==null&&Vt!==void 0?Vt:0,encode_bitrate:It,fraction_packets_lost:Pn,header_bytes_sent:(Nt=ie==null?void 0:ie.headerBytesSent)!==null&&Nt!==void 0?Nt:0,nack_count:(tn=ie==null?void 0:ie.nackCount)!==null&&tn!==void 0?tn:0,packets_lost:jt,packets_sent:dn,retransmitted_bytes_sent:(un=ie==null?void 0:ie.retransmittedBytesSent)!==null&&un!==void 0?un:0,retransmitted_packets_sent:(vt=ie==null?void 0:ie.retransmittedPacketsSent)!==null&&vt!==void 0?vt:0,target_bitrate:(yt=ie==null?void 0:ie.targetBitrate)!==null&&yt!==void 0?yt:0}})(T,O,N,M,L,j,F)))}}class mn extends sn{constructor(h,g,b,T,O,N,M,L,j,F,B){var W,ie,be,ge;super(ln.PUBLISHED_AUDIO_STATS_WINDOW,h,g,!1);const le=Math.max(((W=T==null?void 0:T.timestamp)!==null&&W!==void 0?W:0)-((ie=O==null?void 0:O.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:qe.PUBLISH,node:(be=b==null?void 0:b.node)!==null&&be!==void 0?be:"",cluster:(ge=b==null?void 0:b.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le},((ae,oe,we,We,st,Rt,Yt,Qt,Vt)=>{var Nt,tn,un,vt,yt,cn,It,jt,dn,Pn,$n,or,An,vr,lr,ur,dr,fr,hr,Ur;const pr=Math.max(((Nt=ae==null?void 0:ae.bytesSent)!==null&&Nt!==void 0?Nt:0)-((tn=oe==null?void 0:oe.bytesSent)!==null&&tn!==void 0?tn:0),0),hi=8*pr/(typeof Qt!="number"?1:Qt/1e3),Gr=Math.max(((un=we==null?void 0:we.packetsLost)!==null&&un!==void 0?un:0)-((vt=We==null?void 0:We.packetsLost)!==null&&vt!==void 0?vt:0),0),Ii=Math.max(((yt=ae==null?void 0:ae.packetsSent)!==null&&yt!==void 0?yt:0)-((cn=oe==null?void 0:oe.packetsSent)!==null&&cn!==void 0?cn:0),0),ji=Gr/Math.max(Ii,1),pi=ms(Rt==null?void 0:Rt.mimeType,Rt==null?void 0:Rt.sdpFmtpLine);return{audio_nacks_enabled:(It=Vt==null?void 0:Vt.audioNacks)!==null&&It!==void 0&&It,bytes_sent:pr,codec_mime_type:pi==null?void 0:pi.mimeSubtype,configured_bitrate:(jt=Yt==null?void 0:Yt.max_audio_bitrate_bps)!==null&&jt!==void 0?jt:0,connection_bandwidth:(dn=st==null?void 0:st.availableOutgoingBitrate)!==null&&dn!==void 0?dn:0,encode_bitrate:hi,fraction_packets_lost:ji,header_bytes_sent:Math.max(((Pn=ae==null?void 0:ae.headerBytesSent)!==null&&Pn!==void 0?Pn:0)-(($n=oe==null?void 0:oe.headerBytesSent)!==null&&$n!==void 0?$n:0),0),nack_count:Math.max(((or=ae==null?void 0:ae.nackCount)!==null&&or!==void 0?or:0)-((An=oe==null?void 0:oe.nackCount)!==null&&An!==void 0?An:0),0),packets_lost:Gr,packets_sent:Math.max(((vr=ae==null?void 0:ae.packetsSent)!==null&&vr!==void 0?vr:0)-((lr=oe==null?void 0:oe.packetsSent)!==null&&lr!==void 0?lr:0),0),retransmitted_bytes_sent:Math.max(((ur=ae==null?void 0:ae.retransmittedBytesSent)!==null&&ur!==void 0?ur:0)-((dr=oe==null?void 0:oe.retransmittedBytesSent)!==null&&dr!==void 0?dr:0),0),retransmitted_packets_sent:Math.max(((fr=ae==null?void 0:ae.retransmittedPacketsSent)!==null&&fr!==void 0?fr:0)-((hr=oe==null?void 0:oe.retransmittedPacketsSent)!==null&&hr!==void 0?hr:0),0),target_bitrate:Math.max((Ur=ae==null?void 0:ae.targetBitrate)!==null&&Ur!==void 0?Ur:0,0)}})(T,O,N,M,L,j,F,le,B)))}}class $w extends sn{constructor(h,g,b,T,O,N,M,L){var j,F;super(ln.SUBSCRIBED_VIDEO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:qe.SUBSCRIBE,node:(j=T==null?void 0:T.node)!==null&&j!==void 0?j:"",cluster:(F=T==null?void 0:T.cluster)!==null&&F!==void 0?F:"",remote_participant_id:b},((B,W,ie,be)=>{var ge,le,ae,oe,we,We,st,Rt,Yt,Qt,Vt,Nt,tn,un,vt,yt,cn,It,jt,dn,Pn,$n,or;let An=0;B!=null&&B.jitterBufferDelay&&(B!=null&&B.jitterBufferEmittedCount)&&B.jitterBufferEmittedCount>0&&(An=B.jitterBufferDelay/B.jitterBufferEmittedCount);const vr=be??1,lr=Math.max((ge=B==null?void 0:B.bytesReceived)!==null&&ge!==void 0?ge:0,0),ur=8*lr/vr;let dr=0;B!=null&&B.totalDecodeTime&&(B!=null&&B.framesDecoded)&&(dr=B.totalDecodeTime/Math.max(B==null?void 0:B.framesDecoded,1));const fr=Math.max((le=B==null?void 0:B.packetsLost)!==null&&le!==void 0?le:0,0),hr=Math.max((ae=B==null?void 0:B.packetsReceived)!==null&&ae!==void 0?ae:0,0),Ur=fr/Math.max(hr+fr,1),pr=ms(ie==null?void 0:ie.mimeType,ie==null?void 0:ie.sdpFmtpLine);return{bytes_received:lr,codec_mime_type:pr==null?void 0:pr.mimeSubtype,codec_profile:pr==null?void 0:pr.profile,codec_level:pr==null?void 0:pr.level,connection_bandwidth:(oe=W==null?void 0:W.availableIncomingBitrate)!==null&&oe!==void 0?oe:0,decode_bitrate:ur,decoder_implementation:(we=B==null?void 0:B.decoderImplementation)!==null&&we!==void 0?we:"unknown",fir_count:Math.max((We=B==null?void 0:B.firCount)!==null&&We!==void 0?We:0,0),fraction_packets_lost:Ur,frame_decode_time_avg:dr,frame_height:Math.max((st=B==null?void 0:B.frameHeight)!==null&&st!==void 0?st:0,0),frame_width:Math.max((Rt=B==null?void 0:B.frameWidth)!==null&&Rt!==void 0?Rt:0,0),frames_decoded:Math.max((Yt=B==null?void 0:B.framesDecoded)!==null&&Yt!==void 0?Yt:0,0),frames_dropped:Math.max((Qt=B==null?void 0:B.framesDropped)!==null&&Qt!==void 0?Qt:0,0),frames_received:Math.max((Vt=B==null?void 0:B.framesReceived)!==null&&Vt!==void 0?Vt:0,0),freeze_count:Math.max((Nt=B==null?void 0:B.freezeCount)!==null&&Nt!==void 0?Nt:0,0),frames_rendered:Math.max((tn=B==null?void 0:B.framesRendered)!==null&&tn!==void 0?tn:0,0),frames_per_second:Math.max((un=B==null?void 0:B.framesPerSecond)!==null&&un!==void 0?un:0,0),header_bytes_received:Math.max((vt=B==null?void 0:B.headerBytesReceived)!==null&&vt!==void 0?vt:0,0),jitter_buffer_delay_avg:An,key_frames_decoded:Math.max((yt=B==null?void 0:B.keyFramesDecoded)!==null&&yt!==void 0?yt:0,0),nack_count:Math.max((cn=B==null?void 0:B.nackCount)!==null&&cn!==void 0?cn:0,0),packets_discarded:Math.max((It=B==null?void 0:B.packetsDiscarded)!==null&&It!==void 0?It:0,0),packets_lost:fr,packets_received:hr,pause_count:Math.max((jt=B==null?void 0:B.pauseCount)!==null&&jt!==void 0?jt:0,0),pli_count:Math.max((dn=B==null?void 0:B.pliCount)!==null&&dn!==void 0?dn:0,0),power_efficient_decoder:(Pn=B==null?void 0:B.powerEfficientDecoder)!==null&&Pn!==void 0&&Pn,total_freezes_duration:Math.max(($n=B==null?void 0:B.totalFreezesDuration)!==null&&$n!==void 0?$n:0,0),total_pauses_duration:Math.max((or=B==null?void 0:B.totalPausesDuration)!==null&&or!==void 0?or:0,0)}})(O,N,M,L)))}}class zw extends sn{constructor(h,g,b,T,O,N,M,L,j,F,B){var W,ie,be,ge;super(ln.SUBSCRIBED_VIDEO_STATS_WINDOW,h,g,!1);const le=Math.max(((W=O==null?void 0:O.timestamp)!==null&&W!==void 0?W:0)-((ie=N==null?void 0:N.timestamp)!==null&&ie!==void 0?ie:0),0);Object.assign(this.properties,Object.assign({action:qe.SUBSCRIBE,node:(be=T==null?void 0:T.node)!==null&&be!==void 0?be:"",cluster:(ge=T==null?void 0:T.cluster)!==null&&ge!==void 0?ge:"",window_size_ms:le,remote_participant_id:b},((ae,oe,we,We,st,Rt,Yt,Qt)=>{var Vt,Nt,tn,un,vt,yt,cn,It,jt,dn,Pn,$n,or,An,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Gr,Ii,ji,pi,Vi,to,wo,mr,li,Vs,_a,Eo,Vo,wa,Ws,Hs,Gs,qs,Ks,Wo;let rc=0,au=0;if(ae!=null&&ae.jitterBufferEmittedCount&&(oe!=null&&oe.jitterBufferEmittedCount)&&ae.jitterBufferEmittedCount>oe.jitterBufferEmittedCount){ae!=null&&ae.jitterBufferDelay&&(oe!=null&&oe.jitterBufferDelay)&&(rc=(ae.jitterBufferDelay-oe.jitterBufferDelay)/(ae.jitterBufferEmittedCount-oe.jitterBufferEmittedCount));const z=oe==null?void 0:oe.jitterBufferMinimumDelay,K=ae==null?void 0:ae.jitterBufferMinimumDelay;z&&K&&(au=(K-z)/(ae.jitterBufferEmittedCount-oe.jitterBufferEmittedCount))}const cu=Math.max(((Vt=ae==null?void 0:ae.bytesReceived)!==null&&Vt!==void 0?Vt:0)-((Nt=oe==null?void 0:oe.bytesReceived)!==null&&Nt!==void 0?Nt:0),0),lu=typeof st!="number"?1:st/1e3,uf=8*cu/lu,qc=Math.max(((tn=ae==null?void 0:ae.totalDecodeTime)!==null&&tn!==void 0?tn:0)-((un=oe==null?void 0:oe.totalDecodeTime)!==null&&un!==void 0?un:0),0),df=Math.max(((vt=ae==null?void 0:ae.framesDecoded)!==null&&vt!==void 0?vt:0)-((yt=oe==null?void 0:oe.framesDecoded)!==null&&yt!==void 0?yt:0),0),ff=qc/Math.max(df,1),Kc=Math.max(((cn=ae==null?void 0:ae.packetsLost)!==null&&cn!==void 0?cn:0)-((It=oe==null?void 0:oe.packetsLost)!==null&&It!==void 0?It:0),0),d=Math.max(((jt=ae==null?void 0:ae.packetsReceived)!==null&&jt!==void 0?jt:0)-((dn=oe==null?void 0:oe.packetsReceived)!==null&&dn!==void 0?dn:0),0),v=Kc/Math.max(d+Kc,1),k=ms(We==null?void 0:We.mimeType,We==null?void 0:We.sdpFmtpLine),D=8*(Qt||0)/lu;return{bytes_received:cu,codec_mime_type:k==null?void 0:k.mimeSubtype,codec_profile:k==null?void 0:k.profile,codec_level:k==null?void 0:k.level,connection_bandwidth:(Pn=we==null?void 0:we.availableIncomingBitrate)!==null&&Pn!==void 0?Pn:0,decode_bitrate:uf,decoder_implementation:($n=ae==null?void 0:ae.decoderImplementation)!==null&&$n!==void 0?$n:"unknown",fir_count:Math.max(((or=ae==null?void 0:ae.firCount)!==null&&or!==void 0?or:0)-((An=oe==null?void 0:oe.firCount)!==null&&An!==void 0?An:0),0),fraction_packets_lost:v,frame_decode_time_avg:ff,frame_height:Math.max((vr=ae==null?void 0:ae.frameHeight)!==null&&vr!==void 0?vr:0,0),frame_width:Math.max((lr=ae==null?void 0:ae.frameWidth)!==null&&lr!==void 0?lr:0,0),frames_decoded:Math.max(((ur=ae==null?void 0:ae.framesDecoded)!==null&&ur!==void 0?ur:0)-((dr=oe==null?void 0:oe.framesDecoded)!==null&&dr!==void 0?dr:0),0),frames_dropped:Math.max(((fr=ae==null?void 0:ae.framesDropped)!==null&&fr!==void 0?fr:0)-((hr=oe==null?void 0:oe.framesDropped)!==null&&hr!==void 0?hr:0),0),frames_received:Math.max(((Ur=ae==null?void 0:ae.framesReceived)!==null&&Ur!==void 0?Ur:0)-((pr=oe==null?void 0:oe.framesReceived)!==null&&pr!==void 0?pr:0),0),freeze_count:Math.max(((hi=ae==null?void 0:ae.freezeCount)!==null&&hi!==void 0?hi:0)-((Gr=oe==null?void 0:oe.freezeCount)!==null&&Gr!==void 0?Gr:0),0),frames_rendered:Math.max((Ii=ae==null?void 0:ae.framesRendered)!==null&&Ii!==void 0?Ii:0,0),frames_per_second:Math.max((ji=ae==null?void 0:ae.framesPerSecond)!==null&&ji!==void 0?ji:0,0),header_bytes_received:Math.max(((pi=ae==null?void 0:ae.headerBytesReceived)!==null&&pi!==void 0?pi:0)-((Vi=oe==null?void 0:oe.headerBytesReceived)!==null&&Vi!==void 0?Vi:0),0),configured_jitter_buffer_min_delay_ms:Rt??0,jitter_buffer_min_obtainable_delay:au,jitter_buffer_delay_avg:rc,key_frames_decoded:Math.max(((to=ae==null?void 0:ae.keyFramesDecoded)!==null&&to!==void 0?to:0)-((wo=oe==null?void 0:oe.keyFramesDecoded)!==null&&wo!==void 0?wo:0),0),nack_count:Math.max(((mr=ae==null?void 0:ae.nackCount)!==null&&mr!==void 0?mr:0)-((li=oe==null?void 0:oe.nackCount)!==null&&li!==void 0?li:0),0),packets_discarded:Math.max(((Vs=ae==null?void 0:ae.packetsDiscarded)!==null&&Vs!==void 0?Vs:0)-((_a=oe==null?void 0:oe.packetsDiscarded)!==null&&_a!==void 0?_a:0),0),packets_lost:Kc,packets_received:d,pause_count:Math.max(((Eo=ae==null?void 0:ae.pauseCount)!==null&&Eo!==void 0?Eo:0)-((Vo=oe==null?void 0:oe.pauseCount)!==null&&Vo!==void 0?Vo:0),0),pli_count:Math.max(((wa=ae==null?void 0:ae.pliCount)!==null&&wa!==void 0?wa:0)-((Ws=oe==null?void 0:oe.pliCount)!==null&&Ws!==void 0?Ws:0),0),power_efficient_decoder:(Hs=ae==null?void 0:ae.powerEfficientDecoder)!==null&&Hs!==void 0&&Hs,total_freezes_duration:Math.max(((Gs=ae==null?void 0:ae.totalFreezesDuration)!==null&&Gs!==void 0?Gs:0)-((qs=oe==null?void 0:oe.totalFreezesDuration)!==null&&qs!==void 0?qs:0),0),total_pauses_duration:Math.max(((Ks=ae==null?void 0:ae.totalPausesDuration)!==null&&Ks!==void 0?Ks:0)-((Wo=oe==null?void 0:oe.totalPausesDuration)!==null&&Wo!==void 0?Wo:0),0),sei_read_count:Yt,sei_bytes_received:Qt,sei_bitrate:D}})(O,N,M,L,le,j,F,B)))}}class Hd extends sn{constructor(h,g,b,T,O,N,M,L,j){var F,B;super(ln.SUBSCRIBED_AUDIO_STATS,h,g,!1),Object.assign(this.properties,Object.assign({action:qe.SUBSCRIBE,node:(F=T==null?void 0:T.node)!==null&&F!==void 0?F:"",cluster:(B=T==null?void 0:T.cluster)!==null&&B!==void 0?B:"",remote_participant_id:b},((W,ie,be,ge,le)=>{var ae,oe,we,We,st,Rt,Yt,Qt,Vt,Nt,tn,un,vt,yt,cn,It,jt;let dn=0;W!=null&&W.jitterBufferDelay&&(W!=null&&W.jitterBufferEmittedCount)&&W.jitterBufferEmittedCount>0&&(dn=W.jitterBufferDelay/W.jitterBufferEmittedCount);const Pn=ge??1,$n=Math.max((ae=W==null?void 0:W.bytesReceived)!==null&&ae!==void 0?ae:0,0),or=8*$n/Pn,An=Math.max((oe=W==null?void 0:W.packetsLost)!==null&&oe!==void 0?oe:0,0),vr=Math.max((we=W==null?void 0:W.packetsReceived)!==null&&we!==void 0?we:0,0),lr=An/Math.max(vr+An,1),ur=Math.max((We=W==null?void 0:W.concealedSamples)!==null&&We!==void 0?We:0,0),dr=Math.max((st=W==null?void 0:W.totalSamplesReceived)!==null&&st!==void 0?st:0,0),fr=ur/Math.max(dr,1),hr=ms(be==null?void 0:be.mimeType,be==null?void 0:be.sdpFmtpLine);return{audio_level:(Rt=W==null?void 0:W.audioLevel)!==null&&Rt!==void 0?Rt:0,audio_nacks_enabled:(Yt=le==null?void 0:le.audioNacks)!==null&&Yt!==void 0&&Yt,bytes_received:$n,codec_mime_type:hr==null?void 0:hr.mimeSubtype,connection_bandwidth:(Qt=ie==null?void 0:ie.availableIncomingBitrate)!==null&&Qt!==void 0?Qt:0,concealed_samples:ur,concealment_events:Math.max((Vt=W==null?void 0:W.concealmentEvents)!==null&&Vt!==void 0?Vt:0,0),silent_concealed_samples:Math.max((Nt=W==null?void 0:W.silentConcealedSamples)!==null&&Nt!==void 0?Nt:0,0),decode_bitrate:or,fraction_audio_concealed:fr,fraction_packets_lost:lr,header_bytes_received:Math.max((tn=W==null?void 0:W.headerBytesReceived)!==null&&tn!==void 0?tn:0,0),inserted_samples_for_deceleration:Math.max((un=W==null?void 0:W.insertedSamplesForDeceleration)!==null&&un!==void 0?un:0,0),jitter_buffer_delay_avg:dn,packets_discarded:Math.max((vt=W==null?void 0:W.packetsDiscarded)!==null&&vt!==void 0?vt:0,0),retransmitted_packets_received:Math.max((yt=W==null?void 0:W.retransmittedPacketsReceived)!==null&&yt!==void 0?yt:0,0),retransmitted_bytes_received:Math.max((cn=W==null?void 0:W.retransmittedBytesReceived)!==null&&cn!==void 0?cn:0,0),packets_lost:An,packets_received:vr,nack_count:Math.max((It=W==null?void 0:W.nackCount)!==null&&It!==void 0?It:0,0),removed_samples_for_acceleration:Math.max((jt=W==null?void 0:W.removedSamplesForAcceleration)!==null&&jt!==void 0?jt:0,0),total_samples_received:dr}})(O,N,M,L,j)))}}class y0 extends sn{constructor(h,g,b,T,O,N,M,L,j,F){var B,W,ie,be;super(ln.SUBSCRIBED_AUDIO_STATS_WINDOW,h,g,!1);const ge=Math.max(((B=O==null?void 0:O.timestamp)!==null&&B!==void 0?B:0)-((W=N==null?void 0:N.timestamp)!==null&&W!==void 0?W:0),0);Object.assign(this.properties,Object.assign({action:qe.SUBSCRIBE,window_size_ms:ge,node:(ie=T==null?void 0:T.node)!==null&&ie!==void 0?ie:"",cluster:(be=T==null?void 0:T.cluster)!==null&&be!==void 0?be:"",remote_participant_id:b},((le,ae,oe,we,We,st,Rt)=>{var Yt,Qt,Vt,Nt,tn,un,vt,yt,cn,It,jt,dn,Pn,$n,or,An,vr,lr,ur,dr,fr,hr,Ur,pr,hi,Gr,Ii,ji,pi,Vi,to;let wo=0,mr=0;if(le!=null&&le.jitterBufferEmittedCount&&(ae!=null&&ae.jitterBufferEmittedCount)&&le.jitterBufferEmittedCount>ae.jitterBufferEmittedCount){le!=null&&le.jitterBufferDelay&&(ae!=null&&ae.jitterBufferDelay)&&(wo=(le.jitterBufferDelay-ae.jitterBufferDelay)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount));const Ks=ae==null?void 0:ae.jitterBufferMinimumDelay,Wo=le==null?void 0:le.jitterBufferMinimumDelay;Ks&&Wo&&(mr=(Wo-Ks)/(le.jitterBufferEmittedCount-ae.jitterBufferEmittedCount))}const li=typeof We!="number"?1:We/1e3,Vs=Math.max(((Yt=le==null?void 0:le.bytesReceived)!==null&&Yt!==void 0?Yt:0)-((Qt=ae==null?void 0:ae.bytesReceived)!==null&&Qt!==void 0?Qt:0),0),_a=8*Vs/li,Eo=Math.max(((Vt=le==null?void 0:le.packetsLost)!==null&&Vt!==void 0?Vt:0)-((Nt=ae==null?void 0:ae.packetsLost)!==null&&Nt!==void 0?Nt:0),0),Vo=Math.max(((tn=le==null?void 0:le.packetsReceived)!==null&&tn!==void 0?tn:0)-((un=ae==null?void 0:ae.packetsReceived)!==null&&un!==void 0?un:0),0),wa=Eo/Math.max(Vo+Eo,1),Ws=Math.max(((vt=le==null?void 0:le.concealedSamples)!==null&&vt!==void 0?vt:0)-((yt=ae==null?void 0:ae.concealedSamples)!==null&&yt!==void 0?yt:0),0),Hs=Math.max(((cn=le==null?void 0:le.totalSamplesReceived)!==null&&cn!==void 0?cn:0)-((It=ae==null?void 0:ae.totalSamplesReceived)!==null&&It!==void 0?It:0),0),Gs=Ws/Math.max(Hs,1),qs=ms(we==null?void 0:we.mimeType,we==null?void 0:we.sdpFmtpLine);return{audio_level:(jt=le==null?void 0:le.audioLevel)!==null&&jt!==void 0?jt:0,audio_nacks_enabled:(dn=st==null?void 0:st.audioNacks)!==null&&dn!==void 0&&dn,bytes_received:Vs,codec_mime_type:qs==null?void 0:qs.mimeSubtype,connection_bandwidth:(Pn=oe==null?void 0:oe.availableIncomingBitrate)!==null&&Pn!==void 0?Pn:0,decode_bitrate:_a,concealed_samples:Ws,concealment_events:Math.max((($n=le==null?void 0:le.concealmentEvents)!==null&&$n!==void 0?$n:0)-((or=ae==null?void 0:ae.concealmentEvents)!==null&&or!==void 0?or:0),0),silent_concealed_samples:Math.max(((An=le==null?void 0:le.silentConcealedSamples)!==null&&An!==void 0?An:0)-((vr=ae==null?void 0:ae.silentConcealedSamples)!==null&&vr!==void 0?vr:0),0),fraction_audio_concealed:Gs,fraction_packets_lost:wa,header_bytes_received:Math.max(((lr=le==null?void 0:le.headerBytesReceived)!==null&&lr!==void 0?lr:0)-((ur=ae==null?void 0:ae.headerBytesReceived)!==null&&ur!==void 0?ur:0),0),inserted_samples_for_deceleration:Math.max(((dr=le==null?void 0:le.insertedSamplesForDeceleration)!==null&&dr!==void 0?dr:0)-((fr=ae==null?void 0:ae.insertedSamplesForDeceleration)!==null&&fr!==void 0?fr:0),0),configured_jitter_buffer_min_delay_ms:Rt??0,jitter_buffer_min_obtainable_delay:mr,jitter_buffer_delay_avg:wo,packets_discarded:Math.max(((hr=le==null?void 0:le.packetsDiscarded)!==null&&hr!==void 0?hr:0)-((Ur=ae==null?void 0:ae.packetsDiscarded)!==null&&Ur!==void 0?Ur:0),0),packets_lost:Eo,packets_received:Vo,nack_count:Math.max(((pr=le==null?void 0:le.nackCount)!==null&&pr!==void 0?pr:0)-((hi=ae==null?void 0:ae.nackCount)!==null&&hi!==void 0?hi:0),0),removed_samples_for_acceleration:Math.max(((Gr=le==null?void 0:le.removedSamplesForAcceleration)!==null&&Gr!==void 0?Gr:0)-((Ii=ae==null?void 0:ae.removedSamplesForAcceleration)!==null&&Ii!==void 0?Ii:0),0),retransmitted_packets_received:Math.max(((ji=le==null?void 0:le.retransmittedPacketsReceived)!==null&&ji!==void 0?ji:0)-((pi=ae==null?void 0:ae.retransmittedPacketsReceived)!==null&&pi!==void 0?pi:0),0),retransmitted_bytes_received:Math.max(((Vi=le==null?void 0:le.retransmittedBytesReceived)!==null&&Vi!==void 0?Vi:0)-((to=ae==null?void 0:ae.retransmittedBytesReceived)!==null&&to!==void 0?to:0),0),total_samples_received:Hs}})(O,N,M,L,ge,j,F)))}}class Hh extends sn{constructor(h,g,b,T,O=qe.PUBLISH,N=!1,M=""){super(ln.SIMULCAST_LAYER_INFO,h,g,!1),Object.assign(this.properties,{rid:b,active:T,selected:N,source:O===qe.PUBLISH?"publisher":"subscriber",remote_participant_id:M})}}class Vw extends sn{constructor(h,g,b,T){super(ln.MULTIHOST_CONFIGURATION,h,g,!1),Object.assign(this.properties,Object.assign(Object.assign({},b),{action:T}))}}class $o extends sn{constructor(h,g,b){super(ln.MULTIHOST_SUBSCRIBE_CONFIGURATION,h,g,!1),Object.assign(this.properties,Object.assign({},b))}}var Jl,pa,ma;(function(S){S.Mobile="mobile",S.Tablet="tablet",S.Desktop="desktop",S.Tv="tv"})(Jl||(Jl={})),function(S){S.IOS="iOS",S.MacOS="macOS",S.Windows="Windows",S.Android="Android"}(pa||(pa={})),function(S){S.Safari="Safari",S.Firefox="Firefox",S.Chrome="Chrome",S.IE="Internet Explorer",S.Edge="Microsoft Edge"}(ma||(ma={}));const Gd=function(S){const h=ga(S);return{platform:{isMobile:Ci(Jl.Mobile,h),isTablet:Ci(Jl.Tablet,h),isDesktop:Ci(Jl.Desktop,h),isTv:Ci(Jl.Tv,h)},os:{name:ug(h),version:Ja(h),isIOS:qd(pa.IOS,h),isMacOS:qd(pa.MacOS,h),isWindows:qd(pa.Windows,h),isAndroid:qd(pa.Android,h)},browser:{name:b0(h),version:Gh(h),isSafari:Vc(ma.Safari,h),isFirefox:Vc(ma.Firefox,h),isChrome:Vc(ma.Chrome,h),isIE:Vc(ma.IE,h),isEdge:Vc(ma.Edge,h)}}}(window.navigator.userAgent);function ga(S){try{return wh.getParser(S||window.navigator.userAgent)}catch{}}function Ci(S,h){return()=>(h||(h=ga()),!(!h||h.getPlatformType(!0)!==S.toLowerCase()))}function Ja(S){return()=>(S||(S=ga()),S&&S.getOSVersion()||"")}function ug(S){return()=>(S||(S=ga()),S&&S.getOSName()||"")}function qd(S,h){return()=>(h||(h=ga()),!(!h||h.getOSName(!0)!==S.toLowerCase()))}function Gh(S){return()=>(S||(S=ga()),S&&S.getBrowserVersion()||"")}function b0(S){return()=>(S||(S=ga()),S&&S.getBrowserName()||"")}function Vc(S,h){return()=>(h||(h=ga()),!(!h||h.getBrowserName().toLowerCase()!==S.toLowerCase()))}const x0={active:!1,maxBitrate:2e5,rid:"low",maxFramerate:15,scaleResolutionDownBy:4},dg={width:320,height:180},Kd={active:!1,maxBitrate:7e5,rid:"mid",maxFramerate:20,scaleResolutionDownBy:2},Za={width:640,height:360},qh={active:!1,maxBitrate:17e5,rid:"hi",maxFramerate:30,scaleResolutionDownBy:1},ec={width:1280,height:720};function fg(S){const{config:h}=S;return[{maxBitrate:h.maxBitrateBps}]}function hg(S,h){var g,b;const T=h==null?void 0:h.track,O=h==null?void 0:h.config;if(S&&T){const N=(0,wr.cloneDeep)([{encodingParams:x0,targetResolution:dg},{encodingParams:Kd,targetResolution:Za},{encodingParams:qh,targetResolution:ec}]),{height:M,width:L}=T.getSettings(),j=M&&L?{width:L,height:M}:void 0;for(const W of N){W.encodingParams.active=!0;let ie=1;j&&(ie=Math.floor(Math.sqrt(j.width*j.height/(W.targetResolution.width*W.targetResolution.height))),ie=Math.max(ie,1)),W.encodingParams.scaleResolutionDownBy=ie}let F=(g=O==null?void 0:O.maxBitrateBps)!==null&&g!==void 0?g:qh.maxBitrate;const B=(b=O==null?void 0:O.maxFramerate)!==null&&b!==void 0?b:qh.maxFramerate;return F<Kd.maxBitrate&&(F=qh.maxBitrate),N[2].encodingParams.maxBitrate=F,N[2].encodingParams.maxFramerate=B,N[2].encodingParams.scaleResolutionDownBy=1,N.map(W=>W.encodingParams)}return O?[{maxBitrate:O.maxBitrateBps,maxFramerate:O.maxFramerate}]:[{maxBitrate:gs(ps),maxFramerate:Xa}]}const pg=1e3;function gs(S){return S*pg}const mg=(S,...h)=>{const g=h.map(b=>typeof b!="object").filter(Boolean).length>0;if(typeof S=="object"&&!g)return(0,wr.merge)({},S,...h)},gg=S=>vg(S),vg=S=>(0,wr.cloneDeep)(S),$i=S=>{switch(S){case Ql.HIGHEST_QUALITY:return"highest";case Ql.LOWEST_QUALITY:default:return"lowest"}};var So=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const tc="no-rid";class va{constructor(h,g,b,T,O,N,M){this.analyticsTracker=O,this.receiveVideoTransformer=N,this.senderVideoTransformer=M,this.simulcastEnabled=!1,this.simulcastState={low:!1,mid:!1,hi:!1},this.sdp=new In(""),this.sdpFeatures={audioNacks:!1},this.multihostConfiguration=va.defaultMultihostConfiguration(),this.prevOutboundVideoStats=new Map,this.prevInboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.sfuResource={node:"",cluster:""},this.connectionStartedTimestamp=Date.now(),this.prevVideoReceiverTransformerStats={seiReadCnt:0,seiBytesRead:0},this.prevVideoSenderTransformerStats={seiWriteCnt:0,seiBytesWritten:0},this.onPeerConnectionStateChange=()=>{switch(this.getConnectionState()){case gt.CONNECTED:this.connectionStartedTimestamp=Date.now(),this.setupIntervals();break;case gt.FAILED:this.flushStats()}},this.action=h,this.token=g,this.traceId=b,this.identifier=T}static defaultMultihostConfiguration(){return{video_codec:"unknown",width:0,height:0,max_bitrate:0,min_bitrate:0,target_fps:0,echo_cancellation:!1,auto_gain:!1,noise_suppression:!1,enable_simulcast:!1,max_audio_bitrate_bps:gs(zc)}}set sdpAnswer(h){try{this.sdp=new In(h),this.sdpFeatures.audioNacks=this.sdp.hasAudioNacksEnabled()}catch{}}start(h,g=!1){this.peerConnection=h,this.simulcastEnabled=g,this.prevOutboundAudioStats=void 0,this.prevOutboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.peerConnection.addEventListener("connectionstatechange",this.onPeerConnectionStateChange)}stop(){var h;clearInterval(this.uploadStatsInterval),this.uploadStatsInterval=void 0,(h=this.peerConnection)===null||h===void 0||h.removeEventListener("connectionstatechange",this.onPeerConnectionStateChange)}updateSfuResource(h){this.sfuResource=h}updateMultihostConfiguration(h,g){var b,T,O,N,M,L;return So(this,void 0,void 0,function*(){if(this.action!==qe.PUBLISH||!this.peerConnection)return;const j=va.defaultMultihostConfiguration();if(g){const F=this.peerConnection.getSenders().filter(W=>W.track!==null&&W.track.kind==="video");F.length>0&&(yield F[0].getStats()).forEach(W=>{W.type==="codec"&&(j.video_codec=W.mimeType)});const B=g.track.getSettings();j.width=(b=B.width)!==null&&b!==void 0?b:0,j.height=(T=B.height)!==null&&T!==void 0?T:0,j.target_fps=(O=B.frameRate)!==null&&O!==void 0?O:0,g.config?(j.max_bitrate=g.config.maxBitrateBps,j.min_bitrate=g.config.minBitrateBps,j.enable_simulcast=g.config.simulcastEnabled):(j.max_bitrate=gs(ps),j.min_bitrate=gs($c),j.enable_simulcast=!1)}if(h){const F=h.track.getSettings();j.auto_gain=(N=F.autoGainControl)!==null&&N!==void 0&&N,j.echo_cancellation=(M=F.echoCancellation)!==null&&M!==void 0&&M,j.noise_suppression=(L=F.noiseSuppression)!==null&&L!==void 0&&L,j.max_audio_bitrate_bps=h.config.maxBitrateBps,j.stereo=h.config.stereo}(0,wr.isEqual)(j,this.multihostConfiguration)||(this.analyticsTracker.trackEventNoSharedProps(new Vw(this.token,this.traceId,j,this.action)),this.multihostConfiguration=j)})}updateJitterBufferMinDelay(h){this.jitterBufferMinDelayInMs=h}setupIntervals(){this.action===qe.PUBLISH&&this.simulcastEnabled&&!this.pollSimulcastLayerInterval&&(this.pollSimulcastLayers(),this.pollSimulcastLayerInterval=this.startInterval(this.pollSimulcastLayers,5e3)),this.uploadStatsInterval||(this.uploadStats(),this.uploadStatsInterval=this.startInterval(this.uploadStats,1e4))}startInterval(h,g){return setInterval(h.bind(this),g)}getConnectionState(){var h;if(!this.peerConnection)return gt.NONE;const g=(h=this.peerConnection.connectionState)!==null&&h!==void 0?h:this.peerConnection.iceConnectionState;try{return zh(g)}catch{return gt.IDLE}}pollSimulcastLayers(){var h;return So(this,void 0,void 0,function*(){if(this.getConnectionState()===gt.CONNECTED){const g=yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats();if(!g)return;g.forEach(b=>{var T;if(b.type==="outbound-rtp"){const O=((T=b.framesPerSecond)!==null&&T!==void 0?T:0)!==0;switch(b.rid){case"low":O!==this.simulcastState.low&&(this.simulcastState.low=O,this.analyticsTracker.trackEventNoSharedProps(new Hh(this.token,this.traceId,b.rid,O)));break;case"mid":O!==this.simulcastState.mid&&(this.simulcastState.mid=O,this.analyticsTracker.trackEventNoSharedProps(new Hh(this.token,this.traceId,b.rid,O)));break;case"hi":O!==this.simulcastState.hi&&(this.simulcastState.hi=O,this.analyticsTracker.trackEventNoSharedProps(new Hh(this.token,this.traceId,b.rid,O)))}}})}})}flushStats(){var h;return So(this,void 0,void 0,function*(){const g=yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats();g&&(this.action===qe.PUBLISH?this.uploadPublisherStats(g):this.action===qe.SUBSCRIBE&&this.uploadSubscriberStats(g))})}uploadStats(){var h;return So(this,void 0,void 0,function*(){if(this.getConnectionState()===gt.CONNECTED){const g=yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats();if(!g)return;this.action===qe.PUBLISH?this.uploadPublisherStats(g):this.action===qe.SUBSCRIBE&&this.uploadSubscriberStats(g)}})}uploadPublisherStats(h){const g={audio:{},video:[]},b=new Map,T=(Date.now()-this.connectionStartedTimestamp)/1e3,O=Object.assign({},this.multihostConfiguration),{seiWriteCnt:N,seiBytesWritten:M}=this.updateAndDiffSeiPublishStatsSinceLastUpdate(this.senderVideoTransformer.getSenderStats());h.forEach(L=>{if(L.type==="outbound-rtp"){const j=h.get(L.remoteId),F=this.prevRemoteInboundStats.get(L.remoteId);switch(j&&this.prevRemoteInboundStats.set(j.id,j),L.kind){case"audio":g.audio=this.updateOutboundAudio(L),g.audio.remoteInbound=j,g.audio.prevRemoteInbound=F,g.audio.codec=b.get(L.codecId);break;case"video":g.video.push(Object.assign({},this.updateOutboundVideo(L),{remoteInbound:j,prevRemoteInbound:F,codec:b.get(L.codecId)}))}}L.type==="candidate-pair"&&L.nominated&&(g.candidatePair=L),L.type==="codec"&&b.set(L.id,L)}),this.analyticsTracker.trackEventNoSharedProps(new lg(this.token,this.traceId,this.sfuResource,g.audio.outbound,g.audio.remoteInbound,g.candidatePair,g.audio.codec,O,T,this.sdpFeatures)),g.audio.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new mn(this.token,this.traceId,this.sfuResource,g.audio.outbound,g.audio.prevOutbound,g.audio.remoteInbound,g.audio.prevRemoteInbound,g.candidatePair,g.audio.codec,O,this.sdpFeatures)),g.video.forEach(L=>{this.analyticsTracker.trackEventNoSharedProps(new v0(this.token,this.traceId,this.sfuResource,L.outbound,L.remoteInbound,g.candidatePair,L.codec,O,T)),L.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new cg(this.token,this.traceId,this.sfuResource,L.outbound,L.prevOutbound,L.remoteInbound,L.prevRemoteInbound,g.candidatePair,L.codec,O,N,M))})}uploadSubscriberStats(h){var g;const b={audio:{},video:{}},T=new Map,O=(Date.now()-this.connectionStartedTimestamp)/1e3,N=(g=this.jitterBufferMinDelayInMs)!==null&&g!==void 0?g:0,{seiReadCnt:M,seiBytesRead:L}=this.updateAndDiffSeiSubscribeStatsSinceLastUpdate(this.receiveVideoTransformer.getReceiverStats());h.forEach(j=>{if(j.type==="inbound-rtp")switch(j.kind){case"audio":b.audio=this.updateInboundAudio(j),b.audio.codec=T.get(j.codecId);break;case"video":b.video=this.updateInboundVideo(j),b.video.codec=T.get(j.codecId)}j.type==="candidate-pair"&&j.nominated&&(b.candidatePair=j),j.type==="codec"&&T.set(j.id,j)}),this.analyticsTracker.trackEventNoSharedProps(new Hd(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.candidatePair,b.audio.codec,O,this.sdpFeatures)),b.audio.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new y0(this.token,this.traceId,this.identifier,this.sfuResource,b.audio.inbound,b.audio.prevInbound,b.candidatePair,b.audio.codec,this.sdpFeatures,N)),this.analyticsTracker.trackEventNoSharedProps(new $w(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.candidatePair,b.video.codec,O)),b.video.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new zw(this.token,this.traceId,this.identifier,this.sfuResource,b.video.inbound,b.video.prevInbound,b.candidatePair,b.video.codec,N,M,L))}updateAndDiffSeiSubscribeStatsSinceLastUpdate(h){const g=this.prevVideoReceiverTransformerStats,b=h.seiReadCnt-g.seiReadCnt,T=h.seiBytesRead-g.seiBytesRead;return this.prevVideoReceiverTransformerStats={seiReadCnt:h.seiReadCnt,seiBytesRead:h.seiBytesRead},{seiReadCnt:b,seiBytesRead:T}}updateAndDiffSeiPublishStatsSinceLastUpdate(h){const g=this.prevVideoSenderTransformerStats,b=h.seiWriteCnt-g.seiWriteCnt,T=h.seiBytesWritten-g.seiBytesWritten;return this.prevVideoSenderTransformerStats={seiWriteCnt:h.seiWriteCnt,seiBytesWritten:h.seiBytesWritten},{seiWriteCnt:b,seiBytesWritten:T}}updateOutboundAudio(h){const g=h,b=this.prevOutboundAudioStats,T=h.id===(b==null?void 0:b.id)?b:void 0;return this.prevOutboundAudioStats=h,{outbound:g,prevOutbound:T}}updateInboundAudio(h){const g=h,b=this.prevInboundAudioStats,T=h.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundAudioStats=h,{inbound:g,prevInbound:T}}updateInboundVideo(h){const g=h,b=this.prevInboundVideoStats.get(tc),T=h.id===(b==null?void 0:b.id)?b:void 0;return this.prevInboundVideoStats.set(tc,h),{inbound:g,prevInbound:T}}updateOutboundVideo(h){const g=h,b=this.getPrevOutboundVideo(h),T=h.id===(b==null?void 0:b.id)?b:void 0;return this.setPrevVideoStat(h),{outbound:g,prevOutbound:T}}getPrevOutboundVideo(h){return this.simulcastEnabled&&h.rid&&this.prevOutboundVideoStats.has(h.rid)?this.prevOutboundVideoStats.get(h.rid):!this.simulcastEnabled&&this.prevOutboundVideoStats.has(tc)?this.prevOutboundVideoStats.get(tc):void 0}setPrevVideoStat(h){this.simulcastEnabled&&h.rid?this.prevOutboundVideoStats.set(h.rid,h):this.simulcastEnabled||this.prevOutboundVideoStats.set(tc,h)}}class yg extends sn{constructor(h,g,b,T,O){super(ln.MINUTE,h,g,!1),Object.assign(this.properties,{action:T?qe.PUBLISH:qe.SUBSCRIBE,is_publishing:T,minutes_logged:b,subscribed_number:O})}}class S0 extends sn{constructor(h){super(ln.PUBLISH,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.PUBLISH,remote_participant_id:h.token.participantID})}}class _0 extends sn{constructor(h){super(ln.UNPUBLISH,h.token,h.traceId,!0),Object.assign(this.properties,{action:qe.PUBLISH,remote_participant_id:h.token.participantID})}}class Zl extends sn{constructor(h){var g,b,T,O;super(ln.SUBSCRIBE,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.SUBSCRIBE,remote_participant_id:h.subscribedId,subscribed_id:h.subscribedId,is_edp_connected:h.isEdpConnected,is_reassignment:h.isReassignment,node:(b=(g=h.preAttemptSfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.preAttemptSfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:""})}}class Yd extends sn{constructor(h){super(ln.UNSUBSCRIBE,h.token,h.traceId,!0),Object.assign(this.properties,{action:qe.SUBSCRIBE,remote_participant_id:h.unsubscribedId,unsubscribed_id:h.unsubscribedId})}}class w0 extends sn{constructor(h){var g,b,T,O;super(ln.PUBLISH_STARTED,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.PUBLISH,options_duration:h.optionsDuration,post_duration:h.postDuration,remote_participant_id:h.token.participantID,time_to_candidate:h.timeToCandidate,total_duration:h.totalDuration,edp_initial_connect_duration:h.edpInitialConnectDuration,edp_initial_connect_retry_times:h.edpInitialConnectRetries,edp_initial_state_duration:h.edpInitialStateDuration,edp_state_update_count:h.edpStateUpdateCount,sdp_exchange_duration:h.sdpExchangeDuration,sdp_exchange_transport:h.sdpExchangeTransport,set_remote_desc_duration:h.setRemoteDescDuration,peer_connection_duration:h.peerConnectionDuration,node:(b=(g=h.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",publish_retry_times:h.publishRetries,total_duration_with_retries:h.totalDurationWithRetries})}}class E0 extends sn{constructor(h){super(ln.PUBLISH_FAILED,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.PUBLISH,code:h.code,message:h.message,fatal:h.fatal,nominal:h.nominal})}}class Qd extends sn{constructor(h){super(ln.PUBLISH_ENDED,h.token,h.traceId,!0),Object.assign(this.properties,{action:qe.PUBLISH,remote_participant_id:h.token.participantID,unpublish_successful:h.isUnpublishSuccessful,reason:h.reason})}}class C0 extends sn{constructor(h){var g,b,T,O;super(ln.SUBSCRIBE_STARTED,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.SUBSCRIBE,options_duration:h.optionsDuration,post_duration:h.postDuration,remote_participant_id:h.remoteParticipantId,time_to_candidate:h.timeToCandidate,total_duration:h.totalDuration,edp_initial_connect_duration:h.edpInitialConnectDuration,edp_initial_connect_retry_times:h.edpInitialConnectRetries,edp_initial_state_duration:h.edpInitialStateDuration,edp_initial_state_publishing_count:h.edpInitialStatePublishingCount,edp_state_update_count:h.edpStateUpdateCount,sdp_exchange_duration:h.sdpExchangeDuration,sdp_exchange_transport:h.sdpExchangeTransport,set_remote_desc_duration:h.setRemoteDescDuration,peer_connection_duration:h.peerConnectionDuration,node:(b=(g=h.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",total_duration_with_retries:h.totalDurationWithRetries,subscribe_retry_times:h.subscribeRetryTimes,is_reassignment:h.isReassignment})}}class Kh extends sn{constructor(h){super(ln.SUBSCRIBE_FAILED,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.SUBSCRIBE,remote_participant_id:h.remoteParticipantId,code:h.code,message:h.message,fatal:h.fatal,nominal:h.nominal,is_reassignment:h.isReassignment})}}class Yh extends sn{constructor(h){super(ln.SUBSCRIBE_ENDED,h.token,h.traceId,!0),Object.assign(this.properties,{action:qe.SUBSCRIBE,remote_participant_id:h.remoteParticipantId,unsubscribe_successful:h.isUnsubscribeSuccessful,reason:h.reason}),this.critical=!0}}class Qh extends sn{constructor(h){super(ln.STATE_UPDATED,h.token,h.traceId,!1),Object.assign(this.properties,{audio_muted:h.isAudioMuted,is_disconnected:h.isDisconnected,is_publishing:h.isPublishing,other_participant_id:h.otherParticipantId,other_participant_user_id:h.otherParticipantUserId,video_stopped:h.isVideoStopped})}}class T0 extends sn{constructor(h){var g,b,T,O,N;super(ln.FIRST_FRAME,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.SUBSCRIBE,remote_participant_id:h.remoteParticipantId,edp_initial_connect_duration:h.edpInitialConnectDuration,edp_initial_connect_retry_times:h.edpInitialConnectRetries,edp_initial_state_duration:h.edpInitialStateDuration,edp_initial_state_publishing_count:h.edpInitialStatePublishingCount,edp_state_update_count:h.edpStateUpdateCount,sdp_exchange_duration:h.sdpExchangeDuration,sdp_exchange_transport:h.sdpExchangeTransport,set_remote_desc_duration:h.setRemoteDescDuration,peer_connection_duration:h.peerConnectionDuration,node:(b=(g=h.sfuResource)===null||g===void 0?void 0:g.node)!==null&&b!==void 0?b:"",cluster:(O=(T=h.sfuResource)===null||T===void 0?void 0:T.cluster)!==null&&O!==void 0?O:"",video_was_paused:h.videoWasPaused,first_frame_duration:h.firstFrameDuration,total_duration_with_retries:h.totalDurationWithRetries,subscribe_retry_times:h.subscribeRetryTimes,media_type:h.mediaType,configured_jitter_buffer_min_delay_ms:(N=h.currentJitterBufferMinDelayInMs)!==null&&N!==void 0?N:0})}}class Xh extends sn{constructor(h){super(ln.EDP_PONG,h.token,h.traceId,!1),Object.assign(this.properties,{event_endpoint:h.eventEndpoint,protocol:h.protocol,edp_rtt:h.edpRttMs})}}class R0 extends sn{constructor(h){super(ln.JOIN,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.JOIN,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint})}}class bg extends sn{constructor(h){super(ln.JOIN_ATTEMPT,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.JOIN,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint})}}class Ww extends sn{constructor(h){super(ln.JOIN_ATTEMPT_FAILED,h.token,h.traceId,!1),Object.assign(this.properties,{action:qe.JOIN,event_endpoint:h.eventEndpoint,whip_endpoint:h.whipEndpoint,code:h.code,message:h.message,fatal:h.fatal,nominal:h.nominal,connect_retry_times:h.retryCnt})}}class k0 extends sn{constructor(h){super(ln.EDP_DISCONNECTED,h.token,h.traceId,!1),Object.assign(this.properties,{event_endpoint:h.eventEndpoint,protocol:h.protocol}),this.critical=!0}}class ya extends sn{constructor(h){super(ln.EDP_CONNECTED,h.token,h.traceId,!1),Object.assign(this.properties,{event_endpoint:h.eventEndpoint,protocol:h.protocol,connect_retry_times:h.numRetries}),this.critical=!0}}var xg;(function(S){S.MESSAGE="message",S.RESPONSE="response"})(xg||(xg={}));class O0{constructor(h,g,b){this.token=h,this.analyticsTracker=b,this.protocol="",this.connecting=!1,this.closing=!1,this.windowUnloading=!1,this.latestPingTimestamp=0,this.pongCount=0,this.latestSequenceNumber=0,this.nextConnectionAttempt=0,this.pingInterval=0,this.pongTimeout=0,this.connectTimeout=0,this.beforeUnload=()=>{this.emitter.emit($d,"beforeunload"),this.windowUnloading=!0},this.sendSdpOffer=(T,O,N,M,L,j,F,B)=>{var W;const ie={type:"aws:ivs:SDP_OFFER",payload:{whipUrl:O,requestId:M,traceId:N,platform:"web",sdk:"1.21.0",whipVersion:hs,content:T,contentType:"application/sdp"}};L&&(ie.payload.forceNode=L),j&&(ie.payload.assignmentToken=j),F&&(ie.payload.multiCodec=F);const be=Pd()===void 0,ge=Pd()||be;B&&ge&&(ie.payload.initialLayerPref=$i(B)),(W=this.socket)===null||W===void 0||W.send(JSON.stringify(ie))},this.getRetryCount=()=>Math.max(this.connectionAttempts-1,0),this.trackJoinEnded=()=>{this.analyticsTracker.trackEventNoSharedProps(new k0({token:this.token,eventEndpoint:this.token.eventsURL,traceId:this.traceId,protocol:this.protocol}))},this.logger=new mo(g,kn.SOCKET),this.emitter=new Xr.EventEmitter,this.connectionAttempts=0,this.sentPing=!1,this.receivedPong=!1,this.traceId=Xi(),this.id=`[${qa().value}] `,window.addEventListener("beforeunload",this.beforeUnload)}connect(h,g,b=!1){this.logger.debug({msg:`${this.id}connecting to ${this.addr}`}),this.addr=h,this.traceId=g,b&&!this.connecting&&(window.clearTimeout(this.connectTimeout),this.connectTimeout=window.setTimeout(this.connectTimedOut.bind(this),1e4)),this.attemptConnect(g)}attemptConnect(h){this.traceId=h||Xi(),this.connectionAttempts++,this.trackJoinAttempt(this.connectionAttempts);const{topic:g,rawToken:b}=this.token;this.connecting=!0,this.closing=!1;try{const T=encodeURIComponent(this.traceId.value);this.socket=this.createWebSocket(`${this.addr}?topic=${g}/publishers&traceid=${T}`,b),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onopen=this.onOpen.bind(this),this.protocol=this.socket.protocol}catch(T){const O=T instanceof Error?T.message:void 0,N=this.createError(je.EVENT_PLANE_WS_CREATE_FAILED,O);this.trackJoinFailed(N,this.getRetryCount()),this.emitter.emit(fs,N)}}send(h){var g;this.logger.debug({msg:`${this.id}sending ${JSON.stringify(h)}`}),this.isReady()?(g=this.socket)===null||g===void 0||g.send(JSON.stringify(h)):this.logger.warn({msg:"Trying to send data over stage socket that is not ready"})}close(){this.logger.debug({msg:`${this.id}closing`});const h=this.connecting,g=this.socket&&this.socket.readyState===this.socket.OPEN,b=this.socket&&this.socket.readyState===this.socket.CLOSING,T=this.getRetryCount();if(this.closing=!0,this.connecting=!1,this.cleanPingPongTimeouts(),window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.connectionAttempts=0,this.connectTimeout=0,this.socket){if(this.socket.close(),this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onopen=null,g)this.trackJoinEnded(),this.emitter.emit($d,"intentional-close");else if(h&&!b){const O=this.createError(je.OPERATION_ABORTED);this.trackJoinFailed(O,T),this.analyticsTracker.trackError(O),this.emitter.emit(fs,O)}}}removeAllListeners(){window.removeEventListener("beforeunload",this.beforeUnload),this.emitter.removeAllListeners()}createWebSocket(h,g){return new WebSocket(h,g)}createError(h,g){return new en(Object.assign({action:qe.JOIN,traceId:this.traceId,token:this.token,location:"StageSocket.connection",tag:Fd,details:g},h))}on(h,g){this.emitter.on(h,g)}off(h,g){this.emitter.off(h,g)}isReady(){return this.logger.debug({msg:`${this.id}isReady called`}),!!this.socket&&this.socket.readyState===this.socket.OPEN}onMessage(h){this.logger.debug({msg:`${this.id}received message: ${h.data}`});try{const g=JSON.parse(h.data);switch(g.type){case"STAGE_STATE":case"aws:ivs:STAGE_STATE":{const b=g.payload.sequenceNumber;b>this.latestSequenceNumber&&(this.latestSequenceNumber===0&&Ch()&&this.connectTimeout>0&&this.triggerSocketOpen(g),this.emitter.emit(ql,g),this.latestSequenceNumber=b);break}case"PONG":this.receivedPong=!0,this.pongCount%2==0&&this.analyticsTracker.trackEventNoSharedProps(new Xh({token:this.token,eventEndpoint:this.token.eventsURL,protocol:this.protocol,traceId:this.traceId,edpRttMs:performance.now()-this.latestPingTimestamp})),this.pongCount++;break;case"REFRESH":this.emitter.emit(u0);break;case"aws:ivs:SDP_ANSWER":this.emitter.emit(Kl,g.payload);break;case"aws:ivs:DISCONNECT":this.emitter.emit(d0,g.payload);break;case"aws:ivs:REASSIGN":this.emitter.emit(Jm,g.payload);break;case"aws:ivs:INCOMPATIBLE_CODECS":this.emitter.emit($s,g.payload);break;default:(0,wr.noop)()}}catch(g){this.logger.debug({msg:`onMessage JSON Parse error: ${g}`}),this.emitter.emit(l0,g)}}onError(h){this.logger.debug({msg:`${this.id}error: ${JSON.stringify(h)}`})}onClose(h){if(this.logger.debug({msg:`${this.id}onClose triggered with code (closing = ${this.closing}, connecting = ${this.connecting})`}),this.cleanPingPongTimeouts(),this.closing)this.closing=!1;else if(!this.windowUnloading)if(this.connecting){let g=Math.pow(2,this.connectionAttempts-1);g>64&&(g=64),this.logger.debug({msg:`${this.id}reconnecting in ${g} seconds`}),window.clearTimeout(this.nextConnectionAttempt),this.nextConnectionAttempt=window.setTimeout(this.attemptConnect.bind(this),1e3*g);const b=this.createError(je.EVENT_PLANE_WS_CLOSE_BEFORE_OPEN,`code: ${h==null?void 0:h.code}, reason: ${h==null?void 0:h.reason}, wasClean: ${h==null?void 0:h.wasClean}`);this.trackJoinFailed(b,this.getRetryCount()),this.analyticsTracker.trackError(b)}else{this.logger.debug({msg:`${this.id}unexpected close`}),this.emitter.emit($d,"unknown");const g=this.createError(je.EVENT_PLANE_WS_UNEXPECTED_CLOSE,`code: ${h==null?void 0:h.code}, reason: ${h==null?void 0:h.reason}, wasClean: ${h==null?void 0:h.wasClean}`);this.trackJoinEnded(),this.emitter.emit(fs,g)}}onOpen(){this.logger.debug({msg:`${this.id} socket opened`}),this.clearConnectionAttemptTimeouts(),Ch()?this.connectTimeout=window.setTimeout(()=>{this.triggerSocketOpen()},1e4):this.triggerSocketOpen()}clearConnectionAttemptTimeouts(){window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.nextConnectionAttempt=0,this.connectTimeout=0}triggerSocketOpen(h){this.clearConnectionAttemptTimeouts();const g=this.getRetryCount();this.connectionAttempts=0,this.connecting=!1,this.trackJoinStarted(),this.emitter.emit(Xm,{retryCnt:g,traceId:this.traceId,initialStageState:h}),this.pingInterval=window.setInterval(this.ping.bind(this),3e4)}ping(){var h;this.logger.debug({msg:`${this.id}sending PING`});try{this.latestPingTimestamp=performance.now(),(h=this.socket)===null||h===void 0||h.send(JSON.stringify({type:"PING"})),this.sentPing=!0,this.receivedPong=!1,this.pongTimeout&&clearTimeout(this.pongTimeout),this.pongTimeout=window.setTimeout(this.pongTimedOut.bind(this),5e3)}catch(g){const b=g instanceof Error?g.message:void 0,T=this.createError(je.EVENT_PLANE_PING_SEND_FAIL,b);this.emitter.emit(fs,T)}}connectTimedOut(){const h=this.socket&&this.socket.readyState===this.socket.CONNECTING;this.connecting=!1,this.logger.debug({msg:`${this.id}Connect timed out!`});const g=this.createError(je.JOIN_TIMED_OUT);h&&this.trackJoinFailed(g,this.getRetryCount()),this.createError(je.JOIN_TIMED_OUT),this.emitter.emit(fs,g),this.close()}pongTimedOut(){if(this.sentPing&&!this.receivedPong){this.logger.debug({msg:`${this.id}Pong timed out!`});const h=this.createError(je.EVENT_PLANE_PONG_TIMEOUT);this.emitter.emit(fs,h)}}cleanPingPongTimeouts(){this.sentPing=this.receivedPong=!1,window.clearTimeout(this.pongTimeout),window.clearInterval(this.pingInterval)}trackJoinAttempt(h){const{token:g,traceId:b}=this;this.analyticsTracker.trackEvent(new bg({token:g,eventEndpoint:(g==null?void 0:g.eventsURL)||"",whipEndpoint:(g==null?void 0:g.whipURL)||"",traceId:b}))}trackJoinFailed(h,g){const{token:b,traceId:T,code:O,message:N,fatal:M,nominal:L}=h;this.analyticsTracker.trackEvent(new Ww({token:b,eventEndpoint:b.eventsURL,whipEndpoint:b.whipURL,traceId:T,code:O,message:N,fatal:M,nominal:L,retryCnt:g}))}trackJoinStarted(){this.analyticsTracker.trackEventNoSharedProps(new ya({token:this.token,eventEndpoint:this.token.eventsURL,numRetries:this.getRetryCount(),protocol:this.protocol,traceId:this.traceId}))}}var P0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},Xd,ai,Zi,Wn;(function(S){S.SDP_EXCHANGE="xdp",S.JITTER_BUFFER_MIN_DELAY_MS="jit_buf_min_delay_ms"})(Xd||(Xd={})),function(S){S.USER_INITIATED="user-initiated",S.CLIENT_RECONNECT="reconnect",S.TOKEN_REUSED="token-reused",S.UNKNOWN="unknown",S.PARTICIPANT_DISCONNECTED="participant-disconnected",S.STAGE_DELETED="stage-deleted"}(ai||(ai={})),function(S){S[S.NOT_CONNECTED=0]="NOT_CONNECTED",S[S.CONNECTION_LOST=1]="CONNECTION_LOST",S[S.TIMEDOUT=2]="TIMEDOUT",S[S.ABORTED=3]="ABORTED",S[S.INVALID_MESSAGE=4]="INVALID_MESSAGE",S[S.UNEXPECTED_ERROR=5]="UNEXPECTED_ERROR"}(Zi||(Zi={})),function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"}(Wn||(Wn={}));class Jh extends yo{constructor(h,g,b){super(),this.token=h,this.nonScopedLogger=g,this.analyticsTracker=b,this.participants=new Map,this.disconnected=[],this.state={value:Wn.DISCONNECTED,context:{connectStartTime:0,hasConnected:!1}},this.features={sdpExchange:!1},this.stats=this.resetStats(),this.stageMinutesLogged=0,this.isStagePublishing=!1,this.onConnecting=(T,O)=>{this.logger.debug({msg:"onConnecting",context:T,event:O}),T.connectStartTime=performance.now();const N=O.type==="RECONNECT";N&&this.stageSocket.close();const{eventsURL:M}=this.token;this.emit(fa,Wn.CONNECTING),this.state.value=Wn.CONNECTING;const L=!N;this.stageSocket.connect(M,this.traceId,L)},this.onConnected=(T,O)=>{this.logger.debug({msg:"onConnected",context:T,event:O}),T.hasConnected=!0,this.emit(Hl),this.emit(fa,Wn.CONNECTED),this.state.value=Wn.CONNECTED},this.onDisconnected=(T,O)=>{this.logger.debug({msg:"onDisconnected",context:T}),this.state.value=Wn.DISCONNECTED,this.stopStageMinuteLoggedInterval(!0),this.stageSocket.close(),T.hasConnected=!1,this.participants=new Map,this.disconnected=[],this.stageSocket.removeAllListeners(),this.resetStats(),this.emit(fa,Wn.DISCONNECTED,O)},this.onErrored=(T,O)=>{this.logger.error({msg:"Connection failure occurred",err:O.payload.error}),this.emit(fa,Wn.ERRORED),this.emit(Qm,O.payload.error),this.state.value=Wn.ERRORED,T.hasConnected?this.processStateUpdate({type:"RECONNECT"}):this.stageSocket.close()},this.processStateUpdate=T=>{const O=this.state.value,N=this.state.context;switch(O){case Wn.DISCONNECTED:T.type==="CONNECT"&&this.onConnecting(N,T);break;case Wn.CONNECTING:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="CONNECT_SUCCESS"?this.onConnected(N,T):T.type==="ERROR"&&this.onErrored(N,T);break;case Wn.CONNECTED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"?this.onDisconnected(N,T.reason):T.type==="ERROR"&&this.onErrored(N,T);break;case Wn.ERRORED:T.type==="RECONNECT"?this.onConnecting(N,T):T.type==="DISCONNECT"&&this.onDisconnected(N,T.reason)}},this.measureConnect=(T,O)=>{const N=this.stats.edpConnectCount,M=N+1,L=performance.now(),j=L-O;return Object.assign(this.stats,{edpConnectCount:M,edpConnectDuration:j}),N===0&&Object.assign(this.stats,{edpInitialStartConnectTime:O,edpInitialFinishConnectTime:L,edpInitialConnectDuration:j,edpInitialConnectRetries:T}),this.stats},this.measureStateUpdate=T=>{const{edpInitialFinishConnectTime:O}=this.stats,N=this.stats.edpStateUpdateCount,M=N+1;return Object.assign(this.stats,{edpStateUpdateCount:M}),N===0&&Object.assign(this.stats,{edpInitialStateDuration:performance.now()-O,edpInitialStatePublishingCount:T}),this.stats},this.trackMessageParseError=T=>{this.logger.error({msg:"Message Parse Error occurred",err:T.err});const O=new en({token:T.token,traceId:T.traceId,code:je.WEBSOCKET_MESSAGE_PARSE_FAILURE.code,tag:T.tag,location:T.location,message:T.message,details:T.err.message});this.analyticsTracker.trackEvent(new Eh(O))},this.trackStageSocketMessageParseError=(T,O,N)=>{this.trackMessageParseError({token:T,traceId:O,tag:Fd,location:"StageConnection.onMessage",message:je.WEBSOCKET_MESSAGE_PARSE_FAILURE.message,err:N})},this.trackStageStateMessageParseError=(T,O,N,M)=>{this.trackMessageParseError({token:T,traceId:O,tag:Fd,location:"StageConnection.onStageStateMessage",message:M,err:N})},this.onDisconnectMessage=T=>{this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,this.traceId,`DISCONNECT message received: ${T.code}:${T.reason}`,qe.JOIN));let O=ai.UNKNOWN;if(T.code==="PARTICIPANT_DISCONNECTED")O=ai.PARTICIPANT_DISCONNECTED;else if(T.code==="STAGE_DELETED")O=ai.STAGE_DELETED;else if(T.code==="TOKEN_REUSED"&&(O=ai.TOKEN_REUSED,za("disableTokenReuseMessage")))return void console.warn("Token reuse is detected, but skipping as feature is disabled");console.warn(`Disconnecting client due to: ${T.reason}`),this.processStateUpdate({type:"DISCONNECT",reason:O})},this.onReassignmentMessage=T=>{this.emit(H,T)},this.onIncompatibleCodecsMessage=T=>{this.emit(Uc,T)},this.onStageStateMessage=(T,O,N)=>{var M,L;this.logger.debug({msg:"State Stage Message occurred",state:N});const j=N.payload,F=(M=j.participants)!==null&&M!==void 0?M:[],B=(L=j.disconnected)!==null&&L!==void 0?L:[],W=[],ie=[];this.measureStateUpdate(F.length),this.enableFeaturesBasedOnServerFeatures(j.serverFeatures||[]);const be=(ge,le)=>{this.analyticsTracker.trackEventNoSharedProps(new Qh({token:T,otherParticipantId:ge.id,otherParticipantUserId:ge.userId,isAudioMuted:ge.audioMuted,isVideoStopped:ge.videoStopped,isPublishing:ge.isPublishing,isDisconnected:le,traceId:O}))};this.participants.forEach(ge=>{const le=F.find(ae=>ae.id===ge.id);if(le){let ae=!0,oe=!1;["isPublishing","id","audioMuted","joinedAt","userId","videoStopped"].forEach(we=>{ae=ae&&le[we.toString()]===ge[we.toString()],ae||(ge[we.toString()]=le[we.toString()],oe=!0)}),Object.keys(ge.attributes).forEach(we=>{ae=ae&&le.attributes[we]===ge.attributes[we],ae||(ge.attributes=le.attributes,oe=!0)}),oe&&(be(ge,!1),this.emit(Uh,le))}else ie.push(ge)}),F.forEach(ge=>{this.participants.get(ge.id)||W.push(ge)}),ie.forEach(ge=>{this.participants.delete(ge.id),be(ge,!0),this.emit(Fh,ge)}),W.forEach(ge=>{this.participants.set(ge.id,ge),be(ge,!1),this.emit(Lh,ge)}),B.forEach(ge=>{this.disconnected.find(le=>le.id===ge.id)||(this.disconnected.push(ge),ge.status==="KICKED"&&this.emit(Km,ge))}),this.disconnected=B},this.nonScopedLogger=g,this.logger=new mo(g,kn.CONNECTION),this.stageSocket=new O0(h,this.nonScopedLogger,b),this.token=h,this.traceId=Xi()}resetStats(){return this.stats={isConnected:!1,edpInitialStartConnectTime:0,edpInitialFinishConnectTime:0,edpConnectCount:0,edpInitialConnectDuration:0,edpConnectDuration:0,edpInitialStateDuration:0,edpInitialStatePublishingCount:0,edpStateUpdateCount:0,edpInitialConnectRetries:0},this.stats}connect(h){return P0(this,void 0,void 0,function*(){return this.logger.debug({msg:"connect invoked",token:this.token,traceId:h}),this.traceId=h,this.state.value!==Wn.DISCONNECTED&&(this.logger.debug({msg:"Disconnecting previous connection"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.CLIENT_RECONNECT})),new Promise((g,b)=>{this.stageSocket.on(Xm,T=>{var O,N;const{retryCnt:M,initialStageState:L}=T;L&&this.enableFeaturesBasedOnServerFeatures((N=(O=L.payload)===null||O===void 0?void 0:O.serverFeatures)!==null&&N!==void 0?N:[]),this.traceId=T.traceId||Xi(),this.measureConnect(M,this.state.context.connectStartTime),this.processStateUpdate({type:"CONNECT_SUCCESS"}),this.startStageMinuteLoggedInterval(this.token,this.traceId),g(this.traceId)}),this.stageSocket.on(fs,T=>{b(T),this.processStateUpdate({type:"ERROR",payload:{error:T}})}),this.stageSocket.on(u0,()=>{this.logger.debug({msg:"Refresh event occurred"}),this.emit(Bh),this.processStateUpdate({type:"RECONNECT"})}),this.stageSocket.on(ql,T=>this.onStageStateMessage(this.token,this.traceId,T)),this.stageSocket.on(l0,T=>this.trackStageSocketMessageParseError(this.token,this.traceId,T)),this.stageSocket.on(d0,this.onDisconnectMessage),this.stageSocket.on(Jm,this.onReassignmentMessage),this.stageSocket.on($s,this.onIncompatibleCodecsMessage),this.stageSocket.on($d,T=>{this.stopStageMinuteLoggedInterval()}),this.processStateUpdate({type:"CONNECT",payload:{token:this.token,traceId:h}})})})}disconnect(){return this.logger.debug({msg:"disconnect invoked"}),this.processStateUpdate({type:"DISCONNECT",reason:ai.USER_INITIATED}),this.traceId}getParticipant(h){return this.participants.get(h)}listConnectedParticipants(){const h=[];return this.participants.forEach(g=>{g.subscribed&&h.push(g)}),h}listAvailableParticipants(){return Array.from(this.participants.values())}emitStageState(h,g){this.stageSocket.send({audioMuted:h,type:"SET_STATE",version:"0",videoStopped:g})}setStagePublishing(h){this.isStagePublishing=h,this.emit(Ym,this.isStagePublishing)}getIsStagePublishing(){return this.isStagePublishing}startStageMinuteLoggedInterval(h,g){this.uploadStageMinutesBroadcastInterval||(this.analyticsTracker.trackEvent(new yg(h,g,this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++,this.uploadStageMinutesBroadcastInterval=setInterval(()=>{this.analyticsTracker.trackEvent(new yg(h,g??Xi(),this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++},6e4))}stopStageMinuteLoggedInterval(h=!1){this.uploadStageMinutesBroadcastInterval&&(clearInterval(this.uploadStageMinutesBroadcastInterval),this.uploadStageMinutesBroadcastInterval=void 0),h&&(this.stageMinutesLogged=0)}enableFeaturesBasedOnServerFeatures(h){const g=(N,M)=>{this.trackStageStateMessageParseError(this.token,this.traceId,M,`Could not parse "${N}" from the Eevee server features list`)},b=h.includes(Xd.SDP_EXCHANGE);this.features.sdpExchange!==b&&(this.logger.debug({msg:`XDP SDP exchange feature toggled: ${b}`}),this.features.sdpExchange=b);const T=h.find(N=>N.indexOf(Xd.JITTER_BUFFER_MIN_DELAY_MS)!==-1),O=N=>{this.logger.debug({msg:`jitterBufferMinDelay feature updated to: ${N}`}),this.features.jitterBufferMinDelayInMs=N};if(T!==void 0)try{const N=T.split("=")[1],M=parseInt(N,10);if(isNaN(M))throw new Error("Unable to parse - result is NaN");if(M<0)throw new Error("Unable to apply - result is negative");this.features.jitterBufferMinDelayInMs!==void 0&&this.features.jitterBufferMinDelayInMs===M||O(M)}catch(N){g(T,N),O(void 0)}else O(void 0)}isConnected(){return this.state.value===Wn.CONNECTED}supportsSdpExchange(){return this.features.sdpExchange}jitterBufferMinDelayInMs(){return this.features.jitterBufferMinDelayInMs}getConnectionStats(){return Object.assign({},this.stats,{isConnected:this.isConnected()})}exchangeSdp(h,g,b,T,O,N,M,L,j){return P0(this,void 0,void 0,function*(){return this.isConnected()?new Promise((F,B)=>{const W=window.setTimeout(()=>{ie(),B(Zi.TIMEDOUT)},8e3),ie=()=>{window.clearTimeout(W),this.stageSocket.off(Kl,be),this.stageSocket.off(fs,ge)},be=le=>{le.requestId===T&&(ie(),F(le))},ge=()=>{ie(),B(Zi.CONNECTION_LOST)};O==null||O.addEventListener("abort",()=>{ie(),B(Zi.ABORTED)}),this.stageSocket.on(Kl,be),this.stageSocket.on(fs,ge),this.stageSocket.sendSdpOffer(h,g,b,T,N,M,L,j)}):Promise.reject(Zi.NOT_CONNECTED)})}}class Jd{constructor(h){this.token=h}}const eu=new RegExp("^(?:[a-z+]+:)?//","i");function kt(S){return eu.test(S)}function Zd({sdpExchangeTransport:S,serverHttpResponse:h,serverErrorCode:g}){return`sdpExchangeTransport: ${S}, serverHttpResponse: ${h}, serverErrorCode: ${g}`}var Sg=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Wc={[Zi.ABORTED]:je.OPERATION_ABORTED,[Zi.NOT_CONNECTED]:je.EVENT_PLANE_WS_UNEXPECTED_CLOSE,[Zi.CONNECTION_LOST]:je.XDP_CONNECTION_LOST,[Zi.TIMEDOUT]:je.XDP_TIMEOUT,[Zi.INVALID_MESSAGE]:je.XDP_INVALID_ANSWER_MSG,[Zi.UNEXPECTED_ERROR]:je.XDP_UNEXPECTED_ERROR};class _g extends Jd{constructor(h,g,b,T){super(h),this.token=h,this.stageConnection=g,this.contextData=b,this.analyticsTracker=T}exchange(h){return Sg(this,void 0,void 0,function*(){const g=qa(),{action:b}=this.contextData,{sdpOffer:T,url:O,traceId:N,forceNode:M,assignmentToken:L,multiCodec:j,abortController:F,initialLayerPreference:B}=h;let W;this.trackAttempt(O,g,N);try{W=yield this.stageConnection.exchangeSdp(T,O,N.value,g.value,F==null?void 0:F.signal,M,L,j,B)}catch(We){if(typeof We=="number")throw this.createClientSideErrorFromReasonCode(We,N,g,b)}if(!W)return;const{httpStatusCode:ie,errorCode:be,location:ge,content:le,sessionDeleteLink:ae,subscriberControlLink:oe,videoLayersLink:we}=W;if(ie>=200&&ie<300)return{sdpAnswer:le,url:O,location:ge,sessionDeleteLink:ae,mediaControls:oe,layerControls:we};throw this.createServerSideError(N,g,ie,be,b)})}trackAttempt(h,g,b){const{remoteParticipantId:T,action:O}=this.contextData;this.analyticsTracker.trackEventNoSharedProps(new Yl(O,this.token,h,"POST",g.value,T,b,"xdp"))}createServerSideError(h,g,b,T,O){const N=this.baseErrorProps(h,g);let M=Fc(b,T);return M||(M=je.UNKNOWN_SERVER_ERROR),new en(Object.assign(Object.assign(Object.assign({action:O},N),M),{details:Zd({sdpExchangeTransport:"xdp",serverHttpResponse:b,serverErrorCode:T})}))}baseErrorProps(h,g){const{remoteParticipantId:b,action:T}=this.contextData;return{token:this.token,traceId:h,tag:Jr(T,b),location:"EdpSdpExchanger.exchange",requestUUID:g,remoteParticipantId:b}}createClientSideErrorFromReasonCode(h,g,b,T){const O=this.baseErrorProps(g,b),N=Wc[h];return new en(N?Object.assign(Object.assign({action:T},O),N):Object.assign(Object.assign({action:T},O),je.XDP_INVALID_ANSWER_MSG))}getTransport(){return"sdp"}}var N0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ti extends Jd{constructor(h,g,b){super(h),this.contextData=g,this.analyticsTracker=b}exchange(h){var g,b,T;return N0(this,void 0,void 0,function*(){const O=qa(),{token:N}=this,{action:M,remoteParticipantId:L}=this.contextData,{sdpOffer:j,url:F,traceId:B,forceNode:W,assignmentToken:ie,multiCodec:be,abortController:ge,initialLayerPreference:le}=h;try{const oe="POST",we="http";this.analyticsTracker.trackEventNoSharedProps(new Yl(M,N,F,oe,O.value,L,B,we));const We={data:j,headers:{Authorization:`Bearer ${N.rawToken}`,"Content-Type":"application/sdp","X-Stages-Platform":"web","X-Stages-Request-ID":O.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":B.value,"X-Stages-WHIP-Version":hs,[Lw]:(ae=JSON.stringify({[Fw]:["sau"]}),btoa(ae).replace(/[^A-Za-z0-9+/]/g,""))},method:oe,responseType:"text",url:F,signal:ge==null?void 0:ge.signal,params:{}};W&&(We.params.force_node=W),ie&&(We.params.assignment_token=ie),be&&(We.params.multi_codec=!0);const st=Pd()===void 0,Rt=Pd()||st;le&&We.headers&&Rt&&(We.headers["X-Stages-Initial-Layer-Pref"]=$i(le));const{data:Yt,headers:Qt,request:Vt}=yield p0(We),Nt=this.parseWhipResource(F,Qt.location,Qt.link);return{url:Vt.responseURL,sdpAnswer:Yt,location:Nt==null?void 0:Nt.location,sessionDeleteLink:Nt==null?void 0:Nt.sessionDeleteLink,mediaControls:Nt==null?void 0:Nt.mediaControls,layerControls:Nt==null?void 0:Nt.layerControls}}catch(oe){if(Hr().isCancel(oe))throw new en(Object.assign(Object.assign({},da(je.OPERATION_ABORTED,oe)),{action:M,token:N,traceId:B,tag:Jr(M,L),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:L}));const we=Number((g=oe==null?void 0:oe.response)===null||g===void 0?void 0:g.status)||-1,We=((T=(b=oe==null?void 0:oe.response)===null||b===void 0?void 0:b.data)===null||T===void 0?void 0:T.code)||-1,st=function(Rt,Yt){var Qt;return Rt instanceof gr.AxiosError&&Rt.response&&typeof Rt.response.status=="number"?Rt instanceof gr.AxiosError&&Rt.code==="ERR_NETWORK"?je.NETWORK_FAILURE:Fc(Number(Rt.response.status),(Qt=Rt.response.data)===null||Qt===void 0?void 0:Qt.code)||Yt:Yt}(oe,je.WHIP_POST_FAILURE);throw new en(Object.assign(Object.assign({},da(st,oe)),{action:M,token:N,traceId:B,tag:Jr(M,L),details:Zd({sdpExchangeTransport:"http",serverHttpResponse:we,serverErrorCode:We}),location:"StagePeerClient.start",requestUUID:O,remoteParticipantId:L}))}var ae})}parseWhipResource(h,g,b){const T=new URL(h);let O;return O=function(N,M,L){if(!L)return N;if(N||(N={}),kt(L))return N.location=L,N;const j=M.port?`:${M.port}`:"";return N.location=`${M.protocol}//${M.hostname}${j}${L}`,N}(O,T,g),O=function(N,M,L){if(!L)return N;N||(N={});const j=N;return L.split(",").forEach(F=>{const B=/<(.+)>;\s?rel="([a-z:-]+)"/.exec(F);if((B==null?void 0:B.length)!==3)return;let W;if(kt(B[1]))W=B[1];else{const ie=M.port?`:${M.port}`:"";W=`${M.protocol}//${M.hostname}${ie}${B[1]}`}switch(B[2]){case"urn:ietf:params:whip:ivs-stages:session-delete":j.sessionDeleteLink=W;break;case"urn:ietf:params:whep:core:playback-controls":j.mediaControls=W;break;case"urn:ietf:params:whep:ext:core:layer":j.layerControls=W;break;default:return}}),j}(O,T,b),O}getTransport(){return"http"}}function Zh(S){return S.track.kind===ha.AUDIO}function ep(S){return S.track.kind===ha.VIDEO&&typeof S.config=="object"}const I0=(S,h)=>function(g){return g.kind===ha.AUDIO}(S)?((g,b)=>{var T;const O={maxBitrateBps:gs((T=b==null?void 0:b.maxAudioBitrateKbps)!==null&&T!==void 0?T:ng)},N=b==null?void 0:b.stereo;return typeof N=="boolean"&&(O.stereo=N),{track:g,config:O}})(S,h):((g,b)=>{var T,O,N,M,L;const j=(T=b==null?void 0:b.minBitrate)!==null&&T!==void 0?T:$c,F=(O=b==null?void 0:b.maxBitrate)!==null&&O!==void 0?O:ps,B=(N=b==null?void 0:b.maxFramerate)!==null&&N!==void 0?N:Xa,W=!!(!((M=b==null?void 0:b.simulcast)===null||M===void 0)&&M.enabled),ie=!!(!((L=b==null?void 0:b.inBandMessaging)===null||L===void 0)&&L.enabled);return{track:g,config:{minBitrateBps:gs(j),maxBitrateBps:gs(F),maxFramerate:B,simulcastEnabled:W,inBandMessagingEnabled:ie}}})(S,h),zo=(S,h)=>{if(typeof S=="number")return S;const g=h?rg:m0;return g[S]!==void 0?g[S]:0};function Ri(S){if(S<$c||S>ps)throw new Error(`Stage bitrate must be between ${$c} kbps and ${ps} kbps`)}function wg(S,h){let b=Object.assign({},{minBitrate:$c,maxBitrate:ps,maxFramerate:Xa,simulcast:{enabled:!1},maxAudioBitrateKbps:ng,stereo:!1,inBandMessaging:{enabled:!1}},(0,wr.cloneDeep)(h));return b=function(T,O){var N,M,L;const j=Object.assign({},(0,wr.cloneDeep)(O)),F=!Gd.browser.isChrome()&&!Gd.browser.isEdge(),B=(L=(M=(N=T.getSettings)===null||N===void 0?void 0:N.call(T))===null||M===void 0?void 0:M.displaySurface)!==null&&L!==void 0&&L,W=gs(j.maxBitrate)<Kd.maxBitrate;return(F||B||W)&&(j.simulcast.enabled=!1),j}(S,b),Ri(b.maxBitrate),Ri(b.minBitrate),function(T){if(T&&(T>Xa||T<Wh))throw new Error(`framerate cannot exceed ${Xa} fps`)}(b.maxFramerate),function(T){if(T<Vd||T>zc)throw new Error(`Stage audio bitrate must be between ${Vd} kbps and ${zc} kbps`)}(b.maxAudioBitrateKbps),function(T){if(typeof T!="boolean")throw new Error("Stage stereo prop must be a boolean")}(b.stereo),function(T){if(typeof T!="object")throw new Error("In-band messaging config must be an object");if(typeof T.enabled!="boolean")throw new Error("In-band messaging config enabled property must be a boolean")}(b.inBandMessaging),b}function ef({stageErrorValue:S,action:h,token:g,traceId:b,tag:T,identifier:O,details:N}){return new en(Object.assign(Object.assign({},S),{token:g,traceId:b,location:"peer-client",tag:T,action:h,remoteParticipantId:O,details:N}))}var ki;function tu(S){var h;return!((h=S==null?void 0:S.sender)===null||h===void 0)&&h.createEncodedStreams?ki.INSERTABLE_STREAMS:window.RTCRtpSender&&"transform"in RTCRtpSender.prototype&&window.RTCRtpScriptTransform?ki.ENCODED_TRANSFORMS:ki.NONE}function Eg(S){var h;return!((h=S==null?void 0:S.receiver)===null||h===void 0)&&h.createEncodedStreams?ki.INSERTABLE_STREAMS:window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&window.RTCRtpScriptTransform?ki.ENCODED_TRANSFORMS:ki.NONE}function j0(){return s0()(`/*! For license information please see transform.worker.worker.js.LICENSE.txt */
(()=>{"use strict";const e=new Uint8Array([158,80,78,165,238,90,79,2,148,159,176,51,163,118,141,162]);var t;!function(e){e.VIDEO_SEND="video/send",e.VIDEO_RECEIVE="video/receive",e.INSERT_SEI="insertSei"}(t||(t={}));function n(t,n){const{transformerId:s,type:r,payloads:a}=n;let o=[];if("sei"===n.type){const{value:n,messages:s}=function(t,n){function s(e,t,n){return n+t.length<=e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function r(e,t){const n=function(e,t){return new Uint8Array([0,0,1,6,5,...t,...e])}(e,function(e){const t=[];for(;e>=255;)t.push(255),e-=255;return t.push(e),new Uint8Array(t)}(t.length+e.length)),s=function(e){const t=[...e];let n=3;for(;n<t.length-2;)0!==t[n]||0!==t[n+1]||0!==t[n+2]&&1!==t[n+2]&&2!==t[n+2]&&3!==t[n+2]?n+=1:(t.splice(n+2,0,3),n+=3);return t}(new Uint8Array([...n,...t,128]));return new Uint8Array(s)}function a(e,n){const r=function(e){const t=new DataView(e);for(let e=0;e<t.byteLength-4;e++)if(s(t,[0,0,1],e)){const n=31&t.getUint8(e+3);if(n>=1&&n<=5)return e}return-1}(t.data);if(r>=0){const e=new ArrayBuffer(t.data.byteLength+n.byteLength),s=new Uint8Array(e);return s.set(new Uint8Array(t.data.slice(0,r)),0),s.set(n,r),s.set(new Uint8Array(t.data.slice(r)),r+n.byteLength),e}return e}return function(){const s=[];for(let o=0;o<n.length;o+=1){const i=r(e,new Uint8Array(n[o]));t.data=a(t.data,i),s.push({uuid:e,payload:n[o]})}return{value:t,messages:s}}()}(t,a||[]);t=n,o=s}return{success:!0,frame:t,transformerId:s,type:r,seiResult:o}}const s=function(){let e=[];const t=new Map;return{add:({payload:t,repeatCount:n})=>(e.push({payload:t,repeatCount:n}),!0),poll(n){t.has(n)||t.set(n,[]),t.size>0&&(t.forEach((t=>{t.push(...e)})),e=[]);const s=t.get(n)||[],r=s.filter((e=>e.repeatCount>0)).map((e=>Object.assign(Object.assign({},e),{repeatCount:e.repeatCount-1})));return t.set(n,r),s}}}(),r=e=>(t,r)=>{try{const a=t.getMetadata().synchronizationSource,o=(s?s.poll(a):[]).map((e=>e.payload)),i=n(t,Object.assign(Object.assign({},e),{payloads:o}));r.enqueue(i.frame),self.postMessage(Object.assign({success:i.success,seiResult:i.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}},a=e=>(t,n)=>{try{const s=function(e,t){const{type:n,transformerId:s}=t;if("sei"===n){const t=function(e){function t(e,t,n){return n+t.length<e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function n(e){const t=[];let n=0;for(;n<e.length;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(t.push(e[n]),t.push(e[n+1]),n+=3):(t.push(e[n]),n+=1);return new Uint8Array(t)}function s(e){let t=2;const n=e.byteLength;for(;t<n;){let s=0;for(;t<n&&255===e[t];)s+=255,t++;s+=e[t],t++;const r=Math.min(t+s,n),a=new Uint8Array(e.slice(t,r));return{uuid:a.slice(0,16),payload:a.slice(16)}}}return{messages:function(e){const r=new DataView(e.data),a=[];let o=0;if(!t(r,[0,0,1],0)&&!t(r,[0,0,0,1],0))return[];for(;o<r.byteLength-5;)if(t(r,[0,0,1],o)){const i=o+3;o=i;const c=31&r.getUint8(o),u=31&r.getUint8(o+1);if(6===c&&5===u){for(;o<r.byteLength&&!t(r,[0,0,1],o);)o++;const c=o,u=s(n(new Uint8Array(e.data.slice(i,c))));u&&a.push(Object.assign({},u))}else o++}else o++;return a}(e),frame:e}}(e),{frame:r,messages:a}=t;return{success:!0,frame:r,type:n,transformerId:s,seiResult:a}}return{success:!0,frame:e,transformerId:s,type:n}}(t,e);n.enqueue(s.frame),self.postMessage(Object.assign({success:s.success,seiResult:s.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}};function o(e,t,n,s){const o=new TransformStream({transform:"video/send"===e?r(t):a(t)});n.pipeThrough(o).pipeTo(s)}const i=self;i.addEventListener("message",(function(e){var n,r,a;if(!(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.operation)||!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transformerId))return;const{operation:i,transformerId:c}=e.data;switch(i){case t.VIDEO_SEND:case t.VIDEO_RECEIVE:o(i,{method:i,transformerId:c,type:"sei"},e.data.readable,e.data.writable);break;case t.INSERT_SEI:s.add({payload:e.data.payload,repeatCount:null!==(a=e.data.repeatCount)&&void 0!==a?a:0})}})),i.addEventListener("rtctransform",(function(e){const t=e.transformer;if(!t)return;o(t.options.method,t.options,t.readable,t.writable)}))})();`,"Worker",void 0,void 0)}(function(S){S.NONE="none",S.ENCODED_TRANSFORMS="encodedTransforms",S.INSERTABLE_STREAMS="insertableStreams"})(ki||(ki={}));const nu=(()=>{let S;return{getWorker:()=>(S||(S=new j0),S),destroy:()=>{S&&S.terminate(),S=void 0}}})();var Oi;(function(S){S.NOT_PUBLISHING_VIDEO="NOT_PUBLISHING_VIDEO",S.INBAND_MESSAGING_NOT_ENABLED="INBAND_MESSAGING_NOT_ENABLED",S.INVALID_REPEAT_COUNT="INVALID_REPEAT_COUNT",S.PAYLOAD_SIZE_INVALID="PAYLOAD_SIZE_INVALID",S.PAYLOAD_RATE_EXCEEDED="PAYLOAD_RATE_EXCEEDED",S.INVALID_TRACK_TYPE="INVALID_TRACK_TYPE"})(Oi||(Oi={}));class Cg{constructor(h){this.maxFramerate=h,this.queued=[]}validateMessagePayload(h,g){if(h.byteLength<=0)return ot.err(Oi.PAYLOAD_SIZE_INVALID);if(g<0||g>30)return ot.err(Oi.INVALID_REPEAT_COUNT);if(h.byteLength>1024)return ot.err(Oi.PAYLOAD_SIZE_INVALID);this.queued=this.trimPastPayloads(this.queued,1e3);const{before:b,after:T}=this.getPayloadSums(this.queued);if(b+h.byteLength>10240||T+h.byteLength*Math.max(1,g)>10240)return ot.err(Oi.PAYLOAD_RATE_EXCEEDED);if(this.queued.push({byteLength:h.byteLength,timestamp:Date.now()}),g>0){const O=1e3/this.maxFramerate;let N=Date.now()+O;for(let M=0;M<g;M+=1)this.queued.push({byteLength:h.byteLength,timestamp:N}),N+=O}return ot.ok(!0)}trimPastPayloads(h,g){const b=Date.now()-g;return h.filter(T=>T.timestamp>b)}getPayloadSums(h){const g=Date.now();return h.reduce((b,T)=>{const{before:O,after:N}=b;return T.timestamp<=g?{before:O+T.byteLength,after:N}:{before:O,after:N+T.byteLength}},{before:0,after:0})}}const Tg="seiMessageReceived",ru="error";var zi;(function(S){S.CREATED="created",S.INITIALIZED="initialized",S.DESTROYED="destroyed"})(zi||(zi={}));class Rg extends yo{constructor(){super(),this.state=zi.CREATED,this.transformerId=qa().value,this.prevResultWasError=!1,this.consecutiveErrorResults=0,this.seiReadCnt=0,this.seiBytesRead=0,this.onMessage=h=>{this.onTransformResult(h.data)}}initializeInsertableStreams(h){var g,b;this.worker=nu.getWorker();const T=h.receiver.createEncodedStreams(),{readable:O,writable:N}=T;(g=this.worker)===null||g===void 0||g.postMessage({operation:"video/receive",transformerId:this.transformerId,readable:O,writable:N},[O,N]),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initializeEncodedTransforms(h){var g;this.worker=nu.getWorker();const b={method:"video/receive",type:"sei",transformerId:this.transformerId};h.receiver.transform=new RTCRtpScriptTransform(this.worker,b),(g=this.worker)===null||g===void 0||g.addEventListener("message",this.onMessage)}initialize(h,g){if(this.state!==zi.CREATED)return!1;const b=Eg(h);if(b===ki.NONE)return!1;if(g&&b===ki.INSERTABLE_STREAMS)this.initializeInsertableStreams(h);else{if(g||b!==ki.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(h)}return this.transceiver=h,this.state=zi.INITIALIZED,!0}onTransceiverAdd(h){return this.initialize(h,!0)}onTrackEvent(h){return h.track.kind==="video"&&this.initialize(h.transceiver,!1)}static isSupported(h){return Eg(h)!==ki.NONE}onTransformResult(h){return h.transformerId===this.transformerId&&(h.success?(this.prevResultWasError=!1,this.consecutiveErrorResults=0,!!h.seiResult&&(h.seiResult.forEach(g=>{const{payload:b,uuid:T}=g;this.updateReadStats(g),this.emit(Tg,{uuid:T,payload:b})}),h.seiResult.length>0)):(this.prevResultWasError&&this.consecutiveErrorResults++,this.consecutiveErrorResults>=300&&this.onError(h,je.TRANSFORM_TOO_MANY_ERRORS),this.prevResultWasError=!0,this.onError(h,je.TRANSFORM_UNEXPECTED_ERROR),!1))}updateReadStats(h){this.seiReadCnt++,this.seiBytesRead+=h.payload.byteLength}getReceiverStats(){const{seiBytesRead:h,seiReadCnt:g}=this;return{seiReadCnt:g,seiBytesRead:h}}onError(h,g){const{type:b}=h;this.emit(ru,{type:b,stageErrorValue:g})}destroy(){var h,g;this.state!==zi.DESTROYED&&(this.removeAllListeners(),(h=this.worker)===null||h===void 0||h.removeEventListener("message",this.onMessage),!((g=this.transceiver)===null||g===void 0)&&g.receiver&&(this.transceiver.receiver.transform=null),this.state=zi.DESTROYED)}getState(){return this.state}}class kg{constructor(){this.state=zi.CREATED,this.transformerId=qa().value,this.seiWriteCnt=0,this.seiBytesWritten=0,this.onMessage=h=>{this.onTransformResult(h.data)}}initializeInsertableStreams(h,g){var b,T;this.worker=nu.getWorker();const O=h.sender.createEncodedStreams(),{readable:N,writable:M}=O;(b=this.worker)===null||b===void 0||b.postMessage({operation:"video/send",transformerId:this.transformerId,readable:N,writable:M},[N,M]),(T=this.worker)===null||T===void 0||T.addEventListener("message",this.onMessage)}initializeEncodedTransforms(h,g){var b;this.worker=nu.getWorker();const T={method:"video/send",type:"sei",transformerId:this.transformerId,encodingLayers:g};h.sender.transform=new RTCRtpScriptTransform(this.worker,T),(b=this.worker)===null||b===void 0||b.addEventListener("message",this.onMessage)}initialize(h){var g;if(this.state!==zi.CREATED)return!1;const b=tu(h);if(b===ki.NONE)return!1;const T=h.sender.getParameters(),O=((g=T==null?void 0:T.encodings)===null||g===void 0?void 0:g.length)||1;if(b===ki.INSERTABLE_STREAMS)this.initializeInsertableStreams(h,O);else{if(b!==ki.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(h,O)}return this.transceiver=h,this.state=zi.INITIALIZED,!0}static isSupported(h){return tu(h)!==ki.NONE}sendSeiMessage(h,g){var b;return this.state===zi.INITIALIZED&&this.transceiver?((b=this.worker)===null||b===void 0||b.postMessage({operation:"insertSei",transformerId:this.transformerId,payload:h,repeatCount:g}),ot.ok(!0)):ot.err(Oi.NOT_PUBLISHING_VIDEO)}onTransceiverAdd(h){return this.initialize(h)}onTrackEvent(h){return!1}onTransformResult(h){return h.transformerId===this.transformerId&&(h.success&&this.updateSendStats(h),h.success)}updateSendStats(h){h.seiResult&&h.seiResult.forEach(g=>{this.seiWriteCnt++,this.seiBytesWritten+=g.payload.byteLength})}getSenderStats(){const{seiBytesWritten:h,seiWriteCnt:g}=this;return{seiWriteCnt:g,seiBytesWritten:h}}destroy(){var h;this.state!==zi.DESTROYED&&(!((h=this.transceiver)===null||h===void 0)&&h.receiver&&(this.transceiver.receiver.transform=null),this.state=zi.DESTROYED)}getState(){return this.state}}var Mr=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};let iu=null;class vs extends yo{constructor(h,g,b,T,O,N,M,L,j){var F;if(super(),this.analyticsTracker=N,this.subscribeConfig=j,this.sfuResource={node:"",cluster:""},this.stageCapabilities={simulcastNegotiated:!1},this.incompatibleCodecs=new Set,this.connect=({audioOnly:B=!1,traceId:W,iceRestartOptions:ie})=>Mr(this,void 0,void 0,function*(){const{token:be,tag:ge,identifier:le,action:ae}=this,oe=!!ie,we=new AbortController;let We,st,Rt;this.abortController=we,this.traceId=W,this.perfTracker.resetMeasurements(W);const Yt=()=>{We&&this.off(vo,We),st&&this.off(go,st)},Qt=new Promise((Vt,Nt)=>{const tn=function({action:yt,token:cn,traceId:It,tag:jt,identifier:dn}){const Pn=yt===qe.SUBSCRIBE?je.SUBSCRIBE_TIMED_OUT:je.PUBLISH_TIMED_OUT;return new en(Object.assign(Object.assign({},Pn),{action:yt,token:cn,traceId:It,tag:jt,location:"connect",remoteParticipantId:dn}))}({action:ae,token:be,traceId:W,tag:ge,identifier:le}),un=function({action:yt,token:cn,traceId:It,tag:jt}){const dn=je.OPERATION_ABORTED;return new en(Object.assign(Object.assign({},dn),{token:cn,traceId:It,location:"peer-client.connect",tag:jt,action:yt}))}({action:ae,token:be,traceId:W,tag:ge}),vt=setTimeout(()=>{this.stop(),this.analyticsTracker.trackError(tn),Nt(tn)},1e4);We=yt=>{clearTimeout(vt),oe||this.stop(),Nt(yt)},st=yt=>{if(yt===gt.CONNECTED)clearTimeout(vt),Vt();else if(yt===gt.FAILED){const cn=function({action:It,token:jt,traceId:dn,tag:Pn}){return new en(Object.assign(Object.assign({},je.PEER_CONNECTION_NETWORK_FAILURE),{token:jt,traceId:dn,location:"peer-client.connect",tag:Pn,action:It}))}({action:ae,token:be,traceId:W,tag:ge});clearTimeout(vt),Nt(cn)}},this.on(vo,We),this.on(go,st),Rt=()=>{clearTimeout(vt)},we.signal.aborted&&(clearTimeout(vt),Nt(un)),we.signal.addEventListener("abort",()=>{clearTimeout(vt),Nt(un)})});try{const Vt=yield Promise.all([Mr(this,void 0,void 0,function*(){oe||(yield this.start(),this.mediaStream=yield this.initializePeerConnection(B));const tn=ie==null?void 0:ie.assignmentToken,un=ie==null?void 0:ie.nodeOverride;return yield this.exchangeSdp({iceRestart:oe,nodeOverride:un,assignmentToken:tn,abortController:we}),this.mediaStream}),Qt]);this.statsReporter.traceId=W;const Nt=Vt[0];if(this.abortController=void 0,!oe&&ae===qe.PUBLISH)try{yield this.verifyOrUpdateTransceiverSync()}catch(tn){this.logger.error({err:tn,msg:"error syncing transceivers"})}return{mediaStream:Nt}}catch(Vt){throw Rt&&Rt(),Vt}finally{Yt()}}),this.disconnect=(B=!1)=>Mr(this,void 0,void 0,function*(){var W;const{token:ie,action:be}=this;(W=this.abortController)===null||W===void 0||W.abort(),this.stop(),B?this.cleanup(be,ie.participantID,ie,B):yield this.cleanup(be,ie.participantID,ie,B)}),this.onTrack=B=>{const{token:W,action:ie,traceId:be,identifier:ge}=this;this.trace(W,be,`onTrack: ${B.track.kind}`,ie,ge),this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTrackEvent(B),this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTrackEvent(B)},this.onIceGatheringStateChange=()=>{var B,W,ie;const{token:be,action:ge,traceId:le,identifier:ae}=this;if(((B=this.peerConnection)===null||B===void 0?void 0:B.iceGatheringState)==="gathering"?this.perfTracker.markIceGatheringStart():((W=this.peerConnection)===null||W===void 0?void 0:W.iceGatheringState)==="complete"&&this.perfTracker.markIceGatheringStop(),this.peerConnection){const oe=this.peerConnection.iceGatheringState,we=new Vh(ge,be,le,oe,ae);this.analyticsTracker.trackEventNoSharedProps(we)}this.trace(be,le,`ICE gathering state change: ${(ie=this.peerConnection)===null||ie===void 0?void 0:ie.iceGatheringState}`,ge,ae)},this.onSelectedCandidatePairChange=()=>{var B,W;const{token:ie,action:be,traceId:ge,identifier:le}=this,ae=(W=(B=this.peerConnection)===null||B===void 0?void 0:B.getReceivers()[0].transport)===null||W===void 0?void 0:W.iceTransport,oe=ae==null?void 0:ae.getSelectedCandidatePair();if(oe){const{local:we,remote:We}=oe,st=`Selected candidate pair change (local, remote): ${we==null?void 0:we.candidate}, ${We==null?void 0:We.candidate}`;this.logger.debug({msg:st}),this.trace(ie,ge,st,be,le)}},this.onIceCandidate=B=>Mr(this,void 0,void 0,function*(){var W,ie;const{identifier:be,action:ge,traceId:le}=this,ae=(W=B.target.localDescription)===null||W===void 0?void 0:W.sdp.includes("relay");this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,le,`ice candidate: hasRelay = ${ae}, candidate = ${(ie=B.candidate)===null||ie===void 0?void 0:ie.candidate}`,ge,be))}),this.onMute=()=>Mr(this,void 0,void 0,function*(){const{token:B,action:W,traceId:ie,identifier:be}=this;this.trace(B,ie,"Track has muted",W,be)}),this.onUnMute=()=>Mr(this,void 0,void 0,function*(){const{token:B,action:W,traceId:ie,identifier:be}=this;this.trace(B,ie,"Track has unmuted",W,be)}),this.fetchAndSetRemoteDescription=B=>Mr(this,void 0,void 0,function*(){var W,ie,be,ge;const le=(ie=(W=this.peerConnection)===null||W===void 0?void 0:W.localDescription)===null||ie===void 0?void 0:ie.sdp;le||this.logger.warn({msg:"Unexpected state: No SDP offer when attempting to fetch remote description"});const{token:ae,traceId:oe,action:we,identifier:We,tag:st}=this,{endpointURL:Rt,nodeOverride:Yt,assignmentToken:Qt,multiCodec:Vt,abortController:Nt}=B;let tn;this.perfTracker.markPostStart(),this.perfTracker.markSdpExchangeStart();try{this.perfTracker.setTransport(this.sdpExchanger.getTransport());const It=Yt||Si("node")||Si("dataPlaneEndpoint");tn=yield this.sdpExchanger.exchange({sdpOffer:le,url:Rt,traceId:oe,forceNode:It,assignmentToken:Qt,multiCodec:Vt,abortController:Nt,initialLayerPreference:(be=this.simulcastSubscribeConfig)===null||be===void 0?void 0:be.initialLayerPreference})}catch(It){let jt=It;jt instanceof en||(jt=new en(Object.assign(Object.assign({},je.UNEXPECTED_ERROR),{action:we,token:ae,traceId:oe,tag:st,details:It instanceof Error?It.message:"",location:"sdp-exchange"}))),jt instanceof en&&(this.analyticsTracker.trackError(jt),this.emit(vo,jt))}if(this.perfTracker.markSdpExchangeStop(),!tn)return;const{location:un,sessionDeleteLink:vt,mediaControls:yt}=tn;let cn=tn.sdpAnswer;try{cn=this.mungeSdpAnswer(cn),tn.sdpAnswer=cn}catch(It){this.logger.error({err:It,msg:"Error while attempting to munge SDP, keeping original answer"})}this.statsReporter.sdpAnswer=cn,this.emit(o0,tn),un&&(this.whipResource={location:un,sessionDeleteLink:vt,mediaControls:yt},this.sfuResource=function(It){const jt=It.match(/https:\/\/([^/]+)\//);if(jt){const dn=jt[1].split(".");if(dn[0].includes("video-rtx"))return{node:`${dn[0]}.${dn[1]}`,cluster:dn[1]}}}(un)||{node:"",cluster:""},this.statsReporter.updateSfuResource(this.sfuResource));try{this.perfTracker.markSetRemoteDescStart(),yield(ge=this.peerConnection)===null||ge===void 0?void 0:ge.setRemoteDescription({sdp:cn,type:"answer"}),this.perfTracker.markSetRemoteDescStop(),this.perfTracker.markPostStop()}catch(It){const jt=new en(Object.assign(Object.assign({},je.SET_ANSWER_FAILURE),{action:we,token:ae,traceId:oe,tag:Jr(we,We),location:"setRemoteDescription",remoteParticipantId:We,details:It instanceof Error?It.message:""}));this.analyticsTracker.trackError(jt),this.emit(vo,jt)}}),this.cleanup=(B,W,ie,be=!1)=>Mr(this,void 0,void 0,function*(){var ge,le,ae;const oe=qa();if(this.toggleStageConnectionListeners(!1),this.currentJitterBufferMinDelayInMs=void 0,this.stageConnection=void 0,this.closeFailedPeerConnections(),!(!((ge=this.whipResource)===null||ge===void 0)&&ge.location))return this.trace(ie,this.traceId,"whipResource location not known, exiting cleanup",B,W),void this.analyticsTracker.trackError(new en(Object.assign(Object.assign({},je.WHIP_URL_MISSING),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:B===qe.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})));let we=this.whipResource.location;if(this.trace(ie,this.traceId,`use hostnamecachedurl: ${we}`,B,W),be){if(!((ae=this.whipResource)===null||ae===void 0)&&ae.sessionDeleteLink){we=this.whipResource.sessionDeleteLink,this.trace(ie,this.traceId,`DELETE via session-delete beacon path: ${we}`,B,W);try{navigator.sendBeacon(we,JSON.stringify({authorization:ie.rawToken}))}catch(We){this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},da(je.WHIP_DELETE_FAILURE,We)),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:qe.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})))}}}else try{yield Hr().delete(we,{headers:{Authorization:`Bearer ${ie.rawToken}`,"X-Stages-Platform":"web","X-Stages-Request-ID":oe.value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":hs}})}catch(We){((le=We.response)===null||le===void 0?void 0:le.status)===404?this.trace(ie,this.traceId,`DELETE returned 404, ignoring, action = ${B}, uuid = ${oe.value}`,B,W):this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},da(je.WHIP_DELETE_FAILURE,We)),{action:B,token:ie,traceId:this.traceId,tag:Jr(B,W),location:qe.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:oe,remoteParticipantId:W})))}}),this.getConnectionState=()=>{if(!this.peerConnection)return gt.NONE;const B=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;try{return zh(B)}catch{return this.logger.warn({msg:"Unhandled connection state:",rawState:B}),gt.IDLE}},this.onIceCandidateError=B=>{const{token:W,traceId:ie,tag:be}=this;if(B.errorCode!==701){const ge=new en(Object.assign(Object.assign({},je.ICE_CANDIDATE_ERROR),{action:this.action,token:W,traceId:ie,tag:be,location:"onIceCandidateError",remoteParticipantId:this.identifier}));this.analyticsTracker.trackError(ge),this.emit(vo,ge)}},this.onIceConnectionStateChange=()=>{var B;const{token:W,traceId:ie,action:be,identifier:ge}=this;this.trace(W,ie,`ICE connection state change: ${(B=this.peerConnection)===null||B===void 0?void 0:B.iceConnectionState}`,be,ge),this.onConnectionStateChange()},this.createVideoReceiverTransformer=()=>{const B=new Rg,{token:W,tag:ie,identifier:be,action:ge,traceId:le}=this;B.on(Tg,we=>{this.emit(Uo,we)});const ae=function(we,We){let st=0;return function(...Rt){const Yt=Date.now();Yt-st>=We&&(st=Yt,we(...Rt))}}(we=>{const We=`Transform error occurred: ${we.type}`,st=ef({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:We,stageErrorValue:je.TRANSFORM_UNEXPECTED_ERROR});this.logger.warn({err:st,msg:"Error encountered when transforming receiver",error:we})},1e3),oe=we=>{const We=`Too many errors occurred: ${we.type}`,st=ef({traceId:le,token:W,tag:ie,identifier:be,action:ge,details:We,stageErrorValue:je.TRANSFORM_TOO_MANY_ERRORS});this.logger.error({err:st,msg:"Too many errors encountered when transforming receiver. Shutting down transformer.",error:we}),B.destroy(),this.analyticsTracker.trackError(st),this.emit(Mc,st)};return B.on(ru,we=>{we.stageErrorValue.code!==je.TRANSFORM_TOO_MANY_ERRORS.code?ae(we):oe(we)}),B},this.onConnectionStateChange=()=>{var B;if(this.peerConnection){const ie=this.peerConnection.connectionState||this.peerConnection.iceConnectionState,{token:be,traceId:ge,identifier:le,action:ae}=this,oe=new eg(ae,be,ge,ie,le);this.analyticsTracker.trackEventNoSharedProps(oe),this.trace(be,ge,`connection state change: ${ie}`,ae,le)}const W=this.getConnectionState();switch(W){case gt.CONNECTED:this.closeFailedPeerConnections(),this.perfTracker.markActionStop(),this.emit(go,W),this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub),(B=this.peerConnection)===null||B===void 0||B.getTransceivers().forEach(ie=>{var be,ge;!((ge=(be=ie.receiver)===null||be===void 0?void 0:be.transport)===null||ge===void 0)&&ge.iceTransport&&ie.receiver.transport.iceTransport.addEventListener("selectedcandidatepairchange",this.onSelectedCandidatePairChange)});break;case gt.FAILED:this.storeFailedPeerConnection(this.peerConnection),this.destroyPeerConnection({closeConnection:!1}),this.emit(go,W),this.handleConnectionFailure();break;default:this.emit(go,W)}},this.onIncompatibleCodecs=B=>Mr(this,void 0,void 0,function*(){if(B.forEach(be=>{let ge=!1;this.incompatibleCodecs.forEach(le=>{le.config===be.config&&le.mime===be.mime&&(ge=!0)}),ge||this.incompatibleCodecs.add(be)}),this.peerConnection)try{yield(W=this.peerConnection,ie=[...this.incompatibleCodecs],g0(void 0,void 0,void 0,function*(){var be;for(const ge of W.getSenders()){const le=ge.getParameters();if(le.codecs.length>1){const ae=le.codecs[0];let oe=!1;for(const we of ie)sg(ae,we)&&(oe=!0);if(oe){const we=ag(ie,le.codecs);(be=le.encodings)===null||be===void 0||be.forEach(We=>{We.active&&(We.codec=we)}),yield ge.setParameters(le)}}}}))}catch(be){const{token:ge,action:le,traceId:ae,identifier:oe}=this,we=new en(Object.assign(Object.assign({},je.CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR),{action:le,token:ge,traceId:ae,tag:Jr(le,oe),location:"onIncompatibleCodecs",remoteParticipantId:oe,details:be instanceof Error?be.message:""}));this.analyticsTracker.trackError(we),this.emit(vo,we)}var W,ie}),this.token=h,this.logger=new mo(g,kn.WEBRTC),this.action=b,this.tag=T,this.traceId=O,b===qe.SUBSCRIBE&&!M)throw new Error("Subscribe action provided without subscriber Id");this.jitterBufferConfig=j==null?void 0:j.jitterBuffer,this.simulcastSubscribeConfig=j==null?void 0:j.simulcast,this.subscriberId=M,this.stageConnection=L,this.failedPeerConnections=[],this.receiveInBandMessagingEnabled=!!(!((F=this.subscribeConfig)===null||F===void 0)&&F.inBandMessaging.enabled),this.videoSenderTransformer=new kg,this.videoReceiverTransformer=this.createVideoReceiverTransformer(),this.perfTracker=new Bi(this.action,this.traceId),this.statsReporter=new va(b,h,O,this.identifier,this.analyticsTracker,this.videoReceiverTransformer,this.videoSenderTransformer),this.sdpExchanger=function(B){const{connection:W,token:ie,action:be,identifier:ge,tracker:le}=B,ae=W&&W.supportsSdpExchange(),oe=be===qe.SUBSCRIBE&&ae&&!Um(),we=be===qe.PUBLISH&&ae&&Ch()&&!Um();return oe||we?new _g(ie,W,{action:be,remoteParticipantId:ge},le):new Ti(ie,{action:be,remoteParticipantId:ge},le)}({connection:L,action:b,token:h,identifier:this.identifier,tracker:N}),this.handlePublishingChangedBinding=this.handlePublishingChanged.bind(this),this.toggleStageConnectionListeners(!0)}get videoMediaId(){var h,g;return(g=(h=this.videoTransceiver)===null||h===void 0?void 0:h.mid)!==null&&g!==void 0?g:null}toggleStageConnectionListeners(h){var g,b;h?(g=this.stageConnection)===null||g===void 0||g.on(Ym,this.handlePublishingChangedBinding):(b=this.stageConnection)===null||b===void 0||b.off(Ym,this.handlePublishingChangedBinding)}updateSubscribeConfig(h){var g,b;if(this.jitterBufferConfig=h.jitterBuffer,this.simulcastSubscribeConfig=h.simulcast,this.action===qe.SUBSCRIBE){const T=h.inBandMessaging.enabled;this.receiveInBandMessagingEnabled!==T&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for receiver"})}this.applyJitterBufferMinDelayConditionally((b=(g=this.stageConnection)===null||g===void 0?void 0:g.getIsStagePublishing())!==null&&b!==void 0&&b)}verifyOrUpdateTransceiverSync(){var h,g;return Mr(this,void 0,void 0,function*(){if(this.videoTrackForPub){const b=this.getTransceiverForKind("video");b?this.videoTrackForPub.track.id!==((h=b.sender.track)===null||h===void 0?void 0:h.id)&&(this.logger.debug({msg:"found out of sync video transceiver... updating"}),yield this.replaceOrUpdateTrack(this.videoTrackForPub)):this.logger.warn({msg:"missing transceiver for video"})}if(this.audioTrackForPub){const b=this.getTransceiverForKind("audio");b?this.audioTrackForPub.track.id!==((g=b.sender.track)===null||g===void 0?void 0:g.id)&&(this.logger.debug({msg:"found out of sync audio transceiver... updating"}),yield this.replaceOrUpdateTrack(this.audioTrackForPub)):this.logger.warn({msg:"missing transceiver for audio"})}})}start(){var h,g,b;return Mr(this,void 0,void 0,function*(){const{token:T,action:O,traceId:N,identifier:M}=this;O!==qe.PUBLISH||T.claims.capabilities.allow_publish||this.analyticsTracker.trackErrorAndThrow(new en(Object.assign(Object.assign({},da(je.TOKEN_PERMISSIONS_DENIED,new Error("Cannot publish with subscribe only token"))),{action:O,token:T,traceId:N,tag:Jr(O,M),location:"StagePeerClient.start",remoteParticipantId:M})));const L=function({action:j,identifier:F,token:B,analyticsTracker:W}){let ie="";const be=bo(B,W);switch(j){case qe.PUBLISH:ie=be.getPublishEndpoint();break;case qe.SUBSCRIBE:F&&(ie=be.getSubscribeEndpoint(F))}return ie}({action:O,identifier:M,token:T.rawToken,analyticsTracker:this.analyticsTracker});try{this.perfTracker.markActionStart(),this.stageCapabilities={simulcastNegotiated:(b=(g=(h=this.videoTrackForPub)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.simulcastEnabled)!==null&&b!==void 0&&b},this.endpointURL=L,this.createPeerConnection(),this.trace(T,N,"peer connection created",O,M)}catch(j){const F=new en(Object.assign(Object.assign({action:O},da(je.CREATE_PEER_CONNECTION_FAILURE,j)),{token:T,traceId:N,tag:Jr(O,M),location:"StagePeerClient.start",remoteParticipantId:M}));O===qe.PUBLISH&&this.emit(go,gt.FAILED),this.emit(vo,F),this.analyticsTracker.trackErrorAndThrow(F)}})}mungeSdpOffer(h,g,b){if(b.simulcastNegotiated&&(h=new In(h).withVideoLayersAllocationRtpHeaderExtension().sdp),g===qe.SUBSCRIBE)h=new In(h).withOpusAudioConfig(gs(zc),!0).sdp;else if(g===qe.PUBLISH&&b.audioConfig){const{maxBitrateBps:T,stereo:O}=b.audioConfig;h=new In(h).withOpusAudioConfig(T,O).sdp}return h}mungeSdpAnswer(h){return Gd.browser.isFirefox()&&this.audioTrackForPub&&this.action===qe.PUBLISH&&(h=new In(h).withOpusAudioConfig(this.audioTrackForPub.config.maxBitrateBps,void 0).sdp),h}createPeerConnection(){this.logger.debug({msg:"setting up peer connection"}),this.peerConnection&&(this.logger.debug({msg:"peer connection is already established, cleaning up previous connection"}),this.destroyPeerConnection({closeConnection:!1})),this.peerConnection=new RTCPeerConnection({iceTransportPolicy:"all"}),this.statsReporter.start(this.peerConnection,this.stageCapabilities.simulcastNegotiated),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.peerConnection.addEventListener("icecandidateerror",this.onIceCandidateError),this.peerConnection.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.peerConnection.addEventListener("icecandidate",this.onIceCandidate),this.peerConnection.addEventListener("track",this.onTrack),this.peerConnection.addEventListener("mute",this.onMute),this.peerConnection.addEventListener("unmute",this.onUnMute)}destroyPeerConnection(h){var g,b,T,O,N,M,L,j,F;this.statsReporter.stop(),(g=this.peerConnection)===null||g===void 0||g.removeEventListener("connectionstatechange",this.onConnectionStateChange),(b=this.peerConnection)===null||b===void 0||b.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),(T=this.peerConnection)===null||T===void 0||T.removeEventListener("icecandidateerror",this.onIceCandidateError),(O=this.peerConnection)===null||O===void 0||O.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),(N=this.peerConnection)===null||N===void 0||N.removeEventListener("icecandidate",this.onIceCandidate),(M=this.peerConnection)===null||M===void 0||M.removeEventListener("track",this.onTrack),(L=this.peerConnection)===null||L===void 0||L.removeEventListener("mute",this.onMute),(j=this.peerConnection)===null||j===void 0||j.removeEventListener("unmute",this.onUnMute),h.closeConnection&&((F=this.peerConnection)===null||F===void 0||F.close()),this.peerConnection=void 0}closeFailedPeerConnections(){for(const h of this.failedPeerConnections)h==null||h.close();this.failedPeerConnections=[]}storeFailedPeerConnection(h){h&&this.failedPeerConnections.push(h)}stop(){this.videoReceiverTransformer.destroy(),this.videoSenderTransformer.destroy(),this.destroyPeerConnection({closeConnection:!0})}getTransceiverForKind(h){if(!this.peerConnection)return;const g=this.peerConnection.getTransceivers();return h==="audio"?g.find(b=>b.mid==="0"):h==="video"?g.find(b=>b.mid==="1"):void 0}removeTrack(h){return Mr(this,void 0,void 0,function*(){if(h==="audio"||h==="video")if(this.peerConnection)try{const g=this.getTransceiverForKind(h);if(!g)return void this.logger.warn({msg:`tried removing track type ${h} but couldn't find transceiver`});yield g.sender.replaceTrack(null),h===ha.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0,yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(g){this.logger.warn({msg:"error replacing track",err:g})}else h===ha.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0;else this.logger.warn({msg:"RemoveTrack called with invalid track type",trackType:h})})}replaceOrUpdateTrack(h){return Mr(this,void 0,void 0,function*(){if(h.track){if(Zh(h)?this.audioTrackForPub=h:ep(h)&&(this.videoTrackForPub=h),this.peerConnection)try{const g=this.getTransceiverForKind(h.track.kind);if(!g)return void this.logger.warn({msg:`tried replacing track type ${h.track.kind} but couldn't find transceiver`,track:h.track});if(ep(h)){const b=g.sender.getParameters(),T=hg(this.stageCapabilities.simulcastNegotiated,h);b.encodings=b.encodings.map(O=>{var N;const M=(N=O.rid)!==null&&N!==void 0?N:"",L=T.find(j=>{var F;return((F=j.rid)!==null&&F!==void 0?F:"")===M});return L?Object.assign(Object.assign({},O),L):O}),yield g.sender.setParameters(b)}else if(Zh(h)){const b=g.sender.getParameters(),T=fg(h)[0];b.encodings=b.encodings.map(O=>Object.assign(Object.assign({},O),T)),yield g.sender.setParameters(b)}yield g.sender.replaceTrack(h.track),yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(g){this.logger.warn({msg:"error replacing track",err:g})}}else this.logger.warn({msg:"Unexpected call to replaceOrUpdateTrack with no track"})})}initializePeerConnection(h=!1){var g,b,T,O,N;return Mr(this,void 0,void 0,function*(){const{traceId:M,token:L,action:j,identifier:F}=this;Lc(this.peerConnection);let B=new MediaStream;if(j===qe.PUBLISH){this.audioTrackForPub||(this.audioTrackForPub={track:this.getSilentAudio(),config:{maxBitrateBps:gs(Vd),stereo:!1}});const W=this.peerConnection.getTransceivers(),ie=[];W.forEach(We=>{var st;ie.concat((st=We.sender.track)===null||st===void 0?void 0:st.id)}),B=new MediaStream([this.audioTrackForPub.track,(g=this.videoTrackForPub)===null||g===void 0?void 0:g.track].filter(We=>!!We&&!ie.includes(We.id)));const be=B.getAudioTracks()[0]||"audio",ge=B.getVideoTracks()[0]||"video",le={direction:"sendonly",streams:[B],sendEncodings:fg(this.audioTrackForPub)},ae={direction:"sendrecv",streams:[B],sendEncodings:hg(this.stageCapabilities.simulcastNegotiated,this.videoTrackForPub)};this.peerConnection.addTransceiver(be,le),this.trace(L,M,`track added, type: ${be.kind||be}`,j,F);const oe=this.peerConnection.addTransceiver(ge,ae);this.trace(L,M,`track added, type: ${ge.kind||ge}`,j,F);const we=!!(!((T=(b=this.videoTrackForPub)===null||b===void 0?void 0:b.config)===null||T===void 0)&&T.inBandMessagingEnabled);this.sendInBandMessagingEnabled===void 0?this.sendInBandMessagingEnabled=we:this.sendInBandMessagingEnabled!==we&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for sender"}),this.sendInBandMessagingEnabled&&!kg.isSupported(oe)?this.handleTransformNotSupported():this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTransceiverAdd(oe)}else j===qe.SUBSCRIBE&&(L.shouldSendSilentAudio()?this.peerConnection.addTransceiver(this.getSilentAudio(),{direction:"sendrecv"}):this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),this.trace(L,M,"track added, type: audio",j,F),h||(this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.trace(L,M,"track added, type: video",j,F),this.receiveInBandMessagingEnabled&&!Rg.isSupported(this.videoTransceiver)?this.handleTransformNotSupported():this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTransceiverAdd(this.videoTransceiver)),this.peerConnection.getTransceivers().forEach(W=>{W.receiver?(this.logger.info({msg:"dbg: Subscribe succeeded, adding media track to participant mediaStream"}),B==null||B.addTrack(W.receiver.track)):this.logger.info({msg:"dbg: Subscribe succeeded, but Transceiver were negotiated without Receiver"})}),this.applyJitterBufferMinDelayConditionally((N=(O=this.stageConnection)===null||O===void 0?void 0:O.getIsStagePublishing())!==null&&N!==void 0&&N));return B})}handlePublishingChanged(h){this.logger.debug({msg:`[handlePublishingChanged (${this.subscriberId})] isStagePublishing: ${h}, currentMinDelay: ${this.currentJitterBufferMinDelayInMs}`}),this.action===qe.SUBSCRIBE&&this.applyJitterBufferMinDelayConditionally(h)}applyJitterBufferMinDelayConditionally(h){const g=this.currentJitterBufferMinDelayInMs,b=this.calcJitterBufferMinDelay(h,this.jitterBufferConfig);if(h){if(g===void 0||g>b){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is publishing and min delay is unset or > configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}else if(g===void 0||b!==g){const T=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is subscribe-only and min delay is unset or != configured; attempting to update to ${b}`;this.logger.debug({msg:T}),this.trace(this.token,this.traceId,T,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(b)}}calcJitterBufferMinDelay(h,g){var b,T,O;let N=0;if(!(()=>{const M=RTCRtpReceiver.prototype;return!(!M||typeof M!="object")&&("jitterBufferTarget"in M||"playoutDelayHint"in M)})())return 0;if(h)N=zo((b=g==null?void 0:g.minDelayWhenPublishing)!==null&&b!==void 0?b:Ei.DEFAULT,h);else{N=zo((T=g==null?void 0:g.minDelayWhenSubscribeOnly)!==null&&T!==void 0?T:Ei.DEFAULT,h);const M=(O=this.stageConnection)===null||O===void 0?void 0:O.jitterBufferMinDelayInMs();(g==null?void 0:g.minDelayWhenSubscribeOnly)===Ei.DEFAULT&&M!==void 0&&(N=M,this.logger.debug({msg:`[calcJitterBufferMinDelay] overriding min delay with remote value: ${N}`}))}return N}applyAndTrackJitterBufferMinDelay(h){var g,b;this.currentJitterBufferMinDelayInMs=h,this.statsReporter.updateJitterBufferMinDelay(h),h!==void 0&&((b=(g=this.peerConnection)===null||g===void 0?void 0:g.getTransceivers())===null||b===void 0||b.forEach(T=>{T.receiver&&this.applyJitterBufferMinDelay(T.receiver,h)}))}applyJitterBufferMinDelay(h,g){let b="Unable to set jitter buffer min delay";if("jitterBufferTarget"in h)b=`setting jitterBufferTarget to: ${g} for track: ${h.track.kind}`,this.logger.debug({msg:b}),h.jitterBufferTarget=g;else if("playoutDelayHint"in h){const T=g/1e3;b=`setting playoutDelayHint to: ${g} for track: ${h.track.kind}`,this.logger.debug({msg:b}),h.playoutDelayHint=T}else this.logger.warn({msg:b});this.trace(this.token,this.traceId,b,this.action,this.identifier)}exchangeSdp(h){var g;return Mr(this,void 0,void 0,function*(){const{traceId:b,token:T,action:O,identifier:N,tag:M,endpointURL:L}=this,{iceRestart:j=!1,nodeOverride:F,assignmentToken:B,abortController:W}=h;let ie;this.logger.debug({msg:`Exchanging SDP: ${b.value}, iceRestart=${j}, nodeOverride=${F}, assignmentToken=${B}`}),Lc(this.peerConnection),O===qe.PUBLISH&&Th()&&(this.logger.debug({msg:"Applying publisher codec preference for main profile."}),((ge,le)=>{var ae,oe;const we=(ae=RTCRtpReceiver.getCapabilities("video"))===null||ae===void 0?void 0:ae.codecs;if(!we)return;let We=we;We=og(we,"42e0"),le.preferMainProfile&&(We=og(we,"4d00")),(oe=ge.getTransceivers().find(st=>st.receiver.track.kind==="video"))===null||oe===void 0||oe.setCodecPreferences(We)})(this.peerConnection,{preferMainProfile:Th()}));try{this.trace(T,b,"Creating offer",O,N),ie=yield this.peerConnection.createOffer({iceRestart:j})}catch(ge){const le=new en(Object.assign(Object.assign({},da(je.CREATE_OFFER_FAILURE,ge)),{action:O,token:T,traceId:b,tag:M,location:"exchangeSdp",remoteParticipantId:N}));this.emit(vo,le),this.analyticsTracker.trackErrorAndThrow(le)}ie.sdp&&(ie.sdp=this.mungeSdpOffer(ie.sdp,O,{simulcastNegotiated:this.stageCapabilities.simulcastNegotiated,audioConfig:(g=this.audioTrackForPub)===null||g===void 0?void 0:g.config})),this.trace(T,b,"Setting local description",O,N),yield this.peerConnection.setLocalDescription(ie),this.trace(T,b,"local description set",O,N),L||this.logger.warn({msg:"Unexpected state: No endpointURL specified for fetching of remote description."});const be=O===qe.PUBLISH&&Th()||O===qe.SUBSCRIBE&&za("multiCodecAnswer");yield this.fetchAndSetRemoteDescription({endpointURL:L,nodeOverride:F,assignmentToken:B,multiCodec:be,abortController:W})})}getReports(){var h;return Mr(this,void 0,void 0,function*(){try{const g=(yield(h=this.peerConnection)===null||h===void 0?void 0:h.getStats())||[],b=[];return g.forEach(T=>{b.push(T)}),b}catch{return[]}})}requestRTCStats(h){return Mr(this,void 0,void 0,function*(){if(this.peerConnection)return this.peerConnection.getStats(h)})}get identifier(){return this.subscriberId||this.token.participantID}handleTransformNotSupported(){const{token:h,tag:g,identifier:b,action:T,traceId:O}=this,N=ef({traceId:O,token:h,tag:g,identifier:b,action:T,stageErrorValue:je.TRANSFORM_NOT_SUPPORTED_BY_PLATFORM});this.logger.error({err:N,msg:"Transforms not supported by this platform"}),this.analyticsTracker.trackError(N),this.emit(Mc,N)}handleConnectionFailure(){return Mr(this,void 0,void 0,function*(){const{token:h,traceId:g,tag:b}=this;this.analyticsTracker.trackError(new en(Object.assign(Object.assign({},je.PEER_CONNECTION_NETWORK_FAILURE),{action:this.action,token:h,traceId:g,tag:b,location:"onIceCandidateError",remoteParticipantId:this.identifier})))})}getSilentAudio(){iu||(iu=new AudioContext);const h=iu.createOscillator(),g=iu.createGain();h.connect(g);const b=iu.createMediaStreamDestination();return g.connect(b),g.gain.value=0,h.start(),b.stream.getAudioTracks()[0]}getActionMeasurements(){return this.perfTracker.getMeasurements()}initTracksToPublish(h){this.videoTrackForPub=h.find(ep),this.audioTrackForPub=h.find(Zh)}getSfuResource(){return this.sfuResource}getExpectedJitterBufferMinDelayInMs(){var h,g;return this.calcJitterBufferMinDelay((g=(h=this.stageConnection)===null||h===void 0?void 0:h.getIsStagePublishing())!==null&&g!==void 0&&g,this.jitterBufferConfig)}trace(h,g,b,T,O){this.analyticsTracker.trackEventNoSharedProps(new xo(h,g,b,T,O))}sendSeiMessage(h,g){const b=this.getTransceiverForKind("video");return this.sendInBandMessagingEnabled?this.action===qe.PUBLISH&&b?this.videoSenderTransformer.sendSeiMessage(h,g):ot.err(Oi.NOT_PUBLISHING_VIDEO):ot.err(Oi.INBAND_MESSAGING_NOT_ENABLED)}}const nc=qe.SUBSCRIBE;class A0{constructor(h,g,b){this.analyticsTracker=h,this.token=g,this.remoteId=b,this.action=nc}trackAttempt({stageConnectionStats:h,isReassignment:g=!1,traceIdOverride:b,preAttemptSfuResource:T}){const{action:O,analyticsTracker:N,token:M,remoteId:L}=this,j=b||Xi();return N.trackEvent(new Zl({token:this.token,subscribedId:this.remoteId,traceId:j,isEdpConnected:h.isConnected,isReassignment:g,preAttemptSfuResource:T})),{getTraceId:()=>j,trackSubscribeStarted({totalDurationWithRetries:F,retryTimes:B,sfuResource:W,peerClientPerfStats:ie}){const{optionsDuration:be,postDuration:ge,timeToCandidate:le,timeToConnected:ae,sdpExchangeDuration:oe,sdpExchangeTransport:we,setRemoteDescDuration:We,peerConnectionDuration:st}=ie,{edpInitialConnectDuration:Rt,edpInitialConnectRetries:Yt,edpInitialStateDuration:Qt,edpInitialStatePublishingCount:Vt,edpStateUpdateCount:Nt}=h;N.trackEvent(new C0({token:M,traceId:j,remoteParticipantId:L,optionsDuration:be,postDuration:ge,timeToCandidate:le,totalDuration:ae,edpInitialConnectDuration:Rt,edpInitialConnectRetries:Yt,edpInitialStateDuration:Qt,edpInitialStatePublishingCount:Vt,edpStateUpdateCount:Nt,sdpExchangeDuration:oe,sdpExchangeTransport:we,setRemoteDescDuration:We,peerConnectionDuration:st,sfuResource:W,totalDurationWithRetries:F,subscribeRetryTimes:B,isReassignment:g}))},trackSubscribeFirstFrame:({peerClientPerfStats:F,totalDurationWithRetries:B,sfuResource:W,retryTimes:ie,currentJitterBufferMinDelayInMs:be,mediaType:ge,firstFrameDuration:le})=>{const{sdpExchangeDuration:ae,sdpExchangeTransport:oe,setRemoteDescDuration:we,peerConnectionDuration:We}=F,{edpInitialConnectDuration:st,edpInitialConnectRetries:Rt,edpInitialStateDuration:Yt,edpInitialStatePublishingCount:Qt,edpStateUpdateCount:Vt}=h;this.analyticsTracker.trackEvent(new T0({token:this.token,traceId:j,remoteParticipantId:L,edpInitialConnectDuration:st,edpInitialConnectRetries:Rt,edpInitialStateDuration:Yt,edpInitialStatePublishingCount:Qt,edpStateUpdateCount:Vt,sdpExchangeDuration:ae,sdpExchangeTransport:oe,setRemoteDescDuration:we,peerConnectionDuration:We,videoWasPaused:!1,firstFrameDuration:le,mediaType:ge,sfuResource:W,totalDurationWithRetries:B,subscribeRetryTimes:ie,currentJitterBufferMinDelayInMs:be}))},trackSubscribeFailed(F,B){const W=((ge,le,ae)=>{if(ge instanceof en)return ge;let oe="";return ge instanceof gr.AxiosError&&(oe+=`AxiosError - ${ge.code}`),new en(Object.assign(Object.assign(Object.assign({},je.SUBSCRIBE_FAILURE),{action:nc,token:le,traceId:ae,tag:Bd,location:"subscribe",details:`${oe} ${ge==null?void 0:ge.message}`}),{fatal:!0}))})(F,M,j);N.trackEvent(new Kh({token:M,traceId:j,remoteParticipantId:L,code:W.code,message:W.message,fatal:W.fatal,nominal:W.nominal,isReassignment:g}));const{isConnected:ie}=h,be=new en(Object.assign(Object.assign({},je.SUBSCRIBE_FAILURE),{action:O,token:M,traceId:j,tag:Jr(qe.SUBSCRIBE,L),location:"subscribe",remoteParticipantId:L,isEdpConnected:ie,details:B}));return F instanceof en&&(be.fatal=F.fatal,be.nominal=F.nominal,be.location=`subscribe > ${F.location}`),N.trackError(be),W},trackUnsubscribe:()=>{N.trackEvent(new Yd({token:M,unsubscribedId:L,traceId:j}))},trackEndSucceeded:F=>{N.trackEvent(new Yh({token:M,traceId:j,remoteParticipantId:L,isUnsubscribeSuccessful:!0,reason:F}))},trackEndFailed:F=>{const B=new en(Object.assign(Object.assign({},je.UNSUBSCRIBE_FAILURE),{token:M,traceId:j,tag:Jr(qe.SUBSCRIBE,L),location:"unsubscribe",remoteParticipantId:L}));return F!==wi.UNLOAD&&F!==wi.UNSUBSCRIBE||N.trackError(B),N.trackEvent(new Yh({token:M,traceId:j,remoteParticipantId:L,isUnsubscribeSuccessful:!0,reason:F})),B}}}}class Hw extends sn{constructor(h,g,b,T,O,N){super(ln.PLAYBACK_LAYER_REQUEST,h,g,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,layer_id:N})}}class Gw extends sn{constructor(h,g,b,T,O,N=1){super(ln.PLAYBACK_LAYER_STATE,h,g,!1),Object.assign(this.properties,{media_type:b,remote_participant_id:T,track_id:O,request_count:N})}}var tf,ti,nf,ni;(function(S){S.PAUSE="pause",S.PLAY="play"})(tf||(tf={})),function(S){S.IDLE="idle",S.ACTIVE="active",S.ERRORED="errored",S.DESTROYED="destroyed"}(ti||(ti={})),function(S){S.SUCCESS="success"}(nf||(nf={})),function(S){S.FAILED="failed",S.DESTROYED="destroyed",S.THROTTLED="throttled"}(ni||(ni={}));var zs=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class qw{constructor(h){this.state=ti.IDLE,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null,this.stopVideo=()=>zs(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("stopVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(tf.PAUSE)}),this.startVideo=()=>zs(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("startVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(tf.PLAY)}),this.setLayer=g=>zs(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("setLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest(g)}),this.unsetLayer=()=>zs(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("unsetLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest()}),this.getLayers=()=>zs(this,void 0,void 0,function*(){return this.state!==ti.ACTIVE?(this.logCommandSkipped("getLayers"),this.mapSkippedResultFromState(this.state)):this.sendLayerStateRequest()}),this.sendPlaybackRequest=g=>zs(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.playbackEndpoint)return this.logger.warn({msg:"Playback endpoint is unset and required for playback control requests"}),(0,ot.err)(ni.FAILED);this.logger.info({msg:`Sending ${g} request to ${this.playbackEndpoint}`});const b=g===tf.PAUSE?{pause:[this.mid]}:{play:[this.mid]},T=this.createPostWhepRequest(b);return fetch(this.playbackEndpoint,T).then(O=>{if(O.status>=300){const N=new Error(`Error sending media controls request: ${O.status}:${O.statusText}`);return this.logger.error({err:N}),(0,ot.err)(ni.FAILED)}return this.logger.debug({msg:`Request to ${g} was successful: ${O.status}`}),(0,ot.ok)(nf.SUCCESS)}).catch(O=>(this.logger.error({err:O,msg:"Error sending media controls request"}),(0,ot.err)(ni.FAILED)))}),this.sendLayerRequest=g=>zs(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,ot.err)(ni.FAILED);const b=typeof g=="string",T=b?{mediaId:this.mid,encodingId:g}:{},O=b?`set : ${g}`:"unset layer";this.logger.info({msg:`sendLayerRequest for ${O} at ${this.layersEndpoint}`});const N=this.createPostWhepRequest(T);return this.trackLayerRequest(g??"auto"),fetch(this.layersEndpoint,N).then(M=>this.state===ti.DESTROYED?(0,ot.err)(ni.DESTROYED):M.status>=300?this.handleLayerRequestError(M.status,M.statusText):(this.logger.debug({msg:`Request to ${O} was successful: ${M.status}`}),(0,ot.ok)(nf.SUCCESS))).catch(M=>this.handleLayerRequestError(0,M.message))}),this.sendLayerStateRequest=()=>zs(this,void 0,void 0,function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,ot.err)(ni.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,ot.err)(ni.FAILED);this.logger.info({msg:`sendLayerStateRequest for ${this.mid} at ${this.layersEndpoint}`});const g=this.createGetWhepRequest();return this.trackLayerStateRequest(),fetch(this.layersEndpoint,g).then(b=>zs(this,void 0,void 0,function*(){var T;if(this.state===ti.DESTROYED)return(0,ot.err)(ni.DESTROYED);if(b.status>=300)return this.handleLayerStateRequestError(b.status,b.statusText);const O=yield b.json(),N=(T=O==null?void 0:O.layers)!==null&&T!==void 0?T:[],M=JSON.stringify(N,null,2);return this.logger.debug({msg:`sendLayerStateRequest was successful: ${M}`}),(0,ot.ok)(N)})).catch(b=>this.handleLayerStateRequestError(0,b.message))}),this.logger=new mo(h.logger,kn.REMOTE_PLAYBACK),this.token=h.token,this.traceId=h.traceId,this.analyticsTracker=h.analyticsTracker,this.remoteParticipantId=h.remoteParticipantId}set mediaId(h){if(this.state!==ti.DESTROYED){if(this.mid=h,this.mid===null)return this.logger.info({msg:"media id is unset, controller is transitioning to idle state"}),void(this.state=ti.IDLE);(this.playbackEndpoint||this.layersEndpoint)&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set mediaId")}set endpoints(h){var g,b;if(this.state!==ti.DESTROYED){if(this.playbackEndpoint=(g=h.playback)!==null&&g!==void 0?g:null,this.layersEndpoint=(b=h.layers)!==null&&b!==void 0?b:null,!this.playbackEndpoint||!this.layersEndpoint){const T={playbackEndpoint:this.playbackEndpoint,layersEndpoint:this.layersEndpoint};return this.logger.info({msg:`no endpoints are set, transitioning to idle state: ${JSON.stringify(T,null)}`}),void(this.state=ti.IDLE)}this.mid&&(this.state=ti.ACTIVE)}else this.logCommandSkipped("set endpoints")}destroy(){this.state=ti.DESTROYED,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null}logCommandSkipped(h="command"){this.logger.info({msg:`skipping ${h}, controller state invalid: ${this.state}`})}mapSkippedResultFromState(h){return h===ti.DESTROYED?(0,ot.err)(ni.DESTROYED):(0,ot.err)(ni.FAILED)}createPostWhepRequest(h){return{method:"POST",headers:this.createRequestHeaders(),body:JSON.stringify(h)}}createGetWhepRequest(){return{method:"GET",headers:this.createRequestHeaders()}}createRequestHeaders(){var h,g;return{Authorization:`Bearer ${this.token.rawToken}`,"Content-Type":"application/json","X-Stages-Platform":"web","X-Stages-Request-ID":qa().value,"X-Stages-SDK":"1.21.0","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":(g=(h=this.traceId)===null||h===void 0?void 0:h.value)!==null&&g!==void 0?g:"","X-Stages-WHIP-Version":hs}}trackLayerRequest(h){var g;this.analyticsTracker.trackEventNoSharedProps(new Hw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(g=this.mid)!==null&&g!==void 0?g:"unknown",h))}trackLayerStateRequest(h=1){var g;this.analyticsTracker.trackEventNoSharedProps(new Gw(this.token,this.traceId,me.VIDEO,this.remoteParticipantId,(g=this.mid)!==null&&g!==void 0?g:"unknown",h))}handleLayerRequestError(h,g){const b=`sendLayerRequest failed for reason: ${h} ${g}`;let T,O;return h===429?(T=ni.THROTTLED,O=je.WHEP_SET_LAYER_REQUEST_THROTTLED):(T=ni.FAILED,O=je.WHEP_SET_LAYER_REQUEST_FAILED),this.trackRequestError(O,b),(0,ot.err)(T)}handleLayerStateRequestError(h,g){const b=`sendLayerStateRequest failed for reason: ${h} ${g}`;let T,O;return h===429?(T=ni.THROTTLED,O=je.WHEP_GET_LAYER_STATE_THROTTLED):(T=ni.FAILED,O=je.WHEP_GET_LAYER_STATE_FAILED),this.trackRequestError(O,b),(0,ot.err)(T)}trackRequestError(h,g){const b=new Error(g);this.logger.error({err:b}),h.message=g;const T=this.createError(h);this.analyticsTracker.trackError(T)}createError(h,g){return new en(Object.assign({action:qe.SUBSCRIBE,traceId:this.traceId,token:this.token,location:"RemotePlaybackController",tag:Bd,details:g},h))}}var rf,tp,er,Pi,Hc=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})},Og=function(S,h,g,b){if(g==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?S!==h||!b:!h.has(S))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?b:g==="a"?b.call(S):b?b.value:h.get(S)};(function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"})(er||(er={})),function(S){S.NONE="none",S.AUDIO_ONLY="audio_only",S.AUDIO_VIDEO="audio_video"}(Pi||(Pi={}));class Pg extends yo{constructor(h,g,b,T,O,N,M){super(),this.id=h,this.token=g,this.stageConnection=b,this.nonScopedLogger=T,this.analyticsTracker=O,this.desiredSubscribeType=N,rf.add(this),this.isSubscriptionActive=!1,this.subscriptionState={connectionState:er.DISCONNECTED,subscribeInProgress:!1},this.previousSignalState={isTargetPublishing:!1},this.failedRetries=0,this.startConnectingTimestamp=-1,this.throttler=new f0(1e3),this.cleanupFirstFrameTracking=ei,this.actualSubscribeType=Pi.NONE,this.action=qe.SUBSCRIBE,this.updateDesiredSubscribeType=j=>{this.desiredSubscribeType=j,this.attemptToActualizeSubscribeType()},this.updateSubscribeConfig=j=>{this.peerClient.updateSubscribeConfig(j)},this.getDesiredSubscribeType=()=>this.desiredSubscribeType,this.attemptToActualizeSubscribeType=()=>{const j=this.actualSubscribeType,F=this.desiredSubscribeType;this.logger.debug({msg:`Attempt to actualize subscribe type to ${F}`}),this.subscriptionState.connectionState===er.CONNECTED&&F!==Pi.NONE&&j!==F&&this.applyVideoControlsBySubscribeType(F,j)},this.onParticipantUpdated=j=>{Og(this,rf,"m",tp).call(this,j)&&(this.logger.debug({msg:"onParticipantUpdated",participant:j}),this.processStateUpdate({isTargetPublishing:j.isPublishing}))},this.onParticipantJoined=j=>{Og(this,rf,"m",tp).call(this,j)&&(this.logger.debug({msg:"onParticipantJoined",participant:j}),this.processStateUpdate({isTargetPublishing:j.isPublishing}))},this.onParticipantLeft=j=>{Og(this,rf,"m",tp).call(this,j)&&(this.logger.debug({msg:"onParticipantLeft",participant:j}),this.processStateUpdate({isTargetPublishing:!1}))},this.requestRTCStats=j=>Hc(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(j)}),this.trySubscribe=j=>Hc(this,void 0,void 0,function*(){if(this.logger.debug({msg:`Subscribe attempt started: ${j}`}),!this.isSubscriptionActive)return this.logger.warn({msg:"Subscribe attempt invalid: Subscription is inactive"}),!1;this.logger.debug({msg:"Subscribe attempt is valid."}),this.startConnectingTimestamp<0&&(this.startConnectingTimestamp=performance.now()),this.subscriptionState.connectionState!==er.ERRORED&&(this.logger.debug({msg:"Updating state to CONNECTING"}),this.updateState({connectionState:er.CONNECTING}));const F=this.stageConnection.getConnectionStats(),B=this.peerClient.getExpectedJitterBufferMinDelayInMs(),W=this.peerClient.getSfuResource();this.attemptTracker=this.subscribeTracker.trackAttempt({stageConnectionStats:F,preAttemptSfuResource:W});try{this.remotePlaybackController.traceId=this.attemptTracker.getTraceId();const{mediaStream:ie}=yield this.subscribe(this.attemptTracker.getTraceId()),be=performance.now()-this.startConnectingTimestamp,ge=this.peerClient.getSfuResource();this.remotePlaybackController.mediaId=this.peerClient.videoMediaId;const le=this.failedRetries;this.attemptToActualizeSubscribeType();const ae=this.peerClient.getActionMeasurements();if(this.attemptTracker.trackSubscribeStarted({sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,peerClientPerfStats:ae}),ie){this.cleanupFirstFrameTracking();const oe=this.actualSubscribeType,we=this.attemptTracker,We=(st,Rt)=>{we.trackSubscribeFirstFrame({peerClientPerfStats:ae,sfuResource:ge,totalDurationWithRetries:be,retryTimes:le,currentJitterBufferMinDelayInMs:B,mediaType:Rt,firstFrameDuration:st})};this.cleanupFirstFrameTracking=this.measureFirstFrameDuration({mediaStream:ie,subscribeType:oe,callback:We})}return this.throttler.clear(),this.failedRetries=0,this.startConnectingTimestamp=-1,ie&&this.emit(Ji,ie,this.remotePlaybackController),this.logger.debug({msg:"Subscribe attempt succeeded"}),!0}catch(ie){const be=this.attemptTracker.trackSubscribeFailed(ie);this.logger.error({log:"Subscribe attempt failed",err:ie}),this.onTrySubscribeFailure(be,j)}return!1});const L=Xi();this.peerClient=new vs(g,this.nonScopedLogger,this.action,Jr(this.action,h),L,O,h,b,M),this.logger=new mo(T,kn.SUBSCRIPTION),this.subscribeTracker=new A0(this.analyticsTracker,g,h),this.remotePlaybackController=new qw({token:g,analyticsTracker:O,traceId:L,logger:this.nonScopedLogger,remoteParticipantId:this.id})}applyVideoControlsBySubscribeType(h,g){try{h===Pi.AUDIO_ONLY?this.remotePlaybackController.stopVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to stop video failed"})}):h===Pi.AUDIO_VIDEO&&this.remotePlaybackController.startVideo().catch(b=>{this.logger.error({err:b,msg:"Remote playback request to start video failed"})}),this.actualSubscribeType=h,this.logger.debug({msg:`Desired subscribe type actualized from ${g} to ${h}.`})}catch(b){this.logger.error({err:b,msg:`Error updating subscribe type from ${g} to ${h}.`})}}onPeerClientConnectionStateChange(h){const g=this.stageConnection.getParticipant(this.id);this.logger.debug({msg:`onPeerClientConnectionStateChange: ${h}`,state:h,targetParticipant:g}),this.processStateUpdate({peerClientState:h})}onPeerClientTransformError(h){this.emit(ds,h)}processStateUpdate(h){const g=this.previousSignalState,b=Object.assign({},g,h);if(!this.isSubscriptionActive)return void this.logger.warn({msg:"Unexpected processStateUpdate when subscription is inactive"});b.isTargetPublishing?h.peerClientState===gt.CONNECTED?this.updateState({connectionState:er.CONNECTED,subscribeInProgress:!0}):h.peerClientState===gt.FAILED&&this.subscriptionState.subscribeInProgress&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(wi.CONNECTION_FAIL),this.updateState({subscribeInProgress:!1})):(g.isTargetPublishing&&this.subscriptionState.subscribeInProgress&&(this.logger.debug({msg:"Scheduling an unsubscribe on the event loop"}),this.unsubscribe()),this.throttler.clear(),this.updateState({connectionState:er.DISCONNECTED}));const T=!g.isTargetPublishing&&h.isTargetPublishing,O=this.subscriptionState.connectionState===er.CONNECTED&&h.peerClientState===gt.FAILED;(T||O)&&this.throttledTrySubscribe("onSignalState change: isTargetPublishing is now true"),Object.assign(this.previousSignalState,h)}onTrySubscribeFailure(h,g){this.logger.debug({msg:"Changing/keeping state FAILED"});const b=h.fatal,T=h.code===je.OPERATION_ABORTED.code,O=this.failedRetries<=4;if(!T&&!b&&O){const N=1e3*Math.pow(2,this.failedRetries);this.logger.debug({msg:`Retrying in ${N}ms`}),this.failedRetries++,this.nextAttemptTimerId=window.setTimeout(()=>Hc(this,void 0,void 0,function*(){this.throttledTrySubscribe(g)}),N)}else this.updateState({connectionState:er.ERRORED}),this.emit(yn,h),this.onTerminalFailure()}onTerminalFailure(){this.previousSignalState.isTargetPublishing=!1,this.startConnectingTimestamp=-1,this.failedRetries=0}start(){this.isSubscriptionActive=!0,this.peerClient.on(go,this.onPeerClientConnectionStateChange,this),this.peerClient.on(o0,g=>{this.remotePlaybackController.endpoints={playback:g.mediaControls,layers:g.layerControls}}),this.peerClient.on(Uo,g=>{this.emit(Ka,g)}),this.peerClient.on(Mc,this.onPeerClientTransformError,this),this.stageConnection.on(Uh,this.onParticipantUpdated),this.stageConnection.on(Lh,this.onParticipantJoined),this.stageConnection.on(Fh,this.onParticipantLeft),this.stageConnection.on(Km,this.onParticipantLeft);let h=!0;if(this.stageConnection.isConnected()){const g=this.stageConnection.getParticipant(this.id);h=!!(g!=null&&g.isPublishing)}this.processStateUpdate({isTargetPublishing:h})}throttledTrySubscribe(h){return this.throttler.invoke(this.trySubscribe,h)}updateState(h){h.subscribeInProgress!==void 0&&(this.subscriptionState.subscribeInProgress=h.subscribeInProgress),h.connectionState&&this.subscriptionState.connectionState!==h.connectionState&&(this.subscriptionState.connectionState=h.connectionState,this.emit(Gl,this.subscriptionState.connectionState))}stop(h=!1){this.peerClient.off(go,this.onPeerClientConnectionStateChange,this),this.peerClient.off(Mc,this.onPeerClientTransformError,this),this.unsubscribe(h),this.throttler.clear(),this.stageConnection.off(Uh,this.onParticipantUpdated),this.stageConnection.off(Lh,this.onParticipantJoined),this.stageConnection.off(Fh,this.onParticipantLeft),this.stageConnection.off(Km,this.onParticipantLeft),this.isSubscriptionActive=!1,this.updateState({connectionState:er.DISCONNECTED})}isActive(){return this.isSubscriptionActive}subscribe(h,g){return Hc(this,void 0,void 0,function*(){const{token:b,id:T}=this;b.assertTokenIsUnexpired(h,Jr(qe.SUBSCRIBE,T),"subscribe",T);const{mediaStream:O}=yield this.peerClient.connect({audioOnly:g,traceId:h});return{peerClient:this.peerClient,mediaStream:O}})}unsubscribe(h=!1){return Hc(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.remotePlaybackController.destroy(),!this.isSubscriptionActive||!this.attemptTracker||this.subscriptionState.connectionState===er.DISCONNECTED)return;this.cleanupFirstFrameTracking(),this.attemptTracker.trackUnsubscribe();const g=h?wi.UNLOAD:wi.UNSUBSCRIBE;try{h?this.peerClient.disconnect(h):yield this.peerClient.disconnect(h),this.updateState({subscribeInProgress:!1}),this.attemptTracker.trackEndSucceeded(g)}catch{this.attemptTracker.trackEndFailed(g)}})}triggerIceRestart(h){var g;return Hc(this,void 0,void 0,function*(){const b=this.stageConnection.getConnectionStats(),T=this.peerClient.getSfuResource(),O=this.subscribeTracker.trackAttempt({stageConnectionStats:b,isReassignment:!0,traceIdOverride:h.traceId,preAttemptSfuResource:T}),N=performance.now();try{this.emit(Bs),this.logger.debug({msg:`Triggering attempt. Current node: ${this.peerClient.getSfuResource().node}`}),yield this.peerClient.connect({iceRestartOptions:h,traceId:h.traceId}),this.logger.debug({msg:`Successful ICE restart attempt. Current node: ${this.peerClient.getSfuResource().node}`});const M=performance.now()-N,L=this.peerClient.getSfuResource(),j=this.peerClient.getActionMeasurements();(g=this.attemptTracker)===null||g===void 0||g.trackEndSucceeded(wi.REASSIGNMENT),this.applyVideoControlsBySubscribeType(this.actualSubscribeType,this.actualSubscribeType),O.trackSubscribeStarted({totalDurationWithRetries:M,sfuResource:L,retryTimes:0,peerClientPerfStats:j}),this.emit(Ya)}catch(M){this.emit(Bo),this.logger.error({msg:"ICE restart attempt failed",err:M});const L=this.peerClient.getSfuResource(),j=O.trackSubscribeFailed(M,`iceRestart=true, startNode=${T.node}, endNode=${L==null?void 0:L.node}`);throw j.code===je.SUBSCRIBE_TIMED_OUT.code&&this.onTrySubscribeFailure(j,"ice restart timeout"),M}})}measureFirstFrameDuration({mediaStream:h,subscribeType:g,callback:b}){const T=performance.now(),O=L=>{const j=performance.now()-T;b(j,L),L==="audio"?M():N()};let N=ei,M=ei;return g!==Pi.AUDIO_ONLY&&(N=function(L,j){return Zm(L,"video",j)}(h,O)),M=function(L,j){return Zm(L,"audio",j)}(h,O),()=>{N(),M()}}}var ba,On;rf=new WeakSet,tp=function(S){return S.id===this.id},function(S){S.JOIN_ERROR="JOIN_ERROR",S.PUBLISH_ERROR="PUBLISH_ERROR",S.SUBSCRIBE_ERROR="SUBSCRIBE_ERROR"}(ba||(ba={})),function(S){S[S.TOKEN_MALFORMED=1]="TOKEN_MALFORMED",S[S.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",S[S.TIMEOUT=3]="TIMEOUT",S[S.FAILED=4]="FAILED",S[S.CANCELED=5]="CANCELED",S[S.STAGE_AT_CAPACITY=6]="STAGE_AT_CAPACITY",S[S.CODEC_MISMATCH=7]="CODEC_MISMATCH",S[S.TOKEN_NOT_ALLOWED=8]="TOKEN_NOT_ALLOWED"}(On||(On={}));const Kw={[On.TOKEN_MALFORMED]:"Token is malformed",[On.TOKEN_EXPIRED]:"Token expired and is no longer valid",[On.TIMEOUT]:"Operation timed out",[On.FAILED]:"Operation failed",[On.CANCELED]:"Operation canceled",[On.STAGE_AT_CAPACITY]:"Stage at capacity",[On.CODEC_MISMATCH]:"Client codec is not supported",[On.TOKEN_NOT_ALLOWED]:"Token not allowed to perform operation"},Ng={[je.EXPIRED_TOKEN.code]:On.TOKEN_EXPIRED,[je.MALFORMED_TOKEN.code]:On.TOKEN_MALFORMED,[je.TOKEN_PERMISSIONS_DENIED.code]:On.TOKEN_NOT_ALLOWED,[je.OPERATION_ABORTED.code]:On.CANCELED,[je.JOIN_TIMED_OUT.code]:On.TIMEOUT,[je.EVENT_PLANE_WS_CREATE_FAILED.code]:On.FAILED,[je.EVENT_PLANE_PONG_TIMEOUT.code]:On.FAILED,[je.EVENT_PLANE_WS_UNEXPECTED_CLOSE.code]:On.FAILED,[je.PUBLISH_TIMED_OUT.code]:On.TIMEOUT,[je.PUBLISH_FAILURE.code]:On.FAILED,[je.SUBSCRIBE_TIMED_OUT.code]:On.TIMEOUT,[je.SUBSCRIBE_FAILURE.code]:On.FAILED,[je.STAGE_AT_CAPACITY.code]:On.STAGE_AT_CAPACITY,[je.NO_MATCHING_CODEC.code]:On.CODEC_MISMATCH,[je.NETWORK_FAILURE.code]:On.FAILED,[je.INTERNAL_SERVER_ERROR.code]:On.FAILED,[je.REMOTE_STREAM_NOT_FOUND.code]:On.FAILED,[je.INTERNAL_MHCP_ERROR.code]:On.FAILED,[je.UNREACHABLE_MHCP.code]:On.FAILED,[je.INVALID_SESSION_STATUS.code]:On.FAILED,[je.MHCP_ABORTED.code]:On.FAILED},D0={[je.SEI_INSERT_NOT_PUBLISHING_VIDEO.code]:"SEI insert failed due to not publishing video",[je.SEI_INSERT_INBAND_NOT_ENABLED.code]:"SEI insert failed due to in-band messaging not being enabled for the stage stream"};class Yw extends Error{constructor(h,g,b){super(),this.code=h,this.category=g,this.message=b,this.name="StageError",this.errorDetails=[],this.message=`[${g}] ${b}`}addDetails(h){this.errorDetails.push(h)}get details(){return this.errorDetails.length?JSON.stringify(this.errorDetails):""}toString(){return`
${this.message}
details - ${this.details}
        `.trim()}}var np,of,sf;function Qw(S,h){let g;if(S instanceof en){const b=Ng[S.code];b&&(g=function(T,O,N){var M,L;const j=Kw[T],F=new Yw(T,O,j);return F.addDetails({stageErrorMessage:j,stageErrorCode:T,stageErrorCategory:O,stageArn:(M=N.token)===null||M===void 0?void 0:M.stageARN,traceId:(L=N.traceId)===null||L===void 0?void 0:L.value,causeCode:N.code,causeDetails:N.details,causeMessage:N.message,causeLocation:N.location}),F}(b,h,S))}return g}(function(S){S.ERROR="error"})(np||(np={}));class Xw extends yo{constructor(h){super(),this.logger=h,this.handleError=(g,b,T=!0)=>{const O=function(M){let L;return M instanceof en&&(L=D0[M.code]),L}(g),N=Qw(g,b);if(O&&this.logger.warn({msg:O}),N)return T&&this.emit(np.ERROR,N),N}}}(function(S){S.INTERNAL="internal",S.API="api"})(of||(of={})),function(S){S.ADDITIVE="additive",S.REPLACE="replace"}(sf||(sf={}));class M0{constructor(h){this.logger=new mo(h.logger,kn.CONNECTION),this.subscribeConfig={defaults:h.subscribeDefaults,participants:{}}}handleSubscribeConfigUpdate(h,g,b,T=sf.REPLACE){g=(F=>{const B=vg(F);if(B.jitterBuffer!==void 0){const W=ie=>{if(typeof ie=="number"){if(ie<0)return 0;if(ie>4e3)return 4e3}return ie};B.jitterBuffer.minDelayWhenPublishing!==void 0&&(B.jitterBuffer.minDelayWhenPublishing=W(B.jitterBuffer.minDelayWhenPublishing)),B.jitterBuffer.minDelayWhenSubscribeOnly!==void 0&&(B.jitterBuffer.minDelayWhenSubscribeOnly=W(B.jitterBuffer.minDelayWhenSubscribeOnly))}return B})(g),this.subscribeConfig.participants[h]===void 0&&(this.subscribeConfig.participants[h]={internalOverrides:{},apiOverrides:{},lastMerged:this.subscribeConfig.defaults});const O=this.subscribeConfig.participants[h];switch(b){case of.INTERNAL:O.internalOverrides=this.handleSubscribeConfigLevelMerging(O.internalOverrides,g,T);break;case of.API:O.apiOverrides=this.handleSubscribeConfigLevelMerging(O.apiOverrides,g,T);break;default:(function(F){throw new Error(`Unknown case kind: ${F}`)})(b)}const N=mg(this.subscribeConfig.defaults,O.internalOverrides,O.apiOverrides);if(N===void 0)return this.logger.warn({msg:`Unable to merge subscribe configs for participant: ${h} | ${O}, ${g}`}),!1;const M=(L=O.lastMerged,j=N,(typeof L=="object"&&typeof j=="object"&&(0,wr.isEqual)(L,j))===!1);var L,j;return O.lastMerged=N,this.subscribeConfig.participants[h]=O,M}handleExternalSubscribeConfigUpdate(h,g,b,T=sf.REPLACE){const O=(N=>{const M={};return typeof N!="object"?ot.err(new Error("Invalid input")):(N.jitterBuffer!==void 0&&(M.jitterBuffer={},N.jitterBuffer.minDelay!==void 0&&(M.jitterBuffer.minDelayWhenSubscribeOnly=N.jitterBuffer.minDelay)),N.inBandMessaging!==void 0&&(M.inBandMessaging={enabled:N.inBandMessaging.enabled===!0}),N.simulcast!==void 0&&(M.simulcast={},N.simulcast.initialLayerPreference!==void 0&&(M.simulcast.initialLayerPreference=N.simulcast.initialLayerPreference)),ot.ok(M))})(g);return O.ok===!0&&this.handleSubscribeConfigUpdate(h,O.value,b,T)}handleSubscribeConfigLevelMerging(h,g,b){if(b===sf.REPLACE)return g;{const T=mg(h,g);return T===void 0?(this.logger.warn({msg:`Unable to merge '${h}' and '${g}' with type ${b}`}),h):T}}getSubscribeConfigSnapshot(h){return this.subscribeConfig.participants[h]===void 0?gg(this.subscribeConfig.defaults):gg(this.subscribeConfig.participants[h].lastMerged)}}class rp extends sn{constructor(h){super(ln.REASSIGNMENT_REQUEST,h.token,h.traceId,!1),Object.assign(this.properties,{target_local_participant_id:h.targetLocalParticipantId,target_remote_participant_id:h.targetRemoteParticipantId}),this.critical=!0}}var ys,bs,ou,su,xs,Ig=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class jg extends yo{constructor(h,g){super(),this.setGetStats=b=>{this.getInternalStats=b},this.getStats=()=>Ig(this,void 0,void 0,function*(){return this.requestRTCStats()}),this.requestRTCStats=()=>Ig(this,void 0,void 0,function*(){if(this.getInternalStats)return this.getInternalStats(this.mediaStreamTrack)}),this.getInternalStats=g,this.id=h.id,this.isMuted=!h.enabled,this.mediaStreamTrack=h,this.streamType=this.mediaStreamTrack.kind==="audio"?me.AUDIO:me.VIDEO}cleanup(){this.removeAllListeners(),this.getInternalStats=void 0}}(function(S){S.IDLE="IDLE",S.INITIALIZING="INITIALIZING",S.ACTIVE="ACTIVE",S.CONTROLS_PAUSED="CONTROLS_PAUSED",S.DESTROYED="DESTROYED"})(ys||(ys={})),function(S){S.LAYERS_CHANGED="LAYERS_CHANGED",S.LAYER_SELECTED="LAYER_SELECTED",S.ADAPTION_CHANGED="ADAPTION_CHANGED"}(bs||(bs={})),function(S){S.LAYERS_CHANGED="LAYERS_CHANGED",S.LAYER_SELECTED="LAYER_SELECTED",S.ADAPTION_CHANGED="ADAPTION_CHANGED"}(ou||(ou={})),function(S){S.UNAVAILABLE="unavailable",S.SELECTED="selected"}(su||(su={})),function(S){S.LOCAL_STREAM_MUTE_CHANGED="localStreamMutedChanged",S.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST="localStreamInsertSeiMsgRequest"}(xs||(xs={}));var xa,Or,ci,Jw=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class L0 extends jg{constructor(h,g){super(h),this.setMuted=b=>{b!==this.isMuted&&(this.mediaStreamTrack.enabled=!b,this.isMuted=b,this.emit(xs.LOCAL_STREAM_MUTE_CHANGED,this))},this.insertSeiMessage=(b,T)=>Jw(this,void 0,void 0,function*(){var O;let N;if(this.streamType==="audio")N=Oi.INVALID_TRACK_TYPE;else if(!((O=this.mediaConfig)===null||O===void 0)&&O.inBandMessaging.enabled){const M=this.validator.validateMessagePayload(b,(T==null?void 0:T.repeatCount)||0);N=ot.getErr(M)}else N=Oi.INBAND_MESSAGING_NOT_ENABLED;N?console.warn(`Unable to insert SEI message due to ${N}`):this.emit(xs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this,b,T)}),this.mediaConfig=wg(h,g),this.validator=new Cg(Xa)}}class ip{constructor(h,g){this.strategy=h,this.logger=g}setStrategy(h){this.strategy=h}stageStreamsToPublish(){let h=[];try{h=this.strategy.stageStreamsToPublish(),h=h.filter(T=>T instanceof L0)}catch(T){return this.logger.warn({msg:"error executing stageStreamsToPublish treating this as a no-op",err:T}),console.error("Error executing stageStreamsToPublish",T),ot.err(T)}let g=0,b=0;for(const T of h)T.mediaStreamTrack.kind==="audio"?g++:T.mediaStreamTrack.kind==="video"&&b++;if(g>1||b>1){const T=Error("stageStreamsToPublish strategy function returned more than 1 video or audio stream and as a result will not publish",{cause:"UserStrategy"});return ot.err(T)}return ot.ok(h)}shouldPublishParticipant(h){try{return ot.ok(this.strategy.shouldPublishParticipant(h))}catch(g){return this.logger.warn({msg:"error executing shouldPublishParticipant treating this as a no-op",err:g}),console.error("Error executing shouldPublishParticipant",g),ot.err(g)}}shouldSubscribeToParticipant(h){try{return ot.ok(this.strategy.shouldSubscribeToParticipant(h))}catch(g){return this.logger.warn({msg:"error executing shouldSubscribeToParticipant. Treating it as a no-op",err:g}),console.error("Error executing shouldSubscribeToParticipant",g),ot.err(g)}}subscribeConfiguration(h){var g,b;try{return ot.ok((b=(g=this.strategy).subscribeConfiguration)===null||b===void 0?void 0:b.call(g,h))}catch(T){return this.logger.warn({msg:"error executing subscribeConfiguration. Treating it as a no-op",err:T}),console.error("Error executing subscribeConfiguration",T),ot.err(T)}}preferredLayerForStream(h,g){var b,T;try{return ot.ok((T=(b=this.strategy).preferredLayerForStream)===null||T===void 0?void 0:T.call(b,h,g))}catch(O){return this.logger.warn({msg:"error executing preferredLayerForStream. Treating it as a no-op",err:O}),console.error("Error executing preferredLayerForStream",O),ot.err(O)}}}class Ag extends yo{constructor(h,g){super(),this.audioMuted=!0,this.videoStopped=!0,this.publishState=Or.NOT_PUBLISHED,this.logger=g,this.info=h,this.audioMuted=h.audioMuted,this.videoStopped=h.videoStopped}}(function(S){S.PUBLISH="publish",S.SUBSCRIBE="subscribe"})(xa||(xa={})),function(S){S.NOT_PUBLISHED="not_published",S.ATTEMPTING_PUBLISH="attempting_publish",S.PUBLISHED="published",S.ERRORED="errored"}(Or||(Or={})),function(S){S.NOT_SUBSCRIBED="not_subscribed",S.ATTEMPTING_SUBSCRIBE="attempting_subscribe",S.SUBSCRIBED="subscribed",S.ERRORED="errored"}(ci||(ci={}));function Dg(S){return S.map(h=>h.remote)}function Mg(S){return{label:S.encodingId,bitrateBps:1e3*S.bitrate,width:S.width,height:S.height,framesPerSecond:S.framesPerSecond,selected:S.selected}}function Lg(S,h){const g=S.width*S.height,b=h.width*h.height;return g>b||S.bitrateBps>h.bitrateBps||S.framesPerSecond>h.framesPerSecond?1:g===b||S.bitrateBps===h.bitrateBps||S.framesPerSecond>h.framesPerSecond?0:-1}var af,Fg,Zw=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class cf extends yo{constructor(h){super(),this.setGetStats=()=>{},this.requestRTCStats=()=>this.internalStream.requestRTCStats(),this.getStats=()=>Zw(this,void 0,void 0,function*(){return this.internalStream.requestRTCStats()}),this.setMuted=g=>{this.internalStream.setMuted(g)},this.getLayers=()=>this.internalStream.layers,this.getSelectedLayer=()=>this.internalStream.selectedLayer,this.getLowestQualityLayer=()=>this.internalStream.lowestQualityLayer,this.getHighestQualityLayer=()=>this.internalStream.highestQualityLayer,this.internalStream=h,this.internalStream.on(bs.ADAPTION_CHANGED,g=>{this.emit(ou.ADAPTION_CHANGED,g)}),this.internalStream.on(bs.LAYERS_CHANGED,g=>{this.emit(ou.LAYERS_CHANGED,g)}),this.internalStream.on(bs.LAYER_SELECTED,(g,b)=>{this.emit(ou.LAYER_SELECTED,g,b)})}get id(){return this.internalStream.id}get participantInfo(){return this.internalStream.participantInfo}get streamType(){return this.internalStream.streamType}get mediaStreamTrack(){return this.internalStream.mediaStreamTrack}get isMuted(){return this.internalStream.isMuted}set isMuted(h){this.internalStream.setMuted(h)}get isAdapting(){return this.internalStream.isAdapting}cleanup(){this.removeAllListeners()}}class op extends jg{constructor({track:h,info:g,getStats:b,remotePlaybackController:T,analyticsTracker:O,token:N}){super(h,b),this.setMuted=L=>{this.isMuted=L},this.setLayer=L=>{const j=(0,wr.cloneDeep)(L);if(this.queueLayerUpdateForValidState(j))return void this.logger.debug({msg:`setLayer:${j} queued, skipping for now`});const F=function(W,ie){if(!W)return(0,ot.ok)(void 0);const be=typeof W=="string"?W:W.label,ge=ie.filter(le=>le.label===be)[0];return ge?(0,ot.ok)(ge):(0,ot.err)(`Provided layer with id ${be} does not exist`)}(j,this._layers);if(!F.ok){const W=F.error;return void this.logger.error({err:W,msg:"Unable to select layer, skipping skipping selection"})}const B=F.value;if(this.isNextUpdateAdaptionOnly(B))return this.logger.warn({msg:"setLayer:dynamic"}),void this.handleDynamicUpdate();this.isFirstLayerUpdate()||!this.isRepeatLayerSelection(B)||this.isAdapting?B&&(this.logger.warn({msg:`setLayer:${JSON.stringify(B)} `}),this.handleManualUpdate(B)):this.logger.debug({msg:"Setting the same layer, same adaption state, skipping selection"})},this.state=ys.INITIALIZING,this.prevState=ys.IDLE,this.analyticsTracker=O,this.token=N,this.id=h.id,this.info=g,this.mediaStreamTrack=h,this.remotePlaybackController=T,this.layerPollingTimeoutId=null,this.weakRemoteMap=new WeakMap,this.weakRemoteKey={id:"remote"},this.commandMap=new Map,this._isAdapting=!0,this._layers=[],this._selectedLayer=null;const M=Fm();this.logger=new mo(new Wm(M),kn.REMOTE_STAGE_STREAM),this.streamType===me.AUDIO?this.isMuted=g.audioMuted:this.isMuted=g.videoStopped,this.initializeLayerPolling(),this.pollInternalLayers()}transitionStateTo(h){this.state!==h&&(this.prevState=this.state,this.state=h)}initializeLayerPolling(){this.streamType!==me.AUDIO?(this.logger.debug({msg:"Setting up RemoteStageStream, requesting initial layers"}),this.layerPollingTimeoutId=setInterval(()=>{this.pollInternalLayers()},3e3)):this.logger.debug({msg:"Skipping initializing polling for audio streams"})}startLayerPolling(){this.layerPollingTimeoutId===null?this.initializeLayerPolling():this.logger.debug({msg:"Skipping start polling request, already started"})}stopLayerPolling(){this.layerPollingTimeoutId!==null?(clearInterval(this.layerPollingTimeoutId),this.layerPollingTimeoutId=null):this.logger.debug({msg:"Skipping stop polling request, already stopped"})}pollInternalLayers(){this.streamType!==me.AUDIO?this.remotePlaybackController.getLayers().then(h=>{if(this.isStateValidForLayerUpdates()){if(!h.ok)throw Error(h.error);this.updateInternalLayersFromRemote(h.value),this.transitionStateTo(ys.ACTIVE),this.flushCommandQueue()}else this.logger.warn({msg:"Stream controls have been paused, skipping getLayers"})}).catch(h=>{this.logger.error({err:h,msg:"Error calling getLayers, returning current layers"})}):this.logger.debug({msg:"Skipping layer poll request for audio stream"})}updateInternalLayersFromRemote(h){const g=this._layers,b=h.map(Mg).sort(Lg),T=!(0,wr.isEqual)(b,g);this._layers=b;const O=this._selectedLayer,N=this._layers.filter(L=>L.selected)[0],M=!(0,wr.isEqual)(N,O);O&&(O.selected=!1),this._selectedLayer=N,M&&(this.trackLayerUpdate(O),this.trackLayerUpdate(N)),this.isCommandQueueEmpty()&&(T&&this.emitLayersChanged(),M&&this.emitLayerSelected(N))}flushCommandQueue(){if(this.isCommandQueueEmpty())return;const h=Array.from(this.commandMap.keys());this.logger.debug({msg:`Flushing active commands from map ${h}`});for(const g of this.commandMap.keys()){const b=this.commandMap.get(g);b==null||b()}this.commandMap.clear()}queueLayerUpdateForValidState(h){if(!h)return this.commandMap.delete("setLayer"),!1;if(this.state===ys.INITIALIZING){const g=this.setLayer.bind(this,h);return this.commandMap.set("setLayer",g),!0}return!1}handleDynamicUpdate(){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const h=this._isAdapting;this._isAdapting=!0,this.emitAdaptionChanged(),this.remotePlaybackController.unsetLayer().then(g=>{if(!this.isStateValidForLayerUpdates())return this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"}),void this.resetAdaptionStateOnError(h,`Stream in invalid state: ${this.state}`);g.ok?this.logger.debug({msg:"Layer successfully unset, restarting dynamic adaption"}):this.resetAdaptionStateOnError(h,g.error)}).catch(()=>{})}resetAdaptionStateOnError(h,g){this._isAdapting=h,this.emitAdaptionChanged(),this.logger.error({err:g,msg:"Error unsetting layer, reverting adaption state"})}handleManualUpdate(h){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping manual updates"});const g=this._isAdapting,b=this._selectedLayer;b&&(b.selected=!1),this._isAdapting=!1,this._selectedLayer=h,h.selected=!0,g!==this._isAdapting&&this.emitAdaptionChanged(),this.updateLocalLayerStateBeforeRemote(h,b),this.trackLayerUpdate(b),this.trackLayerUpdate(h),this.emitLayersChanged(),this.emitLayerSelected(h),this.remotePlaybackController.setLayer(h.label).then(T=>{if(!this.isStateValidForLayerUpdates()){this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const O=`Stream in invalid state: ${this.state}`;return this.resetAdaptionStateOnError(g,O),void this.resetLayerOnError(b,h,O)}if(!T.ok){const O=T.error;return this.resetAdaptionStateOnError(g,O),void this.resetLayerOnError(b,h,O)}this.logger.debug({msg:`Layer successfully selected: ${h.label}`})}).catch(()=>{})}applyExistingControlState(){var h;this._isAdapting?this.remotePlaybackController.unsetLayer().then(()=>{}).catch(()=>{}):!((h=this._selectedLayer)===null||h===void 0)&&h.label&&this.remotePlaybackController.setLayer(this._selectedLayer.label).then(()=>{}).catch(()=>{})}resetLayerOnError(h,g,b){g&&(g.selected=!1),h&&(h.selected=!0),this._selectedLayer=h,this.logger.error({err:b,msg:"Error unsetting layer, leaving current selection in place"}),this.updateLocalLayerStateBeforeRemote(h,g),this.emitLayersChanged(),h!==null&&this.emitLayerSelected(h,su.UNAVAILABLE),this.trackLayerUpdate(g),this.trackLayerUpdate(h)}updateLocalLayerStateBeforeRemote(h,g){this._layers=this._layers.map(b=>b.label===(h==null?void 0:h.label)?h:b.label===(g==null?void 0:g.label)?g:b).sort(Lg)}trackLayerUpdate(h){var g,b;this.analyticsTracker.trackEventNoSharedProps(new Hh(this.token,Xi(),(g=h==null?void 0:h.label)!==null&&g!==void 0?g:"auto",!0,qe.SUBSCRIBE,(b=h==null?void 0:h.selected)!==null&&b!==void 0&&b,this.info.id))}isNextUpdateAdaptionOnly(h){return h===void 0&&this.isFirstLayerUpdate()||h===void 0&&!this.isAdapting}isFirstLayerUpdate(){return this._selectedLayer===null}isRepeatLayerSelection(h){var g;return((g=this._selectedLayer)===null||g===void 0?void 0:g.label)===(h==null?void 0:h.label)}isStateValidForLayerUpdates(){return this.state===ys.ACTIVE||this.state===ys.INITIALIZING}isCommandQueueEmpty(){return this.commandMap.size===0}emitLayerSelected(h,g=su.SELECTED){this.logger.debug({msg:`Emitting layers selected ${JSON.stringify(h,null,2)}`}),this.emit(bs.LAYER_SELECTED,(0,wr.cloneDeep)(h),g)}emitLayersChanged(){this.emit(bs.LAYERS_CHANGED,(0,wr.cloneDeep)(this._layers))}emitAdaptionChanged(){this.emit(bs.ADAPTION_CHANGED,this._isAdapting)}get remote(){const h=this.weakRemoteMap.get(this.weakRemoteKey);if(h)return h;const g=new cf(this);return this.weakRemoteMap.set(this.weakRemoteKey,g),g}get participantInfo(){return(0,wr.cloneDeep)(this.info)}get isAdapting(){return this._isAdapting}get layers(){return(0,wr.cloneDeep)(this._layers)}get selectedLayer(){var h;return(0,wr.cloneDeep)((h=this._selectedLayer)!==null&&h!==void 0?h:void 0)}get highestQualityLayer(){return(0,wr.cloneDeep)(this.layers[this.layers.length-1])}get lowestQualityLayer(){return(0,wr.cloneDeep)(this.layers[0])}pauseControls(){this.transitionStateTo(ys.CONTROLS_PAUSED),this.stopLayerPolling()}resumeControls(){this.applyExistingControlState(),this.startLayerPolling(),this.transitionStateTo(ys.ACTIVE)}cleanup(){this.transitionStateTo(ys.DESTROYED),super.cleanup(),this.stopLayerPolling(),this._layers=[],this._selectedLayer=null,this._isAdapting=!0,this.commandMap.clear()}}(function(S){S.STATE_CHANGE="stateChange",S.MEDIA_STREAM_ADDED="mediaStreamAdded",S.MEDIA_STREAM_REMOVED="mediaStreamRemoved",S.MEDIA_STREAM_MUTE_CHANGED="mediaStreamMuteChanged",S.ERROR="error"})(af||(af={})),function(S){S.SUBSCRIPTION_STATE_CHANGE="subscriptionStateChange",S.MEDIA_STREAM_SEI_MESSAGE_RECEIVED="mediaStreamSeiMessageReceived"}(Fg||(Fg={}));const Ni=Object.assign(Object.assign({},af),Fg);var lf;(function(S){S.PUBLICATION_STATE_CHANGE="publicationStateChange"})(lf||(lf={}));const Sa=Object.assign(Object.assign({},af),lf);var eE=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ss extends Ag{constructor(h,g,b,T,O,N,M,L=!1){super(h,new mo(T,kn.REMOTE_PARTICIPANT)),this.subscribeState=ci.NOT_SUBSCRIBED,this.reassigning=!1,this.streams=[],this.left=!1,this.onSubscriptionStateChange=j=>{this.logger.debug({msg:"subscriptionStateChange",state:j}),j===er.DISCONNECTED?this.updateSubscriptionState(ci.NOT_SUBSCRIBED):j===er.CONNECTED?this.updateSubscriptionState(ci.SUBSCRIBED):j===er.CONNECTING?this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE):j===er.ERRORED?this.updateSubscriptionState(ci.ERRORED):this.logger.warn({msg:"FIXME onSubscriptionStateChange UNHANDLED STATE",state:j})},this.onSubscriptionMediaStream=(j,F)=>{this.logger.debug({msg:"onSubscriptionMediaStream",stream:j});let B=j.getTracks().map(W=>{const ie=new op({track:W,info:this.info,getStats:this.subscription.requestRTCStats,remotePlaybackController:F,analyticsTracker:this.analyticsTracker,token:this.token});return this.streams.push(ie),ie});this.subscription.getDesiredSubscribeType()===Pi.AUDIO_ONLY&&(B=B.filter(W=>W.streamType!==me.VIDEO)),this.emit(Ni.MEDIA_STREAM_ADDED,B)},this.onSubscriptionError=j=>{this.emit(Ni.ERROR,j)},this.onSubscriptionSeiMessageReceived=j=>{this.emit(Ni.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,j)},this.onSubscriptionTransformError=j=>{this.emit(Ni.ERROR,j)},this.onSubscriptionReassignmentStart=()=>{for(const j of this.streams)j.pauseControls()},this.onSubscriptionReassignmentDone=()=>{for(const j of this.streams)j.resumeControls()},this.updateSubscribeStateIfNecessary=(j,F)=>{if(!this.info.capabilities.has(xa.SUBSCRIBE))return;F!==void 0&&this.subscription.updateSubscribeConfig(F);const B=j!==Pi.NONE&&this.publishState===Or.PUBLISHED,W=this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscribeState!==ci.ERRORED;if(B&&!W)this.subscription.updateDesiredSubscribeType(j),this.subscribe();else if(!B&&W)this.unsubscribe(),this.subscription.updateDesiredSubscribeType(j);else if(this.subscribeState===ci.SUBSCRIBED&&this.subscription.getDesiredSubscribeType()!==j)try{j===Pi.AUDIO_ONLY?this.emit(Ni.MEDIA_STREAM_REMOVED,this.streams.filter(ie=>ie.streamType===me.VIDEO)):j===Pi.AUDIO_VIDEO&&this.emit(Ni.MEDIA_STREAM_ADDED,this.streams.filter(ie=>ie.streamType===me.VIDEO)),this.subscription.updateDesiredSubscribeType(j)}catch(ie){this.logger.error({err:ie,msg:"error updating subscribe type"})}},this.updatePublishState=j=>{const F=j&&this.publishState===Or.PUBLISHED,B=!j&&this.publishState===Or.NOT_PUBLISHED;return!F&&!B&&(this.info.isPublishing=j,this.publishState=j?Or.PUBLISHED:Or.NOT_PUBLISHED,!0)},this.updateStreamState=(j,F)=>{this.audioMuted!==j&&(this.audioMuted=j,this.info.audioMuted=j,this.updateStreamMuteState(me.AUDIO,j)),this.videoStopped!==F&&(this.videoStopped=F,this.info.videoStopped=F,this.updateStreamMuteState(me.VIDEO,F))},this.updateStreamMuteState=(j,F)=>{const B=this.streams.find(W=>W.streamType===j);B?(B.setMuted(F),this.emit(Ni.MEDIA_STREAM_MUTE_CHANGED,B)):this.logger.warn({msg:`tried to update mute state for ${j} stream on participant ${this.info.id} that didn't exist`})},this.cleanup=()=>{for(const j of this.streams)j.remote.removeAllListeners(),j.removeAllListeners();this.removeAllListeners()},this.quickUnsubscribe=()=>this.subscribeState!==ci.NOT_SUBSCRIBED&&this.subscription.stop(!0),this.getDesiredSubscribeType=()=>this.subscription.getDesiredSubscribeType(),this.isReassigning=()=>this.reassigning,this.analyticsTracker=M,this.token=g,this.createSubscription=()=>{const j=new Pg(h.id,g,b,T,M,O,N);return j.on(Gl,this.onSubscriptionStateChange),j.on(Ji,this.onSubscriptionMediaStream),j.on(yn,this.onSubscriptionError),j.on(Ka,this.onSubscriptionSeiMessageReceived),j.on(ds,this.onSubscriptionTransformError),j.on(Bs,this.onSubscriptionReassignmentStart),j.on(Ya,this.onSubscriptionReassignmentDone),j.on(Bo,this.onSubscriptionReassignmentDone),j},this.subscription=this.createSubscription(),L&&(this.publishState=Or.PUBLISHED)}updateSubscriptionState(h){h!==this.subscribeState&&(this.subscribeState=h,this.emit(Ni.SUBSCRIPTION_STATE_CHANGE,this.subscribeState))}participantLeave(){this.left=!0}subscribe(){this.left?this.logger.warn({msg:"tried to subscribe to a participant that left"}):(this.updateSubscriptionState(ci.ATTEMPTING_SUBSCRIBE),this.logger.debug({msg:"subscribe"}),this.subscription.start())}unsubscribe(){if(this.subscribeState===ci.NOT_SUBSCRIBED)return;this.logger.debug({msg:"unsubscribe"}),this.subscription.stop(),this.subscription.off(Gl,this.onSubscriptionStateChange),this.subscription.off(Ji,this.onSubscriptionMediaStream),this.subscription.off(yn,this.onSubscriptionError),this.subscription.off(ds,this.onSubscriptionTransformError);const h=this.getDesiredSubscribeType();this.subscription=this.createSubscription(),h===Pi.AUDIO_ONLY?this.emit(Ni.MEDIA_STREAM_REMOVED,this.streams.filter(g=>g.streamType===me.AUDIO)):this.emit(Ni.MEDIA_STREAM_REMOVED,this.streams),this.updateSubscriptionState(ci.NOT_SUBSCRIBED),this.streams.forEach(g=>{g.cleanup()}),this.streams=[]}triggerIceRestart(h){return eE(this,void 0,void 0,function*(){this.reassigning=!0;try{yield this.subscription.triggerIceRestart(h)}finally{this.reassigning=!1}})}}const F0=qe.PUBLISH;function U0(S,h,g){return new en(Object.assign(Object.assign({},S),{token:h,traceId:g,location:"stage-publication.sendSeiMessage",tag:Ud,action:qe.PUBLISH}))}class Gc{constructor(h,g){this.analyticsTracker=h,this.token=g,this.action=F0,this.traceId=Xi()}trackPublish(h){const{action:g,traceId:b,analyticsTracker:T,token:O}=this;return T.trackEvent(new S0({token:O,traceId:b})),{getTraceId:()=>b,trackPublishStarted({totalDurationWithRetries:N,retryTimes:M,sfuResource:L,peerClientPerfStats:j}){const{optionsDuration:F,postDuration:B,timeToCandidate:W,timeToConnected:ie,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae}=j,{edpInitialConnectDuration:oe,edpInitialConnectRetries:we,edpInitialStateDuration:We,edpStateUpdateCount:st}=h;T.trackEvent(new w0({token:O,traceId:b,optionsDuration:F,postDuration:B,timeToCandidate:W,totalDuration:ie,edpInitialConnectDuration:oe,edpInitialConnectRetries:we,edpInitialStateDuration:We,edpStateUpdateCount:st,sdpExchangeDuration:be,sdpExchangeTransport:ge,setRemoteDescDuration:le,peerConnectionDuration:ae,publishRetries:M,totalDurationWithRetries:N,sfuResource:L}))},trackPublishFailed(N){const M=((j,F,B)=>{if(j instanceof en)return j;let W="";return j instanceof gr.AxiosError&&(W+=`AxiosError - ${j.code}`),new en(Object.assign(Object.assign(Object.assign({},je.PUBLISH_FAILURE),{action:F0,token:F,traceId:B,tag:Ud,location:"publish",details:`${W} ${j.message}`}),{fatal:!0}))})(N,O,b);T.trackEvent(new E0({token:O,traceId:b,code:M.code,message:M.message,fatal:M.fatal,nominal:M.nominal}));const L=new en(Object.assign(Object.assign({},je.PUBLISH_FAILURE),{action:g,token:O,traceId:b,tag:Ud,location:"publish"}));return N instanceof en&&(L.fatal=N.fatal,L.nominal=N.nominal,L.location=`publish > ${N.location}`),T.trackError(L),M},trackUnpublish:()=>{T.trackEvent(new _0({token:O,traceId:b}))},trackEndSucceeded:N=>{T.trackEvent(new Qd({token:O,isUnpublishSuccessful:!0,traceId:b,reason:N}))},trackEndFailed:N=>{const M=new en(Object.assign(Object.assign({},je.UNPUBLISH_FAILURE),{token:O,traceId:b,tag:Bw,location:"unpublish"}));return N!==wi.UNLOAD&&N!==wi.UNPUBLISH||this.analyticsTracker.trackError(M),T.trackEvent(new Qd({token:O,isUnpublishSuccessful:!1,traceId:b,reason:N})),M},createSeiNotPublishingVideoError:()=>U0(je.SEI_INSERT_NOT_PUBLISHING_VIDEO,O,b),createSeiInBandMessagingNotEnabledError:()=>U0(je.SEI_INSERT_INBAND_NOT_ENABLED,O,b)}}}var ft,eo,Lr=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};(function(S){S.DISCONNECTED="disconnected",S.CONNECTING="connecting",S.CONNECTED="connected",S.ERRORED="errored"})(ft||(ft={})),function(S){S.STATE_CHANGE="stateChange",S.ERROR="error",S.TRANSFORM_ERROR="transformError"}(eo||(eo={}));class Fr extends yo{constructor(h,g,b,T){super(),this.token=h,this.stageConnection=g,this.nonScopedLogger=b,this.analyticsTracker=T,this.tracksToPublish=[],this.publicationState=ft.DISCONNECTED,this.latestPubAttemptNum=0,this.startConnectingTimestamp=-1,this.action=qe.PUBLISH,this.start=O=>{this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED?(this.tracksToPublish=O,this.latestPubAttemptNum=0,this.processStateUpdate()):this.logger.warn({msg:"publication cannot be started if not in disconnected or error state"})},this.requestRTCStats=O=>Lr(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(O)}),this.stop=(O=!1)=>Lr(this,void 0,void 0,function*(){this.peerClient.off(go,this.onPeerClientConnectionStateChange,this),this.peerClient.off(Mc,this.onPeerClientTransformError,this),yield this.unpublish(O),this.updateState(ft.DISCONNECTED)}),this.processStateUpdate=O=>{const{publicationState:N}=this;N===ft.DISCONNECTED||N===ft.ERRORED?this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()):N===ft.CONNECTING?O===gt.CONNECTED&&this.updateState(ft.CONNECTED):N===ft.CONNECTED&&O===gt.FAILED&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(wi.CONNECTION_FAIL),this.latestPubAttemptNum===0&&(this.startConnectingTimestamp=performance.now(),this.updateState(ft.CONNECTING),this.tryPublish()))},this.updateState=O=>{this.publicationState=O,this.emit(eo.STATE_CHANGE,O)},this.tryPublish=()=>Lr(this,void 0,void 0,function*(){if(this.latestPubAttemptNum++,this.latestPubAttemptNum<=4){const O=this.stageConnection.getConnectionStats();this.attemptTracker=this.publishTracker.trackPublish(O);try{this.logger.debug({msg:`attempting to publish, attemptNum: ${this.latestPubAttemptNum}`}),yield this.publish(this.tracksToPublish,this.attemptTracker.getTraceId()),this.logger.debug({msg:"publish succeeded!"});const N=this.peerClient.getSfuResource(),M=this.latestPubAttemptNum-1,L=performance.now()-this.startConnectingTimestamp,j=this.peerClient.getActionMeasurements();this.attemptTracker.trackPublishStarted({sfuResource:N,totalDurationWithRetries:L,retryTimes:M,peerClientPerfStats:j}),this.latestPubAttemptNum=0}catch(N){this.logger.error({msg:"publish failed!",err:N});const M=this.attemptTracker.trackPublishFailed(N),L=M.code===je.OPERATION_ABORTED.code,j=M.fatal,F=this.latestPubAttemptNum===4;if(L)return;if(j||F)return this.logger.error({msg:`Stopping attempts: isFatal=${j}, isLastAttempt=${F}`,err:N}),this.updateState(ft.ERRORED),void this.emit(eo.ERROR,M);const B=1e3*Math.pow(2,this.latestPubAttemptNum);this.logger.debug({msg:`attempt failed, retrying in ${B}ms`}),this.nextAttemptTimerId=window.setTimeout(()=>{this.tryPublish()},B)}}}),this.publish=(O,N)=>Lr(this,void 0,void 0,function*(){this.peerClient.initTracksToPublish(O),yield this.peerClient.connect({audioOnly:!1,traceId:N})}),this.unpublish=(O=!1)=>Lr(this,void 0,void 0,function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.publicationState===ft.DISCONNECTED||this.publicationState===ft.ERRORED||!this.attemptTracker)return;this.attemptTracker.trackUnpublish();const N=O?wi.UNLOAD:wi.UNPUBLISH;try{O?this.peerClient.disconnect(O):yield this.peerClient.disconnect(O),this.attemptTracker.trackEndSucceeded(N)}catch{this.attemptTracker.trackEndFailed(N)}}),this.replaceOrUpdateTrack=O=>Lr(this,void 0,void 0,function*(){this.tracksToPublish.find(N=>N.track.kind===O.track.kind)?this.tracksToPublish=this.tracksToPublish.map(N=>N.track.kind===O.track.kind?O:N):this.tracksToPublish.push(O),yield this.peerClient.replaceOrUpdateTrack(O)}),this.onPeerClientConnectionStateChange=O=>{this.logger.debug({msg:`onPeerClientConnectionStateChange: ${O}`,state:O}),this.processStateUpdate(O)},this.onPeerClientTransformError=O=>{this.emit(eo.TRANSFORM_ERROR,O)},this.onIncompatibleCodecs=O=>Lr(this,void 0,void 0,function*(){yield this.peerClient.onIncompatibleCodecs(O)}),this.sendSeiMessage=(O,N)=>{if(this.publicationState!==ft.CONNECTED)return this.attemptTracker&&this.emit(eo.ERROR,this.attemptTracker.createSeiNotPublishingVideoError()),ot.err(Oi.NOT_PUBLISHING_VIDEO);const M=this.peerClient.sendSeiMessage(O,N),L=ot.getErr(M);return L&&this.attemptTracker&&(L===Oi.INBAND_MESSAGING_NOT_ENABLED?this.emit(eo.ERROR,this.attemptTracker.createSeiInBandMessagingNotEnabledError()):L===Oi.NOT_PUBLISHING_VIDEO&&this.emit(eo.ERROR,this.attemptTracker.createSeiNotPublishingVideoError())),M},this.peerClient=new vs(h,this.nonScopedLogger,this.action,Jr(this.action),Xi(),this.analyticsTracker,void 0,g,void 0),this.logger=new mo(b,kn.PUBLICATION),this.peerClient.on(go,this.onPeerClientConnectionStateChange,this),this.peerClient.on(Mc,this.onPeerClientTransformError,this),this.publishTracker=new Gc(this.analyticsTracker,this.token)}removeTrack(h){return Lr(this,void 0,void 0,function*(){this.tracksToPublish=this.tracksToPublish.filter(g=>g.track.kind!==h),yield this.peerClient.removeTrack(h)})}}var jn,B0=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};class Ug extends Ag{constructor(h,g,b,T,O){super(h,new mo(b,kn.LOCAL_PARTICIPANT)),this.onPublicationStateChange=N=>{switch(this.logger.debug({msg:"publicationStateChange",state:N}),N){case"connected":this.connection.setStagePublishing(!0),this.updatePublishState(Or.PUBLISHED);break;case"connecting":this.updatePublishState(Or.ATTEMPTING_PUBLISH);break;case"errored":this.updatePublishState(Or.ERRORED),this.connection.setStagePublishing(!1);break;default:return void this.logger.warn({msg:"FIXME onPublicationStateChange UNHANDLED STATE",state:N})}},this.onPublicationError=N=>{this.emit(Sa.ERROR,N)},this.updatePublishState=N=>{this.info.isPublishing=N===Or.PUBLISHED,this.publishState=N,this.emit(Sa.PUBLICATION_STATE_CHANGE,this.publishState)},this.handleMute=N=>{N.streamType===me.AUDIO&&(this.audioMuted=N.isMuted,this.info.audioMuted=N.isMuted),N.streamType===me.VIDEO&&(this.videoStopped=N.isMuted,this.info.videoStopped=N.isMuted),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.emit(Sa.MEDIA_STREAM_MUTE_CHANGED,N)},this.handleInsertSeiMsgRequest=(N,M,L)=>{this.sendSeiMessage(M,L==null?void 0:L.repeatCount)},this.publish=N=>{this.logger.debug({msg:"publish"}),N.forEach(L=>{L&&(this.setupStreamListener(L),L.streamType===me.AUDIO?(this.audioStream=L,this.audioMuted=!L.mediaStreamTrack.enabled,this.info.audioMuted=this.audioMuted):L.streamType===me.VIDEO&&(this.videoStream=L,this.videoStream.on(xs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleInsertSeiMsgRequest),this.videoStopped=!L.mediaStreamTrack.enabled,this.info.videoStopped=this.videoStopped),L.setGetStats(this.publication.requestRTCStats))}),this.connection.emitStageState(this.audioMuted,this.videoStopped);const M=N.map(L=>I0(L.mediaStreamTrack,L.mediaConfig));this.publication.start(M)},this.cleanup=()=>this.removeAllListeners(),this.quickUnpublish=()=>this.publishState!==Or.NOT_PUBLISHED&&this.publishState!==Or.ERRORED&&void this.publication.stop(!0),this.onIncompatibleCodecs=N=>B0(this,void 0,void 0,function*(){yield this.publication.onIncompatibleCodecs(N)}),this.sendSeiMessage=(N,M=0)=>this.publication.sendSeiMessage(N,M),this.sendSeiMessageString=(N,M=0)=>{const L=new TextEncoder().encode(N);return this.publication.sendSeiMessage(L,M)},this.connection=T,this.createPublication=()=>{const N=new Fr(g,T,b,O);return N.on(eo.STATE_CHANGE,this.onPublicationStateChange),N.on(eo.ERROR,this.onPublicationError),N.on(eo.TRANSFORM_ERROR,this.onPublicationError),N},this.publication=this.createPublication()}setupStreamListener(h){h.on(xs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute)}removeTrack(h){var g,b,T;h.streamType===me.AUDIO?((g=this.audioStream)===null||g===void 0||g.off(xs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.audioStream=void 0,this.audioMuted=!0,this.info.audioMuted=!0):h.streamType===me.VIDEO&&((b=this.videoStream)===null||b===void 0||b.off(xs.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),(T=this.videoStream)===null||T===void 0||T.off(xs.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleMute),this.videoStream=void 0,this.videoStopped=!0,this.info.videoStopped=!0),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.publication.removeTrack(h.streamType)}replaceOrAddTrack(h){return B0(this,void 0,void 0,function*(){this.setupStreamListener(h),h.setGetStats(this.publication.requestRTCStats),h.streamType===me.AUDIO?(this.audioStream=h,this.audioMuted=!h.mediaStreamTrack.enabled):h.streamType===me.VIDEO&&(this.videoStream=h,this.videoStopped=!h.mediaStreamTrack.enabled),this.connection.emitStageState(this.audioMuted,this.videoStopped);const g=I0(h.mediaStreamTrack,h.mediaConfig);yield this.publication.replaceOrUpdateTrack(g)})}unpublish(){if(this.publishState===Or.NOT_PUBLISHED||this.publishState===Or.ERRORED)return;this.logger.debug({msg:"unpublish"}),this.connection.setStagePublishing(!1),this.publication.stop(),this.publication.off(eo.STATE_CHANGE,this.onPublicationStateChange),this.publication.off(eo.ERROR,this.onPublicationError),this.publication.off(eo.TRANSFORM_ERROR,this.onPublicationError);const h=[this.audioStream,this.videoStream].filter(g=>!!g);h.forEach(g=>{g.cleanup()}),this.audioStream=void 0,this.videoStream=void 0,this.emit(Sa.MEDIA_STREAM_REMOVED,h),this.updatePublishState(Or.NOT_PUBLISHED),this.publication=this.createPublication()}}(function(S){S.STAGE_CONNECTION_STATE_CHANGED="stageConnectionStateChanged",S.STAGE_PARTICIPANT_JOINED="stageParticipantJoined",S.STAGE_PARTICIPANT_LEFT="stageParticipantLeft",S.STAGE_PARTICIPANT_STREAMS_ADDED="stageParticipantStreamsAdded",S.STAGE_PARTICIPANT_STREAMS_REMOVED="stageParticipantStreamsRemoved",S.STAGE_STREAM_MUTE_CHANGED="stageStreamMuteChanged",S.STAGE_STREAM_SEI_MESSAGE_RECEIVED="stageStreamSeiMessageReceived",S.STAGE_STREAM_LAYERS_CHANGED="stageStreamLayersChanged",S.STAGE_STREAM_LAYER_SELECTED="stageStreamLayerSelected",S.STAGE_STREAM_ADAPTION_CHANGED="stageStreamAdaptionChanged",S.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED="stageParticipantSubscribeStateChanged",S.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED="stageParticipantPublishStateChanged",S.ERROR="error",S.STAGE_LEFT="stageLeft"})(jn||(jn={}));var _o=function(S,h,g,b){return new(g||(g=Promise))(function(T,O){function N(j){try{L(b.next(j))}catch(F){O(F)}}function M(j){try{L(b.throw(j))}catch(F){O(F)}}function L(j){var F;j.done?T(j.value):(F=j.value,F instanceof g?F:new g(function(B){B(F)})).then(N,M)}L((b=b.apply(S,[])).next())})};const Bg=S=>!!S;class sp extends yo{constructor(h,g){super(),this.connectionState=Wn.DISCONNECTED,this.participants=new Map,this.connectionStateErrored=!1,this.onConnectionStateChanged=(T,O)=>{var N,M;if(this.connectionState=T,T===Wn.ERRORED&&(this.connectionStateErrored=!0),T===Wn.CONNECTED&&this.localParticipant&&this.localParticipant.publishState!==Or.NOT_PUBLISHED&&this.stageConnection.emitStageState((N=this.localParticipant)===null||N===void 0?void 0:N.audioMuted,(M=this.localParticipant)===null||M===void 0?void 0:M.videoStopped),T===Wn.CONNECTED&&this.connectionStateErrored&&(this.connectionStateErrored=!1,this.refreshStrategy()),T===Wn.DISCONNECTED){if(O&&O!==ai.CLIENT_RECONNECT&&O!==ai.USER_INITIATED){let L=qn.UNKNOWN;(function(j){return Object.values(qn).includes(j)})(O)?L=O:this.logger.warn({msg:`DISCONNECTED reason is not a StageLeftReason: ${O}`}),this.cleanup(L)}}else this.emit(jn.STAGE_CONNECTION_STATE_CHANGED,this.connectionState)},this.setupLocalParticipantOnce=()=>{var T;this.localParticipant?this.analyticsTracker.trackEventNoSharedProps(new xo(this.token,(T=this.joinTraceId)!==null&&T!==void 0?T:new c0,"reusing local participant from repeat join",qe.JOIN,"")):this.createLocalParticipant()},this.createLocalParticipant=()=>{const T=function(O){var N,M;const L=new Set;return O.token.claims.capabilities.allow_publish&&L.add(xa.PUBLISH),O.token.claims.capabilities.allow_subscribe&&L.add(xa.SUBSCRIBE),{id:O.token.participantID,userId:(N=O.token.userID)!==null&&N!==void 0?N:"",attributes:(M=O.token.claims.attributes)!==null&&M!==void 0?M:{},capabilities:L,isLocal:!0,userInfo:{},videoStopped:O.videoStopped,audioMuted:O.audioMuted,isPublishing:O.isPublishing}}({token:this.token,videoStopped:!0,audioMuted:!0,isPublishing:!1});this.localParticipant=new Ug(T,this.token,this.logger.unwrap(),this.stageConnection,this.analyticsTracker),this.localParticipant.on(Sa.PUBLICATION_STATE_CHANGE,O=>{this.onPublishStateChanged(this.localParticipant.info,O)}),this.localParticipant.on(Sa.MEDIA_STREAM_REMOVED,this.onLocalStreamsRemoved),this.localParticipant.on(Sa.MEDIA_STREAM_MUTE_CHANGED,O=>{this.localParticipant?this.onStreamMuteChange(this.localParticipant.info,O):this.logger.warn({msg:"tried to emit a stream mute change event for undefined local participant"})}),this.localParticipant.on(Sa.ERROR,O=>{this.errorManager.handleError(O,ba.PUBLISH_ERROR)}),this.emit(jn.STAGE_PARTICIPANT_JOINED,T)},this.onRemoteParticipantJoined=T=>{var O;if(T.id!==((O=this.localParticipant)===null||O===void 0?void 0:O.info.id)){const N=function(F){return{id:F.id,userId:F.userId,attributes:F.attributes,capabilities:new Set([xa.SUBSCRIBE]),isLocal:!1,userInfo:{},videoStopped:F.videoStopped,audioMuted:F.audioMuted,isPublishing:F.isPublishing}}(T);if(this.participants.has(N.id))return void this.logger.warn({msg:"Remote participant already tracked"});let M=Pi.NONE;N.capabilities.has(xa.SUBSCRIBE)&&(M=ot.getOk_or(this.strategyWrapper.shouldSubscribeToParticipant(N),M),this.updateManagerWithExternalSubscribeConfig(N,"joined"));const L=this.configManager.getSubscribeConfigSnapshot(N.id),j=new Ss(N,this.token,this.stageConnection,this.logger.unwrap(),M,L,this.analyticsTracker,T.isPublishing);this.participants.set(N.id,j),this.setupRemoteParticipantListeners(j),this.emit(jn.STAGE_PARTICIPANT_JOINED,j.info),j.updateSubscribeStateIfNecessary(M)}},this.setupRemoteParticipantListeners=T=>{T.on(Ni.SUBSCRIPTION_STATE_CHANGE,O=>{this.onParticipantSubscribeStateChanged(T.info.id,O)}),T.on(Ni.MEDIA_STREAM_ADDED,O=>{const N=this.participants.get(T.info.id);if(N){for(const M of O)this.setupRemoteParticipantStreamEvents(N.info,M);this.emit(jn.STAGE_PARTICIPANT_STREAMS_ADDED,N.info,Dg(O)),this.updateStreamLayerForParticipant(T)}else this.logger.warn({msg:"Got stream add for participant no longer being tracked"})}),T.on(Ni.MEDIA_STREAM_REMOVED,O=>{const N=this.participants.get(T.info.id);N?this.emit(jn.STAGE_PARTICIPANT_STREAMS_REMOVED,N.info,Dg(O)):this.logger.warn({msg:"Got stream remove for participant no longer being tracked"})}),T.on(Ni.MEDIA_STREAM_MUTE_CHANGED,O=>{this.onStreamMuteChange(T.info,O.remote)}),T.on(Ni.ERROR,O=>{this.errorManager.handleError(O,ba.SUBSCRIBE_ERROR)}),T.on(Ni.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,O=>{this.onSeiMessageReceived(T.info,O)})},this.onRemoteParticipantLeft=T=>{if(this.connectionState!==Wn.CONNECTED)return;const O=this.participants.get(T);O?(O.participantLeave(),O.unsubscribe(),O.cleanup(),this.participants.delete(T),this.emitParticipantLeave(O.info)):this.logger.warn({msg:"Remote participant no longer tracked"})},this.emitParticipantLeave=T=>{this.emit(jn.STAGE_PARTICIPANT_LEFT,T)},this.onRemoteParticipantStateChanged=T=>{const O=this.participants.get(T.id);if(!O)return void this.logger.warn({msg:"Remote participant updated but not tracked"});O.updatePublishState(T.isPublishing)&&this.onPublishStateChanged(O.info,O.publishState),O.updateStreamState(T.audioMuted,T.videoStopped);const N=this.strategyWrapper.shouldSubscribeToParticipant(O.info);if(ot.isNotOk(N))return;this.updateManagerWithExternalSubscribeConfig(O.info,"updated");const M=this.configManager.getSubscribeConfigSnapshot(O.info.id),L=ot.getOk_or(N,Pi.NONE);O.updateSubscribeStateIfNecessary(L,M)},this.onPublishStateChanged=(T,O)=>{this.emit(jn.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,T,O)},this.onParticipantSubscribeStateChanged=(T,O)=>{const N=this.participants.get(T);N?this.emit(jn.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED,N.info,O):this.logger.warn({msg:"Remote participant subscribe state changed but not tracked"})},this.onLocalStreamsAdded=T=>{this.localParticipant&&this.emit(jn.STAGE_PARTICIPANT_STREAMS_ADDED,this.localParticipant.info,T)},this.onLocalStreamsRemoved=T=>{this.localParticipant&&this.emit(jn.STAGE_PARTICIPANT_STREAMS_REMOVED,this.localParticipant.info,T)},this.onStreamMuteChange=(T,O)=>{this.emit(jn.STAGE_STREAM_MUTE_CHANGED,T,O)},this.onSeiMessageReceived=(T,O)=>{this.emit(jn.STAGE_STREAM_SEI_MESSAGE_RECEIVED,T,O)},this.leave=()=>{this.cleanup(qn.USER_INITIATED)},this.onBeforeUnloadCleanup=()=>{var T;this.participants.forEach(O=>{O.quickUnsubscribe()}),(T=this.localParticipant)===null||T===void 0||T.quickUnpublish(),this.stageConnection.disconnect(),this.emit(jn.STAGE_CONNECTION_STATE_CHANGED,Wn.DISCONNECTED),this.analyticsTracker.stop(!0)},this.cleanup=T=>{if(!this.localParticipant)return;this.analyticsTracker.trackEventNoSharedProps(new Dh({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId,reason:T})),this.localParticipant.unpublish(),this.localParticipant.cleanup();const O=this.localParticipant.info;this.localParticipant=void 0,this.emitParticipantLeave(O);const N=this.participants.entries();for(const[M,L]of N)L.unsubscribe(),this.participants.delete(M),L.cleanup(),this.emitParticipantLeave(L.info);nu.destroy(),this.stageConnection.disconnect(),this.emit(jn.STAGE_CONNECTION_STATE_CHANGED,Wn.DISCONNECTED),this.emit(jn.STAGE_LEFT,T),this.stageConnection.removeAllListeners(),this.stageConnection=new Jh(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners(),this.analyticsTracker.stop(!1),window.removeEventListener("beforeunload",this.onBeforeUnloadCleanup)},this.refreshStrategy=()=>{this.participants.forEach(T=>{if(T.info.capabilities.has(xa.SUBSCRIBE)){const O=this.strategyWrapper.shouldSubscribeToParticipant(T.info);if(ot.isNotOk(O))return;const N=ot.getOk_or(O,Pi.NONE);this.updateManagerWithExternalSubscribeConfig(T.info,"updated");const M=this.configManager.getSubscribeConfigSnapshot(T.info.id);T.updateSubscribeStateIfNecessary(N,M),this.updateStreamLayerForParticipant(T)}}),this.updateStreamsToPublishIfNecessary()},this.updateStreamsToPublishIfNecessary=()=>{var T;if(!this.localParticipant||!(!((T=this.localParticipant)===null||T===void 0)&&T.info.capabilities.has(xa.PUBLISH)))return;const O=this.localParticipant.publishState!==Or.NOT_PUBLISHED&&this.localParticipant.publishState!==Or.ERRORED,N=this.strategyWrapper.shouldPublishParticipant(this.localParticipant.info);if(ot.isNotOk(N))return;let M=ot.getOk_or(N,!1);if(!O&&!M)return;if(O&&!M)return void this.localParticipant.unpublish();const L=this.strategyWrapper.stageStreamsToPublish();if(ot.isNotOk(L)){const F=ot.getErr(L);if(F instanceof Error&&F.cause==="UserStrategy")throw F;return}const j=ot.getOk_or(L,[]);M=M&&j.length>0,!O&&M?(this.localParticipant.publish(j),this.onLocalStreamsAdded(j)):this.syncTracksToPublish(j)},this.syncTracksToPublish=T=>{var O;if(!this.localParticipant)return;const N=this.localParticipant.audioStream,M=this.localParticipant.videoStream,{updates:L,streamsToAdd:j,streamsToRemove:F}=this.determineStreamUpdates(N,M,T);if(L.length){for(const B of L)B.newStream?(O=this.localParticipant)===null||O===void 0||O.replaceOrAddTrack(B.newStream):B.oldStream&&this.localParticipant.removeTrack(B.oldStream);F.length!==0&&this.onLocalStreamsRemoved(F),j.length!==0&&this.onLocalStreamsAdded(j)}},this.determineStreamUpdates=(T,O,N=[])=>{const M=[],L=N.slice(0,2);if(L.sort((B,W)=>B.streamType===me.AUDIO?-1:1),L.length===0)T&&M.push({oldStream:T}),O&&M.push({oldStream:O});else if(L.length===1){const B=L[0];B.streamType===me.AUDIO?O&&M.push({oldStream:O}):B.streamType===me.VIDEO&&T&&M.push({oldStream:T})}L.forEach(B=>{var W,ie;B.streamType===me.AUDIO?T?T.id===B.id&&(0,wr.isEqual)(T.mediaConfig,B.mediaConfig)||(!!(!((W=T.mediaConfig)===null||W===void 0)&&W.stereo)!=!!(!((ie=B.mediaConfig)===null||ie===void 0)&&ie.stereo)&&this.logger.warn({msg:"Ignoring change to audio stream's stereo configuration. Re-publish to change stereo configuraiton."}),M.push({oldStream:T,newStream:B})):M.push({newStream:B}):B.streamType===me.VIDEO&&(O?O.id===B.id&&(0,wr.isEqual)(O.mediaConfig,B.mediaConfig)||M.push({oldStream:O,newStream:B}):M.push({newStream:B}))});const j=M.map(B=>B.newStream).filter(Bg),F=M.map(B=>B.oldStream).filter(Bg);return{updates:M,streamsToAdd:j,streamsToRemove:F}},this.onReassignmentMessage=T=>_o(this,void 0,void 0,function*(){if(za("disableReassignments"))return void this.logger.debug({msg:"REASSIGN message ignored: disableReassignments is configured"});if(!Gd.browser.isChrome())return void this.logger.debug({msg:"REASSIGN message ignored: browser is not chrome"});const O=Xi();this.trackReassignmentRequest(T,O);const N=this.participants.get(T.remoteParticipantId),M=this.token.participantID,L=function(j,{localParticipantId:F,remoteParticipant:B}){const{participantId:W}=j;if(F!==W)return ot.err(Object.assign(Object.assign({},je.REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID),{details:`Invalid participantId received: ${W}`}));if(!B)return ot.err(Object.assign(Object.assign({},je.REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID),{details:`Invalid remoteParticipantId received: ${B}`}));if(B.isReassigning())return ot.err(je.REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS);const ie=B.subscription.peerClient.getConnectionState();return[gt.CONNECTED,gt.DISCONNECTED].includes(ie)?ot.ok(B):ot.err(Object.assign(Object.assign({},je.REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE),{details:`connectionState: ${ie}`}))}(T,{localParticipantId:M,remoteParticipant:N});if(!L.ok)this.trackReassignmentRequestRejected(L.error,O);else try{const{token:j,nodeOverride:F}=T;yield L.value.triggerIceRestart({assignmentToken:j,traceId:O,nodeOverride:F})}catch(j){this.logger.error({msg:"Reassignment failed.",err:j})}}),this.onIncompatibleCodecsMessage=T=>_o(this,void 0,void 0,function*(){var O;yield(O=this.localParticipant)===null||O===void 0?void 0:O.onIncompatibleCodecs(T.codecs)}),this.analyticsTracker=new Dc;const b=Fm();this.logger=new mo(new Wm(b),kn.STAGE),this.strategyWrapper=new ip(g,this.logger),this.configManager=new M0({logger:this.logger.unwrap(),subscribeDefaults:{jitterBuffer:{minDelayWhenPublishing:Ei.DEFAULT,minDelayWhenSubscribeOnly:Ei.DEFAULT},inBandMessaging:{enabled:!1},simulcast:{initialLayerPreference:Ql.LOWEST_QUALITY}}}),this.errorManager=new Xw(this.logger.unwrap());try{this.token=bo(h,this.analyticsTracker)}catch(T){const O=new en(Object.assign({action:qe.JOIN,token:h,traceId:Xi(),tag:Fd,location:"Stage.constructor"},je.MALFORMED_TOKEN));throw T instanceof Error&&(O.details=T.message),this.errorManager.handleError(O,ba.JOIN_ERROR)||T}this.stageConnection=new Jh(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners()}setupListeners(){this.stageConnection.on(fa,(h,g)=>{this.onConnectionStateChanged(h,g)}),this.stageConnection.on(Lh,h=>{this.onRemoteParticipantJoined(h)}),this.stageConnection.on(Fh,h=>{this.onRemoteParticipantLeft(h.id)}),this.stageConnection.on(Uh,h=>{var g;h.id!==((g=this.localParticipant)===null||g===void 0?void 0:g.info.id)&&this.onRemoteParticipantStateChanged(h)}),this.stageConnection.on(H,h=>_o(this,void 0,void 0,function*(){yield this.onReassignmentMessage(h)})),this.stageConnection.on(Uc,h=>_o(this,void 0,void 0,function*(){yield this.onIncompatibleCodecsMessage(h)})),this.stageConnection.on(Qm,h=>{h instanceof en&&this.analyticsTracker.trackError(h),this.errorManager.handleError(h,ba.JOIN_ERROR)}),this.errorManager.on(np.ERROR,h=>{this.emit(jn.ERROR,h)})}setupRemoteParticipantStreamEvents(h,g){const b=g.remote;g.on(bs.ADAPTION_CHANGED,T=>{this.emit(jn.STAGE_STREAM_ADAPTION_CHANGED,h,b,T)}),g.on(bs.LAYERS_CHANGED,T=>{this.emit(jn.STAGE_STREAM_LAYERS_CHANGED,h,b,T)}),g.on(bs.LAYER_SELECTED,(T,O)=>{this.emit(jn.STAGE_STREAM_LAYER_SELECTED,h,b,T,O)}),g.layers.length>0&&(this.emit(jn.STAGE_STREAM_LAYERS_CHANGED,h,b,b.getLayers()),this.emit(jn.STAGE_STREAM_LAYER_SELECTED,h,b,b.getSelectedLayer(),su.SELECTED))}join(){return _o(this,void 0,void 0,function*(){this.analyticsTracker.start(),this.joinTraceId=Xi(),this.analyticsTracker.trackEvent(new R0({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId}));try{this.token.assertTokenIsUnexpired(Xi(),Fd,"join")}catch(h){throw this.errorManager.handleError(h,ba.JOIN_ERROR)||h}try{this.joinTraceId=yield this.stageConnection.connect(this.joinTraceId),this.connectionState===Wn.CONNECTED&&(this.setupLocalParticipantOnce(),this.updateStreamsToPublishIfNecessary()),window.addEventListener("beforeunload",this.onBeforeUnloadCleanup)}catch(h){throw this.logger.error({err:h,msg:"error joining stage"}),this.errorManager.handleError(h,ba.JOIN_ERROR,!1)||h}})}replaceStrategy(h){this.strategyWrapper.setStrategy(h),this.refreshStrategy()}updateManagerWithExternalSubscribeConfig(h,g){const b=ot.getOk(this.strategyWrapper.subscribeConfiguration(h));if(b===void 0)return;const T=h.id;if(this.configManager.handleExternalSubscribeConfigUpdate(T,b,of.API)){const O=this.configManager.getSubscribeConfigSnapshot(T);this.analyticsTracker.trackEventNoSharedProps(new $o(this.token,this.joinTraceId,{trigger:g==="joined"?"initial":"ad-hoc",remote_participant_id:T,min_delay_when_publishing:zo(O.jitterBuffer.minDelayWhenPublishing,!0),min_delay_when_subscribe_only:zo(O.jitterBuffer.minDelayWhenSubscribeOnly,!1),in_band_messaging_enabled:O.inBandMessaging.enabled,simulcast_initial_layer_preference:O.simulcast.initialLayerPreference}))}}updateStreamLayerForParticipant(h){h.streams.forEach(g=>{if(g.streamType==="audio")return;const b=this.strategyWrapper.preferredLayerForStream(h.info,g.remote),T=ot.getOk_or(b,void 0);g.setLayer(T)})}trackReassignmentRequestRejected(h,g){const{token:b}=this,T=new en(Object.assign(Object.assign({},h),{token:b,action:qe.JOIN,traceId:g,tag:Bd,location:"publish"}));this.logger.error({err:T,msg:"Reassignment request rejected."}),this.analyticsTracker.trackError(T)}trackReassignmentRequest(h,g){const{token:b}=this;this.analyticsTracker.trackEvent(new rp({token:b,traceId:g,targetLocalParticipantId:h.participantId,targetRemoteParticipantId:h.remoteParticipantId}))}}var qn;(function(S){S.UNKNOWN="unknown",S.USER_INITIATED="user-initiated",S.TOKEN_REUSED="token-reused",S.PARTICIPANT_DISCONNECTED="participant-disconnected",S.STAGE_DELETED="stage-deleted"})(qn||(qn={}));const Pr=p})(),o})())})(o3);var s3=o3.exports;const Pae=rh(s3),Nae=()=>{const{state:e}=ed(),t=P.useRef(null),[n,r]=P.useState(null),[i,o]=P.useState(!1),[s,a]=P.useState(""),[c,l]=P.useState([]),{toast:f}=kl(),p=Rl(),m=P.useRef(null);P.useEffect(()=>{var A;const I=Pae.create({streamConfig:s3.BASIC_LANDSCAPE,ingestEndpoint:`rtmps://${e==null?void 0:e.ingestUrl}/app/`});return r(I),t.current&&I.attachPreview(t.current),(A=navigator.mediaDevices)==null||A.enumerateDevices().then(U=>{var q,X;const $=U.filter(J=>J.kind==="videoinput"),V=U.filter(J=>J.kind==="audioinput");navigator.mediaDevices.getUserMedia({video:{deviceId:(q=$[0])==null?void 0:q.deviceId},audio:{deviceId:(X=V[0])==null?void 0:X.deviceId}}).then(J=>{I.addVideoInputDevice(J,"camera1",{index:0,width:1280,height:720,x:-200,y:0}),I.addAudioInputDevice(J,"mic1")}).catch(J=>console.error("Error accessing media devices:",J))}).catch(U=>console.error("Error enumerating devices:",U)),()=>{I.stopBroadcast()}},[]);const E=async()=>{try{const I=await Yn.post(Dp+vW(e==null?void 0:e._id),{},{headers:{Authorization:`Bearer ${yi.get("accessToken")}`}});n&&(await n.startBroadcast(e==null?void 0:e.streamId),y(),o(!0)),f({title:"Toast Created",description:"The Live is Started successfully"})}catch(I){f({title:"Live error",description:I.response.data.error||"Something went wrong"})}},x=async()=>{try{const I=await Yn.post(Dp+yW,{},{headers:{Authorization:`Bearer ${yi.get("accessToken")}`}});n&&(await n.stopBroadcast(),o(!1)),p("/dashboard/upcomingLive"),f({title:"Live Stopped",description:"Live stopped Successfully"})}catch(I){f({title:"Live error",description:I.response.data.error||"Something went wrong"})}},y=async()=>{const I=await Yn.post(Dp+"/stream/get-chat-token",{chatRoomArn:e==null?void 0:e.chatRoomId,userId:"admin"}),{token:A}=I.data;m.current=new WebSocket("wss://edge.ivschat.ap-south-1.amazonaws.com",A),m.current.onmessage=U=>{const $=JSON.parse(U.data);l(V=>[...V,$])}},w=()=>{if(m.current){const I={Action:"SEND_MESSAGE",SenderName:"Admin",Content:s,attributes:{senderName:"Admin"}};m.current.send(JSON.stringify(I)),a("")}},R=ed(),_=()=>{x(),console.log("User is leaving the page or changing the route...")};P.useEffect(()=>{const I=A=>{_(),A.preventDefault(),A.returnValue=""};return window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I),_()}},[R]);const C=()=>{t.current.requestFullscreen&&t.current.requestFullscreen()};return u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"basis-2/3",children:[u.jsxs("div",{className:"w-full h-[70vh] relative",children:[u.jsx("canvas",{ref:t,className:"w-full h-full",style:{border:"2px solid black"}}),u.jsx("div",{onClick:C,className:"absolute top-[90%] right-5 cursor-pointer",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#000000",height:"24px",width:"24px",version:"1.1",id:"Layer_1",viewBox:"0 0 512 512",children:[u.jsx("g",{children:u.jsx("g",{children:u.jsx("path",{d:"M0,0v512h512V0H0z M477.867,477.867H34.133V34.133h443.733V477.867z"})})}),u.jsx("g",{children:u.jsx("g",{children:u.jsx("polygon",{points:"126.533,102.4 199.111,102.4 199.111,68.267 68.267,68.267 68.267,199.111 102.4,199.111 102.4,126.538     198.422,222.558 222.556,198.423   "})})}),u.jsx("g",{children:u.jsx("g",{children:u.jsx("polygon",{points:"222.557,313.581 198.422,289.445 102.4,385.467 102.4,312.889 68.267,312.889 68.267,443.733 199.111,443.733     199.111,409.6 126.538,409.6   "})})}),u.jsx("g",{children:u.jsx("g",{children:u.jsx("polygon",{points:"409.6,312.889 409.6,385.467 313.578,289.444 289.444,313.578 385.462,409.6 312.889,409.6 312.889,443.733     443.733,443.733 443.733,312.889   "})})}),u.jsx("g",{children:u.jsx("g",{children:u.jsx("polygon",{points:"312.889,68.267 312.889,102.4 385.467,102.4 289.444,198.423 313.578,222.558 409.6,126.538 409.6,199.111     443.733,199.111 443.733,68.267   "})})})]})})]}),i?u.jsx("button",{onClick:x,style:{padding:"10px",margin:"10px",backgroundColor:"red",color:"white"},children:"Stop Live"}):u.jsx("button",{onClick:E,style:{padding:"10px",margin:"10px",backgroundColor:"ButtonText",color:"white"},children:"Start Live"})]}),u.jsxs("div",{className:"basis-1/3",children:[u.jsx("div",{className:"h-[70vh] overflow-y-auto",children:c.map(I=>u.jsxs("div",{className:"flex flex-col md:flex-row gap-5 items-start md:items-center",children:[u.jsxs("p",{children:[I.Attributes.senderName,":"]}),u.jsx("p",{children:I.Content})]},I.Id))}),u.jsxs("div",{className:"flex gap-3 items-center p-4 bg-gray-100 rounded-lg",children:[u.jsx("input",{type:"text",value:s,onChange:I=>a(I.target.value),className:"px-4 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type a message..."}),u.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition",children:"Send"})]})]})]})},Iae=Lf({title:Dn().min(1,"Title is required"),standard:Dn().min(1,"Standard is required"),boardId:Dn().min(1,"Board is required"),courseId:Dn().min(1,"Course is required"),startDate:Dn().min(1,"Start date is required")}),jae=({isOpen:e,onClose:t,refetch:n=()=>{}})=>{const{standards:r,isLoading:i}=Nn(p=>p.standard),{board:o,isLoading:s}=Nn(p=>p.board),{courses:a}=Nn(p=>({courses:p.course.courses})),c=Qn();P.useEffect(()=>{c(Bp({page:1,search:""})),c(fl()),c(Uf())},[]);const l=pd({resolver:$y(Iae),defaultValues:{title:"",standard:"",boardId:"",courseId:"",startDate:""},mode:"onChange"}),f=async p=>{console.log("Data submitted:",p);try{const m=await Yn.post(Dp+gW,p,{headers:{Authorization:`Bearer ${yi.get("accessToken")}`}});n(),t()}catch(m){console.error("Error creating upcoming live:",m)}};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Upcoming Live Details"}),u.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-gray-200 transition-colors",children:u.jsx(hd,{size:20})})]}),u.jsx(lh,{...l,children:u.jsxs("form",{onSubmit:l.handleSubmit(f),className:"space-y-6 p-10",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(Xt,{control:l.control,name:"title",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Title"}),u.jsx(vn,{children:u.jsx(rn,{placeholder:"Live Tittle",...p})}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:l.control,name:"startDate",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Start Date"}),u.jsx(vn,{children:u.jsx(rn,{type:"datetime-local",...p,value:p.value||""})}),u.jsx(Ft,{})]})})]}),u.jsx(Xt,{control:l.control,name:"courseId",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Course"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select standard",name:"courseId",control:l.control,onSearch:()=>{},listing:a==null?void 0:a.map(m=>({id:m==null?void 0:m._id,label:m==null?void 0:m.title})),onItemSelect:m=>{},value:p.value||""}),u.jsx(Ft,{})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Xt,{control:l.control,name:"standard",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Standard"}),i?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select standard",name:"standard",control:l.control,onSearch:()=>{},listing:r==null?void 0:r.map(m=>({id:m._id,label:m.std})),onItemSelect:m=>{},value:p.value||""}),u.jsx(Ft,{})]})}),u.jsx(Xt,{control:l.control,name:"boardId",render:({field:p})=>u.jsxs(Mt,{children:[u.jsx(Lt,{children:"Board"}),s?u.jsx("div",{children:"Loading..."}):u.jsx(hl,{placeholder:"Select board",name:"boardId",control:l.control,onSearch:()=>{},listing:o==null?void 0:o.map(m=>({id:m._id,label:m.boardname})),onItemSelect:m=>{console.log("Selected board ID:",m)},value:p.value||""}),u.jsx(Ft,{})]})})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})})]})}):null};function Aae(){const[e,t]=P.useState(!1),n=Rl(),[r,i]=P.useState([]);console.log(r,"UpcomingLives");const o=async()=>{try{const a=(await Yn.post(Dp+mW,{upcomming:!0},{headers:{Authorization:`Bearer ${yi.get("accessToken")}`}})).data.data;i(a)}catch(s){console.error("Error fetching UpcomingLive:",s),i([])}};return P.useEffect(()=>{o()},[]),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upcoming Live"}),u.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Add Up Coming Live"})]}),u.jsx("div",{className:"bg-white rounded-lg shadow",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Title"}),u.jsx($e,{children:"Course"}),u.jsx($e,{children:"Standard"}),u.jsx($e,{children:"Board"}),u.jsx($e,{children:"Stream Key"}),u.jsx($e,{children:"Start Date"}),u.jsx($e,{children:"Is Live"}),u.jsx($e,{children:"Actions"})]})}),u.jsx(cs,{children:r.length>0?r==null?void 0:r.map(s=>{var a,c,l;return u.jsxs(Sn,{children:[u.jsx(Me,{children:s==null?void 0:s.title}),u.jsx(Me,{children:(a=s==null?void 0:s.courseId)==null?void 0:a.title}),u.jsx(Me,{children:(c=s==null?void 0:s.standard)==null?void 0:c.std}),u.jsx(Me,{children:(l=s==null?void 0:s.boardId)==null?void 0:l.boardname}),u.jsx(Me,{children:s==null?void 0:s.streamId}),u.jsx(Me,{children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{children:new Date(s==null?void 0:s.startDate).toLocaleDateString()}),u.jsx("span",{children:new Date(s==null?void 0:s.startDate).toLocaleTimeString()})]})}),u.jsx(Me,{children:s!=null&&s.isLive?"Yes":"No"}),u.jsx(Me,{children:u.jsx("button",{onClick:()=>n(`/dashboard/live/${s==null?void 0:s._id}`,{state:s}),className:"px-2 py-1 bg-blue-600 text-white rounded-md text-sm",children:"Go Live"})})]},s==null?void 0:s._id)}):u.jsx(Sn,{children:u.jsx(Me,{className:"text-center",children:"No Upcoming Live Streams"})})})]})}),u.jsx(jae,{isOpen:e,onClose:()=>t(!1),refetch:o})]})}let Dae={data:""},Mae=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Dae,Lae=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Fae=/\/\*[^]*?\*\/|  +/g,Sj=/\n+/g,Eu=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Eu(s,o):o+"{"+Eu(s,o[1]=="k"?"":t)+"}":typeof s=="object"?r+=Eu(s,t?t.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Eu.p?Eu.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Zc={},a3=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+a3(e[n]);return t}return e},Uae=(e,t,n,r,i)=>{let o=a3(e),s=Zc[o]||(Zc[o]=(c=>{let l=0,f=11;for(;l<c.length;)f=101*f+c.charCodeAt(l++)>>>0;return"go"+f})(o));if(!Zc[s]){let c=o!==e?e:(l=>{let f,p,m=[{}];for(;f=Lae.exec(l.replace(Fae,""));)f[4]?m.shift():f[3]?(p=f[3].replace(Sj," ").trim(),m.unshift(m[0][p]=m[0][p]||{})):m[0][f[1]]=f[2].replace(Sj," ").trim();return m[0]})(e);Zc[s]=Eu(i?{["@keyframes "+s]:c}:c,n?"":"."+s)}let a=n&&Zc.g?Zc.g:null;return n&&(Zc.g=Zc[s]),((c,l,f,p)=>{p?l.data=l.data.replace(p,c):l.data.indexOf(c)===-1&&(l.data=f?c+l.data:l.data+c)})(Zc[s],t,r,a),s},Bae=(e,t,n)=>e.reduce((r,i,o)=>{let s=t[o];if(s&&s.call){let a=s(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=c?"."+c:a&&typeof a=="object"?a.props?"":Eu(a,""):a===!1?"":a}return r+i+(s??"")},"");function Tw(e){let t=this||{},n=e.call?e(t.p):e;return Uae(n.unshift?n.raw?Bae(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Mae(t.target),t.g,t.o,t.k)}let c3,B1,$1;Tw.bind({g:1});let Cl=Tw.bind({k:1});function $ae(e,t,n,r){Eu.p=t,c3=e,B1=n,$1=r}function xd(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),c=a.className||i.className;n.p=Object.assign({theme:B1&&B1()},a),n.o=/ *go\d+/.test(c),a.className=Tw.apply(n,r)+(c?" "+c:"");let l=e;return e[0]&&(l=a.as||e,delete a.as),$1&&l[0]&&$1(a),c3(l,a)}return i}}var zae=e=>typeof e=="function",r_=(e,t)=>zae(e)?e(t):e,Vae=(()=>{let e=0;return()=>(++e).toString()})(),l3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Wae=20,u3=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Wae)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return u3(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Fx=[],kf={toasts:[],pausedAt:void 0},vh=e=>{kf=u3(kf,e),Fx.forEach(t=>{t(kf)})},Hae={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Gae=(e={})=>{let[t,n]=P.useState(kf),r=P.useRef(kf);P.useEffect(()=>(r.current!==kf&&n(kf),Fx.push(n),()=>{let o=Fx.indexOf(n);o>-1&&Fx.splice(o,1)}),[]);let i=t.toasts.map(o=>{var s,a,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((s=e[o.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((a=e[o.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||Hae[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:i}},qae=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Vae()}),Gy=e=>(t,n)=>{let r=qae(t,e,n);return vh({type:2,toast:r}),r.id},Io=(e,t)=>Gy("blank")(e,t);Io.error=Gy("error");Io.success=Gy("success");Io.loading=Gy("loading");Io.custom=Gy("custom");Io.dismiss=e=>{vh({type:3,toastId:e})};Io.remove=e=>vh({type:4,toastId:e});Io.promise=(e,t,n)=>{let r=Io.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?r_(t.success,i):void 0;return o?Io.success(o,{id:r,...n,...n==null?void 0:n.success}):Io.dismiss(r),i}).catch(i=>{let o=t.error?r_(t.error,i):void 0;o?Io.error(o,{id:r,...n,...n==null?void 0:n.error}):Io.dismiss(r)}),e};var Kae=(e,t)=>{vh({type:1,toast:{id:e,height:t}})},Yae=()=>{vh({type:5,time:Date.now()})},Iv=new Map,Qae=1e3,Xae=(e,t=Qae)=>{if(Iv.has(e))return;let n=setTimeout(()=>{Iv.delete(e),vh({type:4,toastId:e})},t);Iv.set(e,n)},Jae=e=>{let{toasts:t,pausedAt:n}=Gae(e);P.useEffect(()=>{if(n)return;let o=Date.now(),s=t.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(o-a.createdAt);if(c<0){a.visible&&Io.dismiss(a.id);return}return setTimeout(()=>Io.dismiss(a.id),c)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=P.useCallback(()=>{n&&vh({type:6,time:Date.now()})},[n]),i=P.useCallback((o,s)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:l}=s||{},f=t.filter(E=>(E.position||l)===(o.position||l)&&E.height),p=f.findIndex(E=>E.id===o.id),m=f.filter((E,x)=>x<p&&E.visible).length;return f.filter(E=>E.visible).slice(...a?[m+1]:[0,m]).reduce((E,x)=>E+(x.height||0)+c,0)},[t]);return P.useEffect(()=>{t.forEach(o=>{if(o.dismissed)Xae(o.id,o.removeDelay);else{let s=Iv.get(o.id);s&&(clearTimeout(s),Iv.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:Kae,startPause:Yae,endPause:r,calculateOffset:i}}},Zae=Cl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ece=Cl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tce=Cl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nce=xd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ece} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tce} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rce=Cl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ice=xd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${rce} 1s linear infinite;
`,oce=Cl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sce=Cl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ace=xd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sce} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cce=xd("div")`
  position: absolute;
`,lce=xd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uce=Cl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dce=xd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uce} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fce=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?P.createElement(dce,null,t):t:n==="blank"?null:P.createElement(lce,null,P.createElement(ice,{...r}),n!=="loading"&&P.createElement(cce,null,n==="error"?P.createElement(nce,{...r}):P.createElement(ace,{...r})))},hce=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pce=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,mce="0%{opacity:0;} 100%{opacity:1;}",gce="0%{opacity:1;} 100%{opacity:0;}",vce=xd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yce=xd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bce=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=l3()?[mce,gce]:[hce(n),pce(n)];return{animation:t?`${Cl(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cl(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xce=P.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?bce(e.position||t||"top-center",e.visible):{opacity:0},o=P.createElement(fce,{toast:e}),s=P.createElement(yce,{...e.ariaProps},r_(e.message,e));return P.createElement(vce,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:s}):P.createElement(P.Fragment,null,o,s))});$ae(P.createElement);var Sce=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=P.useCallback(s=>{if(s){let a=()=>{let c=s.getBoundingClientRect().height;r(e,c)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return P.createElement("div",{ref:o,className:t,style:n},i)},_ce=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:l3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},wce=Tw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Eb=16,Ece=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:s})=>{let{toasts:a,handlers:c}=Jae(n);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Eb,left:Eb,right:Eb,bottom:Eb,pointerEvents:"none",...o},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(l=>{let f=l.position||t,p=c.calculateOffset(l,{reverseOrder:e,gutter:r,defaultPosition:t}),m=_ce(f,p);return P.createElement(Sce,{id:l.id,key:l.id,onHeightUpdate:c.updateHeight,className:l.visible?wce:"",style:m},l.type==="custom"?r_(l.message,l):i?i(l):P.createElement(xce,{toast:l,position:f}))}))},DC=Io;const Cce=()=>{const{register:e,handleSubmit:t,reset:n}=pd(),[r,i]=P.useState([]),[o,s]=P.useState(!0),[a,c]=P.useState(!1),[l,f]=P.useState(null),[p,m]=P.useState(!1),[E,x]=P.useState(null);P.useEffect(()=>{(async()=>{var R,_;try{s(!0),x(null);const C=await Yn.get("https://back.knowledgetemple.in/api/v1/admin/quiz/quiz-leader-board",{headers:{Authorization:`Bearer ${yi.get("accessToken")}`}});i(((_=(R=C.data)==null?void 0:R.data)==null?void 0:_.docs)||[]),console.log(C.data)}catch(C){DC.error(C.message||"Failed to fetch leaderboard")}finally{s(!1)}})()},[]);const y=async w=>{if(l)try{c(!0),x(null);const R=new FormData;R.append("certificate",w.certificate[0]);const _=await Yn.post(`https://back.knowledgetemple.in/api/v1/admin/quiz/certificate/${l}`,R,{headers:{Authorization:`Bearer ${yi.get("accessToken")}`,"Content-Type":"multipart/form-data"}});_.data.success&&(i(C=>C.map(I=>I._id===l?{...I,certificateUrl:_.data.data.certificateUrl}:I)),DC.success("Certificate uploaded successfully!"),m(!1))}catch(R){DC.error(R.message||"Failed to upload certificate")}finally{c(!1),n(),f(null)}};return o?u.jsx("div",{className:"text-center py-10",children:"Loading..."}):E?u.jsxs("div",{className:"text-center py-10 text-red-500",children:["Error: ",E]}):u.jsxs("div",{className:"space-y-6 page-transition",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-3xl font-bold",children:"Quiz Leaderboard"})}),u.jsx("div",{className:"rounded-md border bg-white",children:u.jsxs(ss,{children:[u.jsx(as,{children:u.jsxs(Sn,{children:[u.jsx($e,{children:"Rank"}),u.jsx($e,{children:"User"}),u.jsx($e,{children:"Email"}),u.jsx($e,{children:"Mobile"}),u.jsx($e,{children:"Quiz"}),u.jsx($e,{className:"text-right",children:"Score"}),u.jsx($e,{children:"Certificate"})]})}),u.jsx(cs,{children:r.length===0?u.jsx(Sn,{children:u.jsx(Me,{colSpan:7,className:"text-center py-10",children:"No quiz results found"})}):r.map((w,R)=>{var _,C,I,A,U;return u.jsxs(Sn,{children:[u.jsx(Me,{children:R+1}),u.jsx(Me,{className:"font-medium",children:((_=w.userId)==null?void 0:_.name)||"N/A"}),u.jsx(Me,{children:((C=w.userId)==null?void 0:C.email)||"N/A"}),u.jsx(Me,{children:((I=w.userId)==null?void 0:I.mobile)||"N/A"}),u.jsx(Me,{children:((A=w.quizId)==null?void 0:A.title)||"Quiz not found"}),u.jsxs(Me,{className:"text-right",children:[u.jsx("span",{className:R===0?"text-yellow-500 font-bold":R===1?"text-gray-500 font-bold":R===2?"text-amber-700 font-bold":"font-bold",children:w.score||0})," ","/ ",((U=w.answers)==null?void 0:U.length)||0]}),u.jsx(Me,{children:w.certificate?u.jsx("img",{src:w.certificate,alt:"Certificate",className:"w-16 h-16 rounded-md object-cover"}):u.jsx(St,{variant:"outline",size:"sm",onClick:()=>{f(w._id),m(!0)},children:"Issue Certificate"})})]},w._id||R)})})]})}),u.jsx(Ol,{open:p,onOpenChange:m,children:u.jsxs(Oc,{children:[u.jsx(Pc,{children:u.jsx(Nc,{children:"Upload Certificate"})}),u.jsxs("form",{onSubmit:t(y),className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(bi,{htmlFor:"certificate",children:"Certificate File (JPG, PNG)"}),u.jsx(rn,{id:"certificate",type:"file",accept:"image/png, image/jpeg",...e("certificate",{required:!0})})]}),u.jsxs(OU,{children:[u.jsx(St,{type:"submit",disabled:a,children:a?"Uploading...":"Upload Certificate"}),u.jsx(St,{variant:"outline",onClick:()=>m(!1),disabled:a,children:"Cancel"})]})]})]})})]})},Tce=({children:e})=>yi.get("accessToken")?u.jsx(u.Fragment,{children:e}):u.jsx(PT,{to:"/login"}),Rce=()=>{const e=yi.get("accessToken");return u.jsxs(u.Fragment,{children:[u.jsx(lV,{children:u.jsxs(tV,{children:[u.jsx(Br,{path:"/checkout",element:u.jsx(zse,{})}),u.jsx(Br,{path:"/payment-status/:status",element:u.jsx(Vse,{})}),u.jsx(Br,{path:"/login",element:e?u.jsx(PT,{to:"/dashboard",replace:!0}):u.jsx(m7,{})}),u.jsxs(Br,{path:"/dashboard",element:u.jsx(Tce,{children:u.jsx(JK,{})}),children:[u.jsx(Br,{index:!0,element:u.jsx("div",{className:"page-transition",children:u.jsx(LZ,{})})}),u.jsx(Br,{path:"users",element:u.jsx(MJ,{})}),u.jsx(Br,{path:"userDetails/:id",element:u.jsx(Cae,{})}),u.jsx(Br,{path:"quiz",element:u.jsx(PZ,{})}),u.jsx(Br,{path:"payments",element:u.jsx(AZ,{})}),u.jsx(Br,{path:"transaction",element:u.jsx(Oae,{})}),u.jsx(Br,{path:"activity",element:u.jsx(jse,{})}),u.jsx(Br,{path:"standard",element:u.jsx(Ose,{})}),u.jsx(Br,{path:"subject",element:u.jsx(cae,{})}),u.jsx(Br,{path:"board",element:u.jsx(kse,{})}),u.jsx(Br,{path:"lesson",element:u.jsx(Gee,{})}),u.jsx(Br,{path:"course",element:u.jsx(Qee,{})}),u.jsx(Br,{path:"mentor",element:u.jsx(Qse,{})}),u.jsx(Br,{path:"offer",element:u.jsx(sae,{})}),u.jsx(Br,{path:"quiz-leader-board",element:u.jsx(Cce,{})}),u.jsx(Br,{path:"live/:liveId",element:u.jsx(Nae,{})}),u.jsx(Br,{path:"upcomingLive",element:u.jsx(Aae,{})})]}),u.jsx(Br,{path:"*",element:u.jsx(PT,{to:"/dashboard",replace:!0})})]})}),u.jsx(h8,{})]})},kce=xH({reducer:{auth:zH,activity:Ise,standard:bZ,subject:_Z,board:zee,course:Uee,quiz:TZ,lesson:BZ,user:tY,payment:jZ,mentore:Yse,offer:Zse,userDetail:xae,transaction:kae}}),Oce=new cz;VD(document.getElementById("root")).render(u.jsx(uz,{client:Oce,children:u.jsxs(u7,{store:kce,children:[u.jsx(Rce,{}),u.jsx(Ece,{})]})}))});export default Pce();
